import{a as re,b as Pe,c as bc,d as IS,e as Rd,f as Ja,g as N}from"./chunk-GAL4ENT6.js";var L4=IS((Jtt,Aee)=>{Aee.exports={name:"fwc-dashboard",version:"2.0.11",license:"MIT",scripts:{ng:"ng",start:"ng serve --proxy-config proxy.conf.json",build:"ng version && ng build --configuration production && node createDistVersionFile && node copyDistFiles",fresh_build_start:"clear && rm -rf node_modules package-lock.json build .angular && npm i && npm run build && npm run start",test:"ng test",lint:"ng lint","lint-fix":"ng lint --fix",e2e:"ng e2e"},private:!0,dependencies:{"@angular/animations":"^18.2.13","@angular/cdk":"^18.2.14","@angular/common":"^18.2.8","@angular/compiler":"^18.2.13","@angular/core":"^18.2.13","@angular/forms":"^18.2.13","@angular/platform-browser":"^18.2.13","@angular/platform-browser-dynamic":"^18.2.13","@angular/router":"^18.2.13","@fortawesome/fontawesome-free":"^6.7.1","@ngrx/effects":"^18.1.1","@ngrx/entity":"^18.1.1","@ngrx/store":"^18.1.1","@ngrx/store-devtools":"^18.1.1","@ngx-translate/core":"^16.0.3","chart.js":"^4.4.6","file-saver":"^2.0.5","flag-icons":"^7.2.3","ipaddr.js":"^2.2.0",nanoid:"^5.0.9","ngx-cookie-service":"^18.0.0","ngx-markdown":"^18.1.0","ngx-translate-multi-http-loader":"^18.2.0",openpgp:"^6.0.1",primeflex:"^3.3.1",primeicons:"^7.0.0",primeng:"^17.18.12",rxjs:"^7.8.1","socket.io-client":"^4.8.1","zone.js":"^0.14.10"},devDependencies:{"@angular-devkit/build-angular":"^18.2.12","@angular/cli":"^18.2.12","@angular/compiler-cli":"^18.2.13","@angular/language-service":"^18.2.13","@types/jest":"^29.5.14","@types/mocha":"^10.0.10","@types/node":"^22.10.0","angular-eslint":"18.4.2",eslint:"^9.15.0","fs-extra":"^11.2.0","ts-node":"^10.9.2",tslib:"^2.8.1",typescript:"^5.5.4","typescript-eslint":"8.11.0"}}});var ep=IS((qP,YP)=>{(function(i,n){typeof define=="function"&&define.amd?define([],n):typeof qP<"u"?n():(n(),i.FileSaver={})})(qP,function(){"use strict";function i(a,l){return typeof l>"u"?l={autoBom:!1}:typeof l!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),l={autoBom:!l}),l.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}function n(a,l,c){var d=new XMLHttpRequest;d.open("GET",a),d.responseType="blob",d.onload=function(){s(d.response,l,c)},d.onerror=function(){console.error("could not download file")},d.send()}function e(a){var l=new XMLHttpRequest;l.open("HEAD",a,!1);try{l.send()}catch{}return 200<=l.status&&299>=l.status}function t(a){try{a.dispatchEvent(new MouseEvent("click"))}catch{var l=document.createEvent("MouseEvents");l.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(l)}}var r=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:void 0,o=r.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),s=r.saveAs||(typeof window!="object"||window!==r?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(a,l,c){var d=r.URL||r.webkitURL,p=document.createElement("a");l=l||a.name||"download",p.download=l,p.rel="noopener",typeof a=="string"?(p.href=a,p.origin===location.origin?t(p):e(p.href)?n(a,l,c):t(p,p.target="_blank")):(p.href=d.createObjectURL(a),setTimeout(function(){d.revokeObjectURL(p.href)},4e4),setTimeout(function(){t(p)},0))}:"msSaveOrOpenBlob"in navigator?function(a,l,c){if(l=l||a.name||"download",typeof a!="string")navigator.msSaveOrOpenBlob(i(a,c),l);else if(e(a))n(a,l,c);else{var d=document.createElement("a");d.href=a,d.target="_blank",setTimeout(function(){t(d)})}}:function(a,l,c,d){if(d=d||open("","_blank"),d&&(d.document.title=d.document.body.innerText="downloading..."),typeof a=="string")return n(a,l,c);var p=a.type==="application/octet-stream",g=/constructor/i.test(r.HTMLElement)||r.safari,C=/CriOS\/[\d]+/.test(navigator.userAgent);if((C||p&&g||o)&&typeof FileReader<"u"){var y=new FileReader;y.onloadend=function(){var E=y.result;E=C?E:E.replace(/^data:[^;]*;/,"data:attachment/file;"),d?d.location.href=E:location=E,d=null},y.readAsDataURL(a)}else{var v=r.URL||r.webkitURL,w=v.createObjectURL(a);d?d.location=w:location.href=w,d=null,setTimeout(function(){v.revokeObjectURL(w)},4e4)}});r.saveAs=s.saveAs=s,typeof YP<"u"&&(YP.exports=s)})});var rC=IS((tz,tS)=>{(function(i){"use strict";let n="(0?\\d+|0x[a-f0-9]+)",e={fourOctet:new RegExp(`^${n}\\.${n}\\.${n}\\.${n}$`,"i"),threeOctet:new RegExp(`^${n}\\.${n}\\.${n}$`,"i"),twoOctet:new RegExp(`^${n}\\.${n}$`,"i"),longValue:new RegExp(`^${n}$`,"i")},t=new RegExp("^0[0-7]+$","i"),r=new RegExp("^0x[a-f0-9]+$","i"),o="%[0-9a-z]{1,}",s="(?:[0-9a-f]+::?)+",a={zoneIndex:new RegExp(o,"i"),native:new RegExp(`^(::)?(${s})?([0-9a-f]+)?(::)?(${o})?$`,"i"),deprecatedTransitional:new RegExp(`^(?:::)(${n}\\.${n}\\.${n}\\.${n}(${o})?)$`,"i"),transitional:new RegExp(`^((?:${s})|(?:::)(?:${s})?)${n}\\.${n}\\.${n}\\.${n}(${o})?$`,"i")};function l(C,y){if(C.indexOf("::")!==C.lastIndexOf("::"))return null;let v=0,w=-1,E=(C.match(a.zoneIndex)||[])[0],T,F;for(E&&(E=E.substring(1),C=C.replace(/%.+$/,""));(w=C.indexOf(":",w+1))>=0;)v++;if(C.substr(0,2)==="::"&&v--,C.substr(-2,2)==="::"&&v--,v>y)return null;for(F=y-v,T=":";F--;)T+="0:";return C=C.replace("::",T),C[0]===":"&&(C=C.slice(1)),C[C.length-1]===":"&&(C=C.slice(0,-1)),y=function(){let G=C.split(":"),z=[];for(let X=0;X<G.length;X++)z.push(parseInt(G[X],16));return z}(),{parts:y,zoneId:E}}function c(C,y,v,w){if(C.length!==y.length)throw new Error("ipaddr: cannot match CIDR for objects with different lengths");let E=0,T;for(;w>0;){if(T=v-w,T<0&&(T=0),C[E]>>T!==y[E]>>T)return!1;w-=v,E+=1}return!0}function d(C){if(r.test(C))return parseInt(C,16);if(C[0]==="0"&&!isNaN(parseInt(C[1],10))){if(t.test(C))return parseInt(C,8);throw new Error(`ipaddr: cannot parse ${C} as octal`)}return parseInt(C,10)}function p(C,y){for(;C.length<y;)C=`0${C}`;return C}let g={};g.IPv4=function(){function C(y){if(y.length!==4)throw new Error("ipaddr: ipv4 octet count should be 4");let v,w;for(v=0;v<y.length;v++)if(w=y[v],!(0<=w&&w<=255))throw new Error("ipaddr: ipv4 octet should fit in 8 bits");this.octets=y}return C.prototype.SpecialRanges={unspecified:[[new C([0,0,0,0]),8]],broadcast:[[new C([255,255,255,255]),32]],multicast:[[new C([224,0,0,0]),4]],linkLocal:[[new C([169,254,0,0]),16]],loopback:[[new C([127,0,0,0]),8]],carrierGradeNat:[[new C([100,64,0,0]),10]],private:[[new C([10,0,0,0]),8],[new C([172,16,0,0]),12],[new C([192,168,0,0]),16]],reserved:[[new C([192,0,0,0]),24],[new C([192,0,2,0]),24],[new C([192,88,99,0]),24],[new C([198,18,0,0]),15],[new C([198,51,100,0]),24],[new C([203,0,113,0]),24],[new C([240,0,0,0]),4]],as112:[[new C([192,175,48,0]),24],[new C([192,31,196,0]),24]],amt:[[new C([192,52,193,0]),24]]},C.prototype.kind=function(){return"ipv4"},C.prototype.match=function(y,v){let w;if(v===void 0&&(w=y,y=w[0],v=w[1]),y.kind()!=="ipv4")throw new Error("ipaddr: cannot match ipv4 address with non-ipv4 one");return c(this.octets,y.octets,8,v)},C.prototype.prefixLengthFromSubnetMask=function(){let y=0,v=!1,w={0:8,128:7,192:6,224:5,240:4,248:3,252:2,254:1,255:0},E,T,F;for(E=3;E>=0;E-=1)if(T=this.octets[E],T in w){if(F=w[T],v&&F!==0)return null;F!==8&&(v=!0),y+=F}else return null;return 32-y},C.prototype.range=function(){return g.subnetMatch(this,this.SpecialRanges)},C.prototype.toByteArray=function(){return this.octets.slice(0)},C.prototype.toIPv4MappedAddress=function(){return g.IPv6.parse(`::ffff:${this.toString()}`)},C.prototype.toNormalizedString=function(){return this.toString()},C.prototype.toString=function(){return this.octets.join(".")},C}(),g.IPv4.broadcastAddressFromCIDR=function(C){try{let y=this.parseCIDR(C),v=y[0].toByteArray(),w=this.subnetMaskFromPrefixLength(y[1]).toByteArray(),E=[],T=0;for(;T<4;)E.push(parseInt(v[T],10)|parseInt(w[T],10)^255),T++;return new this(E)}catch{throw new Error("ipaddr: the address does not have IPv4 CIDR format")}},g.IPv4.isIPv4=function(C){return this.parser(C)!==null},g.IPv4.isValid=function(C){try{return new this(this.parser(C)),!0}catch{return!1}},g.IPv4.isValidCIDR=function(C){try{return this.parseCIDR(C),!0}catch{return!1}},g.IPv4.isValidFourPartDecimal=function(C){return!!(g.IPv4.isValid(C)&&C.match(/^(0|[1-9]\d*)(\.(0|[1-9]\d*)){3}$/))},g.IPv4.networkAddressFromCIDR=function(C){let y,v,w,E,T;try{for(y=this.parseCIDR(C),w=y[0].toByteArray(),T=this.subnetMaskFromPrefixLength(y[1]).toByteArray(),E=[],v=0;v<4;)E.push(parseInt(w[v],10)&parseInt(T[v],10)),v++;return new this(E)}catch{throw new Error("ipaddr: the address does not have IPv4 CIDR format")}},g.IPv4.parse=function(C){let y=this.parser(C);if(y===null)throw new Error("ipaddr: string is not formatted like an IPv4 Address");return new this(y)},g.IPv4.parseCIDR=function(C){let y;if(y=C.match(/^(.+)\/(\d+)$/)){let v=parseInt(y[2]);if(v>=0&&v<=32){let w=[this.parse(y[1]),v];return Object.defineProperty(w,"toString",{value:function(){return this.join("/")}}),w}}throw new Error("ipaddr: string is not formatted like an IPv4 CIDR range")},g.IPv4.parser=function(C){let y,v,w;if(y=C.match(e.fourOctet))return function(){let E=y.slice(1,6),T=[];for(let F=0;F<E.length;F++)v=E[F],T.push(d(v));return T}();if(y=C.match(e.longValue)){if(w=d(y[1]),w>4294967295||w<0)throw new Error("ipaddr: address outside defined range");return function(){let E=[],T;for(T=0;T<=24;T+=8)E.push(w>>T&255);return E}().reverse()}else return(y=C.match(e.twoOctet))?function(){let E=y.slice(1,4),T=[];if(w=d(E[1]),w>16777215||w<0)throw new Error("ipaddr: address outside defined range");return T.push(d(E[0])),T.push(w>>16&255),T.push(w>>8&255),T.push(w&255),T}():(y=C.match(e.threeOctet))?function(){let E=y.slice(1,5),T=[];if(w=d(E[2]),w>65535||w<0)throw new Error("ipaddr: address outside defined range");return T.push(d(E[0])),T.push(d(E[1])),T.push(w>>8&255),T.push(w&255),T}():null},g.IPv4.subnetMaskFromPrefixLength=function(C){if(C=parseInt(C),C<0||C>32)throw new Error("ipaddr: invalid IPv4 prefix length");let y=[0,0,0,0],v=0,w=Math.floor(C/8);for(;v<w;)y[v]=255,v++;return w<4&&(y[w]=Math.pow(2,C%8)-1<<8-C%8),new this(y)},g.IPv6=function(){function C(y,v){let w,E;if(y.length===16)for(this.parts=[],w=0;w<=14;w+=2)this.parts.push(y[w]<<8|y[w+1]);else if(y.length===8)this.parts=y;else throw new Error("ipaddr: ipv6 part count should be 8 or 16");for(w=0;w<this.parts.length;w++)if(E=this.parts[w],!(0<=E&&E<=65535))throw new Error("ipaddr: ipv6 part should fit in 16 bits");v&&(this.zoneId=v)}return C.prototype.SpecialRanges={unspecified:[new C([0,0,0,0,0,0,0,0]),128],linkLocal:[new C([65152,0,0,0,0,0,0,0]),10],multicast:[new C([65280,0,0,0,0,0,0,0]),8],loopback:[new C([0,0,0,0,0,0,0,1]),128],uniqueLocal:[new C([64512,0,0,0,0,0,0,0]),7],ipv4Mapped:[new C([0,0,0,0,0,65535,0,0]),96],discard:[new C([256,0,0,0,0,0,0,0]),64],rfc6145:[new C([0,0,0,0,65535,0,0,0]),96],rfc6052:[new C([100,65435,0,0,0,0,0,0]),96],"6to4":[new C([8194,0,0,0,0,0,0,0]),16],teredo:[new C([8193,0,0,0,0,0,0,0]),32],benchmarking:[new C([8193,2,0,0,0,0,0,0]),48],amt:[new C([8193,3,0,0,0,0,0,0]),32],as112v6:[[new C([8193,4,274,0,0,0,0,0]),48],[new C([9760,79,32768,0,0,0,0,0]),48]],deprecated:[new C([8193,16,0,0,0,0,0,0]),28],orchid2:[new C([8193,32,0,0,0,0,0,0]),28],droneRemoteIdProtocolEntityTags:[new C([8193,48,0,0,0,0,0,0]),28],reserved:[[new C([8193,0,0,0,0,0,0,0]),23],[new C([8193,3512,0,0,0,0,0,0]),32]]},C.prototype.isIPv4MappedAddress=function(){return this.range()==="ipv4Mapped"},C.prototype.kind=function(){return"ipv6"},C.prototype.match=function(y,v){let w;if(v===void 0&&(w=y,y=w[0],v=w[1]),y.kind()!=="ipv6")throw new Error("ipaddr: cannot match ipv6 address with non-ipv6 one");return c(this.parts,y.parts,16,v)},C.prototype.prefixLengthFromSubnetMask=function(){let y=0,v=!1,w={0:16,32768:15,49152:14,57344:13,61440:12,63488:11,64512:10,65024:9,65280:8,65408:7,65472:6,65504:5,65520:4,65528:3,65532:2,65534:1,65535:0},E,T;for(let F=7;F>=0;F-=1)if(E=this.parts[F],E in w){if(T=w[E],v&&T!==0)return null;T!==16&&(v=!0),y+=T}else return null;return 128-y},C.prototype.range=function(){return g.subnetMatch(this,this.SpecialRanges)},C.prototype.toByteArray=function(){let y,v=[],w=this.parts;for(let E=0;E<w.length;E++)y=w[E],v.push(y>>8),v.push(y&255);return v},C.prototype.toFixedLengthString=function(){let y=function(){let w=[];for(let E=0;E<this.parts.length;E++)w.push(p(this.parts[E].toString(16),4));return w}.call(this).join(":"),v="";return this.zoneId&&(v=`%${this.zoneId}`),y+v},C.prototype.toIPv4Address=function(){if(!this.isIPv4MappedAddress())throw new Error("ipaddr: trying to convert a generic ipv6 address to ipv4");let y=this.parts.slice(-2),v=y[0],w=y[1];return new g.IPv4([v>>8,v&255,w>>8,w&255])},C.prototype.toNormalizedString=function(){let y=function(){let w=[];for(let E=0;E<this.parts.length;E++)w.push(this.parts[E].toString(16));return w}.call(this).join(":"),v="";return this.zoneId&&(v=`%${this.zoneId}`),y+v},C.prototype.toRFC5952String=function(){let y=/((^|:)(0(:|$)){2,})/g,v=this.toNormalizedString(),w=0,E=-1,T;for(;T=y.exec(v);)T[0].length>E&&(w=T.index,E=T[0].length);return E<0?v:`${v.substring(0,w)}::${v.substring(w+E)}`},C.prototype.toString=function(){return this.toRFC5952String()},C}(),g.IPv6.broadcastAddressFromCIDR=function(C){try{let y=this.parseCIDR(C),v=y[0].toByteArray(),w=this.subnetMaskFromPrefixLength(y[1]).toByteArray(),E=[],T=0;for(;T<16;)E.push(parseInt(v[T],10)|parseInt(w[T],10)^255),T++;return new this(E)}catch(y){throw new Error(`ipaddr: the address does not have IPv6 CIDR format (${y})`)}},g.IPv6.isIPv6=function(C){return this.parser(C)!==null},g.IPv6.isValid=function(C){if(typeof C=="string"&&C.indexOf(":")===-1)return!1;try{let y=this.parser(C);return new this(y.parts,y.zoneId),!0}catch{return!1}},g.IPv6.isValidCIDR=function(C){if(typeof C=="string"&&C.indexOf(":")===-1)return!1;try{return this.parseCIDR(C),!0}catch{return!1}},g.IPv6.networkAddressFromCIDR=function(C){let y,v,w,E,T;try{for(y=this.parseCIDR(C),w=y[0].toByteArray(),T=this.subnetMaskFromPrefixLength(y[1]).toByteArray(),E=[],v=0;v<16;)E.push(parseInt(w[v],10)&parseInt(T[v],10)),v++;return new this(E)}catch(F){throw new Error(`ipaddr: the address does not have IPv6 CIDR format (${F})`)}},g.IPv6.parse=function(C){let y=this.parser(C);if(y.parts===null)throw new Error("ipaddr: string is not formatted like an IPv6 Address");return new this(y.parts,y.zoneId)},g.IPv6.parseCIDR=function(C){let y,v,w;if((v=C.match(/^(.+)\/(\d+)$/))&&(y=parseInt(v[2]),y>=0&&y<=128))return w=[this.parse(v[1]),y],Object.defineProperty(w,"toString",{value:function(){return this.join("/")}}),w;throw new Error("ipaddr: string is not formatted like an IPv6 CIDR range")},g.IPv6.parser=function(C){let y,v,w,E,T,F;if(w=C.match(a.deprecatedTransitional))return this.parser(`::ffff:${w[1]}`);if(a.native.test(C))return l(C,8);if((w=C.match(a.transitional))&&(F=w[6]||"",y=w[1],w[1].endsWith("::")||(y=y.slice(0,-1)),y=l(y+F,6),y.parts)){for(T=[parseInt(w[2]),parseInt(w[3]),parseInt(w[4]),parseInt(w[5])],v=0;v<T.length;v++)if(E=T[v],!(0<=E&&E<=255))return null;return y.parts.push(T[0]<<8|T[1]),y.parts.push(T[2]<<8|T[3]),{parts:y.parts,zoneId:y.zoneId}}return null},g.IPv6.subnetMaskFromPrefixLength=function(C){if(C=parseInt(C),C<0||C>128)throw new Error("ipaddr: invalid IPv6 prefix length");let y=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],v=0,w=Math.floor(C/8);for(;v<w;)y[v]=255,v++;return w<16&&(y[w]=Math.pow(2,C%8)-1<<8-C%8),new this(y)},g.fromByteArray=function(C){let y=C.length;if(y===4)return new g.IPv4(C);if(y===16)return new g.IPv6(C);throw new Error("ipaddr: the binary input is neither an IPv6 nor IPv4 address")},g.isValid=function(C){return g.IPv6.isValid(C)||g.IPv4.isValid(C)},g.isValidCIDR=function(C){return g.IPv6.isValidCIDR(C)||g.IPv4.isValidCIDR(C)},g.parse=function(C){if(g.IPv6.isValid(C))return g.IPv6.parse(C);if(g.IPv4.isValid(C))return g.IPv4.parse(C);throw new Error("ipaddr: the address has neither IPv6 nor IPv4 format")},g.parseCIDR=function(C){try{return g.IPv6.parseCIDR(C)}catch{try{return g.IPv4.parseCIDR(C)}catch{throw new Error("ipaddr: the address has neither IPv6 nor IPv4 CIDR format")}}},g.process=function(C){let y=this.parse(C);return y.kind()==="ipv6"&&y.isIPv4MappedAddress()?y.toIPv4Address():y},g.subnetMatch=function(C,y,v){let w,E,T,F;v==null&&(v="unicast");for(E in y)if(Object.prototype.hasOwnProperty.call(y,E)){for(T=y[E],T[0]&&!(T[0]instanceof Array)&&(T=[T]),w=0;w<T.length;w++)if(F=T[w],C.kind()===F[0].kind()&&C.match.apply(C,F))return E}return v},typeof tS<"u"&&tS.exports?tS.exports=g:i.ipaddr=g})(tz)});function Ok(i,n){return Object.is(i,n)}var ao=null,eg=!1,mC=1,Xa=Symbol("SIGNAL");function Zi(i){let n=ao;return ao=i,n}function Dk(){return ao}function uW(){return eg}var Ch={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function _C(i){if(eg)throw new Error("");if(ao===null)return;ao.consumerOnSignalRead(i);let n=ao.nextProducerIndex++;if(bC(ao),n<ao.producerNode.length&&ao.producerNode[n]!==i&&tg(ao)){let e=ao.producerNode[n];vC(e,ao.producerIndexOfThis[n])}ao.producerNode[n]!==i&&(ao.producerNode[n]=i,ao.producerIndexOfThis[n]=tg(ao)?Lk(i,ao,n):0),ao.producerLastReadVersion[n]=i.version}function pW(){mC++}function Rk(i){if(!(tg(i)&&!i.dirty)&&!(!i.dirty&&i.lastCleanEpoch===mC)){if(!i.producerMustRecompute(i)&&!yC(i)){i.dirty=!1,i.lastCleanEpoch=mC;return}i.producerRecomputeValue(i),i.dirty=!1,i.lastCleanEpoch=mC}}function Pk(i){if(i.liveConsumerNode===void 0)return;let n=eg;eg=!0;try{for(let e of i.liveConsumerNode)e.dirty||Fk(e)}finally{eg=n}}function kk(){return ao?.consumerAllowSignalWrites!==!1}function Fk(i){i.dirty=!0,Pk(i),i.consumerMarkedDirty?.(i)}function ig(i){return i&&(i.nextProducerIndex=0),Zi(i)}function CC(i,n){if(Zi(n),!(!i||i.producerNode===void 0||i.producerIndexOfThis===void 0||i.producerLastReadVersion===void 0)){if(tg(i))for(let e=i.nextProducerIndex;e<i.producerNode.length;e++)vC(i.producerNode[e],i.producerIndexOfThis[e]);for(;i.producerNode.length>i.nextProducerIndex;)i.producerNode.pop(),i.producerLastReadVersion.pop(),i.producerIndexOfThis.pop()}}function yC(i){bC(i);for(let n=0;n<i.producerNode.length;n++){let e=i.producerNode[n],t=i.producerLastReadVersion[n];if(t!==e.version||(Rk(e),t!==e.version))return!0}return!1}function IC(i){if(bC(i),tg(i))for(let n=0;n<i.producerNode.length;n++)vC(i.producerNode[n],i.producerIndexOfThis[n]);i.producerNode.length=i.producerLastReadVersion.length=i.producerIndexOfThis.length=0,i.liveConsumerNode&&(i.liveConsumerNode.length=i.liveConsumerIndexOfThis.length=0)}function Lk(i,n,e){if(Mk(i),i.liveConsumerNode.length===0&&Nk(i))for(let t=0;t<i.producerNode.length;t++)i.producerIndexOfThis[t]=Lk(i.producerNode[t],i,t);return i.liveConsumerIndexOfThis.push(e),i.liveConsumerNode.push(n)-1}function vC(i,n){if(Mk(i),i.liveConsumerNode.length===1&&Nk(i))for(let t=0;t<i.producerNode.length;t++)vC(i.producerNode[t],i.producerIndexOfThis[t]);let e=i.liveConsumerNode.length-1;if(i.liveConsumerNode[n]=i.liveConsumerNode[e],i.liveConsumerIndexOfThis[n]=i.liveConsumerIndexOfThis[e],i.liveConsumerNode.length--,i.liveConsumerIndexOfThis.length--,n<i.liveConsumerNode.length){let t=i.liveConsumerIndexOfThis[n],r=i.liveConsumerNode[n];bC(r),r.producerIndexOfThis[t]=n}}function tg(i){return i.consumerIsAlwaysLive||(i?.liveConsumerNode?.length??0)>0}function bC(i){i.producerNode??=[],i.producerIndexOfThis??=[],i.producerLastReadVersion??=[]}function Mk(i){i.liveConsumerNode??=[],i.liveConsumerIndexOfThis??=[]}function Nk(i){return i.producerNode!==void 0}function Vk(i){let n=Object.create(hW);n.computation=i;let e=()=>{if(Rk(n),_C(n),n.value===gC)throw n.error;return n.value};return e[Xa]=n,e}var vS=Symbol("UNSET"),bS=Symbol("COMPUTING"),gC=Symbol("ERRORED"),hW=Pe(re({},Ch),{value:vS,dirty:!0,error:null,equal:Ok,producerMustRecompute(i){return i.value===vS||i.value===bS},producerRecomputeValue(i){if(i.value===bS)throw new Error("Detected cycle in computations.");let n=i.value;i.value=bS;let e=ig(i),t;try{t=i.computation()}catch(r){t=gC,i.error=r}finally{CC(i,e)}if(n!==vS&&n!==gC&&t!==gC&&i.equal(n,t)){i.value=n;return}i.value=t,i.version++}});function fW(){throw new Error}var Bk=fW;function Uk(){Bk()}function jk(i){Bk=i}var mW=null;function Hk(i){let n=Object.create(SS);n.value=i;let e=()=>(_C(n),n.value);return e[Xa]=n,e}function wC(i,n){kk()||Uk(),i.equal(i.value,n)||(i.value=n,gW(i))}function Gk(i,n){kk()||Uk(),wC(i,n(i.value))}var SS=Pe(re({},Ch),{equal:Ok,value:void 0});function gW(i){i.version++,pW(),Pk(i),mW?.()}function zk(i,n,e){let t=Object.create(_W);e&&(t.consumerAllowSignalWrites=!0),t.fn=i,t.schedule=n;let r=l=>{t.cleanupFn=l};function o(l){return l.fn===null&&l.schedule===null}function s(l){o(l)||(IC(l),l.cleanupFn(),l.fn=null,l.schedule=null,l.cleanupFn=wS)}let a=()=>{if(t.fn===null)return;if(uW())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(t.dirty=!1,t.hasRun&&!yC(t))return;t.hasRun=!0;let l=ig(t);try{t.cleanupFn(),t.cleanupFn=wS,t.fn(r)}finally{CC(t,l)}};return t.ref={notify:()=>Fk(t),run:a,cleanup:()=>t.cleanupFn(),destroy:()=>s(t),[Xa]:t},t.ref}var wS=()=>{},_W=Pe(re({},Ch),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:i=>{i.schedule!==null&&i.schedule(i.ref)},hasRun:!1,cleanupFn:wS});function Ii(i){return typeof i=="function"}function Pd(i){let e=i(t=>{Error.call(t),t.stack=new Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var SC=Pd(i=>function(e){i(this),this.message=e?`${e.length} errors occurred during unsubscription:
${e.map((t,r)=>`${r+1}) ${t.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=e});function op(i,n){if(i){let e=i.indexOf(n);0<=e&&i.splice(e,1)}}var Pr=class i{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;let{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(let o of e)o.remove(this);else e.remove(this);let{initialTeardown:t}=this;if(Ii(t))try{t()}catch(o){n=o instanceof SC?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{Wk(o)}catch(s){n=n??[],s instanceof SC?n=[...n,...s.errors]:n.push(s)}}if(n)throw new SC(n)}}add(n){var e;if(n&&n!==this)if(this.closed)Wk(n);else{if(n instanceof i){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(n)}}_hasParent(n){let{_parentage:e}=this;return e===n||Array.isArray(e)&&e.includes(n)}_addParent(n){let{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n}_removeParent(n){let{_parentage:e}=this;e===n?this._parentage=null:Array.isArray(e)&&op(e,n)}remove(n){let{_finalizers:e}=this;e&&op(e,n),n instanceof i&&n._removeParent(this)}};Pr.EMPTY=(()=>{let i=new Pr;return i.closed=!0,i})();var AS=Pr.EMPTY;function AC(i){return i instanceof Pr||i&&"closed"in i&&Ii(i.remove)&&Ii(i.add)&&Ii(i.unsubscribe)}function Wk(i){Ii(i)?i():i.unsubscribe()}var Qa={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var yh={setTimeout(i,n,...e){let{delegate:t}=yh;return t?.setTimeout?t.setTimeout(i,n,...e):setTimeout(i,n,...e)},clearTimeout(i){let{delegate:n}=yh;return(n?.clearTimeout||clearTimeout)(i)},delegate:void 0};function EC(i){yh.setTimeout(()=>{let{onUnhandledError:n}=Qa;if(n)n(i);else throw i})}function Za(){}var Kk=ES("C",void 0,void 0);function $k(i){return ES("E",void 0,i)}function qk(i){return ES("N",i,void 0)}function ES(i,n,e){return{kind:i,value:n,error:e}}var sp=null;function Ih(i){if(Qa.useDeprecatedSynchronousErrorHandling){let n=!sp;if(n&&(sp={errorThrown:!1,error:null}),i(),n){let{errorThrown:e,error:t}=sp;if(sp=null,e)throw t}}else i()}function Yk(i){Qa.useDeprecatedSynchronousErrorHandling&&sp&&(sp.errorThrown=!0,sp.error=i)}var ap=class extends Pr{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,AC(n)&&n.add(this)):this.destination=IW}static create(n,e,t){return new el(n,e,t)}next(n){this.isStopped?TS(qk(n),this):this._next(n)}error(n){this.isStopped?TS($k(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?TS(Kk,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},CW=Function.prototype.bind;function xS(i,n){return CW.call(i,n)}var OS=class{constructor(n){this.partialObserver=n}next(n){let{partialObserver:e}=this;if(e.next)try{e.next(n)}catch(t){xC(t)}}error(n){let{partialObserver:e}=this;if(e.error)try{e.error(n)}catch(t){xC(t)}else xC(n)}complete(){let{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(e){xC(e)}}},el=class extends ap{constructor(n,e,t){super();let r;if(Ii(n)||!n)r={next:n??void 0,error:e??void 0,complete:t??void 0};else{let o;this&&Qa.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),r={next:n.next&&xS(n.next,o),error:n.error&&xS(n.error,o),complete:n.complete&&xS(n.complete,o)}):r=n}this.destination=new OS(r)}};function xC(i){Qa.useDeprecatedSynchronousErrorHandling?Yk(i):EC(i)}function yW(i){throw i}function TS(i,n){let{onStoppedNotification:e}=Qa;e&&yh.setTimeout(()=>e(i,n))}var IW={closed:!0,next:Za,error:yW,complete:Za};var vh=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Mo(i){return i}function DS(...i){return RS(i)}function RS(i){return i.length===0?Mo:i.length===1?i[0]:function(e){return i.reduce((t,r)=>r(t),e)}}var gi=(()=>{class i{constructor(e){e&&(this._subscribe=e)}lift(e){let t=new i;return t.source=this,t.operator=e,t}subscribe(e,t,r){let o=bW(e)?e:new el(e,t,r);return Ih(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(t){e.error(t)}}forEach(e,t){return t=Jk(t),new t((r,o)=>{let s=new el({next:a=>{try{e(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(e){var t;return(t=this.source)===null||t===void 0?void 0:t.subscribe(e)}[vh](){return this}pipe(...e){return RS(e)(this)}toPromise(e){return e=Jk(e),new e((t,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>t(o))})}}return i.create=n=>new i(n),i})();function Jk(i){var n;return(n=i??Qa.Promise)!==null&&n!==void 0?n:Promise}function vW(i){return i&&Ii(i.next)&&Ii(i.error)&&Ii(i.complete)}function bW(i){return i&&i instanceof ap||vW(i)&&AC(i)}function PS(i){return Ii(i?.lift)}function Ut(i){return n=>{if(PS(n))return n.lift(function(e){try{return i(e,this)}catch(t){this.error(t)}});throw new TypeError("Unable to lift unknown Observable type")}}function Tt(i,n,e,t,r){return new ng(i,n,e,t,r)}var ng=class extends ap{constructor(n,e,t,r,o,s){super(n),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(l){n.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=t?function(){try{t()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:e}=this;super.unsubscribe(),!e&&((n=this.onFinalize)===null||n===void 0||n.call(this))}}};function bh(){return Ut((i,n)=>{let e=null;i._refCount++;let t=Tt(n,void 0,void 0,void 0,()=>{if(!i||i._refCount<=0||0<--i._refCount){e=null;return}let r=i._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),n.unsubscribe()});i.subscribe(t),t.closed||(e=i.connect())})}var wh=class extends gi{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,PS(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){let n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new Pr;let e=this.getSubject();n.add(this.source.subscribe(Tt(e,void 0,()=>{this._teardown(),e.complete()},t=>{this._teardown(),e.error(t)},()=>this._teardown()))),n.closed&&(this._connection=null,n=Pr.EMPTY)}return n}refCount(){return bh()(this)}};var Xk=Pd(i=>function(){i(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Re=(()=>{class i extends gi{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){let t=new TC(this,this);return t.operator=e,t}_throwIfClosed(){if(this.closed)throw new Xk}next(e){Ih(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let t of this.currentObservers)t.next(e)}})}error(e){Ih(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;let{observers:t}=this;for(;t.length;)t.shift().error(e)}})}complete(){Ih(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){let{hasError:t,isStopped:r,observers:o}=this;return t||r?AS:(this.currentObservers=null,o.push(e),new Pr(()=>{this.currentObservers=null,op(o,e)}))}_checkFinalizedStatuses(e){let{hasError:t,thrownError:r,isStopped:o}=this;t?e.error(r):o&&e.complete()}asObservable(){let e=new gi;return e.source=this,e}}return i.create=(n,e)=>new TC(n,e),i})(),TC=class extends Re{constructor(n,e){super(),this.destination=n,this.source=e}next(n){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.next)===null||t===void 0||t.call(e,n)}error(n){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.error)===null||t===void 0||t.call(e,n)}complete(){var n,e;(e=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||e===void 0||e.call(n)}_subscribe(n){var e,t;return(t=(e=this.source)===null||e===void 0?void 0:e.subscribe(n))!==null&&t!==void 0?t:AS}};var Cn=class extends Re{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){let e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){let{hasError:n,thrownError:e,_value:t}=this;if(n)throw e;return this._throwIfClosed(),t}next(n){super.next(this._value=n)}};var rg={now(){return(rg.delegate||Date).now()},delegate:void 0};var og=class extends Re{constructor(n=1/0,e=1/0,t=rg){super(),this._bufferSize=n,this._windowTime=e,this._timestampProvider=t,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,e)}next(n){let{isStopped:e,_buffer:t,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;e||(t.push(n),!r&&t.push(o.now()+s)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();let e=this._innerSubscribe(n),{_infiniteTimeWindow:t,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!n.closed;s+=t?1:2)n.next(o[s]);return this._checkFinalizedStatuses(n),e}_trimBuffer(){let{_bufferSize:n,_timestampProvider:e,_buffer:t,_infiniteTimeWindow:r}=this,o=(r?1:2)*n;if(n<1/0&&o<t.length&&t.splice(0,t.length-o),!r){let s=e.now(),a=0;for(let l=1;l<t.length&&t[l]<=s;l+=2)a=l;a&&t.splice(0,a+1)}}};var OC=class extends Pr{constructor(n,e){super()}schedule(n,e=0){return this}};var sg={setInterval(i,n,...e){let{delegate:t}=sg;return t?.setInterval?t.setInterval(i,n,...e):setInterval(i,n,...e)},clearInterval(i){let{delegate:n}=sg;return(n?.clearInterval||clearInterval)(i)},delegate:void 0};var Sh=class extends OC{constructor(n,e){super(n,e),this.scheduler=n,this.work=e,this.pending=!1}schedule(n,e=0){var t;if(this.closed)return this;this.state=n;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,e)),this.pending=!0,this.delay=e,this.id=(t=this.id)!==null&&t!==void 0?t:this.requestAsyncId(o,this.id,e),this}requestAsyncId(n,e,t=0){return sg.setInterval(n.flush.bind(n,this),t)}recycleAsyncId(n,e,t=0){if(t!=null&&this.delay===t&&this.pending===!1)return e;e!=null&&sg.clearInterval(e)}execute(n,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let t=this._execute(n,e);if(t)return t;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,e){let t=!1,r;try{this.work(n)}catch(o){t=!0,r=o||new Error("Scheduled action threw falsy error")}if(t)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:n,scheduler:e}=this,{actions:t}=e;this.work=this.state=this.scheduler=null,this.pending=!1,op(t,this),n!=null&&(this.id=this.recycleAsyncId(e,n,null)),this.delay=null,super.unsubscribe()}}};var Ah=class i{constructor(n,e=i.now){this.schedulerActionCtor=n,this.now=e}schedule(n,e=0,t){return new this.schedulerActionCtor(this,n).schedule(t,e)}};Ah.now=rg.now;var Eh=class extends Ah{constructor(n,e=Ah.now){super(n,e),this.actions=[],this._active=!1}flush(n){let{actions:e}=this;if(this._active){e.push(n);return}let t;this._active=!0;do if(t=n.execute(n.state,n.delay))break;while(n=e.shift());if(this._active=!1,t){for(;n=e.shift();)n.unsubscribe();throw t}}};var tl=new Eh(Sh),Qk=tl;var DC=class extends Sh{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}schedule(n,e=0){return e>0?super.schedule(n,e):(this.delay=e,this.state=n,this.scheduler.flush(this),this)}execute(n,e){return e>0||this.closed?super.execute(n,e):this._execute(n,e)}requestAsyncId(n,e,t=0){return t!=null&&t>0||t==null&&this.delay>0?super.requestAsyncId(n,e,t):(n.flush(this),0)}};var RC=class extends Eh{};var kS=new RC(DC);var lo=new gi(i=>i.complete());function PC(i){return i&&Ii(i.schedule)}function FS(i){return i[i.length-1]}function kd(i){return Ii(FS(i))?i.pop():void 0}function Rl(i){return PC(FS(i))?i.pop():void 0}function Zk(i,n){return typeof FS(i)=="number"?i.pop():n}function tF(i,n,e,t){function r(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(d){try{c(t.next(d))}catch(p){s(p)}}function l(d){try{c(t.throw(d))}catch(p){s(p)}}function c(d){d.done?o(d.value):r(d.value).then(a,l)}c((t=t.apply(i,n||[])).next())})}function eF(i){var n=typeof Symbol=="function"&&Symbol.iterator,e=n&&i[n],t=0;if(e)return e.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&t>=i.length&&(i=void 0),{value:i&&i[t++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function lp(i){return this instanceof lp?(this.v=i,this):new lp(i)}function iF(i,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e.apply(i,n||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(C){return function(y){return Promise.resolve(y).then(C,p)}}function a(C,y){t[C]&&(r[C]=function(v){return new Promise(function(w,E){o.push([C,v,w,E])>1||l(C,v)})},y&&(r[C]=y(r[C])))}function l(C,y){try{c(t[C](y))}catch(v){g(o[0][3],v)}}function c(C){C.value instanceof lp?Promise.resolve(C.value.v).then(d,p):g(o[0][2],C)}function d(C){l("next",C)}function p(C){l("throw",C)}function g(C,y){C(y),o.shift(),o.length&&l(o[0][0],o[0][1])}}function nF(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=i[Symbol.asyncIterator],e;return n?n.call(i):(i=typeof eF=="function"?eF(i):i[Symbol.iterator](),e={},t("next"),t("throw"),t("return"),e[Symbol.asyncIterator]=function(){return this},e);function t(o){e[o]=i[o]&&function(s){return new Promise(function(a,l){s=i[o](s),r(a,l,s.done,s.value)})}}function r(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}var kC=i=>i&&typeof i.length=="number"&&typeof i!="function";function FC(i){return Ii(i?.then)}function LC(i){return Ii(i[vh])}function MC(i){return Symbol.asyncIterator&&Ii(i?.[Symbol.asyncIterator])}function NC(i){return new TypeError(`You provided ${i!==null&&typeof i=="object"?"an invalid object":`'${i}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function wW(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var VC=wW();function BC(i){return Ii(i?.[VC])}function UC(i){return iF(this,arguments,function*(){let e=i.getReader();try{for(;;){let{value:t,done:r}=yield lp(e.read());if(r)return yield lp(void 0);yield yield lp(t)}}finally{e.releaseLock()}})}function jC(i){return Ii(i?.getReader)}function ki(i){if(i instanceof gi)return i;if(i!=null){if(LC(i))return SW(i);if(kC(i))return AW(i);if(FC(i))return EW(i);if(MC(i))return rF(i);if(BC(i))return xW(i);if(jC(i))return TW(i)}throw NC(i)}function SW(i){return new gi(n=>{let e=i[vh]();if(Ii(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function AW(i){return new gi(n=>{for(let e=0;e<i.length&&!n.closed;e++)n.next(i[e]);n.complete()})}function EW(i){return new gi(n=>{i.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,EC)})}function xW(i){return new gi(n=>{for(let e of i)if(n.next(e),n.closed)return;n.complete()})}function rF(i){return new gi(n=>{OW(i,n).catch(e=>n.error(e))})}function TW(i){return rF(UC(i))}function OW(i,n){var e,t,r,o;return tF(this,void 0,void 0,function*(){try{for(e=nF(i);t=yield e.next(),!t.done;){let s=t.value;if(n.next(s),n.closed)return}}catch(s){r={error:s}}finally{try{t&&!t.done&&(o=e.return)&&(yield o.call(e))}finally{if(r)throw r.error}}n.complete()})}function Xo(i,n,e,t=0,r=!1){let o=n.schedule(function(){e(),r?i.add(this.schedule(null,t)):this.unsubscribe()},t);if(i.add(o),!r)return o}function cp(i,n=0){return Ut((e,t)=>{e.subscribe(Tt(t,r=>Xo(t,i,()=>t.next(r),n),()=>Xo(t,i,()=>t.complete(),n),r=>Xo(t,i,()=>t.error(r),n)))})}function HC(i,n=0){return Ut((e,t)=>{t.add(i.schedule(()=>e.subscribe(t),n))})}function oF(i,n){return ki(i).pipe(HC(n),cp(n))}function sF(i,n){return ki(i).pipe(HC(n),cp(n))}function aF(i,n){return new gi(e=>{let t=0;return n.schedule(function(){t===i.length?e.complete():(e.next(i[t++]),e.closed||this.schedule())})})}function lF(i,n){return new gi(e=>{let t;return Xo(e,n,()=>{t=i[VC](),Xo(e,n,()=>{let r,o;try{({value:r,done:o}=t.next())}catch(s){e.error(s);return}o?e.complete():e.next(r)},0,!0)}),()=>Ii(t?.return)&&t.return()})}function GC(i,n){if(!i)throw new Error("Iterable cannot be null");return new gi(e=>{Xo(e,n,()=>{let t=i[Symbol.asyncIterator]();Xo(e,n,()=>{t.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function cF(i,n){return GC(UC(i),n)}function dF(i,n){if(i!=null){if(LC(i))return oF(i,n);if(kC(i))return aF(i,n);if(FC(i))return sF(i,n);if(MC(i))return GC(i,n);if(BC(i))return lF(i,n);if(jC(i))return cF(i,n)}throw NC(i)}function Tn(i,n){return n?dF(i,n):ki(i)}function wt(...i){let n=Rl(i);return Tn(i,n)}function Xs(i,n){let e=Ii(i)?i:()=>i,t=r=>r.error(e());return new gi(n?r=>n.schedule(t,0,r):t)}var Fd=class i{constructor(n,e,t){this.kind=n,this.value=e,this.error=t,this.hasValue=n==="N"}observe(n){return LS(this,n)}do(n,e,t){let{kind:r,value:o,error:s}=this;return r==="N"?n?.(o):r==="E"?e?.(s):t?.()}accept(n,e,t){var r;return Ii((r=n)===null||r===void 0?void 0:r.next)?this.observe(n):this.do(n,e,t)}toObservable(){let{kind:n,value:e,error:t}=this,r=n==="N"?wt(e):n==="E"?Xs(()=>t):n==="C"?lo:0;if(!r)throw new TypeError(`Unexpected notification kind ${n}`);return r}static createNext(n){return new i("N",n)}static createError(n){return new i("E",void 0,n)}static createComplete(){return i.completeNotification}};Fd.completeNotification=new Fd("C");function LS(i,n){var e,t,r;let{kind:o,value:s,error:a}=i;if(typeof o!="string")throw new TypeError('Invalid notification, missing "kind"');o==="N"?(e=n.next)===null||e===void 0||e.call(n,s):o==="E"?(t=n.error)===null||t===void 0||t.call(n,a):(r=n.complete)===null||r===void 0||r.call(n)}function wc(i){return!!i&&(i instanceof gi||Ii(i.lift)&&Ii(i.subscribe))}var Qs=Pd(i=>function(){i(this),this.name="EmptyError",this.message="no elements in sequence"});function DW(i,n){let e=typeof n=="object";return new Promise((t,r)=>{let o=!1,s;i.subscribe({next:a=>{s=a,o=!0},error:r,complete:()=>{o?t(s):e?t(n.defaultValue):r(new Qs)}})})}function MS(i,n){let e=typeof n=="object";return new Promise((t,r)=>{let o=new el({next:s=>{t(s),o.unsubscribe()},error:r,complete:()=>{e?t(n.defaultValue):r(new Qs)}});i.subscribe(o)})}function zC(i){return i instanceof Date&&!isNaN(i)}var RW=Pd(i=>function(e=null){i(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=e});function PW(i,n){let{first:e,each:t,with:r=kW,scheduler:o=n??tl,meta:s=null}=zC(i)?{first:i}:typeof i=="number"?{each:i}:i;if(e==null&&t==null)throw new TypeError("No timeout provided.");return Ut((a,l)=>{let c,d,p=null,g=0,C=y=>{d=Xo(l,o,()=>{try{c.unsubscribe(),ki(r({meta:s,lastValue:p,seen:g})).subscribe(l)}catch(v){l.error(v)}},y)};c=a.subscribe(Tt(l,y=>{d?.unsubscribe(),g++,l.next(p=y),t>0&&C(t)},void 0,void 0,()=>{d?.closed||d?.unsubscribe(),p=null})),!g&&C(e!=null?typeof e=="number"?e:+e-o.now():t)})}function kW(i){throw new RW(i)}function W(i,n){return Ut((e,t)=>{let r=0;e.subscribe(Tt(t,o=>{t.next(i.call(n,o,r++))}))})}var{isArray:FW}=Array;function LW(i,n){return FW(n)?i(...n):i(n)}function WC(i){return W(n=>LW(i,n))}var{isArray:MW}=Array,{getPrototypeOf:NW,prototype:VW,keys:BW}=Object;function KC(i){if(i.length===1){let n=i[0];if(MW(n))return{args:n,keys:null};if(UW(n)){let e=BW(n);return{args:e.map(t=>n[t]),keys:e}}}return{args:i,keys:null}}function UW(i){return i&&typeof i=="object"&&NW(i)===VW}function $C(i,n){return i.reduce((e,t,r)=>(e[t]=n[r],e),{})}function ag(...i){let n=Rl(i),e=kd(i),{args:t,keys:r}=KC(i);if(t.length===0)return Tn([],n);let o=new gi(jW(t,n,r?s=>$C(r,s):Mo));return e?o.pipe(WC(e)):o}function jW(i,n,e=Mo){return t=>{uF(n,()=>{let{length:r}=i,o=new Array(r),s=r,a=r;for(let l=0;l<r;l++)uF(n,()=>{let c=Tn(i[l],n),d=!1;c.subscribe(Tt(t,p=>{o[l]=p,d||(d=!0,a--),a||t.next(e(o.slice()))},()=>{--s||t.complete()}))},t)},t)}}function uF(i,n,e){i?Xo(e,i,n):n()}function pF(i,n,e,t,r,o,s,a){let l=[],c=0,d=0,p=!1,g=()=>{p&&!l.length&&!c&&n.complete()},C=v=>c<t?y(v):l.push(v),y=v=>{o&&n.next(v),c++;let w=!1;ki(e(v,d++)).subscribe(Tt(n,E=>{r?.(E),o?C(E):n.next(E)},()=>{w=!0},void 0,()=>{if(w)try{for(c--;l.length&&c<t;){let E=l.shift();s?Xo(n,s,()=>y(E)):y(E)}g()}catch(E){n.error(E)}}))};return i.subscribe(Tt(n,C,()=>{p=!0,g()})),()=>{a?.()}}function fr(i,n,e=1/0){return Ii(n)?fr((t,r)=>W((o,s)=>n(t,o,r,s))(ki(i(t,r))),e):(typeof n=="number"&&(e=n),Ut((t,r)=>pF(t,r,i,e)))}function Pl(i=1/0){return fr(Mo,i)}function hF(){return Pl(1)}function il(...i){return hF()(Tn(i,Rl(i)))}function dp(i){return new gi(n=>{ki(i()).subscribe(n)})}function lg(...i){let n=kd(i),{args:e,keys:t}=KC(i),r=new gi(o=>{let{length:s}=e;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let d=0;d<s;d++){let p=!1;ki(e[d]).subscribe(Tt(o,g=>{p||(p=!0,c--),a[d]=g},()=>l--,void 0,()=>{(!l||!p)&&(c||o.next(t?$C(t,a):a),o.complete())}))}});return n?r.pipe(WC(n)):r}function nl(i=0,n,e=Qk){let t=-1;return n!=null&&(PC(n)?e=n:t=n),new gi(r=>{let o=zC(i)?+i-e.now():i;o<0&&(o=0);let s=0;return e.schedule(function(){r.closed||(r.next(s++),0<=t?this.schedule(void 0,t):r.complete())},o)})}function HW(i=0,n=tl){return i<0&&(i=0),nl(i,i,n)}function NS(...i){let n=Rl(i),e=Zk(i,1/0),t=i;return t.length?t.length===1?ki(t[0]):Pl(e)(Tn(t,n)):lo}var{isArray:GW}=Array;function fF(i){return i.length===1&&GW(i[0])?i[0]:i}function co(i,n){return Ut((e,t)=>{let r=0;e.subscribe(Tt(t,o=>i.call(n,o,r++)&&t.next(o)))})}function VS(...i){let n=kd(i),e=fF(i);return e.length?new gi(t=>{let r=e.map(()=>[]),o=e.map(()=>!1);t.add(()=>{r=o=null});for(let s=0;!t.closed&&s<e.length;s++)ki(e[s]).subscribe(Tt(t,a=>{if(r[s].push(a),r.every(l=>l.length)){let l=r.map(c=>c.shift());t.next(n?n(...l):l),r.some((c,d)=>!c.length&&o[d])&&t.complete()}},()=>{o[s]=!0,!r[s].length&&t.complete()}));return()=>{r=o=null}}):lo}function mF(i){return Ut((n,e)=>{let t=!1,r=null,o=null,s=!1,a=()=>{if(o?.unsubscribe(),o=null,t){t=!1;let c=r;r=null,e.next(c)}s&&e.complete()},l=()=>{o=null,s&&e.complete()};n.subscribe(Tt(e,c=>{t=!0,r=c,o||ki(i(c)).subscribe(o=Tt(e,a,l))},()=>{s=!0,(!t||!o||o.closed)&&e.complete()}))})}function BS(i,n=tl){return mF(()=>nl(i,n))}function Z(i){return Ut((n,e)=>{let t=null,r=!1,o;t=n.subscribe(Tt(e,void 0,void 0,s=>{o=ki(i(s,Z(i)(n))),t?(t.unsubscribe(),t=null,o.subscribe(e)):r=!0})),r&&(t.unsubscribe(),t=null,o.subscribe(e))})}function gF(i,n,e,t,r){return(o,s)=>{let a=e,l=n,c=0;o.subscribe(Tt(s,d=>{let p=c++;l=a?i(l,d,p):(a=!0,d),t&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}function rl(i,n){return Ii(n)?fr(i,n,1):fr(i,1)}function zW(i){return Ut((n,e)=>{let t=!1,r=null,o=null,s=()=>{if(o?.unsubscribe(),o=null,t){t=!1;let a=r;r=null,e.next(a)}};n.subscribe(Tt(e,a=>{o?.unsubscribe(),t=!0,r=a,o=Tt(e,s,Za),ki(i(a)).subscribe(o)},()=>{s(),e.complete()},void 0,()=>{r=o=null}))})}function xh(i,n=tl){return Ut((e,t)=>{let r=null,o=null,s=null,a=()=>{if(r){r.unsubscribe(),r=null;let c=o;o=null,t.next(c)}};function l(){let c=s+i,d=n.now();if(d<c){r=this.schedule(void 0,c-d),t.add(r);return}a()}e.subscribe(Tt(t,c=>{o=c,s=n.now(),r||(r=n.schedule(l,i),t.add(r))},()=>{a(),t.complete()},void 0,()=>{o=r=null}))})}function Ld(i){return Ut((n,e)=>{let t=!1;n.subscribe(Tt(e,r=>{t=!0,e.next(r)},()=>{t||e.next(i),e.complete()}))})}function No(i){return i<=0?()=>lo:Ut((n,e)=>{let t=0;n.subscribe(Tt(e,r=>{++t<=i&&(e.next(r),i<=t&&e.complete())}))})}function US(){return Ut((i,n)=>{i.subscribe(Tt(n,Za))})}function up(i){return W(()=>i)}function jS(i,n){return n?e=>il(n.pipe(No(1),US()),e.pipe(jS(i))):fr((e,t)=>ki(i(e,t)).pipe(No(1),up(e)))}function WW(i,n=tl){let e=nl(i,n);return jS(()=>e)}function KW(){return Ut((i,n)=>{i.subscribe(Tt(n,e=>LS(e,n)))})}function Sc(i,n=Mo){return i=i??$W,Ut((e,t)=>{let r,o=!0;e.subscribe(Tt(t,s=>{let a=n(s);(o||!i(r,a))&&(o=!1,r=a,t.next(s))}))})}function $W(i,n){return i===n}function qC(i=qW){return Ut((n,e)=>{let t=!1;n.subscribe(Tt(e,r=>{t=!0,e.next(r)},()=>t?e.complete():e.error(i())))})}function qW(){return new Qs}function _F(i,n){return n?e=>e.pipe(_F((t,r)=>ki(i(t,r)).pipe(W((o,s)=>n(t,o,r,s))))):Ut((e,t)=>{let r=0,o=null,s=!1;e.subscribe(Tt(t,a=>{o||(o=Tt(t,void 0,()=>{o=null,s&&t.complete()}),ki(i(a,r++)).subscribe(o))},()=>{s=!0,!o&&t.complete()}))})}function Md(i){return Ut((n,e)=>{try{n.subscribe(e)}finally{e.add(i)}})}function ol(i,n){let e=arguments.length>=2;return t=>t.pipe(i?co((r,o)=>i(r,o,t)):Mo,No(1),e?Ld(n):qC(()=>new Qs))}function YW(i,n,e,t){return Ut((r,o)=>{let s;!n||typeof n=="function"?s=n:{duration:e,element:s,connector:t}=n;let a=new Map,l=y=>{a.forEach(y),y(o)},c=y=>l(v=>v.error(y)),d=0,p=!1,g=new ng(o,y=>{try{let v=i(y),w=a.get(v);if(!w){a.set(v,w=t?t():new Re);let E=C(v,w);if(o.next(E),e){let T=Tt(w,()=>{w.complete(),T?.unsubscribe()},void 0,void 0,()=>a.delete(v));g.add(ki(e(E)).subscribe(T))}}w.next(s?s(y):y)}catch(v){c(v)}},()=>l(y=>y.complete()),c,()=>a.clear(),()=>(p=!0,d===0));r.subscribe(g);function C(y,v){let w=new gi(E=>{d++;let T=v.subscribe(E);return()=>{T.unsubscribe(),--d===0&&p&&g.unsubscribe()}});return w.key=y,w}})}function Th(i){return i<=0?()=>lo:Ut((n,e)=>{let t=[];n.subscribe(Tt(e,r=>{t.push(r),i<t.length&&t.shift()},()=>{for(let r of t)e.next(r);e.complete()},void 0,()=>{t=null}))})}function HS(i,n){let e=arguments.length>=2;return t=>t.pipe(i?co((r,o)=>i(r,o,t)):Mo,Th(1),e?Ld(n):qC(()=>new Qs))}function JW(){return Ut((i,n)=>{i.subscribe(Tt(n,e=>{n.next(Fd.createNext(e))},()=>{n.next(Fd.createComplete()),n.complete()},e=>{n.next(Fd.createError(e)),n.complete()}))})}function GS(...i){let n=i.length;if(n===0)throw new Error("list of properties cannot be empty.");return W(e=>{let t=e;for(let r=0;r<n;r++){let o=t?.[i[r]];if(typeof o<"u")t=o;else return}return t})}function cg(i,n){return Ut(gF(i,n,arguments.length>=2,!0))}function WS(i={}){let{connector:n=()=>new Re,resetOnError:e=!0,resetOnComplete:t=!0,resetOnRefCountZero:r=!0}=i;return o=>{let s,a,l,c=0,d=!1,p=!1,g=()=>{a?.unsubscribe(),a=void 0},C=()=>{g(),s=l=void 0,d=p=!1},y=()=>{let v=s;C(),v?.unsubscribe()};return Ut((v,w)=>{c++,!p&&!d&&g();let E=l=l??n();w.add(()=>{c--,c===0&&!p&&!d&&(a=zS(y,r))}),E.subscribe(w),!s&&c>0&&(s=new el({next:T=>E.next(T),error:T=>{p=!0,g(),a=zS(C,e,T),E.error(T)},complete:()=>{d=!0,g(),a=zS(C,t),E.complete()}}),ki(v).subscribe(s))})(o)}}function zS(i,n,...e){if(n===!0){i();return}if(n===!1)return;let t=new el({next:()=>{t.unsubscribe(),i()}});return ki(n(...e)).subscribe(t)}function Oh(i,n,e){let t,r=!1;return i&&typeof i=="object"?{bufferSize:t=1/0,windowTime:n=1/0,refCount:r=!1,scheduler:e}=i:t=i??1/0,WS({connector:()=>new og(t,n,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function XW(i){return co((n,e)=>i<=e)}function dg(...i){let n=Rl(i);return Ut((e,t)=>{(n?il(i,e,n):il(i,e)).subscribe(t)})}function uo(i,n){return Ut((e,t)=>{let r=null,o=0,s=!1,a=()=>s&&!r&&t.complete();e.subscribe(Tt(t,l=>{r?.unsubscribe();let c=0,d=o++;ki(i(l,d)).subscribe(r=Tt(t,p=>t.next(n?n(l,p,d,c++):p),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function pp(i){return Ut((n,e)=>{ki(i).subscribe(Tt(e,()=>e.complete(),Za)),!e.closed&&n.subscribe(e)})}function kt(i,n=!1){return Ut((e,t)=>{let r=0;e.subscribe(Tt(t,o=>{let s=i(o,r++);(s||n)&&t.next(o),!s&&t.complete()}))})}function bo(i,n,e){let t=Ii(i)||n||e?{next:i,error:n,complete:e}:i;return t?Ut((r,o)=>{var s;(s=t.subscribe)===null||s===void 0||s.call(t);let a=!0;r.subscribe(Tt(o,l=>{var c;(c=t.next)===null||c===void 0||c.call(t,l),o.next(l)},()=>{var l;a=!1,(l=t.complete)===null||l===void 0||l.call(t),o.complete()},l=>{var c;a=!1,(c=t.error)===null||c===void 0||c.call(t,l),o.error(l)},()=>{var l,c;a&&((l=t.unsubscribe)===null||l===void 0||l.call(t)),(c=t.finalize)===null||c===void 0||c.call(t)}))}):Mo}function KS(...i){let n=kd(i);return Ut((e,t)=>{let r=i.length,o=new Array(r),s=i.map(()=>!1),a=!1;for(let l=0;l<r;l++)ki(i[l]).subscribe(Tt(t,c=>{o[l]=c,!a&&!s[l]&&(s[l]=!0,(a=s.every(Mo))&&(s=null))},Za));e.subscribe(Tt(t,l=>{if(a){let c=[l,...o];t.next(n?n(...c):c)}}))})}var dL="https://g.co/ng/security#xss",Ct=class extends Error{constructor(n,e){super(By(n,e)),this.code=n}};function By(i,n){return`${`NG0${Math.abs(i)}`}${n?": "+n:""}`}var uL=Symbol("InputSignalNode#UNSET"),QW=Pe(re({},SS),{transformFn:void 0,applyValueToInputSignal(i,n){wC(i,n)}});function pL(i,n){let e=Object.create(QW);e.value=i,e.transformFn=n?.transform;function t(){if(_C(e),e.value===uL)throw new Ct(-950,!1);return e.value}return t[Xa]=e,t}function bg(i){return{toString:i}.toString()}var YC="__parameters__";function ZW(i){return function(...e){if(i){let t=i(...e);for(let r in t)this[r]=t[r]}}}function yE(i,n,e){return bg(()=>{let t=ZW(n);function r(...o){if(this instanceof r)return t.apply(this,o),this;let s=new r(...o);return a.annotation=s,a;function a(l,c,d){let p=l.hasOwnProperty(YC)?l[YC]:Object.defineProperty(l,YC,{value:[]})[YC];for(;p.length<=d;)p.push(null);return(p[d]=p[d]||[]).push(s),l}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=i,r.annotationCls=r,r})}var Vo=globalThis;function Un(i){for(let n in i)if(i[n]===Un)return n;throw Error("Could not find renamed property on target object.")}function eK(i,n){for(let e in n)n.hasOwnProperty(e)&&!i.hasOwnProperty(e)&&(i[e]=n[e])}function ps(i){if(typeof i=="string")return i;if(Array.isArray(i))return"["+i.map(ps).join(", ")+"]";if(i==null)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;let n=i.toString();if(n==null)return""+n;let e=n.indexOf(`
`);return e===-1?n:n.substring(0,e)}function aA(i,n){return i==null||i===""?n===null?"":n:n==null||n===""?i:i+" "+n}var tK=Un({__forward_ref__:Un});function zt(i){return i.__forward_ref__=zt,i.toString=function(){return ps(this())},i}function us(i){return hL(i)?i():i}function hL(i){return typeof i=="function"&&i.hasOwnProperty(tK)&&i.__forward_ref__===zt}function _e(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Te(i){return{providers:i.providers||[],imports:i.imports||[]}}function Uy(i){return CF(i,mL)||CF(i,gL)}function fL(i){return Uy(i)!==null}function CF(i,n){return i.hasOwnProperty(n)?i[n]:null}function iK(i){let n=i&&(i[mL]||i[gL]);return n||null}function yF(i){return i&&(i.hasOwnProperty(IF)||i.hasOwnProperty(nK))?i[IF]:null}var mL=Un({\u0275prov:Un}),IF=Un({\u0275inj:Un}),gL=Un({ngInjectableDef:Un}),nK=Un({ngInjectorDef:Un}),He=class{constructor(n,e){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof e=="number"?this.__NG_ELEMENT_ID__=e:e!==void 0&&(this.\u0275prov=_e({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function _L(i){return i&&!!i.\u0275providers}var rK=Un({\u0275cmp:Un}),oK=Un({\u0275dir:Un}),sK=Un({\u0275pipe:Un}),aK=Un({\u0275mod:Un}),cy=Un({\u0275fac:Un}),pg=Un({__NG_ELEMENT_ID__:Un}),vF=Un({__NG_ENV_ID__:Un});function Ll(i){return typeof i=="string"?i:i==null?"":String(i)}function lK(i){return typeof i=="function"?i.name||i.toString():typeof i=="object"&&i!=null&&typeof i.type=="function"?i.type.name||i.type.toString():Ll(i)}function cK(i,n){let e=n?`. Dependency path: ${n.join(" > ")} > ${i}`:"";throw new Ct(-200,i)}function IE(i,n){throw new Ct(-201,!1)}var $i=function(i){return i[i.Default=0]="Default",i[i.Host=1]="Host",i[i.Self=2]="Self",i[i.SkipSelf=4]="SkipSelf",i[i.Optional=8]="Optional",i}($i||{}),lA;function CL(){return lA}function Ss(i){let n=lA;return lA=i,n}function yL(i,n,e){let t=Uy(i);if(t&&t.providedIn=="root")return t.value===void 0?t.value=t.factory():t.value;if(e&$i.Optional)return null;if(n!==void 0)return n;IE(i,"Injector")}var dK={},fg=dK,cA="__NG_DI_FLAG__",dy="ngTempTokenPath",uK="ngTokenPath",pK=/\n/gm,hK="\u0275",bF="__source",Fh;function fK(){return Fh}function Nd(i){let n=Fh;return Fh=i,n}function mK(i,n=$i.Default){if(Fh===void 0)throw new Ct(-203,!1);return Fh===null?yL(i,void 0,n):Fh.get(i,n&$i.Optional?null:void 0,n)}function ce(i,n=$i.Default){return(CL()||mK)(us(i),n)}function Me(i,n=$i.Default){return ce(i,jy(n))}function jy(i){return typeof i>"u"||typeof i=="number"?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function dA(i){let n=[];for(let e=0;e<i.length;e++){let t=us(i[e]);if(Array.isArray(t)){if(t.length===0)throw new Ct(900,!1);let r,o=$i.Default;for(let s=0;s<t.length;s++){let a=t[s],l=gK(a);typeof l=="number"?l===-1?r=a.token:o|=l:r=a}n.push(ce(r,o))}else n.push(ce(t))}return n}function vE(i,n){return i[cA]=n,i.prototype[cA]=n,i}function gK(i){return i[cA]}function _K(i,n,e,t){let r=i[dy];throw n[bF]&&r.unshift(n[bF]),i.message=CK(`
`+i.message,r,e,t),i[uK]=r,i[dy]=null,i}function CK(i,n,e,t=null){i=i&&i.charAt(0)===`
`&&i.charAt(1)==hK?i.slice(2):i;let r=ps(n);if(Array.isArray(n))r=n.map(ps).join(" -> ");else if(typeof n=="object"){let o=[];for(let s in n)if(n.hasOwnProperty(s)){let a=n[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):ps(a)))}r=`{${o.join(", ")}}`}return`${e}${t?"("+t+")":""}[${r}]: ${i.replace(pK,`
  `)}`}var bE=vE(yE("Inject",i=>({token:i})),-1),wg=vE(yE("Optional"),8);var Hy=vE(yE("SkipSelf"),4);function mp(i,n){let e=i.hasOwnProperty(cy);return e?i[cy]:null}function yK(i,n,e){if(i.length!==n.length)return!1;for(let t=0;t<i.length;t++){let r=i[t],o=n[t];if(e&&(r=e(r),o=e(o)),o!==r)return!1}return!0}function IK(i){return i.flat(Number.POSITIVE_INFINITY)}function wE(i,n){i.forEach(e=>Array.isArray(e)?wE(e,n):n(e))}function IL(i,n,e){n>=i.length?i.push(e):i.splice(n,0,e)}function uy(i,n){return n>=i.length-1?i.pop():i.splice(n,1)[0]}function vK(i,n){let e=[];for(let t=0;t<i;t++)e.push(n);return e}function bK(i,n,e,t){let r=i.length;if(r==n)i.push(e,t);else if(r===1)i.push(t,i[0]),i[0]=e;else{for(r--,i.push(i[r-1],i[r]);r>n;){let o=r-2;i[r]=i[o],r--}i[n]=e,i[n+1]=t}}function Sg(i,n,e){let t=Ag(i,n);return t>=0?i[t|1]=e:(t=~t,bK(i,t,n,e)),t}function $S(i,n){let e=Ag(i,n);if(e>=0)return i[e|1]}function Ag(i,n){return wK(i,n,1)}function wK(i,n,e){let t=0,r=i.length>>e;for(;r!==t;){let o=t+(r-t>>1),s=i[o<<e];if(n===s)return o<<e;s>n?r=o:t=o+1}return~(r<<e)}var Mh={},As=[],gp=new He(""),vL=new He("",-1),bL=new He(""),py=class{get(n,e=fg){if(e===fg){let t=new Error(`NullInjectorError: No provider for ${ps(n)}!`);throw t.name="NullInjectorError",t}return e}},wL=function(i){return i[i.OnPush=0]="OnPush",i[i.Default=1]="Default",i}(wL||{}),Ml=function(i){return i[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",i}(Ml||{}),Ud=function(i){return i[i.None=0]="None",i[i.SignalBased=1]="SignalBased",i[i.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",i}(Ud||{});function SK(i,n,e){let t=i.length;for(;;){let r=i.indexOf(n,e);if(r===-1)return r;if(r===0||i.charCodeAt(r-1)<=32){let o=n.length;if(r+o===t||i.charCodeAt(r+o)<=32)return r}e=r+1}}function uA(i,n,e){let t=0;for(;t<e.length;){let r=e[t];if(typeof r=="number"){if(r!==0)break;t++;let o=e[t++],s=e[t++],a=e[t++];i.setAttribute(n,s,a,o)}else{let o=r,s=e[++t];AK(o)?i.setProperty(n,o,s):i.setAttribute(n,o,s),t++}}return t}function SL(i){return i===3||i===4||i===6}function AK(i){return i.charCodeAt(0)===64}function mg(i,n){if(!(n===null||n.length===0))if(i===null||i.length===0)i=n.slice();else{let e=-1;for(let t=0;t<n.length;t++){let r=n[t];typeof r=="number"?e=r:e===0||(e===-1||e===2?wF(i,e,r,null,n[++t]):wF(i,e,r,null,null))}}return i}function wF(i,n,e,t,r){let o=0,s=i.length;if(n===-1)s=-1;else for(;o<i.length;){let a=i[o++];if(typeof a=="number"){if(a===n){s=-1;break}else if(a>n){s=o-1;break}}}for(;o<i.length;){let a=i[o];if(typeof a=="number")break;if(a===e){if(t===null){r!==null&&(i[o+1]=r);return}else if(t===i[o+1]){i[o+2]=r;return}}o++,t!==null&&o++,r!==null&&o++}s!==-1&&(i.splice(s,0,n),o=s+1),i.splice(o++,0,e),t!==null&&i.splice(o++,0,t),r!==null&&i.splice(o++,0,r)}var AL="ng-template";function EK(i,n,e,t){let r=0;if(t){for(;r<n.length&&typeof n[r]=="string";r+=2)if(n[r]==="class"&&SK(n[r+1].toLowerCase(),e,0)!==-1)return!0}else if(SE(i))return!1;if(r=n.indexOf(1,r),r>-1){let o;for(;++r<n.length&&typeof(o=n[r])=="string";)if(o.toLowerCase()===e)return!0}return!1}function SE(i){return i.type===4&&i.value!==AL}function xK(i,n,e){let t=i.type===4&&!e?AL:i.value;return n===t}function TK(i,n,e){let t=4,r=i.attrs,o=r!==null?RK(r):0,s=!1;for(let a=0;a<n.length;a++){let l=n[a];if(typeof l=="number"){if(!s&&!sl(t)&&!sl(l))return!1;if(s&&sl(l))continue;s=!1,t=l|t&1;continue}if(!s)if(t&4){if(t=2|t&1,l!==""&&!xK(i,l,e)||l===""&&n.length===1){if(sl(t))return!1;s=!0}}else if(t&8){if(r===null||!EK(i,r,l,e)){if(sl(t))return!1;s=!0}}else{let c=n[++a],d=OK(l,r,SE(i),e);if(d===-1){if(sl(t))return!1;s=!0;continue}if(c!==""){let p;if(d>o?p="":p=r[d+1].toLowerCase(),t&2&&c!==p){if(sl(t))return!1;s=!0}}}}return sl(t)||s}function sl(i){return(i&1)===0}function OK(i,n,e,t){if(n===null)return-1;let r=0;if(t||!e){let o=!1;for(;r<n.length;){let s=n[r];if(s===i)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=n[++r];for(;typeof a=="string";)a=n[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return PK(n,i)}function EL(i,n,e=!1){for(let t=0;t<n.length;t++)if(TK(i,n[t],e))return!0;return!1}function DK(i){let n=i.attrs;if(n!=null){let e=n.indexOf(5);if(!(e&1))return n[e+1]}return null}function RK(i){for(let n=0;n<i.length;n++){let e=i[n];if(SL(e))return n}return i.length}function PK(i,n){let e=i.indexOf(4);if(e>-1)for(e++;e<i.length;){let t=i[e];if(typeof t=="number")return-1;if(t===n)return e;e++}return-1}function kK(i,n){e:for(let e=0;e<n.length;e++){let t=n[e];if(i.length===t.length){for(let r=0;r<i.length;r++)if(i[r]!==t[r])continue e;return!0}}return!1}function SF(i,n){return i?":not("+n.trim()+")":n}function FK(i){let n=i[0],e=1,t=2,r="",o=!1;for(;e<i.length;){let s=i[e];if(typeof s=="string")if(t&2){let a=i[++e];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else t&8?r+="."+s:t&4&&(r+=" "+s);else r!==""&&!sl(s)&&(n+=SF(o,r),r=""),t=s,o=o||!sl(t);e++}return r!==""&&(n+=SF(o,r)),n}function LK(i){return i.map(FK).join(",")}function MK(i){let n=[],e=[],t=1,r=2;for(;t<i.length;){let o=i[t];if(typeof o=="string")r===2?o!==""&&n.push(o,i[++t]):r===8&&e.push(o);else{if(!sl(r))break;r=o}t++}return{attrs:n,classes:e}}function ie(i){return bg(()=>{let n=RL(i),e=Pe(re({},n),{decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===wL.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&i.dependencies||null,getStandaloneInjector:null,signals:i.signals??!1,data:i.data||{},encapsulation:i.encapsulation||Ml.Emulated,styles:i.styles||As,_:null,schemas:i.schemas||null,tView:null,id:""});PL(e);let t=i.dependencies;return e.directiveDefs=hy(t,!1),e.pipeDefs=hy(t,!0),e.id=BK(e),e})}function NK(i){return Ac(i)||xL(i)}function VK(i){return i!==null}function Oe(i){return bg(()=>({type:i.type,bootstrap:i.bootstrap||As,declarations:i.declarations||As,imports:i.imports||As,exports:i.exports||As,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function AF(i,n){if(i==null)return Mh;let e={};for(let t in i)if(i.hasOwnProperty(t)){let r=i[t],o,s,a=Ud.None;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o):(o=r,s=r),n?(e[o]=a!==Ud.None?[t,a]:t,n[o]=s):e[o]=t}return e}function gt(i){return bg(()=>{let n=RL(i);return PL(n),n})}function Jn(i){return{type:i.type,name:i.name,factory:null,pure:i.pure!==!1,standalone:i.standalone===!0,onDestroy:i.type.prototype.ngOnDestroy||null}}function Ac(i){return i[rK]||null}function xL(i){return i[oK]||null}function TL(i){return i[sK]||null}function OL(i){let n=Ac(i)||xL(i)||TL(i);return n!==null?n.standalone:!1}function DL(i,n){let e=i[aK]||null;if(!e&&n===!0)throw new Error(`Type ${ps(i)} does not have '\u0275mod' property.`);return e}function RL(i){let n={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:i.inputs||Mh,exportAs:i.exportAs||null,standalone:i.standalone===!0,signals:i.signals===!0,selectors:i.selectors||As,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:AF(i.inputs,n),outputs:AF(i.outputs),debugInfo:null}}function PL(i){i.features?.forEach(n=>n(i))}function hy(i,n){if(!i)return null;let e=n?TL:NK;return()=>(typeof i=="function"?i():i).map(t=>e(t)).filter(VK)}function BK(i){let n=0,e=[i.selectors,i.ngContentSelectors,i.hostVars,i.hostAttrs,i.consts,i.vars,i.decls,i.encapsulation,i.standalone,i.signals,i.exportAs,JSON.stringify(i.inputs),JSON.stringify(i.outputs),Object.getOwnPropertyNames(i.type.prototype),!!i.contentQueries,!!i.viewQuery].join("|");for(let r of e)n=Math.imul(31,n)+r.charCodeAt(0)<<0;return n+=2147483648,"c"+n}function Yh(i){return{\u0275providers:i}}function UK(...i){return{\u0275providers:kL(!0,i),\u0275fromNgModule:!0}}function kL(i,...n){let e=[],t=new Set,r,o=s=>{e.push(s)};return wE(n,s=>{let a=s;pA(a,o,[],t)&&(r||=[],r.push(a))}),r!==void 0&&FL(r,o),e}function FL(i,n){for(let e=0;e<i.length;e++){let{ngModule:t,providers:r}=i[e];AE(r,o=>{n(o,t)})}}function pA(i,n,e,t){if(i=us(i),!i)return!1;let r=null,o=yF(i),s=!o&&Ac(i);if(!o&&!s){let l=i.ngModule;if(o=yF(l),o)r=l;else return!1}else{if(s&&!s.standalone)return!1;r=i}let a=t.has(r);if(s){if(a)return!1;if(t.add(r),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)pA(c,n,e,t)}}else if(o){if(o.imports!=null&&!a){t.add(r);let c;try{wE(o.imports,d=>{pA(d,n,e,t)&&(c||=[],c.push(d))})}finally{}c!==void 0&&FL(c,n)}if(!a){let c=mp(r)||(()=>new r);n({provide:r,useFactory:c,deps:As},r),n({provide:bL,useValue:r,multi:!0},r),n({provide:gp,useValue:()=>ce(r),multi:!0},r)}let l=o.providers;if(l!=null&&!a){let c=i;AE(l,d=>{n(d,c)})}}else return!1;return r!==i&&i.providers!==void 0}function AE(i,n){for(let e of i)_L(e)&&(e=e.\u0275providers),Array.isArray(e)?AE(e,n):n(e)}var jK=Un({provide:String,useValue:Un});function LL(i){return i!==null&&typeof i=="object"&&jK in i}function HK(i){return!!(i&&i.useExisting)}function GK(i){return!!(i&&i.useFactory)}function Nh(i){return typeof i=="function"}function zK(i){return!!i.useClass}var Gy=new He(""),ny={},WK={},qS;function zy(){return qS===void 0&&(qS=new py),qS}var hs=class{},gg=class extends hs{get destroyed(){return this._destroyed}constructor(n,e,t,r){super(),this.parent=e,this.source=t,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,fA(n,s=>this.processProvider(s)),this.records.set(vL,Dh(void 0,this)),r.has("environment")&&this.records.set(hs,Dh(void 0,this));let o=this.records.get(Gy);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(bL,As,$i.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let n=Zi(null);try{for(let t of this._ngOnDestroyHooks)t.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Zi(n)}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();let e=Nd(this),t=Ss(void 0),r;try{return n()}finally{Nd(e),Ss(t)}}get(n,e=fg,t=$i.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(vF))return n[vF](this);t=jy(t);let r,o=Nd(this),s=Ss(void 0);try{if(!(t&$i.SkipSelf)){let l=this.records.get(n);if(l===void 0){let c=JK(n)&&Uy(n);c&&this.injectableDefInScope(c)?l=Dh(hA(n),ny):l=null,this.records.set(n,l)}if(l!=null)return this.hydrate(n,l)}let a=t&$i.Self?zy():this.parent;return e=t&$i.Optional&&e===fg?null:e,a.get(n,e)}catch(a){if(a.name==="NullInjectorError"){if((a[dy]=a[dy]||[]).unshift(ps(n)),o)throw a;return _K(a,n,"R3InjectorError",this.source)}else throw a}finally{Ss(s),Nd(o)}}resolveInjectorInitializers(){let n=Zi(null),e=Nd(this),t=Ss(void 0),r;try{let o=this.get(gp,As,$i.Self);for(let s of o)s()}finally{Nd(e),Ss(t),Zi(n)}}toString(){let n=[],e=this.records;for(let t of e.keys())n.push(ps(t));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ct(205,!1)}processProvider(n){n=us(n);let e=Nh(n)?n:us(n&&n.provide),t=$K(n);if(!Nh(n)&&n.multi===!0){let r=this.records.get(e);r||(r=Dh(void 0,ny,!0),r.factory=()=>dA(r.multi),this.records.set(e,r)),e=n,r.multi.push(n)}this.records.set(e,t)}hydrate(n,e){let t=Zi(null);try{return e.value===ny&&(e.value=WK,e.value=e.factory()),typeof e.value=="object"&&e.value&&YK(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{Zi(t)}}injectableDefInScope(n){if(!n.providedIn)return!1;let e=us(n.providedIn);return typeof e=="string"?e==="any"||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(n){let e=this._onDestroyHooks.indexOf(n);e!==-1&&this._onDestroyHooks.splice(e,1)}};function hA(i){let n=Uy(i),e=n!==null?n.factory:mp(i);if(e!==null)return e;if(i instanceof He)throw new Ct(204,!1);if(i instanceof Function)return KK(i);throw new Ct(204,!1)}function KK(i){if(i.length>0)throw new Ct(204,!1);let e=iK(i);return e!==null?()=>e.factory(i):()=>new i}function $K(i){if(LL(i))return Dh(void 0,i.useValue);{let n=ML(i);return Dh(n,ny)}}function ML(i,n,e){let t;if(Nh(i)){let r=us(i);return mp(r)||hA(r)}else if(LL(i))t=()=>us(i.useValue);else if(GK(i))t=()=>i.useFactory(...dA(i.deps||[]));else if(HK(i))t=()=>ce(us(i.useExisting));else{let r=us(i&&(i.useClass||i.provide));if(qK(i))t=()=>new r(...dA(i.deps));else return mp(r)||hA(r)}return t}function Dh(i,n,e=!1){return{factory:i,value:n,multi:e?[]:void 0}}function qK(i){return!!i.deps}function YK(i){return i!==null&&typeof i=="object"&&typeof i.ngOnDestroy=="function"}function JK(i){return typeof i=="function"||typeof i=="object"&&i instanceof He}function fA(i,n){for(let e of i)Array.isArray(e)?fA(e,n):e&&_L(e)?fA(e.\u0275providers,n):n(e)}function Sa(i,n){i instanceof gg&&i.assertNotDestroyed();let e,t=Nd(i),r=Ss(void 0);try{return n()}finally{Nd(t),Ss(r)}}function NL(){return CL()!==void 0||fK()!=null}function Wy(i){if(!NL())throw new Ct(-203,!1)}function XK(i){let n=Vo.ng;if(n&&n.\u0275compilerFacade)return n.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function QK(i){return typeof i=="function"}var Oc=0,vi=1,_i=2,es=3,al=4,xs=5,Vh=6,fy=7,Qo=8,Bh=9,Nl=10,Ar=11,_g=12,EF=13,Jh=14,Zs=15,_p=16,Rh=17,Ec=18,Ky=19,VL=20,Vd=21,ry=22,wa=23,ho=25,BL=1;var Cp=7,my=8,Uh=9,Zo=10,gy=function(i){return i[i.None=0]="None",i[i.HasTransplantedViews=2]="HasTransplantedViews",i}(gy||{});function Bd(i){return Array.isArray(i)&&typeof i[BL]=="object"}function Dc(i){return Array.isArray(i)&&i[BL]===!0}function EE(i){return(i.flags&4)!==0}function $y(i){return i.componentOffset>-1}function qy(i){return(i.flags&1)===1}function jd(i){return!!i.template}function mA(i){return(i[_i]&512)!==0}var gA=class{constructor(n,e,t){this.previousValue=n,this.currentValue=e,this.firstChange=t}isFirstChange(){return this.firstChange}};function UL(i,n,e,t){n!==null?n.applyValueToInputSignal(n,t):i[e]=t}function en(){return jL}function jL(i){return i.type.prototype.ngOnChanges&&(i.setInput=e$),ZK}en.ngInherit=!0;function ZK(){let i=GL(this),n=i?.current;if(n){let e=i.previous;if(e===Mh)i.previous=n;else for(let t in n)e[t]=n[t];i.current=null,this.ngOnChanges(n)}}function e$(i,n,e,t,r){let o=this.declaredInputs[t],s=GL(i)||t$(i,{previous:Mh,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new gA(c&&c.currentValue,e,l===Mh),UL(i,n,r,e)}var HL="__ngSimpleChanges__";function GL(i){return i[HL]||null}function t$(i,n){return i[HL]=n}var xF=null;var kl=function(i,n,e){xF?.(i,n,e)},zL="svg",i$="math";function Vl(i){for(;Array.isArray(i);)i=i[Oc];return i}function WL(i,n){return Vl(n[i])}function Aa(i,n){return Vl(n[i.index])}function xE(i,n){return i.data[n]}function Yy(i,n){return i[n]}function Wd(i,n){let e=n[i];return Bd(e)?e:e[Oc]}function n$(i){return(i[_i]&4)===4}function TE(i){return(i[_i]&128)===128}function r$(i){return Dc(i[es])}function Hd(i,n){return n==null?null:i[n]}function KL(i){i[Rh]=0}function $L(i){i[_i]&1024||(i[_i]|=1024,TE(i)&&Xy(i))}function o$(i,n){for(;i>0;)n=n[Jh],i--;return n}function Jy(i){return!!(i[_i]&9216||i[wa]?.dirty)}function _A(i){i[Nl].changeDetectionScheduler?.notify(8),i[_i]&64&&(i[_i]|=1024),Jy(i)&&Xy(i)}function Xy(i){i[Nl].changeDetectionScheduler?.notify(0);let n=yp(i);for(;n!==null&&!(n[_i]&8192||(n[_i]|=8192,!TE(n)));)n=yp(n)}function qL(i,n){if((i[_i]&256)===256)throw new Ct(911,!1);i[Vd]===null&&(i[Vd]=[]),i[Vd].push(n)}function s$(i,n){if(i[Vd]===null)return;let e=i[Vd].indexOf(n);e!==-1&&i[Vd].splice(e,1)}function yp(i){let n=i[es];return Dc(n)?n[es]:n}var Vi={lFrame:rM(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var YL=!1;function a$(){return Vi.lFrame.elementDepthCount}function l$(){Vi.lFrame.elementDepthCount++}function c$(){Vi.lFrame.elementDepthCount--}function JL(){return Vi.bindingsEnabled}function XL(){return Vi.skipHydrationRootTNode!==null}function d$(i){return Vi.skipHydrationRootTNode===i}function u$(){Vi.skipHydrationRootTNode=null}function $t(){return Vi.lFrame.lView}function xr(){return Vi.lFrame.tView}function S(i){return Vi.lFrame.contextLView=i,i[Qo]}function A(i){return Vi.lFrame.contextLView=null,i}function Bo(){let i=QL();for(;i!==null&&i.type===64;)i=i.parent;return i}function QL(){return Vi.lFrame.currentTNode}function p$(){let i=Vi.lFrame,n=i.currentTNode;return i.isParent?n:n.parent}function Ep(i,n){let e=Vi.lFrame;e.currentTNode=i,e.isParent=n}function OE(){return Vi.lFrame.isParent}function DE(){Vi.lFrame.isParent=!1}function h$(){return Vi.lFrame.contextLView}function ZL(){return YL}function TF(i){YL=i}function ta(){let i=Vi.lFrame,n=i.bindingRootIndex;return n===-1&&(n=i.bindingRootIndex=i.tView.bindingStartIndex),n}function eM(){return Vi.lFrame.bindingIndex}function f$(i){return Vi.lFrame.bindingIndex=i}function Xh(){return Vi.lFrame.bindingIndex++}function Qy(i){let n=Vi.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+i,e}function m$(){return Vi.lFrame.inI18n}function g$(i,n){let e=Vi.lFrame;e.bindingIndex=e.bindingRootIndex=i,CA(n)}function _$(){return Vi.lFrame.currentDirectiveIndex}function CA(i){Vi.lFrame.currentDirectiveIndex=i}function C$(i){let n=Vi.lFrame.currentDirectiveIndex;return n===-1?null:i[n]}function tM(){return Vi.lFrame.currentQueryIndex}function RE(i){Vi.lFrame.currentQueryIndex=i}function y$(i){let n=i[vi];return n.type===2?n.declTNode:n.type===1?i[xs]:null}function iM(i,n,e){if(e&$i.SkipSelf){let r=n,o=i;for(;r=r.parent,r===null&&!(e&$i.Host);)if(r=y$(o),r===null||(o=o[Jh],r.type&10))break;if(r===null)return!1;n=r,i=o}let t=Vi.lFrame=nM();return t.currentTNode=n,t.lView=i,!0}function PE(i){let n=nM(),e=i[vi];Vi.lFrame=n,n.currentTNode=e.firstChild,n.lView=i,n.tView=e,n.contextLView=i,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function nM(){let i=Vi.lFrame,n=i===null?null:i.child;return n===null?rM(i):n}function rM(i){let n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return i!==null&&(i.child=n),n}function oM(){let i=Vi.lFrame;return Vi.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}var sM=oM;function kE(){let i=oM();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function I$(i){return(Vi.lFrame.contextLView=o$(i,Vi.lFrame.contextLView))[Qo]}function jl(){return Vi.lFrame.selectedIndex}function Ip(i){Vi.lFrame.selectedIndex=i}function Zy(){let i=Vi.lFrame;return xE(i.tView,i.selectedIndex)}function It(){Vi.lFrame.currentNamespace=zL}function v$(){return Vi.lFrame.currentNamespace}var aM=!0;function eI(){return aM}function tI(i){aM=i}function b$(i,n,e){let{ngOnChanges:t,ngOnInit:r,ngDoCheck:o}=n.type.prototype;if(t){let s=jL(n);(e.preOrderHooks??=[]).push(i,s),(e.preOrderCheckHooks??=[]).push(i,s)}r&&(e.preOrderHooks??=[]).push(0-i,r),o&&((e.preOrderHooks??=[]).push(i,o),(e.preOrderCheckHooks??=[]).push(i,o))}function iI(i,n){for(let e=n.directiveStart,t=n.directiveEnd;e<t;e++){let o=i.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:d}=o;s&&(i.contentHooks??=[]).push(-e,s),a&&((i.contentHooks??=[]).push(e,a),(i.contentCheckHooks??=[]).push(e,a)),l&&(i.viewHooks??=[]).push(-e,l),c&&((i.viewHooks??=[]).push(e,c),(i.viewCheckHooks??=[]).push(e,c)),d!=null&&(i.destroyHooks??=[]).push(e,d)}}function oy(i,n,e){lM(i,n,3,e)}function sy(i,n,e,t){(i[_i]&3)===e&&lM(i,n,e,t)}function YS(i,n){let e=i[_i];(e&3)===n&&(e&=16383,e+=1,i[_i]=e)}function lM(i,n,e,t){let r=t!==void 0?i[Rh]&65535:0,o=t??-1,s=n.length-1,a=0;for(let l=r;l<s;l++)if(typeof n[l+1]=="number"){if(a=n[l],t!=null&&a>=t)break}else n[l]<0&&(i[Rh]+=65536),(a<o||o==-1)&&(w$(i,e,n,l),i[Rh]=(i[Rh]&4294901760)+l+2),l++}function OF(i,n){kl(4,i,n);let e=Zi(null);try{n.call(i)}finally{Zi(e),kl(5,i,n)}}function w$(i,n,e,t){let r=e[t]<0,o=e[t+1],s=r?-e[t]:e[t],a=i[s];r?i[_i]>>14<i[Rh]>>16&&(i[_i]&3)===n&&(i[_i]+=16384,OF(a,o)):OF(a,o)}var Lh=-1,vp=class{constructor(n,e,t){this.factory=n,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=t}};function S$(i){return i instanceof vp}function A$(i){return(i.flags&8)!==0}function E$(i){return(i.flags&16)!==0}var JS={},yA=class{constructor(n,e){this.injector=n,this.parentInjector=e}get(n,e,t){t=jy(t);let r=this.injector.get(n,JS,t);return r!==JS||e===JS?r:this.parentInjector.get(n,e,t)}};function cM(i){return i!==Lh}function _y(i){return i&32767}function x$(i){return i>>16}function Cy(i,n){let e=x$(i),t=n;for(;e>0;)t=t[Jh],e--;return t}var IA=!0;function yy(i){let n=IA;return IA=i,n}var T$=256,dM=T$-1,uM=5,O$=0,Fl={};function D$(i,n,e){let t;typeof e=="string"?t=e.charCodeAt(0)||0:e.hasOwnProperty(pg)&&(t=e[pg]),t==null&&(t=e[pg]=O$++);let r=t&dM,o=1<<r;n.data[i+(r>>uM)]|=o}function Iy(i,n){let e=pM(i,n);if(e!==-1)return e;let t=n[vi];t.firstCreatePass&&(i.injectorIndex=n.length,XS(t.data,i),XS(n,null),XS(t.blueprint,null));let r=FE(i,n),o=i.injectorIndex;if(cM(r)){let s=_y(r),a=Cy(r,n),l=a[vi].data;for(let c=0;c<8;c++)n[o+c]=a[s+c]|l[s+c]}return n[o+8]=r,o}function XS(i,n){i.push(0,0,0,0,0,0,0,0,n)}function pM(i,n){return i.injectorIndex===-1||i.parent&&i.parent.injectorIndex===i.injectorIndex||n[i.injectorIndex+8]===null?-1:i.injectorIndex}function FE(i,n){if(i.parent&&i.parent.injectorIndex!==-1)return i.parent.injectorIndex;let e=0,t=null,r=n;for(;r!==null;){if(t=_M(r),t===null)return Lh;if(e++,r=r[Jh],t.injectorIndex!==-1)return t.injectorIndex|e<<16}return Lh}function vA(i,n,e){D$(i,n,e)}function R$(i,n){if(n==="class")return i.classes;if(n==="style")return i.styles;let e=i.attrs;if(e){let t=e.length,r=0;for(;r<t;){let o=e[r];if(SL(o))break;if(o===0)r=r+2;else if(typeof o=="number")for(r++;r<t&&typeof e[r]=="string";)r++;else{if(o===n)return e[r+1];r=r+2}}}return null}function hM(i,n,e){if(e&$i.Optional||i!==void 0)return i;IE(n,"NodeInjector")}function fM(i,n,e,t){if(e&$i.Optional&&t===void 0&&(t=null),!(e&($i.Self|$i.Host))){let r=i[Bh],o=Ss(void 0);try{return r?r.get(n,t,e&$i.Optional):yL(n,t,e&$i.Optional)}finally{Ss(o)}}return hM(t,n,e)}function mM(i,n,e,t=$i.Default,r){if(i!==null){if(n[_i]&2048&&!(t&$i.Self)){let s=L$(i,n,e,t,Fl);if(s!==Fl)return s}let o=gM(i,n,e,t,Fl);if(o!==Fl)return o}return fM(n,e,t,r)}function gM(i,n,e,t,r){let o=k$(e);if(typeof o=="function"){if(!iM(n,i,t))return t&$i.Host?hM(r,e,t):fM(n,e,t,r);try{let s;if(s=o(t),s==null&&!(t&$i.Optional))IE(e);else return s}finally{sM()}}else if(typeof o=="number"){let s=null,a=pM(i,n),l=Lh,c=t&$i.Host?n[Zs][xs]:null;for((a===-1||t&$i.SkipSelf)&&(l=a===-1?FE(i,n):n[a+8],l===Lh||!RF(t,!1)?a=-1:(s=n[vi],a=_y(l),n=Cy(l,n)));a!==-1;){let d=n[vi];if(DF(o,a,d.data)){let p=P$(a,n,e,s,t,c);if(p!==Fl)return p}l=n[a+8],l!==Lh&&RF(t,n[vi].data[a+8]===c)&&DF(o,a,n)?(s=d,a=_y(l),n=Cy(l,n)):a=-1}}return r}function P$(i,n,e,t,r,o){let s=n[vi],a=s.data[i+8],l=t==null?$y(a)&&IA:t!=s&&(a.type&3)!==0,c=r&$i.Host&&o===a,d=ay(a,s,e,l,c);return d!==null?bp(n,s,d,a):Fl}function ay(i,n,e,t,r){let o=i.providerIndexes,s=n.data,a=o&1048575,l=i.directiveStart,c=i.directiveEnd,d=o>>20,p=t?a:a+d,g=r?a+d:c;for(let C=p;C<g;C++){let y=s[C];if(C<l&&e===y||C>=l&&y.type===e)return C}if(r){let C=s[l];if(C&&jd(C)&&C.type===e)return l}return null}function bp(i,n,e,t){let r=i[e],o=n.data;if(S$(r)){let s=r;s.resolving&&cK(lK(o[e]));let a=yy(s.canSeeViewProviders);s.resolving=!0;let l,c=s.injectImpl?Ss(s.injectImpl):null,d=iM(i,t,$i.Default);try{r=i[e]=s.factory(void 0,o,i,t),n.firstCreatePass&&e>=t.directiveStart&&b$(e,o[e],n)}finally{c!==null&&Ss(c),yy(a),s.resolving=!1,sM()}}return r}function k$(i){if(typeof i=="string")return i.charCodeAt(0)||0;let n=i.hasOwnProperty(pg)?i[pg]:void 0;return typeof n=="number"?n>=0?n&dM:F$:n}function DF(i,n,e){let t=1<<i;return!!(e[n+(i>>uM)]&t)}function RF(i,n){return!(i&$i.Self)&&!(i&$i.Host&&n)}var fp=class{constructor(n,e){this._tNode=n,this._lView=e}get(n,e,t){return mM(this._tNode,this._lView,n,jy(t),e)}};function F$(){return new fp(Bo(),$t())}function tt(i){return bg(()=>{let n=i.prototype.constructor,e=n[cy]||bA(n),t=Object.prototype,r=Object.getPrototypeOf(i.prototype).constructor;for(;r&&r!==t;){let o=r[cy]||bA(r);if(o&&o!==e)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function bA(i){return hL(i)?()=>{let n=bA(us(i));return n&&n()}:mp(i)}function L$(i,n,e,t,r){let o=i,s=n;for(;o!==null&&s!==null&&s[_i]&2048&&!(s[_i]&512);){let a=gM(o,s,e,t|$i.Self,Fl);if(a!==Fl)return a;let l=o.parent;if(!l){let c=s[VL];if(c){let d=c.get(e,Fl,t);if(d!==Fl)return d}l=_M(s),s=s[Jh]}o=l}return r}function _M(i){let n=i[vi],e=n.type;return e===2?n.declTNode:e===1?i[xs]:null}function LE(i){return R$(Bo(),i)}function PF(i,n=null,e=null,t){let r=CM(i,n,e,t);return r.resolveInjectorInitializers(),r}function CM(i,n=null,e=null,t,r=new Set){let o=[e||As,UK(i)];return t=t||(typeof i=="object"?void 0:ps(i)),new gg(o,n||zy(),t||null,r)}var Er=class i{static{this.THROW_IF_NOT_FOUND=fg}static{this.NULL=new py}static create(n,e){if(Array.isArray(n))return PF({name:""},e,n,"");{let t=n.name??"";return PF({name:t},n.parent,n.providers,t)}}static{this.\u0275prov=_e({token:i,providedIn:"any",factory:()=>ce(vL)})}static{this.__NG_ELEMENT_ID__=-1}};var M$=new He("");M$.__NG_ELEMENT_ID__=i=>{let n=Bo();if(n===null)throw new Ct(204,!1);if(n.type&2)return n.value;if(i&$i.Optional)return null;throw new Ct(204,!1)};var N$="ngOriginalError";function QS(i){return i[N$]}var yM=!0,xp=(()=>{class i{static{this.__NG_ELEMENT_ID__=V$}static{this.__NG_ENV_ID__=e=>e}}return i})(),wA=class extends xp{constructor(n){super(),this._lView=n}onDestroy(n){return qL(this._lView,n),()=>s$(this._lView,n)}};function V$(){return new wA($t())}var Hl=(()=>{class i{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Cn(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=_e({token:i,providedIn:"root",factory:()=>new i})}}return i})();var SA=class extends Re{constructor(n=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=n,NL()&&(this.destroyRef=Me(xp,{optional:!0})??void 0,this.pendingTasks=Me(Hl,{optional:!0})??void 0)}emit(n){let e=Zi(null);try{super.next(n)}finally{Zi(e)}}subscribe(n,e,t){let r=n,o=e||(()=>null),s=t;if(n&&typeof n=="object"){let l=n;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),r&&(r=this.wrapInTimeout(r)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:r,error:o,complete:s});return n instanceof Pr&&n.add(a),a}wrapInTimeout(n){return e=>{let t=this.pendingTasks?.add();setTimeout(()=>{n(e),t!==void 0&&this.pendingTasks?.remove(t)})}}},Q=SA;function vy(...i){}function IM(i){let n,e;function t(){i=vy;try{e!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(e),n!==void 0&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{i(),t()}),typeof requestAnimationFrame=="function"&&(e=requestAnimationFrame(()=>{i(),t()})),()=>t()}function kF(i){return queueMicrotask(()=>i()),()=>{i=vy}}var ME="isAngularZone",by=ME+"_ID",B$=0,xt=class i{constructor(n){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Q(!1),this.onMicrotaskEmpty=new Q(!1),this.onStable=new Q(!1),this.onError=new Q(!1);let{enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:o=yM}=n;if(typeof Zone>"u")throw new Ct(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&t,s.shouldCoalesceRunChangeDetection=r,s.callbackScheduled=!1,s.scheduleInRootZone=o,H$(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(ME)===!0}static assertInAngularZone(){if(!i.isInAngularZone())throw new Ct(909,!1)}static assertNotInAngularZone(){if(i.isInAngularZone())throw new Ct(909,!1)}run(n,e,t){return this._inner.run(n,e,t)}runTask(n,e,t,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,n,U$,vy,vy);try{return o.runTask(s,e,t)}finally{o.cancelTask(s)}}runGuarded(n,e,t){return this._inner.runGuarded(n,e,t)}runOutsideAngular(n){return this._outer.run(n)}},U$={};function NE(i){if(i._nesting==0&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function j$(i){if(i.isCheckStableRunning||i.callbackScheduled)return;i.callbackScheduled=!0;function n(){IM(()=>{i.callbackScheduled=!1,AA(i),i.isCheckStableRunning=!0,NE(i),i.isCheckStableRunning=!1})}i.scheduleInRootZone?Zone.root.run(()=>{n()}):i._outer.run(()=>{n()}),AA(i)}function H$(i){let n=()=>{j$(i)},e=B$++;i._inner=i._inner.fork({name:"angular",properties:{[ME]:!0,[by]:e,[by+e]:!0},onInvokeTask:(t,r,o,s,a,l)=>{if(G$(l))return t.invokeTask(o,s,a,l);try{return FF(i),t.invokeTask(o,s,a,l)}finally{(i.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||i.shouldCoalesceRunChangeDetection)&&n(),LF(i)}},onInvoke:(t,r,o,s,a,l,c)=>{try{return FF(i),t.invoke(o,s,a,l,c)}finally{i.shouldCoalesceRunChangeDetection&&!i.callbackScheduled&&!z$(l)&&n(),LF(i)}},onHasTask:(t,r,o,s)=>{t.hasTask(o,s),r===o&&(s.change=="microTask"?(i._hasPendingMicrotasks=s.microTask,AA(i),NE(i)):s.change=="macroTask"&&(i.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,o,s)=>(t.handleError(o,s),i.runOutsideAngular(()=>i.onError.emit(s)),!1)})}function AA(i){i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&i.callbackScheduled===!0?i.hasPendingMicrotasks=!0:i.hasPendingMicrotasks=!1}function FF(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function LF(i){i._nesting--,NE(i)}var wy=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Q,this.onMicrotaskEmpty=new Q,this.onStable=new Q,this.onError=new Q}run(n,e,t){return n.apply(e,t)}runGuarded(n,e,t){return n.apply(e,t)}runOutsideAngular(n){return n()}runTask(n,e,t,r){return n.apply(e,t)}};function G$(i){return vM(i,"__ignore_ng_zone__")}function z$(i){return vM(i,"__scheduler_tick__")}function vM(i,n){return!Array.isArray(i)||i.length!==1?!1:i[0]?.data?.[n]===!0}function W$(i="zone.js",n){return i==="noop"?new wy:i==="zone.js"?new xt(n):i}var Bl=class{constructor(){this._console=console}handleError(n){let e=this._findOriginalError(n);this._console.error("ERROR",n),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(n){let e=n&&QS(n);for(;e&&QS(e);)e=QS(e);return e||null}},K$=new He("",{providedIn:"root",factory:()=>{let i=Me(xt),n=Me(Bl);return e=>i.runOutsideAngular(()=>n.handleError(e))}});function MF(i,n){return pL(i,n)}function $$(i){return pL(uL,i)}var bM=(MF.required=$$,MF);function q$(){return Qh(Bo(),$t())}function Qh(i,n){return new ze(Aa(i,n))}var ze=(()=>{class i{constructor(e){this.nativeElement=e}static{this.__NG_ELEMENT_ID__=q$}}return i})();function Y$(i){return i instanceof ze?i.nativeElement:i}function J$(){return this._results[Symbol.iterator]()}var EA=class i{get changes(){return this._changes??=new Q}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let e=i.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=J$)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,e){return this._results.reduce(n,e)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,e){this.dirty=!1;let t=IK(n);(this._changesDetected=!yK(this._results,t,e))&&(this._results=t,this.length=t.length,this.last=t[this.length-1],this.first=t[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function wM(i){return(i.flags&128)===128}var SM=new Map,X$=0;function Q$(){return X$++}function Z$(i){SM.set(i[Ky],i)}function xA(i){SM.delete(i[Ky])}var NF="__ngContext__";function Gd(i,n){Bd(n)?(i[NF]=n[Ky],Z$(n)):i[NF]=n}function AM(i){return xM(i[_g])}function EM(i){return xM(i[al])}function xM(i){for(;i!==null&&!Dc(i);)i=i[al];return i}var TA;function TM(i){TA=i}function OM(){if(TA!==void 0)return TA;if(typeof document<"u")return document;throw new Ct(210,!1)}var nI=new He("",{providedIn:"root",factory:()=>eq}),eq="ng",VE=new He(""),qt=new He("",{providedIn:"platform",factory:()=>"unknown"});var _et=new He(""),BE=new He("",{providedIn:"root",factory:()=>OM().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var tq="h",iq="b";var nq=()=>null;function UE(i,n,e=!1){return nq(i,n,e)}var DM=!1,rq=new He("",{providedIn:"root",factory:()=>DM});var JC;function oq(){if(JC===void 0&&(JC=null,Vo.trustedTypes))try{JC=Vo.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return JC}function rI(i){return oq()?.createHTML(i)||i}var XC;function RM(){if(XC===void 0&&(XC=null,Vo.trustedTypes))try{XC=Vo.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return XC}function VF(i){return RM()?.createHTML(i)||i}function BF(i){return RM()?.createScriptURL(i)||i}var xc=class{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${dL})`}},OA=class extends xc{getTypeName(){return"HTML"}},DA=class extends xc{getTypeName(){return"Style"}},RA=class extends xc{getTypeName(){return"Script"}},PA=class extends xc{getTypeName(){return"URL"}},kA=class extends xc{getTypeName(){return"ResourceURL"}};function ia(i){return i instanceof xc?i.changingThisBreaksApplicationSecurity:i}function Rc(i,n){let e=sq(i);if(e!=null&&e!==n){if(e==="ResourceURL"&&n==="URL")return!0;throw new Error(`Required a safe ${n}, got a ${e} (see ${dL})`)}return e===n}function sq(i){return i instanceof xc&&i.getTypeName()||null}function PM(i){return new OA(i)}function kM(i){return new DA(i)}function FM(i){return new RA(i)}function LM(i){return new PA(i)}function MM(i){return new kA(i)}function aq(i){let n=new LA(i);return lq()?new FA(n):n}var FA=class{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{let e=new window.DOMParser().parseFromString(rI(n),"text/html").body;return e===null?this.inertDocumentHelper.getInertBodyElement(n):(e.firstChild?.remove(),e)}catch{return null}}},LA=class{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){let e=this.inertDocument.createElement("template");return e.innerHTML=rI(n),e}};function lq(){try{return!!new window.DOMParser().parseFromString(rI(""),"text/html")}catch{return!1}}var cq=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function oI(i){return i=String(i),i.match(cq)?i:"unsafe:"+i}function Pc(i){let n={};for(let e of i.split(","))n[e]=!0;return n}function Eg(...i){let n={};for(let e of i)for(let t in e)e.hasOwnProperty(t)&&(n[t]=!0);return n}var NM=Pc("area,br,col,hr,img,wbr"),VM=Pc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),BM=Pc("rp,rt"),dq=Eg(BM,VM),uq=Eg(VM,Pc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),pq=Eg(BM,Pc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),UF=Eg(NM,uq,pq,dq),UM=Pc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),hq=Pc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),fq=Pc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),mq=Eg(UM,hq,fq),gq=Pc("script,style,template"),MA=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let e=n.firstChild,t=!0,r=[];for(;e;){if(e.nodeType===Node.ELEMENT_NODE?t=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,t&&e.firstChild){r.push(e),e=yq(e);continue}for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let o=Cq(e);if(o){e=o;break}e=r.pop()}}return this.buf.join("")}startElement(n){let e=jF(n).toLowerCase();if(!UF.hasOwnProperty(e))return this.sanitizedSomething=!0,!gq.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);let t=n.attributes;for(let r=0;r<t.length;r++){let o=t.item(r),s=o.name,a=s.toLowerCase();if(!mq.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;UM[a]&&(l=oI(l)),this.buf.push(" ",s,'="',HF(l),'"')}return this.buf.push(">"),!0}endElement(n){let e=jF(n).toLowerCase();UF.hasOwnProperty(e)&&!NM.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(n){this.buf.push(HF(n))}};function _q(i,n){return(i.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function Cq(i){let n=i.nextSibling;if(n&&i!==n.previousSibling)throw jM(n);return n}function yq(i){let n=i.firstChild;if(n&&_q(i,n))throw jM(n);return n}function jF(i){let n=i.nodeName;return typeof n=="string"?n:"FORM"}function jM(i){return new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`)}var Iq=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,vq=/([^\#-~ |!])/g;function HF(i){return i.replace(/&/g,"&amp;").replace(Iq,function(n){let e=n.charCodeAt(0),t=n.charCodeAt(1);return"&#"+((e-55296)*1024+(t-56320)+65536)+";"}).replace(vq,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var QC;function jE(i,n){let e=null;try{QC=QC||aq(i);let t=n?String(n):"";e=QC.getInertBodyElement(t);let r=5,o=t;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,t=o,o=e.innerHTML,e=QC.getInertBodyElement(t)}while(t!==o);let a=new MA().sanitizeChildren(GF(e)||e);return rI(a)}finally{if(e){let t=GF(e)||e;for(;t.firstChild;)t.firstChild.remove()}}}function GF(i){return"content"in i&&bq(i)?i.content:null}function bq(i){return i.nodeType===Node.ELEMENT_NODE&&i.nodeName==="TEMPLATE"}var na=function(i){return i[i.NONE=0]="NONE",i[i.HTML=1]="HTML",i[i.STYLE=2]="STYLE",i[i.SCRIPT=3]="SCRIPT",i[i.URL=4]="URL",i[i.RESOURCE_URL=5]="RESOURCE_URL",i}(na||{});function Xi(i){let n=GE();return n?VF(n.sanitize(na.HTML,i)||""):Rc(i,"HTML")?VF(ia(i)):jE(OM(),Ll(i))}function Uo(i){let n=GE();return n?n.sanitize(na.URL,i)||"":Rc(i,"URL")?ia(i):oI(Ll(i))}function HE(i){let n=GE();if(n)return BF(n.sanitize(na.RESOURCE_URL,i)||"");if(Rc(i,"ResourceURL"))return BF(ia(i));throw new Ct(904,!1)}function wq(i,n){return n==="src"&&(i==="embed"||i==="frame"||i==="iframe"||i==="media"||i==="script")||n==="href"&&(i==="base"||i==="link")?HE:Uo}function HM(i,n,e){return wq(n,e)(i)}function GE(){let i=$t();return i&&i[Nl].sanitizer}var Sq=/^>|^->|<!--|-->|--!>|<!-$/g,Aq=/(<|>)/g,Eq="\u200B$1\u200B";function xq(i){return i.replace(Sq,n=>n.replace(Aq,Eq))}function Tq(i){return i.ownerDocument.defaultView}function GM(i){return i.ownerDocument}function zM(i){return i instanceof Function?i():i}function Oq(i){return(i??Me(Er)).get(qt)==="browser"}var Ul=function(i){return i[i.Important=1]="Important",i[i.DashCase=2]="DashCase",i}(Ul||{}),Dq;function zE(i,n){return Dq(i,n)}function Ph(i,n,e,t,r){if(t!=null){let o,s=!1;Dc(t)?o=t:Bd(t)&&(s=!0,t=t[Oc]);let a=Vl(t);i===0&&e!==null?r==null?YM(n,e,a):Sy(n,e,a,r||null,!0):i===1&&e!==null?Sy(n,e,a,r||null,!0):i===2?zq(n,a,s):i===3&&n.destroyNode(a),o!=null&&Kq(n,i,o,e,r)}}function Rq(i,n){return i.createText(n)}function Pq(i,n,e){i.setValue(n,e)}function kq(i,n){return i.createComment(xq(n))}function WM(i,n,e){return i.createElement(n,e)}function Fq(i,n){KM(i,n),n[Oc]=null,n[xs]=null}function Lq(i,n,e,t,r,o){t[Oc]=r,t[xs]=n,lI(i,t,e,1,r,o)}function KM(i,n){n[Nl].changeDetectionScheduler?.notify(9),lI(i,n,n[Ar],2,null,null)}function Mq(i){let n=i[_g];if(!n)return ZS(i[vi],i);for(;n;){let e=null;if(Bd(n))e=n[_g];else{let t=n[Zo];t&&(e=t)}if(!e){for(;n&&!n[al]&&n!==i;)Bd(n)&&ZS(n[vi],n),n=n[es];n===null&&(n=i),Bd(n)&&ZS(n[vi],n),e=n&&n[al]}n=e}}function Nq(i,n,e,t){let r=Zo+t,o=e.length;t>0&&(e[r-1][al]=n),t<o-Zo?(n[al]=e[r],IL(e,Zo+t,n)):(e.push(n),n[al]=null),n[es]=e;let s=n[_p];s!==null&&e!==s&&$M(s,n);let a=n[Ec];a!==null&&a.insertView(i),_A(n),n[_i]|=128}function $M(i,n){let e=i[Uh],t=n[es];if(Bd(t))i[_i]|=gy.HasTransplantedViews;else{let r=t[es][Zs];n[Zs]!==r&&(i[_i]|=gy.HasTransplantedViews)}e===null?i[Uh]=[n]:e.push(n)}function WE(i,n){let e=i[Uh],t=e.indexOf(n);e.splice(t,1)}function Cg(i,n){if(i.length<=Zo)return;let e=Zo+n,t=i[e];if(t){let r=t[_p];r!==null&&r!==i&&WE(r,t),n>0&&(i[e-1][al]=t[al]);let o=uy(i,Zo+n);Fq(t[vi],t);let s=o[Ec];s!==null&&s.detachView(o[vi]),t[es]=null,t[al]=null,t[_i]&=-129}return t}function sI(i,n){if(!(n[_i]&256)){let e=n[Ar];e.destroyNode&&lI(i,n,e,3,null,null),Mq(n)}}function ZS(i,n){if(n[_i]&256)return;let e=Zi(null);try{n[_i]&=-129,n[_i]|=256,n[wa]&&IC(n[wa]),Bq(i,n),Vq(i,n),n[vi].type===1&&n[Ar].destroy();let t=n[_p];if(t!==null&&Dc(n[es])){t!==n[es]&&WE(t,n);let r=n[Ec];r!==null&&r.detachView(i)}xA(n)}finally{Zi(e)}}function Vq(i,n){let e=i.cleanup,t=n[fy];if(e!==null)for(let o=0;o<e.length-1;o+=2)if(typeof e[o]=="string"){let s=e[o+3];s>=0?t[s]():t[-s].unsubscribe(),o+=2}else{let s=t[e[o+1]];e[o].call(s)}t!==null&&(n[fy]=null);let r=n[Vd];if(r!==null){n[Vd]=null;for(let o=0;o<r.length;o++){let s=r[o];s()}}}function Bq(i,n){let e;if(i!=null&&(e=i.destroyHooks)!=null)for(let t=0;t<e.length;t+=2){let r=n[e[t]];if(!(r instanceof vp)){let o=e[t+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],l=o[s+1];kl(4,a,l);try{l.call(a)}finally{kl(5,a,l)}}else{kl(4,r,o);try{o.call(r)}finally{kl(5,r,o)}}}}}function qM(i,n,e){return Uq(i,n.parent,e)}function Uq(i,n,e){let t=n;for(;t!==null&&t.type&168;)n=t,t=n.parent;if(t===null)return e[Oc];{let{componentOffset:r}=t;if(r>-1){let{encapsulation:o}=i.data[t.directiveStart+r];if(o===Ml.None||o===Ml.Emulated)return null}return Aa(t,e)}}function Sy(i,n,e,t,r){i.insertBefore(n,e,t,r)}function YM(i,n,e){i.appendChild(n,e)}function zF(i,n,e,t,r){t!==null?Sy(i,n,e,t,r):YM(i,n,e)}function JM(i,n){return i.parentNode(n)}function jq(i,n){return i.nextSibling(n)}function XM(i,n,e){return Gq(i,n,e)}function Hq(i,n,e){return i.type&40?Aa(i,e):null}var Gq=Hq,WF;function aI(i,n,e,t){let r=qM(i,t,n),o=n[Ar],s=t.parent||n[xs],a=XM(s,t,n);if(r!=null)if(Array.isArray(e))for(let l=0;l<e.length;l++)zF(o,r,e[l],a,!1);else zF(o,r,e,a,!1);WF!==void 0&&WF(o,t,n,e,r)}function ug(i,n){if(n!==null){let e=n.type;if(e&3)return Aa(n,i);if(e&4)return NA(-1,i[n.index]);if(e&8){let t=n.child;if(t!==null)return ug(i,t);{let r=i[n.index];return Dc(r)?NA(-1,r):Vl(r)}}else{if(e&128)return ug(i,n.next);if(e&32)return zE(n,i)()||Vl(i[n.index]);{let t=QM(i,n);if(t!==null){if(Array.isArray(t))return t[0];let r=yp(i[Zs]);return ug(r,t)}else return ug(i,n.next)}}}return null}function QM(i,n){if(n!==null){let t=i[Zs][xs],r=n.projection;return t.projection[r]}return null}function NA(i,n){let e=Zo+i+1;if(e<n.length){let t=n[e],r=t[vi].firstChild;if(r!==null)return ug(t,r)}return n[Cp]}function zq(i,n,e){i.removeChild(null,n,e)}function KE(i,n,e,t,r,o,s){for(;e!=null;){if(e.type===128){e=e.next;continue}let a=t[e.index],l=e.type;if(s&&n===0&&(a&&Gd(Vl(a),t),e.flags|=2),(e.flags&32)!==32)if(l&8)KE(i,n,e.child,t,r,o,!1),Ph(n,i,r,a,o);else if(l&32){let c=zE(e,t),d;for(;d=c();)Ph(n,i,r,d,o);Ph(n,i,r,a,o)}else l&16?ZM(i,n,t,e,r,o):Ph(n,i,r,a,o);e=s?e.projectionNext:e.next}}function lI(i,n,e,t,r,o){KE(e,t,i.firstChild,n,r,o,!1)}function Wq(i,n,e){let t=n[Ar],r=qM(i,e,n),o=e.parent||n[xs],s=XM(o,e,n);ZM(t,0,n,e,r,s)}function ZM(i,n,e,t,r,o){let s=e[Zs],l=s[xs].projection[t.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let d=l[c];Ph(n,i,r,d,o)}else{let c=l,d=s[es];wM(t)&&(c.flags|=128),KE(i,n,c,d,r,o,!0)}}function Kq(i,n,e,t,r){let o=e[Cp],s=Vl(e);o!==s&&Ph(n,i,t,o,r);for(let a=Zo;a<e.length;a++){let l=e[a];lI(l[vi],l,i,n,t,o)}}function $q(i,n,e,t,r){if(n)r?i.addClass(e,t):i.removeClass(e,t);else{let o=t.indexOf("-")===-1?void 0:Ul.DashCase;r==null?i.removeStyle(e,t,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Ul.Important),i.setStyle(e,t,r,o))}}function qq(i,n,e){i.setAttribute(n,"style",e)}function eN(i,n,e){e===""?i.removeAttribute(n,"class"):i.setAttribute(n,"class",e)}function tN(i,n,e){let{mergedAttrs:t,classes:r,styles:o}=e;t!==null&&uA(i,n,t),r!==null&&eN(i,n,r),o!==null&&qq(i,n,o)}var ts={};function u(i=1){iN(xr(),$t(),jl()+i,!1)}function iN(i,n,e,t){if(!t)if((n[_i]&3)===3){let o=i.preOrderCheckHooks;o!==null&&oy(n,o,e)}else{let o=i.preOrderHooks;o!==null&&sy(n,o,0,e)}Ip(e)}function b(i,n=$i.Default){let e=$t();if(e===null)return ce(i,n);let t=Bo();return mM(t,e,us(i),n)}function nN(){let i="invalid";throw new Error(i)}function rN(i,n,e,t,r,o){let s=Zi(null);try{let a=null;r&Ud.SignalBased&&(a=n[t][Xa]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),r&Ud.HasDecoratorInputTransform&&(o=i.inputTransforms[t].call(n,o)),i.setInput!==null?i.setInput(n,a,o,e,t):UL(n,a,t,o)}finally{Zi(s)}}function Yq(i,n){let e=i.hostBindingOpCodes;if(e!==null)try{for(let t=0;t<e.length;t++){let r=e[t];if(r<0)Ip(~r);else{let o=r,s=e[++t],a=e[++t];g$(s,o);let l=n[o];a(2,l)}}}finally{Ip(-1)}}function cI(i,n,e,t,r,o,s,a,l,c,d){let p=n.blueprint.slice();return p[Oc]=r,p[_i]=t|4|128|8|64,(c!==null||i&&i[_i]&2048)&&(p[_i]|=2048),KL(p),p[es]=p[Jh]=i,p[Qo]=e,p[Nl]=s||i&&i[Nl],p[Ar]=a||i&&i[Ar],p[Bh]=l||i&&i[Bh]||null,p[xs]=o,p[Ky]=Q$(),p[Vh]=d,p[VL]=c,p[Zs]=n.type==2?i[Zs]:p,p}function Zh(i,n,e,t,r){let o=i.data[n];if(o===null)o=Jq(i,n,e,t,r),m$()&&(o.flags|=32);else if(o.type&64){o.type=e,o.value=t,o.attrs=r;let s=p$();o.injectorIndex=s===null?-1:s.injectorIndex}return Ep(o,!0),o}function Jq(i,n,e,t,r){let o=QL(),s=OE(),a=s?o:o&&o.parent,l=i.data[n]=iY(i,a,e,n,t,r);return i.firstChild===null&&(i.firstChild=l),o!==null&&(s?o.child==null&&l.parent!==null&&(o.child=l):o.next===null&&(o.next=l,l.prev=o)),l}function oN(i,n,e,t){if(e===0)return-1;let r=n.length;for(let o=0;o<e;o++)n.push(t),i.blueprint.push(t),i.data.push(null);return r}function sN(i,n,e,t,r){let o=jl(),s=t&2;try{Ip(-1),s&&n.length>ho&&iN(i,n,ho,!1),kl(s?2:0,r),e(t,r)}finally{Ip(o),kl(s?3:1,r)}}function $E(i,n,e){if(EE(n)){let t=Zi(null);try{let r=n.directiveStart,o=n.directiveEnd;for(let s=r;s<o;s++){let a=i.data[s];if(a.contentQueries){let l=e[s];a.contentQueries(1,l,s)}}}finally{Zi(t)}}}function qE(i,n,e){JL()&&(lY(i,n,e,Aa(e,n)),(e.flags&64)===64&&cN(i,n,e))}function YE(i,n,e=Aa){let t=n.localNames;if(t!==null){let r=n.index+1;for(let o=0;o<t.length;o+=2){let s=t[o+1],a=s===-1?e(n,i):i[s];i[r++]=a}}}function aN(i){let n=i.tView;return n===null||n.incompleteFirstPass?i.tView=JE(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts,i.id):n}function JE(i,n,e,t,r,o,s,a,l,c,d){let p=ho+t,g=p+r,C=Xq(p,g),y=typeof c=="function"?c():c;return C[vi]={type:i,blueprint:C,template:e,queries:null,viewQuery:a,declTNode:n,data:C.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:y,incompleteFirstPass:!1,ssrId:d}}function Xq(i,n){let e=[];for(let t=0;t<n;t++)e.push(t<i?null:ts);return e}function Qq(i,n,e,t){let o=t.get(rq,DM)||e===Ml.ShadowDom,s=i.selectRootElement(n,o);return Zq(s),s}function Zq(i){eY(i)}var eY=()=>null;function tY(i,n,e,t){let r=pN(n);r.push(e),i.firstCreatePass&&hN(i).push(t,r.length-1)}function iY(i,n,e,t,r,o){let s=n?n.injectorIndex:-1,a=0;return XL()&&(a|=128),{type:e,index:t,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function KF(i,n,e,t,r){for(let o in n){if(!n.hasOwnProperty(o))continue;let s=n[o];if(s===void 0)continue;t??={};let a,l=Ud.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let c=o;if(r!==null){if(!r.hasOwnProperty(o))continue;c=r[o]}i===0?$F(t,e,c,a,l):$F(t,e,c,a)}return t}function $F(i,n,e,t,r){let o;i.hasOwnProperty(e)?(o=i[e]).push(n,t):o=i[e]=[n,t],r!==void 0&&o.push(r)}function nY(i,n,e){let t=n.directiveStart,r=n.directiveEnd,o=i.data,s=n.attrs,a=[],l=null,c=null;for(let d=t;d<r;d++){let p=o[d],g=e?e.get(p):null,C=g?g.inputs:null,y=g?g.outputs:null;l=KF(0,p.inputs,d,l,C),c=KF(1,p.outputs,d,c,y);let v=l!==null&&s!==null&&!SE(n)?yY(l,d,s):null;a.push(v)}l!==null&&(l.hasOwnProperty("class")&&(n.flags|=8),l.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=a,n.inputs=l,n.outputs=c}function rY(i){return i==="class"?"className":i==="for"?"htmlFor":i==="formaction"?"formAction":i==="innerHtml"?"innerHTML":i==="readonly"?"readOnly":i==="tabindex"?"tabIndex":i}function XE(i,n,e,t,r,o,s,a){let l=Aa(n,e),c=n.inputs,d;!a&&c!=null&&(d=c[t])?(ZE(i,e,d,t,r),$y(n)&&oY(e,n.index)):n.type&3?(t=rY(t),r=s!=null?s(r,n.value||"",t):r,o.setProperty(l,t,r)):n.type&12}function oY(i,n){let e=Wd(n,i);e[_i]&16||(e[_i]|=64)}function QE(i,n,e,t){if(JL()){let r=t===null?null:{"":-1},o=dY(i,e),s,a;o===null?s=a=null:[s,a]=o,s!==null&&lN(i,n,e,s,r,a),r&&uY(e,t,r)}e.mergedAttrs=mg(e.mergedAttrs,e.attrs)}function lN(i,n,e,t,r,o){for(let c=0;c<t.length;c++)vA(Iy(e,n),i,t[c].type);hY(e,i.data.length,t.length);for(let c=0;c<t.length;c++){let d=t[c];d.providersResolver&&d.providersResolver(d)}let s=!1,a=!1,l=oN(i,n,t.length,null);for(let c=0;c<t.length;c++){let d=t[c];e.mergedAttrs=mg(e.mergedAttrs,d.hostAttrs),fY(i,e,n,l,d),pY(l,d,r),d.contentQueries!==null&&(e.flags|=4),(d.hostBindings!==null||d.hostAttrs!==null||d.hostVars!==0)&&(e.flags|=64);let p=d.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((i.preOrderHooks??=[]).push(e.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((i.preOrderCheckHooks??=[]).push(e.index),a=!0),l++}nY(i,e,o)}function sY(i,n,e,t,r){let o=r.hostBindings;if(o){let s=i.hostBindingOpCodes;s===null&&(s=i.hostBindingOpCodes=[]);let a=~n.index;aY(s)!=a&&s.push(a),s.push(e,t,o)}}function aY(i){let n=i.length;for(;n>0;){let e=i[--n];if(typeof e=="number"&&e<0)return e}return 0}function lY(i,n,e,t){let r=e.directiveStart,o=e.directiveEnd;$y(e)&&mY(n,e,i.data[r+e.componentOffset]),i.firstCreatePass||Iy(e,n),Gd(t,n);let s=e.initialInputs;for(let a=r;a<o;a++){let l=i.data[a],c=bp(n,i,a,e);if(Gd(c,n),s!==null&&CY(n,a-r,c,l,e,s),jd(l)){let d=Wd(e.index,n);d[Qo]=bp(n,i,a,e)}}}function cN(i,n,e){let t=e.directiveStart,r=e.directiveEnd,o=e.index,s=_$();try{Ip(o);for(let a=t;a<r;a++){let l=i.data[a],c=n[a];CA(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&cY(l,c)}}finally{Ip(-1),CA(s)}}function cY(i,n){i.hostBindings!==null&&i.hostBindings(1,n)}function dY(i,n){let e=i.directiveRegistry,t=null,r=null;if(e)for(let o=0;o<e.length;o++){let s=e[o];if(EL(n,s.selectors,!1))if(t||(t=[]),jd(s))if(s.findHostDirectiveDefs!==null){let a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),t.unshift(...a,s);let l=a.length;VA(i,n,l)}else t.unshift(s),VA(i,n,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,t,r),t.push(s)}return t===null?null:[t,r]}function VA(i,n,e){n.componentOffset=e,(i.components??=[]).push(n.index)}function uY(i,n,e){if(n){let t=i.localNames=[];for(let r=0;r<n.length;r+=2){let o=e[n[r+1]];if(o==null)throw new Ct(-301,!1);t.push(n[r],o)}}}function pY(i,n,e){if(e){if(n.exportAs)for(let t=0;t<n.exportAs.length;t++)e[n.exportAs[t]]=i;jd(n)&&(e[""]=i)}}function hY(i,n,e){i.flags|=1,i.directiveStart=n,i.directiveEnd=n+e,i.providerIndexes=n}function fY(i,n,e,t,r){i.data[t]=r;let o=r.factory||(r.factory=mp(r.type,!0)),s=new vp(o,jd(r),b);i.blueprint[t]=s,e[t]=s,sY(i,n,t,oN(i,e,r.hostVars,ts),r)}function mY(i,n,e){let t=Aa(n,i),r=aN(e),o=i[Nl].rendererFactory,s=16;e.signals?s=4096:e.onPush&&(s=64);let a=dI(i,cI(i,r,null,s,t,n,null,o.createRenderer(t,e),null,null,null));i[n.index]=a}function gY(i,n,e,t,r,o){let s=Aa(i,n);_Y(n[Ar],s,o,i.value,e,t,r)}function _Y(i,n,e,t,r,o,s){if(o==null)i.removeAttribute(n,r,e);else{let a=s==null?Ll(o):s(o,t||"",r);i.setAttribute(n,r,a,e)}}function CY(i,n,e,t,r,o){let s=o[n];if(s!==null)for(let a=0;a<s.length;){let l=s[a++],c=s[a++],d=s[a++],p=s[a++];rN(t,e,l,c,d,p)}}function yY(i,n,e){let t=null,r=0;for(;r<e.length;){let o=e[r];if(o===0){r+=4;continue}else if(o===5){r+=2;continue}if(typeof o=="number")break;if(i.hasOwnProperty(o)){t===null&&(t=[]);let s=i[o];for(let a=0;a<s.length;a+=3)if(s[a]===n){t.push(o,s[a+1],s[a+2],e[r+1]);break}}r+=2}return t}function dN(i,n,e,t){return[i,!0,0,n,null,t,null,e,null,null]}function uN(i,n){let e=i.contentQueries;if(e!==null){let t=Zi(null);try{for(let r=0;r<e.length;r+=2){let o=e[r],s=e[r+1];if(s!==-1){let a=i.data[s];RE(o),a.contentQueries(2,n[s],s)}}}finally{Zi(t)}}}function dI(i,n){return i[_g]?i[EF][al]=n:i[_g]=n,i[EF]=n,n}function BA(i,n,e){RE(0);let t=Zi(null);try{n(i,e)}finally{Zi(t)}}function pN(i){return i[fy]??=[]}function hN(i){return i.cleanup??=[]}function fN(i,n){let e=i[Bh],t=e?e.get(Bl,null):null;t&&t.handleError(n)}function ZE(i,n,e,t,r){for(let o=0;o<e.length;){let s=e[o++],a=e[o++],l=e[o++],c=n[s],d=i.data[s];rN(d,c,t,a,l,r)}}function ex(i,n,e){let t=WL(n,i);Pq(i[Ar],t,e)}function IY(i,n){let e=Wd(n,i),t=e[vi];vY(t,e);let r=e[Oc];r!==null&&e[Vh]===null&&(e[Vh]=UE(r,e[Bh])),tx(t,e,e[Qo])}function vY(i,n){for(let e=n.length;e<i.blueprint.length;e++)n.push(i.blueprint[e])}function tx(i,n,e){PE(n);try{let t=i.viewQuery;t!==null&&BA(1,t,e);let r=i.template;r!==null&&sN(i,n,r,1,e),i.firstCreatePass&&(i.firstCreatePass=!1),n[Ec]?.finishViewCreation(i),i.staticContentQueries&&uN(i,n),i.staticViewQueries&&BA(2,i.viewQuery,e);let o=i.components;o!==null&&bY(n,o)}catch(t){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),t}finally{n[_i]&=-5,kE()}}function bY(i,n){for(let e=0;e<n.length;e++)IY(i,n[e])}function xg(i,n,e,t){let r=Zi(null);try{let o=n.tView,a=i[_i]&4096?4096:16,l=cI(i,o,e,a,null,n,null,null,t?.injector??null,t?.embeddedViewInjector??null,t?.dehydratedView??null),c=i[n.index];l[_p]=c;let d=i[Ec];return d!==null&&(l[Ec]=d.createEmbeddedView(o)),tx(o,l,e),l}finally{Zi(r)}}function mN(i,n){let e=Zo+n;if(e<i.length)return i[e]}function jh(i,n){return!n||n.firstChild===null||wM(i)}function Tg(i,n,e,t=!0){let r=n[vi];if(Nq(r,n,i,e),t){let s=NA(e,i),a=n[Ar],l=JM(a,i[Cp]);l!==null&&Lq(r,i[xs],a,n,l,s)}let o=n[Vh];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function gN(i,n){let e=Cg(i,n);return e!==void 0&&sI(e[vi],e),e}function Ay(i,n,e,t,r=!1){for(;e!==null;){if(e.type===128){e=r?e.projectionNext:e.next;continue}let o=n[e.index];o!==null&&t.push(Vl(o)),Dc(o)&&wY(o,t);let s=e.type;if(s&8)Ay(i,n,e.child,t);else if(s&32){let a=zE(e,n),l;for(;l=a();)t.push(l)}else if(s&16){let a=QM(n,e);if(Array.isArray(a))t.push(...a);else{let l=yp(n[Zs]);Ay(l[vi],l,a,t,!0)}}e=r?e.projectionNext:e.next}return t}function wY(i,n){for(let e=Zo;e<i.length;e++){let t=i[e],r=t[vi].firstChild;r!==null&&Ay(t[vi],t,r,n)}i[Cp]!==i[Oc]&&n.push(i[Cp])}var _N=[];function SY(i){return i[wa]??AY(i)}function AY(i){let n=_N.pop()??Object.create(xY);return n.lView=i,n}function EY(i){i.lView[wa]!==i&&(i.lView=null,_N.push(i))}var xY=Pe(re({},Ch),{consumerIsAlwaysLive:!0,consumerMarkedDirty:i=>{Xy(i.lView)},consumerOnSignalRead(){this.lView[wa]=this}});function TY(i){let n=i[wa]??Object.create(OY);return n.lView=i,n}var OY=Pe(re({},Ch),{consumerIsAlwaysLive:!0,consumerMarkedDirty:i=>{let n=yp(i.lView);for(;n&&!CN(n[vi]);)n=yp(n);n&&$L(n)},consumerOnSignalRead(){this.lView[wa]=this}});function CN(i){return i.type!==2}var DY=100;function yN(i,n=!0,e=0){let t=i[Nl],r=t.rendererFactory,o=!1;o||r.begin?.();try{RY(i,e)}catch(s){throw n&&fN(i,s),s}finally{o||(r.end?.(),t.inlineEffectRunner?.flush())}}function RY(i,n){let e=ZL();try{TF(!0),UA(i,n);let t=0;for(;Jy(i);){if(t===DY)throw new Ct(103,!1);t++,UA(i,1)}}finally{TF(e)}}function PY(i,n,e,t){let r=n[_i];if((r&256)===256)return;let o=!1,s=!1;!o&&n[Nl].inlineEffectRunner?.flush(),PE(n);let a=!0,l=null,c=null;o||(CN(i)?(c=SY(n),l=ig(c)):Dk()===null?(a=!1,c=TY(n),l=ig(c)):n[wa]&&(IC(n[wa]),n[wa]=null));try{KL(n),f$(i.bindingStartIndex),e!==null&&sN(i,n,e,2,t);let d=(r&3)===3;if(!o)if(d){let C=i.preOrderCheckHooks;C!==null&&oy(n,C,null)}else{let C=i.preOrderHooks;C!==null&&sy(n,C,0,null),YS(n,0)}if(s||kY(n),IN(n,0),i.contentQueries!==null&&uN(i,n),!o)if(d){let C=i.contentCheckHooks;C!==null&&oy(n,C)}else{let C=i.contentHooks;C!==null&&sy(n,C,1),YS(n,1)}Yq(i,n);let p=i.components;p!==null&&bN(n,p,0);let g=i.viewQuery;if(g!==null&&BA(2,g,t),!o)if(d){let C=i.viewCheckHooks;C!==null&&oy(n,C)}else{let C=i.viewHooks;C!==null&&sy(n,C,2),YS(n,2)}if(i.firstUpdatePass===!0&&(i.firstUpdatePass=!1),n[ry]){for(let C of n[ry])C();n[ry]=null}o||(n[_i]&=-73)}catch(d){throw o||Xy(n),d}finally{c!==null&&(CC(c,l),a&&EY(c)),kE()}}function IN(i,n){for(let e=AM(i);e!==null;e=EM(e))for(let t=Zo;t<e.length;t++){let r=e[t];vN(r,n)}}function kY(i){for(let n=AM(i);n!==null;n=EM(n)){if(!(n[_i]&gy.HasTransplantedViews))continue;let e=n[Uh];for(let t=0;t<e.length;t++){let r=e[t];$L(r)}}}function FY(i,n,e){let t=Wd(n,i);vN(t,e)}function vN(i,n){TE(i)&&UA(i,n)}function UA(i,n){let t=i[vi],r=i[_i],o=i[wa],s=!!(n===0&&r&16);if(s||=!!(r&64&&n===0),s||=!!(r&1024),s||=!!(o?.dirty&&yC(o)),s||=!1,o&&(o.dirty=!1),i[_i]&=-9217,s)PY(t,i,t.template,i[Qo]);else if(r&8192){IN(i,1);let a=t.components;a!==null&&bN(i,a,1)}}function bN(i,n,e){for(let t=0;t<n.length;t++)FY(i,n[t],e)}function ix(i,n){let e=ZL()?64:1088;for(i[Nl].changeDetectionScheduler?.notify(n);i;){i[_i]|=e;let t=yp(i);if(mA(i)&&!t)return i;i=t}return null}var wp=class{get rootNodes(){let n=this._lView,e=n[vi];return Ay(e,n,e.firstChild,[])}constructor(n,e,t=!0){this._lView=n,this._cdRefInjectingView=e,this.notifyErrorHandler=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Qo]}set context(n){this._lView[Qo]=n}get destroyed(){return(this._lView[_i]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let n=this._lView[es];if(Dc(n)){let e=n[my],t=e?e.indexOf(this):-1;t>-1&&(Cg(n,t),uy(e,t))}this._attachedToViewContainer=!1}sI(this._lView[vi],this._lView)}onDestroy(n){qL(this._lView,n)}markForCheck(){ix(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[_i]&=-129}reattach(){_A(this._lView),this._lView[_i]|=128}detectChanges(){this._lView[_i]|=1024,yN(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ct(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let n=mA(this._lView),e=this._lView[_p];e!==null&&!n&&WE(e,this._lView),KM(this._lView[vi],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Ct(902,!1);this._appRef=n;let e=mA(this._lView),t=this._lView[_p];t!==null&&!e&&$M(t,this._lView),_A(this._lView)}},ea=(()=>{class i{static{this.__NG_ELEMENT_ID__=NY}}return i})(),LY=ea,MY=class extends LY{constructor(n,e,t){super(),this._declarationLView=n,this._declarationTContainer=e,this.elementRef=t}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,e){return this.createEmbeddedViewImpl(n,e)}createEmbeddedViewImpl(n,e,t){let r=xg(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:e,dehydratedView:t});return new wp(r)}};function NY(){return uI(Bo(),$t())}function uI(i,n){return i.type&4?new MY(n,i,Qh(i,n)):null}var yet=new RegExp(`^(\\d+)*(${iq}|${tq})*(.*)`);var VY=()=>null;function Hh(i,n){return VY(i,n)}var Gh=class{},nx=new He("",{providedIn:"root",factory:()=>!1});var wN=new He(""),SN=new He(""),jA=class{},Ey=class{};function BY(i){let n=Error(`No component factory found for ${ps(i)}.`);return n[UY]=i,n}var UY="ngComponent";var HA=class{resolveComponentFactory(n){throw BY(n)}},zd=class{static{this.NULL=new HA}},zh=class{},Ft=(()=>{class i{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>jY()}}return i})();function jY(){let i=$t(),n=Bo(),e=Wd(n.index,i);return(Bd(e)?e:i)[Ar]}var HY=(()=>{class i{static{this.\u0275prov=_e({token:i,providedIn:"root",factory:()=>null})}}return i})();function xy(i,n,e){let t=e?i.styles:null,r=e?i.classes:null,o=0;if(n!==null)for(let s=0;s<n.length;s++){let a=n[s];if(typeof a=="number")o=a;else if(o==1)r=aA(r,a);else if(o==2){let l=a,c=n[++s];t=aA(t,l+": "+c+";")}}e?i.styles=t:i.stylesWithoutHost=t,e?i.classes=r:i.classesWithoutHost=r}var Ty=class extends zd{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){let e=Ac(n);return new Sp(e,this.ngModule)}};function qF(i,n){let e=[];for(let t in i){if(!i.hasOwnProperty(t))continue;let r=i[t];if(r===void 0)continue;let o=Array.isArray(r),s=o?r[0]:r,a=o?r[1]:Ud.None;n?e.push({propName:s,templateName:t,isSignal:(a&Ud.SignalBased)!==0}):e.push({propName:s,templateName:t})}return e}function GY(i){let n=i.toLowerCase();return n==="svg"?zL:n==="math"?i$:null}var Sp=class extends Ey{get inputs(){let n=this.componentDef,e=n.inputTransforms,t=qF(n.inputs,!0);if(e!==null)for(let r of t)e.hasOwnProperty(r.propName)&&(r.transform=e[r.propName]);return t}get outputs(){return qF(this.componentDef.outputs,!1)}constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=LK(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!e}create(n,e,t,r){let o=Zi(null);try{r=r||this.ngModule;let s=r instanceof hs?r:r?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new yA(n,s):n,l=a.get(zh,null);if(l===null)throw new Ct(407,!1);let c=a.get(HY,null),d=a.get(Gh,null),p={rendererFactory:l,sanitizer:c,inlineEffectRunner:null,changeDetectionScheduler:d},g=l.createRenderer(null,this.componentDef),C=this.componentDef.selectors[0][0]||"div",y=t?Qq(g,t,this.componentDef.encapsulation,a):WM(g,C,GY(C)),v=512;this.componentDef.signals?v|=4096:this.componentDef.onPush||(v|=16);let w=null;y!==null&&(w=UE(y,a,!0));let E=JE(0,null,null,1,0,null,null,null,null,null,null),T=cI(null,E,null,v,null,null,p,g,a,null,w);PE(T);let F,G,z=null;try{let X=this.componentDef,ne,Y=null;X.findHostDirectiveDefs?(ne=[],Y=new Map,X.findHostDirectiveDefs(X,ne,Y),ne.push(X)):ne=[X];let se=zY(T,y);z=WY(se,y,X,ne,T,p,g),G=xE(E,ho),y&&qY(g,X,y,t),e!==void 0&&YY(G,this.ngContentSelectors,e),F=$Y(z,X,ne,Y,T,[JY]),tx(E,T,null)}catch(X){throw z!==null&&xA(z),xA(T),X}finally{kE()}return new GA(this.componentType,F,Qh(G,T),T,G)}finally{Zi(o)}}},GA=class extends jA{constructor(n,e,t,r,o){super(),this.location=t,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new wp(r,void 0,!1),this.componentType=n}setInput(n,e){let t=this._tNode.inputs,r;if(t!==null&&(r=t[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),e))return;let o=this._rootLView;ZE(o[vi],o,r,n,e),this.previousInputValues.set(n,e);let s=Wd(this._tNode.index,o);ix(s,1)}}get injector(){return new fp(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}};function zY(i,n){let e=i[vi],t=ho;return i[t]=n,Zh(e,t,2,"#host",null)}function WY(i,n,e,t,r,o,s){let a=r[vi];KY(t,i,n,s);let l=null;n!==null&&(l=UE(n,r[Bh]));let c=o.rendererFactory.createRenderer(n,e),d=16;e.signals?d=4096:e.onPush&&(d=64);let p=cI(r,aN(e),null,d,r[i.index],i,o,c,null,null,l);return a.firstCreatePass&&VA(a,i,t.length-1),dI(r,p),r[i.index]=p}function KY(i,n,e,t){for(let r of i)n.mergedAttrs=mg(n.mergedAttrs,r.hostAttrs);n.mergedAttrs!==null&&(xy(n,n.mergedAttrs,!0),e!==null&&tN(t,e,n))}function $Y(i,n,e,t,r,o){let s=Bo(),a=r[vi],l=Aa(s,r);lN(a,r,s,e,null,t);for(let d=0;d<e.length;d++){let p=s.directiveStart+d,g=bp(r,a,p,s);Gd(g,r)}cN(a,r,s),l&&Gd(l,r);let c=bp(r,a,s.directiveStart+s.componentOffset,s);if(i[Qo]=r[Qo]=c,o!==null)for(let d of o)d(c,n);return $E(a,s,r),c}function qY(i,n,e,t){if(t)uA(i,e,["ng-version","18.2.13"]);else{let{attrs:r,classes:o}=MK(n.selectors[0]);r&&uA(i,e,r),o&&o.length>0&&eN(i,e,o.join(" "))}}function YY(i,n,e){let t=i.projection=[];for(let r=0;r<n.length;r++){let o=e[r];t.push(o!=null?Array.from(o):null)}}function JY(){let i=Bo();iI($t()[vi],i)}var fo=(()=>{class i{static{this.__NG_ELEMENT_ID__=XY}}return i})();function XY(){let i=Bo();return EN(i,$t())}var QY=fo,AN=class extends QY{constructor(n,e,t){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=t}get element(){return Qh(this._hostTNode,this._hostLView)}get injector(){return new fp(this._hostTNode,this._hostLView)}get parentInjector(){let n=FE(this._hostTNode,this._hostLView);if(cM(n)){let e=Cy(n,this._hostLView),t=_y(n),r=e[vi].data[t+8];return new fp(r,e)}else return new fp(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){let e=YF(this._lContainer);return e!==null&&e[n]||null}get length(){return this._lContainer.length-Zo}createEmbeddedView(n,e,t){let r,o;typeof t=="number"?r=t:t!=null&&(r=t.index,o=t.injector);let s=Hh(this._lContainer,n.ssrId),a=n.createEmbeddedViewImpl(e||{},o,s);return this.insertImpl(a,r,jh(this._hostTNode,s)),a}createComponent(n,e,t,r,o){let s=n&&!QK(n),a;if(s)a=e;else{let y=e||{};a=y.index,t=y.injector,r=y.projectableNodes,o=y.environmentInjector||y.ngModuleRef}let l=s?n:new Sp(Ac(n)),c=t||this.parentInjector;if(!o&&l.ngModule==null){let v=(s?c:this.parentInjector).get(hs,null);v&&(o=v)}let d=Ac(l.componentType??{}),p=Hh(this._lContainer,d?.id??null),g=p?.firstChild??null,C=l.create(c,r,g,o);return this.insertImpl(C.hostView,a,jh(this._hostTNode,p)),C}insert(n,e){return this.insertImpl(n,e,!0)}insertImpl(n,e,t){let r=n._lView;if(r$(r)){let a=this.indexOf(n);if(a!==-1)this.detach(a);else{let l=r[es],c=new AN(l,l[xs],l[es]);c.detach(c.indexOf(n))}}let o=this._adjustIndex(e),s=this._lContainer;return Tg(s,r,o,t),n.attachToViewContainerRef(),IL(eA(s),o,n),n}move(n,e){return this.insert(n,e)}indexOf(n){let e=YF(this._lContainer);return e!==null?e.indexOf(n):-1}remove(n){let e=this._adjustIndex(n,-1),t=Cg(this._lContainer,e);t&&(uy(eA(this._lContainer),e),sI(t[vi],t))}detach(n){let e=this._adjustIndex(n,-1),t=Cg(this._lContainer,e);return t&&uy(eA(this._lContainer),e)!=null?new wp(t):null}_adjustIndex(n,e=0){return n??this.length+e}};function YF(i){return i[my]}function eA(i){return i[my]||(i[my]=[])}function EN(i,n){let e,t=n[i.index];return Dc(t)?e=t:(e=dN(t,n,null,i),n[i.index]=e,dI(n,e)),eJ(e,n,i,t),new AN(e,i,n)}function ZY(i,n){let e=i[Ar],t=e.createComment(""),r=Aa(n,i),o=JM(e,r);return Sy(e,o,t,jq(e,r),!1),t}var eJ=nJ,tJ=()=>!1;function iJ(i,n,e){return tJ(i,n,e)}function nJ(i,n,e,t){if(i[Cp])return;let r;e.type&8?r=Vl(t):r=ZY(n,e),i[Cp]=r}var zA=class i{constructor(n){this.queryList=n,this.matches=null}clone(){return new i(this.queryList)}setDirty(){this.queryList.setDirty()}},WA=class i{constructor(n=[]){this.queries=n}createEmbeddedView(n){let e=n.queries;if(e!==null){let t=n.contentQueries!==null?n.contentQueries[0]:e.length,r=[];for(let o=0;o<t;o++){let s=e.getByIndex(o),a=this.queries[s.indexInDeclarationView];r.push(a.clone())}return new i(r)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let e=0;e<this.queries.length;e++)rx(n,e).matches!==null&&this.queries[e].setDirty()}},Oy=class{constructor(n,e,t=null){this.flags=e,this.read=t,typeof n=="string"?this.predicate=uJ(n):this.predicate=n}},KA=class i{constructor(n=[]){this.queries=n}elementStart(n,e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementStart(n,e)}elementEnd(n){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(n)}embeddedTView(n){let e=null;for(let t=0;t<this.length;t++){let r=e!==null?e.length:0,o=this.getByIndex(t).embeddedTView(n,r);o&&(o.indexInDeclarationView=t,e!==null?e.push(o):e=[o])}return e!==null?new i(e):null}template(n,e){for(let t=0;t<this.queries.length;t++)this.queries[t].template(n,e)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}},$A=class i{constructor(n,e=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(n,e){this.isApplyingToNode(e)&&this.matchTNode(n,e)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,e){this.elementStart(n,e)}embeddedTView(n,e){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,e),new i(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let e=this._declarationNodeIndex,t=n.parent;for(;t!==null&&t.type&8&&t.index!==e;)t=t.parent;return e===(t!==null?t.index:-1)}return this._appliesToNextNode}matchTNode(n,e){let t=this.metadata.predicate;if(Array.isArray(t))for(let r=0;r<t.length;r++){let o=t[r];this.matchTNodeWithReadOption(n,e,rJ(e,o)),this.matchTNodeWithReadOption(n,e,ay(e,n,o,!1,!1))}else t===ea?e.type&4&&this.matchTNodeWithReadOption(n,e,-1):this.matchTNodeWithReadOption(n,e,ay(e,n,t,!1,!1))}matchTNodeWithReadOption(n,e,t){if(t!==null){let r=this.metadata.read;if(r!==null)if(r===ze||r===fo||r===ea&&e.type&4)this.addMatch(e.index,-2);else{let o=ay(e,n,r,!1,!1);o!==null&&this.addMatch(e.index,o)}else this.addMatch(e.index,t)}}addMatch(n,e){this.matches===null?this.matches=[n,e]:this.matches.push(n,e)}};function rJ(i,n){let e=i.localNames;if(e!==null){for(let t=0;t<e.length;t+=2)if(e[t]===n)return e[t+1]}return null}function oJ(i,n){return i.type&11?Qh(i,n):i.type&4?uI(i,n):null}function sJ(i,n,e,t){return e===-1?oJ(n,i):e===-2?aJ(i,n,t):bp(i,i[vi],e,n)}function aJ(i,n,e){if(e===ze)return Qh(n,i);if(e===ea)return uI(n,i);if(e===fo)return EN(n,i)}function xN(i,n,e,t){let r=n[Ec].queries[t];if(r.matches===null){let o=i.data,s=e.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let c=s[l];if(c<0)a.push(null);else{let d=o[c];a.push(sJ(n,d,s[l+1],e.metadata.read))}}r.matches=a}return r.matches}function qA(i,n,e,t){let r=i.queries.getByIndex(e),o=r.matches;if(o!==null){let s=xN(i,n,r,e);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)t.push(s[a/2]);else{let c=o[a+1],d=n[-l];for(let p=Zo;p<d.length;p++){let g=d[p];g[_p]===g[es]&&qA(g[vi],g,c,t)}if(d[Uh]!==null){let p=d[Uh];for(let g=0;g<p.length;g++){let C=p[g];qA(C[vi],C,c,t)}}}}}return t}function lJ(i,n){return i[Ec].queries[n].queryList}function TN(i,n,e){let t=new EA((e&4)===4);return tY(i,n,t,t.destroy),(n[Ec]??=new WA).queries.push(new zA(t))-1}function cJ(i,n,e){let t=xr();return t.firstCreatePass&&(ON(t,new Oy(i,n,e),-1),(n&2)===2&&(t.staticViewQueries=!0)),TN(t,$t(),n)}function dJ(i,n,e,t){let r=xr();if(r.firstCreatePass){let o=Bo();ON(r,new Oy(n,e,t),o.index),pJ(r,i),(e&2)===2&&(r.staticContentQueries=!0)}return TN(r,$t(),e)}function uJ(i){return i.split(",").map(n=>n.trim())}function ON(i,n,e){i.queries===null&&(i.queries=new KA),i.queries.track(new $A(n,e))}function pJ(i,n){let e=i.contentQueries||(i.contentQueries=[]),t=e.length?e[e.length-1]:-1;n!==t&&e.push(i.queries.length-1,n)}function rx(i,n){return i.queries.getByIndex(n)}function hJ(i,n){let e=i[vi],t=rx(e,n);return t.crossesNgTemplate?qA(e,i,n,[]):xN(e,i,t,n)}var JF=new Set;function kc(i){JF.has(i)||(JF.add(i),performance?.mark?.("mark_feature_usage",{detail:{feature:i}}))}function fJ(i){return typeof i=="function"&&i[Xa]!==void 0}function Oi(i,n){kc("NgSignals");let e=Hk(i),t=e[Xa];return n?.equal&&(t.equal=n.equal),e.set=r=>wC(t,r),e.update=r=>Gk(t,r),e.asReadonly=mJ.bind(e),e}function mJ(){let i=this[Xa];if(i.readonlyFn===void 0){let n=()=>this();n[Xa]=i,i.readonlyFn=n}return i.readonlyFn}function DN(i){return fJ(i)&&typeof i.set=="function"}function gJ(i){let n=[],e=new Map;function t(r){let o=e.get(r);if(!o){let s=i(r);e.set(r,o=s.then(IJ))}return o}return Dy.forEach((r,o)=>{let s=[];r.templateUrl&&s.push(t(r.templateUrl).then(c=>{r.template=c}));let a=typeof r.styles=="string"?[r.styles]:r.styles||[];if(r.styles=a,r.styleUrl&&r.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(r.styleUrls?.length){let c=r.styles.length,d=r.styleUrls;r.styleUrls.forEach((p,g)=>{a.push(""),s.push(t(p).then(C=>{a[c+g]=C,d.splice(d.indexOf(p),1),d.length==0&&(r.styleUrls=void 0)}))})}else r.styleUrl&&s.push(t(r.styleUrl).then(c=>{a.push(c),r.styleUrl=void 0}));let l=Promise.all(s).then(()=>vJ(o));n.push(l)}),CJ(),Promise.all(n).then(()=>{})}var Dy=new Map,_J=new Set;function CJ(){let i=Dy;return Dy=new Map,i}function yJ(){return Dy.size===0}function IJ(i){return typeof i=="string"?i:i.text()}function vJ(i){_J.delete(i)}function bJ(i){return Object.getPrototypeOf(i.prototype).constructor}function ve(i){let n=bJ(i.type),e=!0,t=[i];for(;n;){let r;if(jd(i))r=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Ct(903,!1);r=n.\u0275dir}if(r){if(e){t.push(r);let s=i;s.inputs=ZC(i.inputs),s.inputTransforms=ZC(i.inputTransforms),s.declaredInputs=ZC(i.declaredInputs),s.outputs=ZC(i.outputs);let a=r.hostBindings;a&&xJ(i,a);let l=r.viewQuery,c=r.contentQueries;if(l&&AJ(i,l),c&&EJ(i,c),wJ(i,r),eK(i.outputs,r.outputs),jd(r)&&r.data.animation){let d=i.data;d.animation=(d.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(i),a===ve&&(e=!1)}}n=Object.getPrototypeOf(n)}SJ(t)}function wJ(i,n){for(let e in n.inputs){if(!n.inputs.hasOwnProperty(e)||i.inputs.hasOwnProperty(e))continue;let t=n.inputs[e];if(t!==void 0&&(i.inputs[e]=t,i.declaredInputs[e]=n.declaredInputs[e],n.inputTransforms!==null)){let r=Array.isArray(t)?t[0]:t;if(!n.inputTransforms.hasOwnProperty(r))continue;i.inputTransforms??={},i.inputTransforms[r]=n.inputTransforms[r]}}}function SJ(i){let n=0,e=null;for(let t=i.length-1;t>=0;t--){let r=i[t];r.hostVars=n+=r.hostVars,r.hostAttrs=mg(r.hostAttrs,e=mg(e,r.hostAttrs))}}function ZC(i){return i===Mh?{}:i===As?[]:i}function AJ(i,n){let e=i.viewQuery;e?i.viewQuery=(t,r)=>{n(t,r),e(t,r)}:i.viewQuery=n}function EJ(i,n){let e=i.contentQueries;e?i.contentQueries=(t,r,o)=>{n(t,r,o),e(t,r,o)}:i.contentQueries=n}function xJ(i,n){let e=i.hostBindings;e?i.hostBindings=(t,r)=>{n(t,r),e(t,r)}:i.hostBindings=n}function qe(i){let n=i.inputConfig,e={};for(let t in n)if(n.hasOwnProperty(t)){let r=n[t];Array.isArray(r)&&r[3]&&(e[t]=r[3])}i.inputTransforms=e}var Tc=class{},yg=class{};function RN(i,n){return new Ig(i,n??null,[])}var Ig=class extends Tc{constructor(n,e,t,r=!0){super(),this.ngModuleType=n,this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ty(this);let o=DL(n);this._bootstrapComponents=zM(o.bootstrap),this._r3Injector=CM(n,e,[{provide:Tc,useValue:this},{provide:zd,useValue:this.componentFactoryResolver},...t],ps(n),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}},Ry=class extends yg{constructor(n){super(),this.moduleType=n}create(n){return new Ig(this.moduleType,n,[])}};function TJ(i,n,e){return new Ig(i,n,e,!1)}var YA=class extends Tc{constructor(n){super(),this.componentFactoryResolver=new Ty(this),this.instance=null;let e=new gg([...n.providers,{provide:Tc,useValue:this},{provide:zd,useValue:this.componentFactoryResolver}],n.parent||zy(),n.debugName,new Set(["environment"]));this.injector=e,n.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}};function pI(i,n,e=null){return new YA({providers:i,parent:n,debugName:e,runEnvironmentInitializers:!0}).injector}function PN(i){return ox(i)?Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i:!1}function OJ(i,n){if(Array.isArray(i))for(let e=0;e<i.length;e++)n(i[e]);else{let e=i[Symbol.iterator](),t;for(;!(t=e.next()).done;)n(t.value)}}function ox(i){return i!==null&&(typeof i=="function"||typeof i=="object")}function Gl(i,n,e){return i[n]=e}function Og(i,n){return i[n]}function Es(i,n,e){let t=i[n];return Object.is(t,e)?!1:(i[n]=e,!0)}function Wh(i,n,e,t){let r=Es(i,n,e);return Es(i,n+1,t)||r}function sx(i,n,e,t,r){let o=Wh(i,n,e,t);return Es(i,n+2,r)||o}function Kh(i,n,e,t,r,o){let s=Wh(i,n,e,t);return Wh(i,n+2,r,o)||s}function DJ(i){return(i.flags&32)===32}function RJ(i,n,e,t,r,o,s,a,l){let c=n.consts,d=Zh(n,i,4,s||null,a||null);QE(n,e,d,Hd(c,l)),iI(n,d);let p=d.tView=JE(2,d,t,r,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,c,null);return n.queries!==null&&(n.queries.template(n,d),p.queries=n.queries.embeddedTView(d)),d}function Py(i,n,e,t,r,o,s,a,l,c){let d=e+ho,p=n.firstCreatePass?RJ(d,n,i,t,r,o,s,a,l):n.data[d];Ep(p,!1);let g=PJ(n,i,p,e);eI()&&aI(n,i,g,p),Gd(g,i);let C=dN(g,i,g,p);return i[d]=C,dI(i,C),iJ(C,p,i),qy(p)&&qE(n,i,p),l!=null&&YE(i,p,c),p}function I(i,n,e,t,r,o,s,a){let l=$t(),c=xr(),d=Hd(c.consts,o);return Py(l,c,i,n,e,t,r,d,s,a),I}var PJ=kJ;function kJ(i,n,e,t){return tI(!0),n[Ar].createComment("")}var kh=function(i){return i[i.EarlyRead=0]="EarlyRead",i[i.Write=1]="Write",i[i.MixedReadWrite=2]="MixedReadWrite",i[i.Read=3]="Read",i}(kh||{}),kN=(()=>{class i{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=_e({token:i,providedIn:"root",factory:()=>new i})}}return i})(),JA=class i{constructor(){this.ngZone=Me(xt),this.scheduler=Me(Gh),this.errorHandler=Me(Bl,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[kh.EarlyRead,kh.Write,kh.MixedReadWrite,kh.Read]}execute(){this.executing=!0;for(let n of i.PHASES)for(let e of this.sequences)if(!(e.erroredOrDestroyed||!e.hooks[n]))try{e.pipelinedValue=this.ngZone.runOutsideAngular(()=>e.hooks[n](e.pipelinedValue))}catch(t){e.erroredOrDestroyed=!0,this.errorHandler?.handleError(t)}this.executing=!1;for(let n of this.sequences)n.afterRun(),n.once&&(this.sequences.delete(n),n.destroy());for(let n of this.deferredRegistrations)this.sequences.add(n);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(n){this.executing?this.deferredRegistrations.add(n):(this.sequences.add(n),this.scheduler.notify(6))}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}static{this.\u0275prov=_e({token:i,providedIn:"root",factory:()=>new i})}},XA=class{constructor(n,e,t,r){this.impl=n,this.hooks=e,this.once=t,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=r?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function ax(i,n){!n?.injector&&Wy(ax);let e=n?.injector??Me(Er);return Oq(e)?(kc("NgAfterNextRender"),LJ(i,e,n,!0)):MJ}function FJ(i,n){if(i instanceof Function){let e=[void 0,void 0,void 0,void 0];return e[n]=i,e}else return[i.earlyRead,i.write,i.mixedReadWrite,i.read]}function LJ(i,n,e,t){let r=n.get(kN);r.impl??=n.get(JA);let o=e?.phase??kh.MixedReadWrite,s=e?.manualCleanup!==!0?n.get(xp):null,a=new XA(r.impl,FJ(i,o),t,s);return r.impl.register(a),a}var MJ={destroy(){}};function V(i,n,e,t){let r=$t(),o=Xh();if(Es(r,o,n)){let s=xr(),a=Zy();gY(a,r,i,n,e,t)}return V}function lx(i,n,e,t){return Es(i,Xh(),e)?n+Ll(e)+t:ts}function NJ(i,n,e,t,r,o){let s=eM(),a=Wh(i,s,e,r);return Qy(2),a?n+Ll(e)+t+Ll(r)+o:ts}function VJ(i,n,e,t,r,o,s,a){let l=eM(),c=sx(i,l,e,r,s);return Qy(3),c?n+Ll(e)+t+Ll(r)+o+Ll(s)+a:ts}function ey(i,n){return i<<17|n<<2}function Ap(i){return i>>17&32767}function BJ(i){return(i&2)==2}function UJ(i,n){return i&131071|n<<17}function QA(i){return i|2}function $h(i){return(i&131068)>>2}function tA(i,n){return i&-131069|n<<2}function jJ(i){return(i&1)===1}function ZA(i){return i|1}function HJ(i,n,e,t,r,o){let s=o?n.classBindings:n.styleBindings,a=Ap(s),l=$h(s);i[t]=e;let c=!1,d;if(Array.isArray(e)){let p=e;d=p[1],(d===null||Ag(p,d)>0)&&(c=!0)}else d=e;if(r)if(l!==0){let g=Ap(i[a+1]);i[t+1]=ey(g,a),g!==0&&(i[g+1]=tA(i[g+1],t)),i[a+1]=UJ(i[a+1],t)}else i[t+1]=ey(a,0),a!==0&&(i[a+1]=tA(i[a+1],t)),a=t;else i[t+1]=ey(l,0),a===0?a=t:i[l+1]=tA(i[l+1],t),l=t;c&&(i[t+1]=QA(i[t+1])),XF(i,d,t,!0),XF(i,d,t,!1),GJ(n,d,i,t,o),s=ey(a,l),o?n.classBindings=s:n.styleBindings=s}function GJ(i,n,e,t,r){let o=r?i.residualClasses:i.residualStyles;o!=null&&typeof n=="string"&&Ag(o,n)>=0&&(e[t+1]=ZA(e[t+1]))}function XF(i,n,e,t){let r=i[e+1],o=n===null,s=t?Ap(r):$h(r),a=!1;for(;s!==0&&(a===!1||o);){let l=i[s],c=i[s+1];zJ(l,n)&&(a=!0,i[s+1]=t?ZA(c):QA(c)),s=t?Ap(c):$h(c)}a&&(i[e+1]=t?QA(r):ZA(r))}function zJ(i,n){return i===null||n==null||(Array.isArray(i)?i[1]:i)===n?!0:Array.isArray(i)&&typeof n=="string"?Ag(i,n)>=0:!1}var po={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function FN(i){return i.substring(po.key,po.keyEnd)}function WJ(i){return i.substring(po.value,po.valueEnd)}function KJ(i){return NN(i),LN(i,qh(i,0,po.textEnd))}function LN(i,n){let e=po.textEnd;return e===n?-1:(n=po.keyEnd=qJ(i,po.key=n,e),qh(i,n,e))}function $J(i){return NN(i),MN(i,qh(i,0,po.textEnd))}function MN(i,n){let e=po.textEnd,t=po.key=qh(i,n,e);return e===t?-1:(t=po.keyEnd=YJ(i,t,e),t=QF(i,t,e,58),t=po.value=qh(i,t,e),t=po.valueEnd=JJ(i,t,e),QF(i,t,e,59))}function NN(i){po.key=0,po.keyEnd=0,po.value=0,po.valueEnd=0,po.textEnd=i.length}function qh(i,n,e){for(;n<e&&i.charCodeAt(n)<=32;)n++;return n}function qJ(i,n,e){for(;n<e&&i.charCodeAt(n)>32;)n++;return n}function YJ(i,n,e){let t;for(;n<e&&((t=i.charCodeAt(n))===45||t===95||(t&-33)>=65&&(t&-33)<=90||t>=48&&t<=57);)n++;return n}function QF(i,n,e,t){return n=qh(i,n,e),n<e&&n++,n}function JJ(i,n,e){let t=-1,r=-1,o=-1,s=n,a=s;for(;s<e;){let l=i.charCodeAt(s++);if(l===59)return a;l===34||l===39?a=s=ZF(i,l,s,e):n===s-4&&o===85&&r===82&&t===76&&l===40?a=s=ZF(i,41,s,e):l>32&&(a=s),o=r,r=t,t=l&-33}return a}function ZF(i,n,e,t){let r=-1,o=e;for(;o<t;){let s=i.charCodeAt(o++);if(s==n&&r!==92)return o;s==92&&r===92?r=0:r=s}throw new Error}function h(i,n,e){let t=$t(),r=Xh();if(Es(t,r,n)){let o=xr(),s=Zy();XE(o,s,t,i,n,t[Ar],e,!1)}return h}function eE(i,n,e,t,r){let o=n.inputs,s=r?"class":"style";ZE(i,e,o[s],s,t)}function Fn(i,n,e){return BN(i,n,e,!1),Fn}function yn(i,n){return BN(i,n,null,!0),yn}function dt(i){cx(HN,XJ,i,!1)}function XJ(i,n){for(let e=$J(n);e>=0;e=MN(n,e))HN(i,FN(n),WJ(n))}function le(i){cx(nX,VN,i,!0)}function VN(i,n){for(let e=KJ(n);e>=0;e=LN(n,e))Sg(i,FN(n),!0)}function BN(i,n,e,t){let r=$t(),o=xr(),s=Qy(2);if(o.firstUpdatePass&&jN(o,i,s,t),n!==ts&&Es(r,s,n)){let a=o.data[jl()];GN(o,a,r,r[Ar],i,r[s+1]=oX(n,e),t,s)}}function cx(i,n,e,t){let r=xr(),o=Qy(2);r.firstUpdatePass&&jN(r,null,o,t);let s=$t();if(e!==ts&&Es(s,o,e)){let a=r.data[jl()];if(zN(a,t)&&!UN(r,o)){let l=t?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(e=aA(l,e||"")),eE(r,a,s,e,t)}else rX(r,a,s,s[Ar],s[o+1],s[o+1]=iX(i,n,e),t,o)}}function UN(i,n){return n>=i.expandoStartIndex}function jN(i,n,e,t){let r=i.data;if(r[e+1]===null){let o=r[jl()],s=UN(i,e);zN(o,t)&&n===null&&!s&&(n=!1),n=QJ(r,o,n,t),HJ(r,o,n,e,s,t)}}function QJ(i,n,e,t){let r=C$(i),o=t?n.residualClasses:n.residualStyles;if(r===null)(t?n.classBindings:n.styleBindings)===0&&(e=iA(null,i,n,e,t),e=vg(e,n.attrs,t),o=null);else{let s=n.directiveStylingLast;if(s===-1||i[s]!==r)if(e=iA(r,i,n,e,t),o===null){let l=ZJ(i,n,t);l!==void 0&&Array.isArray(l)&&(l=iA(null,i,n,l[1],t),l=vg(l,n.attrs,t),eX(i,n,t,l))}else o=tX(i,n,t)}return o!==void 0&&(t?n.residualClasses=o:n.residualStyles=o),e}function ZJ(i,n,e){let t=e?n.classBindings:n.styleBindings;if($h(t)!==0)return i[Ap(t)]}function eX(i,n,e,t){let r=e?n.classBindings:n.styleBindings;i[Ap(r)]=t}function tX(i,n,e){let t,r=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<r;o++){let s=i[o].hostAttrs;t=vg(t,s,e)}return vg(t,n.attrs,e)}function iA(i,n,e,t,r){let o=null,s=e.directiveEnd,a=e.directiveStylingLast;for(a===-1?a=e.directiveStart:a++;a<s&&(o=n[a],t=vg(t,o.hostAttrs,r),o!==i);)a++;return i!==null&&(e.directiveStylingLast=a),t}function vg(i,n,e){let t=e?1:2,r=-1;if(n!==null)for(let o=0;o<n.length;o++){let s=n[o];typeof s=="number"?r=s:r===t&&(Array.isArray(i)||(i=i===void 0?[]:["",i]),Sg(i,s,e?!0:n[++o]))}return i===void 0?null:i}function iX(i,n,e){if(e==null||e==="")return As;let t=[],r=ia(e);if(Array.isArray(r))for(let o=0;o<r.length;o++)i(t,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&i(t,o,r[o]);else typeof r=="string"&&n(t,r);return t}function HN(i,n,e){Sg(i,n,ia(e))}function nX(i,n,e){let t=String(n);t!==""&&!t.includes(" ")&&Sg(i,t,e)}function rX(i,n,e,t,r,o,s,a){r===ts&&(r=As);let l=0,c=0,d=0<r.length?r[0]:null,p=0<o.length?o[0]:null;for(;d!==null||p!==null;){let g=l<r.length?r[l+1]:void 0,C=c<o.length?o[c+1]:void 0,y=null,v;d===p?(l+=2,c+=2,g!==C&&(y=p,v=C)):p===null||d!==null&&d<p?(l+=2,y=d):(c+=2,y=p,v=C),y!==null&&GN(i,n,e,t,y,v,s,a),d=l<r.length?r[l]:null,p=c<o.length?o[c]:null}}function GN(i,n,e,t,r,o,s,a){if(!(n.type&3))return;let l=i.data,c=l[a+1],d=jJ(c)?eL(l,n,e,r,$h(c),s):void 0;if(!ky(d)){ky(o)||BJ(c)&&(o=eL(l,null,e,r,a,s));let p=WL(jl(),e);$q(t,s,p,r,o)}}function eL(i,n,e,t,r,o){let s=n===null,a;for(;r>0;){let l=i[r],c=Array.isArray(l),d=c?l[1]:l,p=d===null,g=e[r+1];g===ts&&(g=p?As:void 0);let C=p?$S(g,t):d===t?g:void 0;if(c&&!ky(C)&&(C=$S(l,t)),ky(C)&&(a=C,s))return a;let y=i[r+1];r=s?Ap(y):$h(y)}if(n!==null){let l=o?n.residualClasses:n.residualStyles;l!=null&&(a=$S(l,t))}return a}function ky(i){return i!==void 0}function oX(i,n){return i==null||i===""||(typeof n=="string"?i=i+n:typeof i=="object"&&(i=ps(ia(i)))),i}function zN(i,n){return(i.flags&(n?8:16))!==0}function ra(i,n,e){let t=$t(),r=lx(t,i,n,e);cx(Sg,VN,r,!0)}var tE=class{destroy(n){}updateValue(n,e){}swap(n,e){let t=Math.min(n,e),r=Math.max(n,e),o=this.detach(r);if(r-t>1){let s=this.detach(t);this.attach(t,o),this.attach(r,s)}else this.attach(t,o)}move(n,e){this.attach(e,this.detach(n))}};function nA(i,n,e,t,r){return i===e&&Object.is(n,t)?1:Object.is(r(i,n),r(e,t))?-1:0}function sX(i,n,e){let t,r,o=0,s=i.length-1,a=void 0;if(Array.isArray(n)){let l=n.length-1;for(;o<=s&&o<=l;){let c=i.at(o),d=n[o],p=nA(o,c,o,d,e);if(p!==0){p<0&&i.updateValue(o,d),o++;continue}let g=i.at(s),C=n[l],y=nA(s,g,l,C,e);if(y!==0){y<0&&i.updateValue(s,C),s--,l--;continue}let v=e(o,c),w=e(s,g),E=e(o,d);if(Object.is(E,w)){let T=e(l,C);Object.is(T,v)?(i.swap(o,s),i.updateValue(s,C),l--,s--):i.move(s,o),i.updateValue(o,d),o++;continue}if(t??=new Fy,r??=iL(i,o,s,e),iE(i,t,o,E))i.updateValue(o,d),o++,s++;else if(r.has(E))t.set(v,i.detach(o)),s--;else{let T=i.create(o,n[o]);i.attach(o,T),o++,s++}}for(;o<=l;)tL(i,t,e,o,n[o]),o++}else if(n!=null){let l=n[Symbol.iterator](),c=l.next();for(;!c.done&&o<=s;){let d=i.at(o),p=c.value,g=nA(o,d,o,p,e);if(g!==0)g<0&&i.updateValue(o,p),o++,c=l.next();else{t??=new Fy,r??=iL(i,o,s,e);let C=e(o,p);if(iE(i,t,o,C))i.updateValue(o,p),o++,s++,c=l.next();else if(!r.has(C))i.attach(o,i.create(o,p)),o++,s++,c=l.next();else{let y=e(o,d);t.set(y,i.detach(o)),s--}}}for(;!c.done;)tL(i,t,e,i.length,c.value),c=l.next()}for(;o<=s;)i.destroy(i.detach(s--));t?.forEach(l=>{i.destroy(l)})}function iE(i,n,e,t){return n!==void 0&&n.has(t)?(i.attach(e,n.get(t)),n.delete(t),!0):!1}function tL(i,n,e,t,r){if(iE(i,n,t,e(t,r)))i.updateValue(t,r);else{let o=i.create(t,r);i.attach(t,o)}}function iL(i,n,e,t){let r=new Set;for(let o=n;o<=e;o++)r.add(t(o,i.at(o)));return r}var Fy=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(n){return this.kvMap.has(n)}delete(n){if(!this.has(n))return!1;let e=this.kvMap.get(n);return this._vMap!==void 0&&this._vMap.has(e)?(this.kvMap.set(n,this._vMap.get(e)),this._vMap.delete(e)):this.kvMap.delete(n),!0}get(n){return this.kvMap.get(n)}set(n,e){if(this.kvMap.has(n)){let t=this.kvMap.get(n);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(t);)t=r.get(t);r.set(t,e)}else this.kvMap.set(n,e)}forEach(n){for(let[e,t]of this.kvMap)if(n(t,e),this._vMap!==void 0){let r=this._vMap;for(;r.has(t);)t=r.get(t),n(t,e)}}};function q(i,n){kc("NgControlFlow");let e=$t(),t=Xh(),r=e[t]!==ts?e[t]:-1,o=r!==-1?Ly(e,ho+r):void 0,s=0;if(Es(e,t,i)){let a=Zi(null);try{if(o!==void 0&&gN(o,s),i!==-1){let l=ho+i,c=Ly(e,l),d=sE(e[vi],l),p=Hh(c,d.tView.ssrId),g=xg(e,d,n,{dehydratedView:p});Tg(c,g,s,jh(d,p))}}finally{Zi(a)}}else if(o!==void 0){let a=mN(o,s);a!==void 0&&(a[Qo]=n)}}var nE=class{constructor(n,e,t){this.lContainer=n,this.$implicit=e,this.$index=t}get $count(){return this.lContainer.length-Zo}};function Ur(i,n){return n}var rE=class{constructor(n,e,t){this.hasEmptyBlock=n,this.trackByFn=e,this.liveCollection=t}};function jr(i,n,e,t,r,o,s,a,l,c,d,p,g){kc("NgControlFlow");let C=$t(),y=xr(),v=l!==void 0,w=$t(),E=a?s.bind(w[Zs][Qo]):s,T=new rE(v,E);w[ho+i]=T,Py(C,y,i+1,n,e,t,r,Hd(y.consts,o)),v&&Py(C,y,i+2,l,c,d,p,Hd(y.consts,g))}var oE=class extends tE{constructor(n,e,t){super(),this.lContainer=n,this.hostLView=e,this.templateTNode=t,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Zo}at(n){return this.getLView(n)[Qo].$implicit}attach(n,e){let t=e[Vh];this.needsIndexUpdate||=n!==this.length,Tg(this.lContainer,e,n,jh(this.templateTNode,t))}detach(n){return this.needsIndexUpdate||=n!==this.length-1,aX(this.lContainer,n)}create(n,e){let t=Hh(this.lContainer,this.templateTNode.tView.ssrId),r=xg(this.hostLView,this.templateTNode,new nE(this.lContainer,e,n),{dehydratedView:t});return this.operationsCounter?.recordCreate(),r}destroy(n){sI(n[vi],n),this.operationsCounter?.recordDestroy()}updateValue(n,e){this.getLView(n)[Qo].$implicit=e}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let n=0;n<this.length;n++)this.getLView(n)[Qo].$index=n}getLView(n){return lX(this.lContainer,n)}};function Hr(i){let n=Zi(null),e=jl();try{let t=$t(),r=t[vi],o=t[e],s=e+1,a=Ly(t,s);if(o.liveCollection===void 0){let c=sE(r,s);o.liveCollection=new oE(a,t,c)}else o.liveCollection.reset();let l=o.liveCollection;if(sX(l,i,o.trackByFn),l.updateIndexes(),o.hasEmptyBlock){let c=Xh(),d=l.length===0;if(Es(t,c,d)){let p=e+2,g=Ly(t,p);if(d){let C=sE(r,p),y=Hh(g,C.tView.ssrId),v=xg(t,C,void 0,{dehydratedView:y});Tg(g,v,0,jh(C,y))}else gN(g,0)}}}finally{Zi(n)}}function Ly(i,n){return i[n]}function aX(i,n){return Cg(i,n)}function lX(i,n){return mN(i,n)}function sE(i,n){return xE(i,n)}function cX(i,n,e,t,r,o){let s=n.consts,a=Hd(s,r),l=Zh(n,i,2,t,a);return QE(n,e,l,Hd(s,o)),l.attrs!==null&&xy(l,l.attrs,!1),l.mergedAttrs!==null&&xy(l,l.mergedAttrs,!0),n.queries!==null&&n.queries.elementStart(n,l),l}function m(i,n,e,t){let r=$t(),o=xr(),s=ho+i,a=r[Ar],l=o.firstCreatePass?cX(s,o,r,n,e,t):o.data[s],c=dX(o,r,l,a,n,i);r[s]=c;let d=qy(l);return Ep(l,!0),tN(a,c,l),!DJ(l)&&eI()&&aI(o,r,c,l),a$()===0&&Gd(c,r),l$(),d&&(qE(o,r,l),$E(o,l,r)),t!==null&&YE(r,l),m}function _(){let i=Bo();OE()?DE():(i=i.parent,Ep(i,!1));let n=i;d$(n)&&u$(),c$();let e=xr();return e.firstCreatePass&&(iI(e,i),EE(i)&&e.queries.elementEnd(i)),n.classesWithoutHost!=null&&A$(n)&&eE(e,n,$t(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&E$(n)&&eE(e,n,$t(),n.stylesWithoutHost,!1),_}function O(i,n,e,t){return m(i,n,e,t),_(),O}var dX=(i,n,e,t,r,o)=>(tI(!0),WM(t,r,v$()));function uX(i,n,e,t,r){let o=n.consts,s=Hd(o,t),a=Zh(n,i,8,"ng-container",s);s!==null&&xy(a,s,!0);let l=Hd(o,r);return QE(n,e,a,l),n.queries!==null&&n.queries.elementStart(n,a),a}function pe(i,n,e){let t=$t(),r=xr(),o=i+ho,s=r.firstCreatePass?uX(o,r,t,n,e):r.data[o];Ep(s,!0);let a=pX(r,t,s,i);return t[o]=a,eI()&&aI(r,t,a,s),Gd(a,t),qy(s)&&(qE(r,t,s),$E(r,s,t)),e!=null&&YE(t,s),pe}function he(){let i=Bo(),n=xr();return OE()?DE():(i=i.parent,Ep(i,!1)),n.firstCreatePass&&(iI(n,i),EE(i)&&n.queries.elementEnd(i)),he}function ue(i,n,e){return pe(i,n,e),he(),ue}var pX=(i,n,e,t)=>(tI(!0),kq(n[Ar],""));function B(){return $t()}var hp=void 0;function hX(i){let n=i,e=Math.floor(Math.abs(i)),t=i.toString().replace(/^[^.]*\.?/,"").length;return e===1&&t===0?1:5}var fX=["en",[["a","p"],["AM","PM"],hp],[["AM","PM"],hp,hp],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],hp,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],hp,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",hp,"{1} 'at' {0}",hp],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",hX],rA={};function oa(i){let n=mX(i),e=nL(n);if(e)return e;let t=n.split("-")[0];if(e=nL(t),e)return e;if(t==="en")return fX;throw new Ct(701,!1)}function nL(i){return i in rA||(rA[i]=Vo.ng&&Vo.ng.common&&Vo.ng.common.locales&&Vo.ng.common.locales[i]),rA[i]}var kr=function(i){return i[i.LocaleId=0]="LocaleId",i[i.DayPeriodsFormat=1]="DayPeriodsFormat",i[i.DayPeriodsStandalone=2]="DayPeriodsStandalone",i[i.DaysFormat=3]="DaysFormat",i[i.DaysStandalone=4]="DaysStandalone",i[i.MonthsFormat=5]="MonthsFormat",i[i.MonthsStandalone=6]="MonthsStandalone",i[i.Eras=7]="Eras",i[i.FirstDayOfWeek=8]="FirstDayOfWeek",i[i.WeekendRange=9]="WeekendRange",i[i.DateFormat=10]="DateFormat",i[i.TimeFormat=11]="TimeFormat",i[i.DateTimeFormat=12]="DateTimeFormat",i[i.NumberSymbols=13]="NumberSymbols",i[i.NumberFormats=14]="NumberFormats",i[i.CurrencyCode=15]="CurrencyCode",i[i.CurrencySymbol=16]="CurrencySymbol",i[i.CurrencyName=17]="CurrencyName",i[i.Currencies=18]="Currencies",i[i.Directionality=19]="Directionality",i[i.PluralCase=20]="PluralCase",i[i.ExtraData=21]="ExtraData",i}(kr||{});function mX(i){return i.toLowerCase().replace(/_/g,"-")}var My="en-US";var gX=My;function _X(i){typeof i=="string"&&(gX=i.toLowerCase().replace(/_/g,"-"))}var CX=(i,n,e)=>{};function P(i,n,e,t){let r=$t(),o=xr(),s=Bo();return WN(o,r,r[Ar],s,i,n,t),P}function yX(i,n,e,t){let r=i.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===e&&r[o+1]===t){let a=n[fy],l=r[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function WN(i,n,e,t,r,o,s){let a=qy(t),c=i.firstCreatePass&&hN(i),d=n[Qo],p=pN(n),g=!0;if(t.type&3||s){let v=Aa(t,n),w=s?s(v):v,E=p.length,T=s?G=>s(Vl(G[t.index])):t.index,F=null;if(!s&&a&&(F=yX(i,n,r,t.index)),F!==null){let G=F.__ngLastListenerFn__||F;G.__ngNextListenerFn__=o,F.__ngLastListenerFn__=o,g=!1}else{o=oL(t,n,d,o),CX(v,r,o);let G=e.listen(w,r,o);p.push(o,G),c&&c.push(r,T,E,E+1)}}else o=oL(t,n,d,o);let C=t.outputs,y;if(g&&C!==null&&(y=C[r])){let v=y.length;if(v)for(let w=0;w<v;w+=2){let E=y[w],T=y[w+1],z=n[E][T].subscribe(o),X=p.length;p.push(o,z),c&&c.push(r,t.index,X,-(X+1))}}}function rL(i,n,e,t){let r=Zi(null);try{return kl(6,n,e),e(t)!==!1}catch(o){return fN(i,o),!1}finally{kl(7,n,e),Zi(r)}}function oL(i,n,e,t){return function r(o){if(o===Function)return t;let s=i.componentOffset>-1?Wd(i.index,n):n;ix(s,5);let a=rL(n,e,t,o),l=r.__ngNextListenerFn__;for(;l;)a=rL(n,e,l,o)&&a,l=l.__ngNextListenerFn__;return a}}function f(i=1){return I$(i)}function IX(i,n){let e=null,t=DK(i);for(let r=0;r<n.length;r++){let o=n[r];if(o==="*"){e=r;continue}if(t===null?EL(i,o,!0):kK(t,o))return r}return e}function Fi(i){let n=$t()[Zs][xs];if(!n.projection){let e=i?i.length:1,t=n.projection=vK(e,null),r=t.slice(),o=n.child;for(;o!==null;){if(o.type!==128){let s=i?IX(o,i):0;s!==null&&(r[s]?r[s].projectionNext=o:t[s]=o,r[s]=o)}o=o.next}}}function ii(i,n=0,e,t,r,o){let s=$t(),a=xr(),l=t?i+1:null;l!==null&&Py(s,a,l,t,r,o,null,e);let c=Zh(a,ho+i,16,null,e||null);c.projection===null&&(c.projection=n),DE();let p=!s[Vh]||XL();s[Zs][xs].projection[c.projection]===null&&l!==null?vX(s,a,l):p&&(c.flags&32)!==32&&Wq(a,s,c)}function vX(i,n,e){let t=ho+e,r=n.data[t],o=i[t],s=Hh(o,r.tView.ssrId),a=xg(i,r,void 0,{dehydratedView:s});Tg(o,a,0,jh(r,s))}function ae(i,n,e){return hI(i,"",n,"",e),ae}function hI(i,n,e,t,r){let o=$t(),s=lx(o,n,e,t);if(s!==ts){let a=xr(),l=Zy();XE(a,l,o,i,s,o[Ar],r,!1)}return hI}function ot(i,n,e,t){dJ(i,n,e,t)}function de(i,n,e){cJ(i,n,e)}function ee(i){let n=$t(),e=xr(),t=tM();RE(t+1);let r=rx(e,t);if(i.dirty&&n$(n)===((r.metadata.flags&2)===2)){if(r.matches===null)i.reset([]);else{let o=hJ(n,t);i.reset(o,Y$),i.notifyOnChanges()}return!0}return!1}function te(){return lJ($t(),tM())}function bX(i,n,e,t){e>=i.data.length&&(i.data[e]=null,i.blueprint[e]=null),n[e]=t}function We(i){let n=h$();return Yy(n,ho+i)}function D(i,n=""){let e=$t(),t=xr(),r=i+ho,o=t.firstCreatePass?Zh(t,r,1,n,null):t.data[r],s=wX(t,e,o,n,i);e[r]=s,eI()&&aI(t,e,s,o),Ep(o,!1)}var wX=(i,n,e,t,r)=>(tI(!0),Rq(n[Ar],t));function $(i){return J("",i,""),$}function J(i,n,e){let t=$t(),r=lx(t,i,n,e);return r!==ts&&ex(t,jl(),r),J}function Ts(i,n,e,t,r){let o=$t(),s=NJ(o,i,n,e,t,r);return s!==ts&&ex(o,jl(),s),Ts}function ef(i,n,e,t,r,o,s){let a=$t(),l=VJ(a,i,n,e,t,r,o,s);return l!==ts&&ex(a,jl(),l),ef}function Ne(i,n,e){DN(n)&&(n=n());let t=$t(),r=Xh();if(Es(t,r,n)){let o=xr(),s=Zy();XE(o,s,t,i,n,t[Ar],e,!1)}return Ne}function Ue(i,n){let e=DN(i);return e&&i.set(n),e}function Ve(i,n){let e=$t(),t=xr(),r=Bo();return WN(t,e,e[Ar],r,i,n),Ve}function SX(i,n,e){let t=xr();if(t.firstCreatePass){let r=jd(i);aE(e,t.data,t.blueprint,r,!0),aE(n,t.data,t.blueprint,r,!1)}}function aE(i,n,e,t,r){if(i=us(i),Array.isArray(i))for(let o=0;o<i.length;o++)aE(i[o],n,e,t,r);else{let o=xr(),s=$t(),a=Bo(),l=Nh(i)?i:us(i.provide),c=ML(i),d=a.providerIndexes&1048575,p=a.directiveStart,g=a.providerIndexes>>20;if(Nh(i)||!i.multi){let C=new vp(c,r,b),y=sA(l,n,r?d:d+g,p);y===-1?(vA(Iy(a,s),o,l),oA(o,i,n.length),n.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(C),s.push(C)):(e[y]=C,s[y]=C)}else{let C=sA(l,n,d+g,p),y=sA(l,n,d,d+g),v=C>=0&&e[C],w=y>=0&&e[y];if(r&&!w||!r&&!v){vA(Iy(a,s),o,l);let E=xX(r?EX:AX,e.length,r,t,c);!r&&w&&(e[y].providerFactory=E),oA(o,i,n.length,0),n.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(E),s.push(E)}else{let E=KN(e[r?y:C],c,!r&&t);oA(o,i,C>-1?C:y,E)}!r&&t&&w&&e[y].componentProviders++}}}function oA(i,n,e,t){let r=Nh(n),o=zK(n);if(r||o){let l=(o?us(n.useClass):n).prototype.ngOnDestroy;if(l){let c=i.destroyHooks||(i.destroyHooks=[]);if(!r&&n.multi){let d=c.indexOf(e);d===-1?c.push(e,[t,l]):c[d+1].push(t,l)}else c.push(e,l)}}}function KN(i,n,e){return e&&i.componentProviders++,i.multi.push(n)-1}function sA(i,n,e,t){for(let r=e;r<t;r++)if(n[r]===i)return r;return-1}function AX(i,n,e,t){return lE(this.multi,[])}function EX(i,n,e,t){let r=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=bp(e,e[vi],this.providerFactory.index,t);o=a.slice(0,s),lE(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],lE(r,o);return o}function lE(i,n){for(let e=0;e<i.length;e++){let t=i[e];n.push(t())}return n}function xX(i,n,e,t,r){let o=new vp(i,e,b);return o.multi=[],o.index=n,o.componentProviders=0,KN(o,r,t&&!e),o}function Ze(i,n=[]){return e=>{e.providersResolver=(t,r)=>SX(t,r?r(i):i,n)}}var TX=(()=>{class i{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){let t=kL(!1,e.type),r=t.length>0?pI([t],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,r)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(let e of this.cachedInjectors.values())e!==null&&e.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=_e({token:i,providedIn:"environment",factory:()=>new i(ce(hs))})}}return i})();function lt(i){kc("NgStandalone"),i.getStandaloneInjector=n=>n.get(TX).getOrCreateStandaloneInjector(i)}function Os(i,n,e){let t=i.\u0275cmp;t.directiveDefs=hy(n,!1),t.pipeDefs=hy(e,!0)}function Ae(i,n,e){let t=ta()+i,r=$t();return r[t]===ts?Gl(r,t,e?n.call(e):n()):Og(r,t)}function oe(i,n,e,t){return YN($t(),ta(),i,n,e,t)}function Je(i,n,e,t,r){return JN($t(),ta(),i,n,e,t,r)}function zi(i,n,e,t,r,o){return XN($t(),ta(),i,n,e,t,r,o)}function dr(i,n,e,t,r,o,s){return OX($t(),ta(),i,n,e,t,r,o,s)}function zl(i,n,e,t,r,o,s,a){let l=ta()+i,c=$t(),d=Kh(c,l,e,t,r,o);return Es(c,l+4,s)||d?Gl(c,l+5,a?n.call(a,e,t,r,o,s):n(e,t,r,o,s)):Og(c,l+5)}function ll(i,n,e,t,r,o,s,a,l){let c=ta()+i,d=$t(),p=Kh(d,c,e,t,r,o);return Wh(d,c+4,s,a)||p?Gl(d,c+6,l?n.call(l,e,t,r,o,s,a):n(e,t,r,o,s,a)):Og(d,c+6)}function $N(i,n,e,t,r,o,s,a,l,c){let d=ta()+i,p=$t(),g=Kh(p,d,e,t,r,o);return sx(p,d+4,s,a,l)||g?Gl(p,d+7,c?n.call(c,e,t,r,o,s,a,l):n(e,t,r,o,s,a,l)):Og(p,d+7)}function qN(i,n,e,t,r,o,s,a,l,c,d){let p=ta()+i,g=$t(),C=Kh(g,p,e,t,r,o);return Kh(g,p+4,s,a,l,c)||C?Gl(g,p+8,d?n.call(d,e,t,r,o,s,a,l,c):n(e,t,r,o,s,a,l,c)):Og(g,p+8)}function Tp(i,n,e,t){return DX($t(),ta(),i,n,e,t)}function Dg(i,n){let e=i[n];return e===ts?void 0:e}function YN(i,n,e,t,r,o){let s=n+e;return Es(i,s,r)?Gl(i,s+1,o?t.call(o,r):t(r)):Dg(i,s+1)}function JN(i,n,e,t,r,o,s){let a=n+e;return Wh(i,a,r,o)?Gl(i,a+2,s?t.call(s,r,o):t(r,o)):Dg(i,a+2)}function XN(i,n,e,t,r,o,s,a){let l=n+e;return sx(i,l,r,o,s)?Gl(i,l+3,a?t.call(a,r,o,s):t(r,o,s)):Dg(i,l+3)}function OX(i,n,e,t,r,o,s,a,l){let c=n+e;return Kh(i,c,r,o,s,a)?Gl(i,c+4,l?t.call(l,r,o,s,a):t(r,o,s,a)):Dg(i,c+4)}function DX(i,n,e,t,r,o){let s=n+e,a=!1;for(let l=0;l<r.length;l++)Es(i,s++,r[l])&&(a=!0);return a?Gl(i,s,t.apply(o,r)):Dg(i,s)}function R(i,n){let e=xr(),t,r=i+ho;e.firstCreatePass?(t=RX(n,e.pipeRegistry),e.data[r]=t,t.onDestroy&&(e.destroyHooks??=[]).push(r,t.onDestroy)):t=e.data[r];let o=t.factory||(t.factory=mp(t.type,!0)),s,a=Ss(b);try{let l=yy(!1),c=o();return yy(l),bX(e,$t(),r,c),c}finally{Ss(a)}}function RX(i,n){if(n)for(let e=n.length-1;e>=0;e--){let t=n[e];if(i===t.name)return t}}function k(i,n,e){let t=i+ho,r=$t(),o=Yy(r,t);return dx(r,t)?YN(r,ta(),n,o.transform,e,o):o.transform(e)}function Di(i,n,e,t){let r=i+ho,o=$t(),s=Yy(o,r);return dx(o,r)?JN(o,ta(),n,s.transform,e,t,s):s.transform(e,t)}function cl(i,n,e,t,r){let o=i+ho,s=$t(),a=Yy(s,o);return dx(s,o)?XN(s,ta(),n,a.transform,e,t,r,a):a.transform(e,t,r)}function dx(i,n){return i[vi].data[n].pure}function Pt(i,n){return uI(i,n)}var ty=null;function PX(i){ty!==null&&(i.defaultEncapsulation!==ty.defaultEncapsulation||i.preserveWhitespaces!==ty.preserveWhitespaces)||(ty=i)}var fI=(()=>{class i{log(e){console.log(e)}warn(e){console.warn(e)}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac,providedIn:"platform"})}}return i})();var ux=new He(""),Rg=new He(""),mI=(()=>{class i{constructor(e,t,r){this._ngZone=e,this.registry=t,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,px||(kX(r),r.addToWindow(t)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{xt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb()}});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>t.updateCb&&t.updateCb(e)?(clearTimeout(t.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,r){let o=-1;t&&t>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),e()},t)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:r})}whenStable(e,t,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,t,r),this._runCallbacksIfReady()}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,t,r){return[]}static{this.\u0275fac=function(t){return new(t||i)(ce(xt),ce(gI),ce(Rg))}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac})}}return i})(),gI=(()=>{class i{constructor(){this._applications=new Map}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return px?.findTestabilityInTree(this,e,t)??null}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac,providedIn:"platform"})}}return i})();function kX(i){px=i}var px;function Kd(i){return!!i&&typeof i.then=="function"}function hx(i){return!!i&&typeof i.subscribe=="function"}var _I=new He(""),QN=(()=>{class i{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,t)=>{this.resolve=e,this.reject=t}),this.appInits=Me(_I,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let e=[];for(let r of this.appInits){let o=r();if(Kd(o))e.push(o);else if(hx(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});e.push(s)}}let t=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{t()}).catch(r=>{this.reject(r)}),e.length===0&&t(),this.initialized=!0}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),CI=new He("");function FX(){jk(()=>{throw new Ct(600,!1)})}function LX(i){return i.isBoundToModule}var MX=10;function NX(i,n,e){try{let t=e();return Kd(t)?t.catch(r=>{throw n.runOutsideAngular(()=>i.handleError(r)),r}):t}catch(t){throw n.runOutsideAngular(()=>i.handleError(t)),t}}function ZN(i,n){return Array.isArray(n)?n.reduce(ZN,i):re(re({},i),n)}var dl=(()=>{class i{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Me(K$),this.afterRenderManager=Me(kN),this.zonelessEnabled=Me(nx),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Re,this.afterTick=new Re,this.componentTypes=[],this.components=[],this.isStable=Me(Hl).hasPendingTasks.pipe(W(e=>!e)),this._injector=Me(hs)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let e;return new Promise(t=>{e=this.isStable.subscribe({next:r=>{r&&t()}})}).finally(()=>{e.unsubscribe()})}get injector(){return this._injector}bootstrap(e,t){let r=e instanceof Ey;if(!this._injector.get(QN).done){let g=!r&&OL(e),C=!1;throw new Ct(405,C)}let s;r?s=e:s=this._injector.get(zd).resolveComponentFactory(e),this.componentTypes.push(s.componentType);let a=LX(s)?void 0:this._injector.get(Tc),l=t||s.selector,c=s.create(Er.NULL,[],l,a),d=c.location.nativeElement,p=c.injector.get(ux,null);return p?.registerApplication(d),c.onDestroy(()=>{this.detachView(c.hostView),ly(this.components,c),p?.unregisterApplication(d)}),this._loadComponent(c),c}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new Ct(101,!1);let e=Zi(null);try{this._runningTick=!0,this.synchronize()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1,Zi(e),this.afterTick.next()}}synchronize(){let e=null;this._injector.destroyed||(e=this._injector.get(zh,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let t=0;for(;this.dirtyFlags!==0&&t++<MX;)this.synchronizeOnce(e)}synchronizeOnce(e){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(t);for(let{_lView:r,notifyErrorHandler:o}of this._views)VX(r,o,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else e?.begin?.(),e?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:e})=>Jy(e))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(e){let t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){let t=e;ly(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);let t=this._injector.get(CI,[]);[...this._bootstrapListeners,...t].forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>ly(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new Ct(406,!1);let e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function ly(i,n){let e=i.indexOf(n);e>-1&&i.splice(e,1)}function VX(i,n,e,t){if(!e&&!Jy(i))return;yN(i,n,e&&!t?0:1)}var cE=class{constructor(n,e){this.ngModuleFactory=n,this.componentFactories=e}},yI=(()=>{class i{compileModuleSync(e){return new Ry(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){let t=this.compileModuleSync(e),r=DL(e),o=zM(r.declarations).reduce((s,a)=>{let l=Ac(a);return l&&s.push(new Sp(l)),s},[]);return new cE(t,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),BX=new He("");function UX(i,n,e){let t=new Ry(e);return Promise.resolve(t)}function sL(i){for(let n=i.length-1;n>=0;n--)if(i[n]!==void 0)return i[n]}var jX=(()=>{class i{constructor(){this.zone=Me(xt),this.changeDetectionScheduler=Me(Gh),this.applicationRef=Me(dl)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function HX({ngZoneFactory:i,ignoreChangesOutsideZone:n,scheduleInRootZone:e}){return i??=()=>new xt(Pe(re({},e3()),{scheduleInRootZone:e})),[{provide:xt,useFactory:i},{provide:gp,multi:!0,useFactory:()=>{let t=Me(jX,{optional:!0});return()=>t.initialize()}},{provide:gp,multi:!0,useFactory:()=>{let t=Me(GX);return()=>{t.initialize()}}},n===!0?{provide:wN,useValue:!0}:[],{provide:SN,useValue:e??yM}]}function e3(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:i?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:i?.runCoalescing??!1}}var GX=(()=>{class i{constructor(){this.subscription=new Pr,this.initialized=!1,this.zone=Me(xt),this.pendingTasks=Me(Hl)}initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{xt.assertNotInAngularZone(),queueMicrotask(()=>{e!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{xt.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var zX=(()=>{class i{constructor(){this.appRef=Me(dl),this.taskService=Me(Hl),this.ngZone=Me(xt),this.zonelessEnabled=Me(nx),this.disableScheduling=Me(wN,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Pr,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(by):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(Me(SN,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof wy||!this.zoneIsDefined)}notify(e){if(!this.zonelessEnabled&&e===5)return;switch(e){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let t=this.useMicrotaskScheduler?kF:IM;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>t(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>t(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(by+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let e=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(t){throw this.taskService.remove(e),t}finally{this.cleanup()}this.useMicrotaskScheduler=!0,kF(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(e)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function WX(){return typeof $localize<"u"&&$localize.locale||My}var Op=new He("",{providedIn:"root",factory:()=>Me(Op,$i.Optional|$i.SkipSelf)||WX()});var Ny=new He("");function iy(i){return!i.moduleRef}function KX(i){let n=iy(i)?i.r3Injector:i.moduleRef.injector,e=n.get(xt);return e.run(()=>{iy(i)?i.r3Injector.resolveInjectorInitializers():i.moduleRef.resolveInjectorInitializers();let t=n.get(Bl,null),r;if(e.runOutsideAngular(()=>{r=e.onError.subscribe({next:o=>{t.handleError(o)}})}),iy(i)){let o=()=>n.destroy(),s=i.platformInjector.get(Ny);s.add(o),n.onDestroy(()=>{r.unsubscribe(),s.delete(o)})}else{let o=()=>i.moduleRef.destroy(),s=i.platformInjector.get(Ny);s.add(o),i.moduleRef.onDestroy(()=>{ly(i.allPlatformModules,i.moduleRef),r.unsubscribe(),s.delete(o)})}return NX(t,e,()=>{let o=n.get(QN);return o.runInitializers(),o.donePromise.then(()=>{let s=n.get(Op,My);if(_X(s||My),iy(i)){let a=n.get(dl);return i.rootComponent!==void 0&&a.bootstrap(i.rootComponent),a}else return $X(i.moduleRef,i.allPlatformModules),i.moduleRef})})})}function $X(i,n){let e=i.injector.get(dl);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(t=>e.bootstrap(t));else if(i.instance.ngDoBootstrap)i.instance.ngDoBootstrap(e);else throw new Ct(-403,!1);n.push(i)}var t3=(()=>{class i{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){let r=t?.scheduleInRootZone,o=()=>W$(t?.ngZone,Pe(re({},e3({eventCoalescing:t?.ngZoneEventCoalescing,runCoalescing:t?.ngZoneRunCoalescing})),{scheduleInRootZone:r})),s=t?.ignoreChangesOutsideZone,a=[HX({ngZoneFactory:o,ignoreChangesOutsideZone:s}),{provide:Gh,useExisting:zX}],l=TJ(e.moduleType,this.injector,a);return KX({moduleRef:l,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(e,t=[]){let r=ZN({},t);return UX(this.injector,r,e).then(o=>this.bootstrapModuleFactory(o,r))}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ct(404,!1);this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t());let e=this._injector.get(Ny,null);e&&(e.forEach(t=>t()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(t){return new(t||i)(ce(Er))}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac,providedIn:"platform"})}}return i})(),hg=null,i3=new He("");function qX(i){if(hg&&!hg.get(i3,!1))throw new Ct(400,!1);FX(),hg=i;let n=i.get(t3);return XX(i),n}function fx(i,n,e=[]){let t=`Platform: ${n}`,r=new He(t);return(o=[])=>{let s=n3();if(!s||s.injector.get(i3,!1)){let a=[...e,...o,{provide:r,useValue:!0}];i?i(a):qX(YX(a,t))}return JX(r)}}function YX(i=[],n){return Er.create({name:n,providers:[{provide:Gy,useValue:"platform"},{provide:Ny,useValue:new Set([()=>hg=null])},...i]})}function JX(i){let n=n3();if(!n)throw new Ct(401,!1);return n}function n3(){return hg?.get(t3)??null}function XX(i){i.get(VE,null)?.forEach(e=>e())}function Pg(){return!1}var Ie=(()=>{class i{static{this.__NG_ELEMENT_ID__=QX}}return i})();function QX(i){return ZX(Bo(),$t(),(i&16)===16)}function ZX(i,n,e){if($y(i)&&!e){let t=Wd(i.index,n);return new wp(t,t)}else if(i.type&175){let t=n[Zs];return new wp(t,n)}return null}var dE=class{constructor(){}supports(n){return PN(n)}create(n){return new uE(n)}},eQ=(i,n)=>n,uE=class{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||eQ}forEachItem(n){let e;for(e=this._itHead;e!==null;e=e._next)n(e)}forEachOperation(n){let e=this._itHead,t=this._removalsHead,r=0,o=null;for(;e||t;){let s=!t||e&&e.currentIndex<aL(t,r,o)?e:t,a=aL(s,r,o),l=s.currentIndex;if(s===t)r--,t=t._nextRemoved;else if(e=e._next,s.previousIndex==null)r++;else{o||(o=[]);let c=a-r,d=l-r;if(c!=d){for(let g=0;g<c;g++){let C=g<o.length?o[g]:o[g]=0,y=C+g;d<=y&&y<c&&(o[g]=C+1)}let p=s.previousIndex;o[p]=d-c}}a!==l&&n(s,a,l)}}forEachPreviousItem(n){let e;for(e=this._previousItHead;e!==null;e=e._nextPrevious)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)n(e)}forEachMovedItem(n){let e;for(e=this._movesHead;e!==null;e=e._nextMoved)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)n(e)}forEachIdentityChange(n){let e;for(e=this._identityChangesHead;e!==null;e=e._nextIdentityChange)n(e)}diff(n){if(n==null&&(n=[]),!PN(n))throw new Ct(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let e=this._itHead,t=!1,r,o,s;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)o=n[a],s=this._trackByFn(a,o),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,o,s,a),t=!0):(t&&(e=this._verifyReinsertion(e,o,s,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)),e=e._next}else r=0,OJ(n,a=>{s=this._trackByFn(r,a),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,a,s,r),t=!0):(t&&(e=this._verifyReinsertion(e,a,s,r)),Object.is(e.item,a)||this._addIdentityChange(e,a)),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=n,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;n!==null;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;n!==null;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;n!==null;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,e,t,r){let o;return n===null?o=this._itTail:(o=n._prev,this._remove(n)),n=this._unlinkedRecords===null?null:this._unlinkedRecords.get(t,null),n!==null?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,o,r)):(n=this._linkedRecords===null?null:this._linkedRecords.get(t,r),n!==null?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,o,r)):n=this._addAfter(new pE(e,t),o,r)),n}_verifyReinsertion(n,e,t,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(t,null);return o!==null?n=this._reinsertAfter(o,n._prev,r):n.currentIndex!=r&&(n.currentIndex=r,this._addToMoves(n,r)),n}_truncate(n){for(;n!==null;){let e=n._next;this._addToRemovals(this._unlink(n)),n=e}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,e,t){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(n);let r=n._prevRemoved,o=n._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(n,e,t),this._addToMoves(n,t),n}_moveAfter(n,e,t){return this._unlink(n),this._insertAfter(n,e,t),this._addToMoves(n,t),n}_addAfter(n,e,t){return this._insertAfter(n,e,t),this._additionsTail===null?this._additionsTail=this._additionsHead=n:this._additionsTail=this._additionsTail._nextAdded=n,n}_insertAfter(n,e,t){let r=e===null?this._itHead:e._next;return n._next=r,n._prev=e,r===null?this._itTail=n:r._prev=n,e===null?this._itHead=n:e._next=n,this._linkedRecords===null&&(this._linkedRecords=new Vy),this._linkedRecords.put(n),n.currentIndex=t,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){this._linkedRecords!==null&&this._linkedRecords.remove(n);let e=n._prev,t=n._next;return e===null?this._itHead=t:e._next=t,t===null?this._itTail=e:t._prev=e,n}_addToMoves(n,e){return n.previousIndex===e||(this._movesTail===null?this._movesTail=this._movesHead=n:this._movesTail=this._movesTail._nextMoved=n),n}_addToRemovals(n){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Vy),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,e){return n.item=e,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=n:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=n,n}},pE=class{constructor(n,e){this.item=n,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},hE=class{constructor(){this._head=null,this._tail=null}add(n){this._head===null?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,e){let t;for(t=this._head;t!==null;t=t._nextDup)if((e===null||e<=t.currentIndex)&&Object.is(t.trackById,n))return t;return null}remove(n){let e=n._prevDup,t=n._nextDup;return e===null?this._head=t:e._nextDup=t,t===null?this._tail=e:t._prevDup=e,this._head===null}},Vy=class{constructor(){this.map=new Map}put(n){let e=n.trackById,t=this.map.get(e);t||(t=new hE,this.map.set(e,t)),t.add(n)}get(n,e){let t=n,r=this.map.get(t);return r?r.get(n,e):null}remove(n){let e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function aL(i,n,e){let t=i.previousIndex;if(t===null)return t;let r=0;return e&&t<e.length&&(r=e[t]),t+n+r}var fE=class{constructor(){}supports(n){return n instanceof Map||ox(n)}create(){return new mE}},mE=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(n){let e;for(e=this._mapHead;e!==null;e=e._next)n(e)}forEachPreviousItem(n){let e;for(e=this._previousMapHead;e!==null;e=e._nextPrevious)n(e)}forEachChangedItem(n){let e;for(e=this._changesHead;e!==null;e=e._nextChanged)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)n(e)}diff(n){if(!n)n=new Map;else if(!(n instanceof Map||ox(n)))throw new Ct(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(n,(t,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{let o=this._getOrCreateRecordForKey(r,t);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;t!==null;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,e){if(n){let t=n._prev;return e._next=n,e._prev=t,n._prev=e,t&&(t._next=e),n===this._mapHead&&(this._mapHead=e),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(n,e){if(this._records.has(n)){let r=this._records.get(n);this._maybeAddToChanges(r,e);let o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}let t=new gE(n);return this._records.set(n,t),t.currentValue=e,this._addToAdditions(t),t}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;n!==null;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;n!==null;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;n!=null;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,e){Object.is(e,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=e,this._addToChanges(n))}_addToAdditions(n){this._additionsHead===null?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){this._changesHead===null?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,e){n instanceof Map?n.forEach(e):Object.keys(n).forEach(t=>e(n[t],t))}},gE=class{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function lL(){return new mx([new dE])}var mx=(()=>{class i{static{this.\u0275prov=_e({token:i,providedIn:"root",factory:lL})}constructor(e){this.factories=e}static create(e,t){if(t!=null){let r=t.factories.slice();e=e.concat(r)}return new i(e)}static extend(e){return{provide:i,useFactory:t=>i.create(e,t||lL()),deps:[[i,new Hy,new wg]]}}find(e){let t=this.factories.find(r=>r.supports(e));if(t!=null)return t;throw new Ct(901,!1)}}return i})();function cL(){return new gx([new fE])}var gx=(()=>{class i{static{this.\u0275prov=_e({token:i,providedIn:"root",factory:cL})}constructor(e){this.factories=e}static create(e,t){if(t){let r=t.factories.slice();e=e.concat(r)}return new i(e)}static extend(e){return{provide:i,useFactory:t=>i.create(e,t||cL()),deps:[[i,new Hy,new wg]]}}find(e){let t=this.factories.find(r=>r.supports(e));if(t)return t;throw new Ct(901,!1)}}return i})();var r3=fx(null,"core",[]),o3=(()=>{class i{constructor(e){}static{this.\u0275fac=function(t){return new(t||i)(ce(dl))}}static{this.\u0275mod=Oe({type:i})}static{this.\u0275inj=Te({})}}return i})();function K(i){return typeof i=="boolean"?i:i!=null&&i!=="false"}function ke(i,n=NaN){return!isNaN(parseFloat(i))&&!isNaN(Number(i))?Number(i):n}function Tr(i,n){kc("NgSignals");let e=Vk(i);return n?.equal&&(e[Xa].equal=n.equal),e}function sa(i){let n=Zi(null);try{return i()}finally{Zi(n)}}var tQ=new He("",{providedIn:"root",factory:()=>Me(iQ)}),iQ=(()=>{class i{static{this.\u0275prov=_e({token:i,providedIn:"root",factory:()=>new _E})}}return i})(),_E=class{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=Me(Hl),this.taskId=null}scheduleEffect(n){if(this.enqueue(n),this.taskId===null){let e=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(e),this.taskId=null})}}enqueue(n){let e=n.creationZone;this.queues.has(e)||this.queues.set(e,new Set);let t=this.queues.get(e);t.has(n)||(this.queuedEffectCount++,t.add(n))}flush(){for(;this.queuedEffectCount>0;)for(let[n,e]of this.queues)n===null?this.flushQueue(e):n.run(()=>this.flushQueue(e))}flushQueue(n){for(let e of n)n.delete(e),this.queuedEffectCount--,e.run()}},CE=class{constructor(n,e,t,r,o,s){this.scheduler=n,this.effectFn=e,this.creationZone=t,this.injector=o,this.watcher=zk(a=>this.runEffect(a),()=>this.schedule(),s),this.unregisterOnDestroy=r?.onDestroy(()=>this.destroy())}runEffect(n){try{this.effectFn(n)}catch(e){this.injector.get(Bl,null,{optional:!0})?.handleError(e)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function Fc(i,n){kc("NgSignals"),!n?.injector&&Wy(Fc);let e=n?.injector??Me(Er),t=n?.manualCleanup!==!0?e.get(xp):null,r=new CE(e.get(tQ),i,typeof Zone>"u"?null:Zone.current,t,e,n?.allowSignalWrites??!1),o=e.get(Ie,null,{optional:!0});return!o||!(o._lView[_i]&8)?r.watcher.notify():(o._lView[ry]??=[]).push(r.watcher.notify),r}function s3(i,n){let e=Ac(i),t=n.elementInjector||zy();return new Sp(e).create(t,n.projectableNodes,n.hostElement,n.environmentInjector)}function a3(i){let n=Ac(i);if(!n)return null;let e=new Sp(n);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}var g3=null;function Wl(){return g3}function _3(i){g3??=i}var TI=class{};var _t=new He(""),Dx=(()=>{class i{historyGo(e){throw new Error("")}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=_e({token:i,factory:()=>Me(rQ),providedIn:"platform"})}}return i})(),C3=new He(""),rQ=(()=>{class i extends Dx{constructor(){super(),this._doc=Me(_t),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Wl().getBaseHref(this._doc)}onPopState(e){let t=Wl().getGlobalEventTarget(this._doc,"window");return t.addEventListener("popstate",e,!1),()=>t.removeEventListener("popstate",e)}onHashChange(e){let t=Wl().getGlobalEventTarget(this._doc,"window");return t.addEventListener("hashchange",e,!1),()=>t.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,t,r){this._history.pushState(e,t,r)}replaceState(e,t,r){this._history.replaceState(e,t,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=_e({token:i,factory:()=>new i,providedIn:"platform"})}}return i})();function Rx(i,n){if(i.length==0)return n;if(n.length==0)return i;let e=0;return i.endsWith("/")&&e++,n.startsWith("/")&&e++,e==2?i+n.substring(1):e==1?i+n:i+"/"+n}function l3(i){let n=i.match(/#|\?|$/),e=n&&n.index||i.length,t=e-(i[e-1]==="/"?1:0);return i.slice(0,t)+i.slice(e)}function Mc(i){return i&&i[0]!=="?"?"?"+i:i}var Bc=(()=>{class i{historyGo(e){throw new Error("")}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=_e({token:i,factory:()=>Me(Px),providedIn:"root"})}}return i})(),y3=new He(""),Px=(()=>{class i extends Bc{constructor(e,t){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=t??this._platformLocation.getBaseHrefFromDOM()??Me(_t).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Rx(this._baseHref,e)}path(e=!1){let t=this._platformLocation.pathname+Mc(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${t}${r}`:t}pushState(e,t,r,o){let s=this.prepareExternalUrl(r+Mc(o));this._platformLocation.pushState(e,t,s)}replaceState(e,t,r,o){let s=this.prepareExternalUrl(r+Mc(o));this._platformLocation.replaceState(e,t,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static{this.\u0275fac=function(t){return new(t||i)(ce(Dx),ce(y3,8))}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),I3=(()=>{class i extends Bc{constructor(e,t){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],t!=null&&(this._baseHref=t)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let t=this._platformLocation.hash??"#";return t.length>0?t.substring(1):t}prepareExternalUrl(e){let t=Rx(this._baseHref,e);return t.length>0?"#"+t:t}pushState(e,t,r,o){let s=this.prepareExternalUrl(r+Mc(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,t,s)}replaceState(e,t,r,o){let s=this.prepareExternalUrl(r+Mc(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static{this.\u0275fac=function(t){return new(t||i)(ce(Dx),ce(y3,8))}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac})}}return i})(),$d=(()=>{class i{constructor(e){this._subject=new Q,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;let t=this._locationStrategy.getBaseHref();this._basePath=aQ(l3(c3(t))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,t=""){return this.path()==this.normalize(e+Mc(t))}normalize(e){return i.stripTrailingSlash(sQ(this._basePath,c3(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,t="",r=null){this._locationStrategy.pushState(r,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Mc(t)),r)}replaceState(e,t="",r=null){this._locationStrategy.replaceState(r,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Mc(t)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}),()=>{let t=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(t,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",t){this._urlChangeListeners.forEach(r=>r(e,t))}subscribe(e,t,r){return this._subject.subscribe({next:e,error:t,complete:r})}static{this.normalizeQueryParams=Mc}static{this.joinWithSlash=Rx}static{this.stripTrailingSlash=l3}static{this.\u0275fac=function(t){return new(t||i)(ce(Bc))}}static{this.\u0275prov=_e({token:i,factory:()=>oQ(),providedIn:"root"})}}return i})();function oQ(){return new $d(ce(Bc))}function sQ(i,n){if(!i||!n.startsWith(i))return n;let e=n.substring(i.length);return e===""||["/",";","?","#"].includes(e[0])?e:n}function c3(i){return i.replace(/\/index.html$/,"")}function aQ(i){if(new RegExp("^(https?:)?//").test(i)){let[,e]=i.split(/\/\/[^\/]+/);return e}return i}var v3=function(i){return i[i.Decimal=0]="Decimal",i[i.Percent=1]="Percent",i[i.Currency=2]="Currency",i[i.Scientific=3]="Scientific",i}(v3||{});var fs=function(i){return i[i.Format=0]="Format",i[i.Standalone=1]="Standalone",i}(fs||{}),jn=function(i){return i[i.Narrow=0]="Narrow",i[i.Abbreviated=1]="Abbreviated",i[i.Wide=2]="Wide",i[i.Short=3]="Short",i}(jn||{}),aa=function(i){return i[i.Short=0]="Short",i[i.Medium=1]="Medium",i[i.Long=2]="Long",i[i.Full=3]="Full",i}(aa||{}),la={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function lQ(i){return oa(i)[kr.LocaleId]}function cQ(i,n,e){let t=oa(i),r=[t[kr.DayPeriodsFormat],t[kr.DayPeriodsStandalone]],o=Ea(r,n);return Ea(o,e)}function dQ(i,n,e){let t=oa(i),r=[t[kr.DaysFormat],t[kr.DaysStandalone]],o=Ea(r,n);return Ea(o,e)}function uQ(i,n,e){let t=oa(i),r=[t[kr.MonthsFormat],t[kr.MonthsStandalone]],o=Ea(r,n);return Ea(o,e)}function pQ(i,n){let t=oa(i)[kr.Eras];return Ea(t,n)}function II(i,n){let e=oa(i);return Ea(e[kr.DateFormat],n)}function vI(i,n){let e=oa(i);return Ea(e[kr.TimeFormat],n)}function bI(i,n){let t=oa(i)[kr.DateTimeFormat];return Ea(t,n)}function Nc(i,n){let e=oa(i),t=e[kr.NumberSymbols][n];if(typeof t>"u"){if(n===la.CurrencyDecimal)return e[kr.NumberSymbols][la.Decimal];if(n===la.CurrencyGroup)return e[kr.NumberSymbols][la.Group]}return t}function hQ(i,n){return oa(i)[kr.NumberFormats][n]}function b3(i){if(!i[kr.ExtraData])throw new Error(`Missing extra locale data for the locale "${i[kr.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function fQ(i){let n=oa(i);return b3(n),(n[kr.ExtraData][2]||[]).map(t=>typeof t=="string"?_x(t):[_x(t[0]),_x(t[1])])}function mQ(i,n,e){let t=oa(i);b3(t);let r=[t[kr.ExtraData][0],t[kr.ExtraData][1]],o=Ea(r,n)||[];return Ea(o,e)||[]}function Ea(i,n){for(let e=n;e>-1;e--)if(typeof i[e]<"u")return i[e];throw new Error("Locale data API: locale data undefined")}function _x(i){let[n,e]=i.split(":");return{hours:+n,minutes:+e}}var gQ=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,wI={},_Q=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Vc=function(i){return i[i.Short=0]="Short",i[i.ShortGMT=1]="ShortGMT",i[i.Long=2]="Long",i[i.Extended=3]="Extended",i}(Vc||{}),bn=function(i){return i[i.FullYear=0]="FullYear",i[i.Month=1]="Month",i[i.Date=2]="Date",i[i.Hours=3]="Hours",i[i.Minutes=4]="Minutes",i[i.Seconds=5]="Seconds",i[i.FractionalSeconds=6]="FractionalSeconds",i[i.Day=7]="Day",i}(bn||{}),vn=function(i){return i[i.DayPeriods=0]="DayPeriods",i[i.Days=1]="Days",i[i.Months=2]="Months",i[i.Eras=3]="Eras",i}(vn||{});function CQ(i,n,e,t){let r=xQ(i);n=Lc(e,n)||n;let s=[],a;for(;n;)if(a=_Q.exec(n),a){s=s.concat(a.slice(1));let d=s.pop();if(!d)break;n=d}else{s.push(n);break}let l=r.getTimezoneOffset();t&&(l=S3(t,l),r=EQ(r,t,!0));let c="";return s.forEach(d=>{let p=SQ(d);c+=p?p(r,e,l):d==="''"?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function OI(i,n,e){let t=new Date(0);return t.setFullYear(i,n,e),t.setHours(0,0,0),t}function Lc(i,n){let e=lQ(i);if(wI[e]??={},wI[e][n])return wI[e][n];let t="";switch(n){case"shortDate":t=II(i,aa.Short);break;case"mediumDate":t=II(i,aa.Medium);break;case"longDate":t=II(i,aa.Long);break;case"fullDate":t=II(i,aa.Full);break;case"shortTime":t=vI(i,aa.Short);break;case"mediumTime":t=vI(i,aa.Medium);break;case"longTime":t=vI(i,aa.Long);break;case"fullTime":t=vI(i,aa.Full);break;case"short":let r=Lc(i,"shortTime"),o=Lc(i,"shortDate");t=SI(bI(i,aa.Short),[r,o]);break;case"medium":let s=Lc(i,"mediumTime"),a=Lc(i,"mediumDate");t=SI(bI(i,aa.Medium),[s,a]);break;case"long":let l=Lc(i,"longTime"),c=Lc(i,"longDate");t=SI(bI(i,aa.Long),[l,c]);break;case"full":let d=Lc(i,"fullTime"),p=Lc(i,"fullDate");t=SI(bI(i,aa.Full),[d,p]);break}return t&&(wI[e][n]=t),t}function SI(i,n){return n&&(i=i.replace(/\{([^}]+)}/g,function(e,t){return n!=null&&t in n?n[t]:e})),i}function ul(i,n,e="-",t,r){let o="";(i<0||r&&i<=0)&&(r?i=-i+1:(i=-i,o=e));let s=String(i);for(;s.length<n;)s="0"+s;return t&&(s=s.slice(s.length-n)),o+s}function yQ(i,n){return ul(i,3).substring(0,n)}function Xr(i,n,e=0,t=!1,r=!1){return function(o,s){let a=IQ(i,o);if((e>0||a>-e)&&(a+=e),i===bn.Hours)a===0&&e===-12&&(a=12);else if(i===bn.FractionalSeconds)return yQ(a,n);let l=Nc(s,la.MinusSign);return ul(a,n,l,t,r)}}function IQ(i,n){switch(i){case bn.FullYear:return n.getFullYear();case bn.Month:return n.getMonth();case bn.Date:return n.getDate();case bn.Hours:return n.getHours();case bn.Minutes:return n.getMinutes();case bn.Seconds:return n.getSeconds();case bn.FractionalSeconds:return n.getMilliseconds();case bn.Day:return n.getDay();default:throw new Error(`Unknown DateType value "${i}".`)}}function Xn(i,n,e=fs.Format,t=!1){return function(r,o){return vQ(r,o,i,n,e,t)}}function vQ(i,n,e,t,r,o){switch(e){case vn.Months:return uQ(n,r,t)[i.getMonth()];case vn.Days:return dQ(n,r,t)[i.getDay()];case vn.DayPeriods:let s=i.getHours(),a=i.getMinutes();if(o){let c=fQ(n),d=mQ(n,r,t),p=c.findIndex(g=>{if(Array.isArray(g)){let[C,y]=g,v=s>=C.hours&&a>=C.minutes,w=s<y.hours||s===y.hours&&a<y.minutes;if(C.hours<y.hours){if(v&&w)return!0}else if(v||w)return!0}else if(g.hours===s&&g.minutes===a)return!0;return!1});if(p!==-1)return d[p]}return cQ(n,r,t)[s<12?0:1];case vn.Eras:return pQ(n,t)[i.getFullYear()<=0?0:1];default:let l=e;throw new Error(`unexpected translation type ${l}`)}}function AI(i){return function(n,e,t){let r=-1*t,o=Nc(e,la.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(i){case Vc.Short:return(r>=0?"+":"")+ul(s,2,o)+ul(Math.abs(r%60),2,o);case Vc.ShortGMT:return"GMT"+(r>=0?"+":"")+ul(s,1,o);case Vc.Long:return"GMT"+(r>=0?"+":"")+ul(s,2,o)+":"+ul(Math.abs(r%60),2,o);case Vc.Extended:return t===0?"Z":(r>=0?"+":"")+ul(s,2,o)+":"+ul(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${i}"`)}}}var bQ=0,xI=4;function wQ(i){let n=OI(i,bQ,1).getDay();return OI(i,0,1+(n<=xI?xI:xI+7)-n)}function w3(i){let n=i.getDay(),e=n===0?-3:xI-n;return OI(i.getFullYear(),i.getMonth(),i.getDate()+e)}function Cx(i,n=!1){return function(e,t){let r;if(n){let o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,s=e.getDate();r=1+Math.floor((s+o)/7)}else{let o=w3(e),s=wQ(o.getFullYear()),a=o.getTime()-s.getTime();r=1+Math.round(a/6048e5)}return ul(r,i,Nc(t,la.MinusSign))}}function EI(i,n=!1){return function(e,t){let o=w3(e).getFullYear();return ul(o,i,Nc(t,la.MinusSign),n)}}var yx={};function SQ(i){if(yx[i])return yx[i];let n;switch(i){case"G":case"GG":case"GGG":n=Xn(vn.Eras,jn.Abbreviated);break;case"GGGG":n=Xn(vn.Eras,jn.Wide);break;case"GGGGG":n=Xn(vn.Eras,jn.Narrow);break;case"y":n=Xr(bn.FullYear,1,0,!1,!0);break;case"yy":n=Xr(bn.FullYear,2,0,!0,!0);break;case"yyy":n=Xr(bn.FullYear,3,0,!1,!0);break;case"yyyy":n=Xr(bn.FullYear,4,0,!1,!0);break;case"Y":n=EI(1);break;case"YY":n=EI(2,!0);break;case"YYY":n=EI(3);break;case"YYYY":n=EI(4);break;case"M":case"L":n=Xr(bn.Month,1,1);break;case"MM":case"LL":n=Xr(bn.Month,2,1);break;case"MMM":n=Xn(vn.Months,jn.Abbreviated);break;case"MMMM":n=Xn(vn.Months,jn.Wide);break;case"MMMMM":n=Xn(vn.Months,jn.Narrow);break;case"LLL":n=Xn(vn.Months,jn.Abbreviated,fs.Standalone);break;case"LLLL":n=Xn(vn.Months,jn.Wide,fs.Standalone);break;case"LLLLL":n=Xn(vn.Months,jn.Narrow,fs.Standalone);break;case"w":n=Cx(1);break;case"ww":n=Cx(2);break;case"W":n=Cx(1,!0);break;case"d":n=Xr(bn.Date,1);break;case"dd":n=Xr(bn.Date,2);break;case"c":case"cc":n=Xr(bn.Day,1);break;case"ccc":n=Xn(vn.Days,jn.Abbreviated,fs.Standalone);break;case"cccc":n=Xn(vn.Days,jn.Wide,fs.Standalone);break;case"ccccc":n=Xn(vn.Days,jn.Narrow,fs.Standalone);break;case"cccccc":n=Xn(vn.Days,jn.Short,fs.Standalone);break;case"E":case"EE":case"EEE":n=Xn(vn.Days,jn.Abbreviated);break;case"EEEE":n=Xn(vn.Days,jn.Wide);break;case"EEEEE":n=Xn(vn.Days,jn.Narrow);break;case"EEEEEE":n=Xn(vn.Days,jn.Short);break;case"a":case"aa":case"aaa":n=Xn(vn.DayPeriods,jn.Abbreviated);break;case"aaaa":n=Xn(vn.DayPeriods,jn.Wide);break;case"aaaaa":n=Xn(vn.DayPeriods,jn.Narrow);break;case"b":case"bb":case"bbb":n=Xn(vn.DayPeriods,jn.Abbreviated,fs.Standalone,!0);break;case"bbbb":n=Xn(vn.DayPeriods,jn.Wide,fs.Standalone,!0);break;case"bbbbb":n=Xn(vn.DayPeriods,jn.Narrow,fs.Standalone,!0);break;case"B":case"BB":case"BBB":n=Xn(vn.DayPeriods,jn.Abbreviated,fs.Format,!0);break;case"BBBB":n=Xn(vn.DayPeriods,jn.Wide,fs.Format,!0);break;case"BBBBB":n=Xn(vn.DayPeriods,jn.Narrow,fs.Format,!0);break;case"h":n=Xr(bn.Hours,1,-12);break;case"hh":n=Xr(bn.Hours,2,-12);break;case"H":n=Xr(bn.Hours,1);break;case"HH":n=Xr(bn.Hours,2);break;case"m":n=Xr(bn.Minutes,1);break;case"mm":n=Xr(bn.Minutes,2);break;case"s":n=Xr(bn.Seconds,1);break;case"ss":n=Xr(bn.Seconds,2);break;case"S":n=Xr(bn.FractionalSeconds,1);break;case"SS":n=Xr(bn.FractionalSeconds,2);break;case"SSS":n=Xr(bn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":n=AI(Vc.Short);break;case"ZZZZZ":n=AI(Vc.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=AI(Vc.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":n=AI(Vc.Long);break;default:return null}return yx[i]=n,n}function S3(i,n){i=i.replace(/:/g,"");let e=Date.parse("Jan 01, 1970 00:00:00 "+i)/6e4;return isNaN(e)?n:e}function AQ(i,n){return i=new Date(i.getTime()),i.setMinutes(i.getMinutes()+n),i}function EQ(i,n,e){let t=e?-1:1,r=i.getTimezoneOffset(),o=S3(n,r);return AQ(i,t*(o-r))}function xQ(i){if(d3(i))return i;if(typeof i=="number"&&!isNaN(i))return new Date(i);if(typeof i=="string"){if(i=i.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(i)){let[r,o=1,s=1]=i.split("-").map(a=>+a);return OI(r,o-1,s)}let e=parseFloat(i);if(!isNaN(i-e))return new Date(e);let t;if(t=i.match(gQ))return TQ(t)}let n=new Date(i);if(!d3(n))throw new Error(`Unable to convert "${i}" into a date`);return n}function TQ(i){let n=new Date(0),e=0,t=0,r=i[8]?n.setUTCFullYear:n.setFullYear,o=i[8]?n.setUTCHours:n.setHours;i[9]&&(e=Number(i[9]+i[10]),t=Number(i[9]+i[11])),r.call(n,Number(i[1]),Number(i[2])-1,Number(i[3]));let s=Number(i[4]||0)-e,a=Number(i[5]||0)-t,l=Number(i[6]||0),c=Math.floor(parseFloat("0."+(i[7]||0))*1e3);return o.call(n,s,a,l,c),n}function d3(i){return i instanceof Date&&!isNaN(i.valueOf())}var OQ=/^(\d+)?\.((\d+)(-(\d+))?)?$/,u3=22,DI=".",kg="0",DQ=";",RQ=",",Ix="#";function PQ(i,n,e,t,r,o,s=!1){let a="",l=!1;if(!isFinite(i))a=Nc(e,la.Infinity);else{let c=MQ(i);s&&(c=LQ(c));let d=n.minInt,p=n.minFrac,g=n.maxFrac;if(o){let T=o.match(OQ);if(T===null)throw new Error(`${o} is not a valid digit info`);let F=T[1],G=T[3],z=T[5];F!=null&&(d=vx(F)),G!=null&&(p=vx(G)),z!=null?g=vx(z):G!=null&&p>g&&(g=p)}NQ(c,p,g);let C=c.digits,y=c.integerLen,v=c.exponent,w=[];for(l=C.every(T=>!T);y<d;y++)C.unshift(0);for(;y<0;y++)C.unshift(0);y>0?w=C.splice(y,C.length):(w=C,C=[0]);let E=[];for(C.length>=n.lgSize&&E.unshift(C.splice(-n.lgSize,C.length).join(""));C.length>n.gSize;)E.unshift(C.splice(-n.gSize,C.length).join(""));C.length&&E.unshift(C.join("")),a=E.join(Nc(e,t)),w.length&&(a+=Nc(e,r)+w.join("")),v&&(a+=Nc(e,la.Exponential)+"+"+v)}return i<0&&!l?a=n.negPre+a+n.negSuf:a=n.posPre+a+n.posSuf,a}function kQ(i,n,e){let t=hQ(n,v3.Decimal),r=FQ(t,Nc(n,la.MinusSign));return PQ(i,r,n,la.Group,la.Decimal,e)}function FQ(i,n="-"){let e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},t=i.split(DQ),r=t[0],o=t[1],s=r.indexOf(DI)!==-1?r.split(DI):[r.substring(0,r.lastIndexOf(kg)+1),r.substring(r.lastIndexOf(kg)+1)],a=s[0],l=s[1]||"";e.posPre=a.substring(0,a.indexOf(Ix));for(let d=0;d<l.length;d++){let p=l.charAt(d);p===kg?e.minFrac=e.maxFrac=d+1:p===Ix?e.maxFrac=d+1:e.posSuf+=p}let c=a.split(RQ);if(e.gSize=c[1]?c[1].length:0,e.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,o){let d=r.length-e.posPre.length-e.posSuf.length,p=o.indexOf(Ix);e.negPre=o.substring(0,p).replace(/'/g,""),e.negSuf=o.slice(p+d).replace(/'/g,"")}else e.negPre=n+e.posPre,e.negSuf=e.posSuf;return e}function LQ(i){if(i.digits[0]===0)return i;let n=i.digits.length-i.integerLen;return i.exponent?i.exponent+=2:(n===0?i.digits.push(0,0):n===1&&i.digits.push(0),i.integerLen+=2),i}function MQ(i){let n=Math.abs(i)+"",e=0,t,r,o,s,a;for((r=n.indexOf(DI))>-1&&(n=n.replace(DI,"")),(o=n.search(/e/i))>0?(r<0&&(r=o),r+=+n.slice(o+1),n=n.substring(0,o)):r<0&&(r=n.length),o=0;n.charAt(o)===kg;o++);if(o===(a=n.length))t=[0],r=1;else{for(a--;n.charAt(a)===kg;)a--;for(r-=o,t=[],s=0;o<=a;o++,s++)t[s]=Number(n.charAt(o))}return r>u3&&(t=t.splice(0,u3-1),e=r-1,r=1),{digits:t,exponent:e,integerLen:r}}function NQ(i,n,e){if(n>e)throw new Error(`The minimum number of digits after fraction (${n}) is higher than the maximum (${e}).`);let t=i.digits,r=t.length-i.integerLen,o=Math.min(Math.max(n,r),e),s=o+i.integerLen,a=t[s];if(s>0){t.splice(Math.max(i.integerLen,s));for(let p=s;p<t.length;p++)t[p]=0}else{r=Math.max(0,r),i.integerLen=1,t.length=Math.max(1,s=o+1),t[0]=0;for(let p=1;p<s;p++)t[p]=0}if(a>=5)if(s-1<0){for(let p=0;p>s;p--)t.unshift(0),i.integerLen++;t.unshift(1),i.integerLen++}else t[s-1]++;for(;r<Math.max(0,o);r++)t.push(0);let l=o!==0,c=n+i.integerLen,d=t.reduceRight(function(p,g,C,y){return g=g+p,y[C]=g<10?g:g-10,l&&(y[C]===0&&C>=c?y.pop():l=!1),g>=10?1:0},0);d&&(t.unshift(d),i.integerLen++)}function vx(i){let n=parseInt(i);if(isNaN(n))throw new Error("Invalid integer literal when parsing "+i);return n}function RI(i,n){n=encodeURIComponent(n);for(let e of i.split(";")){let t=e.indexOf("="),[r,o]=t==-1?[e,""]:[e.slice(0,t),e.slice(t+1)];if(r.trim()===n)return decodeURIComponent(o)}return null}var bx=/\s+/,p3=[],Ge=(()=>{class i{constructor(e,t){this._ngEl=e,this._renderer=t,this.initialClasses=p3,this.stateMap=new Map}set klass(e){this.initialClasses=e!=null?e.trim().split(bx):p3}set ngClass(e){this.rawClass=typeof e=="string"?e.trim().split(bx):e}ngDoCheck(){for(let t of this.initialClasses)this._updateState(t,!0);let e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(let t of e)this._updateState(t,!0);else if(e!=null)for(let t of Object.keys(e))this._updateState(t,!!e[t]);this._applyStateDiff()}_updateState(e,t){let r=this.stateMap.get(e);r!==void 0?(r.enabled!==t&&(r.changed=!0,r.enabled=t),r.touched=!0):this.stateMap.set(e,{enabled:t,changed:!0,touched:!0})}_applyStateDiff(){for(let e of this.stateMap){let t=e[0],r=e[1];r.changed?(this._toggleClass(t,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(t,!1),this.stateMap.delete(t)),r.touched=!1}}_toggleClass(e,t){e=e.trim(),e.length>0&&e.split(bx).forEach(r=>{t?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static{this.\u0275fac=function(t){return new(t||i)(b(ze),b(Ft))}}static{this.\u0275dir=gt({type:i,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return i})(),A3=(()=>{class i{constructor(e){this._viewContainerRef=e,this.ngComponentOutlet=null,this._inputsUsed=new Map}_needToReCreateNgModuleInstance(e){return e.ngComponentOutletNgModule!==void 0||e.ngComponentOutletNgModuleFactory!==void 0}_needToReCreateComponentInstance(e){return e.ngComponentOutlet!==void 0||e.ngComponentOutletContent!==void 0||e.ngComponentOutletInjector!==void 0||this._needToReCreateNgModuleInstance(e)}ngOnChanges(e){if(this._needToReCreateComponentInstance(e)&&(this._viewContainerRef.clear(),this._inputsUsed.clear(),this._componentRef=void 0,this.ngComponentOutlet)){let t=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;this._needToReCreateNgModuleInstance(e)&&(this._moduleRef?.destroy(),this.ngComponentOutletNgModule?this._moduleRef=RN(this.ngComponentOutletNgModule,h3(t)):this.ngComponentOutletNgModuleFactory?this._moduleRef=this.ngComponentOutletNgModuleFactory.create(h3(t)):this._moduleRef=void 0),this._componentRef=this._viewContainerRef.createComponent(this.ngComponentOutlet,{injector:t,ngModuleRef:this._moduleRef,projectableNodes:this.ngComponentOutletContent})}}ngDoCheck(){if(this._componentRef){if(this.ngComponentOutletInputs)for(let e of Object.keys(this.ngComponentOutletInputs))this._inputsUsed.set(e,!0);this._applyInputStateDiff(this._componentRef)}}ngOnDestroy(){this._moduleRef?.destroy()}_applyInputStateDiff(e){for(let[t,r]of this._inputsUsed)r?(e.setInput(t,this.ngComponentOutletInputs[t]),this._inputsUsed.set(t,!1)):(e.setInput(t,void 0),this._inputsUsed.delete(t))}static{this.\u0275fac=function(t){return new(t||i)(b(fo))}}static{this.\u0275dir=gt({type:i,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInputs:"ngComponentOutletInputs",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModule:"ngComponentOutletNgModule",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},standalone:!0,features:[en]})}}return i})();function h3(i){return i.get(Tc).injector}var wx=class{constructor(n,e,t,r){this.$implicit=n,this.ngForOf=e,this.index=t,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},tn=(()=>{class i{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,t,r){this._viewContainer=e,this._template=t,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;if(!this._differ&&e)if(0)try{}catch{}else this._differ=this._differs.find(e).create(this.ngForTrackBy)}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let t=this._viewContainer;e.forEachOperation((r,o,s)=>{if(r.previousIndex==null)t.createEmbeddedView(this._template,new wx(r.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)t.remove(o===null?void 0:o);else if(o!==null){let a=t.get(o);t.move(a,s),f3(a,r)}});for(let r=0,o=t.length;r<o;r++){let a=t.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{let o=t.get(r.currentIndex);f3(o,r)})}static ngTemplateContextGuard(e,t){return!0}static{this.\u0275fac=function(t){return new(t||i)(b(fo),b(ea),b(mx))}}static{this.\u0275dir=gt({type:i,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return i})();function f3(i,n){i.context.$implicit=n.item}var et=(()=>{class i{constructor(e,t){this._viewContainer=e,this._context=new Sx,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){m3("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){m3("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,t){return!0}static{this.\u0275fac=function(t){return new(t||i)(b(fo),b(ea))}}static{this.\u0275dir=gt({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return i})(),Sx=class{constructor(){this.$implicit=null,this.ngIf=null}};function m3(i,n){if(!!!(!n||n.createEmbeddedView))throw new Error(`${i} must be a TemplateRef, but received '${ps(n)}'.`)}var Ee=(()=>{class i{constructor(e,t,r){this._ngEl=e,this._differs=t,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){let e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,t){let[r,o]=e.split("."),s=r.indexOf("-")===-1?void 0:Ul.DashCase;t!=null?this._renderer.setStyle(this._ngEl.nativeElement,r,o?`${t}${o}`:t,s):this._renderer.removeStyle(this._ngEl.nativeElement,r,s)}_applyChanges(e){e.forEachRemovedItem(t=>this._setStyle(t.key,null)),e.forEachAddedItem(t=>this._setStyle(t.key,t.currentValue)),e.forEachChangedItem(t=>this._setStyle(t.key,t.currentValue))}static{this.\u0275fac=function(t){return new(t||i)(b(ze),b(gx),b(Ft))}}static{this.\u0275dir=gt({type:i,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return i})(),st=(()=>{class i{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(this._shouldRecreateView(e)){let t=this._viewContainerRef;if(this._viewRef&&t.remove(t.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let r=this._createContextForwardProxy();this._viewRef=t.createEmbeddedView(this.ngTemplateOutlet,r,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(e){return!!e.ngTemplateOutlet||!!e.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(e,t,r)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,t,r):!1,get:(e,t,r)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,t,r)}})}static{this.\u0275fac=function(t){return new(t||i)(b(fo))}}static{this.\u0275dir=gt({type:i,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[en]})}}return i})();function Fg(i,n){return new Ct(2100,!1)}var Ax=class{createSubscription(n,e){return sa(()=>n.subscribe({next:e,error:t=>{throw t}}))}dispose(n){sa(()=>n.unsubscribe())}},Ex=class{createSubscription(n,e){return n.then(e,t=>{throw t})}dispose(n){}},VQ=new Ex,BQ=new Ax,E3=(()=>{class i{constructor(e){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){if(!this._obj){if(e)try{this.markForCheckOnValueUpdate=!1,this._subscribe(e)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,t=>this._updateLatestValue(e,t))}_selectStrategy(e){if(Kd(e))return VQ;if(hx(e))return BQ;throw Fg(i,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,t){e===this._obj&&(this._latestValue=t,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(t){return new(t||i)(b(Ie,16))}}static{this.\u0275pipe=Jn({name:"async",type:i,pure:!1,standalone:!0})}}return i})(),Uet=(()=>{class i{transform(e){if(e==null)return null;if(typeof e!="string")throw Fg(i,e);return e.toLowerCase()}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275pipe=Jn({name:"lowercase",type:i,pure:!0,standalone:!0})}}return i})();var UQ="mediumDate",jQ=new He(""),HQ=new He(""),Kl=(()=>{class i{constructor(e,t,r){this.locale=e,this.defaultTimezone=t,this.defaultOptions=r}transform(e,t,r,o){if(e==null||e===""||e!==e)return null;try{let s=t??this.defaultOptions?.dateFormat??UQ,a=r??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return CQ(e,s,o||this.locale,a)}catch(s){throw Fg(i,s.message)}}static{this.\u0275fac=function(t){return new(t||i)(b(Op,16),b(jQ,24),b(HQ,24))}}static{this.\u0275pipe=Jn({name:"date",type:i,pure:!0,standalone:!0})}}return i})();var PI=(()=>{class i{transform(e){return JSON.stringify(e,null,2)}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275pipe=Jn({name:"json",type:i,pure:!1,standalone:!0})}}return i})();var nf=(()=>{class i{constructor(e){this._locale=e}transform(e,t,r){if(!GQ(e))return null;r||=this._locale;try{let o=zQ(e);return kQ(o,r,t)}catch(o){throw Fg(i,o.message)}}static{this.\u0275fac=function(t){return new(t||i)(b(Op,16))}}static{this.\u0275pipe=Jn({name:"number",type:i,pure:!0,standalone:!0})}}return i})();function GQ(i){return!(i==null||i===""||i!==i)}function zQ(i){if(typeof i=="string"&&!isNaN(Number(i)-parseFloat(i)))return Number(i);if(typeof i!="number")throw new Error(`${i} is not a number`);return i}var kI=(()=>{class i{transform(e,t,r){if(e==null)return null;if(!this.supports(e))throw Fg(i,e);return e.slice(t,r)}supports(e){return typeof e=="string"||Array.isArray(e)}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275pipe=Jn({name:"slice",type:i,pure:!1,standalone:!0})}}return i})();var Ye=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=Oe({type:i})}static{this.\u0275inj=Te({})}}return i})(),kx="browser",WQ="server";function ht(i){return i===kx}function FI(i){return i===WQ}var x3=(()=>{class i{static{this.\u0275prov=_e({token:i,providedIn:"root",factory:()=>ht(Me(qt))?new xx(Me(_t),window):new Tx})}}return i})(),xx=class{constructor(n,e){this.document=n,this.window=e,this.offset=()=>[0,0]}setOffset(n){Array.isArray(n)?this.offset=()=>n:this.offset=n}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(n){this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){let e=KQ(this.document,n);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(n){this.window.history.scrollRestoration=n}scrollToElement(n){let e=n.getBoundingClientRect(),t=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(t-o[0],r-o[1])}};function KQ(i,n){let e=i.getElementById(n)||i.getElementsByName(n)[0];if(e)return e;if(typeof i.createTreeWalker=="function"&&i.body&&typeof i.body.attachShadow=="function"){let t=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT),r=t.currentNode;for(;r;){let o=r.shadowRoot;if(o){let s=o.getElementById(n)||o.querySelector(`[name="${n}"]`);if(s)return s}r=t.nextNode()}}return null}var Tx=class{setOffset(n){}getScrollPosition(){return[0,0]}scrollToPosition(n){}scrollToAnchor(n){}setHistoryScrollRestoration(n){}},tf=class{};var Mg=class{},MI=class{},wo=class i{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?typeof n=="string"?this.lazyInit=()=>{this.headers=new Map,n.split(`
`).forEach(e=>{let t=e.indexOf(":");if(t>0){let r=e.slice(0,t),o=r.toLowerCase(),s=e.slice(t+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((e,t)=>{this.setHeaderEntries(t,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([e,t])=>{this.setHeaderEntries(e,t)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();let e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,e){return this.clone({name:n,value:e,op:"a"})}set(n,e){return this.clone({name:n,value:e,op:"s"})}delete(n,e){return this.clone({name:n,value:e,op:"d"})}maybeSetNormalizedName(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)}init(){this.lazyInit&&(this.lazyInit instanceof i?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(e=>{this.headers.set(e,n.headers.get(e)),this.normalizedNames.set(e,n.normalizedNames.get(e))})}clone(n){let e=new i;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof i?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([n]),e}applyUpdate(n){let e=n.name.toLowerCase();switch(n.op){case"a":case"s":let t=n.value;if(typeof t=="string"&&(t=[t]),t.length===0)return;this.maybeSetNormalizedName(n.name,e);let r=(n.op==="a"?this.headers.get(e):void 0)||[];r.push(...t),this.headers.set(e,r);break;case"d":let o=n.value;if(!o)this.headers.delete(e),this.normalizedNames.delete(e);else{let s=this.headers.get(e);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}break}}setHeaderEntries(n,e){let t=(Array.isArray(e)?e:[e]).map(o=>o.toString()),r=n.toLowerCase();this.headers.set(r,t),this.maybeSetNormalizedName(n,r)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>n(this.normalizedNames.get(e),this.headers.get(e)))}};var Lx=class{encodeKey(n){return T3(n)}encodeValue(n){return T3(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}};function $Q(i,n){let e=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[n.decodeKey(r),""]:[n.decodeKey(r.slice(0,o)),n.decodeValue(r.slice(o+1))],l=e.get(s)||[];l.push(a),e.set(s,l)}),e}var qQ=/%(\d[a-f0-9])/gi,YQ={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function T3(i){return encodeURIComponent(i).replace(qQ,(n,e)=>YQ[e]??n)}function LI(i){return`${i}`}var $l=class i{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new Lx,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=$Q(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(e=>{let t=n.fromObject[e],r=Array.isArray(t)?t.map(LI):[LI(t)];this.map.set(e,r)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();let e=this.map.get(n);return e?e[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,e){return this.clone({param:n,value:e,op:"a"})}appendAll(n){let e=[];return Object.keys(n).forEach(t=>{let r=n[t];Array.isArray(r)?r.forEach(o=>{e.push({param:t,value:o,op:"a"})}):e.push({param:t,value:r,op:"a"})}),this.clone(e)}set(n,e){return this.clone({param:n,value:e,op:"s"})}delete(n,e){return this.clone({param:n,value:e,op:"d"})}toString(){return this.init(),this.keys().map(n=>{let e=this.encoder.encodeKey(n);return this.map.get(n).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(n=>n!=="").join("&")}clone(n){let e=new i({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(n),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":let e=(n.op==="a"?this.map.get(n.param):void 0)||[];e.push(LI(n.value)),this.map.set(n.param,e);break;case"d":if(n.value!==void 0){let t=this.map.get(n.param)||[],r=t.indexOf(LI(n.value));r!==-1&&t.splice(r,1),t.length>0?this.map.set(n.param,t):this.map.delete(n.param)}else{this.map.delete(n.param);break}}}),this.cloneFrom=this.updates=null)}};var Mx=class{constructor(){this.map=new Map}set(n,e){return this.map.set(n,e),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}};function JQ(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function O3(i){return typeof ArrayBuffer<"u"&&i instanceof ArrayBuffer}function D3(i){return typeof Blob<"u"&&i instanceof Blob}function R3(i){return typeof FormData<"u"&&i instanceof FormData}function XQ(i){return typeof URLSearchParams<"u"&&i instanceof URLSearchParams}var Lg=class i{constructor(n,e,t,r){this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase();let o;if(JQ(this.method)||r?(this.body=t!==void 0?t:null,o=r):o=t,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new wo,this.context??=new Mx,!this.params)this.params=new $l,this.urlWithParams=e;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=e;else{let a=e.indexOf("?"),l=a===-1?"?":a<e.length-1?"&":"";this.urlWithParams=e+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||O3(this.body)||D3(this.body)||R3(this.body)||XQ(this.body)?this.body:this.body instanceof $l?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||R3(this.body)?null:D3(this.body)?this.body.type||null:O3(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof $l?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(n={}){let e=n.method||this.method,t=n.url||this.url,r=n.responseType||this.responseType,o=n.transferCache??this.transferCache,s=n.body!==void 0?n.body:this.body,a=n.withCredentials??this.withCredentials,l=n.reportProgress??this.reportProgress,c=n.headers||this.headers,d=n.params||this.params,p=n.context??this.context;return n.setHeaders!==void 0&&(c=Object.keys(n.setHeaders).reduce((g,C)=>g.set(C,n.setHeaders[C]),c)),n.setParams&&(d=Object.keys(n.setParams).reduce((g,C)=>g.set(C,n.setParams[C]),d)),new i(e,t,s,{params:d,headers:c,context:p,reportProgress:l,responseType:r,withCredentials:a,transferCache:o})}},xa=function(i){return i[i.Sent=0]="Sent",i[i.UploadProgress=1]="UploadProgress",i[i.ResponseHeader=2]="ResponseHeader",i[i.DownloadProgress=3]="DownloadProgress",i[i.Response=4]="Response",i[i.User=5]="User",i}(xa||{}),Ng=class{constructor(n,e=200,t="OK"){this.headers=n.headers||new wo,this.status=n.status!==void 0?n.status:e,this.statusText=n.statusText||t,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}},NI=class i extends Ng{constructor(n={}){super(n),this.type=xa.ResponseHeader}clone(n={}){return new i({headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},Uc=class i extends Ng{constructor(n={}){super(n),this.type=xa.Response,this.body=n.body!==void 0?n.body:null}clone(n={}){return new i({body:n.body!==void 0?n.body:this.body,headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},qd=class extends Ng{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${n.url||"(unknown url)"}`:this.message=`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}},M3=200,QQ=204;function Fx(i,n){return{body:n,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials,transferCache:i.transferCache}}var Yt=(()=>{class i{constructor(e){this.handler=e}request(e,t,r={}){let o;if(e instanceof Lg)o=e;else{let l;r.headers instanceof wo?l=r.headers:l=new wo(r.headers);let c;r.params&&(r.params instanceof $l?c=r.params:c=new $l({fromObject:r.params})),o=new Lg(e,t,r.body!==void 0?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}let s=wt(o).pipe(rl(l=>this.handler.handle(l)));if(e instanceof Lg||r.observe==="events")return s;let a=s.pipe(co(l=>l instanceof Uc));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(W(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(W(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(W(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return a.pipe(W(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,t={}){return this.request("DELETE",e,t)}get(e,t={}){return this.request("GET",e,t)}head(e,t={}){return this.request("HEAD",e,t)}jsonp(e,t){return this.request("JSONP",e,{params:new $l().append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,t={}){return this.request("OPTIONS",e,t)}patch(e,t,r={}){return this.request("PATCH",e,Fx(r,t))}post(e,t,r={}){return this.request("POST",e,Fx(r,t))}put(e,t,r={}){return this.request("PUT",e,Fx(r,t))}static{this.\u0275fac=function(t){return new(t||i)(ce(Mg))}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac})}}return i})(),ZQ=/^\)\]\}',?\n/,eZ="X-Request-URL";function P3(i){if(i.url)return i.url;let n=eZ.toLocaleLowerCase();return i.headers.get(n)}var tZ=(()=>{class i{constructor(){this.fetchImpl=Me(Nx,{optional:!0})?.fetch??((...e)=>globalThis.fetch(...e)),this.ngZone=Me(xt)}handle(e){return new gi(t=>{let r=new AbortController;return this.doRequest(e,r.signal,t).then(Vx,o=>t.error(new qd({error:o}))),()=>r.abort()})}doRequest(e,t,r){return N(this,null,function*(){let o=this.createRequestInit(e),s;try{let C=this.ngZone.runOutsideAngular(()=>this.fetchImpl(e.urlWithParams,re({signal:t},o)));iZ(C),r.next({type:xa.Sent}),s=yield C}catch(C){r.error(new qd({error:C,status:C.status??0,statusText:C.statusText,url:e.urlWithParams,headers:C.headers}));return}let a=new wo(s.headers),l=s.statusText,c=P3(s)??e.urlWithParams,d=s.status,p=null;if(e.reportProgress&&r.next(new NI({headers:a,status:d,statusText:l,url:c})),s.body){let C=s.headers.get("content-length"),y=[],v=s.body.getReader(),w=0,E,T,F=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>N(this,null,function*(){for(;;){let{done:z,value:X}=yield v.read();if(z)break;if(y.push(X),w+=X.length,e.reportProgress){T=e.responseType==="text"?(T??"")+(E??=new TextDecoder).decode(X,{stream:!0}):void 0;let ne=()=>r.next({type:xa.DownloadProgress,total:C?+C:void 0,loaded:w,partialText:T});F?F.run(ne):ne()}}}));let G=this.concatChunks(y,w);try{let z=s.headers.get("Content-Type")??"";p=this.parseBody(e,G,z)}catch(z){r.error(new qd({error:z,headers:new wo(s.headers),status:s.status,statusText:s.statusText,url:P3(s)??e.urlWithParams}));return}}d===0&&(d=p?M3:0),d>=200&&d<300?(r.next(new Uc({body:p,headers:a,status:d,statusText:l,url:c})),r.complete()):r.error(new qd({error:p,headers:a,status:d,statusText:l,url:c}))})}parseBody(e,t,r){switch(e.responseType){case"json":let o=new TextDecoder().decode(t).replace(ZQ,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(t);case"blob":return new Blob([t],{type:r});case"arraybuffer":return t.buffer}}createRequestInit(e){let t={},r=e.withCredentials?"include":void 0;if(e.headers.forEach((o,s)=>t[o]=s.join(",")),e.headers.has("Accept")||(t.Accept="application/json, text/plain, */*"),!e.headers.has("Content-Type")){let o=e.detectContentTypeHeader();o!==null&&(t["Content-Type"]=o)}return{body:e.serializeBody(),method:e.method,headers:t,credentials:r}}concatChunks(e,t){let r=new Uint8Array(t),o=0;for(let s of e)r.set(s,o),o+=s.length;return r}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac})}}return i})(),Nx=class{};function Vx(){}function iZ(i){i.then(Vx,Vx)}function N3(i,n){return n(i)}function nZ(i,n){return(e,t)=>n.intercept(e,{handle:r=>i(r,t)})}function rZ(i,n,e){return(t,r)=>Sa(e,()=>n(t,o=>i(o,r)))}var oZ=new He(""),Bx=new He(""),sZ=new He(""),V3=new He("",{providedIn:"root",factory:()=>!0});function aZ(){let i=null;return(n,e)=>{i===null&&(i=(Me(oZ,{optional:!0})??[]).reduceRight(nZ,N3));let t=Me(Hl);if(Me(V3)){let o=t.add();return i(n,e).pipe(Md(()=>t.remove(o)))}else return i(n,e)}}var k3=(()=>{class i extends Mg{constructor(e,t){super(),this.backend=e,this.injector=t,this.chain=null,this.pendingTasks=Me(Hl),this.contributeToStability=Me(V3)}handle(e){if(this.chain===null){let t=Array.from(new Set([...this.injector.get(Bx),...this.injector.get(sZ,[])]));this.chain=t.reduceRight((r,o)=>rZ(r,o,this.injector),N3)}if(this.contributeToStability){let t=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(Md(()=>this.pendingTasks.remove(t)))}else return this.chain(e,t=>this.backend.handle(t))}static{this.\u0275fac=function(t){return new(t||i)(ce(MI),ce(hs))}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac})}}return i})();var lZ=/^\)\]\}',?\n/;function cZ(i){return"responseURL"in i&&i.responseURL?i.responseURL:/^X-Request-URL:/m.test(i.getAllResponseHeaders())?i.getResponseHeader("X-Request-URL"):null}var F3=(()=>{class i{constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new Ct(-2800,!1);let t=this.xhrFactory;return(t.\u0275loadImpl?Tn(t.\u0275loadImpl()):wt(null)).pipe(uo(()=>new gi(o=>{let s=t.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((v,w)=>s.setRequestHeader(v,w.join(","))),e.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){let v=e.detectContentTypeHeader();v!==null&&s.setRequestHeader("Content-Type",v)}if(e.responseType){let v=e.responseType.toLowerCase();s.responseType=v!=="json"?v:"text"}let a=e.serializeBody(),l=null,c=()=>{if(l!==null)return l;let v=s.statusText||"OK",w=new wo(s.getAllResponseHeaders()),E=cZ(s)||e.url;return l=new NI({headers:w,status:s.status,statusText:v,url:E}),l},d=()=>{let{headers:v,status:w,statusText:E,url:T}=c(),F=null;w!==QQ&&(F=typeof s.response>"u"?s.responseText:s.response),w===0&&(w=F?M3:0);let G=w>=200&&w<300;if(e.responseType==="json"&&typeof F=="string"){let z=F;F=F.replace(lZ,"");try{F=F!==""?JSON.parse(F):null}catch(X){F=z,G&&(G=!1,F={error:X,text:F})}}G?(o.next(new Uc({body:F,headers:v,status:w,statusText:E,url:T||void 0})),o.complete()):o.error(new qd({error:F,headers:v,status:w,statusText:E,url:T||void 0}))},p=v=>{let{url:w}=c(),E=new qd({error:v,status:s.status||0,statusText:s.statusText||"Unknown Error",url:w||void 0});o.error(E)},g=!1,C=v=>{g||(o.next(c()),g=!0);let w={type:xa.DownloadProgress,loaded:v.loaded};v.lengthComputable&&(w.total=v.total),e.responseType==="text"&&s.responseText&&(w.partialText=s.responseText),o.next(w)},y=v=>{let w={type:xa.UploadProgress,loaded:v.loaded};v.lengthComputable&&(w.total=v.total),o.next(w)};return s.addEventListener("load",d),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),e.reportProgress&&(s.addEventListener("progress",C),a!==null&&s.upload&&s.upload.addEventListener("progress",y)),s.send(a),o.next({type:xa.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",d),s.removeEventListener("timeout",p),e.reportProgress&&(s.removeEventListener("progress",C),a!==null&&s.upload&&s.upload.removeEventListener("progress",y)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(t){return new(t||i)(ce(tf))}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac})}}return i})(),B3=new He(""),dZ="XSRF-TOKEN",uZ=new He("",{providedIn:"root",factory:()=>dZ}),pZ="X-XSRF-TOKEN",hZ=new He("",{providedIn:"root",factory:()=>pZ}),VI=class{},fZ=(()=>{class i{constructor(e,t,r){this.doc=e,this.platform=t,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=RI(e,this.cookieName),this.lastCookieString=e),this.lastToken}static{this.\u0275fac=function(t){return new(t||i)(ce(_t),ce(qt),ce(uZ))}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac})}}return i})();function mZ(i,n){let e=i.url.toLowerCase();if(!Me(B3)||i.method==="GET"||i.method==="HEAD"||e.startsWith("http://")||e.startsWith("https://"))return n(i);let t=Me(VI).getToken(),r=Me(hZ);return t!=null&&!i.headers.has(r)&&(i=i.clone({headers:i.headers.set(r,t)})),n(i)}var U3=function(i){return i[i.Interceptors=0]="Interceptors",i[i.LegacyInterceptors=1]="LegacyInterceptors",i[i.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",i[i.NoXsrfProtection=3]="NoXsrfProtection",i[i.JsonpSupport=4]="JsonpSupport",i[i.RequestsMadeViaParent=5]="RequestsMadeViaParent",i[i.Fetch=6]="Fetch",i}(U3||{});function gZ(i,n){return{\u0275kind:i,\u0275providers:n}}function Zet(...i){let n=[Yt,F3,k3,{provide:Mg,useExisting:k3},{provide:MI,useFactory:()=>Me(tZ,{optional:!0})??Me(F3)},{provide:Bx,useValue:mZ,multi:!0},{provide:B3,useValue:!0},{provide:VI,useClass:fZ}];for(let e of i)n.push(...e.\u0275providers);return Yh(n)}var L3=new He("");function ett(){return gZ(U3.LegacyInterceptors,[{provide:L3,useFactory:aZ},{provide:Bx,useExisting:L3,multi:!0}])}var Hx=class extends TI{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Gx=class i extends Hx{static makeCurrent(){_3(new i)}onAndCancel(n,e,t){return n.addEventListener(e,t),()=>{n.removeEventListener(e,t)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.remove()}createElement(n,e){return e=e||this.getDefaultDocument(),e.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return e==="window"?window:e==="document"?n:e==="body"?n.body:null}getBaseHref(n){let e=_Z();return e==null?null:CZ(e)}resetBaseElement(){Vg=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return RI(document.cookie,n)}},Vg=null;function _Z(){return Vg=Vg||document.querySelector("base"),Vg?Vg.getAttribute("href"):null}function CZ(i){return new URL(i,document.baseURI).pathname}var zx=class{addToWindow(n){Vo.getAngularTestability=(t,r=!0)=>{let o=n.findTestabilityInTree(t,r);if(o==null)throw new Ct(5103,!1);return o},Vo.getAllAngularTestabilities=()=>n.getAllTestabilities(),Vo.getAllAngularRootElements=()=>n.getAllRootElements();let e=t=>{let r=Vo.getAllAngularTestabilities(),o=r.length,s=function(){o--,o==0&&t()};r.forEach(a=>{a.whenStable(s)})};Vo.frameworkStabilizers||(Vo.frameworkStabilizers=[]),Vo.frameworkStabilizers.push(e)}findTestabilityInTree(n,e,t){if(e==null)return null;let r=n.getTestability(e);return r??(t?Wl().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null)}},yZ=(()=>{class i{build(){return new XMLHttpRequest}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac})}}return i})(),Wx=new He(""),z3=(()=>{class i{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,t,r){return this._findPluginFor(t).addEventListener(e,t,r)}getZone(){return this._zone}_findPluginFor(e){let t=this._eventNameToPlugin.get(e);if(t)return t;if(t=this._plugins.find(o=>o.supports(e)),!t)throw new Ct(5101,!1);return this._eventNameToPlugin.set(e,t),t}static{this.\u0275fac=function(t){return new(t||i)(ce(Wx),ce(xt))}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac})}}return i})(),BI=class{constructor(n){this._doc=n}},Ux="ng-app-id",W3=(()=>{class i{constructor(e,t,r,o={}){this.doc=e,this.appId=t,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=FI(o),this.resetHostNodes()}addStyles(e){for(let t of e)this.changeUsageCount(t,1)===1&&this.onStyleAdded(t)}removeStyles(e){for(let t of e)this.changeUsageCount(t,-1)<=0&&this.onStyleRemoved(t)}ngOnDestroy(){let e=this.styleNodesInDOM;e&&(e.forEach(t=>t.remove()),e.clear());for(let t of this.getAllStyles())this.onStyleRemoved(t);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(let t of this.getAllStyles())this.addStyleToHost(e,t)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(let t of this.hostNodes)this.addStyleToHost(t,e)}onStyleRemoved(e){let t=this.styleRef;t.get(e)?.elements?.forEach(r=>r.remove()),t.delete(e)}collectServerRenderedStyles(){let e=this.doc.head?.querySelectorAll(`style[${Ux}="${this.appId}"]`);if(e?.length){let t=new Map;return e.forEach(r=>{r.textContent!=null&&t.set(r.textContent,r)}),t}return null}changeUsageCount(e,t){let r=this.styleRef;if(r.has(e)){let o=r.get(e);return o.usage+=t,o.usage}return r.set(e,{usage:t,elements:[]}),t}getStyleElement(e,t){let r=this.styleNodesInDOM,o=r?.get(t);if(o?.parentNode===e)return r.delete(t),o.removeAttribute(Ux),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=t,this.platformIsServer&&s.setAttribute(Ux,this.appId),e.appendChild(s),s}}addStyleToHost(e,t){let r=this.getStyleElement(e,t),o=this.styleRef,s=o.get(t)?.elements;s?s.push(r):o.set(t,{elements:[r],usage:1})}resetHostNodes(){let e=this.hostNodes;e.clear(),e.add(this.doc.head)}static{this.\u0275fac=function(t){return new(t||i)(ce(_t),ce(nI),ce(BE,8),ce(qt))}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac})}}return i})(),jx={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},$x=/%COMP%/g,K3="%COMP%",IZ=`_nghost-${K3}`,vZ=`_ngcontent-${K3}`,bZ=!0,wZ=new He("",{providedIn:"root",factory:()=>bZ});function SZ(i){return vZ.replace($x,i)}function AZ(i){return IZ.replace($x,i)}function $3(i,n){return n.map(e=>e.replace($x,i))}var j3=(()=>{class i{constructor(e,t,r,o,s,a,l,c=null){this.eventManager=e,this.sharedStylesHost=t,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=FI(a),this.defaultRenderer=new Bg(e,s,l,this.platformIsServer)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;this.platformIsServer&&t.encapsulation===Ml.ShadowDom&&(t=Pe(re({},t),{encapsulation:Ml.Emulated}));let r=this.getOrCreateRenderer(e,t);return r instanceof UI?r.applyToHost(e):r instanceof Ug&&r.applyStyles(),r}getOrCreateRenderer(e,t){let r=this.rendererByCompId,o=r.get(t.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(t.encapsulation){case Ml.Emulated:o=new UI(l,c,t,this.appId,d,s,a,p);break;case Ml.ShadowDom:return new Kx(l,c,e,t,s,a,this.nonce,p);default:o=new Ug(l,c,t,d,s,a,p);break}r.set(t.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(t){return new(t||i)(ce(z3),ce(W3),ce(nI),ce(wZ),ce(_t),ce(qt),ce(xt),ce(BE))}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac})}}return i})(),Bg=class{constructor(n,e,t,r){this.eventManager=n,this.doc=e,this.ngZone=t,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(n,e){return e?this.doc.createElementNS(jx[e]||e,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,e){(H3(n)?n.content:n).appendChild(e)}insertBefore(n,e,t){n&&(H3(n)?n.content:n).insertBefore(e,t)}removeChild(n,e){e.remove()}selectRootElement(n,e){let t=typeof n=="string"?this.doc.querySelector(n):n;if(!t)throw new Ct(-5104,!1);return e||(t.textContent=""),t}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,t,r){if(r){e=r+":"+e;let o=jx[r];o?n.setAttributeNS(o,e,t):n.setAttribute(e,t)}else n.setAttribute(e,t)}removeAttribute(n,e,t){if(t){let r=jx[t];r?n.removeAttributeNS(r,e):n.removeAttribute(`${t}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,t,r){r&(Ul.DashCase|Ul.Important)?n.style.setProperty(e,t,r&Ul.Important?"important":""):n.style[e]=t}removeStyle(n,e,t){t&Ul.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,t){n!=null&&(n[e]=t)}setValue(n,e){n.nodeValue=e}listen(n,e,t){if(typeof n=="string"&&(n=Wl().getGlobalEventTarget(this.doc,n),!n))throw new Error(`Unsupported event target ${n} for event ${e}`);return this.eventManager.addEventListener(n,e,this.decoratePreventDefault(t))}decoratePreventDefault(n){return e=>{if(e==="__ngUnwrap__")return n;(this.platformIsServer?this.ngZone.runGuarded(()=>n(e)):n(e))===!1&&e.preventDefault()}}};function H3(i){return i.tagName==="TEMPLATE"&&i.content!==void 0}var Kx=class extends Bg{constructor(n,e,t,r,o,s,a,l){super(n,o,s,l),this.sharedStylesHost=e,this.hostEl=t,this.shadowRoot=t.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=$3(r.id,r.styles);for(let d of c){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=d,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,t){return super.insertBefore(this.nodeOrShadowRoot(n),e,t)}removeChild(n,e){return super.removeChild(null,e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ug=class extends Bg{constructor(n,e,t,r,o,s,a,l){super(n,o,s,a),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=l?$3(l,t.styles):t.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},UI=class extends Ug{constructor(n,e,t,r,o,s,a,l){let c=r+"-"+t.id;super(n,e,t,o,s,a,l,c),this.contentAttr=SZ(c),this.hostAttr=AZ(c)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,e){let t=super.createElement(n,e);return super.setAttribute(t,this.contentAttr,""),t}},EZ=(()=>{class i extends BI{constructor(e){super(e)}supports(e){return!0}addEventListener(e,t,r){return e.addEventListener(t,r,!1),()=>this.removeEventListener(e,t,r)}removeEventListener(e,t,r){return e.removeEventListener(t,r)}static{this.\u0275fac=function(t){return new(t||i)(ce(_t))}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac})}}return i})(),G3=["alt","control","meta","shift"],xZ={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},TZ={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey},OZ=(()=>{class i extends BI{constructor(e){super(e)}supports(e){return i.parseEventName(e)!=null}addEventListener(e,t,r){let o=i.parseEventName(t),s=i.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Wl().onAndCancel(e,o.domEventName,s))}static parseEventName(e){let t=e.toLowerCase().split("."),r=t.shift();if(t.length===0||!(r==="keydown"||r==="keyup"))return null;let o=i._normalizeKey(t.pop()),s="",a=t.indexOf("code");if(a>-1&&(t.splice(a,1),s="code."),G3.forEach(c=>{let d=t.indexOf(c);d>-1&&(t.splice(d,1),s+=c+".")}),s+=o,t.length!=0||o.length===0)return null;let l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(e,t){let r=xZ[e.key]||e.key,o="";return t.indexOf("code.")>-1&&(r=e.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),G3.forEach(s=>{if(s!==r){let a=TZ[s];a(e)&&(o+=s+".")}}),o+=r,o===t)}static eventCallback(e,t,r){return o=>{i.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>t(o))}}static _normalizeKey(e){return e==="esc"?"escape":e}static{this.\u0275fac=function(t){return new(t||i)(ce(_t))}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac})}}return i})();function DZ(){Gx.makeCurrent()}function RZ(){return new Bl}function PZ(){return TM(document),document}var kZ=[{provide:qt,useValue:kx},{provide:VE,useValue:DZ,multi:!0},{provide:_t,useFactory:PZ,deps:[]}],ftt=fx(r3,"browser",kZ),FZ=new He(""),LZ=[{provide:Rg,useClass:zx,deps:[]},{provide:ux,useClass:mI,deps:[xt,gI,Rg]},{provide:mI,useClass:mI,deps:[xt,gI,Rg]}],MZ=[{provide:Gy,useValue:"root"},{provide:Bl,useFactory:RZ,deps:[]},{provide:Wx,useClass:EZ,multi:!0,deps:[_t,xt,qt]},{provide:Wx,useClass:OZ,multi:!0,deps:[_t]},j3,W3,z3,{provide:zh,useExisting:j3},{provide:tf,useClass:yZ,deps:[]},[]],mtt=(()=>{class i{constructor(e){}static withServerTransition(e){return{ngModule:i,providers:[{provide:nI,useValue:e.appId}]}}static{this.\u0275fac=function(t){return new(t||i)(ce(FZ,12))}}static{this.\u0275mod=Oe({type:i})}static{this.\u0275inj=Te({providers:[...MZ,...LZ],imports:[Ye,o3]})}}return i})();var q3=(()=>{class i{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static{this.\u0275fac=function(t){return new(t||i)(ce(_t))}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var pl=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=_e({token:i,factory:function(t){let r=null;return t?r=new(t||i):r=ce(NZ),r},providedIn:"root"})}}return i})(),NZ=(()=>{class i extends pl{constructor(e){super(),this._doc=e}sanitize(e,t){if(t==null)return null;switch(e){case na.NONE:return t;case na.HTML:return Rc(t,"HTML")?ia(t):jE(this._doc,String(t)).toString();case na.STYLE:return Rc(t,"Style")?ia(t):t;case na.SCRIPT:if(Rc(t,"Script"))return ia(t);throw new Ct(5200,!1);case na.URL:return Rc(t,"URL")?ia(t):oI(String(t));case na.RESOURCE_URL:if(Rc(t,"ResourceURL"))return ia(t);throw new Ct(5201,!1);default:throw new Ct(5202,!1)}}bypassSecurityTrustHtml(e){return PM(e)}bypassSecurityTrustStyle(e){return kM(e)}bypassSecurityTrustScript(e){return FM(e)}bypassSecurityTrustUrl(e){return LM(e)}bypassSecurityTrustResourceUrl(e){return MM(e)}static{this.\u0275fac=function(t){return new(t||i)(ce(_t))}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var ql=function(i){return i.script="script",i.docker="docker",i.pkg="pkg",i}(ql||{});var of={fwcAppURL:new URL(window.location.href).origin+"/api",fwcAppDocsURL:new URL(window.location.href).origin+"/manual",fwcConsoleLogs:!1,checkUpdates:!0,installMethod:void 0},ge=(()=>{class i{constructor(e){this.httpClient=e}static loadConfig(){let e="assets/config/config.json";return new Promise((t,r)=>{let o=new XMLHttpRequest;o.overrideMimeType("application/json"),o.open("GET",e,!0),o.onreadystatechange=()=>{if(o.readyState===4){if(i.settings=Object.assign({},of),o.status===200){try{i.settings=JSON.parse(o.responseText)}catch{}i.settings.fwcAppURL||(i.settings.fwcAppURL=of.fwcAppURL),i.settings.fwcConsoleLogs||(i.settings.fwcConsoleLogs=of.fwcConsoleLogs),i.settings.checkUpdates===void 0&&(i.settings.checkUpdates=of.checkUpdates),i.settings.fwcAppDocsURL===void 0&&(i.settings.fwcAppDocsURL=of.fwcAppDocsURL),i.settings.installMethod!=null&&!(i.settings.installMethod in ql)&&(i.settings.installMethod=of.installMethod),t()}if(i.settings.fwcAppURL=i.settings.fwcAppURL.trim(),/^\/\w+$/.exec(i.settings.fwcAppURL)){let s=new URL(window.location.href);i.settings.fwcAppURL=s.origin+i.settings.fwcAppURL}try{new URL(i.settings.fwcAppURL)}catch{return r("Invalid backend URL in configuration file "+e)}i.log("API URL: ",i.settings.fwcAppURL),t()}},o.send(null)})}static log(...e){e.unshift("[ FWCLOUD LOG "+new Date().toLocaleString()+"]"),this.settings&&this.settings.fwcConsoleLogs&&console.log.apply(this,e)}static error(...e){e.unshift("[ FWCLOUD ERROR "+new Date().toLocaleString()+"]"),this.settings&&this.settings.fwcConsoleLogs&&console.error.apply(this,e)}static{this.\u0275fac=function(t){return new(t||i)(ce(Yt))}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac})}}return i})();var n4=(()=>{class i{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,t){this._renderer.setProperty(this._elementRef.nativeElement,e,t)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static{this.\u0275fac=function(t){return new(t||i)(b(Ft),b(ze))}}static{this.\u0275dir=gt({type:i})}}return i})(),XI=(()=>{class i extends n4{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=tt(i)))(r||i)}})()}static{this.\u0275dir=gt({type:i,features:[ve]})}}return i})(),nn=new He("");var VZ={provide:nn,useExisting:zt(()=>pn),multi:!0};function BZ(){let i=Wl()?Wl().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}var UZ=new He(""),pn=(()=>{class i extends n4{constructor(e,t,r){super(e,t),this._compositionMode=r,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!BZ())}writeValue(e){let t=e??"";this.setProperty("value",t)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static{this.\u0275fac=function(t){return new(t||i)(b(Ft),b(ze),b(UZ,8))}}static{this.\u0275dir=gt({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){t&1&&P("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Ze([VZ]),ve]})}}return i})();function Yd(i){return i==null||(typeof i=="string"||Array.isArray(i))&&i.length===0}function r4(i){return i!=null&&typeof i.length=="number"}var Ta=new He(""),Rp=new He(""),jZ=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,$e=class{static min(n){return o4(n)}static max(n){return s4(n)}static required(n){return a4(n)}static requiredTrue(n){return HZ(n)}static email(n){return GZ(n)}static minLength(n){return zZ(n)}static maxLength(n){return l4(n)}static pattern(n){return c4(n)}static nullValidator(n){return HI(n)}static compose(n){return m4(n)}static composeAsync(n){return g4(n)}};function o4(i){return n=>{if(Yd(n.value)||Yd(i))return null;let e=parseFloat(n.value);return!isNaN(e)&&e<i?{min:{min:i,actual:n.value}}:null}}function s4(i){return n=>{if(Yd(n.value)||Yd(i))return null;let e=parseFloat(n.value);return!isNaN(e)&&e>i?{max:{max:i,actual:n.value}}:null}}function a4(i){return Yd(i.value)?{required:!0}:null}function HZ(i){return i.value===!0?null:{required:!0}}function GZ(i){return Yd(i.value)||jZ.test(i.value)?null:{email:!0}}function zZ(i){return n=>Yd(n.value)||!r4(n.value)?null:n.value.length<i?{minlength:{requiredLength:i,actualLength:n.value.length}}:null}function l4(i){return n=>r4(n.value)&&n.value.length>i?{maxlength:{requiredLength:i,actualLength:n.value.length}}:null}function c4(i){if(!i)return HI;let n,e;return typeof i=="string"?(e="",i.charAt(0)!=="^"&&(e+="^"),e+=i,i.charAt(i.length-1)!=="$"&&(e+="$"),n=new RegExp(e)):(e=i.toString(),n=i),t=>{if(Yd(t.value))return null;let r=t.value;return n.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}function HI(i){return null}function d4(i){return i!=null}function u4(i){return Kd(i)?Tn(i):i}function p4(i){let n={};return i.forEach(e=>{n=e!=null?re(re({},n),e):n}),Object.keys(n).length===0?null:n}function h4(i,n){return n.map(e=>e(i))}function WZ(i){return!i.validate}function f4(i){return i.map(n=>WZ(n)?n:e=>n.validate(e))}function m4(i){if(!i)return null;let n=i.filter(d4);return n.length==0?null:function(e){return p4(h4(e,n))}}function Qx(i){return i!=null?m4(f4(i)):null}function g4(i){if(!i)return null;let n=i.filter(d4);return n.length==0?null:function(e){let t=h4(e,n).map(u4);return lg(t).pipe(W(p4))}}function Zx(i){return i!=null?g4(f4(i)):null}function Y3(i,n){return i===null?[n]:Array.isArray(i)?[...i,n]:[i,n]}function _4(i){return i._rawValidators}function C4(i){return i._rawAsyncValidators}function qx(i){return i?Array.isArray(i)?i:[i]:[]}function GI(i,n){return Array.isArray(i)?i.includes(n):i===n}function J3(i,n){let e=qx(n);return qx(i).forEach(r=>{GI(e,r)||e.push(r)}),e}function X3(i,n){return qx(n).filter(e=>!GI(i,e))}var zI=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=Qx(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=Zx(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,e){return this.control?this.control.hasError(n,e):!1}getError(n,e){return this.control?this.control.getError(n,e):null}},ms=class extends zI{get formDirective(){return null}get path(){return null}},jo=class extends zI{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},WI=class{constructor(n){this._cd=n}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},KZ={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Ltt=Pe(re({},KZ),{"[class.ng-submitted]":"isSubmitted"}),cn=(()=>{class i extends WI{constructor(e){super(e)}static{this.\u0275fac=function(t){return new(t||i)(b(jo,2))}}static{this.\u0275dir=gt({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){t&2&&yn("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[ve]})}}return i})(),mr=(()=>{class i extends WI{constructor(e){super(e)}static{this.\u0275fac=function(t){return new(t||i)(b(ms,10))}}static{this.\u0275dir=gt({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){t&2&&yn("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[ve]})}}return i})();var jg="VALID",jI="INVALID",sf="PENDING",Hg="DISABLED",Jd=class{},KI=class extends Jd{constructor(n,e){super(),this.value=n,this.source=e}},zg=class extends Jd{constructor(n,e){super(),this.pristine=n,this.source=e}},Wg=class extends Jd{constructor(n,e){super(),this.touched=n,this.source=e}},af=class extends Jd{constructor(n,e){super(),this.status=n,this.source=e}},Yx=class extends Jd{constructor(n){super(),this.source=n}},Jx=class extends Jd{constructor(n){super(),this.source=n}};function eT(i){return(QI(i)?i.validators:i)||null}function $Z(i){return Array.isArray(i)?Qx(i):i||null}function tT(i,n){return(QI(n)?n.asyncValidators:i)||null}function qZ(i){return Array.isArray(i)?Zx(i):i||null}function QI(i){return i!=null&&!Array.isArray(i)&&typeof i=="object"}function y4(i,n,e){let t=i.controls;if(!(n?Object.keys(t):t).length)throw new Ct(1e3,"");if(!t[e])throw new Ct(1001,"")}function I4(i,n,e){i._forEachChild((t,r)=>{if(e[r]===void 0)throw new Ct(1002,"")})}var cf=class{constructor(n,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Tr(()=>this.statusReactive()),this.statusReactive=Oi(void 0),this._pristine=Tr(()=>this.pristineReactive()),this.pristineReactive=Oi(!0),this._touched=Tr(()=>this.touchedReactive()),this.touchedReactive=Oi(!1),this._events=new Re,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get status(){return sa(this.statusReactive)}set status(n){sa(()=>this.statusReactive.set(n))}get valid(){return this.status===jg}get invalid(){return this.status===jI}get pending(){return this.status==sf}get disabled(){return this.status===Hg}get enabled(){return this.status!==Hg}get pristine(){return sa(this.pristineReactive)}set pristine(n){sa(()=>this.pristineReactive.set(n))}get dirty(){return!this.pristine}get touched(){return sa(this.touchedReactive)}set touched(n){sa(()=>this.touchedReactive.set(n))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(J3(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(J3(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(X3(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(X3(n,this._rawAsyncValidators))}hasValidator(n){return GI(this._rawValidators,n)}hasAsyncValidator(n){return GI(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){let e=this.touched===!1;this.touched=!0;let t=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsTouched(Pe(re({},n),{sourceControl:t})),e&&n.emitEvent!==!1&&this._events.next(new Wg(!0,t))}markAllAsTouched(n={}){this.markAsTouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(n))}markAsUntouched(n={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let t=n.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:t})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,t),e&&n.emitEvent!==!1&&this._events.next(new Wg(!1,t))}markAsDirty(n={}){let e=this.pristine===!0;this.pristine=!1;let t=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsDirty(Pe(re({},n),{sourceControl:t})),e&&n.emitEvent!==!1&&this._events.next(new zg(!1,t))}markAsPristine(n={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let t=n.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:n.emitEvent})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n,t),e&&n.emitEvent!==!1&&this._events.next(new zg(!0,t))}markAsPending(n={}){this.status=sf;let e=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new af(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.markAsPending(Pe(re({},n),{sourceControl:e}))}disable(n={}){let e=this._parentMarkedDirty(n.onlySelf);this.status=Hg,this.errors=null,this._forEachChild(r=>{r.disable(Pe(re({},n),{onlySelf:!0}))}),this._updateValue();let t=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new KI(this.value,t)),this._events.next(new af(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Pe(re({},n),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(n={}){let e=this._parentMarkedDirty(n.onlySelf);this.status=jg,this._forEachChild(t=>{t.enable(Pe(re({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(Pe(re({},n),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(n,e){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let t=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===jg||this.status===sf)&&this._runAsyncValidator(t,n.emitEvent)}let e=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new KI(this.value,e)),this._events.next(new af(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(Pe(re({},n),{sourceControl:e}))}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Hg:jg}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n,e){if(this.asyncValidator){this.status=sf,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let t=u4(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:e,shouldHaveEmitted:n})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let n=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(n){let e=n;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((t,r)=>t&&t._find(r),this)}getError(n,e){let t=e?this.get(e):this;return t&&t.errors?t.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n,e,t){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),(n||t)&&this._events.next(new af(this.status,e)),this._parent&&this._parent._updateControlsErrors(n,e,t)}_initObservables(){this.valueChanges=new Q,this.statusChanges=new Q}_calculateStatus(){return this._allControlsDisabled()?Hg:this.errors?jI:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(sf)?sf:this._anyControlsHaveStatus(jI)?jI:jg}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n,e){let t=!this._anyControlsDirty(),r=this.pristine!==t;this.pristine=t,this._parent&&!n.onlySelf&&this._parent._updatePristine(n,e),r&&this._events.next(new zg(this.pristine,e))}_updateTouched(n={},e){this.touched=this._anyControlsTouched(),this._events.next(new Wg(this.touched,e)),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,e)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){QI(n)&&n.updateOn!=null&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){let e=this._parent&&this._parent.dirty;return!n&&!!e&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=$Z(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=qZ(this._rawAsyncValidators)}},Dp=class extends cf{constructor(n,e,t){super(eT(e),tT(t,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,t={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,t={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){I4(this,!0,n),Object.keys(n).forEach(t=>{y4(this,!0,t),this.controls[t].setValue(n[t],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){n!=null&&(Object.keys(n).forEach(t=>{let r=this.controls[t];r&&r.patchValue(n[t],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((t,r)=>{t.reset(n?n[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,t)=>(n[t]=e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,t)=>t._syncPendingControls()?!0:e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{let t=this.controls[e];t&&n(t,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(let[e,t]of Object.entries(this.controls))if(this.contains(e)&&n(t))return!0;return!1}_reduceValue(){let n={};return this._reduceChildren(n,(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(n,e){let t=n;return this._forEachChild((r,o)=>{t=e(t,r,o)}),t}_allControlsDisabled(){for(let n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}};var mo=Dp;var Xx=class extends Dp{};var df=new He("CallSetDisabledState",{providedIn:"root",factory:()=>ZI}),ZI="always";function ev(i,n){return[...n.path,i]}function Kg(i,n,e=ZI){iT(i,n),n.valueAccessor.writeValue(i.value),(i.disabled||e==="always")&&n.valueAccessor.setDisabledState?.(i.disabled),JZ(i,n),QZ(i,n),XZ(i,n),YZ(i,n)}function $I(i,n,e=!0){let t=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(t),n.valueAccessor.registerOnTouched(t)),YI(i,n),i&&(n._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function qI(i,n){i.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function YZ(i,n){if(n.valueAccessor.setDisabledState){let e=t=>{n.valueAccessor.setDisabledState(t)};i.registerOnDisabledChange(e),n._registerOnDestroy(()=>{i._unregisterOnDisabledChange(e)})}}function iT(i,n){let e=_4(i);n.validator!==null?i.setValidators(Y3(e,n.validator)):typeof e=="function"&&i.setValidators([e]);let t=C4(i);n.asyncValidator!==null?i.setAsyncValidators(Y3(t,n.asyncValidator)):typeof t=="function"&&i.setAsyncValidators([t]);let r=()=>i.updateValueAndValidity();qI(n._rawValidators,r),qI(n._rawAsyncValidators,r)}function YI(i,n){let e=!1;if(i!==null){if(n.validator!==null){let r=_4(i);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==n.validator);o.length!==r.length&&(e=!0,i.setValidators(o))}}if(n.asyncValidator!==null){let r=C4(i);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==n.asyncValidator);o.length!==r.length&&(e=!0,i.setAsyncValidators(o))}}}let t=()=>{};return qI(n._rawValidators,t),qI(n._rawAsyncValidators,t),e}function JZ(i,n){n.valueAccessor.registerOnChange(e=>{i._pendingValue=e,i._pendingChange=!0,i._pendingDirty=!0,i.updateOn==="change"&&v4(i,n)})}function XZ(i,n){n.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,i.updateOn==="blur"&&i._pendingChange&&v4(i,n),i.updateOn!=="submit"&&i.markAsTouched()})}function v4(i,n){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function QZ(i,n){let e=(t,r)=>{n.valueAccessor.writeValue(t),r&&n.viewToModelUpdate(t)};i.registerOnChange(e),n._registerOnDestroy(()=>{i._unregisterOnChange(e)})}function b4(i,n){i==null,iT(i,n)}function ZZ(i,n){return YI(i,n)}function nT(i,n){if(!i.hasOwnProperty("model"))return!1;let e=i.model;return e.isFirstChange()?!0:!Object.is(n,e.currentValue)}function eee(i){return Object.getPrototypeOf(i.constructor)===XI}function w4(i,n){i._syncPendingControls(),n.forEach(e=>{let t=e.control;t.updateOn==="submit"&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})}function rT(i,n){if(!n)return null;Array.isArray(n);let e,t,r;return n.forEach(o=>{o.constructor===pn?e=o:eee(o)?t=o:r=o}),r||t||e||null}function tee(i,n){let e=i.indexOf(n);e>-1&&i.splice(e,1)}var iee={provide:ms,useExisting:zt(()=>oT)},Gg=Promise.resolve(),oT=(()=>{class i extends ms{get submitted(){return sa(this.submittedReactive)}constructor(e,t,r){super(),this.callSetDisabledState=r,this._submitted=Tr(()=>this.submittedReactive()),this.submittedReactive=Oi(!1),this._directives=new Set,this.ngSubmit=new Q,this.form=new Dp({},Qx(e),Zx(t))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Gg.then(()=>{let t=this._findContainer(e.path);e.control=t.registerControl(e.name,e.control),Kg(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Gg.then(()=>{let t=this._findContainer(e.path);t&&t.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Gg.then(()=>{let t=this._findContainer(e.path),r=new Dp({});b4(r,e),t.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Gg.then(()=>{let t=this._findContainer(e.path);t&&t.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,t){Gg.then(()=>{this.form.get(e.path).setValue(t)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),w4(this.form,this._directives),this.ngSubmit.emit(e),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static{this.\u0275fac=function(t){return new(t||i)(b(Ta,10),b(Rp,10),b(df,8))}}static{this.\u0275dir=gt({type:i,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){t&1&&P("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ze([iee]),ve]})}}return i})();function Q3(i,n){let e=i.indexOf(n);e>-1&&i.splice(e,1)}function Z3(i){return typeof i=="object"&&i!==null&&Object.keys(i).length===2&&"value"in i&&"disabled"in i}var lf=class extends cf{constructor(n=null,e,t){super(eT(e),tT(t,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),QI(e)&&(e.nonNullable||e.initialValueIsDefault)&&(Z3(n)?this.defaultValue=n.value:this.defaultValue=n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(t=>t(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){Q3(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){Q3(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(n){Z3(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}},Se=lf,nee=i=>i instanceof lf,ree=(()=>{class i extends ms{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return ev(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=tt(i)))(r||i)}})()}static{this.\u0275dir=gt({type:i,features:[ve]})}}return i})();var oee={provide:jo,useExisting:zt(()=>Gn)},e4=Promise.resolve(),Gn=(()=>{class i extends jo{constructor(e,t,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new lf,this._registered=!1,this.name="",this.update=new Q,this._parent=e,this._setValidators(t),this._setAsyncValidators(r),this.valueAccessor=rT(this,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let t=e.name.previousValue;this.formDirective.removeControl({name:t,path:this._getPath(t)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),nT(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Kg(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){e4.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let t=e.isDisabled.currentValue,r=t!==0&&K(t);e4.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?ev(e,this._parent):[e]}static{this.\u0275fac=function(t){return new(t||i)(b(ms,9),b(Ta,10),b(Rp,10),b(nn,10),b(Ie,8),b(df,8))}}static{this.\u0275dir=gt({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ze([oee]),ve,en]})}}return i})(),gr=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275dir=gt({type:i,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return i})(),see={provide:nn,useExisting:zt(()=>Pp),multi:!0},Pp=(()=>{class i extends XI{writeValue(e){let t=e??"";this.setProperty("value",t)}registerOnChange(e){this.onChange=t=>{e(t==""?null:parseFloat(t))}}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=tt(i)))(r||i)}})()}static{this.\u0275dir=gt({type:i,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){t&1&&P("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},features:[Ze([see]),ve]})}}return i})();var sT=new He(""),aee={provide:jo,useExisting:zt(()=>aT)},aT=(()=>{class i extends jo{set isDisabled(e){}static{this._ngModelWarningSentOnce=!1}constructor(e,t,r,o,s){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=s,this.update=new Q,this._ngModelWarningSent=!1,this._setValidators(e),this._setAsyncValidators(t),this.valueAccessor=rT(this,r)}ngOnChanges(e){if(this._isControlChanged(e)){let t=e.form.previousValue;t&&$I(t,this,!1),Kg(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}nT(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&$I(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}static{this.\u0275fac=function(t){return new(t||i)(b(Ta,10),b(Rp,10),b(nn,10),b(sT,8),b(df,8))}}static{this.\u0275dir=gt({type:i,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[Ze([aee]),ve,en]})}}return i})(),lee={provide:ms,useExisting:zt(()=>_r)},_r=(()=>{class i extends ms{get submitted(){return sa(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}constructor(e,t,r){super(),this.callSetDisabledState=r,this._submitted=Tr(()=>this._submittedReactive()),this._submittedReactive=Oi(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Q,this._setValidators(e),this._setAsyncValidators(t)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(YI(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let t=this.form.get(e.path);return Kg(t,e,this.callSetDisabledState),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t}getControl(e){return this.form.get(e.path)}removeControl(e){$I(e.control||null,e,!1),tee(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,t){this.form.get(e.path).setValue(t)}onSubmit(e){return this._submittedReactive.set(!0),w4(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new Yx(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this._submittedReactive.set(!1),this.form._events.next(new Jx(this.form))}_updateDomValue(){this.directives.forEach(e=>{let t=e.control,r=this.form.get(e.path);t!==r&&($I(t||null,e),nee(r)&&(Kg(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let t=this.form.get(e.path);b4(t,e),t.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let t=this.form.get(e.path);t&&ZZ(t,e)&&t.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){iT(this.form,this),this._oldForm&&YI(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(t){return new(t||i)(b(Ta,10),b(Rp,10),b(df,8))}}static{this.\u0275dir=gt({type:i,selectors:[["","formGroup",""]],hostBindings:function(t,r){t&1&&P("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ze([lee]),ve,en]})}}return i})(),cee={provide:ms,useExisting:zt(()=>S4)},S4=(()=>{class i extends ree{constructor(e,t,r){super(),this.name=null,this._parent=e,this._setValidators(t),this._setAsyncValidators(r)}_checkParentType(){A4(this._parent)}static{this.\u0275fac=function(t){return new(t||i)(b(ms,13),b(Ta,10),b(Rp,10))}}static{this.\u0275dir=gt({type:i,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},features:[Ze([cee]),ve]})}}return i})(),dee={provide:ms,useExisting:zt(()=>$g)},$g=(()=>{class i extends ms{constructor(e,t,r){super(),this.name=null,this._parent=e,this._setValidators(t),this._setAsyncValidators(r)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return ev(this.name==null?this.name:this.name.toString(),this._parent)}_checkParentType(){A4(this._parent)}static{this.\u0275fac=function(t){return new(t||i)(b(ms,13),b(Ta,10),b(Rp,10))}}static{this.\u0275dir=gt({type:i,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},features:[Ze([dee]),ve]})}}return i})();function A4(i){return!(i instanceof S4)&&!(i instanceof _r)&&!(i instanceof $g)}var uee={provide:jo,useExisting:zt(()=>Or)},Or=(()=>{class i extends jo{set isDisabled(e){}static{this._ngModelWarningSentOnce=!1}constructor(e,t,r,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new Q,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(t),this._setAsyncValidators(r),this.valueAccessor=rT(this,o)}ngOnChanges(e){this._added||this._setUpControl(),nT(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return ev(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(t){return new(t||i)(b(ms,13),b(Ta,10),b(Rp,10),b(nn,10),b(sT,8))}}static{this.\u0275dir=gt({type:i,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Ze([uee]),ve,en]})}}return i})(),pee={provide:nn,useExisting:zt(()=>Yl),multi:!0};function E4(i,n){return i==null?`${n}`:(n&&typeof n=="object"&&(n="Object"),`${i}: ${n}`.slice(0,50))}function hee(i){return i.split(":")[0]}var Yl=(()=>{class i extends XI{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;let t=this._getOptionId(e),r=E4(t,e);this.setProperty("value",r)}registerOnChange(e){this.onChange=t=>{this.value=this._getOptionValue(t),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let t of this._optionMap.keys())if(this._compareWith(this._optionMap.get(t),e))return t;return null}_getOptionValue(e){let t=hee(e);return this._optionMap.has(t)?this._optionMap.get(t):e}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=tt(i)))(r||i)}})()}static{this.\u0275dir=gt({type:i,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){t&1&&P("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ze([pee]),ve]})}}return i})(),Xd=(()=>{class i{constructor(e,t,r){this._element=e,this._renderer=t,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(E4(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(t){return new(t||i)(b(ze),b(Ft),b(Yl,9))}}static{this.\u0275dir=gt({type:i,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return i})(),fee={provide:nn,useExisting:zt(()=>x4),multi:!0};function t4(i,n){return i==null?`${n}`:(typeof n=="string"&&(n=`'${n}'`),n&&typeof n=="object"&&(n="Object"),`${i}: ${n}`.slice(0,50))}function mee(i){return i.split(":")[0]}var x4=(()=>{class i extends XI{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;let t;if(Array.isArray(e)){let r=e.map(o=>this._getOptionId(o));t=(o,s)=>{o._setSelected(r.indexOf(s.toString())>-1)}}else t=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(t)}registerOnChange(e){this.onChange=t=>{let r=[],o=t.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],c=this._getOptionValue(l.value);r.push(c)}}else{let s=t.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let c=this._getOptionValue(l.value);r.push(c)}}}this.value=r,e(r)}}_registerOption(e){let t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}_getOptionId(e){for(let t of this._optionMap.keys())if(this._compareWith(this._optionMap.get(t)._value,e))return t;return null}_getOptionValue(e){let t=mee(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=tt(i)))(r||i)}})()}static{this.\u0275dir=gt({type:i,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){t&1&&P("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ze([fee]),ve]})}}return i})(),Qd=(()=>{class i{constructor(e,t,r){this._element=e,this._renderer=t,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(t4(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(t4(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(t){return new(t||i)(b(ze),b(Ft),b(x4,9))}}static{this.\u0275dir=gt({type:i,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return i})();function gee(i){return typeof i=="number"?i:parseInt(i,10)}function T4(i){return typeof i=="number"?i:parseFloat(i)}var qg=(()=>{class i{constructor(){this._validator=HI}ngOnChanges(e){if(this.inputName in e){let t=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(t),this._validator=this._enabled?this.createValidator(t):HI,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275dir=gt({type:i,features:[en]})}}return i})(),_ee={provide:Ta,useExisting:zt(()=>lT),multi:!0},lT=(()=>{class i extends qg{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=e=>T4(e),this.createValidator=e=>s4(e)}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=tt(i)))(r||i)}})()}static{this.\u0275dir=gt({type:i,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(t,r){t&2&&V("max",r._enabled?r.max:null)},inputs:{max:"max"},features:[Ze([_ee]),ve]})}}return i})(),Cee={provide:Ta,useExisting:zt(()=>cT),multi:!0},cT=(()=>{class i extends qg{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=e=>T4(e),this.createValidator=e=>o4(e)}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=tt(i)))(r||i)}})()}static{this.\u0275dir=gt({type:i,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(t,r){t&2&&V("min",r._enabled?r.min:null)},inputs:{min:"min"},features:[Ze([Cee]),ve]})}}return i})(),yee={provide:Ta,useExisting:zt(()=>Yg),multi:!0};var Yg=(()=>{class i extends qg{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=K,this.createValidator=e=>a4}enabled(e){return e}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=tt(i)))(r||i)}})()}static{this.\u0275dir=gt({type:i,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){t&2&&V("required",r._enabled?"":null)},inputs:{required:"required"},features:[Ze([yee]),ve]})}}return i})();var Iee={provide:Ta,useExisting:zt(()=>Qr),multi:!0},Qr=(()=>{class i extends qg{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>gee(e),this.createValidator=e=>l4(e)}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=tt(i)))(r||i)}})()}static{this.\u0275dir=gt({type:i,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,r){t&2&&V("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Ze([Iee]),ve]})}}return i})(),vee={provide:Ta,useExisting:zt(()=>dT),multi:!0},dT=(()=>{class i extends qg{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=e=>e,this.createValidator=e=>c4(e)}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=tt(i)))(r||i)}})()}static{this.\u0275dir=gt({type:i,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(t,r){t&2&&V("pattern",r._enabled?r.pattern:null)},inputs:{pattern:"pattern"},features:[Ze([vee]),ve]})}}return i})();var O4=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=Oe({type:i})}static{this.\u0275inj=Te({})}}return i})(),JI=class extends cf{constructor(n,e,t){super(eT(e),tT(t,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(n){return this.controls[this._adjustIndex(n)]}push(n,e={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(n,e,t={}){this.controls.splice(n,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent})}removeAt(n,e={}){let t=this._adjustIndex(n);t<0&&(t=0),this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(n,e,t={}){let r=this._adjustIndex(n);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,e={}){I4(this,!1,n),n.forEach((t,r)=>{y4(this,!1,r),this.at(r).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){n!=null&&(n.forEach((t,r)=>{this.at(r)&&this.at(r).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n=[],e={}){this._forEachChild((t,r)=>{t.reset(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(n=>n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_adjustIndex(n){return n<0?n+this.length:n}_syncPendingControls(){let n=this.controls.reduce((e,t)=>t._syncPendingControls()?!0:e,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){this.controls.forEach((e,t)=>{n(e,t)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(e=>e.enabled&&n(e))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_allControlsDisabled(){for(let n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}_find(n){return this.at(n)??null}},hl=JI;function i4(i){return!!i&&(i.asyncValidators!==void 0||i.validators!==void 0||i.updateOn!==void 0)}var bee=(()=>{class i{constructor(){this.useNonNullable=!1}get nonNullable(){let e=new i;return e.useNonNullable=!0,e}group(e,t=null){let r=this._reduceControls(e),o={};return i4(t)?o=t:t!==null&&(o.validators=t.validator,o.asyncValidators=t.asyncValidator),new Dp(r,o)}record(e,t=null){let r=this._reduceControls(e);return new Xx(r,t)}control(e,t,r){let o={};return this.useNonNullable?(i4(t)?o=t:(o.validators=t,o.asyncValidators=r),new lf(e,Pe(re({},o),{nonNullable:!0}))):new lf(e,t,r)}array(e,t,r){let o=e.map(s=>this._createControl(s));return new JI(o,t,r)}_reduceControls(e){let t={};return Object.keys(e).forEach(r=>{t[r]=this._createControl(e[r])}),t}_createControl(e){if(e instanceof lf)return e;if(e instanceof cf)return e;if(Array.isArray(e)){let t=e[0],r=e.length>1?e[1]:null,o=e.length>2?e[2]:null;return this.control(t,r,o)}else return this.control(e)}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Fr=(()=>{class i extends bee{group(e,t=null){return super.group(e,t)}control(e,t,r){return super.control(e,t,r)}array(e,t,r){return super.array(e,t,r)}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=tt(i)))(r||i)}})()}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Zd=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:df,useValue:e.callSetDisabledState??ZI}]}}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=Oe({type:i})}static{this.\u0275inj=Te({imports:[O4]})}}return i})(),uT=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:sT,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:df,useValue:e.callSetDisabledState??ZI}]}}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=Oe({type:i})}static{this.\u0275inj=Te({imports:[O4]})}}return i})();var Jg=function(i){return i[i.FWACTION_ACCEPT=1]="FWACTION_ACCEPT",i[i.FWACTION_DENY=2]="FWACTION_DENY",i[i.FWACTION_REJECT=3]="FWACTION_REJECT",i[i.FWACTION_ACCOUNTING=4]="FWACTION_ACCOUNTING",i}(Jg||{}),Vtt=(()=>{class i{constructor(){this.fwActions=[{id:Jg.FWACTION_DENY,text:"Deny",icon:"&#x270B;",FAicon:"&#xf256;",iconClass:"fa fa-fw fa-hand fwcRed"},{id:Jg.FWACTION_ACCEPT,text:"Accept",icon:"&#x2705;",FAicon:"&#xf00c;",iconClass:"fa fa-fw fa-check fwcBlue"},{id:Jg.FWACTION_REJECT,text:"Reject",icon:"&#x274C;",FAicon:"&#xf00d;",iconClass:"fa fa-fw fa-times fwcRed"},{id:Jg.FWACTION_ACCOUNTING,text:"Accounting",icon:"&#x270D;",FAicon:"&#xf040;",iconClass:"fa fa-fw fa-pencil fwcBlue",disabledOnSpecial:!0}],this.fwActionsItems=this.buildActionsItems(),this.fwActionsItemsSpecial=this.buildActionsItems(1)}getActions(){return this.fwActions}getActionsItems(e){return e?this.fwActionsItemsSpecial:this.fwActionsItems}buildActionsItems(e){let t=[];return this.fwActions.forEach(r=>{(!e||!r.disabledOnSpecial)&&t.push({label:r.text,value:r.id,icon:r.iconClass})}),t}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac})}}return i})();var uf=class{},D4=(()=>{class i extends uf{getTranslation(e){return wt({})}static \u0275fac=(()=>{let e;return function(r){return(e||(e=tt(i)))(r||i)}})();static \u0275prov=_e({token:i,factory:i.\u0275fac})}return i})(),Qg=class{},R4=(()=>{class i{handle(e){return e.key}static \u0275fac=function(t){return new(t||i)};static \u0275prov=_e({token:i,factory:i.\u0275fac})}return i})();function iv(i,n){if(i===n)return!0;if(i===null||n===null)return!1;if(i!==i&&n!==n)return!0;let e=typeof i,t=typeof n,r,o,s;if(e==t&&e=="object")if(Array.isArray(i)){if(!Array.isArray(n))return!1;if((r=i.length)==n.length){for(o=0;o<r;o++)if(!iv(i[o],n[o]))return!1;return!0}}else{if(Array.isArray(n))return!1;s=Object.create(null);for(o in i){if(!iv(i[o],n[o]))return!1;s[o]=!0}for(o in n)if(!(o in s)&&typeof n[o]<"u")return!1;return!0}return!1}function eu(i){return typeof i<"u"&&i!==null}function e_(i){return tv(i)&&!CT(i)&&i!==null}function tv(i){return typeof i=="object"}function CT(i){return Array.isArray(i)}function yT(i){return typeof i=="string"}function wee(i){return typeof i=="function"}function pT(i,n){let e=Object.assign({},i);return tv(i)?(tv(i)&&tv(n)&&Object.keys(n).forEach(t=>{e_(n[t])?t in i?e[t]=pT(i[t],n[t]):Object.assign(e,{[t]:n[t]}):Object.assign(e,{[t]:n[t]})}),e):pT({},n)}function hT(i,n){let e=n.split(".");n="";do n+=e.shift(),eu(i)&&eu(i[n])&&(e_(i[n])||CT(i[n])||!e.length)?(i=i[n],n=""):e.length?n+=".":i=void 0;while(e.length);return i}function See(i,n,e){let t=n.split("."),r=i;for(let o=0;o<t.length;o++){let s=t[o];o===t.length-1?r[s]=e:((!r[s]||!e_(r[s]))&&(r[s]={}),r=r[s])}}var pf=class{},P4=(()=>{class i extends pf{templateMatcher=/{{\s?([^{}\s]*)\s?}}/g;interpolate(e,t){if(yT(e))return this.interpolateString(e,t);if(wee(e))return this.interpolateFunction(e,t)}interpolateFunction(e,t){return e(t)}interpolateString(e,t){return t?e.replace(this.templateMatcher,(r,o)=>{let s=hT(t,o);return eu(s)?s:r}):e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=tt(i)))(r||i)}})();static \u0275prov=_e({token:i,factory:i.\u0275fac})}return i})(),hf=class{},k4=(()=>{class i extends hf{compile(e,t){return e}compileTranslations(e,t){return e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=tt(i)))(r||i)}})();static \u0275prov=_e({token:i,factory:i.\u0275fac})}return i})(),Zg=class{defaultLang;currentLang=this.defaultLang;translations={};langs=[];onTranslationChange=new Q;onLangChange=new Q;onDefaultLangChange=new Q},fT=new He("ISOLATE_TRANSLATE_SERVICE"),mT=new He("USE_DEFAULT_LANG"),gT=new He("DEFAULT_LANGUAGE"),_T=new He("USE_EXTEND"),Xg=i=>wc(i)?i:wt(i),Xe=(()=>{class i{store;currentLoader;compiler;parser;missingTranslationHandler;useDefaultLang;extend;loadingTranslations;pending=!1;_translationRequests={};lastUseLanguage=null;get onTranslationChange(){return this.store.onTranslationChange}get onLangChange(){return this.store.onLangChange}get onDefaultLangChange(){return this.store.onDefaultLangChange}get defaultLang(){return this.store.defaultLang}set defaultLang(e){this.store.defaultLang=e}get currentLang(){return this.store.currentLang}set currentLang(e){this.store.currentLang=e}get langs(){return this.store.langs}set langs(e){this.store.langs=e}get translations(){return this.store.translations}set translations(e){this.store.translations=e}constructor(e,t,r,o,s,a=!0,l=!1,c=!1,d){this.store=e,this.currentLoader=t,this.compiler=r,this.parser=o,this.missingTranslationHandler=s,this.useDefaultLang=a,this.extend=c,l&&(this.store=new Zg),d&&this.setDefaultLang(d)}setDefaultLang(e){if(e===this.defaultLang)return;let t=this.retrieveTranslations(e);typeof t<"u"?(this.defaultLang==null&&(this.defaultLang=e),t.pipe(No(1)).subscribe(()=>{this.changeDefaultLang(e)})):this.changeDefaultLang(e)}getDefaultLang(){return this.defaultLang}use(e){if(this.lastUseLanguage=e,e===this.currentLang)return wt(this.translations[e]);this.currentLang||(this.currentLang=e);let t=this.retrieveTranslations(e);return wc(t)?(t.pipe(No(1)).subscribe(()=>{this.changeLang(e)}),t):(this.changeLang(e),wt(this.translations[e]))}changeLang(e){e===this.lastUseLanguage&&(this.currentLang=e,this.onLangChange.emit({lang:e,translations:this.translations[e]}),this.defaultLang==null&&this.changeDefaultLang(e))}retrieveTranslations(e){if(typeof this.translations[e]>"u"||this.extend)return this._translationRequests[e]=this._translationRequests[e]||this.loadAndCompileTranslations(e),this._translationRequests[e]}getTranslation(e){return this.loadAndCompileTranslations(e)}loadAndCompileTranslations(e){this.pending=!0;let t=this.currentLoader.getTranslation(e).pipe(Oh(1),No(1));return this.loadingTranslations=t.pipe(W(r=>this.compiler.compileTranslations(r,e)),Oh(1),No(1)),this.loadingTranslations.subscribe({next:r=>{this.translations[e]=this.extend&&this.translations[e]?re(re({},r),this.translations[e]):r,this.updateLangs(),this.pending=!1},error:r=>{this.pending=!1}}),t}setTranslation(e,t,r=!1){let o=this.compiler.compileTranslations(t,e);(r||this.extend)&&this.translations[e]?this.translations[e]=pT(this.translations[e],o):this.translations[e]=o,this.updateLangs(),this.onTranslationChange.emit({lang:e,translations:this.translations[e]})}getLangs(){return this.langs}addLangs(e){let t=e.filter(r=>!this.langs.includes(r));t.length>0&&(this.langs=[...this.langs,...t])}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResultForKey(e,t,r){let o;if(e&&(o=this.runInterpolation(hT(e,t),r)),o===void 0&&this.defaultLang!=null&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(o=this.runInterpolation(hT(this.translations[this.defaultLang],t),r)),o===void 0){let s={key:t,translateService:this};typeof r<"u"&&(s.interpolateParams=r),o=this.missingTranslationHandler.handle(s)}return o!==void 0?o:t}runInterpolation(e,t){if(CT(e))return e.map(r=>this.runInterpolation(r,t));if(e_(e)){let r={};for(let o in e){let s=this.runInterpolation(e[o],t);s!==void 0&&(r[o]=s)}return r}else return this.parser.interpolate(e,t)}getParsedResult(e,t,r){if(t instanceof Array){let o={},s=!1;for(let l of t)o[l]=this.getParsedResultForKey(e,l,r),s=s||wc(o[l]);if(!s)return o;let a=t.map(l=>Xg(o[l]));return lg(a).pipe(W(l=>{let c={};return l.forEach((d,p)=>{c[t[p]]=d}),c}))}return this.getParsedResultForKey(e,t,r)}get(e,t){if(!eu(e)||!e.length)throw new Error('Parameter "key" is required and cannot be empty');return this.pending?this.loadingTranslations.pipe(rl(r=>Xg(this.getParsedResult(r,e,t)))):Xg(this.getParsedResult(this.translations[this.currentLang],e,t))}getStreamOnTranslationChange(e,t){if(!eu(e)||!e.length)throw new Error('Parameter "key" is required and cannot be empty');return il(dp(()=>this.get(e,t)),this.onTranslationChange.pipe(uo(r=>{let o=this.getParsedResult(r.translations,e,t);return Xg(o)})))}stream(e,t){if(!eu(e)||!e.length)throw new Error('Parameter "key" required');return il(dp(()=>this.get(e,t)),this.onLangChange.pipe(uo(r=>{let o=this.getParsedResult(r.translations,e,t);return Xg(o)})))}instant(e,t){if(!eu(e)||e.length===0)throw new Error('Parameter "key" is required and cannot be empty');let r=this.getParsedResult(this.translations[this.currentLang],e,t);return wc(r)?Array.isArray(e)?e.reduce((o,s)=>(o[s]=s,o),{}):e:r}set(e,t,r=this.currentLang){See(this.translations[r],e,yT(t)?this.compiler.compile(t,r):this.compiler.compileTranslations(t,r)),this.updateLangs(),this.onTranslationChange.emit({lang:r,translations:this.translations[r]})}changeDefaultLang(e){this.defaultLang=e,this.onDefaultLangChange.emit({lang:e,translations:this.translations[e]})}reloadLang(e){return this.resetLang(e),this.loadAndCompileTranslations(e)}resetLang(e){delete this._translationRequests[e],delete this.translations[e]}getBrowserLang(){if(typeof window>"u"||!window.navigator)return;let e=this.getBrowserCultureLang();return e?e.split(/[-_]/)[0]:void 0}getBrowserCultureLang(){if(!(typeof window>"u"||typeof window.navigator>"u"))return window.navigator.languages?window.navigator.languages[0]:window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage}static \u0275fac=function(t){return new(t||i)(ce(Zg),ce(uf),ce(hf),ce(pf),ce(Qg),ce(mT),ce(fT),ce(_T),ce(gT))};static \u0275prov=_e({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var vt=(()=>{class i{translate;_ref;value="";lastKey=null;lastParams=[];onTranslationChange;onLangChange;onDefaultLangChange;constructor(e,t){this.translate=e,this._ref=t}updateValue(e,t,r){let o=s=>{this.value=s!==void 0?s:e,this.lastKey=e,this._ref.markForCheck()};if(r){let s=this.translate.getParsedResult(r,e,t);wc(s)?s.subscribe(o):o(s)}this.translate.get(e,t).subscribe(o)}transform(e,...t){if(!e||!e.length)return e;if(iv(e,this.lastKey)&&iv(t,this.lastParams))return this.value;let r;if(eu(t[0])&&t.length)if(yT(t[0])&&t[0].length){let o=t[0].replace(/(')?([a-zA-Z0-9_]+)(')?(\s)?:/g,'"$2":').replace(/:(\s)?(')(.*?)(')/g,':"$3"');try{r=JSON.parse(o)}catch(s){throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${t[0]}`)}}else e_(t[0])&&(r=t[0]);return this.lastKey=e,this.lastParams=t,this.updateValue(e,r),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(o=>{this.lastKey&&o.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(e,r,o.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(o=>{this.lastKey&&(this.lastKey=null,this.updateValue(e,r,o.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(e,r))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}static \u0275fac=function(t){return new(t||i)(b(Xe,16),b(Ie,16))};static \u0275pipe=Jn({name:"translate",type:i,pure:!1,standalone:!0});static \u0275prov=_e({token:i,factory:i.\u0275fac})}return i})();var F4=(()=>{class i{static forRoot(e={}){return{ngModule:i,providers:[e.loader||{provide:uf,useClass:D4},e.compiler||{provide:hf,useClass:k4},e.parser||{provide:pf,useClass:P4},e.missingTranslationHandler||{provide:Qg,useClass:R4},Zg,{provide:fT,useValue:e.isolate},{provide:mT,useValue:e.useDefaultLang},{provide:_T,useValue:e.extend},{provide:gT,useValue:e.defaultLanguage},Xe]}}static forChild(e={}){return{ngModule:i,providers:[e.loader||{provide:uf,useClass:D4},e.compiler||{provide:hf,useClass:k4},e.parser||{provide:pf,useClass:P4},e.missingTranslationHandler||{provide:Qg,useClass:R4},{provide:fT,useValue:e.isolate},{provide:mT,useValue:e.useDefaultLang},{provide:_T,useValue:e.extend},{provide:gT,useValue:e.defaultLanguage},Xe]}}static \u0275fac=function(t){return new(t||i)};static \u0275mod=Oe({type:i});static \u0275inj=Te({})}return i})();var ff={name:"prod",production:!0,VERSION:L4().version,socketDebug:!1};var fe=class i{static isArray(n,e=!0){return Array.isArray(n)&&(e||n.length!==0)}static isObject(n,e=!0){return typeof n=="object"&&!Array.isArray(n)&&n!=null&&(e||Object.keys(n).length!==0)}static equals(n,e,t){return t?this.resolveFieldData(n,t)===this.resolveFieldData(e,t):this.equalsByValue(n,e)}static equalsByValue(n,e){if(n===e)return!0;if(n&&e&&typeof n=="object"&&typeof e=="object"){var t=Array.isArray(n),r=Array.isArray(e),o,s,a;if(t&&r){if(s=n.length,s!=e.length)return!1;for(o=s;o--!==0;)if(!this.equalsByValue(n[o],e[o]))return!1;return!0}if(t!=r)return!1;var l=this.isDate(n),c=this.isDate(e);if(l!=c)return!1;if(l&&c)return n.getTime()==e.getTime();var d=n instanceof RegExp,p=e instanceof RegExp;if(d!=p)return!1;if(d&&p)return n.toString()==e.toString();var g=Object.keys(n);if(s=g.length,s!==Object.keys(e).length)return!1;for(o=s;o--!==0;)if(!Object.prototype.hasOwnProperty.call(e,g[o]))return!1;for(o=s;o--!==0;)if(a=g[o],!this.equalsByValue(n[a],e[a]))return!1;return!0}return n!==n&&e!==e}static resolveFieldData(n,e){if(n&&e){if(this.isFunction(e))return e(n);if(e.indexOf(".")==-1)return n[e];{let t=e.split("."),r=n;for(let o=0,s=t.length;o<s;++o){if(r==null)return null;r=r[t[o]]}return r}}else return null}static isFunction(n){return!!(n&&n.constructor&&n.call&&n.apply)}static reorderArray(n,e,t){let r;n&&e!==t&&(t>=n.length&&(t%=n.length,e%=n.length),n.splice(t,0,n.splice(e,1)[0]))}static insertIntoOrderedArray(n,e,t,r){if(t.length>0){let o=!1;for(let s=0;s<t.length;s++)if(this.findIndexInList(t[s],r)>e){t.splice(s,0,n),o=!0;break}o||t.push(n)}else t.push(n)}static findIndexInList(n,e){let t=-1;if(e){for(let r=0;r<e.length;r++)if(e[r]==n){t=r;break}}return t}static contains(n,e){if(n!=null&&e&&e.length){for(let t of e)if(this.equals(n,t))return!0}return!1}static removeAccents(n){return n&&(n=n.normalize("NFKD").replace(new RegExp("\\p{Diacritic}","gu"),"")),n}static isDate(n){return Object.prototype.toString.call(n)==="[object Date]"}static isEmpty(n){return n==null||n===""||Array.isArray(n)&&n.length===0||!this.isDate(n)&&typeof n=="object"&&Object.keys(n).length===0}static isNotEmpty(n){return!this.isEmpty(n)}static compare(n,e,t,r=1){let o=-1,s=this.isEmpty(n),a=this.isEmpty(e);return s&&a?o=0:s?o=r:a?o=-r:typeof n=="string"&&typeof e=="string"?o=n.localeCompare(e,t,{numeric:!0}):o=n<e?-1:n>e?1:0,o}static sort(n,e,t=1,r,o=1){let s=i.compare(n,e,r,t),a=t;return(i.isEmpty(n)||i.isEmpty(e))&&(a=o===1?t:o),a*s}static merge(n,e){if(!(n==null&&e==null)){{if((n==null||typeof n=="object")&&(e==null||typeof e=="object"))return re(re({},n||{}),e||{});if((n==null||typeof n=="string")&&(e==null||typeof e=="string"))return[n||"",e||""].join(" ")}return e||n}}static isPrintableCharacter(n=""){return this.isNotEmpty(n)&&n.length===1&&n.match(/\S| /)}static getItemValue(n,...e){return this.isFunction(n)?n(...e):n}static findLastIndex(n,e){let t=-1;if(this.isNotEmpty(n))try{t=n.findLastIndex(e)}catch{t=n.lastIndexOf([...n].reverse().find(e))}return t}static findLast(n,e){let t;if(this.isNotEmpty(n))try{t=n.findLast(e)}catch{t=[...n].reverse().find(e)}return t}static deepEquals(n,e){if(n===e)return!0;if(n&&e&&typeof n=="object"&&typeof e=="object"){var t=Array.isArray(n),r=Array.isArray(e),o,s,a;if(t&&r){if(s=n.length,s!=e.length)return!1;for(o=s;o--!==0;)if(!this.deepEquals(n[o],e[o]))return!1;return!0}if(t!=r)return!1;var l=n instanceof Date,c=e instanceof Date;if(l!=c)return!1;if(l&&c)return n.getTime()==e.getTime();var d=n instanceof RegExp,p=e instanceof RegExp;if(d!=p)return!1;if(d&&p)return n.toString()==e.toString();var g=Object.keys(n);if(s=g.length,s!==Object.keys(e).length)return!1;for(o=s;o--!==0;)if(!Object.prototype.hasOwnProperty.call(e,g[o]))return!1;for(o=s;o--!==0;)if(a=g[o],!this.deepEquals(n[a],e[a]))return!1;return!0}return n!==n&&e!==e}},M4=0;function yt(i="pn_id_"){return M4++,`${i}${M4}`}function Eee(){let i=[],n=(o,s)=>{let a=i.length>0?i[i.length-1]:{key:o,value:s},l=a.value+(a.key===o?0:s)+2;return i.push({key:o,value:l}),l},e=o=>{i=i.filter(s=>s.value!==o)},t=()=>i.length>0?i[i.length-1].value:0,r=o=>o&&parseInt(o.style.zIndex,10)||0;return{get:r,set:(o,s,a)=>{s&&(s.style.zIndex=String(n(o,a)))},clear:o=>{o&&(e(r(o)),o.style.zIndex="")},getCurrent:()=>t()}}var hi=Eee();var N4=["*"],kp=function(i){return i[i.ACCEPT=0]="ACCEPT",i[i.REJECT=1]="REJECT",i[i.CANCEL=2]="CANCEL",i}(kp||{}),si=(()=>{class i{requireConfirmationSource=new Re;acceptConfirmationSource=new Re;requireConfirmation$=this.requireConfirmationSource.asObservable();accept=this.acceptConfirmationSource.asObservable();confirm(e){return this.requireConfirmationSource.next(e),this}close(){return this.requireConfirmationSource.next(null),this}onAccept(){this.acceptConfirmationSource.next(null)}static \u0275fac=function(t){return new(t||i)};static \u0275prov=_e({token:i,factory:i.\u0275fac})}return i})();var So=(()=>{class i{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static IN="in";static LESS_THAN="lt";static LESS_THAN_OR_EQUAL_TO="lte";static GREATER_THAN="gt";static GREATER_THAN_OR_EQUAL_TO="gte";static BETWEEN="between";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static DATE_IS="dateIs";static DATE_IS_NOT="dateIsNot";static DATE_BEFORE="dateBefore";static DATE_AFTER="dateAfter"}return i})(),IT=(()=>{class i{static AND="and";static OR="or"}return i})(),Jl=(()=>{class i{filter(e,t,r,o,s){let a=[];if(e)for(let l of e)for(let c of t){let d=fe.resolveFieldData(l,c);if(this.filters[o](d,r,s)){a.push(l);break}}return a}filters={startsWith:(e,t,r)=>{if(t==null||t.trim()==="")return!0;if(e==null)return!1;let o=fe.removeAccents(t.toString()).toLocaleLowerCase(r);return fe.removeAccents(e.toString()).toLocaleLowerCase(r).slice(0,o.length)===o},contains:(e,t,r)=>{if(t==null||typeof t=="string"&&t.trim()==="")return!0;if(e==null)return!1;let o=fe.removeAccents(t.toString()).toLocaleLowerCase(r);return fe.removeAccents(e.toString()).toLocaleLowerCase(r).indexOf(o)!==-1},notContains:(e,t,r)=>{if(t==null||typeof t=="string"&&t.trim()==="")return!0;if(e==null)return!1;let o=fe.removeAccents(t.toString()).toLocaleLowerCase(r);return fe.removeAccents(e.toString()).toLocaleLowerCase(r).indexOf(o)===-1},endsWith:(e,t,r)=>{if(t==null||t.trim()==="")return!0;if(e==null)return!1;let o=fe.removeAccents(t.toString()).toLocaleLowerCase(r),s=fe.removeAccents(e.toString()).toLocaleLowerCase(r);return s.indexOf(o,s.length-o.length)!==-1},equals:(e,t,r)=>t==null||typeof t=="string"&&t.trim()===""?!0:e==null?!1:e.getTime&&t.getTime?e.getTime()===t.getTime():e==t?!0:fe.removeAccents(e.toString()).toLocaleLowerCase(r)==fe.removeAccents(t.toString()).toLocaleLowerCase(r),notEquals:(e,t,r)=>t==null||typeof t=="string"&&t.trim()===""?!1:e==null?!0:e.getTime&&t.getTime?e.getTime()!==t.getTime():e==t?!1:fe.removeAccents(e.toString()).toLocaleLowerCase(r)!=fe.removeAccents(t.toString()).toLocaleLowerCase(r),in:(e,t)=>{if(t==null||t.length===0)return!0;for(let r=0;r<t.length;r++)if(fe.equals(e,t[r]))return!0;return!1},between:(e,t)=>t==null||t[0]==null||t[1]==null?!0:e==null?!1:e.getTime?t[0].getTime()<=e.getTime()&&e.getTime()<=t[1].getTime():t[0]<=e&&e<=t[1],lt:(e,t,r)=>t==null?!0:e==null?!1:e.getTime&&t.getTime?e.getTime()<t.getTime():e<t,lte:(e,t,r)=>t==null?!0:e==null?!1:e.getTime&&t.getTime?e.getTime()<=t.getTime():e<=t,gt:(e,t,r)=>t==null?!0:e==null?!1:e.getTime&&t.getTime?e.getTime()>t.getTime():e>t,gte:(e,t,r)=>t==null?!0:e==null?!1:e.getTime&&t.getTime?e.getTime()>=t.getTime():e>=t,is:(e,t,r)=>this.filters.equals(e,t,r),isNot:(e,t,r)=>this.filters.notEquals(e,t,r),before:(e,t,r)=>this.filters.lt(e,t,r),after:(e,t,r)=>this.filters.gt(e,t,r),dateIs:(e,t)=>t==null?!0:e==null?!1:e.toDateString()===t.toDateString(),dateIsNot:(e,t)=>t==null?!0:e==null?!1:e.toDateString()!==t.toDateString(),dateBefore:(e,t)=>t==null?!0:e==null?!1:e.getTime()<t.getTime(),dateAfter:(e,t)=>{if(t==null)return!0;if(e==null)return!1;let r=new Date(e);return r.setHours(0,0,0,0),r.getTime()>t.getTime()}};register(e,t){this.filters[e]=t}static \u0275fac=function(t){return new(t||i)};static \u0275prov=_e({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),ci=(()=>{class i{messageSource=new Re;clearSource=new Re;messageObserver=this.messageSource.asObservable();clearObserver=this.clearSource.asObservable();add(e){e&&this.messageSource.next(e)}addAll(e){e&&e.length&&this.messageSource.next(e)}clear(e){this.clearSource.next(e||null)}static \u0275fac=function(t){return new(t||i)};static \u0275prov=_e({token:i,factory:i.\u0275fac})}return i})(),Ao=(()=>{class i{clickSource=new Re;clickObservable=this.clickSource.asObservable();add(e){e&&this.clickSource.next(e)}static \u0275fac=function(t){return new(t||i)};static \u0275prov=_e({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var Vt=(()=>{class i{ripple=!1;inputStyle=Oi("outlined");overlayOptions={};csp=Oi({nonce:void 0});filterMatchModeOptions={text:[So.STARTS_WITH,So.CONTAINS,So.NOT_CONTAINS,So.ENDS_WITH,So.EQUALS,So.NOT_EQUALS],numeric:[So.EQUALS,So.NOT_EQUALS,So.LESS_THAN,So.LESS_THAN_OR_EQUAL_TO,So.GREATER_THAN,So.GREATER_THAN_OR_EQUAL_TO],date:[So.DATE_IS,So.DATE_IS_NOT,So.DATE_BEFORE,So.DATE_AFTER]};translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyFilterMessage:"No results found",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"{page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",previousPageLabel:"Previous Page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List",selectColor:"Select a color",removeLabel:"Remove",browseFiles:"Browse Files",maximizeLabel:"Maximize"}};zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100};translationSource=new Re;translationObserver=this.translationSource.asObservable();getTranslation(e){return this.translation[e]}setTranslation(e){this.translation=re(re({},this.translation),e),this.translationSource.next(this.translation)}static \u0275fac=function(t){return new(t||i)};static \u0275prov=_e({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Xl=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275cmp=ie({type:i,selectors:[["p-header"]],standalone:!0,features:[lt],ngContentSelectors:N4,decls:1,vars:0,template:function(t,r){t&1&&(Fi(),ii(0))},encapsulation:2})}return i})(),Ds=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275cmp=ie({type:i,selectors:[["p-footer"]],standalone:!0,features:[lt],ngContentSelectors:N4,decls:1,vars:0,template:function(t,r){t&1&&(Fi(),ii(0))},encapsulation:2})}return i})(),be=(()=>{class i{template;type;name;constructor(e){this.template=e}getType(){return this.name}static \u0275fac=function(t){return new(t||i)(b(ea))};static \u0275dir=gt({type:i,selectors:[["","pTemplate",""]],inputs:{type:"type",name:[0,"pTemplate","name"]},standalone:!0})}return i})(),nt=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=Oe({type:i});static \u0275inj=Te({})}return i})(),bi=(()=>{class i{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static NO_FILTER="noFilter";static LT="lt";static LTE="lte";static GT="gt";static GTE="gte";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static CLEAR="clear";static APPLY="apply";static MATCH_ALL="matchAll";static MATCH_ANY="matchAny";static ADD_RULE="addRule";static REMOVE_RULE="removeRule";static ACCEPT="accept";static REJECT="reject";static CHOOSE="choose";static UPLOAD="upload";static CANCEL="cancel";static PENDING="pending";static FILE_SIZE_TYPES="fileSizeTypes";static DAY_NAMES="dayNames";static DAY_NAMES_SHORT="dayNamesShort";static DAY_NAMES_MIN="dayNamesMin";static MONTH_NAMES="monthNames";static MONTH_NAMES_SHORT="monthNamesShort";static FIRST_DAY_OF_WEEK="firstDayOfWeek";static TODAY="today";static WEEK_HEADER="weekHeader";static WEAK="weak";static MEDIUM="medium";static STRONG="strong";static PASSWORD_PROMPT="passwordPrompt";static EMPTY_MESSAGE="emptyMessage";static EMPTY_FILTER_MESSAGE="emptyFilterMessage";static SHOW_FILTER_MENU="showFilterMenu";static HIDE_FILTER_MENU="hideFilterMenu";static SELECTION_MESSAGE="selectionMessage";static ARIA="aria";static SELECT_COLOR="selectColor";static BROWSE_FILES="browseFiles"}return i})(),V4=(()=>{class i{dragStartSource=new Re;dragStopSource=new Re;dragStart$=this.dragStartSource.asObservable();dragStop$=this.dragStopSource.asObservable();startDrag(e){this.dragStartSource.next(e)}stopDrag(e){this.dragStopSource.next(e)}static \u0275fac=function(t){return new(t||i)};static \u0275prov=_e({token:i,factory:i.\u0275fac})}return i})();var M=(()=>{class i{static zindex=1e3;static calculatedScrollbarWidth=null;static calculatedScrollbarHeight=null;static browser;static addClass(e,t){e&&t&&(e.classList?e.classList.add(t):e.className+=" "+t)}static addMultipleClasses(e,t){if(e&&t)if(e.classList){let r=t.trim().split(" ");for(let o=0;o<r.length;o++)e.classList.add(r[o])}else{let r=t.split(" ");for(let o=0;o<r.length;o++)e.className+=" "+r[o]}}static removeClass(e,t){e&&t&&(e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," "))}static removeMultipleClasses(e,t){e&&t&&[t].flat().filter(Boolean).forEach(r=>r.split(" ").forEach(o=>this.removeClass(e,o)))}static hasClass(e,t){return e&&t?e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className):!1}static siblings(e){return Array.prototype.filter.call(e.parentNode.children,function(t){return t!==e})}static find(e,t){return Array.from(e.querySelectorAll(t))}static findSingle(e,t){return this.isElement(e)?e.querySelector(t):null}static index(e){let t=e.parentNode.childNodes,r=0;for(var o=0;o<t.length;o++){if(t[o]==e)return r;t[o].nodeType==1&&r++}return-1}static indexWithinGroup(e,t){let r=e.parentNode?e.parentNode.childNodes:[],o=0;for(var s=0;s<r.length;s++){if(r[s]==e)return o;r[s].attributes&&r[s].attributes[t]&&r[s].nodeType==1&&o++}return-1}static appendOverlay(e,t,r="self"){r!=="self"&&e&&t&&this.appendChild(e,t)}static alignOverlay(e,t,r="self",o=!0){e&&t&&(o&&(e.style.minWidth=`${i.getOuterWidth(t)}px`),r==="self"?this.relativePosition(e,t):this.absolutePosition(e,t))}static relativePosition(e,t,r=!0){let o=T=>{if(T)return getComputedStyle(T).getPropertyValue("position")==="relative"?T:o(T.parentElement)},s=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),a=t.offsetHeight??t.getBoundingClientRect().height,l=t.getBoundingClientRect(),c=this.getWindowScrollTop(),d=this.getWindowScrollLeft(),p=this.getViewport(),C=o(e)?.getBoundingClientRect()||{top:-1*c,left:-1*d},y,v;l.top+a+s.height>p.height?(y=l.top-C.top-s.height,e.style.transformOrigin="bottom",l.top+y<0&&(y=-1*l.top)):(y=a+l.top-C.top,e.style.transformOrigin="top");let w=l.left+s.width-p.width,E=l.left-C.left;s.width>p.width?v=(l.left-C.left)*-1:w>0?v=E-w:v=l.left-C.left,e.style.top=y+"px",e.style.left=v+"px",r&&(e.style.marginTop=origin==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static absolutePosition(e,t,r=!0){let o=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),s=o.height,a=o.width,l=t.offsetHeight??t.getBoundingClientRect().height,c=t.offsetWidth??t.getBoundingClientRect().width,d=t.getBoundingClientRect(),p=this.getWindowScrollTop(),g=this.getWindowScrollLeft(),C=this.getViewport(),y,v;d.top+l+s>C.height?(y=d.top+p-s,e.style.transformOrigin="bottom",y<0&&(y=p)):(y=l+d.top+p,e.style.transformOrigin="top"),d.left+a>C.width?v=Math.max(0,d.left+g+c-a):v=d.left+g,e.style.top=y+"px",e.style.left=v+"px",r&&(e.style.marginTop=origin==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static getParents(e,t=[]){return e.parentNode===null?t:this.getParents(e.parentNode,t.concat([e.parentNode]))}static getScrollableParents(e){let t=[];if(e){let r=this.getParents(e),o=/(auto|scroll)/,s=a=>{let l=window.getComputedStyle(a,null);return o.test(l.getPropertyValue("overflow"))||o.test(l.getPropertyValue("overflowX"))||o.test(l.getPropertyValue("overflowY"))};for(let a of r){let l=a.nodeType===1&&a.dataset.scrollselectors;if(l){let c=l.split(",");for(let d of c){let p=this.findSingle(a,d);p&&s(p)&&t.push(p)}}a.nodeType!==9&&s(a)&&t.push(a)}}return t}static getHiddenElementOuterHeight(e){e.style.visibility="hidden",e.style.display="block";let t=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",t}static getHiddenElementOuterWidth(e){e.style.visibility="hidden",e.style.display="block";let t=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",t}static getHiddenElementDimensions(e){let t={};return e.style.visibility="hidden",e.style.display="block",t.width=e.offsetWidth,t.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",t}static scrollInView(e,t){let r=getComputedStyle(e).getPropertyValue("borderTopWidth"),o=r?parseFloat(r):0,s=getComputedStyle(e).getPropertyValue("paddingTop"),a=s?parseFloat(s):0,l=e.getBoundingClientRect(),d=t.getBoundingClientRect().top+document.body.scrollTop-(l.top+document.body.scrollTop)-o-a,p=e.scrollTop,g=e.clientHeight,C=this.getOuterHeight(t);d<0?e.scrollTop=p+d:d+C>g&&(e.scrollTop=p+d-g+C)}static fadeIn(e,t){e.style.opacity=0;let r=+new Date,o=0,s=function(){o=+e.style.opacity.replace(",",".")+(new Date().getTime()-r)/t,e.style.opacity=o,r=+new Date,+o<1&&(window.requestAnimationFrame&&requestAnimationFrame(s)||setTimeout(s,16))};s()}static fadeOut(e,t){var r=1,o=50,s=t,a=o/s;let l=setInterval(()=>{r=r-a,r<=0&&(r=0,clearInterval(l)),e.style.opacity=r},o)}static getWindowScrollTop(){let e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)}static getWindowScrollLeft(){let e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}static matches(e,t){var r=Element.prototype,o=r.matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||function(s){return[].indexOf.call(document.querySelectorAll(s),this)!==-1};return o.call(e,t)}static getOuterWidth(e,t){let r=e.offsetWidth;if(t){let o=getComputedStyle(e);r+=parseFloat(o.marginLeft)+parseFloat(o.marginRight)}return r}static getHorizontalPadding(e){let t=getComputedStyle(e);return parseFloat(t.paddingLeft)+parseFloat(t.paddingRight)}static getHorizontalMargin(e){let t=getComputedStyle(e);return parseFloat(t.marginLeft)+parseFloat(t.marginRight)}static innerWidth(e){let t=e.offsetWidth,r=getComputedStyle(e);return t+=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),t}static width(e){let t=e.offsetWidth,r=getComputedStyle(e);return t-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),t}static getInnerHeight(e){let t=e.offsetHeight,r=getComputedStyle(e);return t+=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom),t}static getOuterHeight(e,t){let r=e.offsetHeight;if(t){let o=getComputedStyle(e);r+=parseFloat(o.marginTop)+parseFloat(o.marginBottom)}return r}static getHeight(e){let t=e.offsetHeight,r=getComputedStyle(e);return t-=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)+parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth),t}static getWidth(e){let t=e.offsetWidth,r=getComputedStyle(e);return t-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth),t}static getViewport(){let e=window,t=document,r=t.documentElement,o=t.getElementsByTagName("body")[0],s=e.innerWidth||r.clientWidth||o.clientWidth,a=e.innerHeight||r.clientHeight||o.clientHeight;return{width:s,height:a}}static getOffset(e){var t=e.getBoundingClientRect();return{top:t.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:t.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(e,t){let r=e.parentNode;if(!r)throw"Can't replace element";return r.replaceChild(t,e)}static getUserAgent(){if(navigator&&this.isClient())return navigator.userAgent}static isIE(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return!0;var r=e.indexOf("Trident/");if(r>0){var o=e.indexOf("rv:");return!0}var s=e.indexOf("Edge/");return s>0}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(e,t){if(this.isElement(t))t.appendChild(e);else if(t&&t.el&&t.el.nativeElement)t.el.nativeElement.appendChild(e);else throw"Cannot append "+t+" to "+e}static removeChild(e,t){if(this.isElement(t))t.removeChild(e);else if(t.el&&t.el.nativeElement)t.el.nativeElement.removeChild(e);else throw"Cannot remove "+e+" from "+t}static removeElement(e){"remove"in Element.prototype?e.remove():e.parentNode.removeChild(e)}static isElement(e){return typeof HTMLElement=="object"?e instanceof HTMLElement:e&&typeof e=="object"&&e!==null&&e.nodeType===1&&typeof e.nodeName=="string"}static calculateScrollbarWidth(e){if(e){let t=getComputedStyle(e);return e.offsetWidth-e.clientWidth-parseFloat(t.borderLeftWidth)-parseFloat(t.borderRightWidth)}else{if(this.calculatedScrollbarWidth!==null)return this.calculatedScrollbarWidth;let t=document.createElement("div");t.className="p-scrollbar-measure",document.body.appendChild(t);let r=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),this.calculatedScrollbarWidth=r,r}}static calculateScrollbarHeight(){if(this.calculatedScrollbarHeight!==null)return this.calculatedScrollbarHeight;let e=document.createElement("div");e.className="p-scrollbar-measure",document.body.appendChild(e);let t=e.offsetHeight-e.clientHeight;return document.body.removeChild(e),this.calculatedScrollbarWidth=t,t}static invokeElementMethod(e,t,r){e[t].apply(e,r)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let e=navigator.userAgent.toLowerCase(),t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}}static isInteger(e){return Number.isInteger?Number.isInteger(e):typeof e=="number"&&isFinite(e)&&Math.floor(e)===e}static isHidden(e){return!e||e.offsetParent===null}static isVisible(e){return e&&e.offsetParent!=null}static isExist(e){return e!==null&&typeof e<"u"&&e.nodeName&&e.parentNode}static focus(e,t){e&&document.activeElement!==e&&e.focus(t)}static getFocusableSelectorString(e=""){return`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        .p-inputtext:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        .p-button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e}`}static getFocusableElements(e,t=""){let r=this.find(e,this.getFocusableSelectorString(t)),o=[];for(let s of r){let a=getComputedStyle(s);this.isVisible(s)&&a.display!="none"&&a.visibility!="hidden"&&o.push(s)}return o}static getFocusableElement(e,t=""){let r=this.findSingle(e,this.getFocusableSelectorString(t));if(r){let o=getComputedStyle(r);if(this.isVisible(r)&&o.display!="none"&&o.visibility!="hidden")return r}return null}static getFirstFocusableElement(e,t=""){let r=this.getFocusableElements(e,t);return r.length>0?r[0]:null}static getLastFocusableElement(e,t){let r=this.getFocusableElements(e,t);return r.length>0?r[r.length-1]:null}static getNextFocusableElement(e,t=!1){let r=i.getFocusableElements(e),o=0;if(r&&r.length>0){let s=r.indexOf(r[0].ownerDocument.activeElement);t?s==-1||s===0?o=r.length-1:o=s-1:s!=-1&&s!==r.length-1&&(o=s+1)}return r[o]}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement(e,t){if(!e)return null;switch(e){case"document":return document;case"window":return window;case"@next":return t?.nextElementSibling;case"@prev":return t?.previousElementSibling;case"@parent":return t?.parentElement;case"@grandparent":return t?.parentElement.parentElement;default:let r=typeof e;if(r==="string")return document.querySelector(e);if(r==="object"&&e.hasOwnProperty("nativeElement"))return this.isExist(e.nativeElement)?e.nativeElement:void 0;let s=(a=>!!(a&&a.constructor&&a.call&&a.apply))(e)?e():e;return s&&s.nodeType===9||this.isExist(s)?s:null}}static isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}static getAttribute(e,t){if(e){let r=e.getAttribute(t);return isNaN(r)?r==="true"||r==="false"?r==="true":r:+r}}static calculateBodyScrollbarWidth(){return window.innerWidth-document.documentElement.offsetWidth}static blockBodyScroll(e="p-overflow-hidden"){document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,e)}static unblockBodyScroll(e="p-overflow-hidden"){document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,e)}static createElement(e,t={},...r){if(e){let o=document.createElement(e);return this.setAttributes(o,t),o.append(...r),o}}static setAttribute(e,t="",r){this.isElement(e)&&r!==null&&r!==void 0&&e.setAttribute(t,r)}static setAttributes(e,t={}){if(this.isElement(e)){let r=(o,s)=>{let a=e?.$attrs?.[o]?[e?.$attrs?.[o]]:[];return[s].flat().reduce((l,c)=>{if(c!=null){let d=typeof c;if(d==="string"||d==="number")l.push(c);else if(d==="object"){let p=Array.isArray(c)?r(o,c):Object.entries(c).map(([g,C])=>o==="style"&&(C||C===0)?`${g.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${C}`:C?g:void 0);l=p.length?l.concat(p.filter(g=>!!g)):l}}return l},a)};Object.entries(t).forEach(([o,s])=>{if(s!=null){let a=o.match(/^on(.+)/);a?e.addEventListener(a[1].toLowerCase(),s):o==="pBind"?this.setAttributes(e,s):(s=o==="class"?[...new Set(r("class",s))].join(" ").trim():o==="style"?r("style",s).join(";").trim():s,(e.$attrs=e.$attrs||{})&&(e.$attrs[o]=s),e.setAttribute(o,s))}})}}static isFocusableElement(e,t=""){return this.isElement(e)?e.matches(`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t}`):!1}}return i})(),Zr=class{element;listener;scrollableParents;constructor(n,e=()=>{}){this.element=n,this.listener=e}bindScrollListener(){this.scrollableParents=M.getScrollableParents(this.element);for(let n=0;n<this.scrollableParents.length;n++)this.scrollableParents[n].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let n=0;n<this.scrollableParents.length;n++)this.scrollableParents[n].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}};var Mn=(()=>{class i{autofocus=!1;focused=!1;platformId=Me(qt);document=Me(_t);host=Me(ze);ngAfterContentChecked(){this.autofocus===!1?this.host.nativeElement.removeAttribute("autofocus"):this.host.nativeElement.setAttribute("autofocus",!0),this.focused||this.autoFocus()}ngAfterViewChecked(){this.focused||this.autoFocus()}autoFocus(){ht(this.platformId)&&this.autofocus&&setTimeout(()=>{let e=M.getFocusableElements(this.host?.nativeElement);e.length===0&&this.host.nativeElement.focus(),e.length>0&&e[0].focus(),this.focused=!0})}static \u0275fac=function(t){return new(t||i)};static \u0275dir=gt({type:i,selectors:[["","pAutoFocus",""]],hostAttrs:[1,"p-element"],inputs:{autofocus:[2,"autofocus","autofocus",K]},standalone:!0,features:[qe]})}return i})(),Qn=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=Oe({type:i});static \u0275inj=Te({})}return i})();var xee=["*"],St=(()=>{class i{label;spin=!1;styleClass;role;ariaLabel;ariaHidden;ngOnInit(){this.getAttributes()}getAttributes(){let e=fe.isEmpty(this.label);this.role=e?void 0:"img",this.ariaLabel=e?void 0:this.label,this.ariaHidden=e}getClassNames(){return`p-icon ${this.styleClass?this.styleClass+" ":""}${this.spin?"p-icon-spin":""}`}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=ie({type:i,selectors:[["ng-component"]],hostAttrs:[1,"p-element","p-icon-wrapper"],inputs:{label:"label",spin:[2,"spin","spin",K],styleClass:"styleClass"},standalone:!0,features:[qe,lt],ngContentSelectors:xee,decls:1,vars:0,template:function(t,r){t&1&&(Fi(),ii(0))},encapsulation:2,changeDetection:0})}return i})();var gs=(()=>{class i extends St{pathId;ngOnInit(){this.pathId="url(#"+yt()+")"}static \u0275fac=(()=>{let e;return function(r){return(e||(e=tt(i)))(r||i)}})();static \u0275cmp=ie({type:i,selectors:[["SpinnerIcon"]],standalone:!0,features:[ve,lt],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,r){t&1&&(It(),m(0,"svg",0)(1,"g"),O(2,"path",1),_(),m(3,"defs")(4,"clipPath",2),O(5,"rect",3),_()()()),t&2&&(le(r.getClassNames()),V("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),u(),V("clip-path",r.pathId),u(3),h("id",r.pathId))},encapsulation:2})}return i})();var qi=(()=>{class i{document;platformId;renderer;el;zone;config;constructor(e,t,r,o,s,a){this.document=e,this.platformId=t,this.renderer=r,this.el=o,this.zone=s,this.config=a}animationListener;mouseDownListener;timeout;ngAfterViewInit(){ht(this.platformId)&&this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.renderer.listen(this.el.nativeElement,"mousedown",this.onMouseDown.bind(this))})}onMouseDown(e){let t=this.getInk();if(!t||this.document.defaultView?.getComputedStyle(t,null).display==="none")return;if(M.removeClass(t,"p-ink-active"),!M.getHeight(t)&&!M.getWidth(t)){let a=Math.max(M.getOuterWidth(this.el.nativeElement),M.getOuterHeight(this.el.nativeElement));t.style.height=a+"px",t.style.width=a+"px"}let r=M.getOffset(this.el.nativeElement),o=e.pageX-r.left+this.document.body.scrollTop-M.getWidth(t)/2,s=e.pageY-r.top+this.document.body.scrollLeft-M.getHeight(t)/2;this.renderer.setStyle(t,"top",s+"px"),this.renderer.setStyle(t,"left",o+"px"),M.addClass(t,"p-ink-active"),this.timeout=setTimeout(()=>{let a=this.getInk();a&&M.removeClass(a,"p-ink-active")},401)}getInk(){let e=this.el.nativeElement.children;for(let t=0;t<e.length;t++)if(typeof e[t].className=="string"&&e[t].className.indexOf("p-ink")!==-1)return e[t];return null}resetInk(){let e=this.getInk();e&&M.removeClass(e,"p-ink-active")}onAnimationEnd(e){this.timeout&&clearTimeout(this.timeout),M.removeClass(e.currentTarget,"p-ink-active")}create(){let e=this.renderer.createElement("span");this.renderer.addClass(e,"p-ink"),this.renderer.appendChild(this.el.nativeElement,e),this.renderer.setAttribute(e,"aria-hidden","true"),this.renderer.setAttribute(e,"role","presentation"),this.animationListener||(this.animationListener=this.renderer.listen(e,"animationend",this.onAnimationEnd.bind(this)))}remove(){let e=this.getInk();e&&(this.mouseDownListener&&this.mouseDownListener(),this.animationListener&&this.animationListener(),this.mouseDownListener=null,this.animationListener=null,M.removeElement(e))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}static \u0275fac=function(t){return new(t||i)(b(_t),b(qt),b(Ft),b(ze),b(xt),b(Vt,8))};static \u0275dir=gt({type:i,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"],standalone:!0})}return i})(),Qi=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=Oe({type:i});static \u0275inj=Te({})}return i})();var Tee=["*"],B4=i=>({class:i});function Oee(i,n){i&1&&ue(0)}function Dee(i,n){if(i&1&&O(0,"span",8),i&2){let e=f(3);h("ngClass",e.iconClass()),V("aria-hidden",!0)("data-pc-section","loadingicon")}}function Ree(i,n){if(i&1&&O(0,"SpinnerIcon",9),i&2){let e=f(3);h("styleClass",e.spinnerIconClass())("spin",!0),V("aria-hidden",!0)("data-pc-section","loadingicon")}}function Pee(i,n){if(i&1&&(pe(0),I(1,Dee,1,3,"span",6)(2,Ree,1,4,"SpinnerIcon",7),he()),i&2){let e=f(2);u(),h("ngIf",e.loadingIcon),u(),h("ngIf",!e.loadingIcon)}}function kee(i,n){}function Fee(i,n){if(i&1&&I(0,kee,0,0,"ng-template",10),i&2){let e=f(2);h("ngIf",e.loadingIconTemplate)}}function Lee(i,n){if(i&1&&(pe(0),I(1,Pee,3,2,"ng-container",2)(2,Fee,1,1,null,5),he()),i&2){let e=f();u(),h("ngIf",!e.loadingIconTemplate),u(),h("ngTemplateOutlet",e.loadingIconTemplate)("ngTemplateOutletContext",oe(3,B4,e.iconClass()))}}function Mee(i,n){if(i&1&&O(0,"span",8),i&2){let e=f(2);h("ngClass",e.iconClass()),V("data-pc-section","icon")}}function Nee(i,n){}function Vee(i,n){if(i&1&&I(0,Nee,0,0,"ng-template",10),i&2){let e=f(2);h("ngIf",!e.icon&&e.iconTemplate)}}function Bee(i,n){if(i&1&&(pe(0),I(1,Mee,1,2,"span",6)(2,Vee,1,1,null,5),he()),i&2){let e=f();u(),h("ngIf",e.icon&&!e.iconTemplate),u(),h("ngTemplateOutlet",e.iconTemplate)("ngTemplateOutletContext",oe(3,B4,e.iconClass()))}}function Uee(i,n){if(i&1&&(m(0,"span",11),D(1),_()),i&2){let e=f();V("aria-hidden",e.icon&&!e.label)("data-pc-section","label"),u(),$(e.label)}}function jee(i,n){if(i&1&&(m(0,"span",8),D(1),_()),i&2){let e=f();le(e.badgeClass),h("ngClass",e.badgeStyleClass()),V("data-pc-section","badge"),u(),$(e.badge)}}var tu={button:"p-button",component:"p-component",iconOnly:"p-button-icon-only",disabled:"p-disabled",loading:"p-button-loading",labelOnly:"p-button-loading-label-only"},mt=(()=>{class i{el;document;iconPos="left";loadingIcon;get label(){return this._label}set label(e){this._label=e,this.initialized&&(this.updateLabel(),this.updateIcon(),this.setStyleClass())}get icon(){return this._icon}set icon(e){this._icon=e,this.initialized&&(this.updateIcon(),this.setStyleClass())}get loading(){return this._loading}set loading(e){this._loading=e,this.initialized&&(this.updateIcon(),this.setStyleClass())}severity;raised=!1;rounded=!1;text=!1;outlined=!1;size=null;plain=!1;_label;_icon;_loading=!1;initialized;get htmlElement(){return this.el.nativeElement}_internalClasses=Object.values(tu);constructor(e,t){this.el=e,this.document=t}ngAfterViewInit(){M.addMultipleClasses(this.htmlElement,this.getStyleClass().join(" ")),this.createIcon(),this.createLabel(),this.initialized=!0}getStyleClass(){let e=[tu.button,tu.component];return this.icon&&!this.label&&fe.isEmpty(this.htmlElement.textContent)&&e.push(tu.iconOnly),this.loading&&(e.push(tu.disabled,tu.loading),!this.icon&&this.label&&e.push(tu.labelOnly),this.icon&&!this.label&&!fe.isEmpty(this.htmlElement.textContent)&&e.push(tu.iconOnly)),this.text&&e.push("p-button-text"),this.severity&&e.push(`p-button-${this.severity}`),this.plain&&e.push("p-button-plain"),this.raised&&e.push("p-button-raised"),this.size&&e.push(`p-button-${this.size}`),this.outlined&&e.push("p-button-outlined"),this.rounded&&e.push("p-button-rounded"),this.size==="small"&&e.push("p-button-sm"),this.size==="large"&&e.push("p-button-lg"),e}setStyleClass(){let e=this.getStyleClass();this.htmlElement.classList.remove(...this._internalClasses),this.htmlElement.classList.add(...e)}createLabel(){if(!M.findSingle(this.htmlElement,".p-button-label")&&this.label){let t=this.document.createElement("span");this.icon&&!this.label&&t.setAttribute("aria-hidden","true"),t.className="p-button-label",t.appendChild(this.document.createTextNode(this.label)),this.htmlElement.appendChild(t)}}createIcon(){if(!M.findSingle(this.htmlElement,".p-button-icon")&&(this.icon||this.loading)){let t=this.document.createElement("span");t.className="p-button-icon",t.setAttribute("aria-hidden","true");let r=this.label?"p-button-icon-"+this.iconPos:null;r&&M.addClass(t,r);let o=this.getIconClass();o&&M.addMultipleClasses(t,o),this.htmlElement.insertBefore(t,this.htmlElement.firstChild)}}updateLabel(){let e=M.findSingle(this.htmlElement,".p-button-label");if(!this.label){e&&this.htmlElement.removeChild(e);return}e?e.textContent=this.label:this.createLabel()}updateIcon(){let e=M.findSingle(this.htmlElement,".p-button-icon"),t=M.findSingle(this.htmlElement,".p-button-label");e?this.iconPos?e.className="p-button-icon "+(t?"p-button-icon-"+this.iconPos:"")+" "+this.getIconClass():e.className="p-button-icon "+this.getIconClass():this.createIcon()}getIconClass(){return this.loading?"p-button-loading-icon pi-spin "+(this.loadingIcon??"pi pi-spinner"):this.icon||"p-hidden"}ngOnDestroy(){this.initialized=!1}static \u0275fac=function(t){return new(t||i)(b(ze),b(_t))};static \u0275dir=gt({type:i,selectors:[["","pButton",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading",severity:"severity",raised:[2,"raised","raised",K],rounded:[2,"rounded","rounded",K],text:[2,"text","text",K],outlined:[2,"outlined","outlined",K],size:"size",plain:[2,"plain","plain",K]},standalone:!0,features:[qe]})}return i})(),vT=(()=>{class i{el;type="button";iconPos="left";icon;badge;label;disabled;loading=!1;loadingIcon;raised=!1;rounded=!1;text=!1;plain=!1;severity;outlined=!1;link=!1;tabindex;size;style;styleClass;badgeClass;ariaLabel;autofocus;onClick=new Q;onFocus=new Q;onBlur=new Q;contentTemplate;loadingIconTemplate;iconTemplate;templates;constructor(e){this.el=e}spinnerIconClass(){return Object.entries(this.iconClass()).filter(([,e])=>!!e).reduce((e,[t])=>e+` ${t}`,"p-button-loading-icon")}iconClass(){let e={"p-button-icon":!0,"p-button-icon-left":this.iconPos==="left"&&this.label,"p-button-icon-right":this.iconPos==="right"&&this.label,"p-button-icon-top":this.iconPos==="top"&&this.label,"p-button-icon-bottom":this.iconPos==="bottom"&&this.label};return this.loading?e[`p-button-loading-icon pi-spin ${this.loadingIcon??""}`]=!0:this.icon&&(e[this.icon]=!0),e}get buttonClass(){return{"p-button p-component":!0,"p-button-icon-only":(this.icon||this.iconTemplate||this.loadingIcon||this.loadingIconTemplate)&&!this.label,"p-button-vertical":(this.iconPos==="top"||this.iconPos==="bottom")&&this.label,"p-button-loading":this.loading,"p-button-loading-label-only":this.loading&&!this.icon&&this.label&&!this.loadingIcon&&this.iconPos==="left","p-button-link":this.link,[`p-button-${this.severity}`]:this.severity,"p-button-raised":this.raised,"p-button-rounded":this.rounded,"p-button-text":this.text,"p-button-outlined":this.outlined,"p-button-sm":this.size==="small","p-button-lg":this.size==="large","p-button-plain":this.plain,[`${this.styleClass}`]:this.styleClass}}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;case"icon":this.iconTemplate=e.template;break;case"loadingicon":this.loadingIconTemplate=e.template;break;default:this.contentTemplate=e.template;break}})}badgeStyleClass(){return{"p-badge p-component":!0,"p-badge-no-gutter":this.badge&&String(this.badge).length===1}}focus(){this.el.nativeElement.firstChild.focus()}static \u0275fac=function(t){return new(t||i)(b(ze))};static \u0275cmp=ie({type:i,selectors:[["p-button"]],contentQueries:function(t,r,o){if(t&1&&ot(o,be,4),t&2){let s;ee(s=te())&&(r.templates=s)}},hostAttrs:[1,"p-element"],hostVars:2,hostBindings:function(t,r){t&2&&yn("p-disabled",r.disabled)},inputs:{type:"type",iconPos:"iconPos",icon:"icon",badge:"badge",label:"label",disabled:[2,"disabled","disabled",K],loading:[2,"loading","loading",K],loadingIcon:"loadingIcon",raised:[2,"raised","raised",K],rounded:[2,"rounded","rounded",K],text:[2,"text","text",K],plain:[2,"plain","plain",K],severity:"severity",outlined:[2,"outlined","outlined",K],link:[2,"link","link",K],tabindex:[2,"tabindex","tabindex",ke],size:"size",style:"style",styleClass:"styleClass",badgeClass:"badgeClass",ariaLabel:"ariaLabel",autofocus:[2,"autofocus","autofocus",K]},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},standalone:!0,features:[qe,lt],ngContentSelectors:Tee,decls:7,vars:14,consts:[["pRipple","","pAutoFocus","",3,"click","focus","blur","ngStyle","disabled","ngClass","autofocus"],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","p-button-label",4,"ngIf"],[3,"ngClass","class",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass",4,"ngIf"],[3,"styleClass","spin",4,"ngIf"],[3,"ngClass"],[3,"styleClass","spin"],[3,"ngIf"],[1,"p-button-label"]],template:function(t,r){t&1&&(Fi(),m(0,"button",0),P("click",function(s){return r.onClick.emit(s)})("focus",function(s){return r.onFocus.emit(s)})("blur",function(s){return r.onBlur.emit(s)}),ii(1),I(2,Oee,1,0,"ng-container",1)(3,Lee,3,5,"ng-container",2)(4,Bee,3,5,"ng-container",2)(5,Uee,2,3,"span",3)(6,jee,2,5,"span",4),_()),t&2&&(h("ngStyle",r.style)("disabled",r.disabled||r.loading)("ngClass",r.buttonClass)("autofocus",r.autofocus),V("type",r.type)("aria-label",r.ariaLabel)("data-pc-name","button")("data-pc-section","root")("tabindex",r.tabindex),u(2),h("ngTemplateOutlet",r.contentTemplate),u(),h("ngIf",r.loading),u(),h("ngIf",!r.loading),u(),h("ngIf",!r.contentTemplate&&r.label),u(),h("ngIf",!r.contentTemplate&&r.badge))},dependencies:[et,st,Ee,Ge,qi,Mn,gs],encapsulation:2,changeDetection:0})}return i})(),Gr=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=Oe({type:i});static \u0275inj=Te({imports:[vT,nt]})}return i})();var On=(()=>{class i{el;ngModel;cd;config;variant="outlined";filled;constructor(e,t,r,o){this.el=e,this.ngModel=t,this.cd=r,this.config=o}ngAfterViewInit(){this.updateFilledState(),this.cd.detectChanges()}ngDoCheck(){this.updateFilledState()}onInput(){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}static \u0275fac=function(t){return new(t||i)(b(ze),b(Gn,8),b(Ie),b(Vt))};static \u0275dir=gt({type:i,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:4,hostBindings:function(t,r){t&1&&P("input",function(s){return r.onInput(s)}),t&2&&yn("p-filled",r.filled)("p-variant-filled",r.variant==="filled"||r.config.inputStyle()==="filled")},inputs:{variant:"variant"}})}return i})(),Oa=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=Oe({type:i});static \u0275inj=Te({imports:[Ye]})}return i})();var eo=(()=>{class i{styleClass;style;strokeWidth="2";fill="none";animationDuration="2s";ariaLabel;static \u0275fac=function(t){return new(t||i)};static \u0275cmp=ie({type:i,selectors:[["p-progressSpinner"]],hostAttrs:[1,"p-element"],inputs:{styleClass:"styleClass",style:"style",strokeWidth:"strokeWidth",fill:"fill",animationDuration:"animationDuration",ariaLabel:"ariaLabel"},decls:3,vars:11,consts:[["role","progressbar",1,"p-progress-spinner",3,"ngStyle","ngClass"],["viewBox","25 25 50 50",1,"p-progress-spinner-svg"],["cx","50","cy","50","r","20","stroke-miterlimit","10",1,"p-progress-spinner-circle"]],template:function(t,r){t&1&&(m(0,"div",0),It(),m(1,"svg",1),O(2,"circle",2),_()()),t&2&&(h("ngStyle",r.style)("ngClass",r.styleClass),V("aria-label",r.ariaLabel)("aria-busy",!0)("data-pc-name","progressspinner")("data-pc-section","root"),u(),Fn("animation-duration",r.animationDuration),V("data-pc-section","root"),u(),V("fill",r.fill)("stroke-width",r.strokeWidth))},dependencies:[Ge,Ee],styles:[`@layer primeng{.p-progress-spinner{position:relative;margin:0 auto;width:100px;height:100px;display:inline-block}.p-progress-spinner:before{content:"";display:block;padding-top:100%}.p-progress-spinner-svg{animation:p-progress-spinner-rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;inset:0;margin:auto}.p-progress-spinner-circle{stroke-dasharray:89,200;stroke-dashoffset:0;stroke:#d62d20;animation:p-progress-spinner-dash 1.5s ease-in-out infinite,p-progress-spinner-color 6s ease-in-out infinite;stroke-linecap:round}}@keyframes p-progress-spinner-rotate{to{transform:rotate(360deg)}}@keyframes p-progress-spinner-dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35px}to{stroke-dasharray:89,200;stroke-dashoffset:-124px}}@keyframes p-progress-spinner-color{to,0%{stroke:#d62d20}40%{stroke:#0057e7}66%{stroke:#008744}80%,90%{stroke:#ffa700}}
`],encapsulation:2,changeDetection:0})}return i})(),bT=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=Oe({type:i});static \u0275inj=Te({imports:[Ye]})}return i})();var Da=function(i){return i[i.State=0]="State",i[i.Transition=1]="Transition",i[i.Sequence=2]="Sequence",i[i.Group=3]="Group",i[i.Animate=4]="Animate",i[i.Keyframes=5]="Keyframes",i[i.Style=6]="Style",i[i.Trigger=7]="Trigger",i[i.Reference=8]="Reference",i[i.AnimateChild=9]="AnimateChild",i[i.AnimateRef=10]="AnimateRef",i[i.Query=11]="Query",i[i.Stagger=12]="Stagger",i}(Da||{}),Qit="*";function hn(i,n){return{type:Da.Trigger,name:i,definitions:n,options:{}}}function Jt(i,n=null){return{type:Da.Animate,styles:n,timings:i}}function Zit(i,n=null){return{type:Da.Sequence,steps:i,options:n}}function jt(i){return{type:Da.Style,styles:i,offset:null}}function Lr(i,n,e){return{type:Da.State,name:i,styles:n,options:e}}function Xt(i,n,e=null){return{type:Da.Transition,expr:i,animation:n,options:e}}function Ra(i,n=null){return{type:Da.Reference,animation:i,options:n}}function ent(i=null){return{type:Da.AnimateChild,options:i}}function Pa(i,n=null){return{type:Da.AnimateRef,animation:i,options:n}}function H4(i,n,e=null){return{type:Da.Query,selector:i,animation:n,options:e}}function G4(i,n){return{type:Da.Stagger,timings:i,animation:n}}var U4=class{constructor(n=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=n+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(n){this._position=this.totalTime?n*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(n){let e=n=="start"?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}},j4=class{constructor(n){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=n;let e=0,t=0,r=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++e==o&&this._onFinish()}),s.onDestroy(()=>{++t==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this.players.forEach(n=>n.init())}onStart(n){this._onStartFns.push(n)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(n=>n()),this._onStartFns=[])}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(n=>n.play())}pause(){this.players.forEach(n=>n.pause())}restart(){this.players.forEach(n=>n.restart())}finish(){this._onFinish(),this.players.forEach(n=>n.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(n=>n.destroy()),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this.players.forEach(n=>n.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(n){let e=n*this.totalTime;this.players.forEach(t=>{let r=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(r)})}getPosition(){let n=this.players.reduce((e,t)=>e===null||t.totalTime>e.totalTime?t:e,null);return n!=null?n.getPosition():0}beforeDestroy(){this.players.forEach(n=>{n.beforeDestroy&&n.beforeDestroy()})}triggerCallback(n){let e=n=="start"?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}},tnt="!";var nv=(()=>{class i{pFocusTrapDisabled=!1;platformId=Me(qt);host=Me(ze);document=Me(_t);firstHiddenFocusableElement;lastHiddenFocusableElement;ngOnInit(){ht(this.platformId)&&!this.pFocusTrapDisabled&&!this.firstHiddenFocusableElement&&!this.lastHiddenFocusableElement&&this.createHiddenFocusableElements()}ngOnChanges(e){e.pFocusTrapDisabled&&ht(this.platformId)&&(e.pFocusTrapDisabled.currentValue?this.removeHiddenFocusableElements():this.createHiddenFocusableElements())}removeHiddenFocusableElements(){this.firstHiddenFocusableElement&&this.firstHiddenFocusableElement.parentNode&&this.firstHiddenFocusableElement.parentNode.removeChild(this.firstHiddenFocusableElement),this.lastHiddenFocusableElement&&this.lastHiddenFocusableElement.parentNode&&this.lastHiddenFocusableElement.parentNode.removeChild(this.lastHiddenFocusableElement)}getComputedSelector(e){return`:not(.p-hidden-focusable):not([data-p-hidden-focusable="true"])${e??""}`}createHiddenFocusableElements(){let e="0",t=r=>M.createElement("span",{class:"p-hidden-accessible p-hidden-focusable",tabindex:e,role:"presentation","data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0,onFocus:r?.bind(this)});this.firstHiddenFocusableElement=t(this.onFirstHiddenElementFocus),this.lastHiddenFocusableElement=t(this.onLastHiddenElementFocus),this.firstHiddenFocusableElement.setAttribute("data-pc-section","firstfocusableelement"),this.lastHiddenFocusableElement.setAttribute("data-pc-section","lastfocusableelement"),this.host.nativeElement.prepend(this.firstHiddenFocusableElement),this.host.nativeElement.append(this.lastHiddenFocusableElement)}onFirstHiddenElementFocus(e){let{currentTarget:t,relatedTarget:r}=e,o=r===this.lastHiddenFocusableElement||!this.host.nativeElement?.contains(r)?M.getFirstFocusableElement(t.parentElement,":not(.p-hidden-focusable)"):this.lastHiddenFocusableElement;M.focus(o)}onLastHiddenElementFocus(e){let{currentTarget:t,relatedTarget:r}=e,o=r===this.firstHiddenFocusableElement||!this.host.nativeElement?.contains(r)?M.getLastFocusableElement(t.parentElement,":not(.p-hidden-focusable)"):this.firstHiddenFocusableElement;M.focus(o)}static \u0275fac=function(t){return new(t||i)};static \u0275dir=gt({type:i,selectors:[["","pFocusTrap",""]],hostAttrs:[1,"p-element"],inputs:{pFocusTrapDisabled:[2,"pFocusTrapDisabled","pFocusTrapDisabled",K]},features:[qe,en]})}return i})(),rv=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=Oe({type:i});static \u0275inj=Te({imports:[Ye]})}return i})();var Li=(()=>{class i extends St{static \u0275fac=(()=>{let e;return function(r){return(e||(e=tt(i)))(r||i)}})();static \u0275cmp=ie({type:i,selectors:[["TimesIcon"]],standalone:!0,features:[ve,lt],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z","fill","currentColor"]],template:function(t,r){t&1&&(It(),m(0,"svg",0),O(1,"path",1),_()),t&2&&(le(r.getClassNames()),V("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return i})();var mf=(()=>{class i extends St{pathId;ngOnInit(){this.pathId="url(#"+yt()+")"}static \u0275fac=(()=>{let e;return function(r){return(e||(e=tt(i)))(r||i)}})();static \u0275cmp=ie({type:i,selectors:[["WindowMaximizeIcon"]],standalone:!0,features:[ve,lt],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M7 14H11.8C12.3835 14 12.9431 13.7682 13.3556 13.3556C13.7682 12.9431 14 12.3835 14 11.8V2.2C14 1.61652 13.7682 1.05694 13.3556 0.644365C12.9431 0.231785 12.3835 0 11.8 0H2.2C1.61652 0 1.05694 0.231785 0.644365 0.644365C0.231785 1.05694 0 1.61652 0 2.2V7C0 7.15913 0.063214 7.31174 0.175736 7.42426C0.288258 7.53679 0.44087 7.6 0.6 7.6C0.75913 7.6 0.911742 7.53679 1.02426 7.42426C1.13679 7.31174 1.2 7.15913 1.2 7V2.2C1.2 1.93478 1.30536 1.68043 1.49289 1.49289C1.68043 1.30536 1.93478 1.2 2.2 1.2H11.8C12.0652 1.2 12.3196 1.30536 12.5071 1.49289C12.6946 1.68043 12.8 1.93478 12.8 2.2V11.8C12.8 12.0652 12.6946 12.3196 12.5071 12.5071C12.3196 12.6946 12.0652 12.8 11.8 12.8H7C6.84087 12.8 6.68826 12.8632 6.57574 12.9757C6.46321 13.0883 6.4 13.2409 6.4 13.4C6.4 13.5591 6.46321 13.7117 6.57574 13.8243C6.68826 13.9368 6.84087 14 7 14ZM9.77805 7.42192C9.89013 7.534 10.0415 7.59788 10.2 7.59995C10.3585 7.59788 10.5099 7.534 10.622 7.42192C10.7341 7.30985 10.798 7.15844 10.8 6.99995V3.94242C10.8066 3.90505 10.8096 3.86689 10.8089 3.82843C10.8079 3.77159 10.7988 3.7157 10.7824 3.6623C10.756 3.55552 10.701 3.45698 10.622 3.37798C10.5099 3.2659 10.3585 3.20202 10.2 3.19995H7.00002C6.84089 3.19995 6.68828 3.26317 6.57576 3.37569C6.46324 3.48821 6.40002 3.64082 6.40002 3.79995C6.40002 3.95908 6.46324 4.11169 6.57576 4.22422C6.68828 4.33674 6.84089 4.39995 7.00002 4.39995H8.80006L6.19997 7.00005C6.10158 7.11005 6.04718 7.25246 6.04718 7.40005C6.04718 7.54763 6.10158 7.69004 6.19997 7.80005C6.30202 7.91645 6.44561 7.98824 6.59997 8.00005C6.75432 7.98824 6.89791 7.91645 6.99997 7.80005L9.60002 5.26841V6.99995C9.6021 7.15844 9.66598 7.30985 9.77805 7.42192ZM1.4 14H3.8C4.17066 13.9979 4.52553 13.8498 4.78763 13.5877C5.04973 13.3256 5.1979 12.9707 5.2 12.6V10.2C5.1979 9.82939 5.04973 9.47452 4.78763 9.21242C4.52553 8.95032 4.17066 8.80215 3.8 8.80005H1.4C1.02934 8.80215 0.674468 8.95032 0.412371 9.21242C0.150274 9.47452 0.00210008 9.82939 0 10.2V12.6C0.00210008 12.9707 0.150274 13.3256 0.412371 13.5877C0.674468 13.8498 1.02934 13.9979 1.4 14ZM1.25858 10.0586C1.29609 10.0211 1.34696 10 1.4 10H3.8C3.85304 10 3.90391 10.0211 3.94142 10.0586C3.97893 10.0961 4 10.147 4 10.2V12.6C4 12.6531 3.97893 12.704 3.94142 12.7415C3.90391 12.779 3.85304 12.8 3.8 12.8H1.4C1.34696 12.8 1.29609 12.779 1.25858 12.7415C1.22107 12.704 1.2 12.6531 1.2 12.6V10.2C1.2 10.147 1.22107 10.0961 1.25858 10.0586Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,r){t&1&&(It(),m(0,"svg",0)(1,"g"),O(2,"path",1),_(),m(3,"defs")(4,"clipPath",2),O(5,"rect",3),_()()()),t&2&&(le(r.getClassNames()),V("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),u(),V("clip-path",r.pathId),u(3),h("id",r.pathId))},encapsulation:2})}return i})();var gf=(()=>{class i extends St{pathId;ngOnInit(){this.pathId="url(#"+yt()+")"}static \u0275fac=(()=>{let e;return function(r){return(e||(e=tt(i)))(r||i)}})();static \u0275cmp=ie({type:i,selectors:[["WindowMinimizeIcon"]],standalone:!0,features:[ve,lt],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M11.8 0H2.2C1.61652 0 1.05694 0.231785 0.644365 0.644365C0.231785 1.05694 0 1.61652 0 2.2V7C0 7.15913 0.063214 7.31174 0.175736 7.42426C0.288258 7.53679 0.44087 7.6 0.6 7.6C0.75913 7.6 0.911742 7.53679 1.02426 7.42426C1.13679 7.31174 1.2 7.15913 1.2 7V2.2C1.2 1.93478 1.30536 1.68043 1.49289 1.49289C1.68043 1.30536 1.93478 1.2 2.2 1.2H11.8C12.0652 1.2 12.3196 1.30536 12.5071 1.49289C12.6946 1.68043 12.8 1.93478 12.8 2.2V11.8C12.8 12.0652 12.6946 12.3196 12.5071 12.5071C12.3196 12.6946 12.0652 12.8 11.8 12.8H7C6.84087 12.8 6.68826 12.8632 6.57574 12.9757C6.46321 13.0883 6.4 13.2409 6.4 13.4C6.4 13.5591 6.46321 13.7117 6.57574 13.8243C6.68826 13.9368 6.84087 14 7 14H11.8C12.3835 14 12.9431 13.7682 13.3556 13.3556C13.7682 12.9431 14 12.3835 14 11.8V2.2C14 1.61652 13.7682 1.05694 13.3556 0.644365C12.9431 0.231785 12.3835 0 11.8 0ZM6.368 7.952C6.44137 7.98326 6.52025 7.99958 6.6 8H9.8C9.95913 8 10.1117 7.93678 10.2243 7.82426C10.3368 7.71174 10.4 7.55913 10.4 7.4C10.4 7.24087 10.3368 7.08826 10.2243 6.97574C10.1117 6.86321 9.95913 6.8 9.8 6.8H8.048L10.624 4.224C10.73 4.11026 10.7877 3.95982 10.7849 3.80438C10.7822 3.64894 10.7192 3.50063 10.6093 3.3907C10.4994 3.28077 10.3511 3.2178 10.1956 3.21506C10.0402 3.21232 9.88974 3.27002 9.776 3.376L7.2 5.952V4.2C7.2 4.04087 7.13679 3.88826 7.02426 3.77574C6.91174 3.66321 6.75913 3.6 6.6 3.6C6.44087 3.6 6.28826 3.66321 6.17574 3.77574C6.06321 3.88826 6 4.04087 6 4.2V7.4C6.00042 7.47975 6.01674 7.55862 6.048 7.632C6.07656 7.70442 6.11971 7.7702 6.17475 7.82524C6.2298 7.88029 6.29558 7.92344 6.368 7.952ZM1.4 8.80005H3.8C4.17066 8.80215 4.52553 8.95032 4.78763 9.21242C5.04973 9.47452 5.1979 9.82939 5.2 10.2V12.6C5.1979 12.9707 5.04973 13.3256 4.78763 13.5877C4.52553 13.8498 4.17066 13.9979 3.8 14H1.4C1.02934 13.9979 0.674468 13.8498 0.412371 13.5877C0.150274 13.3256 0.00210008 12.9707 0 12.6V10.2C0.00210008 9.82939 0.150274 9.47452 0.412371 9.21242C0.674468 8.95032 1.02934 8.80215 1.4 8.80005ZM3.94142 12.7415C3.97893 12.704 4 12.6531 4 12.6V10.2C4 10.147 3.97893 10.0961 3.94142 10.0586C3.90391 10.0211 3.85304 10 3.8 10H1.4C1.34696 10 1.29609 10.0211 1.25858 10.0586C1.22107 10.0961 1.2 10.147 1.2 10.2V12.6C1.2 12.6531 1.22107 12.704 1.25858 12.7415C1.29609 12.779 1.34696 12.8 1.4 12.8H3.8C3.85304 12.8 3.90391 12.779 3.94142 12.7415Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,r){t&1&&(It(),m(0,"svg",0)(1,"g"),O(2,"path",1),_(),m(3,"defs")(4,"clipPath",2),O(5,"rect",3),_()()()),t&2&&(le(r.getClassNames()),V("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),u(),V("clip-path",r.pathId),u(3),h("id",r.pathId))},encapsulation:2})}return i})();var Hee=["titlebar"],Gee=["content"],zee=["footer"],Wee=["*",[["p-header"]],[["p-footer"]]],Kee=["*","p-header","p-footer"],$ee=(i,n,e,t,r,o,s,a,l,c)=>({"p-dialog-mask":!0,"p-component-overlay p-component-overlay-enter":i,"p-dialog-mask-scrollblocker":n,"p-dialog-left":e,"p-dialog-right":t,"p-dialog-top":r,"p-dialog-top-left":o,"p-dialog-top-right":s,"p-dialog-bottom":a,"p-dialog-bottom-left":l,"p-dialog-bottom-right":c}),qee=(i,n,e,t)=>({"p-dialog p-component":!0,"p-dialog-rtl":i,"p-dialog-draggable":n,"p-dialog-resizable":e,"p-dialog-maximized":t}),Yee=(i,n)=>({transform:i,transition:n}),Jee=i=>({value:"visible",params:i}),Xee=()=>({"p-dialog-header-icon p-dialog-header-maximize p-link":!0}),Qee=()=>({"p-dialog-header-icon p-dialog-header-close p-link":!0}),Zee=()=>({"min-width":0});function ete(i,n){i&1&&ue(0)}function tte(i,n){if(i&1&&(pe(0),I(1,ete,1,0,"ng-container",10),he()),i&2){let e=f(3);u(),h("ngTemplateOutlet",e.headlessTemplate)}}function ite(i,n){if(i&1){let e=B();m(0,"div",15),P("mousedown",function(r){S(e);let o=f(4);return A(o.initResize(r))}),_()}}function nte(i,n){if(i&1&&(m(0,"span",21),D(1),_()),i&2){let e=f(5);h("id",e.ariaLabelledBy),u(),$(e.header)}}function rte(i,n){if(i&1&&(m(0,"span",21),ii(1,1),_()),i&2){let e=f(5);h("id",e.ariaLabelledBy)}}function ote(i,n){i&1&&ue(0)}function ste(i,n){if(i&1&&O(0,"span",25),i&2){let e=f(6);h("ngClass",e.maximized?e.minimizeIcon:e.maximizeIcon)}}function ate(i,n){i&1&&O(0,"WindowMaximizeIcon",27),i&2&&h("styleClass","p-dialog-header-maximize-icon")}function lte(i,n){i&1&&O(0,"WindowMinimizeIcon",27),i&2&&h("styleClass","p-dialog-header-maximize-icon")}function cte(i,n){if(i&1&&(pe(0),I(1,ate,1,1,"WindowMaximizeIcon",26)(2,lte,1,1,"WindowMinimizeIcon",26),he()),i&2){let e=f(6);u(),h("ngIf",!e.maximized&&!e.maximizeIconTemplate),u(),h("ngIf",e.maximized&&!e.minimizeIconTemplate)}}function dte(i,n){}function ute(i,n){i&1&&I(0,dte,0,0,"ng-template")}function pte(i,n){if(i&1&&(pe(0),I(1,ute,1,0,null,10),he()),i&2){let e=f(6);u(),h("ngTemplateOutlet",e.maximizeIconTemplate)}}function hte(i,n){}function fte(i,n){i&1&&I(0,hte,0,0,"ng-template")}function mte(i,n){if(i&1&&(pe(0),I(1,fte,1,0,null,10),he()),i&2){let e=f(6);u(),h("ngTemplateOutlet",e.minimizeIconTemplate)}}function gte(i,n){if(i&1){let e=B();m(0,"button",22),P("click",function(){S(e);let r=f(5);return A(r.maximize())})("keydown.enter",function(){S(e);let r=f(5);return A(r.maximize())}),I(1,ste,1,1,"span",23)(2,cte,3,2,"ng-container",24)(3,pte,2,1,"ng-container",24)(4,mte,2,1,"ng-container",24),_()}if(i&2){let e=f(5);h("ngClass",Ae(7,Xee)),V("tabindex",e.maximizable?"0":"-1")("aria-label",e.maximizeLabel),u(),h("ngIf",e.maximizeIcon&&!e.maximizeIconTemplate&&!e.minimizeIconTemplate),u(),h("ngIf",!e.maximizeIcon),u(),h("ngIf",!e.maximized),u(),h("ngIf",e.maximized)}}function _te(i,n){if(i&1&&O(0,"span",30),i&2){let e=f(7);h("ngClass",e.closeIcon)}}function Cte(i,n){i&1&&O(0,"TimesIcon",27),i&2&&h("styleClass","p-dialog-header-close-icon")}function yte(i,n){if(i&1&&(pe(0),I(1,_te,1,1,"span",29)(2,Cte,1,1,"TimesIcon",26),he()),i&2){let e=f(6);u(),h("ngIf",e.closeIcon),u(),h("ngIf",!e.closeIcon)}}function Ite(i,n){}function vte(i,n){i&1&&I(0,Ite,0,0,"ng-template")}function bte(i,n){if(i&1&&(m(0,"span"),I(1,vte,1,0,null,10),_()),i&2){let e=f(6);u(),h("ngTemplateOutlet",e.closeIconTemplate)}}function wte(i,n){if(i&1){let e=B();m(0,"button",28),P("click",function(r){S(e);let o=f(5);return A(o.close(r))})("keydown.enter",function(r){S(e);let o=f(5);return A(o.close(r))}),I(1,yte,3,2,"ng-container",24)(2,bte,2,1,"span",24),_()}if(i&2){let e=f(5);h("ngClass",Ae(6,Qee))("ngStyle",Ae(7,Zee)),V("aria-label",e.closeAriaLabel)("tabindex",e.closeTabindex),u(),h("ngIf",!e.closeIconTemplate),u(),h("ngIf",e.closeIconTemplate)}}function Ste(i,n){if(i&1){let e=B();m(0,"div",16,3),P("mousedown",function(r){S(e);let o=f(4);return A(o.initDrag(r))}),I(2,nte,2,2,"span",17)(3,rte,2,1,"span",17)(4,ote,1,0,"ng-container",10),m(5,"div",18),I(6,gte,5,8,"button",19)(7,wte,3,8,"button",20),_()()}if(i&2){let e=f(4);u(2),h("ngIf",!e.headerFacet&&!e.headerTemplate),u(),h("ngIf",e.headerFacet),u(),h("ngTemplateOutlet",e.headerTemplate),u(2),h("ngIf",e.maximizable),u(),h("ngIf",e.closable)}}function Ate(i,n){i&1&&ue(0)}function Ete(i,n){i&1&&ue(0)}function xte(i,n){if(i&1&&(m(0,"div",31,4),ii(2,2),I(3,Ete,1,0,"ng-container",10),_()),i&2){let e=f(4);u(3),h("ngTemplateOutlet",e.footerTemplate)}}function Tte(i,n){if(i&1&&(I(0,ite,1,0,"div",11)(1,Ste,8,5,"div",12),m(2,"div",13,2),ii(4),I(5,Ate,1,0,"ng-container",10),_(),I(6,xte,4,1,"div",14)),i&2){let e=f(3);h("ngIf",e.resizable),u(),h("ngIf",e.showHeader),u(),le(e.contentStyleClass),h("ngClass","p-dialog-content")("ngStyle",e.contentStyle),u(3),h("ngTemplateOutlet",e.contentTemplate),u(),h("ngIf",e.footerFacet||e.footerTemplate)}}function Ote(i,n){if(i&1){let e=B();m(0,"div",8,0),P("@animation.start",function(r){S(e);let o=f(2);return A(o.onAnimationStart(r))})("@animation.done",function(r){S(e);let o=f(2);return A(o.onAnimationEnd(r))}),I(2,tte,2,1,"ng-container",9)(3,Tte,7,8,"ng-template",null,1,Pt),_()}if(i&2){let e=We(4),t=f(2);le(t.styleClass),h("ngClass",dr(10,qee,t.rtl,t.draggable,t.resizable,t.maximized))("ngStyle",t.style)("pFocusTrapDisabled",t.focusTrap===!1)("@animation",oe(18,Jee,Je(15,Yee,t.transformOptions,t.transitionOptions))),V("aria-labelledby",t.ariaLabelledBy)("aria-modal",!0),u(2),h("ngIf",t.headlessTemplate)("ngIfElse",e)}}function Dte(i,n){if(i&1&&(m(0,"div",6),I(1,Ote,5,20,"div",7),_()),i&2){let e=f();le(e.maskStyleClass),h("ngStyle",e.maskStyle)("ngClass",Tp(5,$ee,[e.modal,e.modal||e.blockScroll,e.position==="left",e.position==="right",e.position==="top",e.position==="topleft"||e.position==="top-left",e.position==="topright"||e.position==="top-right",e.position==="bottom",e.position==="bottomleft"||e.position==="bottom-left",e.position==="bottomright"||e.position==="bottom-right"])),u(),h("ngIf",e.visible)}}var Rte=Ra([jt({transform:"{{transform}}",opacity:0}),Jt("{{transition}}")]),Pte=Ra([Jt("{{transition}}",jt({transform:"{{transform}}",opacity:0}))]),ni=(()=>{class i{document;platformId;el;renderer;zone;cd;config;header;draggable=!0;resizable=!0;get positionLeft(){return 0}set positionLeft(e){console.log("positionLeft property is deprecated.")}get positionTop(){return 0}set positionTop(e){console.log("positionTop property is deprecated.")}contentStyle;contentStyleClass;modal=!1;closeOnEscape=!0;dismissableMask=!1;rtl=!1;closable=!0;get responsive(){return!1}set responsive(e){console.log("Responsive property is deprecated.")}appendTo;breakpoints;styleClass;maskStyleClass;maskStyle;showHeader=!0;get breakpoint(){return 649}set breakpoint(e){console.log("Breakpoint property is not utilized and deprecated, use breakpoints or CSS media queries instead.")}blockScroll=!1;autoZIndex=!0;baseZIndex=0;minX=0;minY=0;focusOnShow=!0;maximizable=!1;keepInViewport=!0;focusTrap=!0;transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)";closeIcon;closeAriaLabel;closeTabindex="0";minimizeIcon;maximizeIcon;get visible(){return this._visible}set visible(e){this._visible=e,this._visible&&!this.maskVisible&&(this.maskVisible=!0)}get style(){return this._style}set style(e){e&&(this._style=re({},e),this.originalStyle=e)}get position(){return this._position}set position(e){switch(this._position=e,e){case"topleft":case"bottomleft":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"topright":case"bottomright":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)";break}}onShow=new Q;onHide=new Q;visibleChange=new Q;onResizeInit=new Q;onResizeEnd=new Q;onDragEnd=new Q;onMaximize=new Q;headerFacet;footerFacet;templates;headerViewChild;contentViewChild;footerViewChild;headerTemplate;contentTemplate;footerTemplate;maximizeIconTemplate;closeIconTemplate;minimizeIconTemplate;headlessTemplate;_visible=!1;maskVisible;container;wrapper;dragging;ariaLabelledBy=this.getAriaLabelledBy();documentDragListener;documentDragEndListener;resizing;documentResizeListener;documentResizeEndListener;documentEscapeListener;maskClickListener;lastPageX;lastPageY;preventVisibleChangePropagation;maximized;preMaximizeContentHeight;preMaximizeContainerWidth;preMaximizeContainerHeight;preMaximizePageX;preMaximizePageY;id=yt();_style={};_position="center";originalStyle;transformOptions="scale(0.7)";styleElement;window;get maximizeLabel(){return this.config.getTranslation(bi.ARIA).maximizeLabel}constructor(e,t,r,o,s,a,l){this.document=e,this.platformId=t,this.el=r,this.renderer=o,this.zone=s,this.cd=a,this.config=l,this.window=this.document.defaultView}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"header":this.headerTemplate=e.template;break;case"content":this.contentTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"closeicon":this.closeIconTemplate=e.template;break;case"maximizeicon":this.maximizeIconTemplate=e.template;break;case"minimizeicon":this.minimizeIconTemplate=e.template;break;case"headless":this.headlessTemplate=e.template;break;default:this.contentTemplate=e.template;break}})}ngOnInit(){this.breakpoints&&this.createStyle()}getAriaLabelledBy(){return this.header!==null?yt()+"_header":null}parseDurationToMilliseconds(e){let t=/([\d\.]+)(ms|s)\b/g,r=0,o;for(;(o=t.exec(e))!==null;){let s=parseFloat(o[1]),a=o[2];a==="ms"?r+=s:a==="s"&&(r+=s*1e3)}if(r!==0)return r}focus(e=this.contentViewChild?.nativeElement){let t=this.parseDurationToMilliseconds(this.transitionOptions),r=M.getFocusableElement(e,"[autofocus]");if(r){this.zone.runOutsideAngular(()=>{setTimeout(()=>r.focus(),t||5)});return}let o=M.getFocusableElement(e);o?this.zone.runOutsideAngular(()=>{setTimeout(()=>o.focus(),t||5)}):this.footerViewChild&&e!==this.footerViewChild.nativeElement&&this.focus(this.footerViewChild.nativeElement)}close(e){this.visibleChange.emit(!1),e.preventDefault()}enableModality(){this.closable&&this.dismissableMask&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",e=>{this.wrapper&&this.wrapper.isSameNode(e.target)&&this.close(e)})),this.modal&&M.blockBodyScroll()}disableModality(){if(this.wrapper){this.dismissableMask&&this.unbindMaskClickListener();let e=document.querySelectorAll(".p-dialog-mask-scrollblocker");this.modal&&e&&e.length==1&&M.unblockBodyScroll(),this.cd.destroyed||this.cd.detectChanges()}}maximize(){this.maximized=!this.maximized,!this.modal&&!this.blockScroll&&(this.maximized?M.blockBodyScroll():M.unblockBodyScroll()),this.onMaximize.emit({maximized:this.maximized})}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}moveOnTop(){this.autoZIndex&&(hi.set("modal",this.container,this.baseZIndex+this.config.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}createStyle(){if(ht(this.platformId)&&!this.styleElement){this.styleElement=this.renderer.createElement("style"),this.styleElement.type="text/css",M.setAttribute(this.styleElement,"nonce",this.config?.csp()?.nonce),this.renderer.appendChild(this.document.head,this.styleElement);let e="";for(let t in this.breakpoints)e+=`
                        @media screen and (max-width: ${t}) {
                            .p-dialog[${this.id}]:not(.p-dialog-maximized) {
                                width: ${this.breakpoints[t]} !important;
                            }
                        }
                    `;this.renderer.setProperty(this.styleElement,"innerHTML",e)}}initDrag(e){M.hasClass(e.target,"p-dialog-header-icon")||M.hasClass(e.target,"p-dialog-header-close-icon")||M.hasClass(e.target.parentElement,"p-dialog-header-icon")||this.draggable&&(this.dragging=!0,this.lastPageX=e.pageX,this.lastPageY=e.pageY,this.container.style.margin="0",M.addClass(this.document.body,"p-unselectable-text"))}onDrag(e){if(this.dragging){let t=M.getOuterWidth(this.container),r=M.getOuterHeight(this.container),o=e.pageX-this.lastPageX,s=e.pageY-this.lastPageY,a=this.container.getBoundingClientRect(),l=getComputedStyle(this.container),c=parseFloat(l.marginLeft),d=parseFloat(l.marginTop),p=a.left+o-c,g=a.top+s-d,C=M.getViewport();this.container.style.position="fixed",this.keepInViewport?(p>=this.minX&&p+t<C.width&&(this._style.left=`${p}px`,this.lastPageX=e.pageX,this.container.style.left=`${p}px`),g>=this.minY&&g+r<C.height&&(this._style.top=`${g}px`,this.lastPageY=e.pageY,this.container.style.top=`${g}px`)):(this.lastPageX=e.pageX,this.container.style.left=`${p}px`,this.lastPageY=e.pageY,this.container.style.top=`${g}px`)}}endDrag(e){this.dragging&&(this.dragging=!1,M.removeClass(this.document.body,"p-unselectable-text"),this.cd.detectChanges(),this.onDragEnd.emit(e))}resetPosition(){this.container.style.position="",this.container.style.left="",this.container.style.top="",this.container.style.margin=""}center(){this.resetPosition()}initResize(e){this.resizable&&(this.resizing=!0,this.lastPageX=e.pageX,this.lastPageY=e.pageY,M.addClass(this.document.body,"p-unselectable-text"),this.onResizeInit.emit(e))}onResize(e){if(this.resizing){let t=e.pageX-this.lastPageX,r=e.pageY-this.lastPageY,o=M.getOuterWidth(this.container),s=M.getOuterHeight(this.container),a=M.getOuterHeight(this.contentViewChild?.nativeElement),l=o+t,c=s+r,d=this.container.style.minWidth,p=this.container.style.minHeight,g=this.container.getBoundingClientRect(),C=M.getViewport();(!parseInt(this.container.style.top)||!parseInt(this.container.style.left))&&(l+=t,c+=r),(!d||l>parseInt(d))&&g.left+l<C.width&&(this._style.width=l+"px",this.container.style.width=this._style.width),(!p||c>parseInt(p))&&g.top+c<C.height&&(this.contentViewChild.nativeElement.style.height=a+c-s+"px",this._style.height&&(this._style.height=c+"px",this.container.style.height=this._style.height)),this.lastPageX=e.pageX,this.lastPageY=e.pageY}}resizeEnd(e){this.resizing&&(this.resizing=!1,M.removeClass(this.document.body,"p-unselectable-text"),this.onResizeEnd.emit(e))}bindGlobalListeners(){this.draggable&&(this.bindDocumentDragListener(),this.bindDocumentDragEndListener()),this.resizable&&this.bindDocumentResizeListeners(),this.closeOnEscape&&this.closable&&this.bindDocumentEscapeListener()}unbindGlobalListeners(){this.unbindDocumentDragListener(),this.unbindDocumentDragEndListener(),this.unbindDocumentResizeListeners(),this.unbindDocumentEscapeListener()}bindDocumentDragListener(){this.documentDragListener||this.zone.runOutsideAngular(()=>{this.documentDragListener=this.renderer.listen(this.window,"mousemove",this.onDrag.bind(this))})}unbindDocumentDragListener(){this.documentDragListener&&(this.documentDragListener(),this.documentDragListener=null)}bindDocumentDragEndListener(){this.documentDragEndListener||this.zone.runOutsideAngular(()=>{this.documentDragEndListener=this.renderer.listen(this.window,"mouseup",this.endDrag.bind(this))})}unbindDocumentDragEndListener(){this.documentDragEndListener&&(this.documentDragEndListener(),this.documentDragEndListener=null)}bindDocumentResizeListeners(){!this.documentResizeListener&&!this.documentResizeEndListener&&this.zone.runOutsideAngular(()=>{this.documentResizeListener=this.renderer.listen(this.window,"mousemove",this.onResize.bind(this)),this.documentResizeEndListener=this.renderer.listen(this.window,"mouseup",this.resizeEnd.bind(this))})}unbindDocumentResizeListeners(){this.documentResizeListener&&this.documentResizeEndListener&&(this.documentResizeListener(),this.documentResizeEndListener(),this.documentResizeListener=null,this.documentResizeEndListener=null)}bindDocumentEscapeListener(){let e=this.el?this.el.nativeElement.ownerDocument:"document";this.documentEscapeListener=this.renderer.listen(e,"keydown",t=>{t.key=="Escape"&&this.close(t)})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}appendContainer(){this.appendTo&&(this.appendTo==="body"?this.renderer.appendChild(this.document.body,this.wrapper):M.appendChild(this.wrapper,this.appendTo))}restoreAppend(){this.container&&this.appendTo&&this.renderer.appendChild(this.el.nativeElement,this.wrapper)}onAnimationStart(e){switch(e.toState){case"visible":this.container=e.element,this.wrapper=this.container?.parentElement,this.moveOnTop(),this.appendContainer(),this.bindGlobalListeners(),this.container?.setAttribute(this.id,""),this.modal&&this.enableModality(),!this.modal&&this.blockScroll&&M.addClass(this.document.body,"p-overflow-hidden"),this.focusOnShow&&this.focus();break;case"void":this.wrapper&&this.modal&&M.addClass(this.wrapper,"p-component-overlay-leave");break}}onAnimationEnd(e){switch(e.toState){case"void":this.onContainerDestroy(),this.onHide.emit({}),this.cd.markForCheck();break;case"visible":this.onShow.emit({});break}}onContainerDestroy(){this.unbindGlobalListeners(),this.dragging=!1,this.maskVisible=!1,this.maximized&&(M.removeClass(this.document.body,"p-overflow-hidden"),this.document.body.style.removeProperty("--scrollbar-width"),this.maximized=!1),this.modal&&this.disableModality(),this.blockScroll&&M.removeClass(this.document.body,"p-overflow-hidden"),this.container&&this.autoZIndex&&hi.clear(this.container),this.container=null,this.wrapper=null,this._style=this.originalStyle?re({},this.originalStyle):{}}destroyStyle(){this.styleElement&&(this.renderer.removeChild(this.document.head,this.styleElement),this.styleElement=null)}ngOnDestroy(){this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.destroyStyle()}static \u0275fac=function(t){return new(t||i)(b(_t),b(qt),b(ze),b(Ft),b(xt),b(Ie),b(Vt))};static \u0275cmp=ie({type:i,selectors:[["p-dialog"]],contentQueries:function(t,r,o){if(t&1&&(ot(o,Xl,5),ot(o,Ds,5),ot(o,be,4)),t&2){let s;ee(s=te())&&(r.headerFacet=s.first),ee(s=te())&&(r.footerFacet=s.first),ee(s=te())&&(r.templates=s)}},viewQuery:function(t,r){if(t&1&&(de(Hee,5),de(Gee,5),de(zee,5)),t&2){let o;ee(o=te())&&(r.headerViewChild=o.first),ee(o=te())&&(r.contentViewChild=o.first),ee(o=te())&&(r.footerViewChild=o.first)}},hostAttrs:[1,"p-element"],inputs:{header:"header",draggable:[2,"draggable","draggable",K],resizable:[2,"resizable","resizable",K],positionLeft:"positionLeft",positionTop:"positionTop",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",modal:[2,"modal","modal",K],closeOnEscape:[2,"closeOnEscape","closeOnEscape",K],dismissableMask:[2,"dismissableMask","dismissableMask",K],rtl:[2,"rtl","rtl",K],closable:[2,"closable","closable",K],responsive:"responsive",appendTo:"appendTo",breakpoints:"breakpoints",styleClass:"styleClass",maskStyleClass:"maskStyleClass",maskStyle:"maskStyle",showHeader:[2,"showHeader","showHeader",K],breakpoint:"breakpoint",blockScroll:[2,"blockScroll","blockScroll",K],autoZIndex:[2,"autoZIndex","autoZIndex",K],baseZIndex:[2,"baseZIndex","baseZIndex",ke],minX:[2,"minX","minX",ke],minY:[2,"minY","minY",ke],focusOnShow:[2,"focusOnShow","focusOnShow",K],maximizable:[2,"maximizable","maximizable",K],keepInViewport:[2,"keepInViewport","keepInViewport",K],focusTrap:[2,"focusTrap","focusTrap",K],transitionOptions:"transitionOptions",closeIcon:"closeIcon",closeAriaLabel:"closeAriaLabel",closeTabindex:"closeTabindex",minimizeIcon:"minimizeIcon",maximizeIcon:"maximizeIcon",visible:"visible",style:"style",position:"position"},outputs:{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange",onResizeInit:"onResizeInit",onResizeEnd:"onResizeEnd",onDragEnd:"onDragEnd",onMaximize:"onMaximize"},features:[qe],ngContentSelectors:Kee,decls:1,vars:1,consts:[["container",""],["notHeadless",""],["content",""],["titlebar",""],["footer",""],[3,"class","ngStyle","ngClass",4,"ngIf"],[3,"ngStyle","ngClass"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","class","pFocusTrapDisabled",4,"ngIf"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","pFocusTrapDisabled"],[4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet"],["class","p-resizable-handle",3,"mousedown",4,"ngIf"],["class","p-dialog-header",3,"mousedown",4,"ngIf"],[3,"ngClass","ngStyle"],["class","p-dialog-footer",4,"ngIf"],[1,"p-resizable-handle",3,"mousedown"],[1,"p-dialog-header",3,"mousedown"],["class","p-dialog-title",3,"id",4,"ngIf"],[1,"p-dialog-header-icons"],["role","button","type","button","pRipple","","pButton","",3,"ngClass","click","keydown.enter",4,"ngIf"],["type","button","pRipple","","pButton","",3,"ngClass","ngStyle","click","keydown.enter",4,"ngIf"],[1,"p-dialog-title",3,"id"],["role","button","type","button","pRipple","","pButton","",3,"click","keydown.enter","ngClass"],["class","p-dialog-header-maximize-icon",3,"ngClass",4,"ngIf"],[4,"ngIf"],[1,"p-dialog-header-maximize-icon",3,"ngClass"],[3,"styleClass",4,"ngIf"],[3,"styleClass"],["type","button","pRipple","","pButton","",3,"click","keydown.enter","ngClass","ngStyle"],["class","p-dialog-header-close-icon",3,"ngClass",4,"ngIf"],[1,"p-dialog-header-close-icon",3,"ngClass"],[1,"p-dialog-footer"]],template:function(t,r){t&1&&(Fi(Wee),I(0,Dte,2,16,"div",5)),t&2&&h("ngIf",r.maskVisible)},dependencies:()=>[Ge,et,st,Ee,nv,mt,qi,Li,mf,gf],styles:[`@layer primeng{.p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none}.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;pointer-events:auto;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-draggable .p-dialog-header{cursor:move}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-top .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog{margin:.75rem;transform:translateZ(0)}.p-dialog-maximized{-webkit-transition:none;transition:none;transform:none;width:100vw!important;height:100vh!important;top:0!important;left:0!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start;align-items:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}}
`],encapsulation:2,data:{animation:[hn("animation",[Xt("void => visible",[Pa(Rte)]),Xt("visible => void",[Pa(Pte)])])]},changeDetection:0})}return i})(),wT=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=Oe({type:i});static \u0275inj=Te({imports:[Ye,rv,Gr,Qi,Li,mf,gf,nt]})}return i})();var kte=["*"],Fte=(i,n)=>({showTransitionParams:i,hideTransitionParams:n}),Lte=(i,n)=>({value:i,params:n});function Mte(i,n){i&1&&ue(0)}function Nte(i,n){i&1&&O(0,"TimesIcon",8),i&2&&h("styleClass","p-overlaypanel-close-icon")}function Vte(i,n){}function Bte(i,n){i&1&&I(0,Vte,0,0,"ng-template")}function Ute(i,n){if(i&1&&(m(0,"span",9),I(1,Bte,1,0,null,3),_()),i&2){let e=f(3);u(),h("ngTemplateOutlet",e.closeIconTemplate)}}function jte(i,n){if(i&1){let e=B();m(0,"button",5),P("click",function(r){S(e);let o=f(2);return A(o.onCloseClick(r))})("keydown.enter",function(){S(e);let r=f(2);return A(r.hide())}),I(1,Nte,1,1,"TimesIcon",6)(2,Ute,2,1,"span",7),_()}if(i&2){let e=f(2);V("aria-label",e.ariaCloseLabel),u(),h("ngIf",!e.closeIconTemplate),u(),h("ngIf",e.closeIconTemplate)}}function Hte(i,n){if(i&1){let e=B();m(0,"div",1),P("click",function(r){S(e);let o=f();return A(o.onOverlayClick(r))})("@animation.start",function(r){S(e);let o=f();return A(o.onAnimationStart(r))})("@animation.done",function(r){S(e);let o=f();return A(o.onAnimationEnd(r))}),m(1,"div",2),P("click",function(r){S(e);let o=f();return A(o.onContentClick(r))})("mousedown",function(r){S(e);let o=f();return A(o.onContentClick(r))}),ii(2),I(3,Mte,1,0,"ng-container",3),_(),I(4,jte,3,3,"button",4),_()}if(i&2){let e=f();le(e.styleClass),h("ngClass","p-overlaypanel p-component")("ngStyle",e.style)("@animation",Je(13,Lte,e.overlayVisible?"open":"close",Je(10,Fte,e.showTransitionOptions,e.hideTransitionOptions))),V("aria-modal",e.overlayVisible)("aria-label",e.ariaLabel)("aria-labelledBy",e.ariaLabelledBy),u(3),h("ngTemplateOutlet",e.contentTemplate),u(),h("ngIf",e.showCloseIcon)}}var Fp=(()=>{class i{document;platformId;el;renderer;cd;zone;config;overlayService;ariaLabel;ariaLabelledBy;dismissable=!0;showCloseIcon;style;styleClass;appendTo="body";autoZIndex=!0;ariaCloseLabel;baseZIndex=0;focusOnShow=!0;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";onShow=new Q;onHide=new Q;templates;container;overlayVisible=!1;render=!1;isOverlayAnimationInProgress=!1;selfClick=!1;documentClickListener;target;willHide;scrollHandler;documentResizeListener;contentTemplate;closeIconTemplate;destroyCallback;overlayEventListener;overlaySubscription;constructor(e,t,r,o,s,a,l,c){this.document=e,this.platformId=t,this.el=r,this.renderer=o,this.cd=s,this.zone=a,this.config=l,this.overlayService=c}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;case"closeicon":this.closeIconTemplate=e.template;break;default:this.contentTemplate=e.template;break}this.cd.markForCheck()})}bindDocumentClickListener(){if(ht(this.platformId)&&!this.documentClickListener&&this.dismissable){let e=M.isIOS()?"touchstart":"click",t=this.el?this.el.nativeElement.ownerDocument:this.document;this.documentClickListener=this.renderer.listen(t,e,r=>{!this.container?.contains(r.target)&&this.target!==r.target&&!this.target.contains(r.target)&&!this.selfClick&&this.hide(),this.selfClick=!1,this.cd.markForCheck()})}}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null,this.selfClick=!1)}toggle(e,t){this.isOverlayAnimationInProgress||(this.overlayVisible?(this.hasTargetChanged(e,t)&&(this.destroyCallback=()=>{this.show(null,t||e.currentTarget||e.target)}),this.hide()):this.show(e,t))}show(e,t){t&&e&&e.stopPropagation(),!this.isOverlayAnimationInProgress&&(this.target=t||e.currentTarget||e.target,this.overlayVisible=!0,this.render=!0,this.cd.markForCheck())}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement}),this.selfClick=!0}onContentClick(e){let t=e.target;this.selfClick=e.offsetX<t.clientWidth&&e.offsetY<t.clientHeight}hasTargetChanged(e,t){return this.target!=null&&this.target!==(t||e.currentTarget||e.target)}appendContainer(){this.appendTo&&(this.appendTo==="body"?this.renderer.appendChild(this.document.body,this.container):M.appendChild(this.container,this.appendTo))}restoreAppend(){this.container&&this.appendTo&&this.renderer.appendChild(this.el.nativeElement,this.container)}align(){this.autoZIndex&&hi.set("overlay",this.container,this.baseZIndex+this.config.zIndex.overlay),M.absolutePosition(this.container,this.target,!1);let e=M.getOffset(this.container),t=M.getOffset(this.target),r=this.document.defaultView?.getComputedStyle(this.container).getPropertyValue("border-radius"),o=0;e.left<t.left&&(o=t.left-e.left-parseFloat(r)*2),this.container?.style.setProperty("--overlayArrowLeft",`${o}px`),e.top<t.top&&(M.addClass(this.container,"p-overlaypanel-flipped"),this.showCloseIcon&&this.renderer.setStyle(this.container,"margin-top","-30px"))}onAnimationStart(e){e.toState==="open"&&(this.container=e.element,this.appendContainer(),this.align(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.focusOnShow&&this.focus(),this.overlayEventListener=t=>{this.container&&this.container.contains(t.target)&&(this.selfClick=!0)},this.overlaySubscription=this.overlayService.clickObservable.subscribe(this.overlayEventListener),this.onShow.emit(null)),this.isOverlayAnimationInProgress=!0}onAnimationEnd(e){switch(e.toState){case"void":this.destroyCallback&&(this.destroyCallback(),this.destroyCallback=null),this.overlaySubscription&&this.overlaySubscription.unsubscribe();break;case"close":this.autoZIndex&&hi.clear(this.container),this.overlaySubscription&&this.overlaySubscription.unsubscribe(),this.onContainerDestroy(),this.onHide.emit({}),this.render=!1;break}this.isOverlayAnimationInProgress=!1}focus(){let e=M.findSingle(this.container,"[autofocus]");e&&this.zone.runOutsideAngular(()=>{setTimeout(()=>e.focus(),5)})}hide(){this.overlayVisible=!1,this.cd.markForCheck()}onCloseClick(e){this.hide(),e.preventDefault()}onEscapeKeydown(e){this.hide()}onWindowResize(){this.overlayVisible&&!M.isTouchDevice()&&this.hide()}bindDocumentResizeListener(){if(ht(this.platformId)&&!this.documentResizeListener){let e=this.document.defaultView;this.documentResizeListener=this.renderer.listen(e,"resize",this.onWindowResize.bind(this))}}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindScrollListener(){ht(this.platformId)&&(this.scrollHandler||(this.scrollHandler=new Zr(this.target,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener())}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onContainerDestroy(){this.cd.destroyed||(this.target=null),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener()}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.container&&this.autoZIndex&&hi.clear(this.container),this.cd.destroyed||(this.target=null),this.destroyCallback=null,this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.overlaySubscription&&this.overlaySubscription.unsubscribe()}static \u0275fac=function(t){return new(t||i)(b(_t),b(qt),b(ze),b(Ft),b(Ie),b(xt),b(Vt),b(Ao))};static \u0275cmp=ie({type:i,selectors:[["p-overlayPanel"]],contentQueries:function(t,r,o){if(t&1&&ot(o,be,4),t&2){let s;ee(s=te())&&(r.templates=s)}},hostAttrs:[1,"p-element"],hostBindings:function(t,r){t&1&&P("keydown.escape",function(s){return r.onEscapeKeydown(s)},!1,GM)},inputs:{ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",dismissable:[2,"dismissable","dismissable",K],showCloseIcon:[2,"showCloseIcon","showCloseIcon",K],style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:[2,"autoZIndex","autoZIndex",K],ariaCloseLabel:"ariaCloseLabel",baseZIndex:[2,"baseZIndex","baseZIndex",ke],focusOnShow:[2,"focusOnShow","focusOnShow",K],showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onShow:"onShow",onHide:"onHide"},features:[qe],ngContentSelectors:kte,decls:1,vars:1,consts:[["role","dialog",3,"ngClass","ngStyle","class","click",4,"ngIf"],["role","dialog",3,"click","ngClass","ngStyle"],[1,"p-overlaypanel-content",3,"click","mousedown"],[4,"ngTemplateOutlet"],["type","button","class","p-overlaypanel-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],["type","button","pRipple","",1,"p-overlaypanel-close","p-link",3,"click","keydown.enter"],[3,"styleClass",4,"ngIf"],["class","p-overlaypanel-close-icon",4,"ngIf"],[3,"styleClass"],[1,"p-overlaypanel-close-icon"]],template:function(t,r){t&1&&(Fi(),I(0,Hte,5,16,"div",0)),t&2&&h("ngIf",r.render)},dependencies:()=>[Ge,et,st,Ee,qi,Li],styles:[`@layer primeng{.p-overlaypanel{position:absolute;margin-top:10px;top:0;left:0}.p-overlaypanel-flipped{margin-top:0;margin-bottom:10px}.p-overlaypanel-close{display:flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-overlaypanel:after,.p-overlaypanel:before{bottom:100%;left:calc(var(--overlayArrowLeft, 0) + 1.25rem);content:" ";height:0;width:0;position:absolute;pointer-events:none}.p-overlaypanel:after{border-width:8px;margin-left:-8px}.p-overlaypanel:before{border-width:10px;margin-left:-10px}.p-overlaypanel-shifted:after,.p-overlaypanel-shifted:before{left:auto;right:1.25em;margin-left:auto}.p-overlaypanel-flipped:after,.p-overlaypanel-flipped:before{bottom:auto;top:100%}.p-overlaypanel.p-overlaypanel-flipped:after{border-bottom-color:transparent}.p-overlaypanel.p-overlaypanel-flipped:before{border-bottom-color:transparent}}
`],encapsulation:2,data:{animation:[hn("animation",[Lr("void",jt({transform:"scaleY(0.8)",opacity:0})),Lr("close",jt({opacity:0})),Lr("open",jt({transform:"translateY(0)",opacity:1})),Xt("void => open",Jt("{{showTransitionParams}}")),Xt("open => close",Jt("{{hideTransitionParams}}"))])]},changeDetection:0})}return i})(),ST=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=Oe({type:i});static \u0275inj=Te({imports:[Ye,Qi,nt,Li,nt]})}return i})();var Zn=(()=>{class i{platformId;el;zone;config;renderer;viewContainer;tooltipPosition;tooltipEvent="hover";appendTo;positionStyle;tooltipStyleClass;tooltipZIndex;escape=!0;showDelay;hideDelay;life;positionTop;positionLeft;autoHide=!0;fitContent=!0;hideOnEscape=!0;content;get disabled(){return this._disabled}set disabled(e){this._disabled=e,this.deactivate()}tooltipOptions;_tooltipOptions={tooltipLabel:null,tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",positionStyle:null,tooltipStyleClass:null,tooltipZIndex:"auto",escape:!0,disabled:null,showDelay:null,hideDelay:null,positionTop:null,positionLeft:null,life:null,autoHide:!0,hideOnEscape:!0,id:yt()+"_tooltip"};_disabled;container;styleClass;tooltipText;showTimeout;hideTimeout;active;mouseEnterListener;mouseLeaveListener;containerMouseleaveListener;clickListener;focusListener;blurListener;documentEscapeListener;scrollHandler;resizeListener;interactionInProgress=!1;constructor(e,t,r,o,s,a){this.platformId=e,this.el=t,this.zone=r,this.config=o,this.renderer=s,this.viewContainer=a}ngAfterViewInit(){ht(this.platformId)&&this.zone.runOutsideAngular(()=>{let e=this.getOption("tooltipEvent");if((e==="hover"||e==="both")&&(this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onInputClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("click",this.clickListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener)),e==="focus"||e==="both"){this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this);let t=this.el.nativeElement.querySelector(".p-component");t||(t=this.getTarget(this.el.nativeElement)),t.addEventListener("focus",this.focusListener),t.addEventListener("blur",this.blurListener)}})}setAriaDescribedBy(){let e=this.getOption("id");e&&this.active&&this.renderer.setAttribute(this.el.nativeElement,"aria-describedby",e)}removeAriaDescribedBy(){this.renderer.removeAttribute(this.el.nativeElement,"aria-describedby")}ngOnChanges(e){e.tooltipPosition&&this.setOption({tooltipPosition:e.tooltipPosition.currentValue}),e.tooltipEvent&&this.setOption({tooltipEvent:e.tooltipEvent.currentValue}),e.appendTo&&this.setOption({appendTo:e.appendTo.currentValue}),e.positionStyle&&this.setOption({positionStyle:e.positionStyle.currentValue}),e.tooltipStyleClass&&this.setOption({tooltipStyleClass:e.tooltipStyleClass.currentValue}),e.tooltipZIndex&&this.setOption({tooltipZIndex:e.tooltipZIndex.currentValue}),e.escape&&this.setOption({escape:e.escape.currentValue}),e.showDelay&&this.setOption({showDelay:e.showDelay.currentValue}),e.hideDelay&&this.setOption({hideDelay:e.hideDelay.currentValue}),e.life&&this.setOption({life:e.life.currentValue}),e.positionTop&&this.setOption({positionTop:e.positionTop.currentValue}),e.positionLeft&&this.setOption({positionLeft:e.positionLeft.currentValue}),e.disabled&&this.setOption({disabled:e.disabled.currentValue}),e.content&&(this.setOption({tooltipLabel:e.content.currentValue}),this.active&&(e.content.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),e.autoHide&&this.setOption({autoHide:e.autoHide.currentValue}),e.id&&this.setOption({id:e.id.currentValue}),e.tooltipOptions&&(this._tooltipOptions=re(re({},this._tooltipOptions),e.tooltipOptions.currentValue),this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}isAutoHide(){return this.getOption("autoHide")}onMouseEnter(e){!this.container&&!this.showTimeout&&this.activate()}onMouseLeave(e){this.isAutoHide()?this.deactivate():!(M.hasClass(e.relatedTarget,"p-tooltip")||M.hasClass(e.relatedTarget,"p-tooltip-text")||M.hasClass(e.relatedTarget,"p-tooltip-arrow"))&&this.deactivate()}onFocus(e){this.activate()}onBlur(e){this.deactivate()}onInputClick(e){this.deactivate()}activate(){if(!this.interactionInProgress){if(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(()=>{this.show()},this.getOption("showDelay")):this.show(),this.getOption("life")){let e=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(()=>{this.hide()},e)}this.getOption("hideOnEscape")&&(this.documentEscapeListener=this.renderer.listen("document","keydown.escape",()=>{this.deactivate(),this.documentEscapeListener()}))}this.interactionInProgress=!0}deactivate(){this.interactionInProgress=!1,this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.getOption("hideDelay"))):this.hide(),this.documentEscapeListener&&this.documentEscapeListener()}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div"),this.container.setAttribute("id",this.getOption("id")),this.container.setAttribute("role","tooltip");let e=document.createElement("div");e.className="p-tooltip-arrow",this.container.appendChild(e),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),this.getOption("appendTo")==="body"?document.body.appendChild(this.container):this.getOption("appendTo")==="target"?M.appendChild(this.container,this.el.nativeElement):M.appendChild(this.container,this.getOption("appendTo")),this.container.style.display="inline-block",this.fitContent&&(this.container.style.width="fit-content"),this.isAutoHide()?this.container.style.pointerEvents="none":(this.container.style.pointerEvents="unset",this.bindContainerMouseleaveListener()),this.setAriaDescribedBy()}bindContainerMouseleaveListener(){if(!this.containerMouseleaveListener){let e=this.container??this.container.nativeElement;this.containerMouseleaveListener=this.renderer.listen(e,"mouseleave",t=>{this.deactivate()})}}unbindContainerMouseleaveListener(){this.containerMouseleaveListener&&(this.bindContainerMouseleaveListener(),this.containerMouseleaveListener=null)}show(){if(!this.getOption("tooltipLabel")||this.getOption("disabled"))return;this.create(),this.el.nativeElement.closest("p-dialog")?setTimeout(()=>{this.container&&this.align()},100):this.align(),M.fadeIn(this.container,250),this.getOption("tooltipZIndex")==="auto"?hi.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener()}hide(){this.getOption("tooltipZIndex")==="auto"&&hi.clear(this.container),this.remove()}updateText(){let e=this.getOption("tooltipLabel");if(e instanceof ea){let t=this.viewContainer.createEmbeddedView(e);t.detectChanges(),t.rootNodes.forEach(r=>this.tooltipText.appendChild(r))}else this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(e))):this.tooltipText.innerHTML=e}align(){switch(this.getOption("tooltipPosition")){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break}}getHostOffset(){if(this.getOption("appendTo")==="body"||this.getOption("appendTo")==="target"){let e=this.el.nativeElement.getBoundingClientRect(),t=e.left+M.getWindowScrollLeft(),r=e.top+M.getWindowScrollTop();return{left:t,top:r}}else return{left:0,top:0}}alignRight(){this.preAlign("right");let e=this.activeElement,t=this.getHostOffset(),r=t.left+M.getOuterWidth(e),o=t.top+(M.getOuterHeight(e)-M.getOuterHeight(this.container))/2;this.container.style.left=r+this.getOption("positionLeft")+"px",this.container.style.top=o+this.getOption("positionTop")+"px"}get activeElement(){return this.el.nativeElement.nodeName.includes("P-")?M.findSingle(this.el.nativeElement,".p-component")||this.el.nativeElement:this.el.nativeElement}alignLeft(){this.preAlign("left");let e=this.getHostOffset(),t=e.left-M.getOuterWidth(this.container),r=e.top+(M.getOuterHeight(this.el.nativeElement)-M.getOuterHeight(this.container))/2;this.container.style.left=t+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}alignTop(){this.preAlign("top");let e=this.getHostOffset(),t=e.left+(M.getOuterWidth(this.el.nativeElement)-M.getOuterWidth(this.container))/2,r=e.top-M.getOuterHeight(this.container);this.container.style.left=t+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}alignBottom(){this.preAlign("bottom");let e=this.getHostOffset(),t=e.left+(M.getOuterWidth(this.el.nativeElement)-M.getOuterWidth(this.container))/2,r=e.top+M.getOuterHeight(this.el.nativeElement);this.container.style.left=t+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}setOption(e){this._tooltipOptions=re(re({},this._tooltipOptions),e)}getOption(e){return this._tooltipOptions[e]}getTarget(e){return M.hasClass(e,"p-inputwrapper")?M.findSingle(e,"input"):e}preAlign(e){this.container.style.left="-999px",this.container.style.top="-999px";let t="p-tooltip p-component p-tooltip-"+e;this.container.className=this.getOption("tooltipStyleClass")?t+" "+this.getOption("tooltipStyleClass"):t}isOutOfBounds(){let e=this.container.getBoundingClientRect(),t=e.top,r=e.left,o=M.getOuterWidth(this.container),s=M.getOuterHeight(this.container),a=M.getViewport();return r+o>a.width||r<0||t<0||t+s>a.height}onWindowResize(e){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new Zr(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){let e=this.getOption("tooltipEvent");if((e==="hover"||e==="both")&&(this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener)),e==="focus"||e==="both"){let t=this.el.nativeElement.querySelector(".p-component");t||(t=this.getTarget(this.el.nativeElement))}this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&(this.getOption("appendTo")==="body"?document.body.removeChild(this.container):this.getOption("appendTo")==="target"?this.el.nativeElement.removeChild(this.container):M.removeChild(this.container,this.getOption("appendTo"))),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.unbindContainerMouseleaveListener(),this.clearTimeouts(),this.removeAriaDescribedBy(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),this.container&&hi.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.documentEscapeListener&&this.documentEscapeListener()}static \u0275fac=function(t){return new(t||i)(b(qt),b(ze),b(xt),b(Vt),b(Ft),b(fo))};static \u0275dir=gt({type:i,selectors:[["","pTooltip",""]],hostAttrs:[1,"p-element"],inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:[2,"escape","escape",K],showDelay:[2,"showDelay","showDelay",ke],hideDelay:[2,"hideDelay","hideDelay",ke],life:[2,"life","life",ke],positionTop:[2,"positionTop","positionTop",ke],positionLeft:[2,"positionLeft","positionLeft",ke],autoHide:[2,"autoHide","autoHide",K],fitContent:[2,"fitContent","fitContent",K],hideOnEscape:[2,"hideOnEscape","hideOnEscape",K],content:[0,"pTooltip","content"],disabled:[0,"tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[qe,en]})}return i})(),zr=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=Oe({type:i});static \u0275inj=Te({imports:[Ye]})}return i})();var fn=(()=>{class i extends St{static \u0275fac=(()=>{let e;return function(r){return(e||(e=tt(i)))(r||i)}})();static \u0275cmp=ie({type:i,selectors:[["CheckIcon"]],standalone:!0,features:[ve,lt],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.86199 11.5948C4.78717 11.5923 4.71366 11.5745 4.64596 11.5426C4.57826 11.5107 4.51779 11.4652 4.46827 11.4091L0.753985 7.69483C0.683167 7.64891 0.623706 7.58751 0.580092 7.51525C0.536478 7.44299 0.509851 7.36177 0.502221 7.27771C0.49459 7.19366 0.506156 7.10897 0.536046 7.03004C0.565935 6.95111 0.613367 6.88 0.674759 6.82208C0.736151 6.76416 0.8099 6.72095 0.890436 6.69571C0.970973 6.67046 1.05619 6.66385 1.13966 6.67635C1.22313 6.68886 1.30266 6.72017 1.37226 6.76792C1.44186 6.81567 1.4997 6.8786 1.54141 6.95197L4.86199 10.2503L12.6397 2.49483C12.7444 2.42694 12.8689 2.39617 12.9932 2.40745C13.1174 2.41873 13.2343 2.47141 13.3251 2.55705C13.4159 2.64268 13.4753 2.75632 13.4938 2.87973C13.5123 3.00315 13.4888 3.1292 13.4271 3.23768L5.2557 11.4091C5.20618 11.4652 5.14571 11.5107 5.07801 11.5426C5.01031 11.5745 4.9368 11.5923 4.86199 11.5948Z","fill","currentColor"]],template:function(t,r){t&1&&(It(),m(0,"svg",0),O(1,"path",1),_()),t&2&&(le(r.getClassNames()),V("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return i})();var _f=(()=>{class i extends St{pathId;ngOnInit(){this.pathId="url(#"+yt()+")"}static \u0275fac=(()=>{let e;return function(r){return(e||(e=tt(i)))(r||i)}})();static \u0275cmp=ie({type:i,selectors:[["ExclamationTriangleIcon"]],standalone:!0,features:[ve,lt],decls:8,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M13.4018 13.1893H0.598161C0.49329 13.189 0.390283 13.1615 0.299143 13.1097C0.208003 13.0578 0.131826 12.9832 0.0780112 12.8932C0.0268539 12.8015 0 12.6982 0 12.5931C0 12.4881 0.0268539 12.3848 0.0780112 12.293L6.47985 1.08982C6.53679 1.00399 6.61408 0.933574 6.70484 0.884867C6.7956 0.836159 6.897 0.810669 7 0.810669C7.103 0.810669 7.2044 0.836159 7.29516 0.884867C7.38592 0.933574 7.46321 1.00399 7.52015 1.08982L13.922 12.293C13.9731 12.3848 14 12.4881 14 12.5931C14 12.6982 13.9731 12.8015 13.922 12.8932C13.8682 12.9832 13.792 13.0578 13.7009 13.1097C13.6097 13.1615 13.5067 13.189 13.4018 13.1893ZM1.63046 11.989H12.3695L7 2.59425L1.63046 11.989Z","fill","currentColor"],["d","M6.99996 8.78801C6.84143 8.78594 6.68997 8.72204 6.57787 8.60993C6.46576 8.49782 6.40186 8.34637 6.39979 8.18784V5.38703C6.39979 5.22786 6.46302 5.0752 6.57557 4.96265C6.68813 4.85009 6.84078 4.78686 6.99996 4.78686C7.15914 4.78686 7.31179 4.85009 7.42435 4.96265C7.5369 5.0752 7.60013 5.22786 7.60013 5.38703V8.18784C7.59806 8.34637 7.53416 8.49782 7.42205 8.60993C7.30995 8.72204 7.15849 8.78594 6.99996 8.78801Z","fill","currentColor"],["d","M6.99996 11.1887C6.84143 11.1866 6.68997 11.1227 6.57787 11.0106C6.46576 10.8985 6.40186 10.7471 6.39979 10.5885V10.1884C6.39979 10.0292 6.46302 9.87658 6.57557 9.76403C6.68813 9.65147 6.84078 9.58824 6.99996 9.58824C7.15914 9.58824 7.31179 9.65147 7.42435 9.76403C7.5369 9.87658 7.60013 10.0292 7.60013 10.1884V10.5885C7.59806 10.7471 7.53416 10.8985 7.42205 11.0106C7.30995 11.1227 7.15849 11.1866 6.99996 11.1887Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,r){t&1&&(It(),m(0,"svg",0)(1,"g"),O(2,"path",1)(3,"path",2)(4,"path",3),_(),m(5,"defs")(6,"clipPath",4),O(7,"rect",5),_()()()),t&2&&(le(r.getClassNames()),V("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),u(),V("clip-path",r.pathId),u(5),h("id",r.pathId))},encapsulation:2})}return i})();var Cf=(()=>{class i extends St{pathId;ngOnInit(){this.pathId="url(#"+yt()+")"}static \u0275fac=(()=>{let e;return function(r){return(e||(e=tt(i)))(r||i)}})();static \u0275cmp=ie({type:i,selectors:[["InfoCircleIcon"]],standalone:!0,features:[ve,lt],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M3.11101 12.8203C4.26215 13.5895 5.61553 14 7 14C8.85652 14 10.637 13.2625 11.9497 11.9497C13.2625 10.637 14 8.85652 14 7C14 5.61553 13.5895 4.26215 12.8203 3.11101C12.0511 1.95987 10.9579 1.06266 9.67879 0.532846C8.3997 0.00303296 6.99224 -0.13559 5.63437 0.134506C4.2765 0.404603 3.02922 1.07129 2.05026 2.05026C1.07129 3.02922 0.404603 4.2765 0.134506 5.63437C-0.13559 6.99224 0.00303296 8.3997 0.532846 9.67879C1.06266 10.9579 1.95987 12.0511 3.11101 12.8203ZM3.75918 2.14976C4.71846 1.50879 5.84628 1.16667 7 1.16667C8.5471 1.16667 10.0308 1.78125 11.1248 2.87521C12.2188 3.96918 12.8333 5.45291 12.8333 7C12.8333 8.15373 12.4912 9.28154 11.8502 10.2408C11.2093 11.2001 10.2982 11.9478 9.23232 12.3893C8.16642 12.8308 6.99353 12.9463 5.86198 12.7212C4.73042 12.4962 3.69102 11.9406 2.87521 11.1248C2.05941 10.309 1.50384 9.26958 1.27876 8.13803C1.05367 7.00647 1.16919 5.83358 1.61071 4.76768C2.05222 3.70178 2.79989 2.79074 3.75918 2.14976ZM7.00002 4.8611C6.84594 4.85908 6.69873 4.79698 6.58977 4.68801C6.48081 4.57905 6.4187 4.43185 6.41669 4.27776V3.88888C6.41669 3.73417 6.47815 3.58579 6.58754 3.4764C6.69694 3.367 6.84531 3.30554 7.00002 3.30554C7.15473 3.30554 7.3031 3.367 7.4125 3.4764C7.52189 3.58579 7.58335 3.73417 7.58335 3.88888V4.27776C7.58134 4.43185 7.51923 4.57905 7.41027 4.68801C7.30131 4.79698 7.1541 4.85908 7.00002 4.8611ZM7.00002 10.6945C6.84594 10.6925 6.69873 10.6304 6.58977 10.5214C6.48081 10.4124 6.4187 10.2652 6.41669 10.1111V6.22225C6.41669 6.06754 6.47815 5.91917 6.58754 5.80977C6.69694 5.70037 6.84531 5.63892 7.00002 5.63892C7.15473 5.63892 7.3031 5.70037 7.4125 5.80977C7.52189 5.91917 7.58335 6.06754 7.58335 6.22225V10.1111C7.58134 10.2652 7.51923 10.4124 7.41027 10.5214C7.30131 10.6304 7.1541 10.6925 7.00002 10.6945Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,r){t&1&&(It(),m(0,"svg",0)(1,"g"),O(2,"path",1),_(),m(3,"defs")(4,"clipPath",2),O(5,"rect",3),_()()()),t&2&&(le(r.getClassNames()),V("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),u(),V("clip-path",r.pathId),u(3),h("id",r.pathId))},encapsulation:2})}return i})();var ka=(()=>{class i extends St{pathId;ngOnInit(){this.pathId="url(#"+yt()+")"}static \u0275fac=(()=>{let e;return function(r){return(e||(e=tt(i)))(r||i)}})();static \u0275cmp=ie({type:i,selectors:[["TimesCircleIcon"]],standalone:!0,features:[ve,lt],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M7 14C5.61553 14 4.26215 13.5895 3.11101 12.8203C1.95987 12.0511 1.06266 10.9579 0.532846 9.67879C0.00303296 8.3997 -0.13559 6.99224 0.134506 5.63437C0.404603 4.2765 1.07129 3.02922 2.05026 2.05026C3.02922 1.07129 4.2765 0.404603 5.63437 0.134506C6.99224 -0.13559 8.3997 0.00303296 9.67879 0.532846C10.9579 1.06266 12.0511 1.95987 12.8203 3.11101C13.5895 4.26215 14 5.61553 14 7C14 8.85652 13.2625 10.637 11.9497 11.9497C10.637 13.2625 8.85652 14 7 14ZM7 1.16667C5.84628 1.16667 4.71846 1.50879 3.75918 2.14976C2.79989 2.79074 2.05222 3.70178 1.61071 4.76768C1.16919 5.83358 1.05367 7.00647 1.27876 8.13803C1.50384 9.26958 2.05941 10.309 2.87521 11.1248C3.69102 11.9406 4.73042 12.4962 5.86198 12.7212C6.99353 12.9463 8.16642 12.8308 9.23232 12.3893C10.2982 11.9478 11.2093 11.2001 11.8502 10.2408C12.4912 9.28154 12.8333 8.15373 12.8333 7C12.8333 5.45291 12.2188 3.96918 11.1248 2.87521C10.0308 1.78125 8.5471 1.16667 7 1.16667ZM4.66662 9.91668C4.58998 9.91704 4.51404 9.90209 4.44325 9.87271C4.37246 9.84333 4.30826 9.8001 4.2544 9.74557C4.14516 9.6362 4.0838 9.48793 4.0838 9.33335C4.0838 9.17876 4.14516 9.0305 4.2544 8.92113L6.17553 7L4.25443 5.07891C4.15139 4.96832 4.09529 4.82207 4.09796 4.67094C4.10063 4.51982 4.16185 4.37563 4.26872 4.26876C4.3756 4.16188 4.51979 4.10066 4.67091 4.09799C4.82204 4.09532 4.96829 4.15142 5.07887 4.25446L6.99997 6.17556L8.92106 4.25446C9.03164 4.15142 9.1779 4.09532 9.32903 4.09799C9.48015 4.10066 9.62434 4.16188 9.73121 4.26876C9.83809 4.37563 9.89931 4.51982 9.90198 4.67094C9.90464 4.82207 9.84855 4.96832 9.74551 5.07891L7.82441 7L9.74554 8.92113C9.85478 9.0305 9.91614 9.17876 9.91614 9.33335C9.91614 9.48793 9.85478 9.6362 9.74554 9.74557C9.69168 9.8001 9.62748 9.84333 9.55669 9.87271C9.4859 9.90209 9.40996 9.91704 9.33332 9.91668C9.25668 9.91704 9.18073 9.90209 9.10995 9.87271C9.03916 9.84333 8.97495 9.8001 8.9211 9.74557L6.99997 7.82444L5.07884 9.74557C5.02499 9.8001 4.96078 9.84333 4.88999 9.87271C4.81921 9.90209 4.74326 9.91704 4.66662 9.91668Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,r){t&1&&(It(),m(0,"svg",0)(1,"g"),O(2,"path",1),_(),m(3,"defs")(4,"clipPath",2),O(5,"rect",3),_()()()),t&2&&(le(r.getClassNames()),V("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),u(),V("clip-path",r.pathId),u(3),h("id",r.pathId))},encapsulation:2})}return i})();function Gte(i,n){i&1&&O(0,"CheckIcon",4),i&2&&h("styleClass","p-inline-message-icon")}function zte(i,n){i&1&&O(0,"InfoCircleIcon",4),i&2&&h("styleClass","p-inline-message-icon")}function Wte(i,n){i&1&&O(0,"TimesCircleIcon",4),i&2&&h("styleClass","p-inline-message-icon")}function Kte(i,n){i&1&&O(0,"ExclamationTriangleIcon",4),i&2&&h("styleClass","p-inline-message-icon")}function $te(i,n){if(i&1&&O(0,"span",6),i&2){let e=f(2);h("innerHTML",e.text,Xi)}}function qte(i,n){if(i&1&&(m(0,"div"),I(1,$te,1,1,"span",5),_()),i&2){let e=f();u(),h("ngIf",!e.escape)}}function Yte(i,n){if(i&1&&(m(0,"span",8),D(1),_()),i&2){let e=f(2);u(),$(e.text)}}function Jte(i,n){if(i&1&&I(0,Yte,2,1,"span",7),i&2){let e=f();h("ngIf",e.escape)}}var ov=(()=>{class i{severity;text;escape=!0;style;styleClass;get icon(){return this.severity?this.severity:"info"}get containerClass(){return{[`p-inline-message-${this.severity}`]:this.severity,"p-inline-message-icon-only":this.text==null}}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=ie({type:i,selectors:[["p-message"]],hostAttrs:[1,"p-element"],inputs:{severity:"severity",text:"text",escape:[2,"escape","escape",K],style:"style",styleClass:"styleClass"},features:[qe],decls:8,vars:10,consts:[["escapeOut",""],["aria-live","polite",1,"p-inline-message","p-component","p-inline-message",3,"ngStyle","ngClass"],[3,"styleClass",4,"ngIf"],[4,"ngIf","ngIfElse"],[3,"styleClass"],["class","p-inline-message-text",3,"innerHTML",4,"ngIf"],[1,"p-inline-message-text",3,"innerHTML"],["class","p-inline-message-text",4,"ngIf"],[1,"p-inline-message-text"]],template:function(t,r){if(t&1&&(m(0,"div",1),I(1,Gte,1,1,"CheckIcon",2)(2,zte,1,1,"InfoCircleIcon",2)(3,Wte,1,1,"TimesCircleIcon",2)(4,Kte,1,1,"ExclamationTriangleIcon",2)(5,qte,2,1,"div",3)(6,Jte,1,1,"ng-template",null,0,Pt),_()),t&2){let o=We(7);le(r.styleClass),h("ngStyle",r.style)("ngClass",r.containerClass),u(),h("ngIf",r.icon==="success"),u(),h("ngIf",r.icon==="info"),u(),h("ngIf",r.icon==="error"),u(),h("ngIf",r.icon==="warn"),u(),h("ngIf",!r.escape)("ngIfElse",o)}},dependencies:()=>[Ge,et,Ee,fn,Cf,ka,_f],styles:[`@layer primeng{.p-inline-message{display:inline-flex;align-items:center;justify-content:center;vertical-align:top}.p-inline-message-icon-only .p-inline-message-text{visibility:hidden;width:0}.p-fluid .p-inline-message{display:flex}}
`],encapsulation:2,changeDetection:0})}return i})(),ET=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=Oe({type:i});static \u0275inj=Te({imports:[Ye,fn,Cf,ka,_f]})}return i})();var xo=(()=>{class i{el;ngModel;control;cd;config;autoResize;variant="outlined";onResize=new Q;filled;cachedScrollHeight;ngModelSubscription;ngControlSubscription;constructor(e,t,r,o,s){this.el=e,this.ngModel=t,this.control=r,this.cd=o,this.config=s}ngOnInit(){this.ngModel&&(this.ngModelSubscription=this.ngModel.valueChanges.subscribe(()=>{this.updateState()})),this.control&&(this.ngControlSubscription=this.control.valueChanges.subscribe(()=>{this.updateState()}))}ngAfterViewInit(){this.autoResize&&this.resize(),this.updateFilledState(),this.cd.detectChanges()}onInput(e){this.updateState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length}resize(e){this.el.nativeElement.style.height="auto",this.el.nativeElement.style.height=this.el.nativeElement.scrollHeight+"px",parseFloat(this.el.nativeElement.style.height)>=parseFloat(this.el.nativeElement.style.maxHeight)?(this.el.nativeElement.style.overflowY="scroll",this.el.nativeElement.style.height=this.el.nativeElement.style.maxHeight):this.el.nativeElement.style.overflow="hidden",this.onResize.emit(e||{})}updateState(){this.updateFilledState(),this.autoResize&&this.resize()}ngOnDestroy(){this.ngModelSubscription&&this.ngModelSubscription.unsubscribe(),this.ngControlSubscription&&this.ngControlSubscription.unsubscribe()}static \u0275fac=function(t){return new(t||i)(b(ze),b(Gn,8),b(jo,8),b(Ie),b(Vt))};static \u0275dir=gt({type:i,selectors:[["","pInputTextarea",""]],hostAttrs:[1,"p-inputtextarea","p-inputtext","p-component","p-element"],hostVars:6,hostBindings:function(t,r){t&1&&P("input",function(s){return r.onInput(s)}),t&2&&yn("p-filled",r.filled)("p-inputtextarea-resizable",r.autoResize)("p-variant-filled",r.variant==="filled"||r.config.inputStyle()==="filled")},inputs:{autoResize:[2,"autoResize","autoResize",K],variant:"variant"},outputs:{onResize:"onResize"},features:[qe]})}return i})(),xT=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=Oe({type:i});static \u0275inj=Te({imports:[Ye]})}return i})();var yf=(()=>{class i extends St{static \u0275fac=(()=>{let e;return function(r){return(e||(e=tt(i)))(r||i)}})();static \u0275cmp=ie({type:i,selectors:[["ChevronLeftIcon"]],standalone:!0,features:[ve,lt],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M9.61296 13C9.50997 13.0005 9.40792 12.9804 9.3128 12.9409C9.21767 12.9014 9.13139 12.8433 9.05902 12.7701L3.83313 7.54416C3.68634 7.39718 3.60388 7.19795 3.60388 6.99022C3.60388 6.78249 3.68634 6.58325 3.83313 6.43628L9.05902 1.21039C9.20762 1.07192 9.40416 0.996539 9.60724 1.00012C9.81032 1.00371 10.0041 1.08597 10.1477 1.22959C10.2913 1.37322 10.3736 1.56698 10.3772 1.77005C10.3808 1.97313 10.3054 2.16968 10.1669 2.31827L5.49496 6.99022L10.1669 11.6622C10.3137 11.8091 10.3962 12.0084 10.3962 12.2161C10.3962 12.4238 10.3137 12.6231 10.1669 12.7701C10.0945 12.8433 10.0083 12.9014 9.91313 12.9409C9.81801 12.9804 9.71596 13.0005 9.61296 13Z","fill","currentColor"]],template:function(t,r){t&1&&(It(),m(0,"svg",0),O(1,"path",1),_()),t&2&&(le(r.getClassNames()),V("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return i})();var Fa=(()=>{class i extends St{static \u0275fac=(()=>{let e;return function(r){return(e||(e=tt(i)))(r||i)}})();static \u0275cmp=ie({type:i,selectors:[["ChevronRightIcon"]],standalone:!0,features:[ve,lt],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.38708 13C4.28408 13.0005 4.18203 12.9804 4.08691 12.9409C3.99178 12.9014 3.9055 12.8433 3.83313 12.7701C3.68634 12.6231 3.60388 12.4238 3.60388 12.2161C3.60388 12.0084 3.68634 11.8091 3.83313 11.6622L8.50507 6.99022L3.83313 2.31827C3.69467 2.16968 3.61928 1.97313 3.62287 1.77005C3.62645 1.56698 3.70872 1.37322 3.85234 1.22959C3.99596 1.08597 4.18972 1.00371 4.3928 1.00012C4.59588 0.996539 4.79242 1.07192 4.94102 1.21039L10.1669 6.43628C10.3137 6.58325 10.3962 6.78249 10.3962 6.99022C10.3962 7.19795 10.3137 7.39718 10.1669 7.54416L4.94102 12.7701C4.86865 12.8433 4.78237 12.9014 4.68724 12.9409C4.59212 12.9804 4.49007 13.0005 4.38708 13Z","fill","currentColor"]],template:function(t,r){t&1&&(It(),m(0,"svg",0),O(1,"path",1),_()),t&2&&(le(r.getClassNames()),V("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return i})();var K4=["*"];function Xte(i,n){i&1&&ue(0)}function Qte(i,n){if(i&1&&(pe(0),I(1,Xte,1,0,"ng-container",3),he()),i&2){let e=f(2);u(),h("ngTemplateOutlet",e.contentTemplate)}}function Zte(i,n){if(i&1&&(m(0,"div",1),ii(1),I(2,Qte,2,1,"ng-container",2),_()),i&2){let e=f();h("hidden",!e.selected),V("id",e.tabView.getTabContentId(e.id))("aria-hidden",!e.selected)("aria-labelledby",e.tabView.getTabHeaderActionId(e.id))("data-pc-name","tabpanel"),u(2),h("ngIf",e.contentTemplate&&(e.cache?e.loaded:e.selected))}}var eie=["content"],tie=["navbar"],iie=["prevBtn"],nie=["nextBtn"],rie=["inkbar"],oie=["elementToObserve"],sie=i=>({"p-tabview p-component":!0,"p-tabview-scrollable":i}),aie=(i,n)=>({"p-highlight":i,"p-disabled":n});function lie(i,n){i&1&&O(0,"ChevronLeftIcon"),i&2&&V("aria-hidden",!0)}function cie(i,n){}function die(i,n){i&1&&I(0,cie,0,0,"ng-template")}function uie(i,n){if(i&1){let e=B();m(0,"button",15,4),P("click",function(){S(e);let r=f();return A(r.navBackward())}),I(2,lie,1,1,"ChevronLeftIcon",16)(3,die,1,0,null,17),_()}if(i&2){let e=f();V("tabindex",e.tabindex)("aria-label",e.prevButtonAriaLabel),u(2),h("ngIf",!e.previousIconTemplate),u(),h("ngTemplateOutlet",e.previousIconTemplate)}}function pie(i,n){if(i&1&&O(0,"span",26),i&2){let e=f(3).$implicit;h("ngClass",e.leftIcon)}}function hie(i,n){}function fie(i,n){i&1&&I(0,hie,0,0,"ng-template")}function mie(i,n){if(i&1&&(m(0,"span",27),I(1,fie,1,0,null,17),_()),i&2){let e=f(3).$implicit;u(),h("ngTemplateOutlet",e.leftIconTemplate)}}function gie(i,n){if(i&1&&O(0,"span",28),i&2){let e=f(3).$implicit;h("ngClass",e.rightIcon)}}function _ie(i,n){}function Cie(i,n){i&1&&I(0,_ie,0,0,"ng-template")}function yie(i,n){if(i&1&&(m(0,"span",29),I(1,Cie,1,0,null,17),_()),i&2){let e=f(3).$implicit;u(),h("ngTemplateOutlet",e.rightIconTemplate)}}function Iie(i,n){if(i&1&&(pe(0),I(1,pie,1,1,"span",21)(2,mie,2,1,"span",22),m(3,"span",23),D(4),_(),I(5,gie,1,1,"span",24)(6,yie,2,1,"span",25),he()),i&2){let e=f(2).$implicit;u(),h("ngIf",e.leftIcon&&!e.leftIconTemplate),u(),h("ngIf",e.leftIconTemplate),u(2),$(e.header),u(),h("ngIf",e.rightIcon&&!e.rightIconTemplate),u(),h("ngIf",e.rightIconTemplate)}}function vie(i,n){i&1&&ue(0)}function bie(i,n){if(i&1){let e=B();m(0,"TimesIcon",32),P("click",function(r){S(e);let o=f(3).$implicit,s=f();return A(s.close(r,o))}),_()}i&2&&h("styleClass","p-tabview-close")}function wie(i,n){i&1&&O(0,"span",33)}function Sie(i,n){}function Aie(i,n){i&1&&I(0,Sie,0,0,"ng-template")}function Eie(i,n){if(i&1&&(pe(0),I(1,bie,1,1,"TimesIcon",30)(2,wie,1,0,"span",31)(3,Aie,1,0,null,17),he()),i&2){let e=f(2).$implicit;u(),h("ngIf",!e.closeIconTemplate),u(),h("ngIf",e.closeIconTemplate),u(),h("ngTemplateOutlet",e.closeIconTemplate)}}function xie(i,n){if(i&1){let e=B();m(0,"li",19)(1,"a",20),P("click",function(r){S(e);let o=f().$implicit,s=f();return A(s.open(r,o))})("keydown",function(r){S(e);let o=f().$implicit,s=f();return A(s.onTabKeyDown(r,o))}),I(2,Iie,7,5,"ng-container",16)(3,vie,1,0,"ng-container",17)(4,Eie,4,3,"ng-container",16),_()()}if(i&2){let e=f(),t=e.$implicit,r=e.index,o=f();le(t.headerStyleClass),h("ngClass",Je(19,aie,t.selected,t.disabled))("ngStyle",t.headerStyle),V("data-p-disabled",t.disabled),u(),h("pTooltip",t.tooltip)("tooltipPosition",t.tooltipPosition)("positionStyle",t.tooltipPositionStyle)("tooltipStyleClass",t.tooltipStyleClass),V("id",o.getTabHeaderActionId(t.id))("aria-controls",o.getTabContentId(t.id))("aria-selected",t.selected)("tabindex",t.disabled||!t.selected?"-1":o.tabindex)("aria-disabled",t.disabled)("data-pc-index",r)("data-pc-section","headeraction"),u(),h("ngIf",!t.headerTemplate),u(),h("ngTemplateOutlet",t.headerTemplate),u(),h("ngIf",t.closable)}}function Tie(i,n){if(i&1&&I(0,xie,5,22,"li",18),i&2){let e=n.$implicit;h("ngIf",!e.closed)}}function Oie(i,n){i&1&&O(0,"ChevronRightIcon"),i&2&&V("aria-hidden",!0)}function Die(i,n){}function Rie(i,n){i&1&&I(0,Die,0,0,"ng-template")}function Pie(i,n){if(i&1){let e=B();m(0,"button",34,5),P("click",function(){S(e);let r=f();return A(r.navForward())}),I(2,Oie,1,1,"ChevronRightIcon",16)(3,Rie,1,0,null,17),_()}if(i&2){let e=f();V("tabindex",e.tabindex)("aria-label",e.nextButtonAriaLabel),u(2),h("ngIf",!e.nextIconTemplate),u(),h("ngTemplateOutlet",e.nextIconTemplate)}}var t_=(()=>{class i{el;viewContainer;cd;closable=!1;get headerStyle(){return this._headerStyle}set headerStyle(e){this._headerStyle=e,this.tabView.cd.markForCheck()}get headerStyleClass(){return this._headerStyleClass}set headerStyleClass(e){this._headerStyleClass=e,this.tabView.cd.markForCheck()}cache=!0;tooltip;tooltipPosition="top";tooltipPositionStyle="absolute";tooltipStyleClass;get selected(){return!!this._selected}set selected(e){this._selected=e,this.loaded||this.cd.detectChanges(),e&&(this.loaded=!0)}get disabled(){return!!this._disabled}set disabled(e){this._disabled=e,this.tabView.cd.markForCheck()}get header(){return this._header}set header(e){this._header=e,Promise.resolve().then(()=>{this.tabView.updateInkBar(),this.tabView.cd.markForCheck()})}get leftIcon(){return this._leftIcon}set leftIcon(e){this._leftIcon=e,this.tabView.cd.markForCheck()}get rightIcon(){return this._rightIcon}set rightIcon(e){this._rightIcon=e,this.tabView.cd.markForCheck()}templates;closed=!1;view=null;_headerStyle;_headerStyleClass;_selected;_disabled;_header;_leftIcon;_rightIcon=void 0;loaded=!1;id;contentTemplate;headerTemplate;leftIconTemplate;rightIconTemplate;closeIconTemplate;tabView;constructor(e,t,r,o){this.el=t,this.viewContainer=r,this.cd=o,this.tabView=e,this.id=yt()}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"header":this.headerTemplate=e.template;break;case"content":this.contentTemplate=e.template;break;case"righticon":this.rightIconTemplate=e.template;break;case"lefticon":this.leftIconTemplate=e.template;break;case"closeicon":this.closeIconTemplate=e.template;break;default:this.contentTemplate=e.template;break}})}ngOnDestroy(){this.view=null}static \u0275fac=function(t){return new(t||i)(b(zt(()=>i_)),b(ze),b(fo),b(Ie))};static \u0275cmp=ie({type:i,selectors:[["p-tabPanel"]],contentQueries:function(t,r,o){if(t&1&&ot(o,be,4),t&2){let s;ee(s=te())&&(r.templates=s)}},hostAttrs:[1,"p-element"],inputs:{closable:[2,"closable","closable",K],headerStyle:"headerStyle",headerStyleClass:"headerStyleClass",cache:[2,"cache","cache",K],tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",selected:"selected",disabled:"disabled",header:"header",leftIcon:"leftIcon",rightIcon:"rightIcon"},features:[qe],ngContentSelectors:K4,decls:1,vars:1,consts:[["class","p-tabview-panel","role","tabpanel",3,"hidden",4,"ngIf"],["role","tabpanel",1,"p-tabview-panel",3,"hidden"],[4,"ngIf"],[4,"ngTemplateOutlet"]],template:function(t,r){t&1&&(Fi(),I(0,Zte,3,6,"div",0)),t&2&&h("ngIf",!r.closed)},dependencies:[et,st],encapsulation:2})}return i})(),i_=(()=>{class i{platformId;el;cd;renderer;style;styleClass;controlClose;scrollable;get activeIndex(){return this._activeIndex}set activeIndex(e){if(this._activeIndex=e,this.preventActiveIndexPropagation){this.preventActiveIndexPropagation=!1;return}this.tabs&&this.tabs.length&&this._activeIndex!=null&&this.tabs.length>this._activeIndex&&(this.findSelectedTab().selected=!1,this.tabs[this._activeIndex].selected=!0,this.tabChanged=!0,this.updateScrollBar(e))}selectOnFocus=!1;nextButtonAriaLabel;prevButtonAriaLabel;autoHideButtons=!0;tabindex=0;onChange=new Q;onClose=new Q;activeIndexChange=new Q;content;navbar;prevBtn;nextBtn;inkbar;tabPanels;templates;initialized;tabs;_activeIndex;preventActiveIndexPropagation;tabChanged;backwardIsDisabled=!0;forwardIsDisabled=!1;tabChangesSubscription;nextIconTemplate;previousIconTemplate;resizeObserver;container;list;buttonVisible;elementToObserve;constructor(e,t,r,o){this.platformId=e,this.el=t,this.cd=r,this.renderer=o}ngAfterContentInit(){this.initTabs(),this.tabChangesSubscription=this.tabPanels.changes.subscribe(e=>{this.initTabs(),this.refreshButtonState(),this.callResizeObserver()}),this.templates.forEach(e=>{switch(e.getType()){case"previousicon":this.previousIconTemplate=e.template;break;case"nexticon":this.nextIconTemplate=e.template;break}})}callResizeObserver(){ht(this.platformId)&&this.autoHideButtons&&this.bindResizeObserver()}ngAfterViewInit(){this.callResizeObserver()}bindResizeObserver(){this.container=M.findSingle(this.el.nativeElement,'[data-pc-section="navcontent"]'),this.list=M.findSingle(this.el.nativeElement,'[data-pc-section="nav"]'),this.resizeObserver=new ResizeObserver(()=>{this.list.offsetWidth>=this.container.offsetWidth?this.buttonVisible=!0:this.buttonVisible=!1,this.updateButtonState(),this.cd.detectChanges()}),this.resizeObserver.observe(this.container)}unbindResizeObserver(){this.resizeObserver.unobserve(this.elementToObserve.nativeElement),this.resizeObserver=null}ngAfterViewChecked(){ht(this.platformId)&&this.tabChanged&&(this.updateInkBar(),this.tabChanged=!1)}ngOnDestroy(){this.tabChangesSubscription&&this.tabChangesSubscription.unsubscribe(),this.resizeObserver&&this.unbindResizeObserver()}getTabHeaderActionId(e){return`${e}_header_action`}getTabContentId(e){return`${e}_content`}initTabs(){this.tabs=this.tabPanels.toArray(),!this.findSelectedTab()&&this.tabs.length&&(this.activeIndex!=null&&this.tabs.length>this.activeIndex?this.tabs[this.activeIndex].selected=!0:this.tabs[0].selected=!0,this.tabChanged=!0),this.cd.markForCheck()}onTabKeyDown(e,t){switch(e.code){case"ArrowLeft":this.onTabArrowLeftKey(e);break;case"ArrowRight":this.onTabArrowRightKey(e);break;case"Home":this.onTabHomeKey(e);break;case"End":this.onTabEndKey(e);break;case"PageDown":this.onTabEndKey(e);break;case"PageUp":this.onTabHomeKey(e);break;case"Enter":case"Space":this.open(e,t);break;default:break}}onTabArrowLeftKey(e){let t=this.findPrevHeaderAction(e.target.parentElement),r=M.getAttribute(t,"data-pc-index");t?this.changeFocusedTab(e,t,r):this.onTabEndKey(e),e.preventDefault()}onTabArrowRightKey(e){let t=this.findNextHeaderAction(e.target.parentElement),r=M.getAttribute(t,"data-pc-index");t?this.changeFocusedTab(e,t,r):this.onTabHomeKey(e),e.preventDefault()}onTabHomeKey(e){let t=this.findFirstHeaderAction(),r=M.getAttribute(t,"data-pc-index");this.changeFocusedTab(e,t,r),e.preventDefault()}onTabEndKey(e){let t=this.findLastHeaderAction(),r=M.getAttribute(t,"data-pc-index");this.changeFocusedTab(e,t,r),e.preventDefault()}changeFocusedTab(e,t,r){if(t&&(M.focus(t),t.scrollIntoView({block:"nearest"}),this.selectOnFocus)){let o=this.tabs[r];this.open(e,o)}}findNextHeaderAction(e,t=!1){let r=t?e:e.nextElementSibling;return r?M.getAttribute(r,"data-p-disabled")||M.getAttribute(r,"data-pc-section")==="inkbar"?this.findNextHeaderAction(r):M.findSingle(r,'[data-pc-section="headeraction"]'):null}findPrevHeaderAction(e,t=!1){let r=t?e:e.previousElementSibling;return r?M.getAttribute(r,"data-p-disabled")||M.getAttribute(r,"data-pc-section")==="inkbar"?this.findPrevHeaderAction(r):M.findSingle(r,'[data-pc-section="headeraction"]'):null}findFirstHeaderAction(){let e=this.navbar.nativeElement.firstElementChild;return this.findNextHeaderAction(e,!0)}findLastHeaderAction(){let e=this.navbar.nativeElement.lastElementChild,t=M.getAttribute(e,"data-pc-section")==="inkbar"?e.previousElementSibling:e;return this.findPrevHeaderAction(t,!0)}open(e,t){if(t.disabled){e&&e.preventDefault();return}if(!t.selected){let r=this.findSelectedTab();r&&(r.selected=!1),this.tabChanged=!0,t.selected=!0;let o=this.findTabIndex(t);this.preventActiveIndexPropagation=!0,this.activeIndexChange.emit(o),this.onChange.emit({originalEvent:e,index:o}),this.updateScrollBar(o)}e&&e.preventDefault()}close(e,t){this.controlClose?this.onClose.emit({originalEvent:e,index:this.findTabIndex(t),close:()=>{this.closeTab(t)}}):(this.closeTab(t),this.onClose.emit({originalEvent:e,index:this.findTabIndex(t)}))}closeTab(e){if(!e.disabled){if(e.selected){this.tabChanged=!0,e.selected=!1;for(let t=0;t<this.tabs.length;t++){let r=this.tabs[t];if(!r.closed&&!e.disabled&&r!=e){r.selected=!0;break}}}e.closed=!0,setTimeout(()=>{this.updateInkBar()})}}findSelectedTab(){for(let e=0;e<this.tabs.length;e++)if(this.tabs[e].selected)return this.tabs[e];return null}findTabIndex(e){let t=-1;for(let r=0;r<this.tabs.length;r++)if(this.tabs[r]==e){t=r;break}return t}getBlockableElement(){return this.el.nativeElement.children[0]}updateInkBar(){if(ht(this.platformId)&&this.navbar){let e=M.findSingle(this.navbar.nativeElement,"li.p-highlight");if(!e)return;this.inkbar.nativeElement.style.width=M.getWidth(e)+"px",this.inkbar.nativeElement.style.left=M.getOffset(e).left-M.getOffset(this.navbar.nativeElement).left+"px"}}updateScrollBar(e){let t=this.navbar.nativeElement.children[e];t&&t.scrollIntoView({block:"nearest"})}updateButtonState(){let e=this.content.nativeElement,{scrollLeft:t,scrollWidth:r}=e,o=M.getWidth(e);this.backwardIsDisabled=t===0,this.forwardIsDisabled=Math.round(t)===r-o}refreshButtonState(){this.container=M.findSingle(this.el.nativeElement,'[data-pc-section="navcontent"]'),this.list=M.findSingle(this.el.nativeElement,'[data-pc-section="nav"]'),this.list.offsetWidth>=this.container.offsetWidth&&(this.list.offsetWidth>=this.container.offsetWidth?this.buttonVisible=!0:this.buttonVisible=!1,this.updateButtonState(),this.cd.markForCheck())}onScroll(e){this.scrollable&&this.updateButtonState(),e.preventDefault()}getVisibleButtonWidths(){return[this.prevBtn?.nativeElement,this.nextBtn?.nativeElement].reduce((e,t)=>t?e+M.getWidth(t):e,0)}navBackward(){let e=this.content.nativeElement,t=M.getWidth(e)-this.getVisibleButtonWidths(),r=e.scrollLeft-t;e.scrollLeft=r<=0?0:r}navForward(){let e=this.content.nativeElement,t=M.getWidth(e)-this.getVisibleButtonWidths(),r=e.scrollLeft+t,o=e.scrollWidth-t;e.scrollLeft=r>=o?o:r}static \u0275fac=function(t){return new(t||i)(b(qt),b(ze),b(Ie),b(Ft))};static \u0275cmp=ie({type:i,selectors:[["p-tabView"]],contentQueries:function(t,r,o){if(t&1&&(ot(o,t_,4),ot(o,be,4)),t&2){let s;ee(s=te())&&(r.tabPanels=s),ee(s=te())&&(r.templates=s)}},viewQuery:function(t,r){if(t&1&&(de(eie,5),de(tie,5),de(iie,5),de(nie,5),de(rie,5),de(oie,5)),t&2){let o;ee(o=te())&&(r.content=o.first),ee(o=te())&&(r.navbar=o.first),ee(o=te())&&(r.prevBtn=o.first),ee(o=te())&&(r.nextBtn=o.first),ee(o=te())&&(r.inkbar=o.first),ee(o=te())&&(r.elementToObserve=o.first)}},hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",controlClose:[2,"controlClose","controlClose",K],scrollable:[2,"scrollable","scrollable",K],activeIndex:"activeIndex",selectOnFocus:[2,"selectOnFocus","selectOnFocus",K],nextButtonAriaLabel:"nextButtonAriaLabel",prevButtonAriaLabel:"prevButtonAriaLabel",autoHideButtons:[2,"autoHideButtons","autoHideButtons",K],tabindex:[2,"tabindex","tabindex",ke]},outputs:{onChange:"onChange",onClose:"onClose",activeIndexChange:"activeIndexChange"},features:[qe],ngContentSelectors:K4,decls:14,vars:13,consts:[["elementToObserve",""],["content",""],["navbar",""],["inkbar",""],["prevBtn",""],["nextBtn",""],[3,"ngClass","ngStyle"],[1,"p-tabview-nav-container"],["class","p-tabview-nav-prev p-tabview-nav-btn p-link","type","button","pRipple","",3,"click",4,"ngIf"],[1,"p-tabview-nav-content",3,"scroll"],["role","tablist",1,"p-tabview-nav"],["ngFor","",3,"ngForOf"],["role","presentation","aria-hidden","true",1,"p-tabview-ink-bar"],["class","p-tabview-nav-next p-tabview-nav-btn p-link","type","button","pRipple","",3,"click",4,"ngIf"],[1,"p-tabview-panels"],["type","button","pRipple","",1,"p-tabview-nav-prev","p-tabview-nav-btn","p-link",3,"click"],[4,"ngIf"],[4,"ngTemplateOutlet"],["role","presentation",3,"ngClass","ngStyle","class",4,"ngIf"],["role","presentation",3,"ngClass","ngStyle"],["role","tab","pRipple","",1,"p-tabview-nav-link",3,"click","keydown","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],["class","p-tabview-left-icon",3,"ngClass",4,"ngIf"],["class","p-tabview-left-icon",4,"ngIf"],[1,"p-tabview-title"],["class","p-tabview-right-icon",3,"ngClass",4,"ngIf"],["class","p-tabview-right-icon",4,"ngIf"],[1,"p-tabview-left-icon",3,"ngClass"],[1,"p-tabview-left-icon"],[1,"p-tabview-right-icon",3,"ngClass"],[1,"p-tabview-right-icon"],[3,"styleClass","click",4,"ngIf"],["class","tab.closeIconTemplate",4,"ngIf"],[3,"click","styleClass"],[1,"tab.closeIconTemplate"],["type","button","pRipple","",1,"p-tabview-nav-next","p-tabview-nav-btn","p-link",3,"click"]],template:function(t,r){if(t&1){let o=B();Fi(),m(0,"div",6)(1,"div",7,0),I(3,uie,4,4,"button",8),m(4,"div",9,1),P("scroll",function(a){return S(o),A(r.onScroll(a))}),m(6,"ul",10,2),I(8,Tie,1,1,"ng-template",11),O(9,"li",12,3),_()(),I(11,Pie,4,4,"button",13),_(),m(12,"div",14),ii(13),_()()}t&2&&(le(r.styleClass),h("ngClass",oe(11,sie,r.scrollable))("ngStyle",r.style),V("data-pc-name","tabview"),u(3),h("ngIf",r.scrollable&&!r.backwardIsDisabled&&r.autoHideButtons),u(),V("data-pc-section","navcontent"),u(2),V("data-pc-section","nav"),u(2),h("ngForOf",r.tabs),u(),V("data-pc-section","inkbar"),u(2),h("ngIf",r.scrollable&&!r.forwardIsDisabled&&r.buttonVisible))},dependencies:()=>[Ge,tn,et,st,Ee,Zn,qi,Li,yf,Fa],styles:[`@layer primeng{.p-tabview-nav-container{position:relative}.p-tabview-scrollable .p-tabview-nav-container{overflow:hidden}.p-tabview-nav-content{overflow-x:auto;overflow-y:hidden;scroll-behavior:smooth;scrollbar-width:none;overscroll-behavior:contain auto}.p-tabview-nav{display:inline-flex;min-width:100%;margin:0;padding:0;list-style-type:none;flex:1 1 auto}.p-tabview-nav-link{cursor:pointer;-webkit-user-select:none;user-select:none;display:flex;align-items:center;position:relative;text-decoration:none;overflow:hidden}.p-tabview-ink-bar{display:none;z-index:1}.p-tabview-nav-link:focus{z-index:1}.p-tabview-title{line-height:1;white-space:nowrap}.p-tabview-nav-btn{position:absolute;top:0;z-index:2;height:100%;display:flex;align-items:center;justify-content:center}.p-tabview-nav-prev{left:0}.p-tabview-nav-next{right:0}.p-tabview-nav-content::-webkit-scrollbar{display:none}.p-tabview-close{z-index:1}}
`],encapsulation:2,changeDetection:0})}return i})(),TT=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=Oe({type:i});static \u0275inj=Te({imports:[Ye,nt,zr,Qi,Li,yf,Fa,nt]})}return i})();var kie=["overlay"],Fie=["content"],Lie=["*"],Mie=(i,n,e,t,r,o,s,a,l,c,d,p,g,C)=>({"p-overlay p-component":!0,"p-overlay-modal p-component-overlay p-component-overlay-enter":i,"p-overlay-center":n,"p-overlay-top":e,"p-overlay-top-start":t,"p-overlay-top-end":r,"p-overlay-bottom":o,"p-overlay-bottom-start":s,"p-overlay-bottom-end":a,"p-overlay-left":l,"p-overlay-left-start":c,"p-overlay-left-end":d,"p-overlay-right":p,"p-overlay-right-start":g,"p-overlay-right-end":C}),Nie=(i,n,e)=>({showTransitionParams:i,hideTransitionParams:n,transform:e}),Vie=i=>({value:"visible",params:i}),Bie=i=>({mode:i}),Uie=i=>({$implicit:i});function jie(i,n){i&1&&ue(0)}function Hie(i,n){if(i&1){let e=B();m(0,"div",3,1),P("click",function(r){S(e);let o=f(2);return A(o.onOverlayContentClick(r))})("@overlayContentAnimation.start",function(r){S(e);let o=f(2);return A(o.onOverlayContentAnimationStart(r))})("@overlayContentAnimation.done",function(r){S(e);let o=f(2);return A(o.onOverlayContentAnimationDone(r))}),ii(2),I(3,jie,1,0,"ng-container",4),_()}if(i&2){let e=f(2);le(e.contentStyleClass),h("ngStyle",e.contentStyle)("ngClass","p-overlay-content")("@overlayContentAnimation",oe(11,Vie,zi(7,Nie,e.showTransitionOptions,e.hideTransitionOptions,e.transformOptions[e.modal?e.overlayResponsiveDirection:"default"]))),u(3),h("ngTemplateOutlet",e.contentTemplate)("ngTemplateOutletContext",oe(15,Uie,oe(13,Bie,e.overlayMode)))}}function Gie(i,n){if(i&1){let e=B();m(0,"div",3,0),P("click",function(){S(e);let r=f();return A(r.onOverlayClick())}),I(2,Hie,4,17,"div",2),_()}if(i&2){let e=f();le(e.styleClass),h("ngStyle",e.style)("ngClass",Tp(5,Mie,[e.modal,e.modal&&e.overlayResponsiveDirection==="center",e.modal&&e.overlayResponsiveDirection==="top",e.modal&&e.overlayResponsiveDirection==="top-start",e.modal&&e.overlayResponsiveDirection==="top-end",e.modal&&e.overlayResponsiveDirection==="bottom",e.modal&&e.overlayResponsiveDirection==="bottom-start",e.modal&&e.overlayResponsiveDirection==="bottom-end",e.modal&&e.overlayResponsiveDirection==="left",e.modal&&e.overlayResponsiveDirection==="left-start",e.modal&&e.overlayResponsiveDirection==="left-end",e.modal&&e.overlayResponsiveDirection==="right",e.modal&&e.overlayResponsiveDirection==="right-start",e.modal&&e.overlayResponsiveDirection==="right-end"])),u(2),h("ngIf",e.visible)}}var zie={provide:nn,useExisting:zt(()=>n_),multi:!0},Wie=Ra([jt({transform:"{{transform}}",opacity:0}),Jt("{{showTransitionParams}}")]),Kie=Ra([Jt("{{hideTransitionParams}}",jt({transform:"{{transform}}",opacity:0}))]),n_=(()=>{class i{document;platformId;el;renderer;config;overlayService;cd;zone;get visible(){return this._visible}set visible(e){this._visible=e,this._visible&&!this.modalVisible&&(this.modalVisible=!0)}get mode(){return this._mode||this.overlayOptions?.mode}set mode(e){this._mode=e}get style(){return fe.merge(this._style,this.modal?this.overlayResponsiveOptions?.style:this.overlayOptions?.style)}set style(e){this._style=e}get styleClass(){return fe.merge(this._styleClass,this.modal?this.overlayResponsiveOptions?.styleClass:this.overlayOptions?.styleClass)}set styleClass(e){this._styleClass=e}get contentStyle(){return fe.merge(this._contentStyle,this.modal?this.overlayResponsiveOptions?.contentStyle:this.overlayOptions?.contentStyle)}set contentStyle(e){this._contentStyle=e}get contentStyleClass(){return fe.merge(this._contentStyleClass,this.modal?this.overlayResponsiveOptions?.contentStyleClass:this.overlayOptions?.contentStyleClass)}set contentStyleClass(e){this._contentStyleClass=e}get target(){let e=this._target||this.overlayOptions?.target;return e===void 0?"@prev":e}set target(e){this._target=e}get appendTo(){return this._appendTo||this.overlayOptions?.appendTo}set appendTo(e){this._appendTo=e}get autoZIndex(){let e=this._autoZIndex||this.overlayOptions?.autoZIndex;return e===void 0?!0:e}set autoZIndex(e){this._autoZIndex=e}get baseZIndex(){let e=this._baseZIndex||this.overlayOptions?.baseZIndex;return e===void 0?0:e}set baseZIndex(e){this._baseZIndex=e}get showTransitionOptions(){let e=this._showTransitionOptions||this.overlayOptions?.showTransitionOptions;return e===void 0?".12s cubic-bezier(0, 0, 0.2, 1)":e}set showTransitionOptions(e){this._showTransitionOptions=e}get hideTransitionOptions(){let e=this._hideTransitionOptions||this.overlayOptions?.hideTransitionOptions;return e===void 0?".1s linear":e}set hideTransitionOptions(e){this._hideTransitionOptions=e}get listener(){return this._listener||this.overlayOptions?.listener}set listener(e){this._listener=e}get responsive(){return this._responsive||this.overlayOptions?.responsive}set responsive(e){this._responsive=e}get options(){return this._options}set options(e){this._options=e}visibleChange=new Q;onBeforeShow=new Q;onShow=new Q;onBeforeHide=new Q;onHide=new Q;onAnimationStart=new Q;onAnimationDone=new Q;templates;overlayViewChild;contentViewChild;contentTemplate;_visible=!1;_mode;_style;_styleClass;_contentStyle;_contentStyleClass;_target;_appendTo;_autoZIndex;_baseZIndex;_showTransitionOptions;_hideTransitionOptions;_listener;_responsive;_options;modalVisible=!1;isOverlayClicked=!1;isOverlayContentClicked=!1;scrollHandler;documentClickListener;documentResizeListener;documentKeyboardListener;window;transformOptions={default:"scaleY(0.8)",center:"scale(0.7)",top:"translate3d(0px, -100%, 0px)","top-start":"translate3d(0px, -100%, 0px)","top-end":"translate3d(0px, -100%, 0px)",bottom:"translate3d(0px, 100%, 0px)","bottom-start":"translate3d(0px, 100%, 0px)","bottom-end":"translate3d(0px, 100%, 0px)",left:"translate3d(-100%, 0px, 0px)","left-start":"translate3d(-100%, 0px, 0px)","left-end":"translate3d(-100%, 0px, 0px)",right:"translate3d(100%, 0px, 0px)","right-start":"translate3d(100%, 0px, 0px)","right-end":"translate3d(100%, 0px, 0px)"};get modal(){if(ht(this.platformId))return this.mode==="modal"||this.overlayResponsiveOptions&&this.window?.matchMedia(this.overlayResponsiveOptions.media?.replace("@media","")||`(max-width: ${this.overlayResponsiveOptions.breakpoint})`).matches}get overlayMode(){return this.mode||(this.modal?"modal":"overlay")}get overlayOptions(){return re(re({},this.config?.overlayOptions),this.options)}get overlayResponsiveOptions(){return re(re({},this.overlayOptions?.responsive),this.responsive)}get overlayResponsiveDirection(){return this.overlayResponsiveOptions?.direction||"center"}get overlayEl(){return this.overlayViewChild?.nativeElement}get contentEl(){return this.contentViewChild?.nativeElement}get targetEl(){return M.getTargetElement(this.target,this.el?.nativeElement)}constructor(e,t,r,o,s,a,l,c){this.document=e,this.platformId=t,this.el=r,this.renderer=o,this.config=s,this.overlayService=a,this.cd=l,this.zone=c,this.window=this.document.defaultView}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;default:this.contentTemplate=e.template;break}})}show(e,t=!1){this.onVisibleChange(!0),this.handleEvents("onShow",{overlay:e||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),t&&M.focus(this.targetEl),this.modal&&M.addClass(this.document?.body,"p-overflow-hidden")}hide(e,t=!1){if(this.visible)this.onVisibleChange(!1),this.handleEvents("onHide",{overlay:e||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),t&&M.focus(this.targetEl),this.modal&&M.removeClass(this.document?.body,"p-overflow-hidden");else return}alignOverlay(){!this.modal&&M.alignOverlay(this.overlayEl,this.targetEl,this.appendTo)}onVisibleChange(e){this._visible=e,this.visibleChange.emit(e)}onOverlayClick(){this.isOverlayClicked=!0}onOverlayContentClick(e){this.overlayService.add({originalEvent:e,target:this.targetEl}),this.isOverlayContentClicked=!0}onOverlayContentAnimationStart(e){switch(e.toState){case"visible":this.handleEvents("onBeforeShow",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.autoZIndex&&hi.set(this.overlayMode,this.overlayEl,this.baseZIndex+this.config?.zIndex[this.overlayMode]),M.appendOverlay(this.overlayEl,this.appendTo==="body"?this.document.body:this.appendTo,this.appendTo),this.alignOverlay();break;case"void":this.handleEvents("onBeforeHide",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.modal&&M.addClass(this.overlayEl,"p-component-overlay-leave");break}this.handleEvents("onAnimationStart",e)}onOverlayContentAnimationDone(e){let t=this.overlayEl||e.element.parentElement;switch(e.toState){case"visible":this.visible&&this.show(t,!0),this.bindListeners();break;case"void":if(!this.visible){this.hide(t,!0),this.modalVisible=!1,this.unbindListeners(),M.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),hi.clear(t),this.cd.markForCheck();break}}this.handleEvents("onAnimationDone",e)}handleEvents(e,t){this[e].emit(t),this.options&&this.options[e]&&this.options[e](t),this.config?.overlayOptions&&(this.config?.overlayOptions)[e]&&(this.config?.overlayOptions)[e](t)}bindListeners(){this.unbindListeners(),this.bindScrollListener(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindDocumentKeyboardListener()}unbindListeners(){this.unbindScrollListener(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindDocumentKeyboardListener()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new Zr(this.targetEl,e=>{(this.listener?this.listener(e,{type:"scroll",mode:this.overlayMode,valid:!0}):!0)&&this.hide(e,!0)})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.document,"click",e=>{let r=!(this.targetEl&&(this.targetEl.isSameNode(e.target)||!this.isOverlayClicked&&this.targetEl.contains(e.target)))&&!this.isOverlayContentClicked;(this.listener?this.listener(e,{type:"outside",mode:this.overlayMode,valid:e.which!==3&&r}):r)&&this.hide(e),this.isOverlayClicked=this.isOverlayContentClicked=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener||(this.documentResizeListener=this.renderer.listen(this.window,"resize",e=>{(this.listener?this.listener(e,{type:"resize",mode:this.overlayMode,valid:!M.isTouchDevice()}):!M.isTouchDevice())&&this.hide(e,!0)}))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindDocumentKeyboardListener(){this.documentKeyboardListener||this.zone.runOutsideAngular(()=>{this.documentKeyboardListener=this.renderer.listen(this.window,"keydown",e=>{if(this.overlayOptions.hideOnEscape===!1||e.code!=="Escape")return;(this.listener?this.listener(e,{type:"keydown",mode:this.overlayMode,valid:!M.isTouchDevice()}):!M.isTouchDevice())&&this.zone.run(()=>{this.hide(e,!0)})})})}unbindDocumentKeyboardListener(){this.documentKeyboardListener&&(this.documentKeyboardListener(),this.documentKeyboardListener=null)}ngOnDestroy(){this.hide(this.overlayEl,!0),this.overlayEl&&(M.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),hi.clear(this.overlayEl)),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.unbindListeners()}static \u0275fac=function(t){return new(t||i)(b(_t),b(qt),b(ze),b(Ft),b(Vt),b(Ao),b(Ie),b(xt))};static \u0275cmp=ie({type:i,selectors:[["p-overlay"]],contentQueries:function(t,r,o){if(t&1&&ot(o,be,4),t&2){let s;ee(s=te())&&(r.templates=s)}},viewQuery:function(t,r){if(t&1&&(de(kie,5),de(Fie,5)),t&2){let o;ee(o=te())&&(r.overlayViewChild=o.first),ee(o=te())&&(r.contentViewChild=o.first)}},hostAttrs:[1,"p-element"],inputs:{visible:"visible",mode:"mode",style:"style",styleClass:"styleClass",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",target:"target",appendTo:"appendTo",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",listener:"listener",responsive:"responsive",options:"options"},outputs:{visibleChange:"visibleChange",onBeforeShow:"onBeforeShow",onShow:"onShow",onBeforeHide:"onBeforeHide",onHide:"onHide",onAnimationStart:"onAnimationStart",onAnimationDone:"onAnimationDone"},features:[Ze([zie])],ngContentSelectors:Lie,decls:1,vars:1,consts:[["overlay",""],["content",""],[3,"ngStyle","class","ngClass","click",4,"ngIf"],[3,"click","ngStyle","ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,r){t&1&&(Fi(),I(0,Gie,3,20,"div",2)),t&2&&h("ngIf",r.modalVisible)},dependencies:[Ge,et,st,Ee],styles:[`@layer primeng{.p-overlay{position:absolute;top:0;left:0}.p-overlay-modal{display:flex;align-items:center;justify-content:center;position:fixed;top:0;left:0;width:100%;height:100%}.p-overlay-content{transform-origin:inherit}.p-overlay-modal>.p-overlay-content{z-index:1;width:90%}.p-overlay-top{align-items:flex-start}.p-overlay-top-start{align-items:flex-start;justify-content:flex-start}.p-overlay-top-end{align-items:flex-start;justify-content:flex-end}.p-overlay-bottom{align-items:flex-end}.p-overlay-bottom-start{align-items:flex-end;justify-content:flex-start}.p-overlay-bottom-end{align-items:flex-end;justify-content:flex-end}.p-overlay-left{justify-content:flex-start}.p-overlay-left-start{justify-content:flex-start;align-items:flex-start}.p-overlay-left-end{justify-content:flex-start;align-items:flex-end}.p-overlay-right{justify-content:flex-end}.p-overlay-right-start{justify-content:flex-end;align-items:flex-start}.p-overlay-right-end{justify-content:flex-end;align-items:flex-end}}
`],encapsulation:2,data:{animation:[hn("overlayContentAnimation",[Xt(":enter",[Pa(Wie)]),Xt(":leave",[Pa(Kie)])])]},changeDetection:0})}return i})(),If=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=Oe({type:i});static \u0275inj=Te({imports:[Ye,nt,nt]})}return i})();var $ie=["element"],qie=["content"],Yie=["*"],Jie=(i,n,e)=>({"p-scroller":!0,"p-scroller-inline":i,"p-both-scroll":n,"p-horizontal-scroll":e}),OT=(i,n)=>({$implicit:i,options:n}),Xie=i=>({"p-scroller-loading":i}),Qie=i=>({"p-component-overlay":i}),Zie=i=>({numCols:i}),Y4=i=>({options:i}),ene=()=>({styleClass:"p-scroller-loading-icon"}),tne=(i,n)=>({rows:i,columns:n});function ine(i,n){i&1&&ue(0)}function nne(i,n){if(i&1&&(pe(0),I(1,ine,1,0,"ng-container",10),he()),i&2){let e=f(2);u(),h("ngTemplateOutlet",e.contentTemplate)("ngTemplateOutletContext",Je(2,OT,e.loadedItems,e.getContentOptions()))}}function rne(i,n){i&1&&ue(0)}function one(i,n){if(i&1&&(pe(0),I(1,rne,1,0,"ng-container",10),he()),i&2){let e=n.$implicit,t=n.index,r=f(3);u(),h("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",Je(2,OT,e,r.getOptions(t)))}}function sne(i,n){if(i&1&&(m(0,"div",11,3),I(2,one,2,5,"ng-container",12),_()),i&2){let e=f(2);h("ngClass",oe(5,Xie,e.d_loading))("ngStyle",e.contentStyle),V("data-pc-section","content"),u(2),h("ngForOf",e.loadedItems)("ngForTrackBy",e._trackBy||e.index)}}function ane(i,n){if(i&1&&O(0,"div",13),i&2){let e=f(2);h("ngStyle",e.spacerStyle),V("data-pc-section","spacer")}}function lne(i,n){i&1&&ue(0)}function cne(i,n){if(i&1&&(pe(0),I(1,lne,1,0,"ng-container",10),he()),i&2){let e=n.index,t=f(4);u(),h("ngTemplateOutlet",t.loaderTemplate)("ngTemplateOutletContext",oe(4,Y4,t.getLoaderOptions(e,t.both&&oe(2,Zie,t._numItemsInViewport.cols))))}}function dne(i,n){if(i&1&&(pe(0),I(1,cne,2,6,"ng-container",15),he()),i&2){let e=f(3);u(),h("ngForOf",e.loaderArr)}}function une(i,n){i&1&&ue(0)}function pne(i,n){if(i&1&&(pe(0),I(1,une,1,0,"ng-container",10),he()),i&2){let e=f(4);u(),h("ngTemplateOutlet",e.loaderIconTemplate)("ngTemplateOutletContext",oe(3,Y4,Ae(2,ene)))}}function hne(i,n){i&1&&O(0,"SpinnerIcon",16),i&2&&(h("styleClass","p-scroller-loading-icon pi-spin"),V("data-pc-section","loadingIcon"))}function fne(i,n){if(i&1&&I(0,pne,2,5,"ng-container",6)(1,hne,1,2,"ng-template",null,5,Pt),i&2){let e=We(2),t=f(3);h("ngIf",t.loaderIconTemplate)("ngIfElse",e)}}function mne(i,n){if(i&1&&(m(0,"div",14),I(1,dne,2,1,"ng-container",6)(2,fne,3,2,"ng-template",null,4,Pt),_()),i&2){let e=We(3),t=f(2);h("ngClass",oe(4,Qie,!t.loaderTemplate)),V("data-pc-section","loader"),u(),h("ngIf",t.loaderTemplate)("ngIfElse",e)}}function gne(i,n){if(i&1){let e=B();pe(0),m(1,"div",7,1),P("scroll",function(r){S(e);let o=f();return A(o.onContainerScroll(r))}),I(3,nne,2,5,"ng-container",6)(4,sne,3,7,"ng-template",null,2,Pt)(6,ane,1,2,"div",8)(7,mne,4,6,"div",9),_(),he()}if(i&2){let e=We(5),t=f();u(),le(t._styleClass),h("ngStyle",t._style)("ngClass",zi(12,Jie,t.inline,t.both,t.horizontal)),V("id",t._id)("tabindex",t.tabindex)("data-pc-name","scroller")("data-pc-section","root"),u(2),h("ngIf",t.contentTemplate)("ngIfElse",e),u(3),h("ngIf",t._showSpacer),u(),h("ngIf",!t.loaderDisabled&&t._showLoader&&t.d_loading)}}function _ne(i,n){i&1&&ue(0)}function Cne(i,n){if(i&1&&(pe(0),I(1,_ne,1,0,"ng-container",10),he()),i&2){let e=f(2);u(),h("ngTemplateOutlet",e.contentTemplate)("ngTemplateOutletContext",Je(5,OT,e.items,Je(2,tne,e._items,e.loadedColumns)))}}function yne(i,n){if(i&1&&(ii(0),I(1,Cne,2,8,"ng-container",17)),i&2){let e=f();u(),h("ngIf",e.contentTemplate)}}var Rs=(()=>{class i{document;platformId;renderer;cd;zone;get id(){return this._id}set id(e){this._id=e}get style(){return this._style}set style(e){this._style=e}get styleClass(){return this._styleClass}set styleClass(e){this._styleClass=e}get tabindex(){return this._tabindex}set tabindex(e){this._tabindex=e}get items(){return this._items}set items(e){this._items=e}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=e}get scrollHeight(){return this._scrollHeight}set scrollHeight(e){this._scrollHeight=e}get scrollWidth(){return this._scrollWidth}set scrollWidth(e){this._scrollWidth=e}get orientation(){return this._orientation}set orientation(e){this._orientation=e}get step(){return this._step}set step(e){this._step=e}get delay(){return this._delay}set delay(e){this._delay=e}get resizeDelay(){return this._resizeDelay}set resizeDelay(e){this._resizeDelay=e}get appendOnly(){return this._appendOnly}set appendOnly(e){this._appendOnly=e}get inline(){return this._inline}set inline(e){this._inline=e}get lazy(){return this._lazy}set lazy(e){this._lazy=e}get disabled(){return this._disabled}set disabled(e){this._disabled=e}get loaderDisabled(){return this._loaderDisabled}set loaderDisabled(e){this._loaderDisabled=e}get columns(){return this._columns}set columns(e){this._columns=e}get showSpacer(){return this._showSpacer}set showSpacer(e){this._showSpacer=e}get showLoader(){return this._showLoader}set showLoader(e){this._showLoader=e}get numToleratedItems(){return this._numToleratedItems}set numToleratedItems(e){this._numToleratedItems=e}get loading(){return this._loading}set loading(e){this._loading=e}get autoSize(){return this._autoSize}set autoSize(e){this._autoSize=e}get trackBy(){return this._trackBy}set trackBy(e){this._trackBy=e}get options(){return this._options}set options(e){this._options=e,e&&typeof e=="object"&&Object.entries(e).forEach(([t,r])=>this[`_${t}`]!==r&&(this[`_${t}`]=r))}onLazyLoad=new Q;onScroll=new Q;onScrollIndexChange=new Q;elementViewChild;contentViewChild;templates;_id;_style;_styleClass;_tabindex=0;_items;_itemSize=0;_scrollHeight;_scrollWidth;_orientation="vertical";_step=0;_delay=0;_resizeDelay=10;_appendOnly=!1;_inline=!1;_lazy=!1;_disabled=!1;_loaderDisabled=!1;_columns;_showSpacer=!0;_showLoader=!1;_numToleratedItems;_loading;_autoSize=!1;_trackBy;_options;d_loading=!1;d_numToleratedItems;contentEl;contentTemplate;itemTemplate;loaderTemplate;loaderIconTemplate;first=0;last=0;page=0;isRangeChanged=!1;numItemsInViewport=0;lastScrollPos=0;lazyLoadState={};loaderArr=[];spacerStyle={};contentStyle={};scrollTimeout;resizeTimeout;initialized=!1;resizeObserver;defaultWidth;defaultHeight;defaultContentWidth;defaultContentHeight;get vertical(){return this._orientation==="vertical"}get horizontal(){return this._orientation==="horizontal"}get both(){return this._orientation==="both"}get loadedItems(){return this._items&&!this.d_loading?this.both?this._items.slice(this._appendOnly?0:this.first.rows,this.last.rows).map(e=>this._columns?e:e.slice(this._appendOnly?0:this.first.cols,this.last.cols)):this.horizontal&&this._columns?this._items:this._items.slice(this._appendOnly?0:this.first,this.last):[]}get loadedRows(){return this.d_loading?this._loaderDisabled?this.loaderArr:[]:this.loadedItems}get loadedColumns(){return this._columns&&(this.both||this.horizontal)?this.d_loading&&this._loaderDisabled?this.both?this.loaderArr[0]:this.loaderArr:this._columns.slice(this.both?this.first.cols:this.first,this.both?this.last.cols:this.last):this._columns}constructor(e,t,r,o,s){this.document=e,this.platformId=t,this.renderer=r,this.cd=o,this.zone=s}ngOnInit(){this.setInitialState()}ngOnChanges(e){let t=!1;if(e.loading){let{previousValue:r,currentValue:o}=e.loading;this.lazy&&r!==o&&o!==this.d_loading&&(this.d_loading=o,t=!0)}if(e.orientation&&(this.lastScrollPos=this.both?{top:0,left:0}:0),e.numToleratedItems){let{previousValue:r,currentValue:o}=e.numToleratedItems;r!==o&&o!==this.d_numToleratedItems&&(this.d_numToleratedItems=o)}if(e.options){let{previousValue:r,currentValue:o}=e.options;this.lazy&&r?.loading!==o?.loading&&o?.loading!==this.d_loading&&(this.d_loading=o.loading,t=!0),r?.numToleratedItems!==o?.numToleratedItems&&o?.numToleratedItems!==this.d_numToleratedItems&&(this.d_numToleratedItems=o.numToleratedItems)}this.initialized&&!t&&(e.items?.previousValue?.length!==e.items?.currentValue?.length||e.itemSize||e.scrollHeight||e.scrollWidth)&&(this.init(),this.calculateAutoSize())}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;case"item":this.itemTemplate=e.template;break;case"loader":this.loaderTemplate=e.template;break;case"loadericon":this.loaderIconTemplate=e.template;break;default:this.itemTemplate=e.template;break}})}ngAfterViewInit(){Promise.resolve().then(()=>{this.viewInit()})}ngAfterViewChecked(){this.initialized||this.viewInit()}ngOnDestroy(){this.unbindResizeListener(),this.contentEl=null,this.initialized=!1}viewInit(){ht(this.platformId)&&!this.initialized&&M.isVisible(this.elementViewChild?.nativeElement)&&(this.setInitialState(),this.setContentEl(this.contentEl),this.init(),this.calculateAutoSize(),this.defaultWidth=M.getWidth(this.elementViewChild?.nativeElement),this.defaultHeight=M.getHeight(this.elementViewChild?.nativeElement),this.defaultContentWidth=M.getWidth(this.contentEl),this.defaultContentHeight=M.getHeight(this.contentEl),this.resizeObserver=new ResizeObserver(()=>this.onResize()),this.resizeObserver.observe(this.elementViewChild?.nativeElement),this.initialized=!0)}init(){this._disabled||(this.setSize(),this.calculateOptions(),this.setSpacerSize(),this.cd.detectChanges())}setContentEl(e){this.contentEl=e||this.contentViewChild?.nativeElement||M.findSingle(this.elementViewChild?.nativeElement,".p-scroller-content")}setInitialState(){this.first=this.both?{rows:0,cols:0}:0,this.last=this.both?{rows:0,cols:0}:0,this.numItemsInViewport=this.both?{rows:0,cols:0}:0,this.lastScrollPos=this.both?{top:0,left:0}:0,this.d_loading=this._loading||!1,this.d_numToleratedItems=this._numToleratedItems,this.loaderArr=[],this.spacerStyle={},this.contentStyle={}}getElementRef(){return this.elementViewChild}getPageByFirst(e){return Math.floor(((e??this.first)+this.d_numToleratedItems*4)/(this._step||1))}isPageChanged(e){return this._step?this.page!==this.getPageByFirst(e??this.first):!0}scrollTo(e){this.elementViewChild?.nativeElement?.scrollTo(e)}scrollToIndex(e,t="auto"){if(this.both?e.every(o=>o>-1):e>-1){let o=this.first,{scrollTop:s=0,scrollLeft:a=0}=this.elementViewChild?.nativeElement,{numToleratedItems:l}=this.calculateNumItems(),c=this.getContentPosition(),d=this.itemSize,p=(E=0,T)=>E<=T?0:E,g=(E,T,F)=>E*T+F,C=(E=0,T=0)=>this.scrollTo({left:E,top:T,behavior:t}),y=this.both?{rows:0,cols:0}:0,v=!1,w=!1;this.both?(y={rows:p(e[0],l[0]),cols:p(e[1],l[1])},C(g(y.cols,d[1],c.left),g(y.rows,d[0],c.top)),w=this.lastScrollPos.top!==s||this.lastScrollPos.left!==a,v=y.rows!==o.rows||y.cols!==o.cols):(y=p(e,l),this.horizontal?C(g(y,d,c.left),s):C(a,g(y,d,c.top)),w=this.lastScrollPos!==(this.horizontal?a:s),v=y!==o),this.isRangeChanged=v,w&&(this.first=y)}}scrollInView(e,t,r="auto"){if(t){let{first:o,viewport:s}=this.getRenderedRange(),a=(d=0,p=0)=>this.scrollTo({left:d,top:p,behavior:r}),l=t==="to-start",c=t==="to-end";if(l){if(this.both)s.first.rows-o.rows>e[0]?a(s.first.cols*this._itemSize[1],(s.first.rows-1)*this._itemSize[0]):s.first.cols-o.cols>e[1]&&a((s.first.cols-1)*this._itemSize[1],s.first.rows*this._itemSize[0]);else if(s.first-o>e){let d=(s.first-1)*this._itemSize;this.horizontal?a(d,0):a(0,d)}}else if(c){if(this.both)s.last.rows-o.rows<=e[0]+1?a(s.first.cols*this._itemSize[1],(s.first.rows+1)*this._itemSize[0]):s.last.cols-o.cols<=e[1]+1&&a((s.first.cols+1)*this._itemSize[1],s.first.rows*this._itemSize[0]);else if(s.last-o<=e+1){let d=(s.first+1)*this._itemSize;this.horizontal?a(d,0):a(0,d)}}}else this.scrollToIndex(e,r)}getRenderedRange(){let e=(o,s)=>s||o?Math.floor(o/(s||o)):0,t=this.first,r=0;if(this.elementViewChild?.nativeElement){let{scrollTop:o,scrollLeft:s}=this.elementViewChild.nativeElement;if(this.both)t={rows:e(o,this._itemSize[0]),cols:e(s,this._itemSize[1])},r={rows:t.rows+this.numItemsInViewport.rows,cols:t.cols+this.numItemsInViewport.cols};else{let a=this.horizontal?s:o;t=e(a,this._itemSize),r=t+this.numItemsInViewport}}return{first:this.first,last:this.last,viewport:{first:t,last:r}}}calculateNumItems(){let e=this.getContentPosition(),t=(this.elementViewChild?.nativeElement?this.elementViewChild.nativeElement.offsetWidth-e.left:0)||0,r=(this.elementViewChild?.nativeElement?this.elementViewChild.nativeElement.offsetHeight-e.top:0)||0,o=(c,d)=>d||c?Math.ceil(c/(d||c)):0,s=c=>Math.ceil(c/2),a=this.both?{rows:o(r,this._itemSize[0]),cols:o(t,this._itemSize[1])}:o(this.horizontal?t:r,this._itemSize),l=this.d_numToleratedItems||(this.both?[s(a.rows),s(a.cols)]:s(a));return{numItemsInViewport:a,numToleratedItems:l}}calculateOptions(){let{numItemsInViewport:e,numToleratedItems:t}=this.calculateNumItems(),r=(a,l,c,d=!1)=>this.getLast(a+l+(a<c?2:3)*c,d),o=this.first,s=this.both?{rows:r(this.first.rows,e.rows,t[0]),cols:r(this.first.cols,e.cols,t[1],!0)}:r(this.first,e,t);this.last=s,this.numItemsInViewport=e,this.d_numToleratedItems=t,this.showLoader&&(this.loaderArr=this.both?Array.from({length:e.rows}).map(()=>Array.from({length:e.cols})):Array.from({length:e})),this._lazy&&Promise.resolve().then(()=>{this.lazyLoadState={first:this._step?this.both?{rows:0,cols:o.cols}:0:o,last:Math.min(this._step?this._step:this.last,this.items.length)},this.handleEvents("onLazyLoad",this.lazyLoadState)})}calculateAutoSize(){this._autoSize&&!this.d_loading&&Promise.resolve().then(()=>{if(this.contentEl){this.contentEl.style.minHeight=this.contentEl.style.minWidth="auto",this.contentEl.style.position="relative",this.elementViewChild.nativeElement.style.contain="none";let[e,t]=[M.getWidth(this.contentEl),M.getHeight(this.contentEl)];e!==this.defaultContentWidth&&(this.elementViewChild.nativeElement.style.width=""),t!==this.defaultContentHeight&&(this.elementViewChild.nativeElement.style.height="");let[r,o]=[M.getWidth(this.elementViewChild.nativeElement),M.getHeight(this.elementViewChild.nativeElement)];this.contentEl.style.minHeight=this.contentEl.style.minWidth="",this.contentEl.style.position="",this.elementViewChild.nativeElement.style.contain="",this.defaultWidth=r,this.defaultHeight=o,this.defaultContentWidth=e,this.defaultContentHeight=t,(this.both||this.horizontal)&&(this.elementViewChild.nativeElement.style.width=r<this.defaultWidth?r+"px":this._scrollWidth||this.defaultWidth+"px"),(this.both||this.vertical)&&(this.elementViewChild.nativeElement.style.height=o<this.defaultHeight?o+"px":this._scrollHeight||this.defaultHeight+"px")}})}getLast(e=0,t=!1){return this._items?Math.min(t?(this._columns||this._items[0]).length:this._items.length,e):0}getContentPosition(){if(this.contentEl){let e=getComputedStyle(this.contentEl),t=parseFloat(e.paddingLeft)+Math.max(parseFloat(e.left)||0,0),r=parseFloat(e.paddingRight)+Math.max(parseFloat(e.right)||0,0),o=parseFloat(e.paddingTop)+Math.max(parseFloat(e.top)||0,0),s=parseFloat(e.paddingBottom)+Math.max(parseFloat(e.bottom)||0,0);return{left:t,right:r,top:o,bottom:s,x:t+r,y:o+s}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}}setSize(){if(this.elementViewChild?.nativeElement){let e=this.elementViewChild.nativeElement.parentElement.parentElement,t=this._scrollWidth||`${this.elementViewChild.nativeElement.offsetWidth||e.offsetWidth}px`,r=this._scrollHeight||`${this.elementViewChild.nativeElement.offsetHeight||e.offsetHeight}px`,o=(s,a)=>this.elementViewChild.nativeElement.style[s]=a;this.both||this.horizontal?(o("height",r),o("width",t)):o("height",r)}}setSpacerSize(){if(this._items){let e=(r,o,s)=>this.spacerStyle=Pe(re({},this.spacerStyle),{[`${r}`]:o*s+"px"}),t=this._items.length;this.both?(e("height",t,this._itemSize[0]),e("width",this._columns?.length||this._items[1]?.length,this._itemSize[1])):this.horizontal?e("width",this._columns?.length||this._items.length,this._itemSize):e("height",t,this._itemSize)}}setContentPosition(e){if(this.contentEl&&!this._appendOnly){let t=e?e.first:this.first,r=(s,a)=>s*a,o=(s=0,a=0)=>this.contentStyle=Pe(re({},this.contentStyle),{transform:`translate3d(${s}px, ${a}px, 0)`});if(this.both)o(r(t.cols,this._itemSize[1]),r(t.rows,this._itemSize[0]));else{let s=r(t,this._itemSize);this.horizontal?o(s,0):o(0,s)}}}onScrollPositionChange(e){let t=e.target,r=this.getContentPosition(),o=(w,E)=>w?w>E?w-E:w:0,s=(w,E)=>E||w?Math.floor(w/(E||w)):0,a=(w,E,T,F,G,z)=>w<=G?G:z?T-F-G:E+G-1,l=(w,E,T,F,G,z,X)=>w<=z?0:Math.max(0,X?w<E?T:w-z:w>E?T:w-2*z),c=(w,E,T,F,G,z=!1)=>{let X=E+F+2*G;return w>=G&&(X+=G+1),this.getLast(X,z)},d=o(t.scrollTop,r.top),p=o(t.scrollLeft,r.left),g=this.both?{rows:0,cols:0}:0,C=this.last,y=!1,v=this.lastScrollPos;if(this.both){let w=this.lastScrollPos.top<=d,E=this.lastScrollPos.left<=p;if(!this._appendOnly||this._appendOnly&&(w||E)){let T={rows:s(d,this._itemSize[0]),cols:s(p,this._itemSize[1])},F={rows:a(T.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],w),cols:a(T.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],E)};g={rows:l(T.rows,F.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],w),cols:l(T.cols,F.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],E)},C={rows:c(T.rows,g.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0]),cols:c(T.cols,g.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],!0)},y=g.rows!==this.first.rows||C.rows!==this.last.rows||g.cols!==this.first.cols||C.cols!==this.last.cols||this.isRangeChanged,v={top:d,left:p}}}else{let w=this.horizontal?p:d,E=this.lastScrollPos<=w;if(!this._appendOnly||this._appendOnly&&E){let T=s(w,this._itemSize),F=a(T,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,E);g=l(T,F,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,E),C=c(T,g,this.last,this.numItemsInViewport,this.d_numToleratedItems),y=g!==this.first||C!==this.last||this.isRangeChanged,v=w}}return{first:g,last:C,isRangeChanged:y,scrollPos:v}}onScrollChange(e){let{first:t,last:r,isRangeChanged:o,scrollPos:s}=this.onScrollPositionChange(e);if(o){let a={first:t,last:r};if(this.setContentPosition(a),this.first=t,this.last=r,this.lastScrollPos=s,this.handleEvents("onScrollIndexChange",a),this._lazy&&this.isPageChanged(t)){let l={first:this._step?Math.min(this.getPageByFirst(t)*this._step,this.items.length-this._step):t,last:Math.min(this._step?(this.getPageByFirst(t)+1)*this._step:r,this.items.length)};(this.lazyLoadState.first!==l.first||this.lazyLoadState.last!==l.last)&&this.handleEvents("onLazyLoad",l),this.lazyLoadState=l}}}onContainerScroll(e){if(this.handleEvents("onScroll",{originalEvent:e}),this._delay&&this.isPageChanged()){if(this.scrollTimeout&&clearTimeout(this.scrollTimeout),!this.d_loading&&this.showLoader){let{isRangeChanged:t}=this.onScrollPositionChange(e);(t||(this._step?this.isPageChanged():!1))&&(this.d_loading=!0,this.cd.detectChanges())}this.scrollTimeout=setTimeout(()=>{this.onScrollChange(e),this.d_loading&&this.showLoader&&(!this._lazy||this._loading===void 0)&&(this.d_loading=!1,this.page=this.getPageByFirst(),this.cd.detectChanges())},this._delay)}else!this.d_loading&&this.onScrollChange(e)}unbindResizeListener(){this.resizeObserver&&(this.resizeObserver.unobserve(this.elementViewChild?.nativeElement),this.resizeObserver=null)}onResize(){this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(()=>{if(M.isVisible(this.elementViewChild?.nativeElement)){let[e,t]=[M.getWidth(this.elementViewChild?.nativeElement),M.getHeight(this.elementViewChild?.nativeElement)],[r,o]=[e!==this.defaultWidth,t!==this.defaultHeight];(this.both?r||o:this.horizontal?r:this.vertical?o:!1)&&this.zone.run(()=>{this.d_numToleratedItems=this._numToleratedItems,this.init(),this.calculateAutoSize()})}},this._resizeDelay)}handleEvents(e,t){return this.options&&this.options[e]?this.options[e](t):this[e].emit(t)}getContentOptions(){return{contentStyleClass:`p-scroller-content ${this.d_loading?"p-scroller-loading":""}`,items:this.loadedItems,getItemOptions:e=>this.getOptions(e),loading:this.d_loading,getLoaderOptions:(e,t)=>this.getLoaderOptions(e,t),itemSize:this._itemSize,rows:this.loadedRows,columns:this.loadedColumns,spacerStyle:this.spacerStyle,contentStyle:this.contentStyle,vertical:this.vertical,horizontal:this.horizontal,both:this.both}}getOptions(e){let t=(this._items||[]).length,r=this.both?this.first.rows+e:this.first+e;return{index:r,count:t,first:r===0,last:r===t-1,even:r%2===0,odd:r%2!==0}}getLoaderOptions(e,t){let r=this.loaderArr.length;return re({index:e,count:r,first:e===0,last:e===r-1,even:e%2===0,odd:e%2!==0},t)}static \u0275fac=function(t){return new(t||i)(b(_t),b(qt),b(Ft),b(Ie),b(xt))};static \u0275cmp=ie({type:i,selectors:[["p-scroller"]],contentQueries:function(t,r,o){if(t&1&&ot(o,be,4),t&2){let s;ee(s=te())&&(r.templates=s)}},viewQuery:function(t,r){if(t&1&&(de($ie,5),de(qie,5)),t&2){let o;ee(o=te())&&(r.elementViewChild=o.first),ee(o=te())&&(r.contentViewChild=o.first)}},hostAttrs:[1,"p-scroller-viewport","p-element"],inputs:{id:"id",style:"style",styleClass:"styleClass",tabindex:"tabindex",items:"items",itemSize:"itemSize",scrollHeight:"scrollHeight",scrollWidth:"scrollWidth",orientation:"orientation",step:"step",delay:"delay",resizeDelay:"resizeDelay",appendOnly:"appendOnly",inline:"inline",lazy:"lazy",disabled:"disabled",loaderDisabled:"loaderDisabled",columns:"columns",showSpacer:"showSpacer",showLoader:"showLoader",numToleratedItems:"numToleratedItems",loading:"loading",autoSize:"autoSize",trackBy:"trackBy",options:"options"},outputs:{onLazyLoad:"onLazyLoad",onScroll:"onScroll",onScrollIndexChange:"onScrollIndexChange"},features:[en],ngContentSelectors:Yie,decls:3,vars:2,consts:[["disabledContainer",""],["element",""],["buildInContent",""],["content",""],["buildInLoader",""],["buildInLoaderIcon",""],[4,"ngIf","ngIfElse"],[3,"scroll","ngStyle","ngClass"],["class","p-scroller-spacer",3,"ngStyle",4,"ngIf"],["class","p-scroller-loader",3,"ngClass",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-scroller-content",3,"ngClass","ngStyle"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"p-scroller-spacer",3,"ngStyle"],[1,"p-scroller-loader",3,"ngClass"],[4,"ngFor","ngForOf"],[3,"styleClass"],[4,"ngIf"]],template:function(t,r){if(t&1&&(Fi(),I(0,gne,8,16,"ng-container",6)(1,yne,2,1,"ng-template",null,0,Pt)),t&2){let o=We(2);h("ngIf",!r._disabled)("ngIfElse",o)}},dependencies:()=>[Ge,tn,et,st,Ee,gs],styles:[`@layer primeng{p-scroller{flex:1;outline:0 none}.p-scroller{position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;outline:0 none}.p-scroller-content{position:absolute;top:0;left:0;min-height:100%;min-width:100%;will-change:transform}.p-scroller-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0;pointer-events:none}.p-scroller-loader{position:sticky;top:0;left:0;width:100%;height:100%}.p-scroller-loader.p-component-overlay{display:flex;align-items:center;justify-content:center}.p-scroller-loading-icon{scale:2}.p-scroller-inline .p-scroller-content{position:static}}
`],encapsulation:2})}return i})(),Wr=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=Oe({type:i});static \u0275inj=Te({imports:[Ye,nt,gs,nt]})}return i})();var DT=(()=>{class i extends St{static \u0275fac=(()=>{let e;return function(r){return(e||(e=tt(i)))(r||i)}})();static \u0275cmp=ie({type:i,selectors:[["BlankIcon"]],standalone:!0,features:[ve,lt],decls:2,vars:0,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg","v-bind","pti()"],["width","1","height","1","fill","currentColor","fill-opacity","0"]],template:function(t,r){t&1&&(It(),m(0,"svg",0),O(1,"rect",1),_())},encapsulation:2})}return i})();var To=(()=>{class i extends St{static \u0275fac=(()=>{let e;return function(r){return(e||(e=tt(i)))(r||i)}})();static \u0275cmp=ie({type:i,selectors:[["ChevronDownIcon"]],standalone:!0,features:[ve,lt],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7.01744 10.398C6.91269 10.3985 6.8089 10.378 6.71215 10.3379C6.61541 10.2977 6.52766 10.2386 6.45405 10.1641L1.13907 4.84913C1.03306 4.69404 0.985221 4.5065 1.00399 4.31958C1.02276 4.13266 1.10693 3.95838 1.24166 3.82747C1.37639 3.69655 1.55301 3.61742 1.74039 3.60402C1.92777 3.59062 2.11386 3.64382 2.26584 3.75424L7.01744 8.47394L11.769 3.75424C11.9189 3.65709 12.097 3.61306 12.2748 3.62921C12.4527 3.64535 12.6199 3.72073 12.7498 3.84328C12.8797 3.96582 12.9647 4.12842 12.9912 4.30502C13.0177 4.48162 12.9841 4.662 12.8958 4.81724L7.58083 10.1322C7.50996 10.2125 7.42344 10.2775 7.32656 10.3232C7.22968 10.3689 7.12449 10.3944 7.01744 10.398Z","fill","currentColor"]],template:function(t,r){t&1&&(It(),m(0,"svg",0),O(1,"path",1),_()),t&2&&(le(r.getClassNames()),V("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return i})();var La=(()=>{class i extends St{pathId;ngOnInit(){this.pathId="url(#"+yt()+")"}static \u0275fac=(()=>{let e;return function(r){return(e||(e=tt(i)))(r||i)}})();static \u0275cmp=ie({type:i,selectors:[["SearchIcon"]],standalone:!0,features:[ve,lt],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M2.67602 11.0265C3.6661 11.688 4.83011 12.0411 6.02086 12.0411C6.81149 12.0411 7.59438 11.8854 8.32483 11.5828C8.87005 11.357 9.37808 11.0526 9.83317 10.6803L12.9769 13.8241C13.0323 13.8801 13.0983 13.9245 13.171 13.9548C13.2438 13.985 13.3219 14.0003 13.4007 14C13.4795 14.0003 13.5575 13.985 13.6303 13.9548C13.7031 13.9245 13.7691 13.8801 13.8244 13.8241C13.9367 13.7116 13.9998 13.5592 13.9998 13.4003C13.9998 13.2414 13.9367 13.089 13.8244 12.9765L10.6807 9.8328C11.053 9.37773 11.3573 8.86972 11.5831 8.32452C11.8857 7.59408 12.0414 6.81119 12.0414 6.02056C12.0414 4.8298 11.6883 3.66579 11.0268 2.67572C10.3652 1.68564 9.42494 0.913972 8.32483 0.45829C7.22472 0.00260857 6.01418 -0.116618 4.84631 0.115686C3.67844 0.34799 2.60568 0.921393 1.76369 1.76338C0.921698 2.60537 0.348296 3.67813 0.115991 4.84601C-0.116313 6.01388 0.00291375 7.22441 0.458595 8.32452C0.914277 9.42464 1.68595 10.3649 2.67602 11.0265ZM3.35565 2.0158C4.14456 1.48867 5.07206 1.20731 6.02086 1.20731C7.29317 1.20731 8.51338 1.71274 9.41304 2.6124C10.3127 3.51206 10.8181 4.73226 10.8181 6.00457C10.8181 6.95337 10.5368 7.88088 10.0096 8.66978C9.48251 9.45868 8.73328 10.0736 7.85669 10.4367C6.98011 10.7997 6.01554 10.8947 5.08496 10.7096C4.15439 10.5245 3.2996 10.0676 2.62869 9.39674C1.95778 8.72583 1.50089 7.87104 1.31579 6.94046C1.13068 6.00989 1.22568 5.04532 1.58878 4.16874C1.95187 3.29215 2.56675 2.54292 3.35565 2.0158Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,r){t&1&&(It(),m(0,"svg",0)(1,"g"),O(2,"path",1),_(),m(3,"defs")(4,"clipPath",2),O(5,"rect",3),_()()()),t&2&&(le(r.getClassNames()),V("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),u(),V("clip-path",r.pathId),u(3),h("id",r.pathId))},encapsulation:2})}return i})();var r_=i=>({height:i}),Ine=(i,n,e)=>({"p-dropdown-item":!0,"p-highlight":i,"p-disabled":n,"p-focus":e}),RT=i=>({$implicit:i});function vne(i,n){i&1&&O(0,"CheckIcon",4),i&2&&h("styleClass","p-dropdown-check-icon")}function bne(i,n){i&1&&O(0,"BlankIcon",4),i&2&&h("styleClass","p-dropdown-blank-icon")}function wne(i,n){if(i&1&&(pe(0),I(1,vne,1,1,"CheckIcon",3)(2,bne,1,1,"BlankIcon",3),he()),i&2){let e=f();u(),h("ngIf",e.selected),u(),h("ngIf",!e.selected)}}function Sne(i,n){if(i&1&&(m(0,"span"),D(1),_()),i&2){let e,t=f();u(),$((e=t.label)!==null&&e!==void 0?e:"empty")}}function Ane(i,n){i&1&&ue(0)}var Ene=["container"],xne=["filter"],Tne=["focusInput"],One=["editableInput"],Dne=["items"],Rne=["scroller"],Pne=["overlay"],kne=["firstHiddenFocusableEl"],Fne=["lastHiddenFocusableEl"],Lne=i=>({"max-height":i}),J4=i=>({options:i}),Mne=i=>({"p-variant-filled":i}),X4=(i,n)=>({$implicit:i,options:n}),Nne=()=>({});function Vne(i,n){if(i&1&&(pe(0),D(1),he()),i&2){let e=f(2);u(),$(e.label()==="p-emptylabel"?"\xA0":e.label())}}function Bne(i,n){if(i&1&&ue(0,25),i&2){let e=f(2);h("ngTemplateOutlet",e.selectedItemTemplate)("ngTemplateOutletContext",oe(2,RT,e.selectedOption))}}function Une(i,n){if(i&1&&(m(0,"span"),D(1),_()),i&2){let e=f(3);u(),$(e.label()==="p-emptylabel"?"\xA0":e.label())}}function jne(i,n){if(i&1&&I(0,Une,2,1,"span",18),i&2){let e=f(2);h("ngIf",e.isSelectedOptionEmpty())}}function Hne(i,n){if(i&1){let e=B();m(0,"span",23,3),P("focus",function(r){S(e);let o=f();return A(o.onInputFocus(r))})("blur",function(r){S(e);let o=f();return A(o.onInputBlur(r))})("keydown",function(r){S(e);let o=f();return A(o.onKeyDown(r))}),I(2,Vne,2,1,"ng-container",20)(3,Bne,1,4,"ng-container",24)(4,jne,1,1,"ng-template",null,4,Pt),_()}if(i&2){let e,t=We(5),r=f();h("ngClass",r.inputClass)("pTooltip",r.tooltip)("tooltipPosition",r.tooltipPosition)("positionStyle",r.tooltipPositionStyle)("tooltipStyleClass",r.tooltipStyleClass)("autofocus",r.autofocus),V("aria-disabled",r.disabled)("id",r.inputId)("aria-label",r.ariaLabel||(r.label()==="p-emptylabel"?void 0:r.label()))("aria-labelledby",r.ariaLabelledBy)("aria-haspopup","listbox")("aria-expanded",(e=r.overlayVisible)!==null&&e!==void 0?e:!1)("aria-controls",r.overlayVisible?r.id+"_list":null)("tabindex",r.disabled?-1:r.tabindex)("aria-activedescendant",r.focused?r.focusedOptionId:void 0)("aria-required",r.required)("required",r.required),u(2),h("ngIf",!r.selectedItemTemplate)("ngIfElse",t),u(),h("ngIf",r.selectedItemTemplate&&!r.isSelectedOptionEmpty())}}function Gne(i,n){if(i&1){let e=B();m(0,"input",26,5),P("input",function(r){S(e);let o=f();return A(o.onEditableInput(r))})("keydown",function(r){S(e);let o=f();return A(o.onKeyDown(r))})("focus",function(r){S(e);let o=f();return A(o.onInputFocus(r))})("blur",function(r){S(e);let o=f();return A(o.onInputBlur(r))}),_()}if(i&2){let e=f();h("ngClass",e.inputClass)("disabled",e.disabled)("autofocus",e.autofocus),V("id",e.inputId)("maxlength",e.maxlength)("placeholder",e.modelValue()===void 0||e.modelValue()===null?e.placeholder():void 0)("aria-label",e.ariaLabel||(e.label()==="p-emptylabel"?void 0:e.label()))("aria-activedescendant",e.focused?e.focusedOptionId:void 0)}}function zne(i,n){if(i&1){let e=B();m(0,"TimesIcon",29),P("click",function(r){S(e);let o=f(2);return A(o.clear(r))}),_()}i&2&&(h("styleClass","p-dropdown-clear-icon"),V("data-pc-section","clearicon"))}function Wne(i,n){}function Kne(i,n){i&1&&I(0,Wne,0,0,"ng-template")}function $ne(i,n){if(i&1){let e=B();m(0,"span",30),P("click",function(r){S(e);let o=f(2);return A(o.clear(r))}),I(1,Kne,1,0,null,31),_()}if(i&2){let e=f(2);V("data-pc-section","clearicon"),u(),h("ngTemplateOutlet",e.clearIconTemplate)}}function qne(i,n){if(i&1&&(pe(0),I(1,zne,1,2,"TimesIcon",27)(2,$ne,2,2,"span",28),he()),i&2){let e=f();u(),h("ngIf",!e.clearIconTemplate),u(),h("ngIf",e.clearIconTemplate)}}function Yne(i,n){i&1&&ue(0)}function Jne(i,n){if(i&1&&(pe(0),I(1,Yne,1,0,"ng-container",31),he()),i&2){let e=f(2);u(),h("ngTemplateOutlet",e.loadingIconTemplate)}}function Xne(i,n){if(i&1&&O(0,"span",34),i&2){let e=f(3);h("ngClass","p-dropdown-trigger-icon pi-spin "+e.loadingIcon)}}function Qne(i,n){i&1&&O(0,"span",35),i&2&&le("p-dropdown-trigger-icon pi pi-spinner pi-spin")}function Zne(i,n){if(i&1&&(pe(0),I(1,Xne,1,1,"span",32)(2,Qne,1,2,"span",33),he()),i&2){let e=f(2);u(),h("ngIf",e.loadingIcon),u(),h("ngIf",!e.loadingIcon)}}function ere(i,n){if(i&1&&(pe(0),I(1,Jne,2,1,"ng-container",18)(2,Zne,3,2,"ng-container",18),he()),i&2){let e=f();u(),h("ngIf",e.loadingIconTemplate),u(),h("ngIf",!e.loadingIconTemplate)}}function tre(i,n){if(i&1&&O(0,"span",39),i&2){let e=f(3);h("ngClass",e.dropdownIcon)}}function ire(i,n){i&1&&O(0,"ChevronDownIcon",40),i&2&&h("styleClass","p-dropdown-trigger-icon")}function nre(i,n){if(i&1&&(pe(0),I(1,tre,1,1,"span",37)(2,ire,1,1,"ChevronDownIcon",38),he()),i&2){let e=f(2);u(),h("ngIf",e.dropdownIcon),u(),h("ngIf",!e.dropdownIcon)}}function rre(i,n){}function ore(i,n){i&1&&I(0,rre,0,0,"ng-template")}function sre(i,n){if(i&1&&(m(0,"span",41),I(1,ore,1,0,null,31),_()),i&2){let e=f(2);u(),h("ngTemplateOutlet",e.dropdownIconTemplate)}}function are(i,n){if(i&1&&I(0,nre,3,2,"ng-container",18)(1,sre,2,1,"span",36),i&2){let e=f();h("ngIf",!e.dropdownIconTemplate),u(),h("ngIf",e.dropdownIconTemplate)}}function lre(i,n){i&1&&ue(0)}function cre(i,n){i&1&&ue(0)}function dre(i,n){if(i&1&&(pe(0),I(1,cre,1,0,"ng-container",48),he()),i&2){let e=f(3);u(),h("ngTemplateOutlet",e.filterTemplate)("ngTemplateOutletContext",oe(2,J4,e.filterOptions))}}function ure(i,n){i&1&&O(0,"SearchIcon",40),i&2&&h("styleClass","p-dropdown-filter-icon")}function pre(i,n){}function hre(i,n){i&1&&I(0,pre,0,0,"ng-template")}function fre(i,n){if(i&1&&(m(0,"span",52),I(1,hre,1,0,null,31),_()),i&2){let e=f(4);u(),h("ngTemplateOutlet",e.filterIconTemplate)}}function mre(i,n){if(i&1){let e=B();m(0,"div",49)(1,"input",50,10),P("input",function(r){S(e);let o=f(3);return A(o.onFilterInputChange(r))})("keydown",function(r){S(e);let o=f(3);return A(o.onFilterKeyDown(r))})("blur",function(r){S(e);let o=f(3);return A(o.onFilterBlur(r))}),_(),I(3,ure,1,1,"SearchIcon",38)(4,fre,2,1,"span",51),_()}if(i&2){let e=f(3);u(),h("value",e._filterValue()||"")("ngClass",oe(8,Mne,e.variant==="filled"||e.config.inputStyle()==="filled")),V("placeholder",e.filterPlaceholder)("aria-owns",e.id+"_list")("aria-label",e.ariaFilterLabel)("aria-activedescendant",e.focusedOptionId),u(2),h("ngIf",!e.filterIconTemplate),u(),h("ngIf",e.filterIconTemplate)}}function gre(i,n){if(i&1){let e=B();m(0,"div",47),P("click",function(r){return S(e),A(r.stopPropagation())}),I(1,dre,2,4,"ng-container",20)(2,mre,5,10,"ng-template",null,9,Pt),_()}if(i&2){let e=We(3),t=f(2);u(),h("ngIf",t.filterTemplate)("ngIfElse",e)}}function _re(i,n){i&1&&ue(0)}function Cre(i,n){if(i&1&&I(0,_re,1,0,"ng-container",48),i&2){let e=n.$implicit,t=n.options;f(2);let r=We(9);h("ngTemplateOutlet",r)("ngTemplateOutletContext",Je(2,X4,e,t))}}function yre(i,n){i&1&&ue(0)}function Ire(i,n){if(i&1&&I(0,yre,1,0,"ng-container",48),i&2){let e=n.options,t=f(4);h("ngTemplateOutlet",t.loaderTemplate)("ngTemplateOutletContext",oe(2,J4,e))}}function vre(i,n){i&1&&(pe(0),I(1,Ire,1,4,"ng-template",54),he())}function bre(i,n){if(i&1){let e=B();m(0,"p-scroller",53,11),P("onLazyLoad",function(r){S(e);let o=f(2);return A(o.onLazyLoad.emit(r))}),I(2,Cre,1,5,"ng-template",22)(3,vre,2,0,"ng-container",18),_()}if(i&2){let e=f(2);dt(oe(8,r_,e.scrollHeight)),h("items",e.visibleOptions())("itemSize",e.virtualScrollItemSize||e._itemSize)("autoSize",!0)("lazy",e.lazy)("options",e.virtualScrollOptions),u(3),h("ngIf",e.loaderTemplate)}}function wre(i,n){i&1&&ue(0)}function Sre(i,n){if(i&1&&(pe(0),I(1,wre,1,0,"ng-container",48),he()),i&2){f();let e=We(9),t=f();u(),h("ngTemplateOutlet",e)("ngTemplateOutletContext",Je(3,X4,t.visibleOptions(),Ae(2,Nne)))}}function Are(i,n){if(i&1&&(m(0,"span"),D(1),_()),i&2){let e=f(2).$implicit,t=f(3);u(),$(t.getOptionGroupLabel(e.optionGroup))}}function Ere(i,n){i&1&&ue(0)}function xre(i,n){if(i&1&&(pe(0),m(1,"li",58),I(2,Are,2,1,"span",18)(3,Ere,1,0,"ng-container",48),_(),he()),i&2){let e=f(),t=e.$implicit,r=e.index,o=f().options,s=f(2);u(),h("ngStyle",oe(5,r_,o.itemSize+"px")),V("id",s.id+"_"+s.getOptionIndex(r,o)),u(),h("ngIf",!s.groupTemplate),u(),h("ngTemplateOutlet",s.groupTemplate)("ngTemplateOutletContext",oe(7,RT,t.optionGroup))}}function Tre(i,n){if(i&1){let e=B();pe(0),m(1,"p-dropdownItem",59),P("onClick",function(r){S(e);let o=f().$implicit,s=f(3);return A(s.onOptionSelect(r,o))})("onMouseEnter",function(r){S(e);let o=f().index,s=f().options,a=f(2);return A(a.onOptionMouseEnter(r,a.getOptionIndex(o,s)))}),_(),he()}if(i&2){let e=f(),t=e.$implicit,r=e.index,o=f().options,s=f(2);u(),h("id",s.id+"_"+s.getOptionIndex(r,o))("option",t)("checkmark",s.checkmark)("selected",s.isSelected(t))("label",s.getOptionLabel(t))("disabled",s.isOptionDisabled(t))("template",s.itemTemplate)("focused",s.focusedOptionIndex()===s.getOptionIndex(r,o))("ariaPosInset",s.getAriaPosInset(s.getOptionIndex(r,o)))("ariaSetSize",s.ariaSetSize)}}function Ore(i,n){if(i&1&&I(0,xre,4,9,"ng-container",18)(1,Tre,2,10,"ng-container",18),i&2){let e=n.$implicit,t=f(3);h("ngIf",t.isOptionGroup(e)),u(),h("ngIf",!t.isOptionGroup(e))}}function Dre(i,n){if(i&1&&(pe(0),D(1),he()),i&2){let e=f(4);u(),J(" ",e.emptyFilterMessageLabel," ")}}function Rre(i,n){i&1&&ue(0,null,13)}function Pre(i,n){if(i&1&&(m(0,"li",60),I(1,Dre,2,1,"ng-container",20)(2,Rre,2,0,"ng-container",31),_()),i&2){let e=f().options,t=f(2);h("ngStyle",oe(4,r_,e.itemSize+"px")),u(),h("ngIf",!t.emptyFilterTemplate&&!t.emptyTemplate)("ngIfElse",t.emptyFilter),u(),h("ngTemplateOutlet",t.emptyFilterTemplate||t.emptyTemplate)}}function kre(i,n){if(i&1&&(pe(0),D(1),he()),i&2){let e=f(4);u(),J(" ",e.emptyMessageLabel," ")}}function Fre(i,n){i&1&&ue(0,null,14)}function Lre(i,n){if(i&1&&(m(0,"li",60),I(1,kre,2,1,"ng-container",20)(2,Fre,2,0,"ng-container",31),_()),i&2){let e=f().options,t=f(2);h("ngStyle",oe(4,r_,e.itemSize+"px")),u(),h("ngIf",!t.emptyTemplate)("ngIfElse",t.empty),u(),h("ngTemplateOutlet",t.emptyTemplate)}}function Mre(i,n){if(i&1&&(m(0,"ul",55,12),I(2,Ore,2,2,"ng-template",56)(3,Pre,3,6,"li",57)(4,Lre,3,6,"li",57),_()),i&2){let e=n.$implicit,t=n.options,r=f(2);h("ngClass",t.contentStyleClass)("ngStyle",t.contentStyle),V("id",r.id+"_list")("aria-label",r.listLabel),u(2),h("ngForOf",e),u(),h("ngIf",r.filterValue&&r.isEmpty()),u(),h("ngIf",!r.filterValue&&r.isEmpty())}}function Nre(i,n){i&1&&ue(0)}function Vre(i,n){if(i&1){let e=B();m(0,"div",42)(1,"span",43,6),P("focus",function(r){S(e);let o=f();return A(o.onFirstHiddenFocus(r))}),_(),I(3,lre,1,0,"ng-container",31)(4,gre,4,2,"div",44),m(5,"div",45),I(6,bre,4,10,"p-scroller",46)(7,Sre,2,6,"ng-container",18)(8,Mre,5,7,"ng-template",null,7,Pt),_(),I(10,Nre,1,0,"ng-container",31),m(11,"span",43,8),P("focus",function(r){S(e);let o=f();return A(o.onLastHiddenFocus(r))}),_()()}if(i&2){let e=f();le(e.panelStyleClass),h("ngClass","p-dropdown-panel p-component")("ngStyle",e.panelStyle),u(),V("tabindex",0)("data-p-hidden-accessible",!0)("data-p-hidden-focusable",!0),u(2),h("ngTemplateOutlet",e.headerTemplate),u(),h("ngIf",e.filter),u(),h("ngStyle",oe(16,Lne,e.virtualScroll?"auto":e.scrollHeight||"auto")),u(),h("ngIf",e.virtualScroll),u(),h("ngIf",!e.virtualScroll),u(3),h("ngTemplateOutlet",e.footerTemplate),u(),V("tabindex",0)("data-p-hidden-accessible",!0)("data-p-hidden-focusable",!0)}}var Bre={provide:nn,useExisting:zt(()=>Ho),multi:!0},Ure=(()=>{class i{id;option;selected;focused;label;disabled;visible;itemSize;ariaPosInset;ariaSetSize;template;checkmark;onClick=new Q;onMouseEnter=new Q;ngOnInit(){}onOptionClick(e){this.onClick.emit(e)}onOptionMouseEnter(e){this.onMouseEnter.emit(e)}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=ie({type:i,selectors:[["p-dropdownItem"]],hostAttrs:[1,"p-element"],inputs:{id:"id",option:"option",selected:[2,"selected","selected",K],focused:[2,"focused","focused",K],label:"label",disabled:[2,"disabled","disabled",K],visible:[2,"visible","visible",K],itemSize:[2,"itemSize","itemSize",ke],ariaPosInset:"ariaPosInset",ariaSetSize:"ariaSetSize",template:"template",checkmark:[2,"checkmark","checkmark",K]},outputs:{onClick:"onClick",onMouseEnter:"onMouseEnter"},features:[qe],decls:4,vars:22,consts:[["role","option","pRipple","",3,"click","mouseenter","id","ngStyle","ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"styleClass",4,"ngIf"],[3,"styleClass"]],template:function(t,r){t&1&&(m(0,"li",0),P("click",function(s){return r.onOptionClick(s)})("mouseenter",function(s){return r.onOptionMouseEnter(s)}),I(1,wne,3,2,"ng-container",1)(2,Sne,2,1,"span",1)(3,Ane,1,0,"ng-container",2),_()),t&2&&(h("id",r.id)("ngStyle",oe(14,r_,r.itemSize+"px"))("ngClass",zi(16,Ine,r.selected,r.disabled,r.focused)),V("aria-label",r.label)("aria-setsize",r.ariaSetSize)("aria-posinset",r.ariaPosInset)("aria-selected",r.selected)("data-p-focused",r.focused)("data-p-highlight",r.selected)("data-p-disabled",r.disabled),u(),h("ngIf",r.checkmark),u(),h("ngIf",!r.template),u(),h("ngTemplateOutlet",r.template)("ngTemplateOutletContext",oe(20,RT,r.option)))},dependencies:()=>[Ge,et,st,Ee,qi,DT,fn],encapsulation:2})}return i})(),Ho=(()=>{class i{el;renderer;cd;zone;filterService;config;id;scrollHeight="200px";filter;name;style;panelStyle;styleClass;panelStyleClass;readonly;required;editable;appendTo;tabindex=0;set placeholder(e){this._placeholder.set(e)}get placeholder(){return this._placeholder.asReadonly()}loadingIcon;filterPlaceholder;filterLocale;variant="outlined";inputId;dataKey;filterBy;filterFields;autofocus;resetFilterOnHide=!1;checkmark=!1;dropdownIcon;loading=!1;optionLabel;optionValue;optionDisabled;optionGroupLabel="label";optionGroupChildren="items";autoDisplayFirst=!0;group;showClear;emptyFilterMessage="";emptyMessage="";lazy=!1;virtualScroll;virtualScrollItemSize;virtualScrollOptions;overlayOptions;ariaFilterLabel;ariaLabel;ariaLabelledBy;filterMatchMode="contains";maxlength;tooltip="";tooltipPosition="right";tooltipPositionStyle="absolute";tooltipStyleClass;focusOnHover=!1;selectOnFocus=!1;autoOptionFocus=!0;autofocusFilter=!0;autoShowPanelOnPrintableCharacterKeyDown=!0;get disabled(){return this._disabled}set disabled(e){e&&(this.focused=!1,this.overlayVisible&&this.hide()),this._disabled=e,this.cd.destroyed||this.cd.detectChanges()}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=e,console.warn("The itemSize property is deprecated, use virtualScrollItemSize property instead.")}_itemSize;get autoZIndex(){return this._autoZIndex}set autoZIndex(e){this._autoZIndex=e,console.warn("The autoZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}_autoZIndex;get baseZIndex(){return this._baseZIndex}set baseZIndex(e){this._baseZIndex=e,console.warn("The baseZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}_baseZIndex;get showTransitionOptions(){return this._showTransitionOptions}set showTransitionOptions(e){this._showTransitionOptions=e,console.warn("The showTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}_showTransitionOptions;get hideTransitionOptions(){return this._hideTransitionOptions}set hideTransitionOptions(e){this._hideTransitionOptions=e,console.warn("The hideTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}_hideTransitionOptions;get filterValue(){return this._filterValue()}set filterValue(e){setTimeout(()=>{this._filterValue.set(e)})}get options(){return this._options()}set options(e){fe.deepEquals(e,this._options())||this._options.set(e)}onChange=new Q;onFilter=new Q;onFocus=new Q;onBlur=new Q;onClick=new Q;onShow=new Q;onHide=new Q;onClear=new Q;onLazyLoad=new Q;containerViewChild;filterViewChild;focusInputViewChild;editableInputViewChild;itemsViewChild;scroller;overlayViewChild;firstHiddenFocusableElementOnOverlay;lastHiddenFocusableElementOnOverlay;templates;_disabled;itemsWrapper;itemTemplate;groupTemplate;loaderTemplate;selectedItemTemplate;headerTemplate;filterTemplate;footerTemplate;emptyFilterTemplate;emptyTemplate;dropdownIconTemplate;loadingIconTemplate;clearIconTemplate;filterIconTemplate;filterOptions;_options=Oi(null);_placeholder=Oi(void 0);modelValue=Oi(null);value;onModelChange=()=>{};onModelTouched=()=>{};hover;focused;overlayVisible;optionsChanged;panel;dimensionsUpdated;hoveredItem;selectedOptionUpdated;_filterValue=Oi(null);searchValue;searchIndex;searchTimeout;previousSearchChar;currentSearchChar;preventModelTouched;focusedOptionIndex=Oi(-1);labelId;listId;clicked=Oi(!1);get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(bi.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(bi.EMPTY_FILTER_MESSAGE)}get isVisibleClearIcon(){return this.modelValue()!=null&&this.hasSelectedOption()&&this.showClear&&!this.disabled}get listLabel(){return this.config.getTranslation(bi.ARIA).listLabel}get containerClass(){return{"p-dropdown p-component p-inputwrapper":!0,"p-disabled":this.disabled,"p-dropdown-clearable":this.showClear&&!this.disabled,"p-focus":this.focused,"p-inputwrapper-filled":this.modelValue()!==void 0&&this.modelValue()!==null&&!this.modelValue().length,"p-inputwrapper-focus":this.focused||this.overlayVisible,"p-variant-filled":this.variant==="filled"||this.config.inputStyle()==="filled","p-dropdown-open":this.overlayVisible}}get inputClass(){let e=this.label();return{"p-dropdown-label p-inputtext":!0,"p-placeholder":this.placeholder()&&e===this.placeholder(),"p-dropdown-label-empty":!this.editable&&!this.selectedItemTemplate&&(e==null||e==="p-emptylabel"||e.length===0)}}get panelClass(){return{"p-dropdown-panel p-component":!0,"p-input-filled":this.config.inputStyle()==="filled","p-ripple-disabled":this.config.ripple===!1}}get focusedOptionId(){return this.focusedOptionIndex()!==-1?`${this.id}_${this.focusedOptionIndex()}`:null}visibleOptions=Tr(()=>{let e=this.getAllVisibleAndNonVisibleOptions();if(this._filterValue()){let r=!(this.filterBy||this.optionLabel)&&!this.filterFields&&!this.optionValue?this.options.filter(o=>o.label?o.label.toString().toLowerCase().indexOf(this._filterValue().toLowerCase().trim())!==-1:o.toString().toLowerCase().indexOf(this._filterValue().toLowerCase().trim())!==-1):this.filterService.filter(e,this.searchFields(),this._filterValue().trim(),this.filterMatchMode,this.filterLocale);if(this.group){let o=this.options||[],s=[];return o.forEach(a=>{let c=this.getOptionGroupChildren(a).filter(d=>r.includes(d));c.length>0&&s.push(Pe(re({},a),{[typeof this.optionGroupChildren=="string"?this.optionGroupChildren:"items"]:[...c]}))}),this.flatOptions(s)}return r}return e});label=Tr(()=>{let e=this.getAllVisibleAndNonVisibleOptions(),t=e.findIndex(r=>this.isOptionValueEqualsModelValue(r));return t!==-1?this.getOptionLabel(e[t]):this.placeholder()||"p-emptylabel"});filled=Tr(()=>{if(typeof this.modelValue()=="string")return!!this.modelValue();let t=this.getAllVisibleAndNonVisibleOptions().findIndex(r=>this.isOptionValueEqualsModelValue(r))!==-1;return this.label()!=="p-emptylabel"&&t});selectedOption;editableInputValue=Tr(()=>this.getOptionLabel(this.selectedOption)||this.modelValue()||"");constructor(e,t,r,o,s,a){this.el=e,this.renderer=t,this.cd=r,this.zone=o,this.filterService=s,this.config=a,Fc(()=>{let l=this.modelValue(),c=this.visibleOptions();if(c&&fe.isNotEmpty(c)){let d=this.findSelectedOptionIndex();(d!==-1||l===void 0||typeof l=="string"&&l.length===0||this.isModelValueNotSet()||this.editable)&&(this.selectedOption=c[d])}fe.isEmpty(c)&&(l===void 0||this.isModelValueNotSet())&&fe.isNotEmpty(this.selectedOption)&&(this.selectedOption=null),l!==void 0&&this.editable&&this.updateEditableLabel(),this.cd.markForCheck()})}isModelValueNotSet(){return this.modelValue()===null&&!this.isOptionValueEqualsModelValue(this.selectedOption)}getAllVisibleAndNonVisibleOptions(){return this.group?this.flatOptions(this.options):this.options||[]}ngOnInit(){this.id=this.id||yt(),this.autoUpdateModel(),this.filterBy&&(this.filterOptions={filter:e=>this.onFilterInputChange(e),reset:()=>this.resetFilter()})}ngAfterViewChecked(){if(this.optionsChanged&&this.overlayVisible&&(this.optionsChanged=!1,this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.overlayViewChild&&this.overlayViewChild.alignOverlay()},1)})),this.selectedOptionUpdated&&this.itemsWrapper){let e=M.findSingle(this.overlayViewChild?.overlayViewChild?.nativeElement,"li.p-highlight");e&&M.scrollInView(this.itemsWrapper,e),this.selectedOptionUpdated=!1}}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":this.itemTemplate=e.template;break;case"selectedItem":this.selectedItemTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"filter":this.filterTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"emptyfilter":this.emptyFilterTemplate=e.template;break;case"empty":this.emptyTemplate=e.template;break;case"group":this.groupTemplate=e.template;break;case"loader":this.loaderTemplate=e.template;break;case"dropdownicon":this.dropdownIconTemplate=e.template;break;case"loadingicon":this.loadingIconTemplate=e.template;break;case"clearicon":this.clearIconTemplate=e.template;break;case"filtericon":this.filterIconTemplate=e.template;break;default:this.itemTemplate=e.template;break}})}flatOptions(e){return(e||[]).reduce((t,r,o)=>{t.push({optionGroup:r,group:!0,index:o});let s=this.getOptionGroupChildren(r);return s&&s.forEach(a=>t.push(a)),t},[])}autoUpdateModel(){if(this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption()&&(this.focusedOptionIndex.set(this.findFirstFocusedOptionIndex()),this.onOptionSelect(null,this.visibleOptions()[this.focusedOptionIndex()],!1)),this.autoDisplayFirst&&(this.modelValue()===null||this.modelValue()===void 0)&&!this.placeholder()){let e=this.findFirstOptionIndex();this.onOptionSelect(null,this.visibleOptions()[e],!1,!0)}}onOptionSelect(e,t,r=!0,o=!1){if(!this.isSelected(t)){let s=this.getOptionValue(t);this.updateModel(s,e),this.focusedOptionIndex.set(this.findSelectedOptionIndex()),o===!1&&this.onChange.emit({originalEvent:e,value:s})}r&&this.hide(!0)}onOptionMouseEnter(e,t){this.focusOnHover&&this.changeFocusedOptionIndex(e,t)}updateModel(e,t){this.value=e,this.onModelChange(e),this.modelValue.set(e),this.selectedOptionUpdated=!0}writeValue(e,t=!0){this.filter&&this.resetFilter(),this.value=e,t&&this.allowModelChange()&&this.onModelChange(e),this.modelValue.set(this.value),this.updateEditableLabel(),this.cd.markForCheck()}allowModelChange(){return this.autoDisplayFirst&&!this.placeholder()&&(this.modelValue()===void 0||this.modelValue()===null)&&!this.editable&&this.options&&this.options.length}isSelectedOptionEmpty(){return fe.isEmpty(this.selectedOption)}isSelected(e){return this.isValidOption(e)&&this.isOptionValueEqualsModelValue(e)}isOptionValueEqualsModelValue(e){return fe.equals(this.modelValue(),this.getOptionValue(e),this.equalityKey())}ngAfterViewInit(){this.editable&&this.updateEditableLabel(),this.updatePlaceHolderForFloatingLabel()}updatePlaceHolderForFloatingLabel(){if(this._placeholder()!==null&&this._placeholder()!==void 0)return;let e=this.el.nativeElement.parentElement,t=e?.classList.contains("p-float-label");if(e&&t&&!this.selectedOption){let r=e.querySelector("label");r&&this._placeholder.set(r.textContent)}}updateEditableLabel(){this.editableInputViewChild&&(this.editableInputViewChild.nativeElement.value=this.getOptionLabel(this.selectedOption)||this.modelValue()||"")}clearEditableLabel(){this.editableInputViewChild&&(this.editableInputViewChild.nativeElement.value="")}getOptionIndex(e,t){return this.virtualScrollerDisabled?e:t&&t.getItemOptions(e).index}getOptionLabel(e){return this.optionLabel!==void 0&&this.optionLabel!==null?fe.resolveFieldData(e,this.optionLabel):e&&e.label!==void 0?e.label:e}getOptionValue(e){return this.optionValue&&this.optionValue!==null?fe.resolveFieldData(e,this.optionValue):!this.optionLabel&&e&&e.value!==void 0?e.value:e}isOptionDisabled(e){return this.getOptionValue(this.modelValue())===this.getOptionValue(e)||this.getOptionLabel(this.modelValue()===this.getOptionLabel(e))&&e.disabled===!1?!1:this.optionDisabled?fe.resolveFieldData(e,this.optionDisabled):e&&e.disabled!==void 0?e.disabled:!1}getOptionGroupLabel(e){return this.optionGroupLabel!==void 0&&this.optionGroupLabel!==null?fe.resolveFieldData(e,this.optionGroupLabel):e&&e.label!==void 0?e.label:e}getOptionGroupChildren(e){return this.optionGroupChildren!==void 0&&this.optionGroupChildren!==null?fe.resolveFieldData(e,this.optionGroupChildren):e.items}getAriaPosInset(e){return(this.optionGroupLabel?e-this.visibleOptions().slice(0,e).filter(t=>this.isOptionGroup(t)).length:e)+1}get ariaSetSize(){return this.visibleOptions().filter(e=>!this.isOptionGroup(e)).length}resetFilter(){this._filterValue.set(null),this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value="")}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onContainerClick(e){this.disabled||this.readonly||this.loading||(this.focusInputViewChild?.nativeElement.focus({preventScroll:!0}),!(e.target.tagName==="INPUT"||e.target.getAttribute("data-pc-section")==="clearicon"||e.target.closest('[data-pc-section="clearicon"]'))&&((!this.overlayViewChild||!this.overlayViewChild.el.nativeElement.contains(e.target))&&(this.overlayVisible?this.hide(!0):this.show(!0)),this.onClick.emit(e),this.clicked.set(!0),this.cd.detectChanges()))}isEmpty(){return!this._options()||this.visibleOptions()&&this.visibleOptions().length===0}onEditableInput(e){let t=e.target.value;this.searchValue="",!this.searchOptions(e,t)&&this.focusedOptionIndex.set(-1),this.onModelChange(t),this.updateModel(t,e),setTimeout(()=>{this.onChange.emit({originalEvent:e,value:t})},1),!this.overlayVisible&&fe.isNotEmpty(t)&&this.show()}show(e){this.overlayVisible=!0;let t=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.editable?-1:this.findSelectedOptionIndex();this.focusedOptionIndex.set(t),e&&M.focus(this.focusInputViewChild?.nativeElement),this.cd.markForCheck()}onOverlayAnimationStart(e){if(e.toState==="visible"){if(this.itemsWrapper=M.findSingle(this.overlayViewChild?.overlayViewChild?.nativeElement,this.virtualScroll?".p-scroller":".p-dropdown-items-wrapper"),this.virtualScroll&&this.scroller?.setContentEl(this.itemsViewChild?.nativeElement),this.options&&this.options.length)if(this.virtualScroll){let t=this.modelValue()?this.focusedOptionIndex():-1;t!==-1&&this.scroller?.scrollToIndex(t)}else{let t=M.findSingle(this.itemsWrapper,".p-dropdown-item.p-highlight");t&&t.scrollIntoView({block:"nearest",inline:"nearest"})}this.filterViewChild&&this.filterViewChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&!this.editable&&this.filterViewChild.nativeElement.focus()),this.onShow.emit(e)}e.toState==="void"&&(this.itemsWrapper=null,this.onModelTouched(),this.onHide.emit(e))}hide(e){this.overlayVisible=!1,this.focusedOptionIndex.set(-1),this.clicked.set(!1),this.searchValue="",this.overlayOptions?.mode==="modal"&&M.unblockBodyScroll(),this.filter&&this.resetFilterOnHide&&this.resetFilter(),e&&(this.focusInputViewChild&&setTimeout(()=>{M.focus(this.focusInputViewChild?.nativeElement)}),this.editable&&this.editableInputViewChild&&setTimeout(()=>{M.focus(this.editableInputViewChild?.nativeElement)})),this.cd.markForCheck()}onInputFocus(e){if(this.disabled)return;this.focused=!0;let t=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.overlayVisible&&this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1;this.focusedOptionIndex.set(t),this.overlayVisible&&this.scrollInView(this.focusedOptionIndex()),this.onFocus.emit(e)}onInputBlur(e){this.focused=!1,this.onBlur.emit(e),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}onMouseDown(e){e.preventDefault()}onKeyDown(e,t){if(!(this.disabled||this.readonly||this.loading)){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,this.editable);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,this.editable);break;case"Delete":this.onDeleteKey(e);break;case"Home":this.onHomeKey(e,this.editable);break;case"End":this.onEndKey(e,this.editable);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Space":this.onSpaceKey(e,t);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"Backspace":this.onBackspaceKey(e,this.editable);break;case"ShiftLeft":case"ShiftRight":break;default:!e.metaKey&&fe.isPrintableCharacter(e.key)&&(!this.overlayVisible&&this.autoShowPanelOnPrintableCharacterKeyDown&&this.show(),!this.editable&&this.searchOptions(e,e.key));break}this.clicked.set(!1)}}onFilterKeyDown(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":case"NumpadEnter":this.onEnterKey(e,!0);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e,!0);break;default:break}}onFilterBlur(e){this.focusedOptionIndex.set(-1)}onArrowDownKey(e){if(!this.overlayVisible)this.show(),this.editable&&this.changeFocusedOptionIndex(e,this.findSelectedOptionIndex());else{let t=this.focusedOptionIndex()!==-1?this.findNextOptionIndex(this.focusedOptionIndex()):this.clicked()?this.findFirstOptionIndex():this.findFirstFocusedOptionIndex();this.changeFocusedOptionIndex(e,t)}e.preventDefault(),e.stopPropagation()}changeFocusedOptionIndex(e,t){if(this.focusedOptionIndex()!==t&&(this.focusedOptionIndex.set(t),this.scrollInView(),this.selectOnFocus)){let r=this.visibleOptions()[t];this.onOptionSelect(e,r,!1)}}get virtualScrollerDisabled(){return!this.virtualScroll}scrollInView(e=-1){let t=e!==-1?`${this.id}_${e}`:this.focusedOptionId;if(this.itemsViewChild&&this.itemsViewChild.nativeElement){let r=M.findSingle(this.itemsViewChild.nativeElement,`li[id="${t}"]`);r?r.scrollIntoView&&r.scrollIntoView({block:"nearest",inline:"nearest"}):this.virtualScrollerDisabled||setTimeout(()=>{this.virtualScroll&&this.scroller?.scrollToIndex(e!==-1?e:this.focusedOptionIndex())},0)}}hasSelectedOption(){return this.modelValue()!==void 0}isValidSelectedOption(e){return this.isValidOption(e)&&this.isSelected(e)}equalityKey(){return this.optionValue?null:this.dataKey}findFirstFocusedOptionIndex(){let e=this.findSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e}findFirstOptionIndex(){return this.visibleOptions().findIndex(e=>this.isValidOption(e))}findSelectedOptionIndex(){return this.hasSelectedOption()?this.visibleOptions().findIndex(e=>this.isValidSelectedOption(e)):-1}findNextOptionIndex(e){let t=e<this.visibleOptions().length-1?this.visibleOptions().slice(e+1).findIndex(r=>this.isValidOption(r)):-1;return t>-1?t+e+1:e}findPrevOptionIndex(e){let t=e>0?fe.findLastIndex(this.visibleOptions().slice(0,e),r=>this.isValidOption(r)):-1;return t>-1?t:e}findLastOptionIndex(){return fe.findLastIndex(this.visibleOptions(),e=>this.isValidOption(e))}findLastFocusedOptionIndex(){let e=this.findSelectedOptionIndex();return e<0?this.findLastOptionIndex():e}isValidOption(e){return e!=null&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))}isOptionGroup(e){return this.optionGroupLabel!==void 0&&this.optionGroupLabel!==null&&e.optionGroup!==void 0&&e.optionGroup!==null&&e.group}onArrowUpKey(e,t=!1){if(e.altKey&&!t){if(this.focusedOptionIndex()!==-1){let r=this.visibleOptions()[this.focusedOptionIndex()];this.onOptionSelect(e,r)}this.overlayVisible&&this.hide()}else{let r=this.focusedOptionIndex()!==-1?this.findPrevOptionIndex(this.focusedOptionIndex()):this.clicked()?this.findLastOptionIndex():this.findLastFocusedOptionIndex();this.changeFocusedOptionIndex(e,r),!this.overlayVisible&&this.show()}e.preventDefault(),e.stopPropagation()}onArrowLeftKey(e,t=!1){t&&this.focusedOptionIndex.set(-1)}onDeleteKey(e){this.showClear&&(this.clear(e),e.preventDefault())}onHomeKey(e,t=!1){if(t){let r=e.currentTarget;e.shiftKey?r.setSelectionRange(0,r.value.length):(r.setSelectionRange(0,0),this.focusedOptionIndex.set(-1))}else this.changeFocusedOptionIndex(e,this.findFirstOptionIndex()),!this.overlayVisible&&this.show();e.preventDefault()}onEndKey(e,t=!1){if(t){let r=e.currentTarget;if(e.shiftKey)r.setSelectionRange(0,r.value.length);else{let o=r.value.length;r.setSelectionRange(o,o),this.focusedOptionIndex.set(-1)}}else this.changeFocusedOptionIndex(e,this.findLastOptionIndex()),!this.overlayVisible&&this.show();e.preventDefault()}onPageDownKey(e){this.scrollInView(this.visibleOptions().length-1),e.preventDefault()}onPageUpKey(e){this.scrollInView(0),e.preventDefault()}onSpaceKey(e,t=!1){!this.editable&&!t&&this.onEnterKey(e)}onEnterKey(e,t=!1){if(!this.overlayVisible)this.focusedOptionIndex.set(-1),this.onArrowDownKey(e);else{if(this.focusedOptionIndex()!==-1){let r=this.visibleOptions()[this.focusedOptionIndex()];this.onOptionSelect(e,r)}!t&&this.hide()}e.preventDefault()}onEscapeKey(e){this.overlayVisible&&this.hide(!0),e.preventDefault()}onTabKey(e,t=!1){if(!t)if(this.overlayVisible&&this.hasFocusableElements())M.focus(e.shiftKey?this.lastHiddenFocusableElementOnOverlay.nativeElement:this.firstHiddenFocusableElementOnOverlay.nativeElement),e.preventDefault();else{if(this.focusedOptionIndex()!==-1&&this.overlayVisible){let r=this.visibleOptions()[this.focusedOptionIndex()];this.onOptionSelect(e,r)}this.overlayVisible&&this.hide(this.filter)}e.stopPropagation()}onFirstHiddenFocus(e){let t=e.relatedTarget===this.focusInputViewChild?.nativeElement?M.getFirstFocusableElement(this.overlayViewChild.el?.nativeElement,":not(.p-hidden-focusable)"):this.focusInputViewChild?.nativeElement;M.focus(t)}onLastHiddenFocus(e){let t=e.relatedTarget===this.focusInputViewChild?.nativeElement?M.getLastFocusableElement(this.overlayViewChild?.overlayViewChild?.nativeElement,':not([data-p-hidden-focusable="true"])'):this.focusInputViewChild?.nativeElement;M.focus(t)}hasFocusableElements(){return M.getFocusableElements(this.overlayViewChild.overlayViewChild.nativeElement,':not([data-p-hidden-focusable="true"]):not([class="p-dropdown-items-wrapper"])').length>0}onBackspaceKey(e,t=!1){t&&!this.overlayVisible&&this.show()}searchFields(){return this.filterBy?.split(",")||this.filterFields||[this.optionLabel]}searchOptions(e,t){this.searchValue=(this.searchValue||"")+t;let r=-1,o=!1;return this.focusedOptionIndex()!==-1?(r=this.visibleOptions().slice(this.focusedOptionIndex()).findIndex(s=>this.isOptionMatched(s)),r=r===-1?this.visibleOptions().slice(0,this.focusedOptionIndex()).findIndex(s=>this.isOptionMatched(s)):r+this.focusedOptionIndex()):r=this.visibleOptions().findIndex(s=>this.isOptionMatched(s)),r!==-1&&(o=!0),r===-1&&this.focusedOptionIndex()===-1&&(r=this.findFirstFocusedOptionIndex()),r!==-1&&this.changeFocusedOptionIndex(e,r),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),o}isOptionMatched(e){return this.isValidOption(e)&&this.getOptionLabel(e).toString().toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))}onFilterInputChange(e){let t=e.target.value;this._filterValue.set(t),this.focusedOptionIndex.set(-1),this.onFilter.emit({originalEvent:e,filter:this._filterValue()}),!this.virtualScrollerDisabled&&this.scroller.scrollToIndex(0),setTimeout(()=>{this.overlayViewChild.alignOverlay()}),this.cd.markForCheck()}applyFocus(){this.editable?M.findSingle(this.el.nativeElement,".p-dropdown-label.p-inputtext").focus():M.focus(this.focusInputViewChild?.nativeElement)}focus(){this.applyFocus()}clear(e){this.updateModel(null,e),this.clearEditableLabel(),this.onModelTouched(),this.onChange.emit({originalEvent:e,value:this.value}),this.onClear.emit(e),this.resetFilter()}static \u0275fac=function(t){return new(t||i)(b(ze),b(Ft),b(Ie),b(xt),b(Jl),b(Vt))};static \u0275cmp=ie({type:i,selectors:[["p-dropdown"]],contentQueries:function(t,r,o){if(t&1&&ot(o,be,4),t&2){let s;ee(s=te())&&(r.templates=s)}},viewQuery:function(t,r){if(t&1&&(de(Ene,5),de(xne,5),de(Tne,5),de(One,5),de(Dne,5),de(Rne,5),de(Pne,5),de(kne,5),de(Fne,5)),t&2){let o;ee(o=te())&&(r.containerViewChild=o.first),ee(o=te())&&(r.filterViewChild=o.first),ee(o=te())&&(r.focusInputViewChild=o.first),ee(o=te())&&(r.editableInputViewChild=o.first),ee(o=te())&&(r.itemsViewChild=o.first),ee(o=te())&&(r.scroller=o.first),ee(o=te())&&(r.overlayViewChild=o.first),ee(o=te())&&(r.firstHiddenFocusableElementOnOverlay=o.first),ee(o=te())&&(r.lastHiddenFocusableElementOnOverlay=o.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(t,r){t&2&&yn("p-inputwrapper-filled",r.filled())("p-inputwrapper-focus",r.focused||r.overlayVisible)},inputs:{id:"id",scrollHeight:"scrollHeight",filter:[2,"filter","filter",K],name:"name",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",readonly:[2,"readonly","readonly",K],required:[2,"required","required",K],editable:[2,"editable","editable",K],appendTo:"appendTo",tabindex:[2,"tabindex","tabindex",ke],placeholder:"placeholder",loadingIcon:"loadingIcon",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",variant:"variant",inputId:"inputId",dataKey:"dataKey",filterBy:"filterBy",filterFields:"filterFields",autofocus:[2,"autofocus","autofocus",K],resetFilterOnHide:[2,"resetFilterOnHide","resetFilterOnHide",K],checkmark:[2,"checkmark","checkmark",K],dropdownIcon:"dropdownIcon",loading:[2,"loading","loading",K],optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",autoDisplayFirst:[2,"autoDisplayFirst","autoDisplayFirst",K],group:[2,"group","group",K],showClear:[2,"showClear","showClear",K],emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",lazy:[2,"lazy","lazy",K],virtualScroll:[2,"virtualScroll","virtualScroll",K],virtualScrollItemSize:[2,"virtualScrollItemSize","virtualScrollItemSize",ke],virtualScrollOptions:"virtualScrollOptions",overlayOptions:"overlayOptions",ariaFilterLabel:"ariaFilterLabel",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",filterMatchMode:"filterMatchMode",maxlength:[2,"maxlength","maxlength",ke],tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",focusOnHover:[2,"focusOnHover","focusOnHover",K],selectOnFocus:[2,"selectOnFocus","selectOnFocus",K],autoOptionFocus:[2,"autoOptionFocus","autoOptionFocus",K],autofocusFilter:[2,"autofocusFilter","autofocusFilter",K],autoShowPanelOnPrintableCharacterKeyDown:[2,"autoShowPanelOnPrintableCharacterKeyDown","autoShowPanelOnPrintableCharacterKeyDown",K],disabled:"disabled",itemSize:"itemSize",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",filterValue:"filterValue",options:"options"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onShow:"onShow",onHide:"onHide",onClear:"onClear",onLazyLoad:"onLazyLoad"},features:[Ze([Bre]),qe],decls:12,vars:20,consts:[["container",""],["elseBlock",""],["overlay",""],["focusInput",""],["defaultPlaceholder",""],["editableInput",""],["firstHiddenFocusableEl",""],["buildInItems",""],["lastHiddenFocusableEl",""],["builtInFilterElement",""],["filter",""],["scroller",""],["items",""],["emptyFilter",""],["empty",""],[3,"click","ngClass","ngStyle"],["role","combobox","pAutoFocus","",3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass","autofocus","focus","blur","keydown",4,"ngIf"],["type","text","aria-haspopup","listbox","pAutoFocus","",3,"ngClass","disabled","autofocus","input","keydown","focus","blur",4,"ngIf"],[4,"ngIf"],["role","button","aria-label","dropdown trigger","aria-haspopup","listbox",1,"p-dropdown-trigger",3,"mousedown"],[4,"ngIf","ngIfElse"],[3,"visibleChange","onAnimationStart","onHide","visible","options","target","appendTo","autoZIndex","baseZIndex","showTransitionOptions","hideTransitionOptions"],["pTemplate","content"],["role","combobox","pAutoFocus","",3,"focus","blur","keydown","ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass","autofocus"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["type","text","aria-haspopup","listbox","pAutoFocus","",3,"input","keydown","focus","blur","ngClass","disabled","autofocus"],[3,"styleClass","click",4,"ngIf"],["class","p-dropdown-clear-icon",3,"click",4,"ngIf"],[3,"click","styleClass"],[1,"p-dropdown-clear-icon",3,"click"],[4,"ngTemplateOutlet"],["aria-hidden","true",3,"ngClass",4,"ngIf"],["aria-hidden","true",3,"class",4,"ngIf"],["aria-hidden","true",3,"ngClass"],["aria-hidden","true"],["class","p-dropdown-trigger-icon",4,"ngIf"],["class","p-dropdown-trigger-icon",3,"ngClass",4,"ngIf"],[3,"styleClass",4,"ngIf"],[1,"p-dropdown-trigger-icon",3,"ngClass"],[3,"styleClass"],[1,"p-dropdown-trigger-icon"],[3,"ngClass","ngStyle"],["role","presentation",1,"p-hidden-accessible","p-hidden-focusable",3,"focus"],["class","p-dropdown-header",3,"click",4,"ngIf"],["tabindex","0",1,"p-dropdown-items-wrapper",3,"ngStyle"],[3,"items","style","itemSize","autoSize","lazy","options","onLazyLoad",4,"ngIf"],[1,"p-dropdown-header",3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-dropdown-filter-container"],["type","text","role","searchbox","autocomplete","off",1,"p-dropdown-filter","p-inputtext","p-component",3,"input","keydown","blur","value","ngClass"],["class","p-dropdown-filter-icon",4,"ngIf"],[1,"p-dropdown-filter-icon"],[3,"onLazyLoad","items","itemSize","autoSize","lazy","options"],["pTemplate","loader"],["role","listbox",1,"p-dropdown-items",3,"ngClass","ngStyle"],["ngFor","",3,"ngForOf"],["class","p-dropdown-empty-message","role","option",3,"ngStyle",4,"ngIf"],["role","option",1,"p-dropdown-item-group",3,"ngStyle"],[3,"onClick","onMouseEnter","id","option","checkmark","selected","label","disabled","template","focused","ariaPosInset","ariaSetSize"],["role","option",1,"p-dropdown-empty-message",3,"ngStyle"]],template:function(t,r){if(t&1){let o=B();m(0,"div",15,0),P("click",function(a){return S(o),A(r.onContainerClick(a))}),I(2,Hne,6,20,"span",16)(3,Gne,2,8,"input",17)(4,qne,3,2,"ng-container",18),m(5,"div",19),P("mousedown",function(a){return S(o),A(r.onMouseDown(a))}),I(6,ere,3,2,"ng-container",20)(7,are,2,2,"ng-template",null,1,Pt),_(),m(9,"p-overlay",21,2),Ve("visibleChange",function(a){return S(o),Ue(r.overlayVisible,a)||(r.overlayVisible=a),A(a)}),P("onAnimationStart",function(a){return S(o),A(r.onOverlayAnimationStart(a))})("onHide",function(){return S(o),A(r.hide())}),I(11,Vre,13,18,"ng-template",22),_()()}if(t&2){let o,s=We(8);le(r.styleClass),h("ngClass",r.containerClass)("ngStyle",r.style),V("id",r.id),u(2),h("ngIf",!r.editable),u(),h("ngIf",r.editable),u(),h("ngIf",r.isVisibleClearIcon),u(),V("aria-expanded",(o=r.overlayVisible)!==null&&o!==void 0?o:!1)("data-pc-section","trigger"),u(),h("ngIf",r.loading)("ngIfElse",s),u(3),Ne("visible",r.overlayVisible),h("options",r.overlayOptions)("target","@parent")("appendTo",r.appendTo)("autoZIndex",r.autoZIndex)("baseZIndex",r.baseZIndex)("showTransitionOptions",r.showTransitionOptions)("hideTransitionOptions",r.hideTransitionOptions)}},dependencies:()=>[Ge,tn,et,st,Ee,n_,be,Zn,Rs,Mn,Li,To,La,Ure],styles:[`@layer primeng{.p-dropdown{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-dropdown-clear-icon{position:absolute;top:50%;margin-top:-.5rem}.p-dropdown-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-dropdown-label{display:block;white-space:nowrap;overflow:hidden;flex:1 1 auto;width:1%;text-overflow:ellipsis;cursor:pointer}.p-dropdown-label-empty{overflow:hidden;opacity:0}input.p-dropdown-label{cursor:default}.p-dropdown .p-dropdown-panel{min-width:100%}.p-dropdown-items-wrapper{overflow:auto}.p-dropdown-item{cursor:pointer;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-dropdown-item-group{cursor:auto}.p-dropdown-items{margin:0;padding:0;list-style-type:none}.p-dropdown-filter{width:100%}.p-dropdown-filter-container{position:relative}.p-dropdown-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-fluid .p-dropdown{display:flex}.p-fluid .p-dropdown .p-dropdown-label{width:1%}.p-float-label .p-dropdown .p-placeholder{opacity:0}}
`],encapsulation:2,changeDetection:0})}return i})(),nu=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=Oe({type:i});static \u0275inj=Te({imports:[Ye,If,nt,zr,Qi,Wr,Qn,Li,To,La,DT,fn,If,nt,Wr]})}return i})();var PT=(()=>{class i extends St{static \u0275fac=(()=>{let e;return function(r){return(e||(e=tt(i)))(r||i)}})();static \u0275cmp=ie({type:i,selectors:[["AngleDoubleLeftIcon"]],standalone:!0,features:[ve,lt],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M5.71602 11.164C5.80782 11.2021 5.9063 11.2215 6.00569 11.221C6.20216 11.2301 6.39427 11.1612 6.54025 11.0294C6.68191 10.8875 6.76148 10.6953 6.76148 10.4948C6.76148 10.2943 6.68191 10.1021 6.54025 9.96024L3.51441 6.9344L6.54025 3.90855C6.624 3.76126 6.65587 3.59011 6.63076 3.42254C6.60564 3.25498 6.525 3.10069 6.40175 2.98442C6.2785 2.86815 6.11978 2.79662 5.95104 2.7813C5.78229 2.76598 5.61329 2.80776 5.47112 2.89994L1.97123 6.39983C1.82957 6.54167 1.75 6.73393 1.75 6.9344C1.75 7.13486 1.82957 7.32712 1.97123 7.46896L5.47112 10.9991C5.54096 11.0698 5.62422 11.1259 5.71602 11.164ZM11.0488 10.9689C11.1775 11.1156 11.3585 11.2061 11.5531 11.221C11.7477 11.2061 11.9288 11.1156 12.0574 10.9689C12.1815 10.8302 12.25 10.6506 12.25 10.4645C12.25 10.2785 12.1815 10.0989 12.0574 9.96024L9.03158 6.93439L12.0574 3.90855C12.1248 3.76739 12.1468 3.60881 12.1204 3.45463C12.0939 3.30045 12.0203 3.15826 11.9097 3.04765C11.7991 2.93703 11.6569 2.86343 11.5027 2.83698C11.3486 2.81053 11.19 2.83252 11.0488 2.89994L7.51865 6.36957C7.37699 6.51141 7.29742 6.70367 7.29742 6.90414C7.29742 7.1046 7.37699 7.29686 7.51865 7.4387L11.0488 10.9689Z","fill","currentColor"]],template:function(t,r){t&1&&(It(),m(0,"svg",0),O(1,"path",1),_()),t&2&&(le(r.getClassNames()),V("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return i})();var kT=(()=>{class i extends St{static \u0275fac=(()=>{let e;return function(r){return(e||(e=tt(i)))(r||i)}})();static \u0275cmp=ie({type:i,selectors:[["AngleDoubleRightIcon"]],standalone:!0,features:[ve,lt],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M7.68757 11.1451C7.7791 11.1831 7.8773 11.2024 7.9764 11.2019C8.07769 11.1985 8.17721 11.1745 8.26886 11.1312C8.36052 11.088 8.44238 11.0265 8.50943 10.9505L12.0294 7.49085C12.1707 7.34942 12.25 7.15771 12.25 6.95782C12.25 6.75794 12.1707 6.56622 12.0294 6.42479L8.50943 2.90479C8.37014 2.82159 8.20774 2.78551 8.04633 2.80192C7.88491 2.81833 7.73309 2.88635 7.6134 2.99588C7.4937 3.10541 7.41252 3.25061 7.38189 3.40994C7.35126 3.56927 7.37282 3.73423 7.44337 3.88033L10.4605 6.89748L7.44337 9.91463C7.30212 10.0561 7.22278 10.2478 7.22278 10.4477C7.22278 10.6475 7.30212 10.8393 7.44337 10.9807C7.51301 11.0512 7.59603 11.1071 7.68757 11.1451ZM1.94207 10.9505C2.07037 11.0968 2.25089 11.1871 2.44493 11.2019C2.63898 11.1871 2.81949 11.0968 2.94779 10.9505L6.46779 7.49085C6.60905 7.34942 6.68839 7.15771 6.68839 6.95782C6.68839 6.75793 6.60905 6.56622 6.46779 6.42479L2.94779 2.90479C2.80704 2.83757 2.6489 2.81563 2.49517 2.84201C2.34143 2.86839 2.19965 2.94178 2.08936 3.05207C1.97906 3.16237 1.90567 3.30415 1.8793 3.45788C1.85292 3.61162 1.87485 3.76975 1.94207 3.9105L4.95922 6.92765L1.94207 9.9448C1.81838 10.0831 1.75 10.2621 1.75 10.4477C1.75 10.6332 1.81838 10.8122 1.94207 10.9505Z","fill","currentColor"]],template:function(t,r){t&1&&(It(),m(0,"svg",0),O(1,"path",1),_()),t&2&&(le(r.getClassNames()),V("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return i})();var FT=(()=>{class i extends St{static \u0275fac=(()=>{let e;return function(r){return(e||(e=tt(i)))(r||i)}})();static \u0275cmp=ie({type:i,selectors:[["AngleLeftIcon"]],standalone:!0,features:[ve,lt],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.75 11.185C8.65146 11.1854 8.55381 11.1662 8.4628 11.1284C8.37179 11.0906 8.28924 11.0351 8.22 10.965L4.72 7.46496C4.57955 7.32433 4.50066 7.13371 4.50066 6.93496C4.50066 6.73621 4.57955 6.54558 4.72 6.40496L8.22 2.93496C8.36095 2.84357 8.52851 2.80215 8.69582 2.81733C8.86312 2.83252 9.02048 2.90344 9.14268 3.01872C9.26487 3.134 9.34483 3.28696 9.36973 3.4531C9.39463 3.61924 9.36303 3.78892 9.28 3.93496L6.28 6.93496L9.28 9.93496C9.42045 10.0756 9.49934 10.2662 9.49934 10.465C9.49934 10.6637 9.42045 10.8543 9.28 10.995C9.13526 11.1257 8.9448 11.1939 8.75 11.185Z","fill","currentColor"]],template:function(t,r){t&1&&(It(),m(0,"svg",0),O(1,"path",1),_()),t&2&&(le(r.getClassNames()),V("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return i})();var ru=(()=>{class i extends St{static \u0275fac=(()=>{let e;return function(r){return(e||(e=tt(i)))(r||i)}})();static \u0275cmp=ie({type:i,selectors:[["AngleRightIcon"]],standalone:!0,features:[ve,lt],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M5.25 11.1728C5.14929 11.1694 5.05033 11.1455 4.9592 11.1025C4.86806 11.0595 4.78666 10.9984 4.72 10.9228C4.57955 10.7822 4.50066 10.5916 4.50066 10.3928C4.50066 10.1941 4.57955 10.0035 4.72 9.86283L7.72 6.86283L4.72 3.86283C4.66067 3.71882 4.64765 3.55991 4.68275 3.40816C4.71785 3.25642 4.79932 3.11936 4.91585 3.01602C5.03238 2.91268 5.17819 2.84819 5.33305 2.83149C5.4879 2.81479 5.64411 2.84671 5.78 2.92283L9.28 6.42283C9.42045 6.56346 9.49934 6.75408 9.49934 6.95283C9.49934 7.15158 9.42045 7.34221 9.28 7.48283L5.78 10.9228C5.71333 10.9984 5.63193 11.0595 5.5408 11.1025C5.44966 11.1455 5.35071 11.1694 5.25 11.1728Z","fill","currentColor"]],template:function(t,r){t&1&&(It(),m(0,"svg",0),O(1,"path",1),_()),t&2&&(le(r.getClassNames()),V("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return i})();var LT=(()=>{class i extends St{static \u0275fac=(()=>{let e;return function(r){return(e||(e=tt(i)))(r||i)}})();static \u0275cmp=ie({type:i,selectors:[["AngleDownIcon"]],standalone:!0,features:[ve,lt],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M3.58659 4.5007C3.68513 4.50023 3.78277 4.51945 3.87379 4.55723C3.9648 4.59501 4.04735 4.65058 4.11659 4.7207L7.11659 7.7207L10.1166 4.7207C10.2619 4.65055 10.4259 4.62911 10.5843 4.65956C10.7427 4.69002 10.8871 4.77074 10.996 4.88976C11.1049 5.00877 11.1726 5.15973 11.1889 5.32022C11.2052 5.48072 11.1693 5.6422 11.0866 5.7807L7.58659 9.2807C7.44597 9.42115 7.25534 9.50004 7.05659 9.50004C6.85784 9.50004 6.66722 9.42115 6.52659 9.2807L3.02659 5.7807C2.88614 5.64007 2.80725 5.44945 2.80725 5.2507C2.80725 5.05195 2.88614 4.86132 3.02659 4.7207C3.09932 4.64685 3.18675 4.58911 3.28322 4.55121C3.37969 4.51331 3.48305 4.4961 3.58659 4.5007Z","fill","currentColor"]],template:function(t,r){t&1&&(It(),m(0,"svg",0),O(1,"path",1),_()),t&2&&(le(r.getClassNames()),V("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return i})();var MT=(()=>{class i extends St{static \u0275fac=(()=>{let e;return function(r){return(e||(e=tt(i)))(r||i)}})();static \u0275cmp=ie({type:i,selectors:[["AngleUpIcon"]],standalone:!0,features:[ve,lt],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M10.4134 9.49931C10.3148 9.49977 10.2172 9.48055 10.1262 9.44278C10.0352 9.405 9.95263 9.34942 9.88338 9.27931L6.88338 6.27931L3.88338 9.27931C3.73811 9.34946 3.57409 9.3709 3.41567 9.34044C3.25724 9.30999 3.11286 9.22926 3.00395 9.11025C2.89504 8.99124 2.82741 8.84028 2.8111 8.67978C2.79478 8.51928 2.83065 8.35781 2.91338 8.21931L6.41338 4.71931C6.55401 4.57886 6.74463 4.49997 6.94338 4.49997C7.14213 4.49997 7.33276 4.57886 7.47338 4.71931L10.9734 8.21931C11.1138 8.35994 11.1927 8.55056 11.1927 8.74931C11.1927 8.94806 11.1138 9.13868 10.9734 9.27931C10.9007 9.35315 10.8132 9.41089 10.7168 9.44879C10.6203 9.48669 10.5169 9.5039 10.4134 9.49931Z","fill","currentColor"]],template:function(t,r){t&1&&(It(),m(0,"svg",0),O(1,"path",1),_()),t&2&&(le(r.getClassNames()),V("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return i})();var jre=["input"],Hre=(i,n,e)=>({"p-inputnumber p-component":!0,"p-inputnumber-buttons-stacked":i,"p-inputnumber-buttons-horizontal":n,"p-inputnumber-buttons-vertical":e}),Q4=()=>({"p-inputnumber-button p-inputnumber-button-up":!0}),Z4=()=>({"p-inputnumber-button p-inputnumber-button-down":!0});function Gre(i,n){if(i&1){let e=B();m(0,"TimesIcon",8),P("click",function(){S(e);let r=f(2);return A(r.clear())}),_()}i&2&&(h("ngClass","p-inputnumber-clear-icon"),V("data-pc-section","clearIcon"))}function zre(i,n){}function Wre(i,n){i&1&&I(0,zre,0,0,"ng-template")}function Kre(i,n){if(i&1){let e=B();m(0,"span",9),P("click",function(){S(e);let r=f(2);return A(r.clear())}),I(1,Wre,1,0,null,10),_()}if(i&2){let e=f(2);V("data-pc-section","clearIcon"),u(),h("ngTemplateOutlet",e.clearIconTemplate)}}function $re(i,n){if(i&1&&(pe(0),I(1,Gre,1,2,"TimesIcon",6)(2,Kre,2,2,"span",7),he()),i&2){let e=f();u(),h("ngIf",!e.clearIconTemplate),u(),h("ngIf",e.clearIconTemplate)}}function qre(i,n){if(i&1&&O(0,"span",14),i&2){let e=f(2);h("ngClass",e.incrementButtonIcon),V("data-pc-section","incrementbuttonicon")}}function Yre(i,n){i&1&&O(0,"AngleUpIcon"),i&2&&V("data-pc-section","incrementbuttonicon")}function Jre(i,n){}function Xre(i,n){i&1&&I(0,Jre,0,0,"ng-template")}function Qre(i,n){if(i&1&&(pe(0),I(1,Yre,1,1,"AngleUpIcon",3)(2,Xre,1,0,null,10),he()),i&2){let e=f(2);u(),h("ngIf",!e.incrementButtonIconTemplate),u(),h("ngTemplateOutlet",e.incrementButtonIconTemplate)}}function Zre(i,n){if(i&1&&O(0,"span",14),i&2){let e=f(2);h("ngClass",e.decrementButtonIcon),V("data-pc-section","decrementbuttonicon")}}function eoe(i,n){i&1&&O(0,"AngleDownIcon"),i&2&&V("data-pc-section","decrementbuttonicon")}function toe(i,n){}function ioe(i,n){i&1&&I(0,toe,0,0,"ng-template")}function noe(i,n){if(i&1&&(pe(0),I(1,eoe,1,1,"AngleDownIcon",3)(2,ioe,1,0,null,10),he()),i&2){let e=f(2);u(),h("ngIf",!e.decrementButtonIconTemplate),u(),h("ngTemplateOutlet",e.decrementButtonIconTemplate)}}function roe(i,n){if(i&1){let e=B();m(0,"span",11)(1,"button",12),P("mousedown",function(r){S(e);let o=f();return A(o.onUpButtonMouseDown(r))})("mouseup",function(){S(e);let r=f();return A(r.onUpButtonMouseUp())})("mouseleave",function(){S(e);let r=f();return A(r.onUpButtonMouseLeave())})("keydown",function(r){S(e);let o=f();return A(o.onUpButtonKeyDown(r))})("keyup",function(){S(e);let r=f();return A(r.onUpButtonKeyUp())}),I(2,qre,1,2,"span",13)(3,Qre,3,2,"ng-container",3),_(),m(4,"button",12),P("mousedown",function(r){S(e);let o=f();return A(o.onDownButtonMouseDown(r))})("mouseup",function(){S(e);let r=f();return A(r.onDownButtonMouseUp())})("mouseleave",function(){S(e);let r=f();return A(r.onDownButtonMouseLeave())})("keydown",function(r){S(e);let o=f();return A(o.onDownButtonKeyDown(r))})("keyup",function(){S(e);let r=f();return A(r.onDownButtonKeyUp())}),I(5,Zre,1,2,"span",13)(6,noe,3,2,"ng-container",3),_()()}if(i&2){let e=f();V("data-pc-section","buttonGroup"),u(),le(e.incrementButtonClass),h("ngClass",Ae(17,Q4))("disabled",e.disabled),V("aria-hidden",!0)("data-pc-section","incrementbutton"),u(),h("ngIf",e.incrementButtonIcon),u(),h("ngIf",!e.incrementButtonIcon),u(),le(e.decrementButtonClass),h("ngClass",Ae(18,Z4))("disabled",e.disabled),V("aria-hidden",!0)("data-pc-section",e.decrementbutton),u(),h("ngIf",e.decrementButtonIcon),u(),h("ngIf",!e.decrementButtonIcon)}}function ooe(i,n){if(i&1&&O(0,"span",14),i&2){let e=f(2);h("ngClass",e.incrementButtonIcon),V("data-pc-section","incrementbuttonicon")}}function soe(i,n){i&1&&O(0,"AngleUpIcon"),i&2&&V("data-pc-section","incrementbuttonicon")}function aoe(i,n){}function loe(i,n){i&1&&I(0,aoe,0,0,"ng-template")}function coe(i,n){if(i&1&&(pe(0),I(1,soe,1,1,"AngleUpIcon",3)(2,loe,1,0,null,10),he()),i&2){let e=f(2);u(),h("ngIf",!e.incrementButtonIconTemplate),u(),h("ngTemplateOutlet",e.incrementButtonIconTemplate)}}function doe(i,n){if(i&1){let e=B();m(0,"button",12),P("mousedown",function(r){S(e);let o=f();return A(o.onUpButtonMouseDown(r))})("mouseup",function(){S(e);let r=f();return A(r.onUpButtonMouseUp())})("mouseleave",function(){S(e);let r=f();return A(r.onUpButtonMouseLeave())})("keydown",function(r){S(e);let o=f();return A(o.onUpButtonKeyDown(r))})("keyup",function(){S(e);let r=f();return A(r.onUpButtonKeyUp())}),I(1,ooe,1,2,"span",13)(2,coe,3,2,"ng-container",3),_()}if(i&2){let e=f();le(e.incrementButtonClass),h("ngClass",Ae(8,Q4))("disabled",e.disabled),V("aria-hidden",!0)("data-pc-section","incrementbutton"),u(),h("ngIf",e.incrementButtonIcon),u(),h("ngIf",!e.incrementButtonIcon)}}function uoe(i,n){if(i&1&&O(0,"span",14),i&2){let e=f(2);h("ngClass",e.decrementButtonIcon),V("data-pc-section","decrementbuttonicon")}}function poe(i,n){i&1&&O(0,"AngleDownIcon"),i&2&&V("data-pc-section","decrementbuttonicon")}function hoe(i,n){}function foe(i,n){i&1&&I(0,hoe,0,0,"ng-template")}function moe(i,n){if(i&1&&(pe(0),I(1,poe,1,1,"AngleDownIcon",3)(2,foe,1,0,null,10),he()),i&2){let e=f(2);u(),h("ngIf",!e.decrementButtonIconTemplate),u(),h("ngTemplateOutlet",e.decrementButtonIconTemplate)}}function goe(i,n){if(i&1){let e=B();m(0,"button",12),P("mousedown",function(r){S(e);let o=f();return A(o.onDownButtonMouseDown(r))})("mouseup",function(){S(e);let r=f();return A(r.onDownButtonMouseUp())})("mouseleave",function(){S(e);let r=f();return A(r.onDownButtonMouseLeave())})("keydown",function(r){S(e);let o=f();return A(o.onDownButtonKeyDown(r))})("keyup",function(){S(e);let r=f();return A(r.onDownButtonKeyUp())}),I(1,uoe,1,2,"span",13)(2,moe,3,2,"ng-container",3),_()}if(i&2){let e=f();le(e.decrementButtonClass),h("ngClass",Ae(8,Z4))("disabled",e.disabled),V("aria-hidden",!0)("data-pc-section","decrementbutton"),u(),h("ngIf",e.decrementButtonIcon),u(),h("ngIf",!e.decrementButtonIcon)}}var _oe={provide:nn,useExisting:zt(()=>NT),multi:!0},NT=(()=>{class i{document;el;cd;injector;config;showButtons=!1;format=!0;buttonLayout="stacked";inputId;styleClass;style;placeholder;size;maxlength;tabindex;title;ariaLabelledBy;ariaLabel;ariaRequired;name;required;autocomplete;min;max;incrementButtonClass;decrementButtonClass;incrementButtonIcon;decrementButtonIcon;readonly=!1;step=1;allowEmpty=!0;locale;localeMatcher;mode="decimal";currency;currencyDisplay;useGrouping=!0;variant="outlined";minFractionDigits;maxFractionDigits;prefix;suffix;inputStyle;inputStyleClass;showClear=!1;autofocus;get disabled(){return this._disabled}set disabled(e){e&&(this.focused=!1),this._disabled=e,this.timer&&this.clearTimer()}onInput=new Q;onFocus=new Q;onBlur=new Q;onKeyDown=new Q;onClear=new Q;input;templates;clearIconTemplate;incrementButtonIconTemplate;decrementButtonIconTemplate;value;onModelChange=()=>{};onModelTouched=()=>{};focused;initialized;groupChar="";prefixChar="";suffixChar="";isSpecialChar;timer;lastValue;_numeral;numberFormat;_decimal;_decimalChar;_group;_minusSign;_currency;_prefix;_suffix;_index;_disabled;ngControl=null;constructor(e,t,r,o,s){this.document=e,this.el=t,this.cd=r,this.injector=o,this.config=s}ngOnChanges(e){["locale","localeMatcher","mode","currency","currencyDisplay","useGrouping","minFractionDigits","maxFractionDigits","prefix","suffix"].some(r=>!!e[r])&&this.updateConstructParser()}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"clearicon":this.clearIconTemplate=e.template;break;case"incrementbuttonicon":this.incrementButtonIconTemplate=e.template;break;case"decrementbuttonicon":this.decrementButtonIconTemplate=e.template;break}})}ngOnInit(){this.ngControl=this.injector.get(jo,null,{optional:!0}),this.constructParser(),this.initialized=!0}getOptions(){return{localeMatcher:this.localeMatcher,style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,useGrouping:this.useGrouping,minimumFractionDigits:this.minFractionDigits??void 0,maximumFractionDigits:this.maxFractionDigits??void 0}}constructParser(){this.numberFormat=new Intl.NumberFormat(this.locale,this.getOptions());let e=[...new Intl.NumberFormat(this.locale,{useGrouping:!1}).format(9876543210)].reverse(),t=new Map(e.map((r,o)=>[r,o]));this._numeral=new RegExp(`[${e.join("")}]`,"g"),this._group=this.getGroupingExpression(),this._minusSign=this.getMinusSignExpression(),this._currency=this.getCurrencyExpression(),this._decimal=this.getDecimalExpression(),this._decimalChar=this.getDecimalChar(),this._suffix=this.getSuffixExpression(),this._prefix=this.getPrefixExpression(),this._index=r=>t.get(r)}updateConstructParser(){this.initialized&&this.constructParser()}escapeRegExp(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}getDecimalExpression(){let e=this.getDecimalChar();return new RegExp(`[${e}]`,"g")}getDecimalChar(){return new Intl.NumberFormat(this.locale,Pe(re({},this.getOptions()),{useGrouping:!1})).format(1.1).replace(this._currency,"").trim().replace(this._numeral,"")}getGroupingExpression(){let e=new Intl.NumberFormat(this.locale,{useGrouping:!0});return this.groupChar=e.format(1e6).trim().replace(this._numeral,"").charAt(0),new RegExp(`[${this.groupChar}]`,"g")}getMinusSignExpression(){let e=new Intl.NumberFormat(this.locale,{useGrouping:!1});return new RegExp(`[${e.format(-1).trim().replace(this._numeral,"")}]`,"g")}getCurrencyExpression(){if(this.currency){let e=new Intl.NumberFormat(this.locale,{style:"currency",currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});return new RegExp(`[${e.format(1).replace(/\s/g,"").replace(this._numeral,"").replace(this._group,"")}]`,"g")}return new RegExp("[]","g")}getPrefixExpression(){if(this.prefix)this.prefixChar=this.prefix;else{let e=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay});this.prefixChar=e.format(1).split("1")[0]}return new RegExp(`${this.escapeRegExp(this.prefixChar||"")}`,"g")}getSuffixExpression(){if(this.suffix)this.suffixChar=this.suffix;else{let e=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});this.suffixChar=e.format(1).split("1")[1]}return new RegExp(`${this.escapeRegExp(this.suffixChar||"")}`,"g")}get isBlurUpdateOnMode(){return this.ngControl?.control?.updateOn==="blur"}formatValue(e){if(e!=null){if(e==="-")return e;if(this.format){let r=new Intl.NumberFormat(this.locale,this.getOptions()).format(e);return this.prefix&&e!=this.prefix&&(r=this.prefix+r),this.suffix&&e!=this.suffix&&(r=r+this.suffix),r}return e.toString()}return""}parseValue(e){let t=new RegExp(this._suffix,""),r=new RegExp(this._prefix,""),o=new RegExp(this._currency,""),s=e.replace(t,"").replace(r,"").trim().replace(/\s/g,"").replace(o,"").replace(this._group,"").replace(this._minusSign,"-").replace(this._decimal,".").replace(this._numeral,this._index);if(s){if(s==="-")return s;let a=+s;return isNaN(a)?null:a}return null}repeat(e,t,r){if(this.readonly)return;let o=t||500;this.clearTimer(),this.timer=setTimeout(()=>{this.repeat(e,40,r)},o),this.spin(e,r)}spin(e,t){let r=this.step*t,o=this.parseValue(this.input?.nativeElement.value)||0,s=this.validateValue(o+r);this.maxlength&&this.maxlength<this.formatValue(s).length||(this.updateInput(s,null,"spin",null),this.updateModel(e,s),this.handleOnInput(e,o,s))}clear(){this.value=null,this.onModelChange(this.value),this.onClear.emit()}onUpButtonMouseDown(e){if(e.button===2){this.clearTimer();return}this.disabled||(this.input?.nativeElement.focus(),this.repeat(e,null,1),e.preventDefault())}onUpButtonMouseUp(){this.disabled||this.clearTimer()}onUpButtonMouseLeave(){this.disabled||this.clearTimer()}onUpButtonKeyDown(e){(e.keyCode===32||e.keyCode===13)&&this.repeat(e,null,1)}onUpButtonKeyUp(){this.disabled||this.clearTimer()}onDownButtonMouseDown(e){if(e.button===2){this.clearTimer();return}this.disabled||(this.input?.nativeElement.focus(),this.repeat(e,null,-1),e.preventDefault())}onDownButtonMouseUp(){this.disabled||this.clearTimer()}onDownButtonMouseLeave(){this.disabled||this.clearTimer()}onDownButtonKeyUp(){this.disabled||this.clearTimer()}onDownButtonKeyDown(e){(e.keyCode===32||e.keyCode===13)&&this.repeat(e,null,-1)}onUserInput(e){this.readonly||(this.isSpecialChar&&(e.target.value=this.lastValue),this.isSpecialChar=!1)}onInputKeyDown(e){if(this.readonly)return;if(this.lastValue=e.target.value,e.shiftKey||e.altKey||e.key==="Dead"){this.isSpecialChar=!0;return}let t=e.target.selectionStart,r=e.target.selectionEnd,o=e.target.value,s=null;switch(e.altKey&&e.preventDefault(),e.key){case"ArrowUp":this.spin(e,1),e.preventDefault();break;case"ArrowDown":this.spin(e,-1),e.preventDefault();break;case"ArrowLeft":for(let a=t;a<=o.length;a++){let l=a===0?0:a-1;if(this.isNumeralChar(o.charAt(l))){this.input.nativeElement.setSelectionRange(a,a);break}}break;case"ArrowRight":for(let a=r;a>=0;a--)if(this.isNumeralChar(o.charAt(a))){this.input.nativeElement.setSelectionRange(a,a);break}break;case"Tab":case"Enter":s=this.validateValue(this.parseValue(this.input.nativeElement.value)),this.input.nativeElement.value=this.formatValue(s),this.input.nativeElement.setAttribute("aria-valuenow",s),this.updateModel(e,s);break;case"Backspace":{if(e.preventDefault(),t===r){if(t==1&&this.prefix||t==o.length&&this.suffix)break;let a=o.charAt(t-1),{decimalCharIndex:l,decimalCharIndexWithoutPrefix:c}=this.getDecimalCharIndexes(o);if(this.isNumeralChar(a)){let d=this.getDecimalLength(o);if(this._group.test(a))this._group.lastIndex=0,s=o.slice(0,t-2)+o.slice(t-1);else if(this._decimal.test(a))this._decimal.lastIndex=0,d?this.input?.nativeElement.setSelectionRange(t-1,t-1):s=o.slice(0,t-1)+o.slice(t);else if(l>0&&t>l){let p=this.isDecimalMode()&&(this.minFractionDigits||0)<d?"":"0";s=o.slice(0,t-1)+p+o.slice(t)}else c===1?(s=o.slice(0,t-1)+"0"+o.slice(t),s=this.parseValue(s)>0?s:""):s=o.slice(0,t-1)+o.slice(t)}else this.mode==="currency"&&a.search(this._currency)!=-1&&(s=o.slice(1));this.updateValue(e,s,null,"delete-single")}else s=this.deleteRange(o,t,r),this.updateValue(e,s,null,"delete-range");break}case"Delete":if(e.preventDefault(),t===r){if(t==0&&this.prefix||t==o.length-1&&this.suffix)break;let a=o.charAt(t),{decimalCharIndex:l,decimalCharIndexWithoutPrefix:c}=this.getDecimalCharIndexes(o);if(this.isNumeralChar(a)){let d=this.getDecimalLength(o);if(this._group.test(a))this._group.lastIndex=0,s=o.slice(0,t)+o.slice(t+2);else if(this._decimal.test(a))this._decimal.lastIndex=0,d?this.input?.nativeElement.setSelectionRange(t+1,t+1):s=o.slice(0,t)+o.slice(t+1);else if(l>0&&t>l){let p=this.isDecimalMode()&&(this.minFractionDigits||0)<d?"":"0";s=o.slice(0,t)+p+o.slice(t+1)}else c===1?(s=o.slice(0,t)+"0"+o.slice(t+1),s=this.parseValue(s)>0?s:""):s=o.slice(0,t)+o.slice(t+1)}this.updateValue(e,s,null,"delete-back-single")}else s=this.deleteRange(o,t,r),this.updateValue(e,s,null,"delete-range");break;case"Home":this.min&&(this.updateModel(e,this.min),e.preventDefault());break;case"End":this.max&&(this.updateModel(e,this.max),e.preventDefault());break;default:break}this.onKeyDown.emit(e)}onInputKeyPress(e){if(this.readonly)return;let t=e.which||e.keyCode,r=String.fromCharCode(t),o=this.isDecimalSign(r),s=this.isMinusSign(r);t!=13&&e.preventDefault(),!o&&e.code==="NumpadDecimal"&&(o=!0,r=this._decimalChar,t=r.charCodeAt(0));let{value:a,selectionStart:l,selectionEnd:c}=this.input.nativeElement,d=this.parseValue(a+r),p=d!=null?d.toString():"",g=a.substring(l,c),C=this.parseValue(g),y=C!=null?C.toString():"";if(l!==c&&y.length>0){this.insert(e,r,{isDecimalSign:o,isMinusSign:s});return}this.maxlength&&p.length>this.maxlength||(48<=t&&t<=57||s||o)&&this.insert(e,r,{isDecimalSign:o,isMinusSign:s})}onPaste(e){if(!this.disabled&&!this.readonly){e.preventDefault();let t=(e.clipboardData||this.document.defaultView.clipboardData).getData("Text");if(t){this.maxlength&&(t=t.toString().substring(0,this.maxlength));let r=this.parseValue(t);r!=null&&this.insert(e,r.toString())}}}allowMinusSign(){return this.min==null||this.min<0}isMinusSign(e){return this._minusSign.test(e)||e==="-"?(this._minusSign.lastIndex=0,!0):!1}isDecimalSign(e){return this._decimal.test(e)?(this._decimal.lastIndex=0,!0):!1}isDecimalMode(){return this.mode==="decimal"}getDecimalCharIndexes(e){let t=e.search(this._decimal);this._decimal.lastIndex=0;let o=e.replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").search(this._decimal);return this._decimal.lastIndex=0,{decimalCharIndex:t,decimalCharIndexWithoutPrefix:o}}getCharIndexes(e){let t=e.search(this._decimal);this._decimal.lastIndex=0;let r=e.search(this._minusSign);this._minusSign.lastIndex=0;let o=e.search(this._suffix);this._suffix.lastIndex=0;let s=e.search(this._currency);return this._currency.lastIndex=0,{decimalCharIndex:t,minusCharIndex:r,suffixCharIndex:o,currencyCharIndex:s}}insert(e,t,r={isDecimalSign:!1,isMinusSign:!1}){let o=t.search(this._minusSign);if(this._minusSign.lastIndex=0,!this.allowMinusSign()&&o!==-1)return;let s=this.input?.nativeElement.selectionStart,a=this.input?.nativeElement.selectionEnd,l=this.input?.nativeElement.value.trim(),{decimalCharIndex:c,minusCharIndex:d,suffixCharIndex:p,currencyCharIndex:g}=this.getCharIndexes(l),C;if(r.isMinusSign)s===0&&(C=l,(d===-1||a!==0)&&(C=this.insertText(l,t,0,a)),this.updateValue(e,C,t,"insert"));else if(r.isDecimalSign)c>0&&s===c?this.updateValue(e,l,t,"insert"):c>s&&c<a?(C=this.insertText(l,t,s,a),this.updateValue(e,C,t,"insert")):c===-1&&this.maxFractionDigits&&(C=this.insertText(l,t,s,a),this.updateValue(e,C,t,"insert"));else{let y=this.numberFormat.resolvedOptions().maximumFractionDigits,v=s!==a?"range-insert":"insert";if(c>0&&s>c){if(s+t.length-(c+1)<=y){let w=g>=s?g-1:p>=s?p:l.length;C=l.slice(0,s)+t+l.slice(s+t.length,w)+l.slice(w),this.updateValue(e,C,t,v)}}else C=this.insertText(l,t,s,a),this.updateValue(e,C,t,v)}}insertText(e,t,r,o){if((t==="."?t:t.split(".")).length===2){let a=e.slice(r,o).search(this._decimal);return this._decimal.lastIndex=0,a>0?e.slice(0,r)+this.formatValue(t)+e.slice(o):e||this.formatValue(t)}else return o-r===e.length?this.formatValue(t):r===0?t+e.slice(o):o===e.length?e.slice(0,r)+t:e.slice(0,r)+t+e.slice(o)}deleteRange(e,t,r){let o;return r-t===e.length?o="":t===0?o=e.slice(r):r===e.length?o=e.slice(0,t):o=e.slice(0,t)+e.slice(r),o}initCursor(){let e=this.input?.nativeElement.selectionStart,t=this.input?.nativeElement.selectionEnd,r=this.input?.nativeElement.value,o=r.length,s=null,a=(this.prefixChar||"").length;r=r.replace(this._prefix,""),(e===t||e!==0||t<a)&&(e-=a);let l=r.charAt(e);if(this.isNumeralChar(l))return e+a;let c=e-1;for(;c>=0;)if(l=r.charAt(c),this.isNumeralChar(l)){s=c+a;break}else c--;if(s!==null)this.input?.nativeElement.setSelectionRange(s+1,s+1);else{for(c=e;c<o;)if(l=r.charAt(c),this.isNumeralChar(l)){s=c+a;break}else c++;s!==null&&this.input?.nativeElement.setSelectionRange(s,s)}return s||0}onInputClick(){let e=this.input?.nativeElement.value;!this.readonly&&e!==M.getSelection()&&this.initCursor()}isNumeralChar(e){return e.length===1&&(this._numeral.test(e)||this._decimal.test(e)||this._group.test(e)||this._minusSign.test(e))?(this.resetRegex(),!0):!1}resetRegex(){this._numeral.lastIndex=0,this._decimal.lastIndex=0,this._group.lastIndex=0,this._minusSign.lastIndex=0}updateValue(e,t,r,o){let s=this.input?.nativeElement.value,a=null;t!=null&&(a=this.parseValue(t),a=!a&&!this.allowEmpty?0:a,this.updateInput(a,r,o,t),this.handleOnInput(e,s,a))}handleOnInput(e,t,r){this.isValueChanged(t,r)&&(this.input.nativeElement.value=this.formatValue(r),this.input?.nativeElement.setAttribute("aria-valuenow",r),!this.isBlurUpdateOnMode&&this.updateModel(e,r),this.onInput.emit({originalEvent:e,value:r,formattedValue:t}))}isValueChanged(e,t){if(t===null&&e!==null)return!0;if(t!=null){let r=typeof e=="string"?this.parseValue(e):e;return t!==r}return!1}validateValue(e){return e==="-"||e==null?null:this.min!=null&&e<this.min?this.min:this.max!=null&&e>this.max?this.max:e}updateInput(e,t,r,o){t=t||"";let s=this.input?.nativeElement.value,a=this.formatValue(e),l=s.length;if(a!==o&&(a=this.concatValues(a,o)),l===0){this.input.nativeElement.value=a,this.input.nativeElement.setSelectionRange(0,0);let d=this.initCursor()+t.length;this.input.nativeElement.setSelectionRange(d,d)}else{let c=this.input.nativeElement.selectionStart,d=this.input.nativeElement.selectionEnd;if(this.maxlength&&a.length>this.maxlength&&(a=a.slice(0,this.maxlength),c=Math.min(c,this.maxlength),d=Math.min(d,this.maxlength)),this.maxlength&&this.maxlength<a.length)return;this.input.nativeElement.value=a;let p=a.length;if(r==="range-insert"){let g=this.parseValue((s||"").slice(0,c)),y=(g!==null?g.toString():"").split("").join(`(${this.groupChar})?`),v=new RegExp(y,"g");v.test(a);let w=t.split("").join(`(${this.groupChar})?`),E=new RegExp(w,"g");E.test(a.slice(v.lastIndex)),d=v.lastIndex+E.lastIndex,this.input.nativeElement.setSelectionRange(d,d)}else if(p===l)r==="insert"||r==="delete-back-single"?this.input.nativeElement.setSelectionRange(d+1,d+1):r==="delete-single"?this.input.nativeElement.setSelectionRange(d-1,d-1):(r==="delete-range"||r==="spin")&&this.input.nativeElement.setSelectionRange(d,d);else if(r==="delete-back-single"){let g=s.charAt(d-1),C=s.charAt(d),y=l-p,v=this._group.test(C);v&&y===1?d+=1:!v&&this.isNumeralChar(g)&&(d+=-1*y+1),this._group.lastIndex=0,this.input.nativeElement.setSelectionRange(d,d)}else if(s==="-"&&r==="insert"){this.input.nativeElement.setSelectionRange(0,0);let C=this.initCursor()+t.length+1;this.input.nativeElement.setSelectionRange(C,C)}else d=d+(p-l),this.input.nativeElement.setSelectionRange(d,d)}this.input.nativeElement.setAttribute("aria-valuenow",e)}concatValues(e,t){if(e&&t){let r=t.search(this._decimal);return this._decimal.lastIndex=0,this.suffixChar?r!==-1?e:e.replace(this.suffixChar,"").split(this._decimal)[0]+t.replace(this.suffixChar,"").slice(r)+this.suffixChar:r!==-1?e.split(this._decimal)[0]+t.slice(r):e}return e}getDecimalLength(e){if(e){let t=e.split(this._decimal);if(t.length===2)return t[1].replace(this._suffix,"").trim().replace(/\s/g,"").replace(this._currency,"").length}return 0}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1;let t=this.validateValue(this.parseValue(this.input.nativeElement.value)),r=t?.toString();this.input.nativeElement.value=this.formatValue(r),this.input.nativeElement.setAttribute("aria-valuenow",r),this.updateModel(e,t),this.onBlur.emit(e)}formattedValue(){let e=!this.value&&!this.allowEmpty?0:this.value;return this.formatValue(e)}updateModel(e,t){this.value!==t&&(this.value=t,this.isBlurUpdateOnMode&&this.focused?this.isBlurUpdateOnMode&&this.onModelChange(t):this.onModelChange(t)),this.onModelTouched()}writeValue(e){this.value=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}get filled(){return this.value!=null&&this.value.toString().length>0}clearTimer(){this.timer&&clearInterval(this.timer)}static \u0275fac=function(t){return new(t||i)(b(_t),b(ze),b(Ie),b(Er),b(Vt))};static \u0275cmp=ie({type:i,selectors:[["p-inputNumber"]],contentQueries:function(t,r,o){if(t&1&&ot(o,be,4),t&2){let s;ee(s=te())&&(r.templates=s)}},viewQuery:function(t,r){if(t&1&&de(jre,5),t&2){let o;ee(o=te())&&(r.input=o.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(t,r){t&2&&yn("p-inputwrapper-filled",r.filled)("p-inputwrapper-focus",r.focused)("p-inputnumber-clearable",r.showClear&&r.buttonLayout!="vertical")},inputs:{showButtons:[2,"showButtons","showButtons",K],format:[2,"format","format",K],buttonLayout:"buttonLayout",inputId:"inputId",styleClass:"styleClass",style:"style",placeholder:"placeholder",size:[2,"size","size",ke],maxlength:[2,"maxlength","maxlength",ke],tabindex:[2,"tabindex","tabindex",ke],title:"title",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",ariaRequired:[2,"ariaRequired","ariaRequired",K],name:"name",required:[2,"required","required",K],autocomplete:"autocomplete",min:[2,"min","min",ke],max:[2,"max","max",ke],incrementButtonClass:"incrementButtonClass",decrementButtonClass:"decrementButtonClass",incrementButtonIcon:"incrementButtonIcon",decrementButtonIcon:"decrementButtonIcon",readonly:[2,"readonly","readonly",K],step:[2,"step","step",ke],allowEmpty:[2,"allowEmpty","allowEmpty",K],locale:"locale",localeMatcher:"localeMatcher",mode:"mode",currency:"currency",currencyDisplay:"currencyDisplay",useGrouping:[2,"useGrouping","useGrouping",K],variant:"variant",minFractionDigits:[2,"minFractionDigits","minFractionDigits",e=>ke(e,null)],maxFractionDigits:[2,"maxFractionDigits","maxFractionDigits",e=>ke(e,null)],prefix:"prefix",suffix:"suffix",inputStyle:"inputStyle",inputStyleClass:"inputStyleClass",showClear:[2,"showClear","showClear",K],autofocus:[2,"autofocus","autofocus",K],disabled:"disabled"},outputs:{onInput:"onInput",onFocus:"onFocus",onBlur:"onBlur",onKeyDown:"onKeyDown",onClear:"onClear"},features:[Ze([_oe]),qe,en],decls:7,vars:43,consts:[["input",""],[3,"ngClass","ngStyle"],["pInputText","","role","spinbutton","inputmode","decimal","pAutoFocus","",3,"input","keydown","keypress","paste","click","focus","blur","ngClass","ngStyle","value","disabled","readonly","autofocus"],[4,"ngIf"],["class","p-inputnumber-button-group",4,"ngIf"],["type","button","pButton","","class","p-button-icon-only","tabindex","0",3,"ngClass","class","disabled","mousedown","mouseup","mouseleave","keydown","keyup",4,"ngIf"],[3,"ngClass","click",4,"ngIf"],["class","p-inputnumber-clear-icon",3,"click",4,"ngIf"],[3,"click","ngClass"],[1,"p-inputnumber-clear-icon",3,"click"],[4,"ngTemplateOutlet"],[1,"p-inputnumber-button-group"],["type","button","pButton","","tabindex","0",1,"p-button-icon-only",3,"mousedown","mouseup","mouseleave","keydown","keyup","ngClass","disabled"],[3,"ngClass",4,"ngIf"],[3,"ngClass"]],template:function(t,r){if(t&1){let o=B();m(0,"span",1)(1,"input",2,0),P("input",function(a){return S(o),A(r.onUserInput(a))})("keydown",function(a){return S(o),A(r.onInputKeyDown(a))})("keypress",function(a){return S(o),A(r.onInputKeyPress(a))})("paste",function(a){return S(o),A(r.onPaste(a))})("click",function(){return S(o),A(r.onInputClick())})("focus",function(a){return S(o),A(r.onInputFocus(a))})("blur",function(a){return S(o),A(r.onInputBlur(a))}),_(),I(3,$re,3,2,"ng-container",3)(4,roe,7,19,"span",4)(5,doe,3,9,"button",5)(6,goe,3,9,"button",5),_()}t&2&&(le(r.styleClass),h("ngClass",zi(39,Hre,r.showButtons&&r.buttonLayout==="stacked",r.showButtons&&r.buttonLayout==="horizontal",r.showButtons&&r.buttonLayout==="vertical"))("ngStyle",r.style),V("data-pc-name","inputnumber")("data-pc-section","root"),u(),le(r.inputStyleClass),yn("p-variant-filled",r.variant==="filled"||r.config.inputStyle()==="filled"),h("ngClass","p-inputnumber-input")("ngStyle",r.inputStyle)("value",r.formattedValue())("disabled",r.disabled)("readonly",r.readonly)("autofocus",r.autofocus),V("id",r.inputId)("variant",r.variant)("aria-valuemin",r.min)("aria-valuemax",r.max)("aria-valuenow",r.value)("placeholder",r.placeholder)("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledBy)("title",r.title)("size",r.size)("name",r.name)("autocomplete",r.autocomplete)("maxlength",r.maxlength)("tabindex",r.tabindex)("aria-required",r.ariaRequired)("required",r.required)("min",r.min)("max",r.max)("data-pc-section","input"),u(2),h("ngIf",r.buttonLayout!="vertical"&&r.showClear&&r.value),u(),h("ngIf",r.showButtons&&r.buttonLayout==="stacked"),u(),h("ngIf",r.showButtons&&r.buttonLayout!=="stacked"),u(),h("ngIf",r.showButtons&&r.buttonLayout!=="stacked"))},dependencies:()=>[Ge,et,st,Ee,On,mt,Mn,Li,MT,LT],styles:[`@layer primeng{p-inputnumber,.p-inputnumber{display:inline-flex}.p-inputnumber-button{display:flex;align-items:center;justify-content:center;flex:0 0 auto}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button .p-button-label,.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button .p-button-label{display:none}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-up{border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-input{border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-down{border-top-left-radius:0;border-top-right-radius:0;border-bottom-left-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-button-group{display:flex;flex-direction:column}.p-inputnumber-buttons-stacked .p-inputnumber-button-group .p-button.p-inputnumber-button{flex:1 1 auto}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-up{order:3;border-top-left-radius:0;border-bottom-left-radius:0}.p-inputnumber-buttons-horizontal .p-inputnumber-input{order:2;border-radius:0}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-down{order:1;border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-vertical{flex-direction:column}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-up{order:1;border-bottom-left-radius:0;border-bottom-right-radius:0;width:100%}.p-inputnumber-buttons-vertical .p-inputnumber-input{order:2;border-radius:0;text-align:center}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-down{order:3;border-top-left-radius:0;border-top-right-radius:0;width:100%}.p-inputnumber-input{flex:1 1 auto}.p-fluid p-inputnumber,.p-fluid .p-inputnumber{width:100%}.p-fluid .p-inputnumber .p-inputnumber-input{width:1%}.p-fluid .p-inputnumber-buttons-vertical .p-inputnumber-input{width:100%}.p-inputnumber-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-inputnumber-clearable{position:relative}}
`],encapsulation:2,changeDetection:0})}return i})(),s_=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=Oe({type:i});static \u0275inj=Te({imports:[Ye,Oa,Gr,Qn,Li,MT,LT,nt]})}return i})();var sv=i=>({"p-disabled":i}),av=i=>({$implicit:i}),yoe=i=>({"p-highlight":i});function Ioe(i,n){i&1&&ue(0)}function voe(i,n){if(i&1&&(m(0,"div",15),I(1,Ioe,1,0,"ng-container",16),_()),i&2){let e=f(2);V("data-pc-section","start"),u(),h("ngTemplateOutlet",e.templateLeft)("ngTemplateOutletContext",oe(3,av,e.paginatorState))}}function boe(i,n){if(i&1&&(m(0,"span",17),D(1),_()),i&2){let e=f(2);u(),$(e.currentPageReport)}}function woe(i,n){i&1&&O(0,"AngleDoubleLeftIcon",19),i&2&&h("styleClass","p-paginator-icon")}function Soe(i,n){}function Aoe(i,n){i&1&&I(0,Soe,0,0,"ng-template")}function Eoe(i,n){if(i&1&&(m(0,"span",20),I(1,Aoe,1,0,null,21),_()),i&2){let e=f(3);u(),h("ngTemplateOutlet",e.firstPageLinkIconTemplate)}}function xoe(i,n){if(i&1){let e=B();m(0,"button",18),P("click",function(r){S(e);let o=f(2);return A(o.changePageToFirst(r))}),I(1,woe,1,1,"AngleDoubleLeftIcon",6)(2,Eoe,2,1,"span",7),_()}if(i&2){let e=f(2);h("disabled",e.isFirstPage()||e.empty())("ngClass",oe(5,sv,e.isFirstPage()||e.empty())),V("aria-label",e.getAriaLabel("firstPageLabel")),u(),h("ngIf",!e.firstPageLinkIconTemplate),u(),h("ngIf",e.firstPageLinkIconTemplate)}}function Toe(i,n){i&1&&O(0,"AngleLeftIcon",19),i&2&&h("styleClass","p-paginator-icon")}function Ooe(i,n){}function Doe(i,n){i&1&&I(0,Ooe,0,0,"ng-template")}function Roe(i,n){if(i&1&&(m(0,"span",20),I(1,Doe,1,0,null,21),_()),i&2){let e=f(2);u(),h("ngTemplateOutlet",e.previousPageLinkIconTemplate)}}function Poe(i,n){if(i&1){let e=B();m(0,"button",24),P("click",function(r){let o=S(e).$implicit,s=f(3);return A(s.onPageLinkClick(r,o-1))}),D(1),_()}if(i&2){let e=n.$implicit,t=f(3);h("ngClass",oe(4,yoe,e-1==t.getPage())),V("aria-label",t.getPageAriaLabel(e))("aria-current",e-1==t.getPage()?"page":void 0),u(),J(" ",t.getLocalization(e)," ")}}function koe(i,n){if(i&1&&(m(0,"span",22),I(1,Poe,2,6,"button",23),_()),i&2){let e=f(2);u(),h("ngForOf",e.pageLinks)}}function Foe(i,n){if(i&1&&D(0),i&2){let e=f(3);$(e.currentPageReport)}}function Loe(i,n){i&1&&ue(0)}function Moe(i,n){if(i&1&&I(0,Loe,1,0,"ng-container",16),i&2){let e=n.$implicit,t=f(4);h("ngTemplateOutlet",t.jumpToPageItemTemplate)("ngTemplateOutletContext",oe(2,av,e))}}function Noe(i,n){i&1&&(pe(0),I(1,Moe,1,4,"ng-template",28),he())}function Voe(i,n){i&1&&ue(0)}function Boe(i,n){if(i&1&&I(0,Voe,1,0,"ng-container",21),i&2){let e=f(4);h("ngTemplateOutlet",e.dropdownIconTemplate)}}function Uoe(i,n){i&1&&I(0,Boe,1,1,"ng-template",29)}function joe(i,n){if(i&1){let e=B();m(0,"p-dropdown",25),P("onChange",function(r){S(e);let o=f(2);return A(o.onPageDropdownChange(r))}),I(1,Foe,1,1,"ng-template",26)(2,Noe,2,0,"ng-container",27)(3,Uoe,1,0,null,27),_()}if(i&2){let e=f(2);h("options",e.pageItems)("ngModel",e.getPage())("disabled",e.empty())("appendTo",e.dropdownAppendTo)("scrollHeight",e.dropdownScrollHeight),V("aria-label",e.getAriaLabel("jumpToPageDropdownLabel")),u(2),h("ngIf",e.jumpToPageItemTemplate),u(),h("ngIf",e.dropdownIconTemplate)}}function Hoe(i,n){i&1&&O(0,"AngleRightIcon",19),i&2&&h("styleClass","p-paginator-icon")}function Goe(i,n){}function zoe(i,n){i&1&&I(0,Goe,0,0,"ng-template")}function Woe(i,n){if(i&1&&(m(0,"span",20),I(1,zoe,1,0,null,21),_()),i&2){let e=f(2);u(),h("ngTemplateOutlet",e.nextPageLinkIconTemplate)}}function Koe(i,n){i&1&&O(0,"AngleDoubleRightIcon",19),i&2&&h("styleClass","p-paginator-icon")}function $oe(i,n){}function qoe(i,n){i&1&&I(0,$oe,0,0,"ng-template")}function Yoe(i,n){if(i&1&&(m(0,"span",20),I(1,qoe,1,0,null,21),_()),i&2){let e=f(3);u(),h("ngTemplateOutlet",e.lastPageLinkIconTemplate)}}function Joe(i,n){if(i&1){let e=B();m(0,"button",30),P("click",function(r){S(e);let o=f(2);return A(o.changePageToLast(r))}),I(1,Koe,1,1,"AngleDoubleRightIcon",6)(2,Yoe,2,1,"span",7),_()}if(i&2){let e=f(2);h("disabled",e.isLastPage()||e.empty())("ngClass",oe(5,sv,e.isLastPage()||e.empty())),V("aria-label",e.getAriaLabel("lastPageLabel")),u(),h("ngIf",!e.lastPageLinkIconTemplate),u(),h("ngIf",e.lastPageLinkIconTemplate)}}function Xoe(i,n){if(i&1){let e=B();m(0,"p-inputNumber",31),P("ngModelChange",function(r){S(e);let o=f(2);return A(o.changePage(r-1))}),_()}if(i&2){let e=f(2);h("ngModel",e.currentPage())("disabled",e.empty())}}function Qoe(i,n){i&1&&ue(0)}function Zoe(i,n){if(i&1&&I(0,Qoe,1,0,"ng-container",16),i&2){let e=n.$implicit,t=f(4);h("ngTemplateOutlet",t.dropdownItemTemplate)("ngTemplateOutletContext",oe(2,av,e))}}function ese(i,n){i&1&&(pe(0),I(1,Zoe,1,4,"ng-template",28),he())}function tse(i,n){i&1&&ue(0)}function ise(i,n){if(i&1&&I(0,tse,1,0,"ng-container",21),i&2){let e=f(4);h("ngTemplateOutlet",e.dropdownIconTemplate)}}function nse(i,n){i&1&&I(0,ise,1,1,"ng-template",29)}function rse(i,n){if(i&1){let e=B();m(0,"p-dropdown",32),Ve("ngModelChange",function(r){S(e);let o=f(2);return Ue(o.rows,r)||(o.rows=r),A(r)}),P("onChange",function(r){S(e);let o=f(2);return A(o.onRppChange(r))}),I(1,ese,2,0,"ng-container",27)(2,nse,1,0,null,27),_()}if(i&2){let e=f(2);h("options",e.rowsPerPageItems),Ne("ngModel",e.rows),h("disabled",e.empty())("appendTo",e.dropdownAppendTo)("scrollHeight",e.dropdownScrollHeight)("ariaLabel",e.getAriaLabel("rowsPerPageLabel")),u(),h("ngIf",e.dropdownItemTemplate),u(),h("ngIf",e.dropdownIconTemplate)}}function ose(i,n){i&1&&ue(0)}function sse(i,n){if(i&1&&(m(0,"div",33),I(1,ose,1,0,"ng-container",16),_()),i&2){let e=f(2);V("data-pc-section","end"),u(),h("ngTemplateOutlet",e.templateRight)("ngTemplateOutletContext",oe(3,av,e.paginatorState))}}function ase(i,n){if(i&1){let e=B();m(0,"div",1),I(1,voe,2,5,"div",2)(2,boe,2,1,"span",3)(3,xoe,3,7,"button",4),m(4,"button",5),P("click",function(r){S(e);let o=f();return A(o.changePageToPrev(r))}),I(5,Toe,1,1,"AngleLeftIcon",6)(6,Roe,2,1,"span",7),_(),I(7,koe,2,1,"span",8)(8,joe,4,8,"p-dropdown",9),m(9,"button",10),P("click",function(r){S(e);let o=f();return A(o.changePageToNext(r))}),I(10,Hoe,1,1,"AngleRightIcon",6)(11,Woe,2,1,"span",7),_(),I(12,Joe,3,7,"button",11)(13,Xoe,1,2,"p-inputNumber",12)(14,rse,3,8,"p-dropdown",13)(15,sse,2,5,"div",14),_()}if(i&2){let e=f();le(e.styleClass),h("ngStyle",e.style)("ngClass","p-paginator p-component"),V("data-pc-section","paginator")("data-pc-section","root"),u(),h("ngIf",e.templateLeft),u(),h("ngIf",e.showCurrentPageReport),u(),h("ngIf",e.showFirstLastIcon),u(),h("disabled",e.isFirstPage()||e.empty())("ngClass",oe(25,sv,e.isFirstPage()||e.empty())),V("aria-label",e.getAriaLabel("prevPageLabel")),u(),h("ngIf",!e.previousPageLinkIconTemplate),u(),h("ngIf",e.previousPageLinkIconTemplate),u(),h("ngIf",e.showPageLinks),u(),h("ngIf",e.showJumpToPageDropdown),u(),h("disabled",e.isLastPage()||e.empty())("ngClass",oe(27,sv,e.isLastPage()||e.empty())),V("aria-label",e.getAriaLabel("nextPageLabel")),u(),h("ngIf",!e.nextPageLinkIconTemplate),u(),h("ngIf",e.nextPageLinkIconTemplate),u(),h("ngIf",e.showFirstLastIcon),u(),h("ngIf",e.showJumpToPageInput),u(),h("ngIf",e.rowsPerPageOptions),u(),h("ngIf",e.templateRight)}}var lv=(()=>{class i{cd;config;pageLinkSize=5;style;styleClass;alwaysShow=!0;dropdownAppendTo;templateLeft;templateRight;appendTo;dropdownScrollHeight="200px";currentPageReportTemplate="{currentPage} of {totalPages}";showCurrentPageReport;showFirstLastIcon=!0;totalRecords=0;rows=0;rowsPerPageOptions;showJumpToPageDropdown;showJumpToPageInput;jumpToPageItemTemplate;showPageLinks=!0;locale;dropdownItemTemplate;get first(){return this._first}set first(e){this._first=e}onPageChange=new Q;templates;dropdownIconTemplate;firstPageLinkIconTemplate;previousPageLinkIconTemplate;lastPageLinkIconTemplate;nextPageLinkIconTemplate;pageLinks;pageItems;rowsPerPageItems;paginatorState;_first=0;_page=0;constructor(e,t){this.cd=e,this.config=t}ngOnInit(){this.updatePaginatorState()}getAriaLabel(e){return this.config.translation.aria?this.config.translation.aria[e]:void 0}getPageAriaLabel(e){return this.config.translation.aria?this.config.translation.aria.pageLabel.replace(/{page}/g,`${e}`):void 0}getLocalization(e){let t=[...new Intl.NumberFormat(this.locale,{useGrouping:!1}).format(9876543210)].reverse(),r=new Map(t.map((o,s)=>[s,o]));return e>9?String(e).split("").map(s=>r.get(Number(s))).join(""):r.get(e)}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"dropdownicon":this.dropdownIconTemplate=e.template;break;case"firstpagelinkicon":this.firstPageLinkIconTemplate=e.template;break;case"previouspagelinkicon":this.previousPageLinkIconTemplate=e.template;break;case"lastpagelinkicon":this.lastPageLinkIconTemplate=e.template;break;case"nextpagelinkicon":this.nextPageLinkIconTemplate=e.template;break}})}ngOnChanges(e){e.totalRecords&&(this.updatePageLinks(),this.updatePaginatorState(),this.updateFirst(),this.updateRowsPerPageOptions()),e.first&&(this._first=e.first.currentValue,this.updatePageLinks(),this.updatePaginatorState()),e.rows&&(this.updatePageLinks(),this.updatePaginatorState()),e.rowsPerPageOptions&&this.updateRowsPerPageOptions(),e.pageLinkSize&&this.updatePageLinks()}updateRowsPerPageOptions(){if(this.rowsPerPageOptions){this.rowsPerPageItems=[];for(let e of this.rowsPerPageOptions)typeof e=="object"&&e.showAll?this.rowsPerPageItems.unshift({label:e.showAll,value:this.totalRecords}):this.rowsPerPageItems.push({label:String(this.getLocalization(e)),value:e})}}isFirstPage(){return this.getPage()===0}isLastPage(){return this.getPage()===this.getPageCount()-1}getPageCount(){return Math.ceil(this.totalRecords/this.rows)}calculatePageLinkBoundaries(){let e=this.getPageCount(),t=Math.min(this.pageLinkSize,e),r=Math.max(0,Math.ceil(this.getPage()-t/2)),o=Math.min(e-1,r+t-1);var s=this.pageLinkSize-(o-r+1);return r=Math.max(0,r-s),[r,o]}updatePageLinks(){this.pageLinks=[];let e=this.calculatePageLinkBoundaries(),t=e[0],r=e[1];for(let o=t;o<=r;o++)this.pageLinks.push(o+1);if(this.showJumpToPageDropdown){this.pageItems=[];for(let o=0;o<this.getPageCount();o++)this.pageItems.push({label:String(o+1),value:o})}}changePage(e){var t=this.getPageCount();if(e>=0&&e<t){this._first=this.rows*e;var r={page:e,first:this.first,rows:this.rows,pageCount:t};this.updatePageLinks(),this.onPageChange.emit(r),this.updatePaginatorState()}}updateFirst(){let e=this.getPage();e>0&&this.totalRecords&&this.first>=this.totalRecords&&Promise.resolve(null).then(()=>this.changePage(e-1))}getPage(){return Math.floor(this.first/this.rows)}changePageToFirst(e){this.isFirstPage()||this.changePage(0),e.preventDefault()}changePageToPrev(e){this.changePage(this.getPage()-1),e.preventDefault()}changePageToNext(e){this.changePage(this.getPage()+1),e.preventDefault()}changePageToLast(e){this.isLastPage()||this.changePage(this.getPageCount()-1),e.preventDefault()}onPageLinkClick(e,t){this.changePage(t),e.preventDefault()}onRppChange(e){this.changePage(this.getPage())}onPageDropdownChange(e){this.changePage(e.value)}updatePaginatorState(){this.paginatorState={page:this.getPage(),pageCount:this.getPageCount(),rows:this.rows,first:this.first,totalRecords:this.totalRecords}}empty(){return this.getPageCount()===0}currentPage(){return this.getPageCount()>0?this.getPage()+1:0}get currentPageReport(){return this.currentPageReportTemplate.replace("{currentPage}",String(this.currentPage())).replace("{totalPages}",String(this.getPageCount())).replace("{first}",String(this.totalRecords>0?this._first+1:0)).replace("{last}",String(Math.min(this._first+this.rows,this.totalRecords))).replace("{rows}",String(this.rows)).replace("{totalRecords}",String(this.totalRecords))}static \u0275fac=function(t){return new(t||i)(b(Ie),b(Vt))};static \u0275cmp=ie({type:i,selectors:[["p-paginator"]],contentQueries:function(t,r,o){if(t&1&&ot(o,be,4),t&2){let s;ee(s=te())&&(r.templates=s)}},hostAttrs:[1,"p-element"],inputs:{pageLinkSize:[2,"pageLinkSize","pageLinkSize",ke],style:"style",styleClass:"styleClass",alwaysShow:[2,"alwaysShow","alwaysShow",K],dropdownAppendTo:"dropdownAppendTo",templateLeft:"templateLeft",templateRight:"templateRight",appendTo:"appendTo",dropdownScrollHeight:"dropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:[2,"showCurrentPageReport","showCurrentPageReport",K],showFirstLastIcon:[2,"showFirstLastIcon","showFirstLastIcon",K],totalRecords:[2,"totalRecords","totalRecords",ke],rows:[2,"rows","rows",ke],rowsPerPageOptions:"rowsPerPageOptions",showJumpToPageDropdown:[2,"showJumpToPageDropdown","showJumpToPageDropdown",K],showJumpToPageInput:[2,"showJumpToPageInput","showJumpToPageInput",K],jumpToPageItemTemplate:"jumpToPageItemTemplate",showPageLinks:[2,"showPageLinks","showPageLinks",K],locale:"locale",dropdownItemTemplate:"dropdownItemTemplate",first:"first"},outputs:{onPageChange:"onPageChange"},features:[qe,en],decls:1,vars:1,consts:[[3,"class","ngStyle","ngClass",4,"ngIf"],[3,"ngStyle","ngClass"],["class","p-paginator-left-content",4,"ngIf"],["class","p-paginator-current",4,"ngIf"],["type","button","pRipple","","class","p-paginator-first p-paginator-element p-link",3,"disabled","ngClass","click",4,"ngIf"],["type","button","pRipple","",1,"p-paginator-prev","p-paginator-element","p-link",3,"click","disabled","ngClass"],[3,"styleClass",4,"ngIf"],["class","p-paginator-icon",4,"ngIf"],["class","p-paginator-pages",4,"ngIf"],["styleClass","p-paginator-page-options",3,"options","ngModel","disabled","appendTo","scrollHeight","onChange",4,"ngIf"],["type","button","pRipple","",1,"p-paginator-next","p-paginator-element","p-link",3,"click","disabled","ngClass"],["type","button","pRipple","","class","p-paginator-last p-paginator-element p-link",3,"disabled","ngClass","click",4,"ngIf"],["class","p-paginator-page-input",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["styleClass","p-paginator-rpp-options",3,"options","ngModel","disabled","appendTo","scrollHeight","ariaLabel","ngModelChange","onChange",4,"ngIf"],["class","p-paginator-right-content",4,"ngIf"],[1,"p-paginator-left-content"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-paginator-current"],["type","button","pRipple","",1,"p-paginator-first","p-paginator-element","p-link",3,"click","disabled","ngClass"],[3,"styleClass"],[1,"p-paginator-icon"],[4,"ngTemplateOutlet"],[1,"p-paginator-pages"],["type","button","class","p-paginator-page p-paginator-element p-link","pRipple","",3,"ngClass","click",4,"ngFor","ngForOf"],["type","button","pRipple","",1,"p-paginator-page","p-paginator-element","p-link",3,"click","ngClass"],["styleClass","p-paginator-page-options",3,"onChange","options","ngModel","disabled","appendTo","scrollHeight"],["pTemplate","selectedItem"],[4,"ngIf"],["pTemplate","item"],["pTemplate","dropdownicon"],["type","button","pRipple","",1,"p-paginator-last","p-paginator-element","p-link",3,"click","disabled","ngClass"],[1,"p-paginator-page-input",3,"ngModelChange","ngModel","disabled"],["styleClass","p-paginator-rpp-options",3,"ngModelChange","onChange","options","ngModel","disabled","appendTo","scrollHeight","ariaLabel"],[1,"p-paginator-right-content"]],template:function(t,r){t&1&&I(0,ase,16,29,"div",0),t&2&&h("ngIf",r.alwaysShow?!0:r.pageLinks&&r.pageLinks.length>1)},dependencies:()=>[Ge,tn,et,st,Ee,Ho,be,NT,cn,Gn,qi,PT,kT,FT,ru],styles:[`@layer primeng{.p-paginator{display:flex;align-items:center;justify-content:center;flex-wrap:wrap}.p-paginator-left-content{margin-right:auto}.p-paginator-right-content{margin-left:auto}.p-paginator-page,.p-paginator-next,.p-paginator-last,.p-paginator-first,.p-paginator-prev,.p-paginator-current{cursor:pointer;display:inline-flex;align-items:center;justify-content:center;line-height:1;-webkit-user-select:none;user-select:none;overflow:hidden;position:relative}.p-paginator-element:focus{z-index:1;position:relative}}
`],encapsulation:2,changeDetection:0})}return i})(),cv=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=Oe({type:i});static \u0275inj=Te({imports:[Ye,nu,s_,Zd,nt,Qi,PT,kT,FT,ru,nu,s_,Zd,nt]})}return i})();var VT=(()=>{class i extends St{static \u0275fac=(()=>{let e;return function(r){return(e||(e=tt(i)))(r||i)}})();static \u0275cmp=ie({type:i,selectors:[["ChevronUpIcon"]],standalone:!0,features:[ve,lt],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M12.2097 10.4113C12.1057 10.4118 12.0027 10.3915 11.9067 10.3516C11.8107 10.3118 11.7237 10.2532 11.6506 10.1792L6.93602 5.46461L2.22139 10.1476C2.07272 10.244 1.89599 10.2877 1.71953 10.2717C1.54307 10.2556 1.3771 10.1808 1.24822 10.0593C1.11933 9.93766 1.035 9.77633 1.00874 9.6011C0.982477 9.42587 1.0158 9.2469 1.10338 9.09287L6.37701 3.81923C6.52533 3.6711 6.72639 3.58789 6.93602 3.58789C7.14565 3.58789 7.3467 3.6711 7.49502 3.81923L12.7687 9.09287C12.9168 9.24119 13 9.44225 13 9.65187C13 9.8615 12.9168 10.0626 12.7687 10.2109C12.616 10.3487 12.4151 10.4207 12.2097 10.4113Z","fill","currentColor"]],template:function(t,r){t&1&&(It(),m(0,"svg",0),O(1,"path",1),_()),t&2&&(le(r.getClassNames()),V("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return i})();var BT=(()=>{class i extends St{static \u0275fac=(()=>{let e;return function(r){return(e||(e=tt(i)))(r||i)}})();static \u0275cmp=ie({type:i,selectors:[["CalendarIcon"]],standalone:!0,features:[ve,lt],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M10.7838 1.51351H9.83783V0.567568C9.83783 0.417039 9.77804 0.272676 9.6716 0.166237C9.56516 0.0597971 9.42079 0 9.27027 0C9.11974 0 8.97538 0.0597971 8.86894 0.166237C8.7625 0.272676 8.7027 0.417039 8.7027 0.567568V1.51351H5.29729V0.567568C5.29729 0.417039 5.2375 0.272676 5.13106 0.166237C5.02462 0.0597971 4.88025 0 4.72973 0C4.5792 0 4.43484 0.0597971 4.3284 0.166237C4.22196 0.272676 4.16216 0.417039 4.16216 0.567568V1.51351H3.21621C2.66428 1.51351 2.13494 1.73277 1.74467 2.12305C1.35439 2.51333 1.13513 3.04266 1.13513 3.59459V11.9189C1.13513 12.4709 1.35439 13.0002 1.74467 13.3905C2.13494 13.7807 2.66428 14 3.21621 14H10.7838C11.3357 14 11.865 13.7807 12.2553 13.3905C12.6456 13.0002 12.8649 12.4709 12.8649 11.9189V3.59459C12.8649 3.04266 12.6456 2.51333 12.2553 2.12305C11.865 1.73277 11.3357 1.51351 10.7838 1.51351ZM3.21621 2.64865H4.16216V3.59459C4.16216 3.74512 4.22196 3.88949 4.3284 3.99593C4.43484 4.10237 4.5792 4.16216 4.72973 4.16216C4.88025 4.16216 5.02462 4.10237 5.13106 3.99593C5.2375 3.88949 5.29729 3.74512 5.29729 3.59459V2.64865H8.7027V3.59459C8.7027 3.74512 8.7625 3.88949 8.86894 3.99593C8.97538 4.10237 9.11974 4.16216 9.27027 4.16216C9.42079 4.16216 9.56516 4.10237 9.6716 3.99593C9.77804 3.88949 9.83783 3.74512 9.83783 3.59459V2.64865H10.7838C11.0347 2.64865 11.2753 2.74831 11.4527 2.92571C11.6301 3.10311 11.7297 3.34371 11.7297 3.59459V5.67568H2.27027V3.59459C2.27027 3.34371 2.36993 3.10311 2.54733 2.92571C2.72473 2.74831 2.96533 2.64865 3.21621 2.64865ZM10.7838 12.8649H3.21621C2.96533 12.8649 2.72473 12.7652 2.54733 12.5878C2.36993 12.4104 2.27027 12.1698 2.27027 11.9189V6.81081H11.7297V11.9189C11.7297 12.1698 11.6301 12.4104 11.4527 12.5878C11.2753 12.7652 11.0347 12.8649 10.7838 12.8649Z","fill","currentColor"]],template:function(t,r){t&1&&(It(),m(0,"svg",0),O(1,"path",1),_()),t&2&&(le(r.getClassNames()),V("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return i})();var lse=["container"],cse=["inputfield"],dse=["contentWrapper"],use=[[["p-header"]],[["p-footer"]]],pse=["p-header","p-footer"],hse=(i,n,e,t,r)=>({"p-calendar":!0,"p-input-icon-right":i,"p-calendar-w-btn":n,"p-calendar-timeonly":e,"p-calendar-disabled":t,"p-focus":r}),fse=i=>({clickCallBack:i}),mse=i=>({"p-datepicker-icon":i}),gse=(i,n,e,t,r,o)=>({"p-datepicker p-component":!0,"p-datepicker-inline":i,"p-disabled":n,"p-datepicker-timeonly":e,"p-datepicker-multiple-month":t,"p-datepicker-monthpicker":r,"p-datepicker-touch-ui":o}),t5=(i,n)=>({showTransitionParams:i,hideTransitionParams:n}),_se=i=>({value:"visibleTouchUI",params:i}),Cse=i=>({value:"visible",params:i}),UT=i=>({$implicit:i}),yse=(i,n)=>({"p-datepicker-other-month":i,"p-datepicker-today":n}),Ise=(i,n)=>({"p-highlight p-datepicker-current-day":i,"p-disabled":n}),n5=(i,n)=>({"p-highlight":i,"p-disabled":n}),i5=i=>[i];function vse(i,n){if(i&1){let e=B();m(0,"TimesIcon",11),P("click",function(){S(e);let r=f(3);return A(r.clear())}),_()}i&2&&h("styleClass","p-calendar-clear-icon")}function bse(i,n){}function wse(i,n){i&1&&I(0,bse,0,0,"ng-template")}function Sse(i,n){if(i&1){let e=B();m(0,"span",12),P("click",function(){S(e);let r=f(3);return A(r.clear())}),I(1,wse,1,0,null,13),_()}if(i&2){let e=f(3);u(),h("ngTemplateOutlet",e.clearIconTemplate)}}function Ase(i,n){if(i&1&&(pe(0),I(1,vse,1,1,"TimesIcon",9)(2,Sse,2,1,"span",10),he()),i&2){let e=f(2);u(),h("ngIf",!e.clearIconTemplate),u(),h("ngIf",e.clearIconTemplate)}}function Ese(i,n){if(i&1&&O(0,"span",16),i&2){let e=f(3);h("ngClass",e.icon)}}function xse(i,n){i&1&&O(0,"CalendarIcon")}function Tse(i,n){}function Ose(i,n){i&1&&I(0,Tse,0,0,"ng-template")}function Dse(i,n){if(i&1&&(pe(0),I(1,xse,1,0,"CalendarIcon",7)(2,Ose,1,0,null,13),he()),i&2){let e=f(3);u(),h("ngIf",!e.triggerIconTemplate),u(),h("ngTemplateOutlet",e.triggerIconTemplate)}}function Rse(i,n){if(i&1){let e=B();m(0,"button",14),P("click",function(r){S(e),f();let o=We(1),s=f();return A(s.onButtonClick(r,o))}),I(1,Ese,1,1,"span",15)(2,Dse,3,2,"ng-container",7),_()}if(i&2){let e,t=f(2);h("disabled",t.disabled),V("aria-label",t.iconButtonAriaLabel)("aria-expanded",(e=t.overlayVisible)!==null&&e!==void 0?e:!1)("aria-controls",t.overlayVisible?t.panelId:null),u(),h("ngIf",t.icon),u(),h("ngIf",!t.icon)}}function Pse(i,n){if(i&1){let e=B();m(0,"CalendarIcon",19),P("click",function(r){S(e);let o=f(3);return A(o.onButtonClick(r))}),_()}if(i&2){let e=f(3);h("ngClass",oe(1,mse,e.showOnFocus))}}function kse(i,n){i&1&&ue(0)}function Fse(i,n){if(i&1&&(pe(0),I(1,Pse,1,3,"CalendarIcon",17)(2,kse,1,0,"ng-container",18),he()),i&2){let e=f(2);u(),h("ngIf",!e.inputIconTemplate),u(),h("ngTemplateOutlet",e.inputIconTemplate)("ngTemplateOutletContext",oe(3,fse,e.onButtonClick.bind(e)))}}function Lse(i,n){if(i&1){let e=B();m(0,"input",6,1),P("focus",function(r){S(e);let o=f();return A(o.onInputFocus(r))})("keydown",function(r){S(e);let o=f();return A(o.onInputKeydown(r))})("click",function(){S(e);let r=f();return A(r.onInputClick())})("blur",function(r){S(e);let o=f();return A(o.onInputBlur(r))})("input",function(r){S(e);let o=f();return A(o.onUserInput(r))}),_(),I(2,Ase,3,2,"ng-container",7)(3,Rse,3,6,"button",8)(4,Fse,3,5,"ng-container",7)}if(i&2){let e,t=f();le(t.inputStyleClass),h("value",t.inputFieldValue)("readonly",t.readonlyInput)("ngStyle",t.inputStyle)("placeholder",t.placeholder||"")("disabled",t.disabled)("ngClass",t.inputClass)("autofocus",t.autofocus),V("id",t.inputId)("name",t.name)("required",t.required)("aria-required",t.required)("aria-expanded",(e=t.overlayVisible)!==null&&e!==void 0?e:!1)("aria-controls",t.overlayVisible?t.panelId:null)("aria-labelledby",t.ariaLabelledBy)("aria-label",t.ariaLabel)("tabindex",t.tabindex)("inputmode",t.touchUI?"off":null),u(2),h("ngIf",t.showClear&&!t.disabled&&t.value!=null),u(),h("ngIf",t.showIcon&&t.iconDisplay==="button"),u(),h("ngIf",t.iconDisplay==="input"&&t.showIcon)}}function Mse(i,n){i&1&&ue(0)}function Nse(i,n){i&1&&O(0,"ChevronLeftIcon",40),i&2&&h("styleClass","p-datepicker-prev-icon")}function Vse(i,n){}function Bse(i,n){i&1&&I(0,Vse,0,0,"ng-template")}function Use(i,n){if(i&1&&(m(0,"span",41),I(1,Bse,1,0,null,13),_()),i&2){let e=f(5);u(),h("ngTemplateOutlet",e.previousIconTemplate)}}function jse(i,n){if(i&1){let e=B();m(0,"button",38),P("keydown",function(r){S(e);let o=f(4);return A(o.onContainerButtonKeydown(r))})("click",function(r){S(e);let o=f(4);return A(o.onPrevButtonClick(r))}),I(1,Nse,1,1,"ChevronLeftIcon",35)(2,Use,2,1,"span",39),_()}if(i&2){let e=f(4);V("aria-label",e.prevIconAriaLabel),u(),h("ngIf",!e.previousIconTemplate),u(),h("ngIf",e.previousIconTemplate)}}function Hse(i,n){if(i&1){let e=B();m(0,"button",42),P("click",function(r){S(e);let o=f(4);return A(o.switchToMonthView(r))})("keydown",function(r){S(e);let o=f(4);return A(o.onContainerButtonKeydown(r))}),D(1),_()}if(i&2){let e=f().$implicit,t=f(3);h("disabled",t.switchViewButtonDisabled()),V("aria-label",t.getTranslation("chooseMonth")),u(),J(" ",t.getMonthName(e.month)," ")}}function Gse(i,n){if(i&1){let e=B();m(0,"button",43),P("click",function(r){S(e);let o=f(4);return A(o.switchToYearView(r))})("keydown",function(r){S(e);let o=f(4);return A(o.onContainerButtonKeydown(r))}),D(1),_()}if(i&2){let e=f().$implicit,t=f(3);h("disabled",t.switchViewButtonDisabled()),V("aria-label",t.getTranslation("chooseYear")),u(),J(" ",t.getYear(e)," ")}}function zse(i,n){if(i&1&&(pe(0),D(1),he()),i&2){let e=f(5);u(),Ts("",e.yearPickerValues()[0]," - ",e.yearPickerValues()[e.yearPickerValues().length-1],"")}}function Wse(i,n){i&1&&ue(0)}function Kse(i,n){if(i&1&&(m(0,"span",44),I(1,zse,2,2,"ng-container",7)(2,Wse,1,0,"ng-container",18),_()),i&2){let e=f(4);u(),h("ngIf",!e.decadeTemplate),u(),h("ngTemplateOutlet",e.decadeTemplate)("ngTemplateOutletContext",oe(3,UT,e.yearPickerValues))}}function $se(i,n){i&1&&O(0,"ChevronRightIcon",40),i&2&&h("styleClass","p-datepicker-next-icon")}function qse(i,n){}function Yse(i,n){i&1&&I(0,qse,0,0,"ng-template")}function Jse(i,n){if(i&1&&(m(0,"span",45),I(1,Yse,1,0,null,13),_()),i&2){let e=f(4);u(),h("ngTemplateOutlet",e.nextIconTemplate)}}function Xse(i,n){if(i&1&&(m(0,"th",51)(1,"span"),D(2),_()()),i&2){let e=f(5);u(2),$(e.getTranslation("weekHeader"))}}function Qse(i,n){if(i&1&&(m(0,"th",52)(1,"span"),D(2),_()()),i&2){let e=n.$implicit;u(2),$(e)}}function Zse(i,n){if(i&1&&(m(0,"td",55)(1,"span",56),D(2),_()()),i&2){let e=f().index,t=f(2).$implicit;u(2),J(" ",t.weekNumbers[e]," ")}}function eae(i,n){if(i&1&&(pe(0),D(1),he()),i&2){let e=f(2).$implicit;u(),$(e.day)}}function tae(i,n){i&1&&ue(0)}function iae(i,n){if(i&1&&(pe(0),I(1,tae,1,0,"ng-container",18),he()),i&2){let e=f(2).$implicit,t=f(6);u(),h("ngTemplateOutlet",t.dateTemplate)("ngTemplateOutletContext",oe(2,UT,e))}}function nae(i,n){i&1&&ue(0)}function rae(i,n){if(i&1&&(pe(0),I(1,nae,1,0,"ng-container",18),he()),i&2){let e=f(2).$implicit,t=f(6);u(),h("ngTemplateOutlet",t.disabledDateTemplate)("ngTemplateOutletContext",oe(2,UT,e))}}function oae(i,n){if(i&1&&(m(0,"div",59),D(1),_()),i&2){let e=f(2).$implicit;u(),J(" ",e.day," ")}}function sae(i,n){if(i&1){let e=B();pe(0),m(1,"span",57),P("click",function(r){S(e);let o=f().$implicit,s=f(6);return A(s.onDateSelect(r,o))})("keydown",function(r){S(e);let o=f().$implicit,s=f(3).index,a=f(3);return A(a.onDateCellKeydown(r,o,s))}),I(2,eae,2,1,"ng-container",7)(3,iae,2,4,"ng-container",7)(4,rae,2,4,"ng-container",7),_(),I(5,oae,2,1,"div",58),he()}if(i&2){let e=f().$implicit,t=f(6);u(),h("ngClass",Je(6,Ise,t.isSelected(e)&&e.selectable,!e.selectable)),V("data-date",t.formatDateKey(t.formatDateMetaToDate(e))),u(),h("ngIf",!t.dateTemplate&&(e.selectable||!t.disabledDateTemplate)),u(),h("ngIf",e.selectable||!t.disabledDateTemplate),u(),h("ngIf",!e.selectable),u(),h("ngIf",t.isSelected(e))}}function aae(i,n){if(i&1&&(m(0,"td",16),I(1,sae,6,9,"ng-container",7),_()),i&2){let e=n.$implicit,t=f(6);h("ngClass",Je(3,yse,e.otherMonth,e.today)),V("aria-label",e.day),u(),h("ngIf",e.otherMonth?t.showOtherMonths:!0)}}function lae(i,n){if(i&1&&(m(0,"tr"),I(1,Zse,3,1,"td",53)(2,aae,2,6,"td",54),_()),i&2){let e=n.$implicit,t=f(5);u(),h("ngIf",t.showWeek),u(),h("ngForOf",e)}}function cae(i,n){if(i&1&&(m(0,"div",46)(1,"table",47)(2,"thead")(3,"tr"),I(4,Xse,3,1,"th",48)(5,Qse,3,1,"th",49),_()(),m(6,"tbody"),I(7,lae,3,2,"tr",50),_()()()),i&2){let e=f().$implicit,t=f(3);u(4),h("ngIf",t.showWeek),u(),h("ngForOf",t.weekDays),u(2),h("ngForOf",e.dates)}}function dae(i,n){if(i&1){let e=B();m(0,"div",27)(1,"div",28),I(2,jse,3,3,"button",29),m(3,"div",30),I(4,Hse,2,3,"button",31)(5,Gse,2,3,"button",32)(6,Kse,3,5,"span",33),_(),m(7,"button",34),P("keydown",function(r){S(e);let o=f(3);return A(o.onContainerButtonKeydown(r))})("click",function(r){S(e);let o=f(3);return A(o.onNextButtonClick(r))}),I(8,$se,1,1,"ChevronRightIcon",35)(9,Jse,2,1,"span",36),_()(),I(10,cae,8,3,"div",37),_()}if(i&2){let e=n.index,t=f(3);u(2),h("ngIf",e===0),u(2),h("ngIf",t.currentView==="date"),u(),h("ngIf",t.currentView!=="year"),u(),h("ngIf",t.currentView==="year"),u(),Fn("display",t.numberOfMonths===1||e===t.numberOfMonths-1?"inline-flex":"none"),V("aria-label",t.nextIconAriaLabel),u(),h("ngIf",!t.nextIconTemplate),u(),h("ngIf",t.nextIconTemplate),u(),h("ngIf",t.currentView==="date")}}function uae(i,n){if(i&1&&(m(0,"div",59),D(1),_()),i&2){let e=f().$implicit;u(),J(" ",e," ")}}function pae(i,n){if(i&1){let e=B();m(0,"span",62),P("click",function(r){let o=S(e).index,s=f(4);return A(s.onMonthSelect(r,o))})("keydown",function(r){let o=S(e).index,s=f(4);return A(s.onMonthCellKeydown(r,o))}),D(1),I(2,uae,2,1,"div",58),_()}if(i&2){let e=n.$implicit,t=n.index,r=f(4);h("ngClass",Je(3,n5,r.isMonthSelected(t),r.isMonthDisabled(t))),u(),J(" ",e," "),u(),h("ngIf",r.isMonthSelected(t))}}function hae(i,n){if(i&1&&(m(0,"div",60),I(1,pae,3,6,"span",61),_()),i&2){let e=f(3);u(),h("ngForOf",e.monthPickerValues())}}function fae(i,n){if(i&1&&(m(0,"div",59),D(1),_()),i&2){let e=f().$implicit;u(),J(" ",e," ")}}function mae(i,n){if(i&1){let e=B();m(0,"span",65),P("click",function(r){let o=S(e).$implicit,s=f(4);return A(s.onYearSelect(r,o))})("keydown",function(r){let o=S(e).$implicit,s=f(4);return A(s.onYearCellKeydown(r,o))}),D(1),I(2,fae,2,1,"div",58),_()}if(i&2){let e=n.$implicit,t=f(4);h("ngClass",Je(3,n5,t.isYearSelected(e),t.isYearDisabled(e))),u(),J(" ",e," "),u(),h("ngIf",t.isYearSelected(e))}}function gae(i,n){if(i&1&&(m(0,"div",63),I(1,mae,3,6,"span",64),_()),i&2){let e=f(3);u(),h("ngForOf",e.yearPickerValues())}}function _ae(i,n){if(i&1&&(pe(0),m(1,"div",23),I(2,dae,11,10,"div",24),_(),I(3,hae,2,1,"div",25)(4,gae,2,1,"div",26),he()),i&2){let e=f(2);u(2),h("ngForOf",e.months),u(),h("ngIf",e.currentView==="month"),u(),h("ngIf",e.currentView==="year")}}function Cae(i,n){i&1&&O(0,"ChevronUpIcon")}function yae(i,n){}function Iae(i,n){i&1&&I(0,yae,0,0,"ng-template")}function vae(i,n){i&1&&(pe(0),D(1,"0"),he())}function bae(i,n){i&1&&O(0,"ChevronDownIcon")}function wae(i,n){}function Sae(i,n){i&1&&I(0,wae,0,0,"ng-template")}function Aae(i,n){i&1&&O(0,"ChevronUpIcon")}function Eae(i,n){}function xae(i,n){i&1&&I(0,Eae,0,0,"ng-template")}function Tae(i,n){i&1&&(pe(0),D(1,"0"),he())}function Oae(i,n){i&1&&O(0,"ChevronDownIcon")}function Dae(i,n){}function Rae(i,n){i&1&&I(0,Dae,0,0,"ng-template")}function Pae(i,n){if(i&1&&(m(0,"div",69)(1,"span"),D(2),_()()),i&2){let e=f(3);u(2),$(e.timeSeparator)}}function kae(i,n){i&1&&O(0,"ChevronUpIcon")}function Fae(i,n){}function Lae(i,n){i&1&&I(0,Fae,0,0,"ng-template")}function Mae(i,n){i&1&&(pe(0),D(1,"0"),he())}function Nae(i,n){i&1&&O(0,"ChevronDownIcon")}function Vae(i,n){}function Bae(i,n){i&1&&I(0,Vae,0,0,"ng-template")}function Uae(i,n){if(i&1){let e=B();m(0,"div",74)(1,"button",68),P("keydown",function(r){S(e);let o=f(3);return A(o.onContainerButtonKeydown(r))})("keydown.enter",function(r){S(e);let o=f(3);return A(o.incrementSecond(r))})("keydown.space",function(r){S(e);let o=f(3);return A(o.incrementSecond(r))})("mousedown",function(r){S(e);let o=f(3);return A(o.onTimePickerElementMouseDown(r,2,1))})("mouseup",function(r){S(e);let o=f(3);return A(o.onTimePickerElementMouseUp(r))})("keyup.enter",function(r){S(e);let o=f(3);return A(o.onTimePickerElementMouseUp(r))})("keyup.space",function(r){S(e);let o=f(3);return A(o.onTimePickerElementMouseUp(r))})("mouseleave",function(){S(e);let r=f(3);return A(r.onTimePickerElementMouseLeave())}),I(2,kae,1,0,"ChevronUpIcon",7)(3,Lae,1,0,null,13),_(),m(4,"span"),I(5,Mae,2,0,"ng-container",7),D(6),_(),m(7,"button",68),P("keydown",function(r){S(e);let o=f(3);return A(o.onContainerButtonKeydown(r))})("keydown.enter",function(r){S(e);let o=f(3);return A(o.decrementSecond(r))})("keydown.space",function(r){S(e);let o=f(3);return A(o.decrementSecond(r))})("mousedown",function(r){S(e);let o=f(3);return A(o.onTimePickerElementMouseDown(r,2,-1))})("mouseup",function(r){S(e);let o=f(3);return A(o.onTimePickerElementMouseUp(r))})("keyup.enter",function(r){S(e);let o=f(3);return A(o.onTimePickerElementMouseUp(r))})("keyup.space",function(r){S(e);let o=f(3);return A(o.onTimePickerElementMouseUp(r))})("mouseleave",function(){S(e);let r=f(3);return A(r.onTimePickerElementMouseLeave())}),I(8,Nae,1,0,"ChevronDownIcon",7)(9,Bae,1,0,null,13),_()()}if(i&2){let e=f(3);u(),V("aria-label",e.getTranslation("nextSecond")),u(),h("ngIf",!e.incrementIconTemplate),u(),h("ngTemplateOutlet",e.incrementIconTemplate),u(2),h("ngIf",e.currentSecond<10),u(),$(e.currentSecond),u(),V("aria-label",e.getTranslation("prevSecond")),u(),h("ngIf",!e.decrementIconTemplate),u(),h("ngTemplateOutlet",e.decrementIconTemplate)}}function jae(i,n){i&1&&O(0,"ChevronUpIcon")}function Hae(i,n){}function Gae(i,n){i&1&&I(0,Hae,0,0,"ng-template")}function zae(i,n){i&1&&O(0,"ChevronDownIcon")}function Wae(i,n){}function Kae(i,n){i&1&&I(0,Wae,0,0,"ng-template")}function $ae(i,n){if(i&1){let e=B();m(0,"div",75)(1,"button",76),P("keydown",function(r){S(e);let o=f(3);return A(o.onContainerButtonKeydown(r))})("click",function(r){S(e);let o=f(3);return A(o.toggleAMPM(r))})("keydown.enter",function(r){S(e);let o=f(3);return A(o.toggleAMPM(r))}),I(2,jae,1,0,"ChevronUpIcon",7)(3,Gae,1,0,null,13),_(),m(4,"span"),D(5),_(),m(6,"button",76),P("keydown",function(r){S(e);let o=f(3);return A(o.onContainerButtonKeydown(r))})("click",function(r){S(e);let o=f(3);return A(o.toggleAMPM(r))})("keydown.enter",function(r){S(e);let o=f(3);return A(o.toggleAMPM(r))}),I(7,zae,1,0,"ChevronDownIcon",7)(8,Kae,1,0,null,13),_()()}if(i&2){let e=f(3);u(),V("aria-label",e.getTranslation("am")),u(),h("ngIf",!e.incrementIconTemplate),u(),h("ngTemplateOutlet",e.incrementIconTemplate),u(2),$(e.pm?"PM":"AM"),u(),V("aria-label",e.getTranslation("pm")),u(),h("ngIf",!e.decrementIconTemplate),u(),h("ngTemplateOutlet",e.decrementIconTemplate)}}function qae(i,n){if(i&1){let e=B();m(0,"div",66)(1,"div",67)(2,"button",68),P("keydown",function(r){S(e);let o=f(2);return A(o.onContainerButtonKeydown(r))})("keydown.enter",function(r){S(e);let o=f(2);return A(o.incrementHour(r))})("keydown.space",function(r){S(e);let o=f(2);return A(o.incrementHour(r))})("mousedown",function(r){S(e);let o=f(2);return A(o.onTimePickerElementMouseDown(r,0,1))})("mouseup",function(r){S(e);let o=f(2);return A(o.onTimePickerElementMouseUp(r))})("keyup.enter",function(r){S(e);let o=f(2);return A(o.onTimePickerElementMouseUp(r))})("keyup.space",function(r){S(e);let o=f(2);return A(o.onTimePickerElementMouseUp(r))})("mouseleave",function(){S(e);let r=f(2);return A(r.onTimePickerElementMouseLeave())}),I(3,Cae,1,0,"ChevronUpIcon",7)(4,Iae,1,0,null,13),_(),m(5,"span"),I(6,vae,2,0,"ng-container",7),D(7),_(),m(8,"button",68),P("keydown",function(r){S(e);let o=f(2);return A(o.onContainerButtonKeydown(r))})("keydown.enter",function(r){S(e);let o=f(2);return A(o.decrementHour(r))})("keydown.space",function(r){S(e);let o=f(2);return A(o.decrementHour(r))})("mousedown",function(r){S(e);let o=f(2);return A(o.onTimePickerElementMouseDown(r,0,-1))})("mouseup",function(r){S(e);let o=f(2);return A(o.onTimePickerElementMouseUp(r))})("keyup.enter",function(r){S(e);let o=f(2);return A(o.onTimePickerElementMouseUp(r))})("keyup.space",function(r){S(e);let o=f(2);return A(o.onTimePickerElementMouseUp(r))})("mouseleave",function(){S(e);let r=f(2);return A(r.onTimePickerElementMouseLeave())}),I(9,bae,1,0,"ChevronDownIcon",7)(10,Sae,1,0,null,13),_()(),m(11,"div",69)(12,"span"),D(13),_()(),m(14,"div",70)(15,"button",68),P("keydown",function(r){S(e);let o=f(2);return A(o.onContainerButtonKeydown(r))})("keydown.enter",function(r){S(e);let o=f(2);return A(o.incrementMinute(r))})("keydown.space",function(r){S(e);let o=f(2);return A(o.incrementMinute(r))})("mousedown",function(r){S(e);let o=f(2);return A(o.onTimePickerElementMouseDown(r,1,1))})("mouseup",function(r){S(e);let o=f(2);return A(o.onTimePickerElementMouseUp(r))})("keyup.enter",function(r){S(e);let o=f(2);return A(o.onTimePickerElementMouseUp(r))})("keyup.space",function(r){S(e);let o=f(2);return A(o.onTimePickerElementMouseUp(r))})("mouseleave",function(){S(e);let r=f(2);return A(r.onTimePickerElementMouseLeave())}),I(16,Aae,1,0,"ChevronUpIcon",7)(17,xae,1,0,null,13),_(),m(18,"span"),I(19,Tae,2,0,"ng-container",7),D(20),_(),m(21,"button",68),P("keydown",function(r){S(e);let o=f(2);return A(o.onContainerButtonKeydown(r))})("keydown.enter",function(r){S(e);let o=f(2);return A(o.decrementMinute(r))})("keydown.space",function(r){S(e);let o=f(2);return A(o.decrementMinute(r))})("mousedown",function(r){S(e);let o=f(2);return A(o.onTimePickerElementMouseDown(r,1,-1))})("mouseup",function(r){S(e);let o=f(2);return A(o.onTimePickerElementMouseUp(r))})("keyup.enter",function(r){S(e);let o=f(2);return A(o.onTimePickerElementMouseUp(r))})("keyup.space",function(r){S(e);let o=f(2);return A(o.onTimePickerElementMouseUp(r))})("mouseleave",function(){S(e);let r=f(2);return A(r.onTimePickerElementMouseLeave())}),I(22,Oae,1,0,"ChevronDownIcon",7)(23,Rae,1,0,null,13),_()(),I(24,Pae,3,1,"div",71)(25,Uae,10,8,"div",72)(26,$ae,9,7,"div",73),_()}if(i&2){let e=f(2);u(2),V("aria-label",e.getTranslation("nextHour")),u(),h("ngIf",!e.incrementIconTemplate),u(),h("ngTemplateOutlet",e.incrementIconTemplate),u(2),h("ngIf",e.currentHour<10),u(),$(e.currentHour),u(),V("aria-label",e.getTranslation("prevHour")),u(),h("ngIf",!e.decrementIconTemplate),u(),h("ngTemplateOutlet",e.decrementIconTemplate),u(3),$(e.timeSeparator),u(2),V("aria-label",e.getTranslation("nextMinute")),u(),h("ngIf",!e.incrementIconTemplate),u(),h("ngTemplateOutlet",e.incrementIconTemplate),u(2),h("ngIf",e.currentMinute<10),u(),$(e.currentMinute),u(),V("aria-label",e.getTranslation("prevMinute")),u(),h("ngIf",!e.decrementIconTemplate),u(),h("ngTemplateOutlet",e.decrementIconTemplate),u(),h("ngIf",e.showSeconds),u(),h("ngIf",e.showSeconds),u(),h("ngIf",e.hourFormat=="12")}}function Yae(i,n){if(i&1){let e=B();m(0,"div",77)(1,"button",78),P("keydown",function(r){S(e);let o=f(2);return A(o.onContainerButtonKeydown(r))})("click",function(r){S(e);let o=f(2);return A(o.onTodayButtonClick(r))}),_(),m(2,"button",78),P("keydown",function(r){S(e);let o=f(2);return A(o.onContainerButtonKeydown(r))})("click",function(r){S(e);let o=f(2);return A(o.onClearButtonClick(r))}),_()()}if(i&2){let e=f(2);u(),h("label",e.getTranslation("today"))("ngClass",oe(4,i5,e.todayButtonStyleClass)),u(),h("label",e.getTranslation("clear"))("ngClass",oe(6,i5,e.clearButtonStyleClass))}}function Jae(i,n){i&1&&ue(0)}function Xae(i,n){if(i&1){let e=B();m(0,"div",20,2),P("@overlayAnimation.start",function(r){S(e);let o=f();return A(o.onOverlayAnimationStart(r))})("@overlayAnimation.done",function(r){S(e);let o=f();return A(o.onOverlayAnimationDone(r))})("click",function(r){S(e);let o=f();return A(o.onOverlayClick(r))}),ii(2),I(3,Mse,1,0,"ng-container",13)(4,_ae,5,3,"ng-container",7)(5,qae,27,20,"div",21)(6,Yae,3,8,"div",22),ii(7,1),I(8,Jae,1,0,"ng-container",13),_()}if(i&2){let e=f();le(e.panelStyleClass),h("ngStyle",e.panelStyle)("ngClass",ll(15,gse,e.inline,e.disabled,e.timeOnly,e.numberOfMonths>1,e.view==="month",e.touchUI))("@overlayAnimation",e.touchUI?oe(25,_se,Je(22,t5,e.showTransitionOptions,e.hideTransitionOptions)):oe(30,Cse,Je(27,t5,e.showTransitionOptions,e.hideTransitionOptions)))("@.disabled",e.inline===!0),V("id",e.panelId)("aria-label",e.getTranslation("chooseDate"))("role",e.inline?null:"dialog")("aria-modal",e.inline?null:"true"),u(3),h("ngTemplateOutlet",e.headerTemplate),u(),h("ngIf",!e.timeOnly),u(),h("ngIf",(e.showTime||e.timeOnly)&&e.currentView==="date"),u(),h("ngIf",e.showButtonBar),u(2),h("ngTemplateOutlet",e.footerTemplate)}}var Qae={provide:nn,useExisting:zt(()=>a_),multi:!0},a_=(()=>{class i{document;el;renderer;cd;zone;config;overlayService;iconDisplay="button";style;styleClass;inputStyle;inputId;name;inputStyleClass;placeholder;ariaLabelledBy;ariaLabel;iconAriaLabel;disabled;dateFormat;multipleSeparator=",";rangeSeparator="-";inline=!1;showOtherMonths=!0;selectOtherMonths;showIcon;icon;appendTo;readonlyInput;shortYearCutoff="+10";monthNavigator;yearNavigator;hourFormat="24";timeOnly;stepYearPicker=10;stepHour=1;stepMinute=1;stepSecond=1;showSeconds=!1;required;showOnFocus=!0;showWeek=!1;startWeekFromFirstDayOfYear=!1;showClear=!1;dataType="date";selectionMode="single";maxDateCount;showButtonBar;todayButtonStyleClass="p-button-text";clearButtonStyleClass="p-button-text";autofocus;autoZIndex=!0;baseZIndex=0;panelStyleClass;panelStyle;keepInvalid=!1;hideOnDateTimeSelect=!0;touchUI;timeSeparator=":";focusTrap=!0;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";tabindex;variant="outlined";get minDate(){return this._minDate}set minDate(e){this._minDate=e,this.currentMonth!=null&&this.currentMonth!=null&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=e,this.currentMonth!=null&&this.currentMonth!=null&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDates(){return this._disabledDates}set disabledDates(e){this._disabledDates=e,this.currentMonth!=null&&this.currentMonth!=null&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDays(){return this._disabledDays}set disabledDays(e){this._disabledDays=e,this.currentMonth!=null&&this.currentMonth!=null&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get yearRange(){return this._yearRange}set yearRange(e){if(this._yearRange=e,e){let t=e.split(":"),r=parseInt(t[0]),o=parseInt(t[1]);this.populateYearOptions(r,o)}}get showTime(){return this._showTime}set showTime(e){this._showTime=e,this.currentHour===void 0&&this.initTime(this.value||new Date),this.updateInputfield()}get responsiveOptions(){return this._responsiveOptions}set responsiveOptions(e){this._responsiveOptions=e,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get numberOfMonths(){return this._numberOfMonths}set numberOfMonths(e){this._numberOfMonths=e,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get firstDayOfWeek(){return this._firstDayOfWeek}set firstDayOfWeek(e){this._firstDayOfWeek=e,this.createWeekDays()}set locale(e){console.warn("Locale property has no effect, use new i18n API instead.")}get view(){return this._view}set view(e){this._view=e,this.currentView=this._view}get defaultDate(){return this._defaultDate}set defaultDate(e){if(this._defaultDate=e,this.initialized){let t=e||new Date;this.currentMonth=t.getMonth(),this.currentYear=t.getFullYear(),this.initTime(t),this.createMonths(this.currentMonth,this.currentYear)}}get inputClass(){return{"p-inputtext p-component":!0,"p-variant-filled":this.variant==="filled"||this.config.inputStyle()==="filled"}}onFocus=new Q;onBlur=new Q;onClose=new Q;onSelect=new Q;onClear=new Q;onInput=new Q;onTodayClick=new Q;onClearClick=new Q;onMonthChange=new Q;onYearChange=new Q;onClickOutside=new Q;onShow=new Q;templates;containerViewChild;inputfieldViewChild;set content(e){this.contentViewChild=e,this.contentViewChild&&(this.isMonthNavigate?(Promise.resolve(null).then(()=>this.updateFocus()),this.isMonthNavigate=!1):!this.focus&&!this.inline&&this.initFocusableCell())}contentViewChild;value;dates;months;weekDays;currentMonth;currentYear;currentHour;currentMinute;currentSecond;pm;mask;maskClickListener;overlay;responsiveStyleElement;overlayVisible;onModelChange=()=>{};onModelTouched=()=>{};calendarElement;timePickerTimer;documentClickListener;animationEndListener;ticksTo1970;yearOptions;focus;isKeydown;filled;inputFieldValue=null;_minDate;_maxDate;_showTime;_yearRange;preventDocumentListener;dateTemplate;headerTemplate;footerTemplate;disabledDateTemplate;decadeTemplate;previousIconTemplate;nextIconTemplate;triggerIconTemplate;clearIconTemplate;decrementIconTemplate;incrementIconTemplate;inputIconTemplate;_disabledDates;_disabledDays;selectElement;todayElement;focusElement;scrollHandler;documentResizeListener;navigationState=null;isMonthNavigate;initialized;translationSubscription;_locale;_responsiveOptions;currentView;attributeSelector;panelId;_numberOfMonths=1;_firstDayOfWeek;_view="date";preventFocus;_defaultDate;_focusKey=null;window;get locale(){return this._locale}get iconButtonAriaLabel(){return this.iconAriaLabel?this.iconAriaLabel:this.getTranslation("chooseDate")}get prevIconAriaLabel(){return this.currentView==="year"?this.getTranslation("prevDecade"):this.currentView==="month"?this.getTranslation("prevYear"):this.getTranslation("prevMonth")}get nextIconAriaLabel(){return this.currentView==="year"?this.getTranslation("nextDecade"):this.currentView==="month"?this.getTranslation("nextYear"):this.getTranslation("nextMonth")}constructor(e,t,r,o,s,a,l){this.document=e,this.el=t,this.renderer=r,this.cd=o,this.zone=s,this.config=a,this.overlayService=l,this.window=this.document.defaultView}ngOnInit(){this.attributeSelector=yt(),this.panelId=this.attributeSelector+"_panel";let e=this.defaultDate||new Date;this.createResponsiveStyle(),this.currentMonth=e.getMonth(),this.currentYear=e.getFullYear(),this.yearOptions=[],this.currentView=this.view,this.view==="date"&&(this.createWeekDays(),this.initTime(e),this.createMonths(this.currentMonth,this.currentYear),this.ticksTo1970=(1969*365+Math.floor(1970/4)-Math.floor(1970/100)+Math.floor(1970/400))*24*60*60*1e7),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.createWeekDays(),this.cd.markForCheck()}),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"date":this.dateTemplate=e.template;break;case"decade":this.decadeTemplate=e.template;break;case"disabledDate":this.disabledDateTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"inputicon":this.inputIconTemplate=e.template;break;case"previousicon":this.previousIconTemplate=e.template;break;case"nexticon":this.nextIconTemplate=e.template;break;case"triggericon":this.triggerIconTemplate=e.template;break;case"clearicon":this.clearIconTemplate=e.template;break;case"decrementicon":this.decrementIconTemplate=e.template;break;case"incrementicon":this.incrementIconTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;default:this.dateTemplate=e.template;break}})}ngAfterViewInit(){this.inline&&(this.contentViewChild&&this.contentViewChild.nativeElement.setAttribute(this.attributeSelector,""),!this.disabled&&!this.inline&&(this.initFocusableCell(),this.numberOfMonths===1&&this.contentViewChild&&this.contentViewChild.nativeElement&&(this.contentViewChild.nativeElement.style.width=M.getOuterWidth(this.containerViewChild?.nativeElement)+"px")))}getTranslation(e){return this.config.getTranslation(e)}populateYearOptions(e,t){this.yearOptions=[];for(let r=e;r<=t;r++)this.yearOptions.push(r)}createWeekDays(){this.weekDays=[];let e=this.getFirstDateOfWeek(),t=this.getTranslation(bi.DAY_NAMES_MIN);for(let r=0;r<7;r++)this.weekDays.push(t[e]),e=e==6?0:++e}monthPickerValues(){let e=[];for(let t=0;t<=11;t++)e.push(this.config.getTranslation("monthNamesShort")[t]);return e}yearPickerValues(){let e=[],t=this.currentYear-this.currentYear%this.stepYearPicker;for(let r=0;r<this.stepYearPicker;r++)e.push(t+r);return e}createMonths(e,t){this.months=this.months=[];for(let r=0;r<this.numberOfMonths;r++){let o=e+r,s=t;o>11&&(o=o%11-1,s=t+1),this.months.push(this.createMonth(o,s))}}getWeekNumber(e){let t=new Date(e.getTime());if(this.startWeekFromFirstDayOfYear){let o=+this.getFirstDateOfWeek();t.setDate(t.getDate()+6+o-t.getDay())}else t.setDate(t.getDate()+4-(t.getDay()||7));let r=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((r-t.getTime())/864e5)/7)+1}createMonth(e,t){let r=[],o=this.getFirstDayOfMonthIndex(e,t),s=this.getDaysCountInMonth(e,t),a=this.getDaysCountInPrevMonth(e,t),l=1,c=new Date,d=[],p=Math.ceil((s+o)/7);for(let g=0;g<p;g++){let C=[];if(g==0){for(let v=a-o+1;v<=a;v++){let w=this.getPreviousMonthAndYear(e,t);C.push({day:v,month:w.month,year:w.year,otherMonth:!0,today:this.isToday(c,v,w.month,w.year),selectable:this.isSelectable(v,w.month,w.year,!0)})}let y=7-C.length;for(let v=0;v<y;v++)C.push({day:l,month:e,year:t,today:this.isToday(c,l,e,t),selectable:this.isSelectable(l,e,t,!1)}),l++}else for(let y=0;y<7;y++){if(l>s){let v=this.getNextMonthAndYear(e,t);C.push({day:l-s,month:v.month,year:v.year,otherMonth:!0,today:this.isToday(c,l-s,v.month,v.year),selectable:this.isSelectable(l-s,v.month,v.year,!0)})}else C.push({day:l,month:e,year:t,today:this.isToday(c,l,e,t),selectable:this.isSelectable(l,e,t,!1)});l++}this.showWeek&&d.push(this.getWeekNumber(new Date(C[0].year,C[0].month,C[0].day))),r.push(C)}return{month:e,year:t,dates:r,weekNumbers:d}}initTime(e){this.pm=e.getHours()>11,this.showTime?(this.currentMinute=e.getMinutes(),this.currentSecond=e.getSeconds(),this.setCurrentHourPM(e.getHours())):this.timeOnly&&(this.currentMinute=0,this.currentHour=0,this.currentSecond=0)}navBackward(e){if(this.disabled){e.preventDefault();return}this.isMonthNavigate=!0,this.currentView==="month"?(this.decrementYear(),setTimeout(()=>{this.updateFocus()},1)):this.currentView==="year"?(this.decrementYearPickerStep(),setTimeout(()=>{this.updateFocus()},1)):(this.currentMonth===0?(this.currentMonth=11,this.decrementYear()):this.currentMonth--,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear))}navForward(e){if(this.disabled){e.preventDefault();return}this.isMonthNavigate=!0,this.currentView==="month"?(this.incrementYear(),setTimeout(()=>{this.updateFocus()},1)):this.currentView==="year"?(this.incrementYearPickerStep(),setTimeout(()=>{this.updateFocus()},1)):(this.currentMonth===11?(this.currentMonth=0,this.incrementYear()):this.currentMonth++,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear))}decrementYear(){this.currentYear--;let e=this.yearOptions;if(this.yearNavigator&&this.currentYear<e[0]){let t=e[e.length-1]-e[0];this.populateYearOptions(e[0]-t,e[e.length-1]-t)}}decrementYearPickerStep(){this.currentYear=this.currentYear-this.stepYearPicker}incrementYearPickerStep(){this.currentYear=this.currentYear+this.stepYearPicker}incrementYear(){this.currentYear++;let e=this.yearOptions;if(this.yearNavigator&&this.currentYear>e[e.length-1]){let t=e[e.length-1]-e[0];this.populateYearOptions(e[0]+t,e[e.length-1]+t)}}switchToMonthView(e){this.setCurrentView("month"),e.preventDefault()}switchToYearView(e){this.setCurrentView("year"),e.preventDefault()}onDateSelect(e,t){if(this.disabled||!t.selectable){e.preventDefault();return}this.isMultipleSelection()&&this.isSelected(t)?(this.value=this.value.filter((r,o)=>!this.isDateEquals(r,t)),this.value.length===0&&(this.value=null),this.updateModel(this.value)):this.shouldSelectDate(t)&&this.selectDate(t),this.hideOnDateTimeSelect&&(this.isSingleSelection()||this.isRangeSelection()&&this.value[1])&&setTimeout(()=>{e.preventDefault(),this.hideOverlay(),this.mask&&this.disableModality(),this.cd.markForCheck()},150),this.updateInputfield(),e.preventDefault()}shouldSelectDate(e){return this.isMultipleSelection()&&this.maxDateCount!=null?this.maxDateCount>(this.value?this.value.length:0):!0}onMonthSelect(e,t){this.view==="month"?this.onDateSelect(e,{year:this.currentYear,month:t,day:1,selectable:!0}):(this.currentMonth=t,this.createMonths(this.currentMonth,this.currentYear),this.setCurrentView("date"),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}))}onYearSelect(e,t){this.view==="year"?this.onDateSelect(e,{year:t,month:0,day:1,selectable:!0}):(this.currentYear=t,this.setCurrentView("month"),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}))}updateInputfield(){let e="";if(this.value){if(this.isSingleSelection())e=this.formatDateTime(this.value);else if(this.isMultipleSelection())for(let t=0;t<this.value.length;t++){let r=this.formatDateTime(this.value[t]);e+=r,t!==this.value.length-1&&(e+=this.multipleSeparator+" ")}else if(this.isRangeSelection()&&this.value&&this.value.length){let t=this.value[0],r=this.value[1];e=this.formatDateTime(t),r&&(e+=" "+this.rangeSeparator+" "+this.formatDateTime(r))}}this.inputFieldValue=e,this.updateFilledState(),this.inputfieldViewChild&&this.inputfieldViewChild.nativeElement&&(this.inputfieldViewChild.nativeElement.value=this.inputFieldValue)}formatDateTime(e){let t=this.keepInvalid?e:null,r=this.isValidDateForTimeConstraints(e);return this.isValidDate(e)?this.timeOnly?t=this.formatTime(e):(t=this.formatDate(e,this.getDateFormat()),this.showTime&&(t+=" "+this.formatTime(e))):this.dataType==="string"&&(t=e),t=r?t:"",t}formatDateMetaToDate(e){return new Date(e.year,e.month,e.day)}formatDateKey(e){return`${e.getFullYear()}-${e.getMonth()+1}-${e.getDate()}`}setCurrentHourPM(e){this.hourFormat=="12"?(this.pm=e>11,e>=12?this.currentHour=e==12?12:e-12:this.currentHour=e==0?12:e):this.currentHour=e}setCurrentView(e){this.currentView=e,this.cd.detectChanges(),this.alignOverlay()}selectDate(e){let t=this.formatDateMetaToDate(e);if(this.showTime&&(this.hourFormat=="12"?this.currentHour===12?t.setHours(this.pm?12:0):t.setHours(this.pm?this.currentHour+12:this.currentHour):t.setHours(this.currentHour),t.setMinutes(this.currentMinute),t.setSeconds(this.currentSecond)),this.minDate&&this.minDate>t&&(t=this.minDate,this.setCurrentHourPM(t.getHours()),this.currentMinute=t.getMinutes(),this.currentSecond=t.getSeconds()),this.maxDate&&this.maxDate<t&&(t=this.maxDate,this.setCurrentHourPM(t.getHours()),this.currentMinute=t.getMinutes(),this.currentSecond=t.getSeconds()),this.isSingleSelection())this.updateModel(t);else if(this.isMultipleSelection())this.updateModel(this.value?[...this.value,t]:[t]);else if(this.isRangeSelection())if(this.value&&this.value.length){let r=this.value[0],o=this.value[1];!o&&t.getTime()>=r.getTime()?o=t:(r=t,o=null),this.updateModel([r,o])}else this.updateModel([t,null]);this.onSelect.emit(t)}updateModel(e){if(this.value=e,this.dataType=="date")this.onModelChange(this.value);else if(this.dataType=="string")if(this.isSingleSelection())this.onModelChange(this.formatDateTime(this.value));else{let t=null;Array.isArray(this.value)&&(t=this.value.map(r=>this.formatDateTime(r))),this.onModelChange(t)}}getFirstDayOfMonthIndex(e,t){let r=new Date;r.setDate(1),r.setMonth(e),r.setFullYear(t);let o=r.getDay()+this.getSundayIndex();return o>=7?o-7:o}getDaysCountInMonth(e,t){return 32-this.daylightSavingAdjust(new Date(t,e,32)).getDate()}getDaysCountInPrevMonth(e,t){let r=this.getPreviousMonthAndYear(e,t);return this.getDaysCountInMonth(r.month,r.year)}getPreviousMonthAndYear(e,t){let r,o;return e===0?(r=11,o=t-1):(r=e-1,o=t),{month:r,year:o}}getNextMonthAndYear(e,t){let r,o;return e===11?(r=0,o=t+1):(r=e+1,o=t),{month:r,year:o}}getSundayIndex(){let e=this.getFirstDateOfWeek();return e>0?7-e:0}isSelected(e){if(this.value){if(this.isSingleSelection())return this.isDateEquals(this.value,e);if(this.isMultipleSelection()){let t=!1;for(let r of this.value)if(t=this.isDateEquals(r,e),t)break;return t}else if(this.isRangeSelection())return this.value[1]?this.isDateEquals(this.value[0],e)||this.isDateEquals(this.value[1],e)||this.isDateBetween(this.value[0],this.value[1],e):this.isDateEquals(this.value[0],e)}else return!1}isComparable(){return this.value!=null&&typeof this.value!="string"}isMonthSelected(e){if(this.isComparable()&&!this.isMultipleSelection()){let[t,r]=this.isRangeSelection()?this.value:[this.value,this.value],o=new Date(this.currentYear,e,1);return o>=t&&o<=(r??t)}return!1}isMonthDisabled(e,t){let r=t??this.currentYear;for(let o=1;o<this.getDaysCountInMonth(e,r)+1;o++)if(this.isSelectable(o,e,r,!1))return!1;return!0}isYearDisabled(e){return Array(12).fill(0).every((t,r)=>this.isMonthDisabled(r,e))}isYearSelected(e){if(!this.isComparable()||this.isMultipleSelection())return!1;let t=this.isRangeSelection()?this.value[0]:this.value;return t?t.getFullYear()===e:!1}isDateEquals(e,t){return e&&fe.isDate(e)?e.getDate()===t.day&&e.getMonth()===t.month&&e.getFullYear()===t.year:!1}isDateBetween(e,t,r){let o=!1;if(fe.isDate(e)&&fe.isDate(t)){let s=this.formatDateMetaToDate(r);return e.getTime()<=s.getTime()&&t.getTime()>=s.getTime()}return o}isSingleSelection(){return this.selectionMode==="single"}isRangeSelection(){return this.selectionMode==="range"}isMultipleSelection(){return this.selectionMode==="multiple"}isToday(e,t,r,o){return e.getDate()===t&&e.getMonth()===r&&e.getFullYear()===o}isSelectable(e,t,r,o){let s=!0,a=!0,l=!0,c=!0;return o&&!this.selectOtherMonths?!1:(this.minDate&&(this.minDate.getFullYear()>r||this.minDate.getFullYear()===r&&this.currentView!="year"&&(this.minDate.getMonth()>t||this.minDate.getMonth()===t&&this.minDate.getDate()>e))&&(s=!1),this.maxDate&&(this.maxDate.getFullYear()<r||this.maxDate.getFullYear()===r&&(this.maxDate.getMonth()<t||this.maxDate.getMonth()===t&&this.maxDate.getDate()<e))&&(a=!1),this.disabledDates&&(l=!this.isDateDisabled(e,t,r)),this.disabledDays&&(c=!this.isDayDisabled(e,t,r)),s&&a&&l&&c)}isDateDisabled(e,t,r){if(this.disabledDates){for(let o of this.disabledDates)if(o.getFullYear()===r&&o.getMonth()===t&&o.getDate()===e)return!0}return!1}isDayDisabled(e,t,r){if(this.disabledDays){let s=new Date(r,t,e).getDay();return this.disabledDays.indexOf(s)!==-1}return!1}onInputFocus(e){this.focus=!0,this.showOnFocus&&this.showOverlay(),this.onFocus.emit(e)}onInputClick(){this.showOnFocus&&!this.overlayVisible&&this.showOverlay()}onInputBlur(e){this.focus=!1,this.onBlur.emit(e),this.keepInvalid||this.updateInputfield(),this.onModelTouched()}onButtonClick(e,t=this.inputfieldViewChild?.nativeElement){this.overlayVisible?this.hideOverlay():(t.focus(),this.showOverlay())}clear(){this.inputFieldValue=null,this.value=null,this.onModelChange(this.value),this.onClear.emit()}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}getMonthName(e){return this.config.getTranslation("monthNames")[e]}getYear(e){return this.currentView==="month"?this.currentYear:e.year}switchViewButtonDisabled(){return this.numberOfMonths>1||this.disabled}onPrevButtonClick(e){this.navigationState={backward:!0,button:!0},this.navBackward(e)}onNextButtonClick(e){this.navigationState={backward:!1,button:!0},this.navForward(e)}onContainerButtonKeydown(e){switch(e.which){case 9:if(this.inline||this.trapFocus(e),this.inline){let t=M.findSingle(this.containerViewChild?.nativeElement,".p-datepicker-header"),r=e.target;if(this.timeOnly)return;r==t.children[t?.children?.length-1]&&this.initFocusableCell()}break;case 27:this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,e.preventDefault();break;default:break}}onInputKeydown(e){this.isKeydown=!0,e.keyCode===40&&this.contentViewChild?this.trapFocus(e):e.keyCode===27?this.overlayVisible&&(this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,e.preventDefault()):e.keyCode===13?this.overlayVisible&&(this.overlayVisible=!1,e.preventDefault()):e.keyCode===9&&this.contentViewChild&&(M.getFocusableElements(this.contentViewChild.nativeElement).forEach(t=>t.tabIndex="-1"),this.overlayVisible&&(this.overlayVisible=!1))}onDateCellKeydown(e,t,r){let o=e.currentTarget,s=o.parentElement,a=this.formatDateMetaToDate(t);switch(e.which){case 40:{o.tabIndex="-1";let y=M.index(s),v=s.parentElement.nextElementSibling;if(v){let w=v.children[y].children[0];M.hasClass(w,"p-disabled")?(this.navigationState={backward:!1},this.navForward(e)):(v.children[y].children[0].tabIndex="0",v.children[y].children[0].focus())}else this.navigationState={backward:!1},this.navForward(e);e.preventDefault();break}case 38:{o.tabIndex="-1";let y=M.index(s),v=s.parentElement.previousElementSibling;if(v){let w=v.children[y].children[0];M.hasClass(w,"p-disabled")?(this.navigationState={backward:!0},this.navBackward(e)):(w.tabIndex="0",w.focus())}else this.navigationState={backward:!0},this.navBackward(e);e.preventDefault();break}case 37:{o.tabIndex="-1";let y=s.previousElementSibling;if(y){let v=y.children[0];M.hasClass(v,"p-disabled")||M.hasClass(v.parentElement,"p-datepicker-weeknumber")?this.navigateToMonth(!0,r):(v.tabIndex="0",v.focus())}else this.navigateToMonth(!0,r);e.preventDefault();break}case 39:{o.tabIndex="-1";let y=s.nextElementSibling;if(y){let v=y.children[0];M.hasClass(v,"p-disabled")?this.navigateToMonth(!1,r):(v.tabIndex="0",v.focus())}else this.navigateToMonth(!1,r);e.preventDefault();break}case 13:case 32:{this.onDateSelect(e,t),e.preventDefault();break}case 27:{this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,e.preventDefault();break}case 9:{this.inline||this.trapFocus(e);break}case 33:{o.tabIndex="-1";let y=new Date(a.getFullYear(),a.getMonth()-1,a.getDate()),v=this.formatDateKey(y);this.navigateToMonth(!0,r,`span[data-date='${v}']:not(.p-disabled):not(.p-ink)`),e.preventDefault();break}case 34:{o.tabIndex="-1";let y=new Date(a.getFullYear(),a.getMonth()+1,a.getDate()),v=this.formatDateKey(y);this.navigateToMonth(!1,r,`span[data-date='${v}']:not(.p-disabled):not(.p-ink)`),e.preventDefault();break}case 36:o.tabIndex="-1";let l=new Date(a.getFullYear(),a.getMonth(),1),c=this.formatDateKey(l),d=M.findSingle(o.offsetParent,`span[data-date='${c}']:not(.p-disabled):not(.p-ink)`);d&&(d.tabIndex="0",d.focus()),e.preventDefault();break;case 35:o.tabIndex="-1";let p=new Date(a.getFullYear(),a.getMonth()+1,0),g=this.formatDateKey(p),C=M.findSingle(o.offsetParent,`span[data-date='${g}']:not(.p-disabled):not(.p-ink)`);p&&(C.tabIndex="0",C.focus()),e.preventDefault();break;default:break}}onMonthCellKeydown(e,t){let r=e.currentTarget;switch(e.which){case 38:case 40:{r.tabIndex="-1";var o=r.parentElement.children,s=M.index(r);let a=o[e.which===40?s+3:s-3];a&&(a.tabIndex="0",a.focus()),e.preventDefault();break}case 37:{r.tabIndex="-1";let a=r.previousElementSibling;a?(a.tabIndex="0",a.focus()):(this.navigationState={backward:!0},this.navBackward(e)),e.preventDefault();break}case 39:{r.tabIndex="-1";let a=r.nextElementSibling;a?(a.tabIndex="0",a.focus()):(this.navigationState={backward:!1},this.navForward(e)),e.preventDefault();break}case 13:case 32:{this.onMonthSelect(e,t),e.preventDefault();break}case 27:{this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,e.preventDefault();break}case 9:{this.inline||this.trapFocus(e);break}default:break}}onYearCellKeydown(e,t){let r=e.currentTarget;switch(e.which){case 38:case 40:{r.tabIndex="-1";var o=r.parentElement.children,s=M.index(r);let a=o[e.which===40?s+2:s-2];a&&(a.tabIndex="0",a.focus()),e.preventDefault();break}case 37:{r.tabIndex="-1";let a=r.previousElementSibling;a?(a.tabIndex="0",a.focus()):(this.navigationState={backward:!0},this.navBackward(e)),e.preventDefault();break}case 39:{r.tabIndex="-1";let a=r.nextElementSibling;a?(a.tabIndex="0",a.focus()):(this.navigationState={backward:!1},this.navForward(e)),e.preventDefault();break}case 13:case 32:{this.onYearSelect(e,t),e.preventDefault();break}case 27:{this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,e.preventDefault();break}case 9:{this.trapFocus(e);break}default:break}}navigateToMonth(e,t,r){if(e)if(this.numberOfMonths===1||t===0)this.navigationState={backward:!0},this._focusKey=r,this.navBackward(event);else{let o=this.contentViewChild.nativeElement.children[t-1];if(r){let s=M.findSingle(o,r);s.tabIndex="0",s.focus()}else{let s=M.find(o,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),a=s[s.length-1];a.tabIndex="0",a.focus()}}else if(this.numberOfMonths===1||t===this.numberOfMonths-1)this.navigationState={backward:!1},this._focusKey=r,this.navForward(event);else{let o=this.contentViewChild.nativeElement.children[t+1];if(r){let s=M.findSingle(o,r);s.tabIndex="0",s.focus()}else{let s=M.findSingle(o,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");s.tabIndex="0",s.focus()}}}updateFocus(){let e;if(this.navigationState){if(this.navigationState.button)this.initFocusableCell(),this.navigationState.backward?M.findSingle(this.contentViewChild.nativeElement,".p-datepicker-prev").focus():M.findSingle(this.contentViewChild.nativeElement,".p-datepicker-next").focus();else{if(this.navigationState.backward){let t;this.currentView==="month"?t=M.find(this.contentViewChild.nativeElement,".p-monthpicker .p-monthpicker-month:not(.p-disabled)"):this.currentView==="year"?t=M.find(this.contentViewChild.nativeElement,".p-yearpicker .p-yearpicker-year:not(.p-disabled)"):t=M.find(this.contentViewChild.nativeElement,this._focusKey||".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),t&&t.length>0&&(e=t[t.length-1])}else this.currentView==="month"?e=M.findSingle(this.contentViewChild.nativeElement,".p-monthpicker .p-monthpicker-month:not(.p-disabled)"):this.currentView==="year"?e=M.findSingle(this.contentViewChild.nativeElement,".p-yearpicker .p-yearpicker-year:not(.p-disabled)"):e=M.findSingle(this.contentViewChild.nativeElement,this._focusKey||".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");e&&(e.tabIndex="0",e.focus())}this.navigationState=null,this._focusKey=null}else this.initFocusableCell();this.alignOverlay()}initFocusableCell(){let e=this.contentViewChild?.nativeElement,t;if(this.currentView==="month"){let r=M.find(e,".p-monthpicker .p-monthpicker-month:not(.p-disabled)"),o=M.findSingle(e,".p-monthpicker .p-monthpicker-month.p-highlight");r.forEach(s=>s.tabIndex=-1),t=o||r[0],r.length===0&&M.find(e,'.p-monthpicker .p-monthpicker-month.p-disabled[tabindex = "0"]').forEach(a=>a.tabIndex=-1)}else if(this.currentView==="year"){let r=M.find(e,".p-yearpicker .p-yearpicker-year:not(.p-disabled)"),o=M.findSingle(e,".p-yearpicker .p-yearpicker-year.p-highlight");r.forEach(s=>s.tabIndex=-1),t=o||r[0],r.length===0&&M.find(e,'.p-yearpicker .p-yearpicker-year.p-disabled[tabindex = "0"]').forEach(a=>a.tabIndex=-1)}else if(t=M.findSingle(e,"span.p-highlight"),!t){let r=M.findSingle(e,"td.p-datepicker-today span:not(.p-disabled):not(.p-ink)");r?t=r:t=M.findSingle(e,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)")}t&&(t.tabIndex="0",!this.preventFocus&&(!this.navigationState||!this.navigationState.button)&&setTimeout(()=>{this.disabled||t.focus()},1),this.preventFocus=!1)}trapFocus(e){let t=M.getFocusableElements(this.contentViewChild.nativeElement);if(t&&t.length>0)if(!t[0].ownerDocument.activeElement)t[0].focus();else{let r=t.indexOf(t[0].ownerDocument.activeElement);if(e.shiftKey)if(r==-1||r===0)if(this.focusTrap)t[t.length-1].focus();else{if(r===-1)return this.hideOverlay();if(r===0)return}else t[r-1].focus();else if(r==-1)if(this.timeOnly)t[0].focus();else{let o=0;for(let s=0;s<t.length;s++)t[s].tagName==="SPAN"&&(o=s);t[o].focus()}else if(r===t.length-1){if(!this.focusTrap&&r!=-1)return this.hideOverlay();t[0].focus()}else t[r+1].focus()}e.preventDefault()}onMonthDropdownChange(e){this.currentMonth=parseInt(e),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}onYearDropdownChange(e){this.currentYear=parseInt(e),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}convertTo24Hour(e,t){return this.hourFormat=="12"?e===12?t?12:0:t?e+12:e:e}constrainTime(e,t,r,o){let s=[e,t,r],a,l=this.value,c=this.convertTo24Hour(e,o),d=this.isRangeSelection(),p=this.isMultipleSelection();(d||p)&&(this.value||(this.value=[new Date,new Date]),d&&(l=this.value[1]||this.value[0]),p&&(l=this.value[this.value.length-1]));let C=l?l.toDateString():null,y=this.minDate&&C&&this.minDate.toDateString()===C,v=this.maxDate&&C&&this.maxDate.toDateString()===C;switch(y&&(a=this.minDate.getHours()>=12),!0){case(y&&a&&this.minDate.getHours()===12&&this.minDate.getHours()>c):s[0]=11;case(y&&this.minDate.getHours()===c&&this.minDate.getMinutes()>t):s[1]=this.minDate.getMinutes();case(y&&this.minDate.getHours()===c&&this.minDate.getMinutes()===t&&this.minDate.getSeconds()>r):s[2]=this.minDate.getSeconds();break;case(y&&!a&&this.minDate.getHours()-1===c&&this.minDate.getHours()>c):s[0]=11,this.pm=!0;case(y&&this.minDate.getHours()===c&&this.minDate.getMinutes()>t):s[1]=this.minDate.getMinutes();case(y&&this.minDate.getHours()===c&&this.minDate.getMinutes()===t&&this.minDate.getSeconds()>r):s[2]=this.minDate.getSeconds();break;case(y&&a&&this.minDate.getHours()>c&&c!==12):this.setCurrentHourPM(this.minDate.getHours()),s[0]=this.currentHour;case(y&&this.minDate.getHours()===c&&this.minDate.getMinutes()>t):s[1]=this.minDate.getMinutes();case(y&&this.minDate.getHours()===c&&this.minDate.getMinutes()===t&&this.minDate.getSeconds()>r):s[2]=this.minDate.getSeconds();break;case(y&&this.minDate.getHours()>c):s[0]=this.minDate.getHours();case(y&&this.minDate.getHours()===c&&this.minDate.getMinutes()>t):s[1]=this.minDate.getMinutes();case(y&&this.minDate.getHours()===c&&this.minDate.getMinutes()===t&&this.minDate.getSeconds()>r):s[2]=this.minDate.getSeconds();break;case(v&&this.maxDate.getHours()<c):s[0]=this.maxDate.getHours();case(v&&this.maxDate.getHours()===c&&this.maxDate.getMinutes()<t):s[1]=this.maxDate.getMinutes();case(v&&this.maxDate.getHours()===c&&this.maxDate.getMinutes()===t&&this.maxDate.getSeconds()<r):s[2]=this.maxDate.getSeconds();break}return s}incrementHour(e){let t=this.currentHour??0,r=(this.currentHour??0)+this.stepHour,o=this.pm;this.hourFormat=="24"?r=r>=24?r-24:r:this.hourFormat=="12"&&(t<12&&r>11&&(o=!this.pm),r=r>=13?r-12:r),this.toggleAMPMIfNotMinDate(o),[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(r,this.currentMinute,this.currentSecond,o),e.preventDefault()}toggleAMPMIfNotMinDate(e){let t=this.value;(this.selectionMode=="range"||this.selectionMode=="multiple")&&Array.isArray(t)&&t.length>0&&(t=t[t.length-1]);let r=t?t.toDateString():null;this.minDate&&r&&this.minDate.toDateString()===r&&this.minDate.getHours()>=12?this.pm=!0:this.pm=e}onTimePickerElementMouseDown(e,t,r){this.disabled||(this.repeat(e,null,t,r),e.preventDefault())}onTimePickerElementMouseUp(e){this.disabled||(this.clearTimePickerTimer(),this.updateTime())}onTimePickerElementMouseLeave(){!this.disabled&&this.timePickerTimer&&(this.clearTimePickerTimer(),this.updateTime())}repeat(e,t,r,o){let s=t||500;switch(this.clearTimePickerTimer(),this.timePickerTimer=setTimeout(()=>{this.repeat(e,100,r,o),this.cd.markForCheck()},s),r){case 0:o===1?this.incrementHour(e):this.decrementHour(e);break;case 1:o===1?this.incrementMinute(e):this.decrementMinute(e);break;case 2:o===1?this.incrementSecond(e):this.decrementSecond(e);break}this.updateInputfield()}clearTimePickerTimer(){this.timePickerTimer&&(clearTimeout(this.timePickerTimer),this.timePickerTimer=null)}decrementHour(e){let t=(this.currentHour??0)-this.stepHour,r=this.pm;this.hourFormat=="24"?t=t<0?24+t:t:this.hourFormat=="12"&&(this.currentHour===12&&(r=!this.pm),t=t<=0?12+t:t),this.toggleAMPMIfNotMinDate(r),[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(t,this.currentMinute,this.currentSecond,r),e.preventDefault()}incrementMinute(e){let t=(this.currentMinute??0)+this.stepMinute;t=t>59?t-60:t,[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(this.currentHour,t,this.currentSecond,this.pm),e.preventDefault()}decrementMinute(e){let t=(this.currentMinute??0)-this.stepMinute;t=t<0?60+t:t,[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(this.currentHour,t,this.currentSecond,this.pm),e.preventDefault()}incrementSecond(e){let t=this.currentSecond+this.stepSecond;t=t>59?t-60:t,[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(this.currentHour,this.currentMinute,t,this.pm),e.preventDefault()}decrementSecond(e){let t=this.currentSecond-this.stepSecond;t=t<0?60+t:t,[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(this.currentHour,this.currentMinute,t,this.pm),e.preventDefault()}updateTime(){let e=this.value;this.isRangeSelection()&&(e=this.value[1]||this.value[0]),this.isMultipleSelection()&&(e=this.value[this.value.length-1]),e=e?new Date(e.getTime()):new Date,this.hourFormat=="12"?this.currentHour===12?e.setHours(this.pm?12:0):e.setHours(this.pm?this.currentHour+12:this.currentHour):e.setHours(this.currentHour),e.setMinutes(this.currentMinute),e.setSeconds(this.currentSecond),this.isRangeSelection()&&(this.value[1]?e=[this.value[0],e]:e=[e,null]),this.isMultipleSelection()&&(e=[...this.value.slice(0,-1),e]),this.updateModel(e),this.onSelect.emit(e),this.updateInputfield()}toggleAMPM(e){let t=!this.pm;this.pm=t,[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(this.currentHour,this.currentMinute,this.currentSecond,t),this.updateTime(),e.preventDefault()}onUserInput(e){if(!this.isKeydown)return;this.isKeydown=!1;let t=e.target.value;try{let r=this.parseValueFromString(t);this.isValidSelection(r)?(this.updateModel(r),this.updateUI()):this.keepInvalid&&this.updateModel(r)}catch{let o=this.keepInvalid?t:null;this.updateModel(o)}this.filled=t!=null&&t.length,this.onInput.emit(e)}isValidSelection(e){if(this.isSingleSelection())return this.isSelectable(e.getDate(),e.getMonth(),e.getFullYear(),!1);let t=e.every(r=>this.isSelectable(r.getDate(),r.getMonth(),r.getFullYear(),!1));return t&&this.isRangeSelection()&&(t=e.length===1||e.length>1&&e[1]>=e[0]),t}parseValueFromString(e){if(!e||e.trim().length===0)return null;let t;if(this.isSingleSelection())t=this.parseDateTime(e);else if(this.isMultipleSelection()){let r=e.split(this.multipleSeparator);t=[];for(let o of r)t.push(this.parseDateTime(o.trim()))}else if(this.isRangeSelection()){let r=e.split(" "+this.rangeSeparator+" ");t=[];for(let o=0;o<r.length;o++)t[o]=this.parseDateTime(r[o].trim())}return t}parseDateTime(e){let t,r=e.split(" ");if(this.timeOnly)t=new Date,this.populateTime(t,r[0],r[1]);else{let o=this.getDateFormat();if(this.showTime){let s=this.hourFormat=="12"?r.pop():null,a=r.pop();t=this.parseDate(r.join(" "),o),this.populateTime(t,a,s)}else t=this.parseDate(e,o)}return t}populateTime(e,t,r){if(this.hourFormat=="12"&&!r)throw"Invalid Time";this.pm=r==="PM"||r==="pm";let o=this.parseTime(t);e.setHours(o.hour),e.setMinutes(o.minute),e.setSeconds(o.second)}isValidDate(e){return fe.isDate(e)&&fe.isNotEmpty(e)}updateUI(){let e=this.value;Array.isArray(e)&&(e=e[1]||e[0]);let t=this.defaultDate&&this.isValidDate(this.defaultDate)&&!this.value?this.defaultDate:e&&this.isValidDate(e)?e:new Date;this.currentMonth=t.getMonth(),this.currentYear=t.getFullYear(),this.createMonths(this.currentMonth,this.currentYear),(this.showTime||this.timeOnly)&&(this.setCurrentHourPM(t.getHours()),this.currentMinute=t.getMinutes(),this.currentSecond=t.getSeconds())}showOverlay(){this.overlayVisible||(this.updateUI(),this.touchUI||(this.preventFocus=!0),this.overlayVisible=!0)}hideOverlay(){this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,this.clearTimePickerTimer(),this.touchUI&&this.disableModality(),this.cd.markForCheck()}toggle(){this.inline||(this.overlayVisible?this.hideOverlay():(this.showOverlay(),this.inputfieldViewChild?.nativeElement.focus()))}onOverlayAnimationStart(e){switch(e.toState){case"visible":case"visibleTouchUI":this.inline||(this.overlay=e.element,this.overlay?.setAttribute(this.attributeSelector,""),this.appendOverlay(),this.updateFocus(),this.autoZIndex&&(this.touchUI?hi.set("modal",this.overlay,this.baseZIndex||this.config.zIndex.modal):hi.set("overlay",this.overlay,this.baseZIndex||this.config.zIndex.overlay)),this.alignOverlay(),this.onShow.emit(e));break;case"void":this.onOverlayHide(),this.onClose.emit(e);break}}onOverlayAnimationDone(e){switch(e.toState){case"visible":case"visibleTouchUI":this.inline||(this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener());break;case"void":this.autoZIndex&&hi.clear(e.element);break}}appendOverlay(){this.appendTo&&(this.appendTo==="body"?this.document.body.appendChild(this.overlay):M.appendChild(this.overlay,this.appendTo))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}alignOverlay(){this.touchUI?this.enableModality(this.overlay):this.overlay&&(this.appendTo?(this.view==="date"?(this.overlay.style.width||(this.overlay.style.width=M.getOuterWidth(this.overlay)+"px"),this.overlay.style.minWidth||(this.overlay.style.minWidth=M.getOuterWidth(this.inputfieldViewChild?.nativeElement)+"px")):this.overlay.style.width||(this.overlay.style.width=M.getOuterWidth(this.inputfieldViewChild?.nativeElement)+"px"),M.absolutePosition(this.overlay,this.inputfieldViewChild?.nativeElement)):M.relativePosition(this.overlay,this.inputfieldViewChild?.nativeElement))}enableModality(e){!this.mask&&this.touchUI&&(this.mask=this.renderer.createElement("div"),this.renderer.setStyle(this.mask,"zIndex",String(parseInt(e.style.zIndex)-1)),M.addMultipleClasses(this.mask,"p-component-overlay p-datepicker-mask p-datepicker-mask-scrollblocker p-component-overlay p-component-overlay-enter"),this.maskClickListener=this.renderer.listen(this.mask,"click",r=>{this.disableModality(),this.overlayVisible=!1}),this.renderer.appendChild(this.document.body,this.mask),M.blockBodyScroll())}disableModality(){this.mask&&(M.addClass(this.mask,"p-component-overlay-leave"),this.animationEndListener||(this.animationEndListener=this.renderer.listen(this.mask,"animationend",this.destroyMask.bind(this))))}destroyMask(){if(!this.mask)return;this.renderer.removeChild(this.document.body,this.mask);let e=this.document.body.children,t;for(let r=0;r<e.length;r++){let o=e[r];if(M.hasClass(o,"p-datepicker-mask-scrollblocker")){t=!0;break}}t||M.unblockBodyScroll(),this.unbindAnimationEndListener(),this.unbindMaskClickListener(),this.mask=null}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}unbindAnimationEndListener(){this.animationEndListener&&this.mask&&(this.animationEndListener(),this.animationEndListener=null)}writeValue(e){if(this.value=e,this.value&&typeof this.value=="string")try{this.value=this.parseValueFromString(this.value)}catch{this.keepInvalid&&(this.value=e)}this.updateInputfield(),this.updateUI(),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}getDateFormat(){return this.dateFormat||this.getTranslation("dateFormat")}getFirstDateOfWeek(){return this._firstDayOfWeek||this.getTranslation(bi.FIRST_DAY_OF_WEEK)}formatDate(e,t){if(!e)return"";let r,o=d=>{let p=r+1<t.length&&t.charAt(r+1)===d;return p&&r++,p},s=(d,p,g)=>{let C=""+p;if(o(d))for(;C.length<g;)C="0"+C;return C},a=(d,p,g,C)=>o(d)?C[p]:g[p],l="",c=!1;if(e)for(r=0;r<t.length;r++)if(c)t.charAt(r)==="'"&&!o("'")?c=!1:l+=t.charAt(r);else switch(t.charAt(r)){case"d":l+=s("d",e.getDate(),2);break;case"D":l+=a("D",e.getDay(),this.getTranslation(bi.DAY_NAMES_SHORT),this.getTranslation(bi.DAY_NAMES));break;case"o":l+=s("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":l+=s("m",e.getMonth()+1,2);break;case"M":l+=a("M",e.getMonth(),this.getTranslation(bi.MONTH_NAMES_SHORT),this.getTranslation(bi.MONTH_NAMES));break;case"y":l+=o("y")?e.getFullYear():(e.getFullYear()%100<10?"0":"")+e.getFullYear()%100;break;case"@":l+=e.getTime();break;case"!":l+=e.getTime()*1e4+this.ticksTo1970;break;case"'":o("'")?l+="'":c=!0;break;default:l+=t.charAt(r)}return l}formatTime(e){if(!e)return"";let t="",r=e.getHours(),o=e.getMinutes(),s=e.getSeconds();return this.hourFormat=="12"&&r>11&&r!=12&&(r-=12),this.hourFormat=="12"?t+=r===0?12:r<10?"0"+r:r:t+=r<10?"0"+r:r,t+=":",t+=o<10?"0"+o:o,this.showSeconds&&(t+=":",t+=s<10?"0"+s:s),this.hourFormat=="12"&&(t+=e.getHours()>11?" PM":" AM"),t}parseTime(e){let t=e.split(":"),r=this.showSeconds?3:2;if(t.length!==r)throw"Invalid time";let o=parseInt(t[0]),s=parseInt(t[1]),a=this.showSeconds?parseInt(t[2]):null;if(isNaN(o)||isNaN(s)||o>23||s>59||this.hourFormat=="12"&&o>12||this.showSeconds&&(isNaN(a)||a>59))throw"Invalid time";return this.hourFormat=="12"&&(o!==12&&this.pm?o+=12:!this.pm&&o===12&&(o-=12)),{hour:o,minute:s,second:a}}parseDate(e,t){if(t==null||e==null)throw"Invalid arguments";if(e=typeof e=="object"?e.toString():e+"",e==="")return null;let r,o,s,a=0,l=typeof this.shortYearCutoff!="string"?this.shortYearCutoff:new Date().getFullYear()%100+parseInt(this.shortYearCutoff,10),c=-1,d=-1,p=-1,g=-1,C=!1,y,v=F=>{let G=r+1<t.length&&t.charAt(r+1)===F;return G&&r++,G},w=F=>{let G=v(F),z=F==="@"?14:F==="!"?20:F==="y"&&G?4:F==="o"?3:2,X=F==="y"?z:1,ne=new RegExp("^\\d{"+X+","+z+"}"),Y=e.substring(a).match(ne);if(!Y)throw"Missing number at position "+a;return a+=Y[0].length,parseInt(Y[0],10)},E=(F,G,z)=>{let X=-1,ne=v(F)?z:G,Y=[];for(let se=0;se<ne.length;se++)Y.push([se,ne[se]]);Y.sort((se,ye)=>-(se[1].length-ye[1].length));for(let se=0;se<Y.length;se++){let ye=Y[se][1];if(e.substr(a,ye.length).toLowerCase()===ye.toLowerCase()){X=Y[se][0],a+=ye.length;break}}if(X!==-1)return X+1;throw"Unknown name at position "+a},T=()=>{if(e.charAt(a)!==t.charAt(r))throw"Unexpected literal at position "+a;a++};for(this.view==="month"&&(p=1),r=0;r<t.length;r++)if(C)t.charAt(r)==="'"&&!v("'")?C=!1:T();else switch(t.charAt(r)){case"d":p=w("d");break;case"D":E("D",this.getTranslation(bi.DAY_NAMES_SHORT),this.getTranslation(bi.DAY_NAMES));break;case"o":g=w("o");break;case"m":d=w("m");break;case"M":d=E("M",this.getTranslation(bi.MONTH_NAMES_SHORT),this.getTranslation(bi.MONTH_NAMES));break;case"y":c=w("y");break;case"@":y=new Date(w("@")),c=y.getFullYear(),d=y.getMonth()+1,p=y.getDate();break;case"!":y=new Date((w("!")-this.ticksTo1970)/1e4),c=y.getFullYear(),d=y.getMonth()+1,p=y.getDate();break;case"'":v("'")?T():C=!0;break;default:T()}if(a<e.length&&(s=e.substr(a),!/^\s+/.test(s)))throw"Extra/unparsed characters found in date: "+s;if(c===-1?c=new Date().getFullYear():c<100&&(c+=new Date().getFullYear()-new Date().getFullYear()%100+(c<=l?0:-100)),g>-1){d=1,p=g;do{if(o=this.getDaysCountInMonth(c,d-1),p<=o)break;d++,p-=o}while(!0)}if(this.view==="year"&&(d=d===-1?1:d,p=p===-1?1:p),y=this.daylightSavingAdjust(new Date(c,d-1,p)),y.getFullYear()!==c||y.getMonth()+1!==d||y.getDate()!==p)throw"Invalid date";return y}daylightSavingAdjust(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null}updateFilledState(){this.filled=this.inputFieldValue&&this.inputFieldValue!=""}isValidDateForTimeConstraints(e){return this.keepInvalid?!0:(!this.minDate||e>=this.minDate)&&(!this.maxDate||e<=this.maxDate)}onTodayButtonClick(e){let t=new Date,r={day:t.getDate(),month:t.getMonth(),year:t.getFullYear(),otherMonth:t.getMonth()!==this.currentMonth||t.getFullYear()!==this.currentYear,today:!0,selectable:!0};this.createMonths(t.getMonth(),t.getFullYear()),this.onDateSelect(e,r),this.onTodayClick.emit(t)}onClearButtonClick(e){this.updateModel(null),this.updateInputfield(),this.hideOverlay(),this.onClearClick.emit(e)}createResponsiveStyle(){if(this.numberOfMonths>1&&this.responsiveOptions){this.responsiveStyleElement||(this.responsiveStyleElement=this.renderer.createElement("style"),this.responsiveStyleElement.type="text/css",M.setAttribute(this.responsiveStyleElement,"nonce",this.config?.csp()?.nonce),this.renderer.appendChild(this.document.body,this.responsiveStyleElement));let e="";if(this.responsiveOptions){let t=[...this.responsiveOptions].filter(r=>!!(r.breakpoint&&r.numMonths)).sort((r,o)=>-1*r.breakpoint.localeCompare(o.breakpoint,void 0,{numeric:!0}));for(let r=0;r<t.length;r++){let{breakpoint:o,numMonths:s}=t[r],a=`
                        .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${s}) .p-datepicker-next {
                            display: inline-flex !important;
                        }
                    `;for(let l=s;l<this.numberOfMonths;l++)a+=`
                            .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${l+1}) {
                                display: none !important;
                            }
                        `;e+=`
                        @media screen and (max-width: ${o}) {
                            ${a}
                        }
                    `}}this.responsiveStyleElement.innerHTML=e}}destroyResponsiveStyleElement(){this.responsiveStyleElement&&(this.responsiveStyleElement.remove(),this.responsiveStyleElement=null)}bindDocumentClickListener(){this.documentClickListener||this.zone.runOutsideAngular(()=>{let e=this.el?this.el.nativeElement.ownerDocument:this.document;this.documentClickListener=this.renderer.listen(e,"mousedown",t=>{this.isOutsideClicked(t)&&this.overlayVisible&&this.zone.run(()=>{this.hideOverlay(),this.onClickOutside.emit(t),this.cd.markForCheck()})})})}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){!this.documentResizeListener&&!this.touchUI&&(this.documentResizeListener=this.renderer.listen(this.window,"resize",this.onWindowResize.bind(this)))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new Zr(this.containerViewChild?.nativeElement,()=>{this.overlayVisible&&this.hideOverlay()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}isOutsideClicked(e){return!(this.el.nativeElement.isSameNode(e.target)||this.isNavIconClicked(e)||this.el.nativeElement.contains(e.target)||this.overlay&&this.overlay.contains(e.target))}isNavIconClicked(e){return M.hasClass(e.target,"p-datepicker-prev")||M.hasClass(e.target,"p-datepicker-prev-icon")||M.hasClass(e.target,"p-datepicker-next")||M.hasClass(e.target,"p-datepicker-next-icon")}onWindowResize(){this.overlayVisible&&!M.isTouchDevice()&&this.hideOverlay()}onOverlayHide(){this.currentView=this.view,this.mask&&this.destroyMask(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.overlay&&this.autoZIndex&&hi.clear(this.overlay),this.destroyResponsiveStyleElement(),this.clearTimePickerTimer(),this.restoreOverlayAppend(),this.onOverlayHide()}static \u0275fac=function(t){return new(t||i)(b(_t),b(ze),b(Ft),b(Ie),b(xt),b(Vt),b(Ao))};static \u0275cmp=ie({type:i,selectors:[["p-calendar"]],contentQueries:function(t,r,o){if(t&1&&ot(o,be,4),t&2){let s;ee(s=te())&&(r.templates=s)}},viewQuery:function(t,r){if(t&1&&(de(lse,5),de(cse,5),de(dse,5)),t&2){let o;ee(o=te())&&(r.containerViewChild=o.first),ee(o=te())&&(r.inputfieldViewChild=o.first),ee(o=te())&&(r.content=o.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(t,r){t&2&&yn("p-inputwrapper-filled",r.filled)("p-inputwrapper-focus",r.focus)("p-calendar-clearable",r.showClear&&!r.disabled)},inputs:{iconDisplay:"iconDisplay",style:"style",styleClass:"styleClass",inputStyle:"inputStyle",inputId:"inputId",name:"name",inputStyleClass:"inputStyleClass",placeholder:"placeholder",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",iconAriaLabel:"iconAriaLabel",disabled:[2,"disabled","disabled",K],dateFormat:"dateFormat",multipleSeparator:"multipleSeparator",rangeSeparator:"rangeSeparator",inline:[2,"inline","inline",K],showOtherMonths:[2,"showOtherMonths","showOtherMonths",K],selectOtherMonths:[2,"selectOtherMonths","selectOtherMonths",K],showIcon:[2,"showIcon","showIcon",K],icon:"icon",appendTo:"appendTo",readonlyInput:[2,"readonlyInput","readonlyInput",K],shortYearCutoff:"shortYearCutoff",monthNavigator:[2,"monthNavigator","monthNavigator",K],yearNavigator:[2,"yearNavigator","yearNavigator",K],hourFormat:"hourFormat",timeOnly:[2,"timeOnly","timeOnly",K],stepYearPicker:[2,"stepYearPicker","stepYearPicker",ke],stepHour:[2,"stepHour","stepHour",ke],stepMinute:[2,"stepMinute","stepMinute",ke],stepSecond:[2,"stepSecond","stepSecond",ke],showSeconds:[2,"showSeconds","showSeconds",K],required:[2,"required","required",K],showOnFocus:[2,"showOnFocus","showOnFocus",K],showWeek:[2,"showWeek","showWeek",K],startWeekFromFirstDayOfYear:"startWeekFromFirstDayOfYear",showClear:[2,"showClear","showClear",K],dataType:"dataType",selectionMode:"selectionMode",maxDateCount:[2,"maxDateCount","maxDateCount",ke],showButtonBar:[2,"showButtonBar","showButtonBar",K],todayButtonStyleClass:"todayButtonStyleClass",clearButtonStyleClass:"clearButtonStyleClass",autofocus:[2,"autofocus","autofocus",K],autoZIndex:[2,"autoZIndex","autoZIndex",K],baseZIndex:[2,"baseZIndex","baseZIndex",ke],panelStyleClass:"panelStyleClass",panelStyle:"panelStyle",keepInvalid:[2,"keepInvalid","keepInvalid",K],hideOnDateTimeSelect:[2,"hideOnDateTimeSelect","hideOnDateTimeSelect",K],touchUI:[2,"touchUI","touchUI",K],timeSeparator:"timeSeparator",focusTrap:[2,"focusTrap","focusTrap",K],showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",tabindex:[2,"tabindex","tabindex",ke],variant:"variant",minDate:"minDate",maxDate:"maxDate",disabledDates:"disabledDates",disabledDays:"disabledDays",yearRange:"yearRange",showTime:"showTime",responsiveOptions:"responsiveOptions",numberOfMonths:"numberOfMonths",firstDayOfWeek:"firstDayOfWeek",locale:"locale",view:"view",defaultDate:"defaultDate"},outputs:{onFocus:"onFocus",onBlur:"onBlur",onClose:"onClose",onSelect:"onSelect",onClear:"onClear",onInput:"onInput",onTodayClick:"onTodayClick",onClearClick:"onClearClick",onMonthChange:"onMonthChange",onYearChange:"onYearChange",onClickOutside:"onClickOutside",onShow:"onShow"},features:[Ze([Qae]),qe],ngContentSelectors:pse,decls:4,vars:12,consts:[["container",""],["inputfield",""],["contentWrapper",""],[3,"ngClass","ngStyle"],[3,"ngIf"],[3,"class","ngStyle","ngClass","click",4,"ngIf"],["type","text","role","combobox","aria-autocomplete","none","aria-haspopup","dialog","autocomplete","off","pAutoFocus","",3,"focus","keydown","click","blur","input","value","readonly","ngStyle","placeholder","disabled","ngClass","autofocus"],[4,"ngIf"],["type","button","aria-haspopup","dialog","pButton","","pRipple","","class","p-datepicker-trigger p-button-icon-only","tabindex","0",3,"disabled","click",4,"ngIf"],[3,"styleClass","click",4,"ngIf"],["class","p-calendar-clear-icon",3,"click",4,"ngIf"],[3,"click","styleClass"],[1,"p-calendar-clear-icon",3,"click"],[4,"ngTemplateOutlet"],["type","button","aria-haspopup","dialog","pButton","","pRipple","","tabindex","0",1,"p-datepicker-trigger","p-button-icon-only",3,"click","disabled"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[3,"ngClass","click",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"click","ngClass"],[3,"click","ngStyle","ngClass"],["class","p-timepicker",4,"ngIf"],["class","p-datepicker-buttonbar",4,"ngIf"],[1,"p-datepicker-group-container"],["class","p-datepicker-group",4,"ngFor","ngForOf"],["class","p-monthpicker",4,"ngIf"],["class","p-yearpicker",4,"ngIf"],[1,"p-datepicker-group"],[1,"p-datepicker-header"],["class","p-datepicker-prev p-link","type","button","pRipple","",3,"keydown","click",4,"ngIf"],[1,"p-datepicker-title"],["type","button","class","p-datepicker-month p-link",3,"disabled","click","keydown",4,"ngIf"],["type","button","class","p-datepicker-year p-link",3,"disabled","click","keydown",4,"ngIf"],["class","p-datepicker-decade",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-next","p-link",3,"keydown","click"],[3,"styleClass",4,"ngIf"],["class","p-datepicker-next-icon",4,"ngIf"],["class","p-datepicker-calendar-container",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-prev","p-link",3,"keydown","click"],["class","p-datepicker-prev-icon",4,"ngIf"],[3,"styleClass"],[1,"p-datepicker-prev-icon"],["type","button",1,"p-datepicker-month","p-link",3,"click","keydown","disabled"],["type","button",1,"p-datepicker-year","p-link",3,"click","keydown","disabled"],[1,"p-datepicker-decade"],[1,"p-datepicker-next-icon"],[1,"p-datepicker-calendar-container"],["role","grid",1,"p-datepicker-calendar"],["class","p-datepicker-weekheader p-disabled",4,"ngIf"],["scope","col",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"p-datepicker-weekheader","p-disabled"],["scope","col"],["class","p-datepicker-weeknumber",4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"p-datepicker-weeknumber"],[1,"p-disabled"],["draggable","false","pRipple","",3,"click","keydown","ngClass"],["class","p-hidden-accessible","aria-live","polite",4,"ngIf"],["aria-live","polite",1,"p-hidden-accessible"],[1,"p-monthpicker"],["class","p-monthpicker-month","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-monthpicker-month",3,"click","keydown","ngClass"],[1,"p-yearpicker"],["class","p-yearpicker-year","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-yearpicker-year",3,"click","keydown","ngClass"],[1,"p-timepicker"],[1,"p-hour-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","keydown.enter","keydown.space","mousedown","mouseup","keyup.enter","keyup.space","mouseleave"],[1,"p-separator"],[1,"p-minute-picker"],["class","p-separator",4,"ngIf"],["class","p-second-picker",4,"ngIf"],["class","p-ampm-picker",4,"ngIf"],[1,"p-second-picker"],[1,"p-ampm-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","click","keydown.enter"],[1,"p-datepicker-buttonbar"],["type","button","pButton","","pRipple","",3,"keydown","click","label","ngClass"]],template:function(t,r){t&1&&(Fi(use),m(0,"span",3,0),I(2,Lse,5,22,"ng-template",4)(3,Xae,9,32,"div",5),_()),t&2&&(le(r.styleClass),h("ngClass",zl(6,hse,r.showIcon&&r.iconDisplay==="input",r.showIcon&&r.iconDisplay==="button",r.timeOnly,r.disabled,r.focus||r.overlayVisible))("ngStyle",r.style),u(2),h("ngIf",!r.inline),u(),h("ngIf",r.inline||r.overlayVisible))},dependencies:()=>[Ge,tn,et,st,Ee,mt,qi,yf,Fa,VT,To,Li,BT,Mn],styles:[`@layer primeng{.p-calendar{position:relative;display:inline-flex;max-width:100%}.p-calendar .p-inputtext{flex:1 1 auto;width:1%;text-overflow:ellipsis}.p-calendar-w-btn .p-inputtext{border-top-right-radius:0;border-bottom-right-radius:0}.p-calendar-w-btn .p-datepicker-trigger{border-top-left-radius:0;border-bottom-left-radius:0}.p-fluid .p-calendar{display:flex}.p-fluid .p-calendar .p-inputtext{width:1%}.p-calendar .p-datepicker{min-width:100%}.p-datepicker{width:auto;position:absolute;top:0;left:0}.p-datepicker-inline{display:inline-block;position:static;overflow-x:auto}.p-datepicker-header{display:flex;align-items:center;justify-content:space-between}.p-datepicker-header .p-datepicker-title{margin:0 auto}.p-datepicker-prev,.p-datepicker-next{cursor:pointer;display:inline-flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-datepicker-multiple-month .p-datepicker-group-container .p-datepicker-group{flex:1 1 auto}.p-datepicker-multiple-month .p-datepicker-group-container{display:flex}.p-datepicker table{width:100%;border-collapse:collapse}.p-datepicker td>span{display:flex;justify-content:center;align-items:center;cursor:pointer;margin:0 auto;overflow:hidden;position:relative}.p-monthpicker-month{width:33.3%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-datepicker-buttonbar{display:flex;justify-content:space-between;align-items:center}.p-timepicker{display:flex;justify-content:center;align-items:center}.p-timepicker button{display:flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-timepicker>div{display:flex;align-items:center;flex-direction:column}.p-datepicker-touch-ui,.p-calendar .p-datepicker-touch-ui{position:fixed;top:50%;left:50%;min-width:80vw;transform:translate(-50%,-50%)}.p-yearpicker-year{width:50%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-calendar-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-datepicker-icon{pointer-events:none}.p-calendar-clearable{position:relative}}
`],encapsulation:2,data:{animation:[hn("overlayAnimation",[Lr("visibleTouchUI",jt({transform:"translate(-50%,-50%)",opacity:1})),Xt("void => visible",[jt({opacity:0,transform:"scaleY(0.8)"}),Jt("{{showTransitionParams}}",jt({opacity:1,transform:"*"}))]),Xt("visible => void",[Jt("{{hideTransitionParams}}",jt({opacity:0}))]),Xt("void => visibleTouchUI",[jt({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}),Jt("{{showTransitionParams}}")]),Xt("visibleTouchUI => void",[Jt("{{hideTransitionParams}}",jt({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}))])])]},changeDetection:0})}return i})(),l_=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=Oe({type:i});static \u0275inj=Te({imports:[Ye,Gr,nt,Qi,yf,Fa,VT,To,Li,BT,Qn,Gr,nt]})}return i})();var vf=(()=>{class i extends St{pathId;ngOnInit(){this.pathId="url(#"+yt()+")"}static \u0275fac=(()=>{let e;return function(r){return(e||(e=tt(i)))(r||i)}})();static \u0275cmp=ie({type:i,selectors:[["ArrowDownIcon"]],standalone:!0,features:[ve,lt],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M6.99994 14C6.91097 14.0004 6.82281 13.983 6.74064 13.9489C6.65843 13.9148 6.58387 13.8646 6.52133 13.8013L1.10198 8.38193C0.982318 8.25351 0.917175 8.08367 0.920272 7.90817C0.923368 7.73267 0.994462 7.56523 1.11858 7.44111C1.24269 7.317 1.41014 7.2459 1.58563 7.2428C1.76113 7.23971 1.93098 7.30485 2.0594 7.42451L6.32263 11.6877V0.677419C6.32263 0.497756 6.394 0.325452 6.52104 0.198411C6.64808 0.0713706 6.82039 0 7.00005 0C7.17971 0 7.35202 0.0713706 7.47906 0.198411C7.6061 0.325452 7.67747 0.497756 7.67747 0.677419V11.6877L11.9407 7.42451C12.0691 7.30485 12.2389 7.23971 12.4144 7.2428C12.5899 7.2459 12.7574 7.317 12.8815 7.44111C13.0056 7.56523 13.0767 7.73267 13.0798 7.90817C13.0829 8.08367 13.0178 8.25351 12.8981 8.38193L7.47875 13.8013C7.41621 13.8646 7.34164 13.9148 7.25944 13.9489C7.17727 13.983 7.08912 14.0004 7.00015 14C7.00012 14 7.00009 14 7.00005 14C7.00001 14 6.99998 14 6.99994 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,r){t&1&&(It(),m(0,"svg",0)(1,"g"),O(2,"path",1),_(),m(3,"defs")(4,"clipPath",2),O(5,"rect",3),_()()()),t&2&&(le(r.getClassNames()),V("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),u(),V("clip-path",r.pathId),u(3),h("id",r.pathId))},encapsulation:2})}return i})();var bf=(()=>{class i extends St{pathId;ngOnInit(){this.pathId="url(#"+yt()+")"}static \u0275fac=(()=>{let e;return function(r){return(e||(e=tt(i)))(r||i)}})();static \u0275cmp=ie({type:i,selectors:[["ArrowUpIcon"]],standalone:!0,features:[ve,lt],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M6.51551 13.799C6.64205 13.9255 6.813 13.9977 6.99193 14C7.17087 13.9977 7.34182 13.9255 7.46835 13.799C7.59489 13.6725 7.66701 13.5015 7.66935 13.3226V2.31233L11.9326 6.57554C11.9951 6.63887 12.0697 6.68907 12.1519 6.72319C12.2341 6.75731 12.3223 6.77467 12.4113 6.77425C12.5003 6.77467 12.5885 6.75731 12.6707 6.72319C12.7529 6.68907 12.8274 6.63887 12.89 6.57554C13.0168 6.44853 13.0881 6.27635 13.0881 6.09683C13.0881 5.91732 13.0168 5.74514 12.89 5.61812L7.48846 0.216594C7.48274 0.210436 7.4769 0.204374 7.47094 0.198411C7.3439 0.0713707 7.1716 0 6.99193 0C6.81227 0 6.63997 0.0713707 6.51293 0.198411C6.50704 0.204296 6.50128 0.210278 6.49563 0.216354L1.09386 5.61812C0.974201 5.74654 0.909057 5.91639 0.912154 6.09189C0.91525 6.26738 0.986345 6.43483 1.11046 6.55894C1.23457 6.68306 1.40202 6.75415 1.57752 6.75725C1.75302 6.76035 1.92286 6.6952 2.05128 6.57554L6.31451 2.31231V13.3226C6.31685 13.5015 6.38898 13.6725 6.51551 13.799Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,r){t&1&&(It(),m(0,"svg",0)(1,"g"),O(2,"path",1),_(),m(3,"defs")(4,"clipPath",2),O(5,"rect",3),_()()()),t&2&&(le(r.getClassNames()),V("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),u(),V("clip-path",r.pathId),u(3),h("id",r.pathId))},encapsulation:2})}return i})();var o5=(()=>{class i extends St{pathId;ngOnInit(){this.pathId="url(#"+yt()+")"}static \u0275fac=(()=>{let e;return function(r){return(e||(e=tt(i)))(r||i)}})();static \u0275cmp=ie({type:i,selectors:[["FilterIcon"]],standalone:!0,features:[ve,lt],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.64708 14H5.35296C5.18981 13.9979 5.03395 13.9321 4.91858 13.8167C4.8032 13.7014 4.73745 13.5455 4.73531 13.3824V7L0.329431 0.98C0.259794 0.889466 0.217389 0.780968 0.20718 0.667208C0.19697 0.553448 0.219379 0.439133 0.271783 0.337647C0.324282 0.236453 0.403423 0.151519 0.500663 0.0920138C0.597903 0.0325088 0.709548 0.000692754 0.823548 0H13.1765C13.2905 0.000692754 13.4021 0.0325088 13.4994 0.0920138C13.5966 0.151519 13.6758 0.236453 13.7283 0.337647C13.7807 0.439133 13.8031 0.553448 13.7929 0.667208C13.7826 0.780968 13.7402 0.889466 13.6706 0.98L9.26472 7V13.3824C9.26259 13.5455 9.19683 13.7014 9.08146 13.8167C8.96609 13.9321 8.81022 13.9979 8.64708 14ZM5.97061 12.7647H8.02943V6.79412C8.02878 6.66289 8.07229 6.53527 8.15296 6.43177L11.9412 1.23529H2.05884L5.86355 6.43177C5.94422 6.53527 5.98773 6.66289 5.98708 6.79412L5.97061 12.7647Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,r){t&1&&(It(),m(0,"svg",0)(1,"g"),O(2,"path",1),_(),m(3,"defs")(4,"clipPath",2),O(5,"rect",3),_()()()),t&2&&(le(r.getClassNames()),V("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),u(),V("clip-path",r.pathId),u(3),h("id",r.pathId))},encapsulation:2})}return i})();var s5=(()=>{class i extends St{pathId;ngOnInit(){this.pathId="url(#"+yt()+")"}static \u0275fac=(()=>{let e;return function(r){return(e||(e=tt(i)))(r||i)}})();static \u0275cmp=ie({type:i,selectors:[["FilterSlashIcon"]],standalone:!0,features:[ve,lt],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M13.4994 0.0920138C13.5967 0.151519 13.6758 0.236453 13.7283 0.337647C13.7807 0.439133 13.8031 0.553448 13.7929 0.667208C13.7827 0.780968 13.7403 0.889466 13.6707 0.98L11.406 4.06823C11.3099 4.19928 11.1656 4.28679 11.005 4.3115C10.8444 4.33621 10.6805 4.2961 10.5495 4.2C10.4184 4.1039 10.3309 3.95967 10.3062 3.79905C10.2815 3.63843 10.3216 3.47458 10.4177 3.34353L11.9412 1.23529H7.41184C7.24803 1.23529 7.09093 1.17022 6.97509 1.05439C6.85926 0.938558 6.79419 0.781457 6.79419 0.617647C6.79419 0.453837 6.85926 0.296736 6.97509 0.180905C7.09093 0.0650733 7.24803 0 7.41184 0H13.1765C13.2905 0.000692754 13.4022 0.0325088 13.4994 0.0920138ZM4.20008 0.181168H4.24126L13.2013 9.03411C13.3169 9.14992 13.3819 9.3069 13.3819 9.47058C13.3819 9.63426 13.3169 9.79124 13.2013 9.90705C13.1445 9.96517 13.0766 10.0112 13.0016 10.0423C12.9266 10.0735 12.846 10.0891 12.7648 10.0882C12.6836 10.0886 12.6032 10.0728 12.5283 10.0417C12.4533 10.0106 12.3853 9.96479 12.3283 9.90705L9.3142 6.92587L9.26479 6.99999V13.3823C9.26265 13.5455 9.19689 13.7014 9.08152 13.8167C8.96615 13.9321 8.81029 13.9979 8.64714 14H5.35302C5.18987 13.9979 5.03401 13.9321 4.91864 13.8167C4.80327 13.7014 4.73751 13.5455 4.73537 13.3823V6.99999L0.329492 1.02117C0.259855 0.930634 0.21745 0.822137 0.207241 0.708376C0.197031 0.594616 0.21944 0.480301 0.271844 0.378815C0.324343 0.277621 0.403484 0.192687 0.500724 0.133182C0.597964 0.073677 0.709609 0.041861 0.823609 0.0411682H3.86243C3.92448 0.0461551 3.9855 0.060022 4.04361 0.0823446C4.10037 0.10735 4.15311 0.140655 4.20008 0.181168ZM8.02949 6.79411C8.02884 6.66289 8.07235 6.53526 8.15302 6.43176L8.42478 6.05293L3.55773 1.23529H2.0589L5.84714 6.43176C5.92781 6.53526 5.97132 6.66289 5.97067 6.79411V12.7647H8.02949V6.79411Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,r){t&1&&(It(),m(0,"svg",0)(1,"g"),O(2,"path",1),_(),m(3,"defs")(4,"clipPath",2),O(5,"rect",3),_()()()),t&2&&(le(r.getClassNames()),V("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),u(),V("clip-path",r.pathId),u(3),h("id",r.pathId))},encapsulation:2})}return i})();var Ps=(()=>{class i extends St{pathId;ngOnInit(){this.pathId="url(#"+yt()+")"}static \u0275fac=(()=>{let e;return function(r){return(e||(e=tt(i)))(r||i)}})();static \u0275cmp=ie({type:i,selectors:[["PlusIcon"]],standalone:!0,features:[ve,lt],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7.67742 6.32258V0.677419C7.67742 0.497757 7.60605 0.325452 7.47901 0.198411C7.35197 0.0713707 7.17966 0 7 0C6.82034 0 6.64803 0.0713707 6.52099 0.198411C6.39395 0.325452 6.32258 0.497757 6.32258 0.677419V6.32258H0.677419C0.497757 6.32258 0.325452 6.39395 0.198411 6.52099C0.0713707 6.64803 0 6.82034 0 7C0 7.17966 0.0713707 7.35197 0.198411 7.47901C0.325452 7.60605 0.497757 7.67742 0.677419 7.67742H6.32258V13.3226C6.32492 13.5015 6.39704 13.6725 6.52358 13.799C6.65012 13.9255 6.82106 13.9977 7 14C7.17966 14 7.35197 13.9286 7.47901 13.8016C7.60605 13.6745 7.67742 13.5022 7.67742 13.3226V7.67742H13.3226C13.5022 7.67742 13.6745 7.60605 13.8016 7.47901C13.9286 7.35197 14 7.17966 14 7C13.9977 6.82106 13.9255 6.65012 13.799 6.52358C13.6725 6.39704 13.5015 6.32492 13.3226 6.32258H7.67742Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,r){t&1&&(It(),m(0,"svg",0)(1,"g"),O(2,"path",1),_(),m(3,"defs")(4,"clipPath",2),O(5,"rect",3),_()()()),t&2&&(le(r.getClassNames()),V("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),u(),V("clip-path",r.pathId),u(3),h("id",r.pathId))},encapsulation:2})}return i})();var c_=(()=>{class i extends St{pathId;ngOnInit(){this.pathId="url(#"+yt()+")"}static \u0275fac=(()=>{let e;return function(r){return(e||(e=tt(i)))(r||i)}})();static \u0275cmp=ie({type:i,selectors:[["SortAltIcon"]],standalone:!0,features:[ve,lt],decls:9,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M5.64515 3.61291C5.47353 3.61291 5.30192 3.54968 5.16644 3.4142L3.38708 1.63484L1.60773 3.4142C1.34579 3.67613 0.912244 3.67613 0.650309 3.4142C0.388374 3.15226 0.388374 2.71871 0.650309 2.45678L2.90837 0.198712C3.17031 -0.0632236 3.60386 -0.0632236 3.86579 0.198712L6.12386 2.45678C6.38579 2.71871 6.38579 3.15226 6.12386 3.4142C5.98837 3.54968 5.81676 3.61291 5.64515 3.61291Z","fill","currentColor"],["d","M3.38714 14C3.01681 14 2.70972 13.6929 2.70972 13.3226V0.677419C2.70972 0.307097 3.01681 0 3.38714 0C3.75746 0 4.06456 0.307097 4.06456 0.677419V13.3226C4.06456 13.6929 3.75746 14 3.38714 14Z","fill","currentColor"],["d","M10.6129 14C10.4413 14 10.2697 13.9368 10.1342 13.8013L7.87611 11.5432C7.61418 11.2813 7.61418 10.8477 7.87611 10.5858C8.13805 10.3239 8.5716 10.3239 8.83353 10.5858L10.6129 12.3652L12.3922 10.5858C12.6542 10.3239 13.0877 10.3239 13.3497 10.5858C13.6116 10.8477 13.6116 11.2813 13.3497 11.5432L11.0916 13.8013C10.9561 13.9368 10.7845 14 10.6129 14Z","fill","currentColor"],["d","M10.6129 14C10.2426 14 9.93552 13.6929 9.93552 13.3226V0.677419C9.93552 0.307097 10.2426 0 10.6129 0C10.9833 0 11.2904 0.307097 11.2904 0.677419V13.3226C11.2904 13.6929 10.9832 14 10.6129 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,r){t&1&&(It(),m(0,"svg",0)(1,"g"),O(2,"path",1)(3,"path",2)(4,"path",3)(5,"path",4),_(),m(6,"defs")(7,"clipPath",5),O(8,"rect",6),_()()()),t&2&&(le(r.getClassNames()),V("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),u(),V("clip-path",r.pathId),u(6),h("id",r.pathId))},encapsulation:2})}return i})();var d_=(()=>{class i extends St{pathId;ngOnInit(){this.pathId="url(#"+yt()+")"}static \u0275fac=(()=>{let e;return function(r){return(e||(e=tt(i)))(r||i)}})();static \u0275cmp=ie({type:i,selectors:[["SortAmountDownIcon"]],standalone:!0,features:[ve,lt],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.93953 10.5858L3.83759 11.6877V0.677419C3.83759 0.307097 3.53049 0 3.16017 0C2.78985 0 2.48275 0.307097 2.48275 0.677419V11.6877L1.38082 10.5858C1.11888 10.3239 0.685331 10.3239 0.423396 10.5858C0.16146 10.8477 0.16146 11.2813 0.423396 11.5432L2.68146 13.8013C2.74469 13.8645 2.81694 13.9097 2.89823 13.9458C2.97952 13.9819 3.06985 14 3.16017 14C3.25049 14 3.33178 13.9819 3.42211 13.9458C3.5034 13.9097 3.57565 13.8645 3.63888 13.8013L5.89694 11.5432C6.15888 11.2813 6.15888 10.8477 5.89694 10.5858C5.63501 10.3239 5.20146 10.3239 4.93953 10.5858ZM13.0957 0H7.22468C6.85436 0 6.54726 0.307097 6.54726 0.677419C6.54726 1.04774 6.85436 1.35484 7.22468 1.35484H13.0957C13.466 1.35484 13.7731 1.04774 13.7731 0.677419C13.7731 0.307097 13.466 0 13.0957 0ZM7.22468 5.41935H9.48275C9.85307 5.41935 10.1602 5.72645 10.1602 6.09677C10.1602 6.4671 9.85307 6.77419 9.48275 6.77419H7.22468C6.85436 6.77419 6.54726 6.4671 6.54726 6.09677C6.54726 5.72645 6.85436 5.41935 7.22468 5.41935ZM7.6763 8.12903H7.22468C6.85436 8.12903 6.54726 8.43613 6.54726 8.80645C6.54726 9.17677 6.85436 9.48387 7.22468 9.48387H7.6763C8.04662 9.48387 8.35372 9.17677 8.35372 8.80645C8.35372 8.43613 8.04662 8.12903 7.6763 8.12903ZM7.22468 2.70968H11.2892C11.6595 2.70968 11.9666 3.01677 11.9666 3.3871C11.9666 3.75742 11.6595 4.06452 11.2892 4.06452H7.22468C6.85436 4.06452 6.54726 3.75742 6.54726 3.3871C6.54726 3.01677 6.85436 2.70968 7.22468 2.70968Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,r){t&1&&(It(),m(0,"svg",0)(1,"g"),O(2,"path",1),_(),m(3,"defs")(4,"clipPath",2),O(5,"rect",3),_()()()),t&2&&(le(r.getClassNames()),V("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),u(),V("clip-path",r.pathId),u(3),h("id",r.pathId))},encapsulation:2})}return i})();var u_=(()=>{class i extends St{pathId;ngOnInit(){this.pathId="url(#"+yt()+")"}static \u0275fac=(()=>{let e;return function(r){return(e||(e=tt(i)))(r||i)}})();static \u0275cmp=ie({type:i,selectors:[["SortAmountUpAltIcon"]],standalone:!0,features:[ve,lt],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M3.63435 0.19871C3.57113 0.135484 3.49887 0.0903226 3.41758 0.0541935C3.255 -0.0180645 3.06532 -0.0180645 2.90274 0.0541935C2.82145 0.0903226 2.74919 0.135484 2.68597 0.19871L0.427901 2.45677C0.165965 2.71871 0.165965 3.15226 0.427901 3.41419C0.689836 3.67613 1.12338 3.67613 1.38532 3.41419L2.48726 2.31226V13.3226C2.48726 13.6929 2.79435 14 3.16467 14C3.535 14 3.84209 13.6929 3.84209 13.3226V2.31226L4.94403 3.41419C5.07951 3.54968 5.25113 3.6129 5.42274 3.6129C5.59435 3.6129 5.76597 3.54968 5.90145 3.41419C6.16338 3.15226 6.16338 2.71871 5.90145 2.45677L3.64338 0.19871H3.63435ZM13.7685 13.3226C13.7685 12.9523 13.4615 12.6452 13.0911 12.6452H7.22016C6.84984 12.6452 6.54274 12.9523 6.54274 13.3226C6.54274 13.6929 6.84984 14 7.22016 14H13.0911C13.4615 14 13.7685 13.6929 13.7685 13.3226ZM7.22016 8.58064C6.84984 8.58064 6.54274 8.27355 6.54274 7.90323C6.54274 7.5329 6.84984 7.22581 7.22016 7.22581H9.47823C9.84855 7.22581 10.1556 7.5329 10.1556 7.90323C10.1556 8.27355 9.84855 8.58064 9.47823 8.58064H7.22016ZM7.22016 5.87097H7.67177C8.0421 5.87097 8.34919 5.56387 8.34919 5.19355C8.34919 4.82323 8.0421 4.51613 7.67177 4.51613H7.22016C6.84984 4.51613 6.54274 4.82323 6.54274 5.19355C6.54274 5.56387 6.84984 5.87097 7.22016 5.87097ZM11.2847 11.2903H7.22016C6.84984 11.2903 6.54274 10.9832 6.54274 10.6129C6.54274 10.2426 6.84984 9.93548 7.22016 9.93548H11.2847C11.655 9.93548 11.9621 10.2426 11.9621 10.6129C11.9621 10.9832 11.655 11.2903 11.2847 11.2903Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,r){t&1&&(It(),m(0,"svg",0)(1,"g"),O(2,"path",1),_(),m(3,"defs")(4,"clipPath",2),O(5,"rect",3),_()()()),t&2&&(le(r.getClassNames()),V("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),u(),V("clip-path",r.pathId),u(3),h("id",r.pathId))},encapsulation:2})}return i})();var a5=(()=>{class i extends St{pathId;ngOnInit(){this.pathId="url(#"+yt()+")"}static \u0275fac=(()=>{let e;return function(r){return(e||(e=tt(i)))(r||i)}})();static \u0275cmp=ie({type:i,selectors:[["TrashIcon"]],standalone:!0,features:[ve,lt],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M3.44802 13.9955H10.552C10.8056 14.0129 11.06 13.9797 11.3006 13.898C11.5412 13.8163 11.7632 13.6877 11.9537 13.5196C12.1442 13.3515 12.2995 13.1473 12.4104 12.9188C12.5213 12.6903 12.5858 12.442 12.6 12.1884V4.36041H13.4C13.5591 4.36041 13.7117 4.29722 13.8243 4.18476C13.9368 4.07229 14 3.91976 14 3.76071C14 3.60166 13.9368 3.44912 13.8243 3.33666C13.7117 3.22419 13.5591 3.16101 13.4 3.16101H12.0537C12.0203 3.1557 11.9863 3.15299 11.952 3.15299C11.9178 3.15299 11.8838 3.1557 11.8503 3.16101H11.2285C11.2421 3.10893 11.2487 3.05513 11.248 3.00106V1.80966C11.2171 1.30262 10.9871 0.828306 10.608 0.48989C10.229 0.151475 9.73159 -0.0236625 9.22402 0.00257442H4.77602C4.27251 -0.0171866 3.78126 0.160868 3.40746 0.498617C3.03365 0.836366 2.807 1.30697 2.77602 1.80966V3.00106C2.77602 3.0556 2.78346 3.10936 2.79776 3.16101H0.6C0.521207 3.16101 0.443185 3.17652 0.37039 3.20666C0.297595 3.2368 0.231451 3.28097 0.175736 3.33666C0.120021 3.39235 0.0758251 3.45846 0.0456722 3.53121C0.0155194 3.60397 0 3.68196 0 3.76071C0 3.83946 0.0155194 3.91744 0.0456722 3.9902C0.0758251 4.06296 0.120021 4.12907 0.175736 4.18476C0.231451 4.24045 0.297595 4.28462 0.37039 4.31476C0.443185 4.3449 0.521207 4.36041 0.6 4.36041H1.40002V12.1884C1.41426 12.442 1.47871 12.6903 1.58965 12.9188C1.7006 13.1473 1.85582 13.3515 2.04633 13.5196C2.23683 13.6877 2.45882 13.8163 2.69944 13.898C2.94005 13.9797 3.1945 14.0129 3.44802 13.9955ZM2.60002 4.36041H11.304V12.1884C11.304 12.5163 10.952 12.7961 10.504 12.7961H3.40002C2.97602 12.7961 2.60002 12.5163 2.60002 12.1884V4.36041ZM3.95429 3.16101C3.96859 3.10936 3.97602 3.0556 3.97602 3.00106V1.80966C3.97602 1.48183 4.33602 1.20197 4.77602 1.20197H9.24802C9.66403 1.20197 10.048 1.48183 10.048 1.80966V3.00106C10.0473 3.05515 10.054 3.10896 10.0678 3.16101H3.95429ZM5.57571 10.997C5.41731 10.995 5.26597 10.9311 5.15395 10.8191C5.04193 10.7071 4.97808 10.5558 4.97601 10.3973V6.77517C4.97601 6.61612 5.0392 6.46359 5.15166 6.35112C5.26413 6.23866 5.41666 6.17548 5.57571 6.17548C5.73476 6.17548 5.8873 6.23866 5.99976 6.35112C6.11223 6.46359 6.17541 6.61612 6.17541 6.77517V10.3894C6.17647 10.4688 6.16174 10.5476 6.13208 10.6213C6.10241 10.695 6.05841 10.762 6.00261 10.8186C5.94682 10.8751 5.88035 10.92 5.80707 10.9506C5.73378 10.9813 5.65514 10.9971 5.57571 10.997ZM7.99968 10.8214C8.11215 10.9339 8.26468 10.997 8.42373 10.997C8.58351 10.9949 8.73604 10.93 8.84828 10.8163C8.96052 10.7025 9.02345 10.5491 9.02343 10.3894V6.77517C9.02343 6.61612 8.96025 6.46359 8.84778 6.35112C8.73532 6.23866 8.58278 6.17548 8.42373 6.17548C8.26468 6.17548 8.11215 6.23866 7.99968 6.35112C7.88722 6.46359 7.82404 6.61612 7.82404 6.77517V10.3973C7.82404 10.5564 7.88722 10.7089 7.99968 10.8214Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,r){t&1&&(It(),m(0,"svg",0)(1,"g"),O(2,"path",1),_(),m(3,"defs")(4,"clipPath",2),O(5,"rect",3),_()()()),t&2&&(le(r.getClassNames()),V("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),u(),V("clip-path",r.pathId),u(3),h("id",r.pathId))},encapsulation:2})}return i})();var Zae=["container"],ele=(i,n,e)=>({"p-highlight":i,"p-disabled":n,"p-button-icon-only":e}),tle=(i,n)=>({$implicit:i,index:n});function ile(i,n){if(i&1&&O(0,"span",8),i&2){let e=f(2).$implicit;le(e.icon),h("ngClass","p-button-icon p-button-icon-left"),V("data-pc-section","icon")}}function nle(i,n){if(i&1&&(pe(0),I(1,ile,1,4,"span",6),m(2,"span",7),D(3),_(),he()),i&2){let e=f().$implicit,t=f();u(),h("ngIf",e.icon),u(),V("data-pc-section","label"),u(),$(t.getOptionLabel(e))}}function rle(i,n){i&1&&ue(0)}function ole(i,n){if(i&1&&I(0,rle,1,0,"ng-container",9),i&2){let e=f(),t=e.$implicit,r=e.index,o=f();h("ngTemplateOutlet",o.selectButtonTemplate)("ngTemplateOutletContext",Je(2,tle,t,r))}}function sle(i,n){if(i&1){let e=B();m(0,"div",4),P("click",function(r){let o=S(e),s=o.$implicit,a=o.index,l=f();return A(l.onOptionSelect(r,s,a))})("keydown",function(r){let o=S(e),s=o.$implicit,a=o.index,l=f();return A(l.onKeyDown(r,s,a))})("focus",function(r){let o=S(e).index,s=f();return A(s.onFocus(r,o))})("blur",function(){S(e);let r=f();return A(r.onBlur())}),I(1,nle,4,3,"ng-container",5)(2,ole,1,5,"ng-template",null,1,Pt),_()}if(i&2){let e=n.$implicit,t=n.index,r=We(3),o=f();le(e.styleClass),h("role",o.multiple?"checkbox":"radio")("ngClass",zi(14,ele,o.isSelected(e),o.disabled||o.isOptionDisabled(e),e.icon&&!o.getOptionLabel(e)))("autofocus",o.autofocus),V("tabindex",t===o.focusedIndex&&!o.disabled?"0":"-1")("aria-label",e.label)("aria-checked",o.isSelected(e))("aria-disabled",o.optionDisabled)("title",e.title)("aria-labelledby",o.getOptionLabel(e))("data-pc-section","button"),u(),h("ngIf",!o.itemTemplate)("ngIfElse",r)}}var ale={provide:nn,useExisting:zt(()=>jT),multi:!0},jT=(()=>{class i{cd;options;optionLabel;optionValue;optionDisabled;unselectable=!1;tabindex=0;multiple;allowEmpty=!0;style;styleClass;ariaLabelledBy;disabled;dataKey;autofocus;onOptionClick=new Q;onChange=new Q;container;itemTemplate;get selectButtonTemplate(){return this.itemTemplate?.template}get equalityKey(){return this.optionValue?null:this.dataKey}value;onModelChange=()=>{};onModelTouched=()=>{};focusedIndex=0;constructor(e){this.cd=e}getOptionLabel(e){return this.optionLabel?fe.resolveFieldData(e,this.optionLabel):e.label!=null?e.label:e}getOptionValue(e){return this.optionValue?fe.resolveFieldData(e,this.optionValue):this.optionLabel||e.value===void 0?e:e.value}isOptionDisabled(e){return this.optionDisabled?fe.resolveFieldData(e,this.optionDisabled):e.disabled!==void 0?e.disabled:!1}writeValue(e){this.value=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onOptionSelect(e,t,r){if(this.disabled||this.isOptionDisabled(t))return;let o=this.isSelected(t);if(o&&this.unselectable)return;let s=this.getOptionValue(t),a;if(this.multiple)o?a=this.value.filter(l=>!fe.equals(l,s,this.equalityKey)):a=this.value?[...this.value,s]:[s];else{if(o&&!this.allowEmpty)return;a=o?null:s}this.focusedIndex=r,this.value=a,this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value}),this.onOptionClick.emit({originalEvent:e,option:t,index:r})}onKeyDown(e,t,r){switch(e.code){case"Space":{this.onOptionSelect(e,t,r),e.preventDefault();break}case"ArrowDown":case"ArrowRight":{this.changeTabIndexes(e,"next"),e.preventDefault();break}case"ArrowUp":case"ArrowLeft":{this.changeTabIndexes(e,"prev"),e.preventDefault();break}default:break}}changeTabIndexes(e,t){let r,o;for(let s=0;s<=this.container.nativeElement.children.length-1;s++)this.container.nativeElement.children[s].getAttribute("tabindex")==="0"&&(r={elem:this.container.nativeElement.children[s],index:s});t==="prev"?r.index===0?o=this.container.nativeElement.children.length-1:o=r.index-1:r.index===this.container.nativeElement.children.length-1?o=0:o=r.index+1,this.focusedIndex=o,this.container.nativeElement.children[o].focus()}onFocus(e,t){this.focusedIndex=t}onBlur(){this.onModelTouched()}removeOption(e){this.value=this.value.filter(t=>!fe.equals(t,this.getOptionValue(e),this.dataKey))}isSelected(e){let t=!1,r=this.getOptionValue(e);if(this.multiple){if(this.value&&Array.isArray(this.value)){for(let o of this.value)if(fe.equals(o,r,this.dataKey)){t=!0;break}}}else t=fe.equals(this.getOptionValue(e),this.value,this.equalityKey);return t}static \u0275fac=function(t){return new(t||i)(b(Ie))};static \u0275cmp=ie({type:i,selectors:[["p-selectButton"]],contentQueries:function(t,r,o){if(t&1&&ot(o,be,5),t&2){let s;ee(s=te())&&(r.itemTemplate=s.first)}},viewQuery:function(t,r){if(t&1&&de(Zae,5),t&2){let o;ee(o=te())&&(r.container=o.first)}},hostAttrs:[1,"p-element"],inputs:{options:"options",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",unselectable:[2,"unselectable","unselectable",K],tabindex:[2,"tabindex","tabindex",ke],multiple:[2,"multiple","multiple",K],allowEmpty:[2,"allowEmpty","allowEmpty",K],style:"style",styleClass:"styleClass",ariaLabelledBy:"ariaLabelledBy",disabled:[2,"disabled","disabled",K],dataKey:"dataKey",autofocus:[2,"autofocus","autofocus",K]},outputs:{onOptionClick:"onOptionClick",onChange:"onChange"},features:[Ze([ale]),qe],decls:3,vars:8,consts:[["container",""],["customcontent",""],["role","group",3,"ngClass","ngStyle"],["pRipple","","class","p-button p-component","pAutoFocus","",3,"role","class","ngClass","autofocus","click","keydown","focus","blur",4,"ngFor","ngForOf"],["pRipple","","pAutoFocus","",1,"p-button","p-component",3,"click","keydown","focus","blur","role","ngClass","autofocus"],[4,"ngIf","ngIfElse"],[3,"ngClass","class",4,"ngIf"],[1,"p-button-label"],[3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,r){t&1&&(m(0,"div",2,0),I(2,sle,4,18,"div",3),_()),t&2&&(le(r.styleClass),h("ngClass","p-selectbutton p-buttonset p-component")("ngStyle",r.style),V("aria-labelledby",r.ariaLabelledBy)("data-pc-name","selectbutton")("data-pc-section","root"),u(2),h("ngForOf",r.options))},dependencies:[Ge,tn,et,st,Ee,qi,Mn],styles:[`@layer primeng{.p-button{margin:0;display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;align-items:center;vertical-align:bottom;text-align:center;overflow:hidden;position:relative}.p-button-label{flex:1 1 auto}.p-button-icon-right{order:1}.p-button:disabled{cursor:default;pointer-events:none}.p-button-icon-only{justify-content:center}.p-button-icon-only:after{content:"p";visibility:hidden;clip:rect(0 0 0 0);width:0}.p-button-vertical{flex-direction:column}.p-button-icon-bottom{order:2}.p-button-group .p-button{margin:0}.p-button-group .p-button:focus,.p-button-group p-button:focus .p-button,.p-buttonset .p-button:focus,.p-buttonset p-button:focus .p-button{position:relative;z-index:1}.p-button-group .p-button:not(:last-child),.p-button-group .p-button:not(:last-child):hover,.p-button-group p-button:not(:last-child) .p-button,.p-button-group p-button:not(:last-child) .p-button:hover,.p-buttonset .p-button:not(:last-child),.p-buttonset .p-button:not(:last-child):hover,.p-buttonset p-button:not(:last-child) .p-button,.p-buttonset p-button:not(:last-child) .p-button:hover{border-right:0 none}.p-button-group .p-button:not(:first-of-type):not(:last-of-type),.p-button-group p-button:not(:first-of-type):not(:last-of-type) .p-button,.p-buttonset .p-button:not(:first-of-type):not(:last-of-type),.p-buttonset p-button:not(:first-of-type):not(:last-of-type) .p-button{border-radius:0}.p-button-group .p-button:first-of-type:not(:only-of-type),.p-button-group p-button:first-of-type:not(:only-of-type) .p-button,.p-buttonset .p-button:first-of-type:not(:only-of-type),.p-buttonset p-button:first-of-type:not(:only-of-type) .p-button{border-top-right-radius:0;border-bottom-right-radius:0}.p-button-group .p-button:last-of-type:not(:only-of-type),.p-button-group p-button:last-of-type:not(:only-of-type) .p-button,.p-buttonset .p-button:last-of-type:not(:only-of-type),.p-buttonset p-button:last-of-type:not(:only-of-type) .p-button{border-top-left-radius:0;border-bottom-left-radius:0}p-button[iconpos=right] spinnericon{order:1}}
`],encapsulation:2,changeDetection:0})}return i})(),p_=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=Oe({type:i});static \u0275inj=Te({imports:[Ye,Qi,nt,Qn,nt]})}return i})();var cle=(i,n,e)=>({"p-checkbox p-component":!0,"p-checkbox-disabled":i,"p-checkbox-focused":n,"p-variant-filled":e}),dle=(i,n,e)=>({"p-highlight":i,"p-disabled":n,"p-focus":e}),ule=(i,n,e)=>({"p-checkbox-label-active":i,"p-disabled":n,"p-checkbox-label-focus":e});function ple(i,n){if(i&1&&O(0,"span",8),i&2){let e=f(2);h("ngClass",e.checkboxTrueIcon),V("data-pc-section","checkIcon")}}function hle(i,n){i&1&&O(0,"CheckIcon",11),i&2&&(h("styleClass","p-checkbox-icon"),V("data-pc-section","checkIcon"))}function fle(i,n){}function mle(i,n){i&1&&I(0,fle,0,0,"ng-template")}function gle(i,n){if(i&1&&(m(0,"span",12),I(1,mle,1,0,null,13),_()),i&2){let e=f(3);V("data-pc-section","checkIcon"),u(),h("ngTemplateOutlet",e.checkIconTemplate)}}function _le(i,n){if(i&1&&(pe(0),I(1,hle,1,2,"CheckIcon",9)(2,gle,2,2,"span",10),he()),i&2){let e=f(2);u(),h("ngIf",!e.checkIconTemplate),u(),h("ngIf",e.checkIconTemplate)}}function Cle(i,n){if(i&1&&(pe(0),I(1,ple,1,2,"span",7)(2,_le,3,2,"ng-container",5),he()),i&2){let e=f();u(),h("ngIf",e.checkboxTrueIcon),u(),h("ngIf",!e.checkboxTrueIcon)}}function yle(i,n){if(i&1&&O(0,"span",8),i&2){let e=f(2);h("ngClass",e.checkboxFalseIcon),V("data-pc-section","uncheckIcon")}}function Ile(i,n){i&1&&O(0,"TimesIcon",11),i&2&&(h("styleClass","p-checkbox-icon"),V("data-pc-section","uncheckIcon"))}function vle(i,n){}function ble(i,n){i&1&&I(0,vle,0,0,"ng-template")}function wle(i,n){if(i&1&&(m(0,"span",12),I(1,ble,1,0,null,13),_()),i&2){let e=f(3);V("data-pc-section","uncheckIcon"),u(),h("ngTemplateOutlet",e.uncheckIconTemplate)}}function Sle(i,n){if(i&1&&(pe(0),I(1,Ile,1,2,"TimesIcon",9)(2,wle,2,2,"span",10),he()),i&2){let e=f(2);u(),h("ngIf",!e.uncheckIconTemplate),u(),h("ngIf",e.uncheckIconTemplate)}}function Ale(i,n){if(i&1&&(pe(0),I(1,yle,1,2,"span",7)(2,Sle,3,2,"ng-container",5),he()),i&2){let e=f();u(),h("ngIf",e.checkboxFalseIcon),u(),h("ngIf",!e.checkboxFalseIcon)}}function Ele(i,n){if(i&1){let e=B();m(0,"label",14),P("click",function(r){S(e);let o=f(),s=We(3);return A(o.onClick(r,s))}),D(1),_()}if(i&2){let e=f();h("ngClass",zi(3,ule,e.value!=null,e.disabled,e.focused)),V("for",e.inputId),u(),$(e.label)}}var xle={provide:nn,useExisting:zt(()=>Tle),multi:!0},Tle=(()=>{class i{cd;config;constructor(e,t){this.cd=e,this.config=t}disabled;name;ariaLabel;ariaLabelledBy;variant="outlined";tabindex;inputId;style;styleClass;label;readonly;checkboxTrueIcon;checkboxFalseIcon;autofocus;onChange=new Q;templates;checkIconTemplate;uncheckIconTemplate;focused;value;onModelChange=()=>{};onModelTouched=()=>{};onClick(e,t){!this.disabled&&!this.readonly&&(this.toggle(e),this.focused=!0,t.focus())}onKeyDown(e){e.key==="Enter"&&(this.toggle(e),e.preventDefault())}toggle(e){this.value==null||this.value==null?this.value=!0:this.value==!0?this.value=!1:this.value==!1&&(this.value=null),this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value})}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"checkicon":this.checkIconTemplate=e.template;break;case"uncheckicon":this.uncheckIconTemplate=e.template;break}})}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}writeValue(e){this.value=e,this.cd.markForCheck()}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}static \u0275fac=function(t){return new(t||i)(b(Ie),b(Vt))};static \u0275cmp=ie({type:i,selectors:[["p-triStateCheckbox"]],contentQueries:function(t,r,o){if(t&1&&ot(o,be,4),t&2){let s;ee(s=te())&&(r.templates=s)}},hostAttrs:[1,"p-element"],inputs:{disabled:[2,"disabled","disabled",K],name:"name",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",variant:"variant",tabindex:[2,"tabindex","tabindex",ke],inputId:"inputId",style:"style",styleClass:"styleClass",label:"label",readonly:[2,"readonly","readonly",K],checkboxTrueIcon:"checkboxTrueIcon",checkboxFalseIcon:"checkboxFalseIcon",autofocus:[2,"autofocus","autofocus",K]},outputs:{onChange:"onChange"},features:[Ze([xle]),qe],decls:8,vars:28,consts:[["input",""],[3,"click","ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","checkbox","inputmode","none","pAutoFocus","",3,"keydown","focus","blur","name","readonly","disabled","autofocus"],["role","checkbox",1,"p-checkbox-box",3,"ngClass"],[4,"ngIf"],["class","p-checkbox-label",3,"ngClass","click",4,"ngIf"],["class","p-checkbox-icon",3,"ngClass",4,"ngIf"],[1,"p-checkbox-icon",3,"ngClass"],[3,"styleClass",4,"ngIf"],["class","p-checkbox-icon",4,"ngIf"],[3,"styleClass"],[1,"p-checkbox-icon"],[4,"ngTemplateOutlet"],[1,"p-checkbox-label",3,"click","ngClass"]],template:function(t,r){if(t&1){let o=B();m(0,"div",1),P("click",function(a){S(o);let l=We(3);return A(r.onClick(a,l))}),m(1,"div",2)(2,"input",3,0),P("keydown",function(a){return S(o),A(r.onKeyDown(a))})("focus",function(){return S(o),A(r.onFocus())})("blur",function(){return S(o),A(r.onBlur())}),_()(),m(4,"div",4),I(5,Cle,3,2,"ng-container",5)(6,Ale,3,2,"ng-container",5),_()(),I(7,Ele,2,7,"label",6)}t&2&&(le(r.styleClass),h("ngStyle",r.style)("ngClass",zi(20,cle,r.disabled,r.focused,r.variant==="filled"||r.config.inputStyle()==="filled")),V("data-pc-name","tristatecheckbox")("data-pc-section","root"),u(2),h("name",r.name)("readonly",r.readonly)("disabled",r.disabled)("autofocus",r.autofocus),V("id",r.inputId)("tabindex",r.tabindex)("aria-labelledby",r.ariaLabelledBy)("aria-label",r.ariaLabel)("data-pc-section","hiddenInput"),u(2),h("ngClass",zi(24,dle,r.value!=null,r.disabled,r.focused)),V("aria-checked",r.value===!0),u(),h("ngIf",r.value===!0),u(),h("ngIf",r.value===!1),u(),h("ngIf",r.label))},dependencies:()=>[Ge,et,st,Ee,Mn,fn,Li],encapsulation:2,changeDetection:0})}return i})(),l5=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=Oe({type:i});static \u0275inj=Te({imports:[Ye,nt,Qn,fn,Li,nt]})}return i})();var Ole=["container"],Dle=["resizeHelper"],Rle=["reorderIndicatorUp"],Ple=["reorderIndicatorDown"],kle=["wrapper"],Fle=["table"],Lle=["thead"],Mle=["tfoot"],Nle=["scroller"],Vle=(i,n,e)=>({"p-datatable p-component":!0,"p-datatable-hoverable-rows":i,"p-datatable-scrollable":n,"p-datatable-flex-scrollable":e}),Ble=i=>({maxHeight:i}),c5=i=>({height:i}),d5=(i,n)=>({$implicit:i,options:n}),Ule=i=>({columns:i}),jle=(i,n,e)=>({"p-datatable-table":!0,"p-datatable-scrollable-table":i,"p-datatable-resizable-table":n,"p-datatable-resizable-table-fit":e}),dv=i=>({$implicit:i}),HT=()=>({display:"none"});function Hle(i,n){if(i&1&&O(0,"i"),i&2){let e=f(2);le("p-datatable-loading-icon "+e.loadingIcon)}}function Gle(i,n){i&1&&O(0,"SpinnerIcon",25),i&2&&h("spin",!0)("styleClass","p-datatable-loading-icon")}function zle(i,n){}function Wle(i,n){i&1&&I(0,zle,0,0,"ng-template")}function Kle(i,n){if(i&1&&(m(0,"span",26),I(1,Wle,1,0,null,27),_()),i&2){let e=f(3);u(),h("ngTemplateOutlet",e.loadingIconTemplate)}}function $le(i,n){if(i&1&&(pe(0),I(1,Gle,1,2,"SpinnerIcon",23)(2,Kle,2,1,"span",24),he()),i&2){let e=f(2);u(),h("ngIf",!e.loadingIconTemplate),u(),h("ngIf",e.loadingIconTemplate)}}function qle(i,n){if(i&1&&(m(0,"div",21),I(1,Hle,1,2,"i",22)(2,$le,3,2,"ng-container",16),_()),i&2){let e=f();u(),h("ngIf",e.loadingIcon),u(),h("ngIf",!e.loadingIcon)}}function Yle(i,n){i&1&&ue(0)}function Jle(i,n){if(i&1&&(m(0,"div",28),I(1,Yle,1,0,"ng-container",27),_()),i&2){let e=f();u(),h("ngTemplateOutlet",e.captionTemplate)}}function Xle(i,n){i&1&&ue(0)}function Qle(i,n){if(i&1&&I(0,Xle,1,0,"ng-container",27),i&2){let e=f(3);h("ngTemplateOutlet",e.paginatorDropdownIconTemplate)}}function Zle(i,n){i&1&&I(0,Qle,1,1,"ng-template",30)}function ece(i,n){i&1&&ue(0)}function tce(i,n){if(i&1&&I(0,ece,1,0,"ng-container",27),i&2){let e=f(3);h("ngTemplateOutlet",e.paginatorFirstPageLinkIconTemplate)}}function ice(i,n){i&1&&I(0,tce,1,1,"ng-template",31)}function nce(i,n){i&1&&ue(0)}function rce(i,n){if(i&1&&I(0,nce,1,0,"ng-container",27),i&2){let e=f(3);h("ngTemplateOutlet",e.paginatorPreviousPageLinkIconTemplate)}}function oce(i,n){i&1&&I(0,rce,1,1,"ng-template",32)}function sce(i,n){i&1&&ue(0)}function ace(i,n){if(i&1&&I(0,sce,1,0,"ng-container",27),i&2){let e=f(3);h("ngTemplateOutlet",e.paginatorLastPageLinkIconTemplate)}}function lce(i,n){i&1&&I(0,ace,1,1,"ng-template",33)}function cce(i,n){i&1&&ue(0)}function dce(i,n){if(i&1&&I(0,cce,1,0,"ng-container",27),i&2){let e=f(3);h("ngTemplateOutlet",e.paginatorNextPageLinkIconTemplate)}}function uce(i,n){i&1&&I(0,dce,1,1,"ng-template",34)}function pce(i,n){if(i&1){let e=B();m(0,"p-paginator",29),P("onPageChange",function(r){S(e);let o=f();return A(o.onPageChange(r))}),I(1,Zle,1,0,null,16)(2,ice,1,0,null,16)(3,oce,1,0,null,16)(4,lce,1,0,null,16)(5,uce,1,0,null,16),_()}if(i&2){let e=f();h("rows",e.rows)("first",e.first)("totalRecords",e.totalRecords)("pageLinkSize",e.pageLinks)("alwaysShow",e.alwaysShowPaginator)("rowsPerPageOptions",e.rowsPerPageOptions)("templateLeft",e.paginatorLeftTemplate)("templateRight",e.paginatorRightTemplate)("dropdownAppendTo",e.paginatorDropdownAppendTo)("dropdownScrollHeight",e.paginatorDropdownScrollHeight)("currentPageReportTemplate",e.currentPageReportTemplate)("showFirstLastIcon",e.showFirstLastIcon)("dropdownItemTemplate",e.paginatorDropdownItemTemplate)("showCurrentPageReport",e.showCurrentPageReport)("showJumpToPageDropdown",e.showJumpToPageDropdown)("showJumpToPageInput",e.showJumpToPageInput)("showPageLinks",e.showPageLinks)("styleClass",e.getPaginatorStyleClasses("p-paginator-top"))("locale",e.paginatorLocale),u(),h("ngIf",e.paginatorDropdownIconTemplate),u(),h("ngIf",e.paginatorFirstPageLinkIconTemplate),u(),h("ngIf",e.paginatorPreviousPageLinkIconTemplate),u(),h("ngIf",e.paginatorLastPageLinkIconTemplate),u(),h("ngIf",e.paginatorNextPageLinkIconTemplate)}}function hce(i,n){i&1&&ue(0)}function fce(i,n){if(i&1&&I(0,hce,1,0,"ng-container",37),i&2){let e=n.$implicit,t=n.options;f(2);let r=We(10);h("ngTemplateOutlet",r)("ngTemplateOutletContext",Je(2,d5,e,t))}}function mce(i,n){if(i&1){let e=B();m(0,"p-scroller",35,3),P("onLazyLoad",function(r){S(e);let o=f();return A(o.onLazyItemLoad(r))}),I(2,fce,1,5,"ng-template",36),_()}if(i&2){let e=f();dt(oe(15,c5,e.scrollHeight!=="flex"?e.scrollHeight:void 0)),h("items",e.processedData)("columns",e.columns)("scrollHeight",e.scrollHeight!=="flex"?void 0:"100%")("itemSize",e.virtualScrollItemSize||e._virtualRowHeight)("step",e.rows)("delay",e.lazy?e.virtualScrollDelay:0)("inline",!0)("autoSize",!0)("lazy",e.lazy)("loaderDisabled",!0)("showSpacer",!1)("showLoader",e.loadingBodyTemplate)("options",e.virtualScrollOptions)}}function gce(i,n){i&1&&ue(0)}function _ce(i,n){if(i&1&&(pe(0),I(1,gce,1,0,"ng-container",37),he()),i&2){let e=f(),t=We(10);u(),h("ngTemplateOutlet",t)("ngTemplateOutletContext",Je(4,d5,e.processedData,oe(2,Ule,e.columns)))}}function Cce(i,n){i&1&&ue(0)}function yce(i,n){i&1&&ue(0)}function Ice(i,n){if(i&1&&O(0,"tbody",44),i&2){let e=f().options,t=f();h("value",t.frozenValue)("frozenRows",!0)("pTableBody",e.columns)("pTableBodyTemplate",t.frozenBodyTemplate)("frozen",!0)}}function vce(i,n){if(i&1&&O(0,"tbody",45),i&2){let e=f().options;h("ngStyle",oe(1,c5,"calc("+e.spacerStyle.height+" - "+e.rows.length*e.itemSize+"px)"))}}function bce(i,n){i&1&&ue(0)}function wce(i,n){if(i&1&&(m(0,"tfoot",46,6),I(2,bce,1,0,"ng-container",37),_()),i&2){let e=f().options,t=f();u(2),h("ngTemplateOutlet",t.footerGroupedTemplate||t.footerTemplate)("ngTemplateOutletContext",oe(2,dv,e.columns))}}function Sce(i,n){if(i&1&&(m(0,"table",38,4),I(2,Cce,1,0,"ng-container",37),m(3,"thead",39,5),I(5,yce,1,0,"ng-container",37),_(),I(6,Ice,1,5,"tbody",40),O(7,"tbody",41),I(8,vce,1,3,"tbody",42)(9,wce,3,4,"tfoot",43),_()),i&2){let e=n.options,t=f();le(t.tableStyleClass),h("ngClass",zi(18,jle,t.scrollable,t.resizableColumns,t.resizableColumns&&t.columnResizeMode==="fit"))("ngStyle",t.tableStyle),V("id",t.id+"-table"),u(2),h("ngTemplateOutlet",t.colGroupTemplate)("ngTemplateOutletContext",oe(22,dv,e.columns)),u(3),h("ngTemplateOutlet",t.headerGroupedTemplate||t.headerTemplate)("ngTemplateOutletContext",oe(24,dv,e.columns)),u(),h("ngIf",t.frozenValue||t.frozenBodyTemplate),u(),h("ngClass",e.contentStyleClass)("ngStyle",e.contentStyle)("value",t.dataToRender(e.rows))("pTableBody",e.columns)("pTableBodyTemplate",t.bodyTemplate)("scrollerOptions",e),u(),h("ngIf",e.spacerStyle),u(),h("ngIf",t.footerGroupedTemplate||t.footerTemplate)}}function Ace(i,n){i&1&&ue(0)}function Ece(i,n){if(i&1&&I(0,Ace,1,0,"ng-container",27),i&2){let e=f(3);h("ngTemplateOutlet",e.paginatorDropdownIconTemplate)}}function xce(i,n){i&1&&I(0,Ece,1,1,"ng-template",30)}function Tce(i,n){i&1&&ue(0)}function Oce(i,n){if(i&1&&I(0,Tce,1,0,"ng-container",27),i&2){let e=f(3);h("ngTemplateOutlet",e.paginatorFirstPageLinkIconTemplate)}}function Dce(i,n){i&1&&I(0,Oce,1,1,"ng-template",31)}function Rce(i,n){i&1&&ue(0)}function Pce(i,n){if(i&1&&I(0,Rce,1,0,"ng-container",27),i&2){let e=f(3);h("ngTemplateOutlet",e.paginatorPreviousPageLinkIconTemplate)}}function kce(i,n){i&1&&I(0,Pce,1,1,"ng-template",32)}function Fce(i,n){i&1&&ue(0)}function Lce(i,n){if(i&1&&I(0,Fce,1,0,"ng-container",27),i&2){let e=f(3);h("ngTemplateOutlet",e.paginatorLastPageLinkIconTemplate)}}function Mce(i,n){i&1&&I(0,Lce,1,1,"ng-template",33)}function Nce(i,n){i&1&&ue(0)}function Vce(i,n){if(i&1&&I(0,Nce,1,0,"ng-container",27),i&2){let e=f(3);h("ngTemplateOutlet",e.paginatorNextPageLinkIconTemplate)}}function Bce(i,n){i&1&&I(0,Vce,1,1,"ng-template",34)}function Uce(i,n){if(i&1){let e=B();m(0,"p-paginator",29),P("onPageChange",function(r){S(e);let o=f();return A(o.onPageChange(r))}),I(1,xce,1,0,null,16)(2,Dce,1,0,null,16)(3,kce,1,0,null,16)(4,Mce,1,0,null,16)(5,Bce,1,0,null,16),_()}if(i&2){let e=f();h("rows",e.rows)("first",e.first)("totalRecords",e.totalRecords)("pageLinkSize",e.pageLinks)("alwaysShow",e.alwaysShowPaginator)("rowsPerPageOptions",e.rowsPerPageOptions)("templateLeft",e.paginatorLeftTemplate)("templateRight",e.paginatorRightTemplate)("dropdownAppendTo",e.paginatorDropdownAppendTo)("dropdownScrollHeight",e.paginatorDropdownScrollHeight)("currentPageReportTemplate",e.currentPageReportTemplate)("showFirstLastIcon",e.showFirstLastIcon)("dropdownItemTemplate",e.paginatorDropdownItemTemplate)("showCurrentPageReport",e.showCurrentPageReport)("showJumpToPageDropdown",e.showJumpToPageDropdown)("showJumpToPageInput",e.showJumpToPageInput)("showPageLinks",e.showPageLinks)("styleClass",e.getPaginatorStyleClasses("p-paginator-bottom"))("locale",e.paginatorLocale),u(),h("ngIf",e.paginatorDropdownIconTemplate),u(),h("ngIf",e.paginatorFirstPageLinkIconTemplate),u(),h("ngIf",e.paginatorPreviousPageLinkIconTemplate),u(),h("ngIf",e.paginatorLastPageLinkIconTemplate),u(),h("ngIf",e.paginatorNextPageLinkIconTemplate)}}function jce(i,n){i&1&&ue(0)}function Hce(i,n){if(i&1&&(m(0,"div",47),I(1,jce,1,0,"ng-container",27),_()),i&2){let e=f();u(),h("ngTemplateOutlet",e.summaryTemplate)}}function Gce(i,n){i&1&&O(0,"div",48,7),i&2&&h("ngStyle",Ae(1,HT))}function zce(i,n){i&1&&O(0,"ArrowDownIcon")}function Wce(i,n){}function Kce(i,n){i&1&&I(0,Wce,0,0,"ng-template")}function $ce(i,n){if(i&1&&(m(0,"span",49,8),I(2,zce,1,0,"ArrowDownIcon",16)(3,Kce,1,0,null,27),_()),i&2){let e=f();h("ngStyle",Ae(3,HT)),u(2),h("ngIf",!e.reorderIndicatorUpIconTemplate),u(),h("ngTemplateOutlet",e.reorderIndicatorUpIconTemplate)}}function qce(i,n){i&1&&O(0,"ArrowUpIcon")}function Yce(i,n){}function Jce(i,n){i&1&&I(0,Yce,0,0,"ng-template")}function Xce(i,n){if(i&1&&(m(0,"span",50,9),I(2,qce,1,0,"ArrowUpIcon",16)(3,Jce,1,0,null,27),_()),i&2){let e=f();h("ngStyle",Ae(3,HT)),u(2),h("ngIf",!e.reorderIndicatorDownIconTemplate),u(),h("ngTemplateOutlet",e.reorderIndicatorDownIconTemplate)}}var Qce=["pTableBody",""],GT=(i,n,e,t,r)=>({$implicit:i,rowIndex:n,columns:e,editing:t,frozen:r}),Zce=(i,n,e,t,r,o,s)=>({$implicit:i,rowIndex:n,columns:e,editing:t,frozen:r,rowgroup:o,rowspan:s}),pv=(i,n,e,t,r,o)=>({$implicit:i,rowIndex:n,columns:e,expanded:t,editing:r,frozen:o}),u5=(i,n,e,t)=>({$implicit:i,rowIndex:n,columns:e,frozen:t}),p5=(i,n)=>({$implicit:i,frozen:n});function ede(i,n){i&1&&ue(0)}function tde(i,n){if(i&1&&(pe(0,3),I(1,ede,1,0,"ng-container",4),he()),i&2){let e=f(),t=e.$implicit,r=e.index,o=f(2);u(),h("ngTemplateOutlet",o.dt.groupHeaderTemplate)("ngTemplateOutletContext",zl(2,GT,t,o.getRowIndex(r),o.columns,o.dt.editMode==="row"&&o.dt.isRowEditing(t),o.frozen))}}function ide(i,n){i&1&&ue(0)}function nde(i,n){if(i&1&&(pe(0),I(1,ide,1,0,"ng-container",4),he()),i&2){let e=f(),t=e.$implicit,r=e.index,o=f(2);u(),h("ngTemplateOutlet",t?o.template:o.dt.loadingBodyTemplate)("ngTemplateOutletContext",zl(2,GT,t,o.getRowIndex(r),o.columns,o.dt.editMode==="row"&&o.dt.isRowEditing(t),o.frozen))}}function rde(i,n){i&1&&ue(0)}function ode(i,n){if(i&1&&(pe(0),I(1,rde,1,0,"ng-container",4),he()),i&2){let e=f(),t=e.$implicit,r=e.index,o=f(2);u(),h("ngTemplateOutlet",t?o.template:o.dt.loadingBodyTemplate)("ngTemplateOutletContext",$N(2,Zce,t,o.getRowIndex(r),o.columns,o.dt.editMode==="row"&&o.dt.isRowEditing(t),o.frozen,o.shouldRenderRowspan(o.value,t,r),o.calculateRowGroupSize(o.value,t,r)))}}function sde(i,n){i&1&&ue(0)}function ade(i,n){if(i&1&&(pe(0,3),I(1,sde,1,0,"ng-container",4),he()),i&2){let e=f(),t=e.$implicit,r=e.index,o=f(2);u(),h("ngTemplateOutlet",o.dt.groupFooterTemplate)("ngTemplateOutletContext",zl(2,GT,t,o.getRowIndex(r),o.columns,o.dt.editMode==="row"&&o.dt.isRowEditing(t),o.frozen))}}function lde(i,n){if(i&1&&I(0,tde,2,8,"ng-container",2)(1,nde,2,8,"ng-container",0)(2,ode,2,10,"ng-container",0)(3,ade,2,8,"ng-container",2),i&2){let e=n.$implicit,t=n.index,r=f(2);h("ngIf",r.dt.groupHeaderTemplate&&!r.dt.virtualScroll&&r.dt.rowGroupMode==="subheader"&&r.shouldRenderRowGroupHeader(r.value,e,r.getRowIndex(t))),u(),h("ngIf",r.dt.rowGroupMode!=="rowspan"),u(),h("ngIf",r.dt.rowGroupMode==="rowspan"),u(),h("ngIf",r.dt.groupFooterTemplate&&!r.dt.virtualScroll&&r.dt.rowGroupMode==="subheader"&&r.shouldRenderRowGroupFooter(r.value,e,t))}}function cde(i,n){if(i&1&&(pe(0),I(1,lde,4,4,"ng-template",1),he()),i&2){let e=f();u(),h("ngForOf",e.value)("ngForTrackBy",e.dt.rowTrackBy)}}function dde(i,n){i&1&&ue(0)}function ude(i,n){if(i&1&&(pe(0),I(1,dde,1,0,"ng-container",4),he()),i&2){let e=f(),t=e.$implicit,r=e.index,o=f(2);u(),h("ngTemplateOutlet",o.template)("ngTemplateOutletContext",ll(2,pv,t,o.getRowIndex(r),o.columns,o.dt.isRowExpanded(t),o.dt.editMode==="row"&&o.dt.isRowEditing(t),o.frozen))}}function pde(i,n){i&1&&ue(0)}function hde(i,n){if(i&1&&(pe(0,3),I(1,pde,1,0,"ng-container",4),he()),i&2){let e=f(),t=e.$implicit,r=e.index,o=f(2);u(),h("ngTemplateOutlet",o.dt.groupHeaderTemplate)("ngTemplateOutletContext",ll(2,pv,t,o.getRowIndex(r),o.columns,o.dt.isRowExpanded(t),o.dt.editMode==="row"&&o.dt.isRowEditing(t),o.frozen))}}function fde(i,n){i&1&&ue(0)}function mde(i,n){i&1&&ue(0)}function gde(i,n){if(i&1&&(pe(0,3),I(1,mde,1,0,"ng-container",4),he()),i&2){let e=f(2),t=e.$implicit,r=e.index,o=f(2);u(),h("ngTemplateOutlet",o.dt.groupFooterTemplate)("ngTemplateOutletContext",ll(2,pv,t,o.getRowIndex(r),o.columns,o.dt.isRowExpanded(t),o.dt.editMode==="row"&&o.dt.isRowEditing(t),o.frozen))}}function _de(i,n){if(i&1&&(pe(0),I(1,fde,1,0,"ng-container",4)(2,gde,2,9,"ng-container",2),he()),i&2){let e=f(),t=e.$implicit,r=e.index,o=f(2);u(),h("ngTemplateOutlet",o.dt.expandedRowTemplate)("ngTemplateOutletContext",dr(3,u5,t,o.getRowIndex(r),o.columns,o.frozen)),u(),h("ngIf",o.dt.groupFooterTemplate&&o.dt.rowGroupMode==="subheader"&&o.shouldRenderRowGroupFooter(o.value,t,o.getRowIndex(r)))}}function Cde(i,n){if(i&1&&I(0,ude,2,9,"ng-container",0)(1,hde,2,9,"ng-container",2)(2,_de,3,8,"ng-container",0),i&2){let e=n.$implicit,t=n.index,r=f(2);h("ngIf",!r.dt.groupHeaderTemplate),u(),h("ngIf",r.dt.groupHeaderTemplate&&r.dt.rowGroupMode==="subheader"&&r.shouldRenderRowGroupHeader(r.value,e,r.getRowIndex(t))),u(),h("ngIf",r.dt.isRowExpanded(e))}}function yde(i,n){if(i&1&&(pe(0),I(1,Cde,3,3,"ng-template",1),he()),i&2){let e=f();u(),h("ngForOf",e.value)("ngForTrackBy",e.dt.rowTrackBy)}}function Ide(i,n){i&1&&ue(0)}function vde(i,n){i&1&&ue(0)}function bde(i,n){if(i&1&&(pe(0),I(1,vde,1,0,"ng-container",4),he()),i&2){let e=f(),t=e.$implicit,r=e.index,o=f(2);u(),h("ngTemplateOutlet",o.dt.frozenExpandedRowTemplate)("ngTemplateOutletContext",dr(2,u5,t,o.getRowIndex(r),o.columns,o.frozen))}}function wde(i,n){if(i&1&&I(0,Ide,1,0,"ng-container",4)(1,bde,2,7,"ng-container",0),i&2){let e=n.$implicit,t=n.index,r=f(2);h("ngTemplateOutlet",r.template)("ngTemplateOutletContext",ll(3,pv,e,r.getRowIndex(t),r.columns,r.dt.isRowExpanded(e),r.dt.editMode==="row"&&r.dt.isRowEditing(e),r.frozen)),u(),h("ngIf",r.dt.isRowExpanded(e))}}function Sde(i,n){if(i&1&&(pe(0),I(1,wde,2,10,"ng-template",1),he()),i&2){let e=f();u(),h("ngForOf",e.value)("ngForTrackBy",e.dt.rowTrackBy)}}function Ade(i,n){i&1&&ue(0)}function Ede(i,n){if(i&1&&(pe(0),I(1,Ade,1,0,"ng-container",4),he()),i&2){let e=f();u(),h("ngTemplateOutlet",e.dt.loadingBodyTemplate)("ngTemplateOutletContext",Je(2,p5,e.columns,e.frozen))}}function xde(i,n){i&1&&ue(0)}function Tde(i,n){if(i&1&&(pe(0),I(1,xde,1,0,"ng-container",4),he()),i&2){let e=f();u(),h("ngTemplateOutlet",e.dt.emptyMessageTemplate)("ngTemplateOutletContext",Je(2,p5,e.columns,e.frozen))}}function Ode(i,n){i&1&&O(0,"SortAltIcon",4),i&2&&h("styleClass","p-sortable-column-icon")}function Dde(i,n){i&1&&O(0,"SortAmountUpAltIcon",4),i&2&&h("styleClass","p-sortable-column-icon")}function Rde(i,n){i&1&&O(0,"SortAmountDownIcon",4),i&2&&h("styleClass","p-sortable-column-icon")}function Pde(i,n){if(i&1&&(pe(0),I(1,Ode,1,1,"SortAltIcon",3)(2,Dde,1,1,"SortAmountUpAltIcon",3)(3,Rde,1,1,"SortAmountDownIcon",3),he()),i&2){let e=f();u(),h("ngIf",e.sortOrder===0),u(),h("ngIf",e.sortOrder===1),u(),h("ngIf",e.sortOrder===-1)}}function kde(i,n){}function Fde(i,n){i&1&&I(0,kde,0,0,"ng-template")}function Lde(i,n){if(i&1&&(m(0,"span",5),I(1,Fde,1,0,null,6),_()),i&2){let e=f();u(),h("ngTemplateOutlet",e.dt.sortIconTemplate)("ngTemplateOutletContext",oe(2,dv,e.sortOrder))}}function Mde(i,n){if(i&1&&(m(0,"span",7),D(1),_()),i&2){let e=f();u(),$(e.getBadgeValue())}}function Nde(i,n){i&1&&ue(0)}function Vde(i,n){if(i&1&&(pe(0),I(1,Nde,1,0,"ng-container",1),he()),i&2){let e=f();u(),h("ngTemplateOutlet",e.inputTemplate)}}function Bde(i,n){i&1&&ue(0)}function Ude(i,n){if(i&1&&(pe(0),I(1,Bde,1,0,"ng-container",1),he()),i&2){let e=f();u(),h("ngTemplateOutlet",e.outputTemplate)}}var uv=(()=>{class i{sortSource=new Re;selectionSource=new Re;contextMenuSource=new Re;valueSource=new Re;totalRecordsSource=new Re;columnsSource=new Re;isHeaderCheckboxSelection=new Re;sortSource$=this.sortSource.asObservable();isHeaderCheckboxSelection$=this.isHeaderCheckboxSelection.asObservable();selectionSource$=this.selectionSource.asObservable();contextMenuSource$=this.contextMenuSource.asObservable();valueSource$=this.valueSource.asObservable();totalRecordsSource$=this.totalRecordsSource.asObservable();columnsSource$=this.columnsSource.asObservable();onSort(e){this.sortSource.next(e)}onSelectionChange(){this.selectionSource.next(null)}onContextMenu(e){this.contextMenuSource.next(e)}onValueChange(e){this.valueSource.next(e)}onTotalRecordsChange(e){this.totalRecordsSource.next(e)}onColumnsChange(e){this.columnsSource.next(e)}onHeaderCheckboxSelection(e){this.isHeaderCheckboxSelection.next(e)}static \u0275fac=function(t){return new(t||i)};static \u0275prov=_e({token:i,factory:i.\u0275fac})}return i})(),io=(()=>{class i{document;platformId;renderer;el;zone;tableService;cd;filterService;overlayService;config;domSanitizer;frozenColumns;frozenValue;style;styleClass;tableStyle;tableStyleClass;paginator;pageLinks=5;rowsPerPageOptions;alwaysShowPaginator=!0;paginatorPosition="bottom";paginatorStyleClass;paginatorDropdownAppendTo;paginatorDropdownScrollHeight="200px";currentPageReportTemplate="{currentPage} of {totalPages}";showCurrentPageReport;showJumpToPageDropdown;showJumpToPageInput;showFirstLastIcon=!0;showPageLinks=!0;defaultSortOrder=1;sortMode="single";resetPageOnSort=!0;selectionMode;selectionPageOnly;contextMenuSelection;contextMenuSelectionChange=new Q;contextMenuSelectionMode="separate";dataKey;metaKeySelection=!1;rowSelectable;rowTrackBy=(e,t)=>t;lazy=!1;lazyLoadOnInit=!0;compareSelectionBy="deepEquals";csvSeparator=",";exportFilename="download";filters={};globalFilterFields;filterDelay=300;filterLocale;expandedRowKeys={};editingRowKeys={};rowExpandMode="multiple";scrollable;scrollDirection="vertical";rowGroupMode;scrollHeight;virtualScroll;virtualScrollItemSize;virtualScrollOptions;virtualScrollDelay=250;frozenWidth;get responsive(){return this._responsive}set responsive(e){this._responsive=e,console.warn("responsive property is deprecated as table is always responsive with scrollable behavior.")}_responsive;contextMenu;resizableColumns;columnResizeMode="fit";reorderableColumns;loading;loadingIcon;showLoader=!0;rowHover;customSort;showInitialSortBadge=!0;autoLayout;exportFunction;exportHeader;stateKey;stateStorage="session";editMode="cell";groupRowsBy;groupRowsByOrder=1;responsiveLayout="scroll";breakpoint="960px";paginatorLocale;get value(){return this._value}set value(e){this._value=e}get columns(){return this._columns}set columns(e){this._columns=e}get first(){return this._first}set first(e){this._first=e}get rows(){return this._rows}set rows(e){this._rows=e}get totalRecords(){return this._totalRecords}set totalRecords(e){this._totalRecords=e,this.tableService.onTotalRecordsChange(this._totalRecords)}get sortField(){return this._sortField}set sortField(e){this._sortField=e}get sortOrder(){return this._sortOrder}set sortOrder(e){this._sortOrder=e}get multiSortMeta(){return this._multiSortMeta}set multiSortMeta(e){this._multiSortMeta=e}get selection(){return this._selection}set selection(e){this._selection=e}get selectAll(){return this._selection}set selectAll(e){this._selection=e}selectAllChange=new Q;selectionChange=new Q;onRowSelect=new Q;onRowUnselect=new Q;onPage=new Q;onSort=new Q;onFilter=new Q;onLazyLoad=new Q;onRowExpand=new Q;onRowCollapse=new Q;onContextMenuSelect=new Q;onColResize=new Q;onColReorder=new Q;onRowReorder=new Q;onEditInit=new Q;onEditComplete=new Q;onEditCancel=new Q;onHeaderCheckboxToggle=new Q;sortFunction=new Q;firstChange=new Q;rowsChange=new Q;onStateSave=new Q;onStateRestore=new Q;containerViewChild;resizeHelperViewChild;reorderIndicatorUpViewChild;reorderIndicatorDownViewChild;wrapperViewChild;tableViewChild;tableHeaderViewChild;tableFooterViewChild;scroller;templates;get virtualRowHeight(){return this._virtualRowHeight}set virtualRowHeight(e){this._virtualRowHeight=e,console.warn("The virtualRowHeight property is deprecated.")}_virtualRowHeight=28;_value=[];_columns;_totalRecords=0;_first=0;_rows;filteredValue;headerTemplate;headerGroupedTemplate;bodyTemplate;loadingBodyTemplate;captionTemplate;footerTemplate;footerGroupedTemplate;summaryTemplate;colGroupTemplate;expandedRowTemplate;groupHeaderTemplate;groupFooterTemplate;frozenExpandedRowTemplate;frozenHeaderTemplate;frozenBodyTemplate;frozenFooterTemplate;frozenColGroupTemplate;emptyMessageTemplate;paginatorLeftTemplate;paginatorRightTemplate;paginatorDropdownItemTemplate;loadingIconTemplate;reorderIndicatorUpIconTemplate;reorderIndicatorDownIconTemplate;sortIconTemplate;checkboxIconTemplate;headerCheckboxIconTemplate;paginatorDropdownIconTemplate;paginatorFirstPageLinkIconTemplate;paginatorLastPageLinkIconTemplate;paginatorPreviousPageLinkIconTemplate;paginatorNextPageLinkIconTemplate;selectionKeys={};lastResizerHelperX;reorderIconWidth;reorderIconHeight;draggedColumn;draggedRowIndex;droppedRowIndex;rowDragging;dropPosition;editingCell;editingCellData;editingCellField;editingCellRowIndex;selfClick;documentEditListener;_multiSortMeta;_sortField;_sortOrder=1;preventSelectionSetterPropagation;_selection;_selectAll=null;anchorRowIndex;rangeRowIndex;filterTimeout;initialized;rowTouched;restoringSort;restoringFilter;stateRestored;columnOrderStateRestored;columnWidthsState;tableWidthState;overlaySubscription;resizeColumnElement;columnResizing=!1;rowGroupHeaderStyleObject={};id=yt();styleElement;responsiveStyleElement;window;constructor(e,t,r,o,s,a,l,c,d,p,g){this.document=e,this.platformId=t,this.renderer=r,this.el=o,this.zone=s,this.tableService=a,this.cd=l,this.filterService=c,this.overlayService=d,this.config=p,this.domSanitizer=g,this.window=this.document.defaultView}ngOnInit(){this.lazy&&this.lazyLoadOnInit&&(this.virtualScroll||this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.restoringFilter&&(this.restoringFilter=!1)),this.responsiveLayout==="stack"&&this.createResponsiveStyle(),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"caption":this.captionTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"headergrouped":this.headerGroupedTemplate=e.template;break;case"body":this.bodyTemplate=e.template;break;case"loadingbody":this.loadingBodyTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"footergrouped":this.footerGroupedTemplate=e.template;break;case"summary":this.summaryTemplate=e.template;break;case"colgroup":this.colGroupTemplate=e.template;break;case"rowexpansion":this.expandedRowTemplate=e.template;break;case"groupheader":this.groupHeaderTemplate=e.template;break;case"groupfooter":this.groupFooterTemplate=e.template;break;case"frozenheader":this.frozenHeaderTemplate=e.template;break;case"frozenbody":this.frozenBodyTemplate=e.template;break;case"frozenfooter":this.frozenFooterTemplate=e.template;break;case"frozencolgroup":this.frozenColGroupTemplate=e.template;break;case"frozenrowexpansion":this.frozenExpandedRowTemplate=e.template;break;case"emptymessage":this.emptyMessageTemplate=e.template;break;case"paginatorleft":this.paginatorLeftTemplate=e.template;break;case"paginatorright":this.paginatorRightTemplate=e.template;break;case"paginatordropdownicon":this.paginatorDropdownIconTemplate=e.template;break;case"paginatordropdownitem":this.paginatorDropdownItemTemplate=e.template;break;case"paginatorfirstpagelinkicon":this.paginatorFirstPageLinkIconTemplate=e.template;break;case"paginatorlastpagelinkicon":this.paginatorLastPageLinkIconTemplate=e.template;break;case"paginatorpreviouspagelinkicon":this.paginatorPreviousPageLinkIconTemplate=e.template;break;case"paginatornextpagelinkicon":this.paginatorNextPageLinkIconTemplate=e.template;break;case"loadingicon":this.loadingIconTemplate=e.template;break;case"reorderindicatorupicon":this.reorderIndicatorUpIconTemplate=e.template;break;case"reorderindicatordownicon":this.reorderIndicatorDownIconTemplate=e.template;break;case"sorticon":this.sortIconTemplate=e.template;break;case"checkboxicon":this.checkboxIconTemplate=e.template;break;case"headercheckboxicon":this.headerCheckboxIconTemplate=e.template;break}})}ngAfterViewInit(){ht(this.platformId)&&this.isStateful()&&this.resizableColumns&&this.restoreColumnWidths()}ngOnChanges(e){e.value&&(this.isStateful()&&!this.stateRestored&&ht(this.platformId)&&this.restoreState(),this._value=e.value.currentValue,this.lazy||(this.totalRecords=this._value?this._value.length:0,this.sortMode=="single"&&(this.sortField||this.groupRowsBy)?this.sortSingle():this.sortMode=="multiple"&&(this.multiSortMeta||this.groupRowsBy)?this.sortMultiple():this.hasFilter()&&this._filter()),this.tableService.onValueChange(e.value.currentValue)),e.columns&&(this.isStateful()||(this._columns=e.columns.currentValue,this.tableService.onColumnsChange(e.columns.currentValue)),this._columns&&this.isStateful()&&this.reorderableColumns&&!this.columnOrderStateRestored&&(this.restoreColumnOrder(),this.tableService.onColumnsChange(this._columns))),e.sortField&&(this._sortField=e.sortField.currentValue,(!this.lazy||this.initialized)&&this.sortMode==="single"&&this.sortSingle()),e.groupRowsBy&&(!this.lazy||this.initialized)&&this.sortMode==="single"&&this.sortSingle(),e.sortOrder&&(this._sortOrder=e.sortOrder.currentValue,(!this.lazy||this.initialized)&&this.sortMode==="single"&&this.sortSingle()),e.groupRowsByOrder&&(!this.lazy||this.initialized)&&this.sortMode==="single"&&this.sortSingle(),e.multiSortMeta&&(this._multiSortMeta=e.multiSortMeta.currentValue,this.sortMode==="multiple"&&(this.initialized||!this.lazy&&!this.virtualScroll)&&this.sortMultiple()),e.selection&&(this._selection=e.selection.currentValue,this.preventSelectionSetterPropagation||(this.updateSelectionKeys(),this.tableService.onSelectionChange()),this.preventSelectionSetterPropagation=!1),e.selectAll&&(this._selectAll=e.selectAll.currentValue,this.preventSelectionSetterPropagation||(this.updateSelectionKeys(),this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()),this.preventSelectionSetterPropagation=!1)}get processedData(){return this.filteredValue||this.value||[]}_initialColWidths;dataToRender(e){let t=e||this.processedData;if(t&&this.paginator){let r=this.lazy?0:this.first;return t.slice(r,r+this.rows)}return t}updateSelectionKeys(){if(this.dataKey&&this._selection)if(this.selectionKeys={},Array.isArray(this._selection))for(let e of this._selection)this.selectionKeys[String(fe.resolveFieldData(e,this.dataKey))]=1;else this.selectionKeys[String(fe.resolveFieldData(this._selection,this.dataKey))]=1}onPageChange(e){this.first=e.first,this.rows=e.rows,this.onPage.emit({first:this.first,rows:this.rows}),this.lazy&&this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.firstChange.emit(this.first),this.rowsChange.emit(this.rows),this.tableService.onValueChange(this.value),this.isStateful()&&this.saveState(),this.anchorRowIndex=null,this.scrollable&&this.resetScrollTop()}sort(e){let t=e.originalEvent;if(this.sortMode==="single"&&(this._sortOrder=this.sortField===e.field?this.sortOrder*-1:this.defaultSortOrder,this._sortField=e.field,this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first),this.scrollable&&this.resetScrollTop()),this.sortSingle()),this.sortMode==="multiple"){let r=t.metaKey||t.ctrlKey,o=this.getSortMeta(e.field);o?r?o.order=o.order*-1:(this._multiSortMeta=[{field:e.field,order:o.order*-1}],this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first),this.scrollable&&this.resetScrollTop())):((!r||!this.multiSortMeta)&&(this._multiSortMeta=[],this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first))),this._multiSortMeta.push({field:e.field,order:this.defaultSortOrder})),this.sortMultiple()}this.isStateful()&&this.saveState(),this.anchorRowIndex=null}sortSingle(){let e=this.sortField||this.groupRowsBy,t=this.sortField?this.sortOrder:this.groupRowsByOrder;if(this.groupRowsBy&&this.sortField&&this.groupRowsBy!==this.sortField){this._multiSortMeta=[this.getGroupRowsMeta(),{field:this.sortField,order:this.sortOrder}],this.sortMultiple();return}if(e&&t){this.restoringSort&&(this.restoringSort=!1),this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,field:e,order:t}):(this.value.sort((o,s)=>{let a=fe.resolveFieldData(o,e),l=fe.resolveFieldData(s,e),c=null;return a==null&&l!=null?c=-1:a!=null&&l==null?c=1:a==null&&l==null?c=0:typeof a=="string"&&typeof l=="string"?c=a.localeCompare(l):c=a<l?-1:a>l?1:0,t*c}),this._value=[...this.value]),this.hasFilter()&&this._filter());let r={field:e,order:t};this.onSort.emit(r),this.tableService.onSort(r)}}sortMultiple(){this.groupRowsBy&&(this._multiSortMeta?this.multiSortMeta[0].field!==this.groupRowsBy&&(this._multiSortMeta=[this.getGroupRowsMeta(),...this._multiSortMeta]):this._multiSortMeta=[this.getGroupRowsMeta()]),this.multiSortMeta&&(this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,multiSortMeta:this.multiSortMeta}):(this.value.sort((e,t)=>this.multisortField(e,t,this.multiSortMeta,0)),this._value=[...this.value]),this.hasFilter()&&this._filter()),this.onSort.emit({multisortmeta:this.multiSortMeta}),this.tableService.onSort(this.multiSortMeta))}multisortField(e,t,r,o){let s=fe.resolveFieldData(e,r[o].field),a=fe.resolveFieldData(t,r[o].field);return fe.compare(s,a,this.filterLocale)===0?r.length-1>o?this.multisortField(e,t,r,o+1):0:this.compareValuesOnSort(s,a,r[o].order)}compareValuesOnSort(e,t,r){return fe.sort(e,t,r,this.filterLocale,this.sortOrder)}getSortMeta(e){if(this.multiSortMeta&&this.multiSortMeta.length){for(let t=0;t<this.multiSortMeta.length;t++)if(this.multiSortMeta[t].field===e)return this.multiSortMeta[t]}return null}isSorted(e){if(this.sortMode==="single")return this.sortField&&this.sortField===e;if(this.sortMode==="multiple"){let t=!1;if(this.multiSortMeta){for(let r=0;r<this.multiSortMeta.length;r++)if(this.multiSortMeta[r].field==e){t=!0;break}}return t}}handleRowClick(e){let t=e.originalEvent.target,r=t.nodeName,o=t.parentElement&&t.parentElement.nodeName;if(!(r=="INPUT"||r=="BUTTON"||r=="A"||o=="INPUT"||o=="BUTTON"||o=="A"||M.hasClass(e.originalEvent.target,"p-clickable"))){if(this.selectionMode){let s=e.rowData,a=e.rowIndex;if(this.preventSelectionSetterPropagation=!0,this.isMultipleSelectionMode()&&e.originalEvent.shiftKey&&this.anchorRowIndex!=null)M.clearSelection(),this.rangeRowIndex!=null&&this.clearSelectionRange(e.originalEvent),this.rangeRowIndex=a,this.selectRange(e.originalEvent,a);else{let l=this.isSelected(s);if(!l&&!this.isRowSelectable(s,a))return;let c=this.rowTouched?!1:this.metaKeySelection,d=this.dataKey?String(fe.resolveFieldData(s,this.dataKey)):null;if(this.anchorRowIndex=a,this.rangeRowIndex=a,c){let p=e.originalEvent.metaKey||e.originalEvent.ctrlKey;if(l&&p){if(this.isSingleSelectionMode())this._selection=null,this.selectionKeys={},this.selectionChange.emit(null);else{let g=this.findIndexInSelection(s);this._selection=this.selection.filter((C,y)=>y!=g),this.selectionChange.emit(this.selection),d&&delete this.selectionKeys[d]}this.onRowUnselect.emit({originalEvent:e.originalEvent,data:s,type:"row"})}else this.isSingleSelectionMode()?(this._selection=s,this.selectionChange.emit(s),d&&(this.selectionKeys={},this.selectionKeys[d]=1)):this.isMultipleSelectionMode()&&(p?this._selection=this.selection||[]:(this._selection=[],this.selectionKeys={}),this._selection=[...this.selection,s],this.selectionChange.emit(this.selection),d&&(this.selectionKeys[d]=1)),this.onRowSelect.emit({originalEvent:e.originalEvent,data:s,type:"row",index:a})}else if(this.selectionMode==="single")l?(this._selection=null,this.selectionKeys={},this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:e.originalEvent,data:s,type:"row",index:a})):(this._selection=s,this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e.originalEvent,data:s,type:"row",index:a}),d&&(this.selectionKeys={},this.selectionKeys[d]=1));else if(this.selectionMode==="multiple")if(l){let p=this.findIndexInSelection(s);this._selection=this.selection.filter((g,C)=>C!=p),this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:e.originalEvent,data:s,type:"row",index:a}),d&&delete this.selectionKeys[d]}else this._selection=this.selection?[...this.selection,s]:[s],this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e.originalEvent,data:s,type:"row",index:a}),d&&(this.selectionKeys[d]=1)}this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}this.rowTouched=!1}}handleRowTouchEnd(e){this.rowTouched=!0}handleRowRightClick(e){if(this.contextMenu){let t=e.rowData,r=e.rowIndex;if(this.contextMenuSelectionMode==="separate")this.contextMenuSelection=t,this.contextMenuSelectionChange.emit(t),this.onContextMenuSelect.emit({originalEvent:e.originalEvent,data:t,index:e.rowIndex}),this.contextMenu.show(e.originalEvent),this.tableService.onContextMenu(t);else if(this.contextMenuSelectionMode==="joint"){this.preventSelectionSetterPropagation=!0;let o=this.isSelected(t),s=this.dataKey?String(fe.resolveFieldData(t,this.dataKey)):null;if(!o){if(!this.isRowSelectable(t,r))return;this.isSingleSelectionMode()?(this.selection=t,this.selectionChange.emit(t),s&&(this.selectionKeys={},this.selectionKeys[s]=1)):this.isMultipleSelectionMode()&&(this._selection=this.selection?[...this.selection,t]:[t],this.selectionChange.emit(this.selection),s&&(this.selectionKeys[s]=1))}this.tableService.onSelectionChange(),this.contextMenu.show(e.originalEvent),this.onContextMenuSelect.emit({originalEvent:e,data:t,index:e.rowIndex})}}}selectRange(e,t,r){let o,s;this.anchorRowIndex>t?(o=t,s=this.anchorRowIndex):this.anchorRowIndex<t?(o=this.anchorRowIndex,s=t):(o=t,s=t),this.lazy&&this.paginator&&(o-=this.first,s-=this.first);let a=[];for(let l=o;l<=s;l++){let c=this.filteredValue?this.filteredValue[l]:this.value[l];if(!this.isSelected(c)&&!r){if(!this.isRowSelectable(c,t))continue;a.push(c),this._selection=[...this.selection,c];let d=this.dataKey?String(fe.resolveFieldData(c,this.dataKey)):null;d&&(this.selectionKeys[d]=1)}}this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e,data:a,type:"row"})}clearSelectionRange(e){let t,r,o=this.rangeRowIndex,s=this.anchorRowIndex;o>s?(t=this.anchorRowIndex,r=this.rangeRowIndex):o<s?(t=this.rangeRowIndex,r=this.anchorRowIndex):(t=this.rangeRowIndex,r=this.rangeRowIndex);for(let a=t;a<=r;a++){let l=this.value[a],c=this.findIndexInSelection(l);this._selection=this.selection.filter((p,g)=>g!=c);let d=this.dataKey?String(fe.resolveFieldData(l,this.dataKey)):null;d&&delete this.selectionKeys[d],this.onRowUnselect.emit({originalEvent:e,data:l,type:"row"})}}isSelected(e){return e&&this.selection?this.dataKey?this.selectionKeys[fe.resolveFieldData(e,this.dataKey)]!==void 0:Array.isArray(this.selection)?this.findIndexInSelection(e)>-1:this.equals(e,this.selection):!1}findIndexInSelection(e){let t=-1;if(this.selection&&this.selection.length){for(let r=0;r<this.selection.length;r++)if(this.equals(e,this.selection[r])){t=r;break}}return t}isRowSelectable(e,t){return!(this.rowSelectable&&!this.rowSelectable({data:e,index:t}))}toggleRowWithRadio(e,t){if(this.preventSelectionSetterPropagation=!0,this.selection!=t){if(!this.isRowSelectable(t,e.rowIndex))return;this._selection=t,this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e.originalEvent,index:e.rowIndex,data:t,type:"radiobutton"}),this.dataKey&&(this.selectionKeys={},this.selectionKeys[String(fe.resolveFieldData(t,this.dataKey))]=1)}else this._selection=null,this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:e.originalEvent,index:e.rowIndex,data:t,type:"radiobutton"});this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}toggleRowWithCheckbox(e,t){this.selection=this.selection||[];let r=this.isSelected(t),o=this.dataKey?String(fe.resolveFieldData(t,this.dataKey)):null;if(this.preventSelectionSetterPropagation=!0,r){let s=this.findIndexInSelection(t);this._selection=this.selection.filter((a,l)=>l!=s),this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:e.originalEvent,index:e.rowIndex,data:t,type:"checkbox"}),o&&delete this.selectionKeys[o]}else{if(!this.isRowSelectable(t,e.rowIndex))return;this._selection=this.selection?[...this.selection,t]:[t],this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e.originalEvent,index:e.rowIndex,data:t,type:"checkbox"}),o&&(this.selectionKeys[o]=1)}this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}toggleRowsWithCheckbox(e,t){if(this._selectAll!==null)this.selectAllChange.emit({originalEvent:e,checked:t});else{let r=this.selectionPageOnly?this.dataToRender(this.processedData):this.processedData,o=this.selectionPageOnly&&this._selection?this._selection.filter(s=>!r.some(a=>this.equals(s,a))):[];t&&(o=this.frozenValue?[...o,...this.frozenValue,...r]:[...o,...r],o=this.rowSelectable?o.filter((s,a)=>this.rowSelectable({data:s,index:a})):o),this._selection=o,this.preventSelectionSetterPropagation=!0,this.updateSelectionKeys(),this.selectionChange.emit(this._selection),this.tableService.onSelectionChange(),this.onHeaderCheckboxToggle.emit({originalEvent:e,checked:t}),this.isStateful()&&this.saveState()}}equals(e,t){return this.compareSelectionBy==="equals"?e===t:fe.equals(e,t,this.dataKey)}filter(e,t,r){this.filterTimeout&&clearTimeout(this.filterTimeout),this.isFilterBlank(e)?this.filters[t]&&delete this.filters[t]:this.filters[t]={value:e,matchMode:r},this.filterTimeout=setTimeout(()=>{this._filter(),this.filterTimeout=null},this.filterDelay),this.anchorRowIndex=null}filterGlobal(e,t){this.filter(e,"global",t)}isFilterBlank(e){return e!=null?!!(typeof e=="string"&&e.trim().length==0||Array.isArray(e)&&e.length==0):!0}_filter(){if(this.restoringFilter||(this.first=0,this.firstChange.emit(this.first)),this.lazy)this.onLazyLoad.emit(this.createLazyLoadMetadata());else{if(!this.value)return;if(!this.hasFilter())this.filteredValue=null,this.paginator&&(this.totalRecords=this.value?this.value.length:0);else{let e;if(this.filters.global){if(!this.columns&&!this.globalFilterFields)throw new Error("Global filtering requires dynamic columns or globalFilterFields to be defined.");e=this.globalFilterFields||this.columns}this.filteredValue=[];for(let t=0;t<this.value.length;t++){let r=!0,o=!1,s=!1;for(let l in this.filters)if(this.filters.hasOwnProperty(l)&&l!=="global"){s=!0;let c=l,d=this.filters[c];if(Array.isArray(d)){for(let p of d)if(r=this.executeLocalFilter(c,this.value[t],p),p.operator===IT.OR&&r||p.operator===IT.AND&&!r)break}else r=this.executeLocalFilter(c,this.value[t],d);if(!r)break}if(this.filters.global&&!o&&e)for(let l=0;l<e.length;l++){let c=e[l].field||e[l];if(o=this.filterService.filters[this.filters.global.matchMode](fe.resolveFieldData(this.value[t],c),this.filters.global.value,this.filterLocale),o)break}let a;this.filters.global?a=s?s&&r&&o:o:a=s&&r,a&&this.filteredValue.push(this.value[t])}this.filteredValue.length===this.value.length&&(this.filteredValue=null),this.paginator&&(this.totalRecords=this.filteredValue?this.filteredValue.length:this.value?this.value.length:0)}}this.onFilter.emit({filters:this.filters,filteredValue:this.filteredValue||this.value}),this.tableService.onValueChange(this.value),this.isStateful()&&!this.restoringFilter&&this.saveState(),this.restoringFilter&&(this.restoringFilter=!1),this.cd.markForCheck(),this.scrollable&&this.resetScrollTop()}executeLocalFilter(e,t,r){let o=r.value,s=r.matchMode||So.STARTS_WITH,a=fe.resolveFieldData(t,e),l=this.filterService.filters[s];return l(a,o,this.filterLocale)}hasFilter(){let e=!0;for(let t in this.filters)if(this.filters.hasOwnProperty(t)){e=!1;break}return!e}createLazyLoadMetadata(){return{first:this.first,rows:this.rows,sortField:this.sortField,sortOrder:this.sortOrder,filters:this.filters,globalFilter:this.filters&&this.filters.global?this.filters.global.value:null,multiSortMeta:this.multiSortMeta,forceUpdate:()=>this.cd.detectChanges()}}clear(){this._sortField=null,this._sortOrder=this.defaultSortOrder,this._multiSortMeta=null,this.tableService.onSort(null),this.clearFilterValues(),this.filteredValue=null,this.first=0,this.firstChange.emit(this.first),this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.totalRecords=this._value?this._value.length:0}clearFilterValues(){for(let[,e]of Object.entries(this.filters))if(Array.isArray(e))for(let t of e)t.value=null;else e&&(e.value=null)}reset(){this.clear()}getExportHeader(e){return e[this.exportHeader]||e.header||e.field}exportCSV(e){let t,r="",o=this.columns;e&&e.selectionOnly?t=this.selection||[]:e&&e.allValues?t=this.value||[]:(t=this.filteredValue||this.value,this.frozenValue&&(t=t?[...this.frozenValue,...t]:this.frozenValue));let s=o.filter(d=>d.exportable!==!1&&d.field);r+=s.map(d=>'"'+this.getExportHeader(d)+'"').join(this.csvSeparator);let a=t.map(d=>s.map(p=>{let g=fe.resolveFieldData(d,p.field);return g!=null?this.exportFunction?g=this.exportFunction({data:g,field:p.field}):g=String(g).replace(/"/g,'""'):g="",'"'+g+'"'}).join(this.csvSeparator)).join(`
`);a.length&&(r+=`
`+a);let l=new Blob([new Uint8Array([239,187,191]),r],{type:"text/csv;charset=utf-8;"}),c=this.renderer.createElement("a");c.style.display="none",this.renderer.appendChild(this.document.body,c),c.download!==void 0?(c.setAttribute("href",URL.createObjectURL(l)),c.setAttribute("download",this.exportFilename+".csv"),c.click()):(r="data:text/csv;charset=utf-8,"+r,this.window.open(encodeURI(r))),this.renderer.removeChild(this.document.body,c)}onLazyItemLoad(e){this.onLazyLoad.emit(Pe(re(re({},this.createLazyLoadMetadata()),e),{rows:e.last-e.first}))}resetScrollTop(){this.virtualScroll?this.scrollToVirtualIndex(0):this.scrollTo({top:0})}scrollToVirtualIndex(e){this.scroller&&this.scroller.scrollToIndex(e)}scrollTo(e){this.virtualScroll?this.scroller?.scrollTo(e):this.wrapperViewChild&&this.wrapperViewChild.nativeElement&&(this.wrapperViewChild.nativeElement.scrollTo?this.wrapperViewChild.nativeElement.scrollTo(e):(this.wrapperViewChild.nativeElement.scrollLeft=e.left,this.wrapperViewChild.nativeElement.scrollTop=e.top))}updateEditingCell(e,t,r,o){this.editingCell=e,this.editingCellData=t,this.editingCellField=r,this.editingCellRowIndex=o,this.bindDocumentEditListener()}isEditingCellValid(){return this.editingCell&&M.find(this.editingCell,".ng-invalid.ng-dirty").length===0}bindDocumentEditListener(){this.documentEditListener||(this.documentEditListener=this.renderer.listen(this.document,"click",e=>{this.editingCell&&!this.selfClick&&this.isEditingCellValid()&&(M.removeClass(this.editingCell,"p-cell-editing"),this.editingCell=null,this.onEditComplete.emit({field:this.editingCellField,data:this.editingCellData,originalEvent:e,index:this.editingCellRowIndex}),this.editingCellField=null,this.editingCellData=null,this.editingCellRowIndex=null,this.unbindDocumentEditListener(),this.cd.markForCheck(),this.overlaySubscription&&this.overlaySubscription.unsubscribe()),this.selfClick=!1}))}unbindDocumentEditListener(){this.documentEditListener&&(this.documentEditListener(),this.documentEditListener=null)}initRowEdit(e){let t=String(fe.resolveFieldData(e,this.dataKey));this.editingRowKeys[t]=!0}saveRowEdit(e,t){if(M.find(t,".ng-invalid.ng-dirty").length===0){let r=String(fe.resolveFieldData(e,this.dataKey));delete this.editingRowKeys[r]}}cancelRowEdit(e){let t=String(fe.resolveFieldData(e,this.dataKey));delete this.editingRowKeys[t]}toggleRow(e,t){if(!this.dataKey&&!this.groupRowsBy)throw new Error("dataKey or groupRowsBy must be defined to use row expansion");let r=this.groupRowsBy?String(fe.resolveFieldData(e,this.groupRowsBy)):String(fe.resolveFieldData(e,this.dataKey));this.expandedRowKeys[r]!=null?(delete this.expandedRowKeys[r],this.onRowCollapse.emit({originalEvent:t,data:e})):(this.rowExpandMode==="single"&&(this.expandedRowKeys={}),this.expandedRowKeys[r]=!0,this.onRowExpand.emit({originalEvent:t,data:e})),t&&t.preventDefault(),this.isStateful()&&this.saveState()}isRowExpanded(e){return this.groupRowsBy?this.expandedRowKeys[String(fe.resolveFieldData(e,this.groupRowsBy))]===!0:this.expandedRowKeys[String(fe.resolveFieldData(e,this.dataKey))]===!0}isRowEditing(e){return this.editingRowKeys[String(fe.resolveFieldData(e,this.dataKey))]===!0}isSingleSelectionMode(){return this.selectionMode==="single"}isMultipleSelectionMode(){return this.selectionMode==="multiple"}onColumnResizeBegin(e){let t=M.getOffset(this.containerViewChild?.nativeElement).left;this.resizeColumnElement=e.target.closest("th"),this.columnResizing=!0,e.type=="touchstart"?this.lastResizerHelperX=e.changedTouches[0].clientX-t+this.containerViewChild?.nativeElement.scrollLeft:this.lastResizerHelperX=e.pageX-t+this.containerViewChild?.nativeElement.scrollLeft,this.onColumnResize(e),e.preventDefault()}onColumnResize(e){let t=M.getOffset(this.containerViewChild?.nativeElement).left;M.addClass(this.containerViewChild?.nativeElement,"p-unselectable-text"),this.resizeHelperViewChild.nativeElement.style.height=this.containerViewChild?.nativeElement.offsetHeight+"px",this.resizeHelperViewChild.nativeElement.style.top="0px",e.type=="touchmove"?this.resizeHelperViewChild.nativeElement.style.left=e.changedTouches[0].clientX-t+this.containerViewChild?.nativeElement.scrollLeft+"px":this.resizeHelperViewChild.nativeElement.style.left=e.pageX-t+this.containerViewChild?.nativeElement.scrollLeft+"px",this.resizeHelperViewChild.nativeElement.style.display="block"}onColumnResizeEnd(){let e=this.resizeHelperViewChild?.nativeElement.offsetLeft-this.lastResizerHelperX,r=this.resizeColumnElement.offsetWidth+e,o=this.resizeColumnElement.style.minWidth.replace(/[^\d.]/g,""),s=o?parseFloat(o):15;if(r>=s){if(this.columnResizeMode==="fit"){let l=this.resizeColumnElement.nextElementSibling.offsetWidth-e;r>15&&l>15&&this.resizeTableCells(r,l)}else if(this.columnResizeMode==="expand"){this._initialColWidths=this._totalTableWidth();let a=this.tableViewChild?.nativeElement.offsetWidth+e;this.setResizeTableWidth(a+"px"),this.resizeTableCells(r,null)}this.onColResize.emit({element:this.resizeColumnElement,delta:e}),this.isStateful()&&this.saveState()}this.resizeHelperViewChild.nativeElement.style.display="none",M.removeClass(this.containerViewChild?.nativeElement,"p-unselectable-text")}_totalTableWidth(){let e=[],t=M.findSingle(this.containerViewChild.nativeElement,".p-datatable-thead");return M.find(t,"tr > th").forEach(o=>e.push(M.getOuterWidth(o))),e}onColumnDragStart(e,t){this.reorderIconWidth=M.getHiddenElementOuterWidth(this.reorderIndicatorUpViewChild?.nativeElement),this.reorderIconHeight=M.getHiddenElementOuterHeight(this.reorderIndicatorDownViewChild?.nativeElement),this.draggedColumn=t,e.dataTransfer.setData("text","b")}onColumnDragEnter(e,t){if(this.reorderableColumns&&this.draggedColumn&&t){e.preventDefault();let r=M.getOffset(this.containerViewChild?.nativeElement),o=M.getOffset(t);if(this.draggedColumn!=t){let s=M.indexWithinGroup(this.draggedColumn,"preorderablecolumn"),a=M.indexWithinGroup(t,"preorderablecolumn"),l=o.left-r.left,c=r.top-o.top,d=o.left+t.offsetWidth/2;this.reorderIndicatorUpViewChild.nativeElement.style.top=o.top-r.top-(this.reorderIconHeight-1)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.top=o.top-r.top+t.offsetHeight+"px",e.pageX>d?(this.reorderIndicatorUpViewChild.nativeElement.style.left=l+t.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=l+t.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=1):(this.reorderIndicatorUpViewChild.nativeElement.style.left=l-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=l-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=-1),this.reorderIndicatorUpViewChild.nativeElement.style.display="block",this.reorderIndicatorDownViewChild.nativeElement.style.display="block"}else e.dataTransfer.dropEffect="none"}}onColumnDragLeave(e){this.reorderableColumns&&this.draggedColumn&&e.preventDefault()}onColumnDrop(e,t){if(e.preventDefault(),this.draggedColumn){let r=M.indexWithinGroup(this.draggedColumn,"preorderablecolumn"),o=M.indexWithinGroup(t,"preorderablecolumn"),s=r!=o;if(s&&(o-r==1&&this.dropPosition===-1||r-o==1&&this.dropPosition===1)&&(s=!1),s&&o<r&&this.dropPosition===1&&(o=o+1),s&&o>r&&this.dropPosition===-1&&(o=o-1),s&&(fe.reorderArray(this.columns,r,o),this.onColReorder.emit({dragIndex:r,dropIndex:o,columns:this.columns}),this.isStateful()&&this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.saveState()})})),this.resizableColumns&&this.resizeColumnElement){let a=this.columnResizeMode==="expand"?this._initialColWidths:this._totalTableWidth();fe.reorderArray(a,r+1,o+1),this.updateStyleElement(a,r,null,null)}this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none",this.draggedColumn.draggable=!1,this.draggedColumn=null,this.dropPosition=null}}resizeTableCells(e,t){let r=M.index(this.resizeColumnElement),o=this.columnResizeMode==="expand"?this._initialColWidths:this._totalTableWidth();this.updateStyleElement(o,r,e,t)}updateStyleElement(e,t,r,o){this.destroyStyleElement(),this.createStyleElement();let s="";e.forEach((a,l)=>{let c=l===t?r:o&&l===t+1?o:a,d=`width: ${c}px !important; max-width: ${c}px !important;`;s+=`
                #${this.id}-table > .p-datatable-thead > tr > th:nth-child(${l+1}),
                #${this.id}-table > .p-datatable-tbody > tr > td:nth-child(${l+1}),
                #${this.id}-table > .p-datatable-tfoot > tr > td:nth-child(${l+1}) {
                    ${d}
                }
            `}),this.renderer.setProperty(this.styleElement,"innerHTML",this.domSanitizer.bypassSecurityTrustStyle(s))}onRowDragStart(e,t){this.rowDragging=!0,this.draggedRowIndex=t,e.dataTransfer.setData("text","b")}onRowDragOver(e,t,r){if(this.rowDragging&&this.draggedRowIndex!==t){let o=M.getOffset(r).top,s=e.pageY,a=o+M.getOuterHeight(r)/2,l=r.previousElementSibling;s<a?(M.removeClass(r,"p-datatable-dragpoint-bottom"),this.droppedRowIndex=t,l?M.addClass(l,"p-datatable-dragpoint-bottom"):M.addClass(r,"p-datatable-dragpoint-top")):(l?M.removeClass(l,"p-datatable-dragpoint-bottom"):M.addClass(r,"p-datatable-dragpoint-top"),this.droppedRowIndex=t+1,M.addClass(r,"p-datatable-dragpoint-bottom"))}}onRowDragLeave(e,t){let r=t.previousElementSibling;r&&M.removeClass(r,"p-datatable-dragpoint-bottom"),M.removeClass(t,"p-datatable-dragpoint-bottom"),M.removeClass(t,"p-datatable-dragpoint-top")}onRowDragEnd(e){this.rowDragging=!1,this.draggedRowIndex=null,this.droppedRowIndex=null}onRowDrop(e,t){if(this.droppedRowIndex!=null){let r=this.draggedRowIndex>this.droppedRowIndex?this.droppedRowIndex:this.droppedRowIndex===0?0:this.droppedRowIndex-1;fe.reorderArray(this.value,this.draggedRowIndex,r),this.virtualScroll&&(this._value=[...this._value]),this.onRowReorder.emit({dragIndex:this.draggedRowIndex,dropIndex:r})}this.onRowDragLeave(e,t),this.onRowDragEnd(e)}isEmpty(){let e=this.filteredValue||this.value;return e==null||e.length==0}getBlockableElement(){return this.el.nativeElement.children[0]}getStorage(){if(ht(this.platformId))switch(this.stateStorage){case"local":return window.localStorage;case"session":return window.sessionStorage;default:throw new Error(this.stateStorage+' is not a valid value for the state storage, supported values are "local" and "session".')}else throw new Error("Browser storage is not available in the server side.")}isStateful(){return this.stateKey!=null}saveState(){let e=this.getStorage(),t={};this.paginator&&(t.first=this.first,t.rows=this.rows),this.sortField&&(t.sortField=this.sortField,t.sortOrder=this.sortOrder),this.multiSortMeta&&(t.multiSortMeta=this.multiSortMeta),this.hasFilter()&&(t.filters=this.filters),this.resizableColumns&&this.saveColumnWidths(t),this.reorderableColumns&&this.saveColumnOrder(t),this.selection&&(t.selection=this.selection),Object.keys(this.expandedRowKeys).length&&(t.expandedRowKeys=this.expandedRowKeys),e.setItem(this.stateKey,JSON.stringify(t)),this.onStateSave.emit(t)}clearState(){let e=this.getStorage();this.stateKey&&e.removeItem(this.stateKey)}restoreState(){let t=this.getStorage().getItem(this.stateKey),r=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z/,o=function(s,a){return typeof a=="string"&&r.test(a)?new Date(a):a};if(t){let s=JSON.parse(t,o);this.paginator&&(this.first!==void 0&&(this.first=s.first,this.firstChange.emit(this.first)),this.rows!==void 0&&(this.rows=s.rows,this.rowsChange.emit(this.rows))),s.sortField&&(this.restoringSort=!0,this._sortField=s.sortField,this._sortOrder=s.sortOrder),s.multiSortMeta&&(this.restoringSort=!0,this._multiSortMeta=s.multiSortMeta),s.filters&&(this.restoringFilter=!0,this.filters=s.filters),this.resizableColumns&&(this.columnWidthsState=s.columnWidths,this.tableWidthState=s.tableWidth),s.expandedRowKeys&&(this.expandedRowKeys=s.expandedRowKeys),s.selection&&Promise.resolve(null).then(()=>this.selectionChange.emit(s.selection)),this.stateRestored=!0,this.onStateRestore.emit(s)}}saveColumnWidths(e){let t=[],r=[],o=this.containerViewChild?.nativeElement;o&&(r=M.find(o,".p-datatable-thead > tr > th")),r.forEach(s=>t.push(M.getOuterWidth(s))),e.columnWidths=t.join(","),this.columnResizeMode==="expand"&&(e.tableWidth=M.getOuterWidth(this.tableViewChild?.nativeElement))}setResizeTableWidth(e){this.tableViewChild.nativeElement.style.width=e,this.tableViewChild.nativeElement.style.minWidth=e}restoreColumnWidths(){if(this.columnWidthsState){let e=this.columnWidthsState.split(",");if(this.columnResizeMode==="expand"&&this.tableWidthState&&this.setResizeTableWidth(this.tableWidthState+"px"),fe.isNotEmpty(e)){this.createStyleElement();let t="";e.forEach((r,o)=>{let s=`width: ${r}px !important; max-width: ${r}px !important`;t+=`
                        #${this.id}-table > .p-datatable-thead > tr > th:nth-child(${o+1}),
                        #${this.id}-table > .p-datatable-tbody > tr > td:nth-child(${o+1}),
                        #${this.id}-table > .p-datatable-tfoot > tr > td:nth-child(${o+1}) {
                            ${s}
                        }
                    `}),this.styleElement.textContent=t}}}saveColumnOrder(e){if(this.columns){let t=[];this.columns.map(r=>{t.push(r.field||r.key)}),e.columnOrder=t}}restoreColumnOrder(){let t=this.getStorage().getItem(this.stateKey);if(t){let o=JSON.parse(t).columnOrder;if(o){let s=[];o.map(a=>{let l=this.findColumnByKey(a);l&&s.push(l)}),this.columnOrderStateRestored=!0,this.columns=s}}}findColumnByKey(e){if(this.columns){for(let t of this.columns)if(t.key===e||t.field===e)return t}else return null}createStyleElement(){this.styleElement=this.renderer.createElement("style"),this.styleElement.type="text/css",M.setAttribute(this.styleElement,"nonce",this.config?.csp()?.nonce),this.renderer.appendChild(this.document.head,this.styleElement)}getGroupRowsMeta(){return{field:this.groupRowsBy,order:this.groupRowsByOrder}}createResponsiveStyle(){if(ht(this.platformId)&&!this.responsiveStyleElement){this.responsiveStyleElement=this.renderer.createElement("style"),this.responsiveStyleElement.type="text/css",M.setAttribute(this.responsiveStyleElement,"nonce",this.config?.csp()?.nonce),this.renderer.appendChild(this.document.head,this.responsiveStyleElement);let e=`
    @media screen and (max-width: ${this.breakpoint}) {
        #${this.id}-table > .p-datatable-thead > tr > th,
        #${this.id}-table > .p-datatable-tfoot > tr > td {
            display: none !important;
        }

        #${this.id}-table > .p-datatable-tbody > tr > td {
            display: flex;
            width: 100% !important;
            align-items: center;
            justify-content: space-between;
        }

        #${this.id}-table > .p-datatable-tbody > tr > td:not(:last-child) {
            border: 0 none;
        }

        #${this.id}.p-datatable-gridlines > .p-datatable-wrapper > .p-datatable-table > .p-datatable-tbody > tr > td:last-child {
            border-top: 0;
            border-right: 0;
            border-left: 0;
        }

        #${this.id}-table > .p-datatable-tbody > tr > td > .p-column-title {
            display: block;
        }
    }
    `;this.renderer.setProperty(this.responsiveStyleElement,"innerHTML",this.domSanitizer.bypassSecurityTrustStyle(e))}}destroyResponsiveStyle(){this.responsiveStyleElement&&(this.renderer.removeChild(this.document.head,this.responsiveStyleElement),this.responsiveStyleElement=null)}destroyStyleElement(){this.styleElement&&(this.renderer.removeChild(this.document.head,this.styleElement),this.styleElement=null)}ngOnDestroy(){this.unbindDocumentEditListener(),this.editingCell=null,this.initialized=null,this.destroyStyleElement(),this.destroyResponsiveStyle()}getPaginatorStyleClasses(e){return[this.paginatorStyleClass,e].filter(t=>!!t).join(" ").trim()}static \u0275fac=function(t){return new(t||i)(b(_t),b(qt),b(Ft),b(ze),b(xt),b(uv),b(Ie),b(Jl),b(Ao),b(Vt),b(pl))};static \u0275cmp=ie({type:i,selectors:[["p-table"]],contentQueries:function(t,r,o){if(t&1&&ot(o,be,4),t&2){let s;ee(s=te())&&(r.templates=s)}},viewQuery:function(t,r){if(t&1&&(de(Ole,5),de(Dle,5),de(Rle,5),de(Ple,5),de(kle,5),de(Fle,5),de(Lle,5),de(Mle,5),de(Nle,5)),t&2){let o;ee(o=te())&&(r.containerViewChild=o.first),ee(o=te())&&(r.resizeHelperViewChild=o.first),ee(o=te())&&(r.reorderIndicatorUpViewChild=o.first),ee(o=te())&&(r.reorderIndicatorDownViewChild=o.first),ee(o=te())&&(r.wrapperViewChild=o.first),ee(o=te())&&(r.tableViewChild=o.first),ee(o=te())&&(r.tableHeaderViewChild=o.first),ee(o=te())&&(r.tableFooterViewChild=o.first),ee(o=te())&&(r.scroller=o.first)}},hostAttrs:[1,"p-element"],inputs:{frozenColumns:"frozenColumns",frozenValue:"frozenValue",style:"style",styleClass:"styleClass",tableStyle:"tableStyle",tableStyleClass:"tableStyleClass",paginator:[2,"paginator","paginator",K],pageLinks:[2,"pageLinks","pageLinks",ke],rowsPerPageOptions:"rowsPerPageOptions",alwaysShowPaginator:[2,"alwaysShowPaginator","alwaysShowPaginator",K],paginatorPosition:"paginatorPosition",paginatorStyleClass:"paginatorStyleClass",paginatorDropdownAppendTo:"paginatorDropdownAppendTo",paginatorDropdownScrollHeight:"paginatorDropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:[2,"showCurrentPageReport","showCurrentPageReport",K],showJumpToPageDropdown:[2,"showJumpToPageDropdown","showJumpToPageDropdown",K],showJumpToPageInput:[2,"showJumpToPageInput","showJumpToPageInput",K],showFirstLastIcon:[2,"showFirstLastIcon","showFirstLastIcon",K],showPageLinks:[2,"showPageLinks","showPageLinks",K],defaultSortOrder:[2,"defaultSortOrder","defaultSortOrder",ke],sortMode:"sortMode",resetPageOnSort:[2,"resetPageOnSort","resetPageOnSort",K],selectionMode:"selectionMode",selectionPageOnly:[2,"selectionPageOnly","selectionPageOnly",K],contextMenuSelection:"contextMenuSelection",contextMenuSelectionMode:"contextMenuSelectionMode",dataKey:"dataKey",metaKeySelection:[2,"metaKeySelection","metaKeySelection",K],rowSelectable:"rowSelectable",rowTrackBy:"rowTrackBy",lazy:[2,"lazy","lazy",K],lazyLoadOnInit:[2,"lazyLoadOnInit","lazyLoadOnInit",K],compareSelectionBy:"compareSelectionBy",csvSeparator:"csvSeparator",exportFilename:"exportFilename",filters:"filters",globalFilterFields:"globalFilterFields",filterDelay:[2,"filterDelay","filterDelay",ke],filterLocale:"filterLocale",expandedRowKeys:"expandedRowKeys",editingRowKeys:"editingRowKeys",rowExpandMode:"rowExpandMode",scrollable:[2,"scrollable","scrollable",K],scrollDirection:"scrollDirection",rowGroupMode:"rowGroupMode",scrollHeight:"scrollHeight",virtualScroll:[2,"virtualScroll","virtualScroll",K],virtualScrollItemSize:[2,"virtualScrollItemSize","virtualScrollItemSize",ke],virtualScrollOptions:"virtualScrollOptions",virtualScrollDelay:[2,"virtualScrollDelay","virtualScrollDelay",ke],frozenWidth:"frozenWidth",responsive:"responsive",contextMenu:"contextMenu",resizableColumns:[2,"resizableColumns","resizableColumns",K],columnResizeMode:"columnResizeMode",reorderableColumns:[2,"reorderableColumns","reorderableColumns",K],loading:[2,"loading","loading",K],loadingIcon:"loadingIcon",showLoader:[2,"showLoader","showLoader",K],rowHover:[2,"rowHover","rowHover",K],customSort:[2,"customSort","customSort",K],showInitialSortBadge:[2,"showInitialSortBadge","showInitialSortBadge",K],autoLayout:[2,"autoLayout","autoLayout",K],exportFunction:"exportFunction",exportHeader:"exportHeader",stateKey:"stateKey",stateStorage:"stateStorage",editMode:"editMode",groupRowsBy:"groupRowsBy",groupRowsByOrder:[2,"groupRowsByOrder","groupRowsByOrder",ke],responsiveLayout:"responsiveLayout",breakpoint:"breakpoint",paginatorLocale:"paginatorLocale",value:"value",columns:"columns",first:"first",rows:"rows",totalRecords:"totalRecords",sortField:"sortField",sortOrder:"sortOrder",multiSortMeta:"multiSortMeta",selection:"selection",selectAll:"selectAll",virtualRowHeight:"virtualRowHeight"},outputs:{contextMenuSelectionChange:"contextMenuSelectionChange",selectAllChange:"selectAllChange",selectionChange:"selectionChange",onRowSelect:"onRowSelect",onRowUnselect:"onRowUnselect",onPage:"onPage",onSort:"onSort",onFilter:"onFilter",onLazyLoad:"onLazyLoad",onRowExpand:"onRowExpand",onRowCollapse:"onRowCollapse",onContextMenuSelect:"onContextMenuSelect",onColResize:"onColResize",onColReorder:"onColReorder",onRowReorder:"onRowReorder",onEditInit:"onEditInit",onEditComplete:"onEditComplete",onEditCancel:"onEditCancel",onHeaderCheckboxToggle:"onHeaderCheckboxToggle",sortFunction:"sortFunction",firstChange:"firstChange",rowsChange:"rowsChange",onStateSave:"onStateSave",onStateRestore:"onStateRestore"},features:[Ze([uv]),qe,en],decls:16,vars:22,consts:[["container",""],["wrapper",""],["buildInTable",""],["scroller",""],["table",""],["thead",""],["tfoot",""],["resizeHelper",""],["reorderIndicatorUp",""],["reorderIndicatorDown",""],[3,"ngStyle","ngClass"],["class","p-datatable-loading-overlay p-component-overlay",4,"ngIf"],["class","p-datatable-header",4,"ngIf"],[3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","styleClass","locale","onPageChange",4,"ngIf"],[1,"p-datatable-wrapper",3,"ngStyle"],[3,"items","columns","style","scrollHeight","itemSize","step","delay","inline","autoSize","lazy","loaderDisabled","showSpacer","showLoader","options","onLazyLoad",4,"ngIf"],[4,"ngIf"],["class","p-datatable-footer",4,"ngIf"],["class","p-column-resizer-helper",3,"ngStyle",4,"ngIf"],["class","p-datatable-reorder-indicator-up",3,"ngStyle",4,"ngIf"],["class","p-datatable-reorder-indicator-down",3,"ngStyle",4,"ngIf"],[1,"p-datatable-loading-overlay","p-component-overlay"],[3,"class",4,"ngIf"],[3,"spin","styleClass",4,"ngIf"],["class","p-datatable-loading-icon",4,"ngIf"],[3,"spin","styleClass"],[1,"p-datatable-loading-icon"],[4,"ngTemplateOutlet"],[1,"p-datatable-header"],[3,"onPageChange","rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","styleClass","locale"],["pTemplate","dropdownicon"],["pTemplate","firstpagelinkicon"],["pTemplate","previouspagelinkicon"],["pTemplate","lastpagelinkicon"],["pTemplate","nextpagelinkicon"],[3,"onLazyLoad","items","columns","scrollHeight","itemSize","step","delay","inline","autoSize","lazy","loaderDisabled","showSpacer","showLoader","options"],["pTemplate","content"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["role","table",3,"ngClass","ngStyle"],["role","rowgroup",1,"p-datatable-thead"],["role","rowgroup","class","p-datatable-tbody p-datatable-frozen-tbody",3,"value","frozenRows","pTableBody","pTableBodyTemplate","frozen",4,"ngIf"],["role","rowgroup",1,"p-datatable-tbody",3,"ngClass","ngStyle","value","pTableBody","pTableBodyTemplate","scrollerOptions"],["role","rowgroup","class","p-datatable-scroller-spacer",3,"ngStyle",4,"ngIf"],["role","rowgroup","class","p-datatable-tfoot",4,"ngIf"],["role","rowgroup",1,"p-datatable-tbody","p-datatable-frozen-tbody",3,"value","frozenRows","pTableBody","pTableBodyTemplate","frozen"],["role","rowgroup",1,"p-datatable-scroller-spacer",3,"ngStyle"],["role","rowgroup",1,"p-datatable-tfoot"],[1,"p-datatable-footer"],[1,"p-column-resizer-helper",3,"ngStyle"],[1,"p-datatable-reorder-indicator-up",3,"ngStyle"],[1,"p-datatable-reorder-indicator-down",3,"ngStyle"]],template:function(t,r){t&1&&(m(0,"div",10,0),I(2,qle,3,2,"div",11)(3,Jle,2,1,"div",12)(4,pce,6,24,"p-paginator",13),m(5,"div",14,1),I(7,mce,3,17,"p-scroller",15)(8,_ce,2,7,"ng-container",16)(9,Sce,10,26,"ng-template",null,2,Pt),_(),I(11,Uce,6,24,"p-paginator",13)(12,Hce,2,1,"div",17)(13,Gce,2,2,"div",18)(14,$ce,4,4,"span",19)(15,Xce,4,4,"span",20),_()),t&2&&(le(r.styleClass),h("ngStyle",r.style)("ngClass",zi(16,Vle,r.rowHover||r.selectionMode,r.scrollable,r.scrollable&&r.scrollHeight==="flex")),V("id",r.id),u(2),h("ngIf",r.loading&&r.showLoader),u(),h("ngIf",r.captionTemplate),u(),h("ngIf",r.paginator&&(r.paginatorPosition==="top"||r.paginatorPosition=="both")),u(),h("ngStyle",oe(20,Ble,r.virtualScroll?"":r.scrollHeight)),u(2),h("ngIf",r.virtualScroll),u(),h("ngIf",!r.virtualScroll),u(3),h("ngIf",r.paginator&&(r.paginatorPosition==="bottom"||r.paginatorPosition=="both")),u(),h("ngIf",r.summaryTemplate),u(),h("ngIf",r.resizableColumns),u(),h("ngIf",r.reorderableColumns),u(),h("ngIf",r.reorderableColumns))},dependencies:()=>[Ge,et,st,Ee,lv,be,Rs,vf,bf,gs,jde],styles:[`@layer primeng{.p-datatable{position:relative}.p-datatable>.p-datatable-wrapper{overflow:auto}.p-datatable-table{border-spacing:0px;width:100%}.p-datatable .p-sortable-column{cursor:pointer;-webkit-user-select:none;user-select:none}.p-datatable .p-sortable-column .p-column-title,.p-datatable .p-sortable-column .p-sortable-column-icon,.p-datatable .p-sortable-column .p-sortable-column-badge{vertical-align:middle}.p-datatable .p-sortable-column .p-icon-wrapper{display:inline}.p-datatable .p-sortable-column .p-sortable-column-badge{display:inline-flex;align-items:center;justify-content:center}.p-datatable-hoverable-rows .p-selectable-row{cursor:pointer}.p-datatable-scrollable>.p-datatable-wrapper{position:relative}.p-datatable-scrollable-table>.p-datatable-thead{position:sticky;top:0;z-index:2}.p-datatable-scrollable-table>.p-datatable-frozen-tbody{position:sticky;z-index:1}.p-datatable-scrollable-table>.p-datatable-tfoot{position:sticky;bottom:0;z-index:1}.p-datatable-scrollable .p-frozen-column{position:sticky;background:inherit;z-index:1}.p-datatable-scrollable th.p-frozen-column{z-index:1}.p-datatable-flex-scrollable{display:flex;flex-direction:column;height:100%}.p-datatable-flex-scrollable>.p-datatable-wrapper{display:flex;flex-direction:column;flex:1;height:100%}.p-datatable-scrollable-table>.p-datatable-tbody>.p-rowgroup-header{position:sticky;z-index:2}.p-datatable-resizable-table>.p-datatable-thead>tr>th,.p-datatable-resizable-table>.p-datatable-tfoot>tr>td,.p-datatable-resizable-table>.p-datatable-tbody>tr>td{overflow:hidden;white-space:nowrap}.p-datatable-resizable-table>.p-datatable-thead>tr>th.p-resizable-column:not(.p-frozen-column){background-clip:padding-box;position:relative}.p-datatable-resizable-table-fit>.p-datatable-thead>tr>th.p-resizable-column:last-child .p-column-resizer{display:none}.p-datatable .p-column-resizer{display:block;position:absolute!important;top:0;right:0;margin:0;width:.5rem;height:100%;padding:0;cursor:col-resize;border:1px solid transparent}.p-datatable .p-column-resizer-helper{width:1px;position:absolute;z-index:10;display:none}.p-datatable .p-row-editor-init,.p-datatable .p-row-editor-save,.p-datatable .p-row-editor-cancel,.p-datatable .p-row-toggler{display:inline-flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-datatable-reorder-indicator-up,.p-datatable-reorder-indicator-down{position:absolute}.p-datatable-reorderablerow-handle,[pReorderableColumn]{cursor:move}.p-datatable .p-datatable-loading-overlay{position:absolute;display:flex;align-items:center;justify-content:center;z-index:3}.p-column-filter-row{display:flex;align-items:center;width:100%}.p-column-filter-menu{display:inline-flex}.p-column-filter-row p-columnfilterformelement{flex:1 1 auto;width:1%}.p-column-filter-menu-button,.p-column-filter-clear-button{display:inline-flex;justify-content:center;align-items:center;cursor:pointer;text-decoration:none;overflow:hidden;position:relative}.p-column-filter-overlay{position:absolute;top:0;left:0}.p-column-filter-row-items{margin:0;padding:0;list-style:none}.p-column-filter-row-item{cursor:pointer}.p-column-filter-add-button,.p-column-filter-remove-button{justify-content:center}.p-column-filter-add-button .p-button-label,.p-column-filter-remove-button .p-button-label{flex-grow:0}.p-column-filter-buttonbar{display:flex;align-items:center;justify-content:space-between}.p-column-filter-buttonbar .p-button{width:auto}.p-datatable-tbody>tr>td>.p-column-title{display:none}.p-datatable-scroller-spacer{display:flex}.p-datatable .p-scroller .p-scroller-loading{transform:none!important;min-height:0;position:sticky;top:0;left:0}}
`],encapsulation:2})}return i})(),jde=(()=>{class i{dt;tableService;cd;el;columns;template;get value(){return this._value}set value(e){this._value=e,this.frozenRows&&this.updateFrozenRowStickyPosition(),this.dt.scrollable&&this.dt.rowGroupMode==="subheader"&&this.updateFrozenRowGroupHeaderStickyPosition()}frozen;frozenRows;scrollerOptions;subscription;_value;ngAfterViewInit(){this.frozenRows&&this.updateFrozenRowStickyPosition(),this.dt.scrollable&&this.dt.rowGroupMode==="subheader"&&this.updateFrozenRowGroupHeaderStickyPosition()}constructor(e,t,r,o){this.dt=e,this.tableService=t,this.cd=r,this.el=o,this.subscription=this.dt.tableService.valueSource$.subscribe(()=>{this.dt.virtualScroll&&this.cd.detectChanges()})}shouldRenderRowGroupHeader(e,t,r){let o=fe.resolveFieldData(t,this.dt.groupRowsBy),s=e[r-(1+this.dt._first)];if(s){let a=fe.resolveFieldData(s,this.dt.groupRowsBy);return o!==a}else return!0}shouldRenderRowGroupFooter(e,t,r){let o=fe.resolveFieldData(t,this.dt.groupRowsBy),s=e[r+(1+this.dt._first)];if(s){let a=fe.resolveFieldData(s,this.dt.groupRowsBy);return o!==a}else return!0}shouldRenderRowspan(e,t,r){let o=fe.resolveFieldData(t,this.dt.groupRowsBy),s=e[r-1];if(s){let a=fe.resolveFieldData(s,this.dt.groupRowsBy);return o!==a}else return!0}calculateRowGroupSize(e,t,r){let o=fe.resolveFieldData(t,this.dt.groupRowsBy),s=o,a=0;for(;o===s;){a++;let l=e[++r];if(l)s=fe.resolveFieldData(l,this.dt.groupRowsBy);else break}return a===1?null:a}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}updateFrozenRowStickyPosition(){this.el.nativeElement.style.top=M.getOuterHeight(this.el.nativeElement.previousElementSibling)+"px"}updateFrozenRowGroupHeaderStickyPosition(){if(this.el.nativeElement.previousElementSibling){let e=M.getOuterHeight(this.el.nativeElement.previousElementSibling);this.dt.rowGroupHeaderStyleObject.top=e+"px"}}getScrollerOption(e,t){return this.dt.virtualScroll?(t=t||this.scrollerOptions,t?t[e]:null):null}getRowIndex(e){let t=this.dt.paginator?this.dt.first+e:e,r=this.getScrollerOption("getItemOptions");return r?r(t).index:t}static \u0275fac=function(t){return new(t||i)(b(io),b(uv),b(Ie),b(ze))};static \u0275cmp=ie({type:i,selectors:[["","pTableBody",""]],hostAttrs:[1,"p-element"],inputs:{columns:[0,"pTableBody","columns"],template:[0,"pTableBodyTemplate","template"],value:"value",frozen:[2,"frozen","frozen",K],frozenRows:[2,"frozenRows","frozenRows",K],scrollerOptions:"scrollerOptions"},features:[qe],attrs:Qce,decls:5,vars:5,consts:[[4,"ngIf"],["ngFor","",3,"ngForOf","ngForTrackBy"],["role","row",4,"ngIf"],["role","row"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,r){t&1&&I(0,cde,2,2,"ng-container",0)(1,yde,2,2,"ng-container",0)(2,Sde,2,2,"ng-container",0)(3,Ede,2,5,"ng-container",0)(4,Tde,2,5,"ng-container",0),t&2&&(h("ngIf",!r.dt.expandedRowTemplate),u(),h("ngIf",r.dt.expandedRowTemplate&&!(r.frozen&&r.dt.frozenExpandedRowTemplate)),u(),h("ngIf",r.dt.frozenExpandedRowTemplate&&r.frozen),u(),h("ngIf",r.dt.loading),u(),h("ngIf",r.dt.isEmpty()&&!r.dt.loading))},dependencies:[tn,et,st],encapsulation:2})}return i})();var wf=(()=>{class i{dt;field;pSortableColumnDisabled;sorted;sortOrder;subscription;constructor(e){this.dt=e,this.isEnabled()&&(this.subscription=this.dt.tableService.sortSource$.subscribe(t=>{this.updateSortState()}))}ngOnInit(){this.isEnabled()&&this.updateSortState()}updateSortState(){this.sorted=this.dt.isSorted(this.field),this.sortOrder=this.sorted?this.dt.sortOrder===1?"ascending":"descending":"none"}onClick(e){this.isEnabled()&&!this.isFilterElement(e.target)&&(this.updateSortState(),this.dt.sort({originalEvent:e,field:this.field}),M.clearSelection())}onEnterKey(e){this.onClick(e),e.preventDefault()}isEnabled(){return this.pSortableColumnDisabled!==!0}isFilterElement(e){return this.isFilterElementIconOrButton(e)||this.isFilterElementIconOrButton(e?.parentElement?.parentElement)}isFilterElementIconOrButton(e){return M.hasClass(e,"pi-filter-icon")||M.hasClass(e,"p-column-filter-menu-button")}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}static \u0275fac=function(t){return new(t||i)(b(io))};static \u0275dir=gt({type:i,selectors:[["","pSortableColumn",""]],hostAttrs:[1,"p-element"],hostVars:7,hostBindings:function(t,r){t&1&&P("click",function(s){return r.onClick(s)})("keydown.space",function(s){return r.onEnterKey(s)})("keydown.enter",function(s){return r.onEnterKey(s)}),t&2&&(V("tabindex",r.isEnabled()?"0":null)("role","columnheader")("aria-sort",r.sortOrder),yn("p-sortable-column",r.isEnabled())("p-highlight",r.sorted))},inputs:{field:[0,"pSortableColumn","field"],pSortableColumnDisabled:[2,"pSortableColumnDisabled","pSortableColumnDisabled",K]},features:[qe]})}return i})(),Sf=(()=>{class i{dt;cd;field;subscription;sortOrder;constructor(e,t){this.dt=e,this.cd=t,this.subscription=this.dt.tableService.sortSource$.subscribe(r=>{this.updateSortState()})}ngOnInit(){this.updateSortState()}onClick(e){e.preventDefault()}updateSortState(){if(this.dt.sortMode==="single")this.sortOrder=this.dt.isSorted(this.field)?this.dt.sortOrder:0;else if(this.dt.sortMode==="multiple"){let e=this.dt.getSortMeta(this.field);this.sortOrder=e?e.order:0}this.cd.markForCheck()}getMultiSortMetaIndex(){let e=this.dt._multiSortMeta,t=-1;if(e&&this.dt.sortMode==="multiple"&&this.dt.showInitialSortBadge&&e.length>1)for(let r=0;r<e.length;r++){let o=e[r];if(o.field===this.field||o.field===this.field){t=r;break}}return t}getBadgeValue(){let e=this.getMultiSortMetaIndex();return this.dt.groupRowsBy&&e>-1?e:e+1}isMultiSorted(){return this.dt.sortMode==="multiple"&&this.getMultiSortMetaIndex()>-1}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}static \u0275fac=function(t){return new(t||i)(b(io),b(Ie))};static \u0275cmp=ie({type:i,selectors:[["p-sortIcon"]],hostAttrs:[1,"p-element"],inputs:{field:"field"},decls:3,vars:3,consts:[[4,"ngIf"],["class","p-sortable-column-icon",4,"ngIf"],["class","p-sortable-column-badge",4,"ngIf"],[3,"styleClass",4,"ngIf"],[3,"styleClass"],[1,"p-sortable-column-icon"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-sortable-column-badge"]],template:function(t,r){t&1&&I(0,Pde,4,3,"ng-container",0)(1,Lde,2,4,"span",1)(2,Mde,2,1,"span",2),t&2&&(h("ngIf",!r.dt.sortIconTemplate),u(),h("ngIf",r.dt.sortIconTemplate),u(),h("ngIf",r.isMultiSorted()))},dependencies:()=>[et,st,c_,u_,d_],encapsulation:2,changeDetection:0})}return i})(),ou=(()=>{class i{dt;tableService;el;data;index;pSelectableRowDisabled;selected;subscription;constructor(e,t,r){this.dt=e,this.tableService=t,this.el=r,this.isEnabled()&&(this.subscription=this.dt.tableService.selectionSource$.subscribe(()=>{this.selected=this.dt.isSelected(this.data)}))}setRowTabIndex(){if(this.dt.selectionMode==="single"||this.dt.selectionMode==="multiple")return this.dt.selection?this.dt.anchorRowIndex===this.index?0:-1:0}ngOnInit(){this.isEnabled()&&(this.selected=this.dt.isSelected(this.data))}onClick(e){this.isEnabled()&&this.dt.handleRowClick({originalEvent:e,rowData:this.data,rowIndex:this.index})}onTouchEnd(e){this.isEnabled()&&this.dt.handleRowTouchEnd(e)}onKeyDown(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"Space":this.onSpaceKey(e);break;case"Enter":this.onEnterKey(e);break;default:if(e.code==="KeyA"&&(e.metaKey||e.ctrlKey)&&this.dt.selectionMode==="multiple"){let t=this.dt.dataToRender(this.dt.processedData);this.dt.selection=[...t],this.dt.selectRange(e,t.length-1,!0),e.preventDefault()}break}}onArrowDownKey(e){if(!this.isEnabled())return;let t=e.currentTarget,r=this.findNextSelectableRow(t);r&&r.focus(),e.preventDefault()}onArrowUpKey(e){if(!this.isEnabled())return;let t=e.currentTarget,r=this.findPrevSelectableRow(t);r&&r.focus(),e.preventDefault()}onEnterKey(e){this.isEnabled()&&this.dt.handleRowClick({originalEvent:e,rowData:this.data,rowIndex:this.index})}onEndKey(e){let t=this.findLastSelectableRow();if(t&&this.focusRowChange(this.el.nativeElement,t),e.ctrlKey&&e.shiftKey){let r=this.dt.dataToRender(this.dt.rows),o=M.getAttribute(t,"index");this.dt.anchorRowIndex=o,this.dt.selection=r.slice(this.index,r.length),this.dt.selectRange(e,this.index)}e.preventDefault()}onHomeKey(e){let t=this.findFirstSelectableRow();if(t&&this.focusRowChange(this.el.nativeElement,t),e.ctrlKey&&e.shiftKey){let r=this.dt.dataToRender(this.dt.rows),o=M.getAttribute(t,"index");this.dt.anchorRowIndex=this.dt.anchorRowIndex||o,this.dt.selection=r.slice(0,this.index+1),this.dt.selectRange(e,this.index)}e.preventDefault()}onSpaceKey(e){if(!(e.target instanceof HTMLInputElement||e.target instanceof HTMLSelectElement||e.target instanceof HTMLTextAreaElement)){if(this.onEnterKey(e),e.shiftKey&&this.dt.selection!==null){let r=this.dt.dataToRender(this.dt.rows),o;if(fe.isNotEmpty(this.dt.selection)&&this.dt.selection.length>0){let s,a;s=fe.findIndexInList(this.dt.selection[0],r),a=fe.findIndexInList(this.dt.selection[this.dt.selection.length-1],r),o=this.index<=s?a:s}else o=fe.findIndexInList(this.dt.selection,r);this.dt.anchorRowIndex=o,this.dt.selection=o!==this.index?r.slice(Math.min(o,this.index),Math.max(o,this.index)+1):[this.data],this.dt.selectRange(e,this.index)}e.preventDefault()}}focusRowChange(e,t){e.tabIndex="-1",t.tabIndex="0",M.focus(t)}findLastSelectableRow(){let e=M.find(this.dt.el.nativeElement,".p-selectable-row");return e?e[e.length-1]:null}findFirstSelectableRow(){return M.findSingle(this.dt.el.nativeElement,".p-selectable-row")}findNextSelectableRow(e){let t=e.nextElementSibling;return t?M.hasClass(t,"p-selectable-row")?t:this.findNextSelectableRow(t):null}findPrevSelectableRow(e){let t=e.previousElementSibling;return t?M.hasClass(t,"p-selectable-row")?t:this.findPrevSelectableRow(t):null}isEnabled(){return this.pSelectableRowDisabled!==!0}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}static \u0275fac=function(t){return new(t||i)(b(io),b(uv),b(ze))};static \u0275dir=gt({type:i,selectors:[["","pSelectableRow",""]],hostAttrs:[1,"p-element"],hostVars:7,hostBindings:function(t,r){t&1&&P("click",function(s){return r.onClick(s)})("touchend",function(s){return r.onTouchEnd(s)})("keydown",function(s){return r.onKeyDown(s)}),t&2&&(V("tabindex",r.setRowTabIndex())("data-p-highlight",r.selected)("data-p-selectable-row",!0),yn("p-selectable-row",r.isEnabled())("p-highlight",r.selected))},inputs:{data:[0,"pSelectableRow","data"],index:[0,"pSelectableRowIndex","index"],pSelectableRowDisabled:[2,"pSelectableRowDisabled","pSelectableRowDisabled",K]},features:[qe]})}return i})();var hv=(()=>{class i{document;platformId;renderer;dt;el;zone;pResizableColumnDisabled;resizer;resizerMouseDownListener;resizerTouchStartListener;resizerTouchMoveListener;resizerTouchEndListener;documentMouseMoveListener;documentMouseUpListener;constructor(e,t,r,o,s,a){this.document=e,this.platformId=t,this.renderer=r,this.dt=o,this.el=s,this.zone=a}ngAfterViewInit(){ht(this.platformId)&&this.isEnabled()&&(M.addClass(this.el.nativeElement,"p-resizable-column"),this.resizer=this.renderer.createElement("span"),this.renderer.addClass(this.resizer,"p-column-resizer"),this.renderer.appendChild(this.el.nativeElement,this.resizer),this.zone.runOutsideAngular(()=>{this.resizerMouseDownListener=this.renderer.listen(this.resizer,"mousedown",this.onMouseDown.bind(this)),this.resizerTouchStartListener=this.renderer.listen(this.resizer,"touchstart",this.onTouchStart.bind(this))}))}bindDocumentEvents(){this.zone.runOutsideAngular(()=>{this.documentMouseMoveListener=this.renderer.listen(this.document,"mousemove",this.onDocumentMouseMove.bind(this)),this.documentMouseUpListener=this.renderer.listen(this.document,"mouseup",this.onDocumentMouseUp.bind(this)),this.resizerTouchMoveListener=this.renderer.listen(this.resizer,"touchmove",this.onTouchMove.bind(this)),this.resizerTouchEndListener=this.renderer.listen(this.resizer,"touchend",this.onTouchEnd.bind(this))})}unbindDocumentEvents(){this.documentMouseMoveListener&&(this.documentMouseMoveListener(),this.documentMouseMoveListener=null),this.documentMouseUpListener&&(this.documentMouseUpListener(),this.documentMouseUpListener=null),this.resizerTouchMoveListener&&(this.resizerTouchMoveListener(),this.resizerTouchMoveListener=null),this.resizerTouchEndListener&&(this.resizerTouchEndListener(),this.resizerTouchEndListener=null)}onMouseDown(e){this.dt.onColumnResizeBegin(e),this.bindDocumentEvents()}onTouchStart(e){this.dt.onColumnResizeBegin(e),this.bindDocumentEvents()}onTouchMove(e){this.dt.onColumnResize(e)}onDocumentMouseMove(e){this.dt.onColumnResize(e)}onDocumentMouseUp(e){this.dt.onColumnResizeEnd(),this.unbindDocumentEvents()}onTouchEnd(e){this.dt.onColumnResizeEnd(),this.unbindDocumentEvents()}isEnabled(){return this.pResizableColumnDisabled!==!0}ngOnDestroy(){this.resizerMouseDownListener&&(this.resizerMouseDownListener(),this.resizerMouseDownListener=null),this.unbindDocumentEvents()}static \u0275fac=function(t){return new(t||i)(b(_t),b(qt),b(Ft),b(io),b(ze),b(xt))};static \u0275dir=gt({type:i,selectors:[["","pResizableColumn",""]],hostAttrs:[1,"p-element"],inputs:{pResizableColumnDisabled:[2,"pResizableColumnDisabled","pResizableColumnDisabled",K]},features:[qe]})}return i})();var zT=(()=>{class i{dt;el;zone;data;field;rowIndex;pEditableColumnDisabled;pFocusCellSelector;overlayEventListener;constructor(e,t,r){this.dt=e,this.el=t,this.zone=r}ngOnChanges(e){e.pEditableColumnDisabled?.currentValue===!0&&M.hasClass(this.el.nativeElement,"p-cell-editing")?this.closeEditingCell(!1,new Event("cancel")):e.data?.firstChange===!1&&this.el.nativeElement&&this.dt.updateEditingCell(this.el.nativeElement,this.data,this.field,this.rowIndex)}ngAfterViewInit(){this.isEnabled()&&M.addClass(this.el.nativeElement,"p-editable-column")}onClick(e){if(this.isEnabled())if(this.dt.selfClick=!0,this.dt.editingCell){if(this.dt.editingCell!==this.el.nativeElement){if(!this.dt.isEditingCellValid())return;this.closeEditingCell(!0,e),this.openCell()}}else this.openCell()}openCell(){this.dt.updateEditingCell(this.el.nativeElement,this.data,this.field,this.rowIndex),M.addClass(this.el.nativeElement,"p-cell-editing"),this.dt.onEditInit.emit({field:this.field,data:this.data,index:this.rowIndex}),this.zone.runOutsideAngular(()=>{setTimeout(()=>{let e=this.pFocusCellSelector||"input, textarea, select",t=M.findSingle(this.el.nativeElement,e);t&&t.focus()},50)}),this.overlayEventListener=e=>{this.el&&this.el.nativeElement.contains(e.target)&&(this.dt.selfClick=!0)},this.dt.overlaySubscription=this.dt.overlayService.clickObservable.subscribe(this.overlayEventListener)}closeEditingCell(e,t){let r={field:this.dt.editingCellField,data:this.dt.editingCellData,originalEvent:t,index:this.dt.editingCellRowIndex};e?this.dt.onEditComplete.emit(r):(this.dt.onEditCancel.emit(r),this.dt.value.forEach(o=>{o[this.dt.editingCellField]===this.data&&(o[this.dt.editingCellField]=this.dt.editingCellData)})),M.removeClass(this.dt.editingCell,"p-cell-editing"),this.dt.editingCell=null,this.dt.editingCellData=null,this.dt.editingCellField=null,this.dt.unbindDocumentEditListener(),this.dt.overlaySubscription&&this.dt.overlaySubscription.unsubscribe()}onEnterKeyDown(e){this.isEnabled()&&!e.shiftKey&&(this.dt.isEditingCellValid()&&this.closeEditingCell(!0,e),e.preventDefault())}onTabKeyDown(e){this.isEnabled()&&(this.dt.isEditingCellValid()&&this.closeEditingCell(!0,e),e.preventDefault())}onEscapeKeyDown(e){this.isEnabled()&&(this.dt.isEditingCellValid()&&this.closeEditingCell(!1,e),e.preventDefault())}onShiftKeyDown(e){this.isEnabled()&&(e.shiftKey?this.moveToPreviousCell(e):this.moveToNextCell(e))}onArrowDown(e){if(this.isEnabled()){let t=this.findCell(e.target);if(t){let r=M.index(t),o=this.findNextEditableColumnByIndex(t,r);o&&(this.dt.isEditingCellValid()&&this.closeEditingCell(!0,e),M.invokeElementMethod(e.target,"blur"),M.invokeElementMethod(o,"click")),e.preventDefault()}}}onArrowUp(e){if(this.isEnabled()){let t=this.findCell(e.target);if(t){let r=M.index(t),o=this.findPrevEditableColumnByIndex(t,r);o&&(this.dt.isEditingCellValid()&&this.closeEditingCell(!0,e),M.invokeElementMethod(e.target,"blur"),M.invokeElementMethod(o,"click")),e.preventDefault()}}}onArrowLeft(e){this.isEnabled()&&this.moveToPreviousCell(e)}onArrowRight(e){this.isEnabled()&&this.moveToNextCell(e)}findCell(e){if(e){let t=e;for(;t&&!M.hasClass(t,"p-cell-editing");)t=t.parentElement;return t}else return null}moveToPreviousCell(e){let t=this.findCell(e.target);if(t){let r=this.findPreviousEditableColumn(t);r&&(this.dt.isEditingCellValid()&&this.closeEditingCell(!0,e),M.invokeElementMethod(e.target,"blur"),M.invokeElementMethod(r,"click"),e.preventDefault())}}moveToNextCell(e){let t=this.findCell(e.target);if(t){let r=this.findNextEditableColumn(t);r?(this.dt.isEditingCellValid()&&this.closeEditingCell(!0,e),M.invokeElementMethod(e.target,"blur"),M.invokeElementMethod(r,"click"),e.preventDefault()):this.dt.isEditingCellValid()&&this.closeEditingCell(!0,e)}}findPreviousEditableColumn(e){let t=e.previousElementSibling;if(!t){let r=e.parentElement?.previousElementSibling;r&&(t=r.lastElementChild)}return t?M.hasClass(t,"p-editable-column")?t:this.findPreviousEditableColumn(t):null}findNextEditableColumn(e){let t=e.nextElementSibling;if(!t){let r=e.parentElement?.nextElementSibling;r&&(t=r.firstElementChild)}return t?M.hasClass(t,"p-editable-column")?t:this.findNextEditableColumn(t):null}findNextEditableColumnByIndex(e,t){let r=e.parentElement?.nextElementSibling;if(r){let o=r.children[t];return o&&M.hasClass(o,"p-editable-column")?o:null}else return null}findPrevEditableColumnByIndex(e,t){let r=e.parentElement?.previousElementSibling;if(r){let o=r.children[t];return o&&M.hasClass(o,"p-editable-column")?o:null}else return null}isEnabled(){return this.pEditableColumnDisabled!==!0}ngOnDestroy(){this.dt.overlaySubscription&&this.dt.overlaySubscription.unsubscribe()}static \u0275fac=function(t){return new(t||i)(b(io),b(ze),b(xt))};static \u0275dir=gt({type:i,selectors:[["","pEditableColumn",""]],hostAttrs:[1,"p-element"],hostBindings:function(t,r){t&1&&P("click",function(s){return r.onClick(s)})("keydown.enter",function(s){return r.onEnterKeyDown(s)})("keydown.tab",function(s){return r.onShiftKeyDown(s)})("keydown.escape",function(s){return r.onEscapeKeyDown(s)})("keydown.shift.tab",function(s){return r.onShiftKeyDown(s)})("keydown.meta.tab",function(s){return r.onShiftKeyDown(s)})("keydown.arrowdown",function(s){return r.onArrowDown(s)})("keydown.arrowup",function(s){return r.onArrowUp(s)})("keydown.arrowleft",function(s){return r.onArrowLeft(s)})("keydown.arrowright",function(s){return r.onArrowRight(s)})},inputs:{data:[0,"pEditableColumn","data"],field:[0,"pEditableColumnField","field"],rowIndex:[0,"pEditableColumnRowIndex","rowIndex"],pEditableColumnDisabled:[2,"pEditableColumnDisabled","pEditableColumnDisabled",K],pFocusCellSelector:"pFocusCellSelector"},features:[qe,en]})}return i})(),Hde=(()=>{class i{el;data;pEditableRowDisabled;constructor(e){this.el=e}isEnabled(){return this.pEditableRowDisabled!==!0}static \u0275fac=function(t){return new(t||i)(b(ze))};static \u0275dir=gt({type:i,selectors:[["","pEditableRow",""]],hostAttrs:[1,"p-element"],inputs:{data:[0,"pEditableRow","data"],pEditableRowDisabled:[2,"pEditableRowDisabled","pEditableRowDisabled",K]},features:[qe]})}return i})();var h5=(()=>{class i{dt;editableColumn;editableRow;templates;inputTemplate;outputTemplate;constructor(e,t,r){this.dt=e,this.editableColumn=t,this.editableRow=r}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"input":this.inputTemplate=e.template;break;case"output":this.outputTemplate=e.template;break}})}get editing(){return this.dt.editingCell&&this.editableColumn&&this.dt.editingCell===this.editableColumn.el.nativeElement||this.editableRow&&this.dt.editMode==="row"&&this.dt.isRowEditing(this.editableRow.data)}static \u0275fac=function(t){return new(t||i)(b(io),b(zT,8),b(Hde,8))};static \u0275cmp=ie({type:i,selectors:[["p-cellEditor"]],contentQueries:function(t,r,o){if(t&1&&ot(o,be,4),t&2){let s;ee(s=te())&&(r.templates=s)}},hostAttrs:[1,"p-element"],decls:2,vars:2,consts:[[4,"ngIf"],[4,"ngTemplateOutlet"]],template:function(t,r){t&1&&I(0,Vde,2,1,"ng-container",0)(1,Ude,2,1,"ng-container",0),t&2&&(h("ngIf",r.editing),u(),h("ngIf",!r.editing))},dependencies:[et,st],encapsulation:2})}return i})();var f5=(()=>{class i{el;constructor(e){this.el=e}ngAfterViewInit(){M.addClass(this.el.nativeElement,"p-datatable-reorderablerow-handle")}static \u0275fac=function(t){return new(t||i)(b(ze))};static \u0275dir=gt({type:i,selectors:[["","pReorderableRowHandle",""]],hostAttrs:[1,"p-element"]})}return i})(),m5=(()=>{class i{renderer;dt;el;zone;index;pReorderableRowDisabled;mouseDownListener;dragStartListener;dragEndListener;dragOverListener;dragLeaveListener;dropListener;constructor(e,t,r,o){this.renderer=e,this.dt=t,this.el=r,this.zone=o}ngAfterViewInit(){this.isEnabled()&&(this.el.nativeElement.droppable=!0,this.bindEvents())}bindEvents(){this.zone.runOutsideAngular(()=>{this.mouseDownListener=this.renderer.listen(this.el.nativeElement,"mousedown",this.onMouseDown.bind(this)),this.dragStartListener=this.renderer.listen(this.el.nativeElement,"dragstart",this.onDragStart.bind(this)),this.dragEndListener=this.renderer.listen(this.el.nativeElement,"dragend",this.onDragEnd.bind(this)),this.dragOverListener=this.renderer.listen(this.el.nativeElement,"dragover",this.onDragOver.bind(this)),this.dragLeaveListener=this.renderer.listen(this.el.nativeElement,"dragleave",this.onDragLeave.bind(this))})}unbindEvents(){this.mouseDownListener&&(this.mouseDownListener(),this.mouseDownListener=null),this.dragStartListener&&(this.dragStartListener(),this.dragStartListener=null),this.dragEndListener&&(this.dragEndListener(),this.dragEndListener=null),this.dragOverListener&&(this.dragOverListener(),this.dragOverListener=null),this.dragLeaveListener&&(this.dragLeaveListener(),this.dragLeaveListener=null)}onMouseDown(e){let t=e.target,r=this.isHandleElement(t);this.el.nativeElement.draggable=r}isHandleElement(e){return e?.classList.contains("p-datatable-reorderablerow-handle")?!0:e?.parentElement&&!["TD","TR"].includes(e?.parentElement?.tagName)?this.isHandleElement(e?.parentElement):!1}onDragStart(e){this.dt.onRowDragStart(e,this.index)}onDragEnd(e){this.dt.onRowDragEnd(e),this.el.nativeElement.draggable=!1}onDragOver(e){this.dt.onRowDragOver(e,this.index,this.el.nativeElement),e.preventDefault()}onDragLeave(e){this.dt.onRowDragLeave(e,this.el.nativeElement)}isEnabled(){return this.pReorderableRowDisabled!==!0}onDrop(e){this.isEnabled()&&this.dt.rowDragging&&this.dt.onRowDrop(e,this.el.nativeElement),e.preventDefault()}ngOnDestroy(){this.unbindEvents()}static \u0275fac=function(t){return new(t||i)(b(Ft),b(io),b(ze),b(xt))};static \u0275dir=gt({type:i,selectors:[["","pReorderableRow",""]],hostAttrs:[1,"p-element"],hostBindings:function(t,r){t&1&&P("drop",function(s){return r.onDrop(s)})},inputs:{index:[0,"pReorderableRow","index"],pReorderableRowDisabled:[2,"pReorderableRowDisabled","pReorderableRowDisabled",K]},features:[qe]})}return i})();var WT=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=Oe({type:i});static \u0275inj=Te({imports:[Ye,cv,Oa,nu,Zd,Gr,p_,l_,s_,l5,Wr,vf,bf,gs,c_,u_,d_,fn,o5,s5,Ps,a5,nt,Wr]})}return i})();var Gde=["input"],zde=(i,n,e,t)=>({"p-checkbox p-component":!0,"p-checkbox-checked":i,"p-checkbox-disabled":n,"p-checkbox-focused":e,"p-variant-filled":t}),Wde=(i,n,e)=>({"p-highlight":i,"p-disabled":n,"p-focus":e}),Kde=(i,n,e)=>({"p-checkbox-label":!0,"p-checkbox-label-active":i,"p-disabled":n,"p-checkbox-label-focus":e});function $de(i,n){if(i&1&&O(0,"span",10),i&2){let e=f(3);h("ngClass",e.checkboxIcon),V("data-pc-section","icon")}}function qde(i,n){i&1&&O(0,"CheckIcon",11),i&2&&(h("styleClass","p-checkbox-icon"),V("data-pc-section","icon"))}function Yde(i,n){if(i&1&&(pe(0),I(1,$de,1,2,"span",8)(2,qde,1,2,"CheckIcon",9),he()),i&2){let e=f(2);u(),h("ngIf",e.checkboxIcon),u(),h("ngIf",!e.checkboxIcon)}}function Jde(i,n){}function Xde(i,n){i&1&&I(0,Jde,0,0,"ng-template")}function Qde(i,n){if(i&1&&(m(0,"span",12),I(1,Xde,1,0,null,13),_()),i&2){let e=f(2);V("data-pc-section","icon"),u(),h("ngTemplateOutlet",e.checkboxIconTemplate)}}function Zde(i,n){if(i&1&&(pe(0),I(1,Yde,3,2,"ng-container",5)(2,Qde,2,2,"span",7),he()),i&2){let e=f();u(),h("ngIf",!e.checkboxIconTemplate),u(),h("ngIf",e.checkboxIconTemplate)}}function eue(i,n){if(i&1){let e=B();m(0,"label",14),P("click",function(r){S(e);let o=f(),s=We(3);return A(o.onClick(r,s,!0))}),D(1),_()}if(i&2){let e=f();le(e.labelStyleClass),h("ngClass",zi(6,Kde,e.checked(),e.disabled,e.focused)),V("for",e.inputId)("data-pc-section","label"),u(),J(" ",e.label,"")}}var tue={provide:nn,useExisting:zt(()=>Hc),multi:!0},Hc=(()=>{class i{cd;injector;config;value;name;disabled;binary;label;ariaLabelledBy;ariaLabel;tabindex;inputId;style;styleClass;labelStyleClass;formControl;checkboxIcon;readonly;required;autofocus;trueValue=!0;falseValue=!1;variant="outlined";onChange=new Q;onFocus=new Q;onBlur=new Q;inputViewChild;templates;checkboxIconTemplate;model;onModelChange=()=>{};onModelTouched=()=>{};focused=!1;constructor(e,t,r){this.cd=e,this.injector=t,this.config=r}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"icon":this.checkboxIconTemplate=e.template;break}})}onClick(e,t,r){e.preventDefault(),!(this.disabled||this.readonly)&&(this.updateModel(e),r&&t.focus())}updateModel(e){let t,r=this.injector.get(jo,null,{optional:!0,self:!0}),o=r&&!this.formControl?r.value:this.model;this.binary?(t=this.checked()?this.falseValue:this.trueValue,this.model=t,this.onModelChange(t)):(this.checked()?t=o.filter(s=>!fe.equals(s,this.value)):t=o?[...o,this.value]:[this.value],this.onModelChange(t),this.model=t,this.formControl&&this.formControl.setValue(t)),this.onChange.emit({checked:t,originalEvent:e})}handleChange(e){this.readonly||this.updateModel(e)}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1,this.onBlur.emit(e),this.onModelTouched()}focus(){this.inputViewChild.nativeElement.focus()}writeValue(e){this.model=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){setTimeout(()=>{this.disabled=e,this.cd.markForCheck()})}checked(){return this.binary?this.model===this.trueValue:fe.contains(this.value,this.model)}static \u0275fac=function(t){return new(t||i)(b(Ie),b(Er),b(Vt))};static \u0275cmp=ie({type:i,selectors:[["p-checkbox"]],contentQueries:function(t,r,o){if(t&1&&ot(o,be,4),t&2){let s;ee(s=te())&&(r.templates=s)}},viewQuery:function(t,r){if(t&1&&de(Gde,5),t&2){let o;ee(o=te())&&(r.inputViewChild=o.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",name:"name",disabled:[2,"disabled","disabled",K],binary:[2,"binary","binary",K],label:"label",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",tabindex:[2,"tabindex","tabindex",ke],inputId:"inputId",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass",formControl:"formControl",checkboxIcon:"checkboxIcon",readonly:[2,"readonly","readonly",K],required:[2,"required","required",K],autofocus:[2,"autofocus","autofocus",K],trueValue:"trueValue",falseValue:"falseValue",variant:"variant"},outputs:{onChange:"onChange",onFocus:"onFocus",onBlur:"onBlur"},features:[Ze([tue]),qe],decls:7,vars:37,consts:[["input",""],[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","checkbox","pAutoFocus","",3,"change","focus","blur","value","checked","disabled","readonly","autofocus"],[1,"p-checkbox-box",3,"click","ngClass"],[4,"ngIf"],[3,"class","ngClass","click",4,"ngIf"],["class","p-checkbox-icon",4,"ngIf"],["class","p-checkbox-icon",3,"ngClass",4,"ngIf"],[3,"styleClass",4,"ngIf"],[1,"p-checkbox-icon",3,"ngClass"],[3,"styleClass"],[1,"p-checkbox-icon"],[4,"ngTemplateOutlet"],[3,"click","ngClass"]],template:function(t,r){if(t&1){let o=B();m(0,"div",1)(1,"div",2)(2,"input",3,0),P("change",function(a){return S(o),A(r.handleChange(a))})("focus",function(a){return S(o),A(r.onInputFocus(a))})("blur",function(a){return S(o),A(r.onInputBlur(a))}),_()(),m(4,"div",4),P("click",function(a){S(o);let l=We(3);return A(r.onClick(a,l,!0))}),I(5,Zde,3,2,"ng-container",5),_()(),I(6,eue,2,10,"label",6)}t&2&&(le(r.styleClass),h("ngStyle",r.style)("ngClass",dr(28,zde,r.checked(),r.disabled,r.focused,r.variant==="filled"||r.config.inputStyle()==="filled")),V("data-pc-name","checkbox")("data-pc-section","root"),u(),V("data-pc-section","hiddenInputWrapper")("data-p-hidden-accessible",!0),u(),h("value",r.value)("checked",r.checked())("disabled",r.disabled)("readonly",r.readonly)("autofocus",r.autofocus),V("id",r.inputId)("name",r.name)("tabindex",r.tabindex)("required",r.required)("aria-labelledby",r.ariaLabelledBy)("aria-label",r.ariaLabel)("aria-checked",r.checked())("data-pc-section","hiddenInput"),u(2),h("ngClass",zi(33,Wde,r.checked(),r.disabled,r.focused)),V("data-p-highlight",r.checked())("data-p-disabled",r.disabled)("data-p-focused",r.focused)("data-pc-section","input"),u(),h("ngIf",r.checked()),u(),h("ngIf",r.label))},dependencies:()=>[Ge,et,st,Ee,Mn,fn],styles:[`@layer primeng{.p-checkbox{display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;vertical-align:bottom;position:relative}.p-checkbox-disabled{cursor:default!important;pointer-events:none}.p-checkbox-box{display:flex;justify-content:center;align-items:center}p-checkbox{display:inline-flex;vertical-align:bottom;align-items:center}.p-checkbox-label{line-height:1}}
`],encapsulation:2,changeDetection:0})}return i})(),KT=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=Oe({type:i});static \u0275inj=Te({imports:[Ye,Qn,fn,nt]})}return i})();var iue=["mask"],nue=["*"],rue=i=>({"p-blockui-document":i,"p-blockui p-component-overlay p-component-overlay-enter":!0}),oue=()=>({display:"none"});function sue(i,n){i&1&&ue(0)}var hdt=(()=>{class i{document;el;cd;config;renderer;platformId;target;autoZIndex=!0;baseZIndex=0;styleClass;get blocked(){return this._blocked}set blocked(e){this.mask&&this.mask.nativeElement?e?this.block():this.unblock():this._blocked=e}templates;mask;_blocked=!1;animationEndListener;contentTemplate;constructor(e,t,r,o,s,a){this.document=e,this.el=t,this.cd=r,this.config=o,this.renderer=s,this.platformId=a}ngAfterViewInit(){if(this._blocked&&this.block(),this.target&&!this.target.getBlockableElement)throw"Target of BlockUI must implement BlockableUI interface"}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;default:this.contentTemplate=e.template;break}})}block(){ht(this.platformId)&&(this._blocked=!0,this.mask.nativeElement.style.display="flex",this.target?(this.target.getBlockableElement().appendChild(this.mask.nativeElement),this.target.getBlockableElement().style.position="relative"):(this.renderer.appendChild(this.document.body,this.mask.nativeElement),M.blockBodyScroll()),this.autoZIndex&&hi.set("modal",this.mask.nativeElement,this.baseZIndex+this.config.zIndex.modal))}unblock(){ht(this.platformId)&&this.mask&&!this.animationEndListener&&(this.animationEndListener=this.renderer.listen(this.mask.nativeElement,"animationend",this.destroyModal.bind(this)),M.addClass(this.mask.nativeElement,"p-component-overlay-leave"))}destroyModal(){this._blocked=!1,this.mask&&ht(this.platformId)&&(hi.clear(this.mask.nativeElement),M.removeClass(this.mask.nativeElement,"p-component-overlay-leave"),this.renderer.removeChild(this.el.nativeElement,this.mask.nativeElement),M.unblockBodyScroll()),this.unbindAnimationEndListener(),this.cd.markForCheck()}unbindAnimationEndListener(){this.animationEndListener&&this.mask&&(this.animationEndListener(),this.animationEndListener=null)}ngOnDestroy(){this.unblock(),this.destroyModal()}static \u0275fac=function(t){return new(t||i)(b(_t),b(ze),b(Ie),b(Vt),b(Ft),b(qt))};static \u0275cmp=ie({type:i,selectors:[["p-blockUI"]],contentQueries:function(t,r,o){if(t&1&&ot(o,be,4),t&2){let s;ee(s=te())&&(r.templates=s)}},viewQuery:function(t,r){if(t&1&&de(iue,5),t&2){let o;ee(o=te())&&(r.mask=o.first)}},hostAttrs:[1,"p-element"],inputs:{target:"target",autoZIndex:[2,"autoZIndex","autoZIndex",K],baseZIndex:[2,"baseZIndex","baseZIndex",ke],styleClass:"styleClass",blocked:"blocked"},features:[qe],ngContentSelectors:nue,decls:4,vars:11,consts:[["mask",""],[3,"ngClass","ngStyle"],[4,"ngTemplateOutlet"]],template:function(t,r){t&1&&(Fi(),m(0,"div",1,0),ii(2),I(3,sue,1,0,"ng-container",2),_()),t&2&&(le(r.styleClass),h("ngClass",oe(8,rue,!r.target))("ngStyle",Ae(10,oue)),V("aria-busy",r.blocked)("data-pc-name","blockui")("data-pc-section","root"),u(3),h("ngTemplateOutlet",r.contentTemplate))},dependencies:[Ge,st,Ee],styles:[`@layer primeng{.p-blockui{position:absolute;top:0;left:0;width:100%;height:100%;background-color:transparent;transition-property:background-color;display:flex;align-items:center;justify-content:center}.p-blockui.p-component-overlay{position:absolute}.p-blockui-document.p-component-overlay{position:fixed}.p-blockui-leave.p-component-overlay{background-color:transparent}}
`],encapsulation:2,changeDetection:0})}return i})(),$T=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=Oe({type:i});static \u0275inj=Te({imports:[Ye]})}return i})();var Bi="primary",E_=Symbol("RouteTitle"),QT=class{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){let e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function Rf(i){return new QT(i)}function aue(i,n,e){let t=e.path.split("/");if(t.length>i.length||e.pathMatch==="full"&&(n.hasChildren()||t.length<i.length))return null;let r={};for(let o=0;o<t.length;o++){let s=t[o],a=i[o];if(s[0]===":")r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:i.slice(0,t.length),posParams:r}}function lue(i,n){if(i.length!==n.length)return!1;for(let e=0;e<i.length;++e)if(!Ql(i[e],n[e]))return!1;return!0}function Ql(i,n){let e=i?ZT(i):void 0,t=n?ZT(n):void 0;if(!e||!t||e.length!=t.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!E5(i[r],n[r]))return!1;return!0}function ZT(i){return[...Object.keys(i),...Object.getOwnPropertySymbols(i)]}function E5(i,n){if(Array.isArray(i)&&Array.isArray(n)){if(i.length!==n.length)return!1;let e=[...i].sort(),t=[...n].sort();return e.every((r,o)=>t[o]===r)}else return i===n}function x5(i){return i.length>0?i[i.length-1]:null}function lu(i){return wc(i)?i:Kd(i)?Tn(Promise.resolve(i)):wt(i)}var cue={exact:O5,subset:D5},T5={exact:due,subset:uue,ignored:()=>!0};function g5(i,n,e){return cue[e.paths](i.root,n.root,e.matrixParams)&&T5[e.queryParams](i.queryParams,n.queryParams)&&!(e.fragment==="exact"&&i.fragment!==n.fragment)}function due(i,n){return Ql(i,n)}function O5(i,n,e){if(!Np(i.segments,n.segments)||!_v(i.segments,n.segments,e)||i.numberOfChildren!==n.numberOfChildren)return!1;for(let t in n.children)if(!i.children[t]||!O5(i.children[t],n.children[t],e))return!1;return!0}function uue(i,n){return Object.keys(n).length<=Object.keys(i).length&&Object.keys(n).every(e=>E5(i[e],n[e]))}function D5(i,n,e){return R5(i,n,n.segments,e)}function R5(i,n,e,t){if(i.segments.length>e.length){let r=i.segments.slice(0,e.length);return!(!Np(r,e)||n.hasChildren()||!_v(r,e,t))}else if(i.segments.length===e.length){if(!Np(i.segments,e)||!_v(i.segments,e,t))return!1;for(let r in n.children)if(!i.children[r]||!D5(i.children[r],n.children[r],t))return!1;return!0}else{let r=e.slice(0,i.segments.length),o=e.slice(i.segments.length);return!Np(i.segments,r)||!_v(i.segments,r,t)||!i.children[Bi]?!1:R5(i.children[Bi],n,o,t)}}function _v(i,n,e){return n.every((t,r)=>T5[e](i[r].parameters,t.parameters))}var zc=class{constructor(n=new Dn([],{}),e={},t=null){this.root=n,this.queryParams=e,this.fragment=t}get queryParamMap(){return this._queryParamMap??=Rf(this.queryParams),this._queryParamMap}toString(){return fue.serialize(this)}},Dn=class{constructor(n,e){this.segments=n,this.children=e,this.parent=null,Object.values(e).forEach(t=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Cv(this)}},Mp=class{constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap??=Rf(this.parameters),this._parameterMap}toString(){return k5(this)}};function pue(i,n){return Np(i,n)&&i.every((e,t)=>Ql(e.parameters,n[t].parameters))}function Np(i,n){return i.length!==n.length?!1:i.every((e,t)=>e.path===n[t].path)}function hue(i,n){let e=[];return Object.entries(i.children).forEach(([t,r])=>{t===Bi&&(e=e.concat(n(r,t)))}),Object.entries(i.children).forEach(([t,r])=>{t!==Bi&&(e=e.concat(n(r,t)))}),e}var x_=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=_e({token:i,factory:()=>new Pf,providedIn:"root"})}}return i})(),Pf=class{parse(n){let e=new t2(n);return new zc(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){let e=`/${h_(n.root,!0)}`,t=_ue(n.queryParams),r=typeof n.fragment=="string"?`#${mue(n.fragment)}`:"";return`${e}${t}${r}`}},fue=new Pf;function Cv(i){return i.segments.map(n=>k5(n)).join("/")}function h_(i,n){if(!i.hasChildren())return Cv(i);if(n){let e=i.children[Bi]?h_(i.children[Bi],!1):"",t=[];return Object.entries(i.children).forEach(([r,o])=>{r!==Bi&&t.push(`${r}:${h_(o,!1)}`)}),t.length>0?`${e}(${t.join("//")})`:e}else{let e=hue(i,(t,r)=>r===Bi?[h_(i.children[Bi],!1)]:[`${r}:${h_(t,!1)}`]);return Object.keys(i.children).length===1&&i.children[Bi]!=null?`${Cv(i)}/${e[0]}`:`${Cv(i)}/(${e.join("//")})`}}function P5(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function mv(i){return P5(i).replace(/%3B/gi,";")}function mue(i){return encodeURI(i)}function e2(i){return P5(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function yv(i){return decodeURIComponent(i)}function _5(i){return yv(i.replace(/\+/g,"%20"))}function k5(i){return`${e2(i.path)}${gue(i.parameters)}`}function gue(i){return Object.entries(i).map(([n,e])=>`;${e2(n)}=${e2(e)}`).join("")}function _ue(i){let n=Object.entries(i).map(([e,t])=>Array.isArray(t)?t.map(r=>`${mv(e)}=${mv(r)}`).join("&"):`${mv(e)}=${mv(t)}`).filter(e=>e);return n.length?`?${n.join("&")}`:""}var Cue=/^[^\/()?;#]+/;function qT(i){let n=i.match(Cue);return n?n[0]:""}var yue=/^[^\/()?;=#]+/;function Iue(i){let n=i.match(yue);return n?n[0]:""}var vue=/^[^=?&#]+/;function bue(i){let n=i.match(vue);return n?n[0]:""}var wue=/^[^&#]+/;function Sue(i){let n=i.match(wue);return n?n[0]:""}var t2=class{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Dn([],{}):new Dn([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let t={};return this.peekStartsWith("(")&&(t=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(t[Bi]=new Dn(n,e)),t}parseSegment(){let n=qT(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new Ct(4009,!1);return this.capture(n),new Mp(yv(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let e=Iue(this.remaining);if(!e)return;this.capture(e);let t="";if(this.consumeOptional("=")){let r=qT(this.remaining);r&&(t=r,this.capture(t))}n[yv(e)]=yv(t)}parseQueryParam(n){let e=bue(this.remaining);if(!e)return;this.capture(e);let t="";if(this.consumeOptional("=")){let s=Sue(this.remaining);s&&(t=s,this.capture(t))}let r=_5(e),o=_5(t);if(n.hasOwnProperty(r)){let s=n[r];Array.isArray(s)||(s=[s],n[r]=s),s.push(o)}else n[r]=o}parseParens(n){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let t=qT(this.remaining),r=this.remaining[t.length];if(r!=="/"&&r!==")"&&r!==";")throw new Ct(4010,!1);let o;t.indexOf(":")>-1?(o=t.slice(0,t.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=Bi);let s=this.parseChildren();e[o]=Object.keys(s).length===1?s[Bi]:new Dn([],s),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new Ct(4011,!1)}};function F5(i){return i.segments.length>0?new Dn([],{[Bi]:i}):i}function L5(i){let n={};for(let[t,r]of Object.entries(i.children)){let o=L5(r);if(t===Bi&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))n[s]=a;else(o.segments.length>0||o.hasChildren())&&(n[t]=o)}let e=new Dn(i.segments,n);return Aue(e)}function Aue(i){if(i.numberOfChildren===1&&i.children[Bi]){let n=i.children[Bi];return new Dn(i.segments.concat(n.segments),n.children)}return i}function Vp(i){return i instanceof zc}function Eue(i,n,e=null,t=null){let r=M5(i);return N5(r,n,e,t)}function M5(i){let n;function e(o){let s={};for(let l of o.children){let c=e(l);s[l.outlet]=c}let a=new Dn(o.url,s);return o===i&&(n=a),a}let t=e(i.root),r=F5(t);return n??r}function N5(i,n,e,t){let r=i;for(;r.parent;)r=r.parent;if(n.length===0)return YT(r,r,r,e,t);let o=xue(n);if(o.toRoot())return YT(r,r,new Dn([],{}),e,t);let s=Tue(o,r,i),a=s.processChildren?g_(s.segmentGroup,s.index,o.commands):B5(s.segmentGroup,s.index,o.commands);return YT(r,s.segmentGroup,a,e,t)}function Iv(i){return typeof i=="object"&&i!=null&&!i.outlets&&!i.segmentPath}function y_(i){return typeof i=="object"&&i!=null&&i.outlets}function YT(i,n,e,t,r){let o={};t&&Object.entries(t).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`});let s;i===n?s=e:s=V5(i,n,e);let a=F5(L5(s));return new zc(a,o,r)}function V5(i,n,e){let t={};return Object.entries(i.children).forEach(([r,o])=>{o===n?t[r]=e:t[r]=V5(o,n,e)}),new Dn(i.segments,t)}var vv=class{constructor(n,e,t){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=t,n&&t.length>0&&Iv(t[0]))throw new Ct(4003,!1);let r=t.find(y_);if(r&&r!==x5(t))throw new Ct(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function xue(i){if(typeof i[0]=="string"&&i.length===1&&i[0]==="/")return new vv(!0,0,i);let n=0,e=!1,t=i.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?e=!0:a===".."?n++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new vv(e,n,t)}var Tf=class{constructor(n,e,t){this.segmentGroup=n,this.processChildren=e,this.index=t}};function Tue(i,n,e){if(i.isAbsolute)return new Tf(n,!0,0);if(!e)return new Tf(n,!1,NaN);if(e.parent===null)return new Tf(e,!0,0);let t=Iv(i.commands[0])?0:1,r=e.segments.length-1+t;return Oue(e,r,i.numberOfDoubleDots)}function Oue(i,n,e){let t=i,r=n,o=e;for(;o>r;){if(o-=r,t=t.parent,!t)throw new Ct(4005,!1);r=t.segments.length}return new Tf(t,!1,r-o)}function Due(i){return y_(i[0])?i[0].outlets:{[Bi]:i}}function B5(i,n,e){if(i??=new Dn([],{}),i.segments.length===0&&i.hasChildren())return g_(i,n,e);let t=Rue(i,n,e),r=e.slice(t.commandIndex);if(t.match&&t.pathIndex<i.segments.length){let o=new Dn(i.segments.slice(0,t.pathIndex),{});return o.children[Bi]=new Dn(i.segments.slice(t.pathIndex),i.children),g_(o,0,r)}else return t.match&&r.length===0?new Dn(i.segments,{}):t.match&&!i.hasChildren()?i2(i,n,e):t.match?g_(i,0,r):i2(i,n,e)}function g_(i,n,e){if(e.length===0)return new Dn(i.segments,{});{let t=Due(e),r={};if(Object.keys(t).some(o=>o!==Bi)&&i.children[Bi]&&i.numberOfChildren===1&&i.children[Bi].segments.length===0){let o=g_(i.children[Bi],n,e);return new Dn(i.segments,o.children)}return Object.entries(t).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=B5(i.children[o],n,s))}),Object.entries(i.children).forEach(([o,s])=>{t[o]===void 0&&(r[o]=s)}),new Dn(i.segments,r)}}function Rue(i,n,e){let t=0,r=n,o={match:!1,pathIndex:0,commandIndex:0};for(;r<i.segments.length;){if(t>=e.length)return o;let s=i.segments[r],a=e[t];if(y_(a))break;let l=`${a}`,c=t<e.length-1?e[t+1]:null;if(r>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!y5(l,c,s))return o;t+=2}else{if(!y5(l,{},s))return o;t++}r++}return{match:!0,pathIndex:r,commandIndex:t}}function i2(i,n,e){let t=i.segments.slice(0,n),r=0;for(;r<e.length;){let o=e[r];if(y_(o)){let l=Pue(o.outlets);return new Dn(t,l)}if(r===0&&Iv(e[0])){let l=i.segments[n];t.push(new Mp(l.path,C5(e[0]))),r++;continue}let s=y_(o)?o.outlets[Bi]:`${o}`,a=r<e.length-1?e[r+1]:null;s&&a&&Iv(a)?(t.push(new Mp(s,C5(a))),r+=2):(t.push(new Mp(s,{})),r++)}return new Dn(t,{})}function Pue(i){let n={};return Object.entries(i).forEach(([e,t])=>{typeof t=="string"&&(t=[t]),t!==null&&(n[e]=i2(new Dn([],{}),0,t))}),n}function C5(i){let n={};return Object.entries(i).forEach(([e,t])=>n[e]=`${t}`),n}function y5(i,n,e){return i==e.path&&Ql(n,e.parameters)}var __="imperative",Oo=function(i){return i[i.NavigationStart=0]="NavigationStart",i[i.NavigationEnd=1]="NavigationEnd",i[i.NavigationCancel=2]="NavigationCancel",i[i.NavigationError=3]="NavigationError",i[i.RoutesRecognized=4]="RoutesRecognized",i[i.ResolveStart=5]="ResolveStart",i[i.ResolveEnd=6]="ResolveEnd",i[i.GuardsCheckStart=7]="GuardsCheckStart",i[i.GuardsCheckEnd=8]="GuardsCheckEnd",i[i.RouteConfigLoadStart=9]="RouteConfigLoadStart",i[i.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",i[i.ChildActivationStart=11]="ChildActivationStart",i[i.ChildActivationEnd=12]="ChildActivationEnd",i[i.ActivationStart=13]="ActivationStart",i[i.ActivationEnd=14]="ActivationEnd",i[i.Scroll=15]="Scroll",i[i.NavigationSkipped=16]="NavigationSkipped",i}(Oo||{}),Ma=class{constructor(n,e){this.id=n,this.url=e}},kf=class extends Ma{constructor(n,e,t="imperative",r=null){super(n,e),this.type=Oo.NavigationStart,this.navigationTrigger=t,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},_s=class extends Ma{constructor(n,e,t){super(n,e),this.urlAfterRedirects=t,this.type=Oo.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ha=function(i){return i[i.Redirect=0]="Redirect",i[i.SupersededByNewNavigation=1]="SupersededByNewNavigation",i[i.NoDataFromResolver=2]="NoDataFromResolver",i[i.GuardRejected=3]="GuardRejected",i}(ha||{}),bv=function(i){return i[i.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",i[i.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",i}(bv||{}),Gc=class extends Ma{constructor(n,e,t,r){super(n,e),this.reason=t,this.code=r,this.type=Oo.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},su=class extends Ma{constructor(n,e,t,r){super(n,e),this.reason=t,this.code=r,this.type=Oo.NavigationSkipped}},I_=class extends Ma{constructor(n,e,t,r){super(n,e),this.error=t,this.target=r,this.type=Oo.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},wv=class extends Ma{constructor(n,e,t,r){super(n,e),this.urlAfterRedirects=t,this.state=r,this.type=Oo.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},n2=class extends Ma{constructor(n,e,t,r){super(n,e),this.urlAfterRedirects=t,this.state=r,this.type=Oo.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},r2=class extends Ma{constructor(n,e,t,r,o){super(n,e),this.urlAfterRedirects=t,this.state=r,this.shouldActivate=o,this.type=Oo.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},o2=class extends Ma{constructor(n,e,t,r){super(n,e),this.urlAfterRedirects=t,this.state=r,this.type=Oo.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},s2=class extends Ma{constructor(n,e,t,r){super(n,e),this.urlAfterRedirects=t,this.state=r,this.type=Oo.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},a2=class{constructor(n){this.route=n,this.type=Oo.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},l2=class{constructor(n){this.route=n,this.type=Oo.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},c2=class{constructor(n){this.snapshot=n,this.type=Oo.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},d2=class{constructor(n){this.snapshot=n,this.type=Oo.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},u2=class{constructor(n){this.snapshot=n,this.type=Oo.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},p2=class{constructor(n){this.snapshot=n,this.type=Oo.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Sv=class{constructor(n,e,t){this.routerEvent=n,this.position=e,this.anchor=t,this.type=Oo.Scroll}toString(){let n=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${n}')`}},v_=class{},Ff=class{constructor(n,e){this.url=n,this.navigationBehaviorOptions=e}};function kue(i,n){return i.providers&&!i._injector&&(i._injector=pI(i.providers,n,`Route: ${i.path}`)),i._injector??n}function fl(i){return i.outlet||Bi}function Fue(i,n){let e=i.filter(t=>fl(t)===n);return e.push(...i.filter(t=>fl(t)!==n)),e}function T_(i){if(!i)return null;if(i.routeConfig?._injector)return i.routeConfig._injector;for(let n=i.parent;n;n=n.parent){let e=n.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var h2=class{get injector(){return T_(this.route?.snapshot)??this.rootInjector}set injector(n){}constructor(n){this.rootInjector=n,this.outlet=null,this.route=null,this.children=new O_(this.rootInjector),this.attachRef=null}},O_=(()=>{class i{constructor(e){this.rootInjector=e,this.contexts=new Map}onChildOutletCreated(e,t){let r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){let t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new h2(this.rootInjector),this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}static{this.\u0275fac=function(t){return new(t||i)(ce(hs))}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),Av=class{constructor(n){this._root=n}get root(){return this._root.value}parent(n){let e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){let e=f2(n,this._root);return e?e.children.map(t=>t.value):[]}firstChild(n){let e=f2(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){let e=m2(n,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==n)}pathFromRoot(n){return m2(n,this._root).map(e=>e.value)}};function f2(i,n){if(i===n.value)return n;for(let e of n.children){let t=f2(i,e);if(t)return t}return null}function m2(i,n){if(i===n.value)return[n];for(let e of n.children){let t=m2(i,e);if(t.length)return t.unshift(n),t}return[]}var pa=class{constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}};function xf(i){let n={};return i&&i.children.forEach(e=>n[e.value.outlet]=e),n}var Ev=class extends Av{constructor(n,e){super(n),this.snapshot=e,S2(this,n)}toString(){return this.snapshot.toString()}};function U5(i){let n=Lue(i),e=new Cn([new Mp("",{})]),t=new Cn({}),r=new Cn({}),o=new Cn({}),s=new Cn(""),a=new Wc(e,t,o,s,r,Bi,i,n.root);return a.snapshot=n.root,new Ev(new pa(a,[]),n)}function Lue(i){let n={},e={},t={},r="",o=new Of([],n,t,r,e,Bi,i,null,{});return new Tv("",new pa(o,[]))}var Wc=class{constructor(n,e,t,r,o,s,a,l){this.urlSubject=n,this.paramsSubject=e,this.queryParamsSubject=t,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(W(c=>c[E_]))??wt(void 0),this.url=n,this.params=e,this.queryParams=t,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(W(n=>Rf(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(W(n=>Rf(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function xv(i,n,e="emptyOnly"){let t,{routeConfig:r}=i;return n!==null&&(e==="always"||r?.path===""||!n.component&&!n.routeConfig?.loadComponent)?t={params:re(re({},n.params),i.params),data:re(re({},n.data),i.data),resolve:re(re(re(re({},i.data),n.data),r?.data),i._resolvedData)}:t={params:re({},i.params),data:re({},i.data),resolve:re(re({},i.data),i._resolvedData??{})},r&&H5(r)&&(t.resolve[E_]=r.title),t}var Of=class{get title(){return this.data?.[E_]}constructor(n,e,t,r,o,s,a,l,c){this.url=n,this.params=e,this.queryParams=t,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Rf(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Rf(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(t=>t.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${e}')`}},Tv=class extends Av{constructor(n,e){super(e),this.url=n,S2(this,e)}toString(){return j5(this._root)}};function S2(i,n){n.value._routerState=i,n.children.forEach(e=>S2(i,e))}function j5(i){let n=i.children.length>0?` { ${i.children.map(j5).join(", ")} } `:"";return`${i.value}${n}`}function JT(i){if(i.snapshot){let n=i.snapshot,e=i._futureSnapshot;i.snapshot=e,Ql(n.queryParams,e.queryParams)||i.queryParamsSubject.next(e.queryParams),n.fragment!==e.fragment&&i.fragmentSubject.next(e.fragment),Ql(n.params,e.params)||i.paramsSubject.next(e.params),lue(n.url,e.url)||i.urlSubject.next(e.url),Ql(n.data,e.data)||i.dataSubject.next(e.data)}else i.snapshot=i._futureSnapshot,i.dataSubject.next(i._futureSnapshot.data)}function g2(i,n){let e=Ql(i.params,n.params)&&pue(i.url,n.url),t=!i.parent!=!n.parent;return e&&!t&&(!i.parent||g2(i.parent,n.parent))}function H5(i){return typeof i.title=="string"||i.title===null}var Mue=(()=>{class i{constructor(){this.activated=null,this._activatedRoute=null,this.name=Bi,this.activateEvents=new Q,this.deactivateEvents=new Q,this.attachEvents=new Q,this.detachEvents=new Q,this.parentContexts=Me(O_),this.location=Me(fo),this.changeDetector=Me(Ie),this.inputBinder=Me(kv,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){let{firstChange:t,previousValue:r}=e.name;if(t)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Ct(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Ct(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Ct(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new Ct(4013,!1);this._activatedRoute=e;let r=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new _2(e,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:l,environmentInjector:t}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275dir=gt({type:i,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[en]})}}return i})(),_2=class i{__ngOutletInjector(n){return new i(this.route,this.childContexts,n)}constructor(n,e,t){this.route=n,this.childContexts=e,this.parent=t}get(n,e){return n===Wc?this.route:n===O_?this.childContexts:this.parent.get(n,e)}},kv=new He(""),I5=(()=>{class i{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:t}=e,r=ag([t.queryParams,t.params,t.data]).pipe(uo(([o,s,a],l)=>(a=re(re(re({},o),s),a),l===0?wt(a):Promise.resolve(a)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==t||t.component===null){this.unsubscribeFromRouteData(e);return}let s=a3(t.component);if(!s){this.unsubscribeFromRouteData(e);return}for(let{templateName:a}of s.inputs)e.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(e,r)}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac})}}return i})();function Nue(i,n,e){let t=b_(i,n._root,e?e._root:void 0);return new Ev(t,n)}function b_(i,n,e){if(e&&i.shouldReuseRoute(n.value,e.value.snapshot)){let t=e.value;t._futureSnapshot=n.value;let r=Vue(i,n,e);return new pa(t,r)}else{if(i.shouldAttach(n.value)){let o=i.retrieve(n.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>b_(i,a)),s}}let t=Bue(n.value),r=n.children.map(o=>b_(i,o));return new pa(t,r)}}function Vue(i,n,e){return n.children.map(t=>{for(let r of e.children)if(i.shouldReuseRoute(t.value,r.value.snapshot))return b_(i,t,r);return b_(i,t)})}function Bue(i){return new Wc(new Cn(i.url),new Cn(i.params),new Cn(i.queryParams),new Cn(i.fragment),new Cn(i.data),i.outlet,i.component,i)}var w_=class{constructor(n,e){this.redirectTo=n,this.navigationBehaviorOptions=e}},G5="ngNavigationCancelingError";function Ov(i,n){let{redirectTo:e,navigationBehaviorOptions:t}=Vp(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,r=z5(!1,ha.Redirect);return r.url=e,r.navigationBehaviorOptions=t,r}function z5(i,n){let e=new Error(`NavigationCancelingError: ${i||""}`);return e[G5]=!0,e.cancellationCode=n,e}function Uue(i){return W5(i)&&Vp(i.url)}function W5(i){return!!i&&i[G5]}var jue=(i,n,e,t)=>W(r=>(new C2(n,r.targetRouterState,r.currentRouterState,e,t).activate(i),r)),C2=class{constructor(n,e,t,r,o){this.routeReuseStrategy=n,this.futureState=e,this.currState=t,this.forwardEvent=r,this.inputBindingEnabled=o}activate(n){let e=this.futureState._root,t=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,t,n),JT(this.futureState.root),this.activateChildRoutes(e,t,n)}deactivateChildRoutes(n,e,t){let r=xf(e);n.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],t),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,t)})}deactivateRoutes(n,e,t){let r=n.value,o=e?e.value:null;if(r===o)if(r.component){let s=t.getContext(r.outlet);s&&this.deactivateChildRoutes(n,e,s.children)}else this.deactivateChildRoutes(n,e,t);else o&&this.deactivateRouteAndItsChildren(e,t)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){let t=e.getContext(n.value.outlet),r=t&&n.value.component?t.children:e,o=xf(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(t&&t.outlet){let s=t.outlet.detach(),a=t.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,e){let t=e.getContext(n.value.outlet),r=t&&n.value.component?t.children:e,o=xf(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);t&&(t.outlet&&(t.outlet.deactivate(),t.children.onOutletDeactivated()),t.attachRef=null,t.route=null)}activateChildRoutes(n,e,t){let r=xf(e);n.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],t),this.forwardEvent(new p2(o.value.snapshot))}),n.children.length&&this.forwardEvent(new d2(n.value.snapshot))}activateRoutes(n,e,t){let r=n.value,o=e?e.value:null;if(JT(r),r===o)if(r.component){let s=t.getOrCreateContext(r.outlet);this.activateChildRoutes(n,e,s.children)}else this.activateChildRoutes(n,e,t);else if(r.component){let s=t.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),JT(a.route.value),this.activateChildRoutes(n,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(n,null,s.children)}else this.activateChildRoutes(n,null,t)}},Dv=class{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},Df=class{constructor(n,e){this.component=n,this.route=e}};function Hue(i,n,e){let t=i._root,r=n?n._root:null;return f_(t,r,e,[t.value])}function Gue(i){let n=i.routeConfig?i.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:i,guards:n}}function Mf(i,n){let e=Symbol(),t=n.get(i,e);return t===e?typeof i=="function"&&!fL(i)?i:n.get(i):t}function f_(i,n,e,t,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=xf(n);return i.children.forEach(s=>{zue(s,o[s.value.outlet],e,t.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>C_(a,e.getContext(s),r)),r}function zue(i,n,e,t,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=i.value,s=n?n.value:null,a=e?e.getContext(i.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=Wue(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new Dv(t)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?f_(i,n,a?a.children:null,t,r):f_(i,n,e,t,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Df(a.outlet.component,s))}else s&&C_(n,a,r),r.canActivateChecks.push(new Dv(t)),o.component?f_(i,null,a?a.children:null,t,r):f_(i,null,e,t,r);return r}function Wue(i,n,e){if(typeof e=="function")return e(i,n);switch(e){case"pathParamsChange":return!Np(i.url,n.url);case"pathParamsOrQueryParamsChange":return!Np(i.url,n.url)||!Ql(i.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!g2(i,n)||!Ql(i.queryParams,n.queryParams);case"paramsChange":default:return!g2(i,n)}}function C_(i,n,e){let t=xf(i),r=i.value;Object.entries(t).forEach(([o,s])=>{r.component?n?C_(s,n.children.getContext(o),e):C_(s,null,e):C_(s,n,e)}),r.component?n&&n.outlet&&n.outlet.isActivated?e.canDeactivateChecks.push(new Df(n.outlet.component,r)):e.canDeactivateChecks.push(new Df(null,r)):e.canDeactivateChecks.push(new Df(null,r))}function D_(i){return typeof i=="function"}function Kue(i){return typeof i=="boolean"}function $ue(i){return i&&D_(i.canLoad)}function que(i){return i&&D_(i.canActivate)}function Yue(i){return i&&D_(i.canActivateChild)}function Jue(i){return i&&D_(i.canDeactivate)}function Xue(i){return i&&D_(i.canMatch)}function K5(i){return i instanceof Qs||i?.name==="EmptyError"}var gv=Symbol("INITIAL_VALUE");function Lf(){return uo(i=>ag(i.map(n=>n.pipe(No(1),dg(gv)))).pipe(W(n=>{for(let e of n)if(e!==!0){if(e===gv)return gv;if(e===!1||Que(e))return e}return!0}),co(n=>n!==gv),No(1)))}function Que(i){return Vp(i)||i instanceof w_}function Zue(i,n){return fr(e=>{let{targetSnapshot:t,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return s.length===0&&o.length===0?wt(Pe(re({},e),{guardsResult:!0})):epe(s,t,r,i).pipe(fr(a=>a&&Kue(a)?tpe(t,o,i,n):wt(a)),W(a=>Pe(re({},e),{guardsResult:a})))})}function epe(i,n,e,t){return Tn(i).pipe(fr(r=>spe(r.component,r.route,e,n,t)),ol(r=>r!==!0,!0))}function tpe(i,n,e,t){return Tn(n).pipe(rl(r=>il(npe(r.route.parent,t),ipe(r.route,t),ope(i,r.path,e),rpe(i,r.route,e))),ol(r=>r!==!0,!0))}function ipe(i,n){return i!==null&&n&&n(new u2(i)),wt(!0)}function npe(i,n){return i!==null&&n&&n(new c2(i)),wt(!0)}function rpe(i,n,e){let t=n.routeConfig?n.routeConfig.canActivate:null;if(!t||t.length===0)return wt(!0);let r=t.map(o=>dp(()=>{let s=T_(n)??e,a=Mf(o,s),l=que(a)?a.canActivate(n,i):Sa(s,()=>a(n,i));return lu(l).pipe(ol())}));return wt(r).pipe(Lf())}function ope(i,n,e){let t=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(s=>Gue(s)).filter(s=>s!==null).map(s=>dp(()=>{let a=s.guards.map(l=>{let c=T_(s.node)??e,d=Mf(l,c),p=Yue(d)?d.canActivateChild(t,i):Sa(c,()=>d(t,i));return lu(p).pipe(ol())});return wt(a).pipe(Lf())}));return wt(o).pipe(Lf())}function spe(i,n,e,t,r){let o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!o||o.length===0)return wt(!0);let s=o.map(a=>{let l=T_(n)??r,c=Mf(a,l),d=Jue(c)?c.canDeactivate(i,n,e,t):Sa(l,()=>c(i,n,e,t));return lu(d).pipe(ol())});return wt(s).pipe(Lf())}function ape(i,n,e,t){let r=n.canLoad;if(r===void 0||r.length===0)return wt(!0);let o=r.map(s=>{let a=Mf(s,i),l=$ue(a)?a.canLoad(n,e):Sa(i,()=>a(n,e));return lu(l)});return wt(o).pipe(Lf(),$5(t))}function $5(i){return DS(bo(n=>{if(typeof n!="boolean")throw Ov(i,n)}),W(n=>n===!0))}function lpe(i,n,e,t){let r=n.canMatch;if(!r||r.length===0)return wt(!0);let o=r.map(s=>{let a=Mf(s,i),l=Xue(a)?a.canMatch(n,e):Sa(i,()=>a(n,e));return lu(l)});return wt(o).pipe(Lf(),$5(t))}var S_=class{constructor(n){this.segmentGroup=n||null}},A_=class extends Error{constructor(n){super(),this.urlTree=n}};function Ef(i){return Xs(new S_(i))}function cpe(i){return Xs(new Ct(4e3,!1))}function dpe(i){return Xs(z5(!1,ha.GuardRejected))}var y2=class{constructor(n,e){this.urlSerializer=n,this.urlTree=e}lineralizeSegments(n,e){let t=[],r=e.root;for(;;){if(t=t.concat(r.segments),r.numberOfChildren===0)return wt(t);if(r.numberOfChildren>1||!r.children[Bi])return cpe(`${n.redirectTo}`);r=r.children[Bi]}}applyRedirectCommands(n,e,t,r,o){if(typeof e!="string"){let a=e,{queryParams:l,fragment:c,routeConfig:d,url:p,outlet:g,params:C,data:y,title:v}=r,w=Sa(o,()=>a({params:C,data:y,queryParams:l,fragment:c,routeConfig:d,url:p,outlet:g,title:v}));if(w instanceof zc)throw new A_(w);e=w}let s=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),n,t);if(e[0]==="/")throw new A_(s);return s}applyRedirectCreateUrlTree(n,e,t,r){let o=this.createSegmentGroup(n,e.root,t,r);return new zc(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){let t={};return Object.entries(n).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);t[r]=e[a]}else t[r]=o}),t}createSegmentGroup(n,e,t,r){let o=this.createSegments(n,e.segments,t,r),s={};return Object.entries(e.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(n,l,t,r)}),new Dn(o,s)}createSegments(n,e,t,r){return e.map(o=>o.path[0]===":"?this.findPosParam(n,o,r):this.findOrReturn(o,t))}findPosParam(n,e,t){let r=t[e.path.substring(1)];if(!r)throw new Ct(4001,!1);return r}findOrReturn(n,e){let t=0;for(let r of e){if(r.path===n.path)return e.splice(t),r;t++}return n}},I2={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function upe(i,n,e,t,r){let o=q5(i,n,e);return o.matched?(t=kue(n,t),lpe(t,n,e,r).pipe(W(s=>s===!0?o:re({},I2)))):wt(o)}function q5(i,n,e){if(n.path==="**")return ppe(e);if(n.path==="")return n.pathMatch==="full"&&(i.hasChildren()||e.length>0)?re({},I2):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let r=(n.matcher||aue)(e,i,n);if(!r)return re({},I2);let o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=r.consumed.length>0?re(re({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function ppe(i){return{matched:!0,parameters:i.length>0?x5(i).parameters:{},consumedSegments:i,remainingSegments:[],positionalParamSegments:{}}}function v5(i,n,e,t){return e.length>0&&mpe(i,e,t)?{segmentGroup:new Dn(n,fpe(t,new Dn(e,i.children))),slicedSegments:[]}:e.length===0&&gpe(i,e,t)?{segmentGroup:new Dn(i.segments,hpe(i,e,t,i.children)),slicedSegments:e}:{segmentGroup:new Dn(i.segments,i.children),slicedSegments:e}}function hpe(i,n,e,t){let r={};for(let o of e)if(Fv(i,n,o)&&!t[fl(o)]){let s=new Dn([],{});r[fl(o)]=s}return re(re({},t),r)}function fpe(i,n){let e={};e[Bi]=n;for(let t of i)if(t.path===""&&fl(t)!==Bi){let r=new Dn([],{});e[fl(t)]=r}return e}function mpe(i,n,e){return e.some(t=>Fv(i,n,t)&&fl(t)!==Bi)}function gpe(i,n,e){return e.some(t=>Fv(i,n,t))}function Fv(i,n,e){return(i.hasChildren()||n.length>0)&&e.pathMatch==="full"?!1:e.path===""}function _pe(i,n,e){return n.length===0&&!i.children[e]}var v2=class{};function Cpe(i,n,e,t,r,o,s="emptyOnly"){return new b2(i,n,e,t,r,s,o).recognize()}var ype=31,b2=class{constructor(n,e,t,r,o,s,a){this.injector=n,this.configLoader=e,this.rootComponentType=t,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new y2(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(n){return new Ct(4002,`'${n.segmentGroup}'`)}recognize(){let n=v5(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(W(({children:e,rootSnapshot:t})=>{let r=new pa(t,e),o=new Tv("",r),s=Eue(t,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(n){let e=new Of([],Object.freeze({}),Object.freeze(re({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Bi,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,n,Bi,e).pipe(W(t=>({children:t,rootSnapshot:e})),Z(t=>{if(t instanceof A_)return this.urlTree=t.urlTree,this.match(t.urlTree.root);throw t instanceof S_?this.noMatchError(t):t}))}processSegmentGroup(n,e,t,r,o){return t.segments.length===0&&t.hasChildren()?this.processChildren(n,e,t,o):this.processSegment(n,e,t,t.segments,r,!0,o).pipe(W(s=>s instanceof pa?[s]:[]))}processChildren(n,e,t,r){let o=[];for(let s of Object.keys(t.children))s==="primary"?o.unshift(s):o.push(s);return Tn(o).pipe(rl(s=>{let a=t.children[s],l=Fue(e,s);return this.processSegmentGroup(n,l,a,s,r)}),cg((s,a)=>(s.push(...a),s)),Ld(null),HS(),fr(s=>{if(s===null)return Ef(t);let a=Y5(s);return Ipe(a),wt(a)}))}processSegment(n,e,t,r,o,s,a){return Tn(e).pipe(rl(l=>this.processSegmentAgainstRoute(l._injector??n,e,l,t,r,o,s,a).pipe(Z(c=>{if(c instanceof S_)return wt(null);throw c}))),ol(l=>!!l),Z(l=>{if(K5(l))return _pe(t,r,o)?wt(new v2):Ef(t);throw l}))}processSegmentAgainstRoute(n,e,t,r,o,s,a,l){return fl(t)!==s&&(s===Bi||!Fv(r,o,t))?Ef(r):t.redirectTo===void 0?this.matchSegmentAgainstRoute(n,r,t,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(n,r,e,t,o,s,l):Ef(r)}expandSegmentAgainstRouteUsingRedirect(n,e,t,r,o,s,a){let{matched:l,parameters:c,consumedSegments:d,positionalParamSegments:p,remainingSegments:g}=q5(e,r,o);if(!l)return Ef(e);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>ype&&(this.allowRedirects=!1));let C=new Of(o,c,Object.freeze(re({},this.urlTree.queryParams)),this.urlTree.fragment,b5(r),fl(r),r.component??r._loadedComponent??null,r,w5(r)),y=xv(C,a,this.paramsInheritanceStrategy);C.params=Object.freeze(y.params),C.data=Object.freeze(y.data);let v=this.applyRedirects.applyRedirectCommands(d,r.redirectTo,p,C,n);return this.applyRedirects.lineralizeSegments(r,v).pipe(fr(w=>this.processSegment(n,t,e,w.concat(g),s,!1,a)))}matchSegmentAgainstRoute(n,e,t,r,o,s){let a=upe(e,t,r,n,this.urlSerializer);return t.path==="**"&&(e.children={}),a.pipe(uo(l=>l.matched?(n=t._injector??n,this.getChildConfig(n,t,r).pipe(uo(({routes:c})=>{let d=t._loadedInjector??n,{parameters:p,consumedSegments:g,remainingSegments:C}=l,y=new Of(g,p,Object.freeze(re({},this.urlTree.queryParams)),this.urlTree.fragment,b5(t),fl(t),t.component??t._loadedComponent??null,t,w5(t)),v=xv(y,s,this.paramsInheritanceStrategy);y.params=Object.freeze(v.params),y.data=Object.freeze(v.data);let{segmentGroup:w,slicedSegments:E}=v5(e,g,C,c);if(E.length===0&&w.hasChildren())return this.processChildren(d,c,w,y).pipe(W(F=>new pa(y,F)));if(c.length===0&&E.length===0)return wt(new pa(y,[]));let T=fl(t)===o;return this.processSegment(d,c,w,E,T?Bi:o,!0,y).pipe(W(F=>new pa(y,F instanceof pa?[F]:[])))}))):Ef(e)))}getChildConfig(n,e,t){return e.children?wt({routes:e.children,injector:n}):e.loadChildren?e._loadedRoutes!==void 0?wt({routes:e._loadedRoutes,injector:e._loadedInjector}):ape(n,e,t,this.urlSerializer).pipe(fr(r=>r?this.configLoader.loadChildren(n,e).pipe(bo(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):dpe(e))):wt({routes:[],injector:n})}};function Ipe(i){i.sort((n,e)=>n.value.outlet===Bi?-1:e.value.outlet===Bi?1:n.value.outlet.localeCompare(e.value.outlet))}function vpe(i){let n=i.value.routeConfig;return n&&n.path===""}function Y5(i){let n=[],e=new Set;for(let t of i){if(!vpe(t)){n.push(t);continue}let r=n.find(o=>t.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...t.children),e.add(r)):n.push(t)}for(let t of e){let r=Y5(t.children);n.push(new pa(t.value,r))}return n.filter(t=>!e.has(t))}function b5(i){return i.data||{}}function w5(i){return i.resolve||{}}function bpe(i,n,e,t,r,o){return fr(s=>Cpe(i,n,e,t,s.extractedUrl,r,o).pipe(W(({state:a,tree:l})=>Pe(re({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function wpe(i,n){return fr(e=>{let{targetSnapshot:t,guards:{canActivateChecks:r}}=e;if(!r.length)return wt(e);let o=new Set(r.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of J5(l))s.add(c);let a=0;return Tn(s).pipe(rl(l=>o.has(l)?Spe(l,t,i,n):(l.data=xv(l,l.parent,i).resolve,wt(void 0))),bo(()=>a++),Th(1),fr(l=>a===s.size?wt(e):lo))})}function J5(i){let n=i.children.map(e=>J5(e)).flat();return[i,...n]}function Spe(i,n,e,t){let r=i.routeConfig,o=i._resolve;return r?.title!==void 0&&!H5(r)&&(o[E_]=r.title),Ape(o,i,n,t).pipe(W(s=>(i._resolvedData=s,i.data=xv(i,i.parent,e).resolve,null)))}function Ape(i,n,e,t){let r=ZT(i);if(r.length===0)return wt({});let o={};return Tn(r).pipe(fr(s=>Epe(i[s],n,e,t).pipe(ol(),bo(a=>{if(a instanceof w_)throw Ov(new Pf,a);o[s]=a}))),Th(1),up(o),Z(s=>K5(s)?lo:Xs(s)))}function Epe(i,n,e,t){let r=T_(n)??t,o=Mf(i,r),s=o.resolve?o.resolve(n,e):Sa(r,()=>o(n,e));return lu(s)}function XT(i){return uo(n=>{let e=i(n);return e?Tn(e).pipe(W(()=>n)):wt(n)})}var X5=(()=>{class i{buildTitle(e){let t,r=e.root;for(;r!==void 0;)t=this.getResolvedTitleForRoute(r)??t,r=r.children.find(o=>o.outlet===Bi);return t}getResolvedTitleForRoute(e){return e.data[E_]}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=_e({token:i,factory:()=>Me(xpe),providedIn:"root"})}}return i})(),xpe=(()=>{class i extends X5{constructor(e){super(),this.title=e}updateTitle(e){let t=this.buildTitle(e);t!==void 0&&this.title.setTitle(t)}static{this.\u0275fac=function(t){return new(t||i)(ce(q3))}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),R_=new He("",{providedIn:"root",factory:()=>({})}),Tpe=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=ie({type:i,selectors:[["ng-component"]],standalone:!0,features:[lt],decls:1,vars:0,template:function(t,r){t&1&&O(0,"router-outlet")},dependencies:[Mue],encapsulation:2})}}return i})();function A2(i){let n=i.children&&i.children.map(A2),e=n?Pe(re({},i),{children:n}):re({},i);return!e.component&&!e.loadComponent&&(n||e.loadChildren)&&e.outlet&&e.outlet!==Bi&&(e.component=Tpe),e}var Rv=new He(""),E2=(()=>{class i{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Me(yI)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return wt(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let t=lu(e.loadComponent()).pipe(W(Q5),bo(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),Md(()=>{this.componentLoaders.delete(e)})),r=new wh(t,()=>new Re).pipe(bh());return this.componentLoaders.set(e,r),r}loadChildren(e,t){if(this.childrenLoaders.get(t))return this.childrenLoaders.get(t);if(t._loadedRoutes)return wt({routes:t._loadedRoutes,injector:t._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(t);let o=Ope(t,this.compiler,e,this.onLoadEndListener).pipe(Md(()=>{this.childrenLoaders.delete(t)})),s=new wh(o,()=>new Re).pipe(bh());return this.childrenLoaders.set(t,s),s}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function Ope(i,n,e,t){return lu(i.loadChildren()).pipe(W(Q5),fr(r=>r instanceof yg||Array.isArray(r)?wt(r):Tn(n.compileModuleAsync(r))),W(r=>{t&&t(i);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(e).injector,s=o.get(Rv,[],{optional:!0,self:!0}).flat()),{routes:s.map(A2),injector:o}}))}function Dpe(i){return i&&typeof i=="object"&&"default"in i}function Q5(i){return Dpe(i)?i.default:i}var x2=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=_e({token:i,factory:()=>Me(Rpe),providedIn:"root"})}}return i})(),Rpe=(()=>{class i{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),Z5=new He(""),eV=new He("");function Ppe(i,n,e){let t=i.get(eV),r=i.get(_t);return i.get(xt).runOutsideAngular(()=>{if(!r.startViewTransition||t.skipNextTransition)return t.skipNextTransition=!1,new Promise(c=>setTimeout(c));let o,s=new Promise(c=>{o=c}),a=r.startViewTransition(()=>(o(),kpe(i))),{onViewTransitionCreated:l}=t;return l&&Sa(i,()=>l({transition:a,from:n,to:e})),s})}function kpe(i){return new Promise(n=>{ax({read:()=>setTimeout(n)},{injector:i})})}var Fpe=new He(""),T2=(()=>{class i{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Re,this.transitionAbortSubject=new Re,this.configLoader=Me(E2),this.environmentInjector=Me(hs),this.urlSerializer=Me(x_),this.rootContexts=Me(O_),this.location=Me($d),this.inputBindingEnabled=Me(kv,{optional:!0})!==null,this.titleStrategy=Me(X5),this.options=Me(R_,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=Me(x2),this.createViewTransition=Me(Z5,{optional:!0}),this.navigationErrorHandler=Me(Fpe,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>wt(void 0),this.rootComponentType=null;let e=r=>this.events.next(new a2(r)),t=r=>this.events.next(new l2(r));this.configLoader.onLoadEndListener=t,this.configLoader.onLoadStartListener=e}complete(){this.transitions?.complete()}handleNavigationRequest(e){let t=++this.navigationId;this.transitions?.next(Pe(re(re({},this.transitions.value),e),{id:t}))}setupNavigations(e,t,r){return this.transitions=new Cn({id:0,currentUrlTree:t,currentRawUrl:t,extractedUrl:this.urlHandlingStrategy.extract(t),urlAfterRedirects:this.urlHandlingStrategy.extract(t),rawUrl:t,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:__,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(co(o=>o.id!==0),W(o=>Pe(re({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),uo(o=>{let s=!1,a=!1;return wt(o).pipe(uo(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",ha.SupersededByNewNavigation),lo;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?Pe(re({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=l.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!c&&d!=="reload"){let p="";return this.events.next(new su(l.id,this.urlSerializer.serialize(l.rawUrl),p,bv.IgnoredSameUrlNavigation)),l.resolve(!1),lo}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return wt(l).pipe(uo(p=>{let g=this.transitions?.getValue();return this.events.next(new kf(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),g!==this.transitions?.getValue()?lo:Promise.resolve(p)}),bpe(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),bo(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=Pe(re({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let g=new wv(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(g)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:p,extractedUrl:g,source:C,restoredState:y,extras:v}=l,w=new kf(p,this.urlSerializer.serialize(g),C,y);this.events.next(w);let E=U5(this.rootComponentType).snapshot;return this.currentTransition=o=Pe(re({},l),{targetSnapshot:E,urlAfterRedirects:g,extras:Pe(re({},v),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=g,wt(o)}else{let p="";return this.events.next(new su(l.id,this.urlSerializer.serialize(l.extractedUrl),p,bv.IgnoredByUrlHandlingStrategy)),l.resolve(!1),lo}}),bo(l=>{let c=new n2(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),W(l=>(this.currentTransition=o=Pe(re({},l),{guards:Hue(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),Zue(this.environmentInjector,l=>this.events.next(l)),bo(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw Ov(this.urlSerializer,l.guardsResult);let c=new r2(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),co(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",ha.GuardRejected),!1)),XT(l=>{if(l.guards.canActivateChecks.length)return wt(l).pipe(bo(c=>{let d=new o2(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),uo(c=>{let d=!1;return wt(c).pipe(wpe(this.paramsInheritanceStrategy,this.environmentInjector),bo({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(c,"",ha.NoDataFromResolver)}}))}),bo(c=>{let d=new s2(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}))}),XT(l=>{let c=d=>{let p=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(d.routeConfig).pipe(bo(g=>{d.component=g}),W(()=>{})));for(let g of d.children)p.push(...c(g));return p};return ag(c(l.targetSnapshot.root)).pipe(Ld(null),No(1))}),XT(()=>this.afterPreactivation()),uo(()=>{let{currentSnapshot:l,targetSnapshot:c}=o,d=this.createViewTransition?.(this.environmentInjector,l.root,c.root);return d?Tn(d).pipe(W(()=>o)):wt(o)}),W(l=>{let c=Nue(e.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=Pe(re({},l),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,o}),bo(()=>{this.events.next(new v_)}),jue(this.rootContexts,e.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),No(1),bo({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new _s(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),pp(this.transitionAbortSubject.pipe(bo(l=>{throw l}))),Md(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",ha.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Z(l=>{if(a=!0,W5(l))this.events.next(new Gc(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),Uue(l)?this.events.next(new Ff(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let c=new I_(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let d=Sa(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(d instanceof w_){let{message:p,cancellationCode:g}=Ov(this.urlSerializer,d);this.events.next(new Gc(o.id,this.urlSerializer.serialize(o.extractedUrl),p,g)),this.events.next(new Ff(d.redirectTo,d.navigationBehaviorOptions))}else{this.events.next(c);let p=e.errorHandler(l);o.resolve(!!p)}}catch(d){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(d)}}return lo}))}))}cancelNavigationTransition(e,t,r){let o=new Gc(e.id,this.urlSerializer.serialize(e.extractedUrl),t,r);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),t=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==t?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function Lpe(i){return i!==__}var Mpe=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=_e({token:i,factory:()=>Me(Npe),providedIn:"root"})}}return i})(),w2=class{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}},Npe=(()=>{class i extends w2{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=tt(i)))(r||i)}})()}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),tV=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=_e({token:i,factory:()=>Me(Vpe),providedIn:"root"})}}return i})(),Vpe=(()=>{class i extends tV{constructor(){super(...arguments),this.location=Me($d),this.urlSerializer=Me(x_),this.options=Me(R_,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=Me(x2),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new zc,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=U5(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(t=>{t.type==="popstate"&&e(t.url,t.state)})}handleRouterEvent(e,t){if(e instanceof kf)this.stateMemento=this.createStateMemento();else if(e instanceof su)this.rawUrlTree=t.initialUrl;else if(e instanceof wv){if(this.urlUpdateStrategy==="eager"&&!t.extras.skipLocationChange){let r=this.urlHandlingStrategy.merge(t.finalUrl,t.initialUrl);this.setBrowserUrl(t.targetBrowserUrl??r,t)}}else e instanceof v_?(this.currentUrlTree=t.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(t.finalUrl,t.initialUrl),this.routerState=t.targetRouterState,this.urlUpdateStrategy==="deferred"&&!t.extras.skipLocationChange&&this.setBrowserUrl(t.targetBrowserUrl??this.rawUrlTree,t)):e instanceof Gc&&(e.code===ha.GuardRejected||e.code===ha.NoDataFromResolver)?this.restoreHistory(t):e instanceof I_?this.restoreHistory(t,!0):e instanceof _s&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,t){let r=e instanceof zc?this.urlSerializer.serialize(e):e;if(this.location.isCurrentPathEqualTo(r)||t.extras.replaceUrl){let o=this.browserPageId,s=re(re({},t.extras.state),this.generateNgRouterState(t.id,o));this.location.replaceState(r,"",s)}else{let o=re(re({},t.extras.state),this.generateNgRouterState(t.id,this.browserPageId+1));this.location.go(r,"",o)}}restoreHistory(e,t=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.currentUrlTree===e.finalUrl&&o===0&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(t&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,t){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:t}:{navigationId:e}}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=tt(i)))(r||i)}})()}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),m_=function(i){return i[i.COMPLETE=0]="COMPLETE",i[i.FAILED=1]="FAILED",i[i.REDIRECTING=2]="REDIRECTING",i}(m_||{});function iV(i,n){i.events.pipe(co(e=>e instanceof _s||e instanceof Gc||e instanceof I_||e instanceof su),W(e=>e instanceof _s||e instanceof su?m_.COMPLETE:(e instanceof Gc?e.code===ha.Redirect||e.code===ha.SupersededByNewNavigation:!1)?m_.REDIRECTING:m_.FAILED),co(e=>e!==m_.REDIRECTING),No(1)).subscribe(()=>{n()})}function Bpe(i){throw i}var Upe={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},jpe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ct=(()=>{class i{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=Me(fI),this.stateManager=Me(tV),this.options=Me(R_,{optional:!0})||{},this.pendingTasks=Me(Hl),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=Me(T2),this.urlSerializer=Me(x_),this.location=Me($d),this.urlHandlingStrategy=Me(x2),this._events=new Re,this.errorHandler=this.options.errorHandler||Bpe,this.navigated=!1,this.routeReuseStrategy=Me(Mpe),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=Me(Rv,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!Me(kv,{optional:!0}),this.eventsSubscription=new Pr,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(t=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(t,o),t instanceof Gc&&t.code!==ha.Redirect&&t.code!==ha.SupersededByNewNavigation)this.navigated=!0;else if(t instanceof _s)this.navigated=!0;else if(t instanceof Ff){let s=t.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(t.url,r.currentRawUrl),l=re({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Lpe(r.source)},s);this.scheduleNavigation(a,__,null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}Gpe(t)&&this._events.next(t)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),__,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,t)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",t)},0)})}navigateToSyncWithBrowser(e,t,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let l=re({},r);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(e);this.scheduleNavigation(a,t,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(A2),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,t={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=t,c=l?this.currentUrlTree.fragment:s,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d=re(re({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let p;try{let g=r?r.snapshot:this.routerState.snapshot.root;p=M5(g)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),p=this.currentUrlTree.root}return N5(p,e,d,c??null)}navigateByUrl(e,t={skipLocationChange:!1}){let r=Vp(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,__,null,t)}navigate(e,t={skipLocationChange:!1}){return Hpe(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,t){let r;if(t===!0?r=re({},Upe):t===!1?r=re({},jpe):r=t,Vp(e))return g5(this.currentUrlTree,e,r);let o=this.parseUrl(e);return g5(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.entries(e).reduce((t,[r,o])=>(o!=null&&(t[r]=o),t),{})}scheduleNavigation(e,t,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((p,g)=>{a=p,l=g});let d=this.pendingTasks.add();return iV(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:t,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function Hpe(i){for(let n=0;n<i.length;n++)if(i[n]==null)throw new Ct(4008,!1)}function Gpe(i){return!(i instanceof v_)&&!(i instanceof Ff)}var au=(()=>{class i{constructor(e,t,r,o,s,a){this.router=e,this.route=t,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.onChanges=new Re,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=e.events.subscribe(c=>{c instanceof _s&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Vp(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,t,r,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(e!==0||t||r||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.href=e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;let t=this.href===null?null:HM(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(e,t){let r=this.renderer,o=this.el.nativeElement;t!==null?r.setAttribute(o,e,t):r.removeAttribute(o,e)}get urlTree(){return this.routerLinkInput===null?null:Vp(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(t){return new(t||i)(b(ct),b(Wc),LE("tabindex"),b(Ft),b(ze),b(Bc))}}static{this.\u0275dir=gt({type:i,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){t&1&&P("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),t&2&&V("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",K],skipLocationChange:[2,"skipLocationChange","skipLocationChange",K],replaceUrl:[2,"replaceUrl","replaceUrl",K],routerLink:"routerLink"},standalone:!0,features:[qe,en]})}}return i})(),Nf=(()=>{class i{get isActive(){return this._isActive}constructor(e,t,r,o,s){this.router=e,this.element=t,this.renderer=r,this.cdr=o,this.link=s,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Q,this.routerEventsSubscription=e.events.subscribe(a=>{a instanceof _s&&this.update()})}ngAfterContentInit(){wt(this.links.changes,wt(null)).pipe(Pl()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let e=[...this.links.toArray(),this.link].filter(t=>!!t).map(t=>t.onChanges);this.linkInputChangesSubscription=Tn(e).pipe(Pl()).subscribe(t=>{this._isActive!==this.isLinkActive(this.router)(t)&&this.update()})}set routerLinkActive(e){let t=Array.isArray(e)?e:e.split(" ");this.classes=t.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let e=this.hasActiveLinks();this.classes.forEach(t=>{e?this.renderer.addClass(this.element.nativeElement,t):this.renderer.removeClass(this.element.nativeElement,t)}),e&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.isActiveChange.emit(e))})}isLinkActive(e){let t=zpe(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>{let o=r.urlTree;return o?e.isActive(o,t):!1}}hasActiveLinks(){let e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static{this.\u0275fac=function(t){return new(t||i)(b(ct),b(ze),b(Ft),b(Ie),b(au,8))}}static{this.\u0275dir=gt({type:i,selectors:[["","routerLinkActive",""]],contentQueries:function(t,r,o){if(t&1&&ot(o,au,5),t&2){let s;ee(s=te())&&(r.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[en]})}}return i})();function zpe(i){return!!i.paths}var Pv=class{};var Wpe=(()=>{class i{constructor(e,t,r,o,s){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(co(e=>e instanceof _s),rl(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,t){let r=[];for(let o of t){o.providers&&!o._injector&&(o._injector=pI(o.providers,e,`Route: ${o.path}`));let s=o._injector??e,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Tn(r).pipe(Pl())}preloadConfig(e,t){return this.preloadingStrategy.preload(t,()=>{let r;t.loadChildren&&t.canLoad===void 0?r=this.loader.loadChildren(e,t):r=wt(null);let o=r.pipe(fr(s=>s===null?wt(void 0):(t._loadedRoutes=s.routes,t._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));if(t.loadComponent&&!t._loadedComponent){let s=this.loader.loadComponent(t);return Tn([o,s]).pipe(Pl())}else return o})}static{this.\u0275fac=function(t){return new(t||i)(ce(ct),ce(yI),ce(hs),ce(Pv),ce(E2))}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),nV=new He(""),Kpe=(()=>{class i{constructor(e,t,r,o,s={}){this.urlSerializer=e,this.transitions=t,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof kf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof _s?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof su&&e.code===bv.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Sv&&(e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,t){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Sv(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,t))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(t){nN()}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac})}}return i})();function $pe(i){return i.routerState.root}function P_(i,n){return{\u0275kind:i,\u0275providers:n}}function qpe(){let i=Me(Er);return n=>{let e=i.get(dl);if(n!==e.components[0])return;let t=i.get(ct),r=i.get(rV);i.get(O2)===1&&t.initialNavigation(),i.get(oV,null,$i.Optional)?.setUpPreloading(),i.get(nV,null,$i.Optional)?.init(),t.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var rV=new He("",{factory:()=>new Re}),O2=new He("",{providedIn:"root",factory:()=>1});function Ype(){return P_(2,[{provide:O2,useValue:0},{provide:_I,multi:!0,deps:[Er],useFactory:n=>{let e=n.get(C3,Promise.resolve());return()=>e.then(()=>new Promise(t=>{let r=n.get(ct),o=n.get(rV);iV(r,()=>{t(!0)}),n.get(T2).afterPreactivation=()=>(t(!0),o.closed?wt(void 0):o),r.initialNavigation()}))}}])}function Jpe(){return P_(3,[{provide:_I,multi:!0,useFactory:()=>{let n=Me(ct);return()=>{n.setUpLocationChangeListener()}}},{provide:O2,useValue:2}])}var oV=new He("");function Xpe(i){return P_(0,[{provide:oV,useExisting:Wpe},{provide:Pv,useExisting:i}])}function Qpe(){return P_(8,[I5,{provide:kv,useExisting:I5}])}function Zpe(i){let n=[{provide:Z5,useValue:Ppe},{provide:eV,useValue:re({skipNextTransition:!!i?.skipInitialTransition},i)}];return P_(9,n)}var S5=new He("ROUTER_FORROOT_GUARD"),ehe=[$d,{provide:x_,useClass:Pf},ct,O_,{provide:Wc,useFactory:$pe,deps:[ct]},E2,[]],Na=(()=>{class i{constructor(e){}static forRoot(e,t){return{ngModule:i,providers:[ehe,[],{provide:Rv,multi:!0,useValue:e},{provide:S5,useFactory:rhe,deps:[[ct,new wg,new Hy]]},{provide:R_,useValue:t||{}},t?.useHash?ihe():nhe(),the(),t?.preloadingStrategy?Xpe(t.preloadingStrategy).\u0275providers:[],t?.initialNavigation?ohe(t):[],t?.bindToComponentInputs?Qpe().\u0275providers:[],t?.enableViewTransitions?Zpe().\u0275providers:[],she()]}}static forChild(e){return{ngModule:i,providers:[{provide:Rv,multi:!0,useValue:e}]}}static{this.\u0275fac=function(t){return new(t||i)(ce(S5,8))}}static{this.\u0275mod=Oe({type:i})}static{this.\u0275inj=Te({})}}return i})();function the(){return{provide:nV,useFactory:()=>{let i=Me(x3),n=Me(xt),e=Me(R_),t=Me(T2),r=Me(x_);return e.scrollOffset&&i.setOffset(e.scrollOffset),new Kpe(r,t,i,n,e)}}}function ihe(){return{provide:Bc,useClass:I3}}function nhe(){return{provide:Bc,useClass:Px}}function rhe(i){return"guarded"}function ohe(i){return[i.initialNavigation==="disabled"?Jpe().\u0275providers:[],i.initialNavigation==="enabledBlocking"?Ype().\u0275providers:[]]}var A5=new He("");function she(){return[{provide:A5,useFactory:qpe},{provide:CI,multi:!0,useExisting:A5}]}var ahe=["pMenuItemContent",""],sV=i=>({"p-disabled":i}),Lv=i=>({$implicit:i}),lhe=()=>({exact:!1});function che(i,n){i&1&&ue(0)}function dhe(i,n){if(i&1&&(m(0,"a",6),I(1,che,1,0,"ng-container",7),_()),i&2){let e=f(2),t=We(4);h("target",e.item.target)("ngClass",oe(9,sV,e.item.disabled)),V("title",e.item.title)("href",e.item.url||null,Uo)("data-automationid",e.item.automationId)("tabindex",-1)("data-pc-section","action"),u(),h("ngTemplateOutlet",t)("ngTemplateOutletContext",oe(11,Lv,e.item))}}function uhe(i,n){i&1&&ue(0)}function phe(i,n){if(i&1&&(m(0,"a",8),I(1,uhe,1,0,"ng-container",7),_()),i&2){let e=f(2),t=We(4);h("routerLink",e.item.routerLink)("queryParams",e.item.queryParams)("routerLinkActiveOptions",e.item.routerLinkActiveOptions||Ae(17,lhe))("target",e.item.target)("ngClass",oe(18,sV,e.item.disabled))("fragment",e.item.fragment)("queryParamsHandling",e.item.queryParamsHandling)("preserveFragment",e.item.preserveFragment)("skipLocationChange",e.item.skipLocationChange)("replaceUrl",e.item.replaceUrl)("state",e.item.state),V("data-automationid",e.item.automationId)("tabindex",-1)("data-pc-section","action")("title",e.item.title),u(),h("ngTemplateOutlet",t)("ngTemplateOutletContext",oe(20,Lv,e.item))}}function hhe(i,n){if(i&1&&(pe(0),I(1,dhe,2,13,"a",4)(2,phe,2,22,"a",5),he()),i&2){let e=f();u(),h("ngIf",!(e.item!=null&&e.item.routerLink)),u(),h("ngIf",e.item==null?null:e.item.routerLink)}}function fhe(i,n){}function mhe(i,n){i&1&&I(0,fhe,0,0,"ng-template")}function ghe(i,n){if(i&1&&(pe(0),I(1,mhe,1,0,null,7),he()),i&2){let e=f();u(),h("ngTemplateOutlet",e.itemTemplate)("ngTemplateOutletContext",oe(2,Lv,e.item))}}function _he(i,n){if(i&1&&O(0,"span",12),i&2){let e=f(2);le(e.item.iconClass),h("ngClass",e.item.icon)("ngStyle",e.item.iconStyle)}}function Che(i,n){if(i&1&&(m(0,"span",13),D(1),_()),i&2){let e=f(2);u(),$(e.item.label)}}function yhe(i,n){if(i&1&&(O(0,"span",14),R(1,"safeHtml")),i&2){let e=f(2);h("innerHTML",k(1,1,e.item.label),Xi)}}function Ihe(i,n){if(i&1&&(m(0,"span",15),D(1),_()),i&2){let e=f(2);h("ngClass",e.item.badgeStyleClass),u(),$(e.item.badge)}}function vhe(i,n){if(i&1&&I(0,_he,1,4,"span",9)(1,Che,2,1,"span",10)(2,yhe,2,3,"ng-template",null,1,Pt)(4,Ihe,2,2,"span",11),i&2){let e=We(3),t=f();h("ngIf",t.item.icon),u(),h("ngIf",t.item.escape!==!1)("ngIfElse",e),u(3),h("ngIf",t.item.badge)}}var bhe=["list"],whe=["container"],She=i=>({"p-menu p-component":!0,"p-menu-overlay":i}),Ahe=(i,n)=>({showTransitionParams:i,hideTransitionParams:n}),Ehe=i=>({value:"visible",params:i}),D2=i=>({"p-hidden":i}),xhe=(i,n)=>({"p-hidden":i,flex:n}),aV=(i,n,e)=>({"p-hidden":i,"p-focus":n,"p-disabled":e});function The(i,n){i&1&&ue(0)}function Ohe(i,n){if(i&1&&(m(0,"div",9),I(1,The,1,0,"ng-container",10),_()),i&2){let e=f(2);V("data-pc-section","start"),u(),h("ngTemplateOutlet",e.startTemplate)}}function Dhe(i,n){if(i&1&&O(0,"li",14),i&2){let e=f().$implicit;h("ngClass",oe(1,D2,e.visible===!1))}}function Rhe(i,n){if(i&1&&(m(0,"span"),D(1),_()),i&2){let e=f(3).$implicit;u(),$(e.label)}}function Phe(i,n){if(i&1&&(O(0,"span",18),R(1,"safeHtml")),i&2){let e=f(3).$implicit;h("innerHTML",k(1,1,e.label),Xi)}}function khe(i,n){if(i&1&&(pe(0),I(1,Rhe,2,1,"span",17)(2,Phe,2,3,"ng-template",null,2,Pt),he()),i&2){let e=We(3),t=f(2).$implicit;u(),h("ngIf",t.escape!==!1)("ngIfElse",e)}}function Fhe(i,n){i&1&&ue(0)}function Lhe(i,n){if(i&1&&(m(0,"li",15),I(1,khe,4,2,"ng-container",7)(2,Fhe,1,0,"ng-container",16),_()),i&2){let e=f(),t=e.$implicit,r=e.index,o=f(3);h("ngClass",Je(7,xhe,t.visible===!1,t.visible))("tooltipOptions",t.tooltipOptions),V("data-automationid",t.automationId)("id",o.menuitemId(t,o.id,r)),u(),h("ngIf",!o.submenuHeaderTemplate),u(),h("ngTemplateOutlet",o.submenuHeaderTemplate)("ngTemplateOutletContext",oe(10,Lv,t))}}function Mhe(i,n){if(i&1&&O(0,"li",14),i&2){let e=f().$implicit,t=f().$implicit;h("ngClass",oe(1,D2,e.visible===!1||t.visible===!1))}}function Nhe(i,n){if(i&1){let e=B();m(0,"li",20),P("onMenuItemClick",function(r){S(e);let o=f(),s=o.$implicit,a=o.index,l=f().index,c=f(3);return A(c.itemClick(r,c.menuitemId(s,c.id,l,a)))}),_()}if(i&2){let e=f(),t=e.$implicit,r=e.index,o=f(),s=o.$implicit,a=o.index,l=f(3);le(t.styleClass),h("pMenuItemContent",t)("itemTemplate",l.itemTemplate)("ngClass",zi(13,aV,t.visible===!1||s.visible===!1,l.focusedOptionId()&&l.menuitemId(t,l.id,a,r)===l.focusedOptionId(),l.disabled(t.disabled)))("ngStyle",t.style)("tooltipOptions",t.tooltipOptions),V("data-pc-section","menuitem")("aria-label",l.label(t.label))("data-p-focused",l.isItemFocused(l.menuitemId(t,l.id,a,r)))("data-p-disabled",l.disabled(t.disabled))("aria-disabled",l.disabled(t.disabled))("id",l.menuitemId(t,l.id,a,r))}}function Vhe(i,n){if(i&1&&I(0,Mhe,1,3,"li",12)(1,Nhe,1,17,"li",19),i&2){let e=n.$implicit;h("ngIf",e.separator),u(),h("ngIf",!e.separator)}}function Bhe(i,n){if(i&1&&I(0,Dhe,1,3,"li",12)(1,Lhe,3,12,"li",13)(2,Vhe,2,2,"ng-template",11),i&2){let e=n.$implicit;h("ngIf",e.separator),u(),h("ngIf",!e.separator),u(),h("ngForOf",e.items)}}function Uhe(i,n){if(i&1&&I(0,Bhe,3,3,"ng-template",11),i&2){let e=f(2);h("ngForOf",e.model)}}function jhe(i,n){if(i&1&&O(0,"li",14),i&2){let e=f().$implicit;h("ngClass",oe(1,D2,e.visible===!1))}}function Hhe(i,n){if(i&1){let e=B();m(0,"li",20),P("onMenuItemClick",function(r){S(e);let o=f(),s=o.$implicit,a=o.index,l=f(3);return A(l.itemClick(r,l.menuitemId(s,l.id,a)))}),_()}if(i&2){let e=f(),t=e.$implicit,r=e.index,o=f(3);le(t.styleClass),h("pMenuItemContent",t)("itemTemplate",o.itemTemplate)("ngClass",zi(13,aV,t.visible===!1,o.focusedOptionId()&&o.menuitemId(t,o.id,r,o.j)===o.focusedOptionId(),o.disabled(t.disabled)))("ngStyle",t.style)("tooltipOptions",t.tooltipOptions),V("data-pc-section","menuitem")("aria-label",o.label(t.label))("data-p-focused",o.isItemFocused(o.menuitemId(t,o.id,r)))("data-p-disabled",o.disabled(t.disabled))("aria-disabled",o.disabled(t.disabled))("id",o.menuitemId(t,o.id,r))}}function Ghe(i,n){if(i&1&&I(0,jhe,1,3,"li",12)(1,Hhe,1,17,"li",19),i&2){let e=n.$implicit;h("ngIf",e.separator),u(),h("ngIf",!e.separator)}}function zhe(i,n){if(i&1&&I(0,Ghe,2,2,"ng-template",11),i&2){let e=f(2);h("ngForOf",e.model)}}function Whe(i,n){i&1&&ue(0)}function Khe(i,n){if(i&1&&(m(0,"div",21),I(1,Whe,1,0,"ng-container",10),_()),i&2){let e=f(2);V("data-pc-section","end"),u(),h("ngTemplateOutlet",e.endTemplate)}}function $he(i,n){if(i&1){let e=B();m(0,"div",4,0),P("click",function(r){S(e);let o=f();return A(o.onOverlayClick(r))})("@overlayAnimation.start",function(r){S(e);let o=f();return A(o.onOverlayAnimationStart(r))})("@overlayAnimation.done",function(r){S(e);let o=f();return A(o.onOverlayAnimationEnd(r))}),I(2,Ohe,2,2,"div",5),m(3,"ul",6,1),P("focus",function(r){S(e);let o=f();return A(o.onListFocus(r))})("blur",function(r){S(e);let o=f();return A(o.onListBlur(r))})("keydown",function(r){S(e);let o=f();return A(o.onListKeyDown(r))}),I(5,Uhe,1,1,null,7)(6,zhe,1,1,null,7),_(),I(7,Khe,2,2,"div",8),_()}if(i&2){let e=f();le(e.styleClass),h("ngClass",oe(18,She,e.popup))("ngStyle",e.style)("@overlayAnimation",oe(23,Ehe,Je(20,Ahe,e.showTransitionOptions,e.hideTransitionOptions)))("@.disabled",e.popup!==!0),V("data-pc-name","menu")("id",e.id),u(2),h("ngIf",e.startTemplate),u(),V("id",e.id+"_list")("tabindex",e.getTabIndexValue())("data-pc-section","menu")("aria-activedescendant",e.activedescendant())("aria-label",e.ariaLabel)("aria-labelledBy",e.ariaLabelledBy),u(2),h("ngIf",e.hasSubMenu()),u(),h("ngIf",!e.hasSubMenu()),u(),h("ngIf",e.endTemplate)}}var lV=(()=>{class i{platformId;sanitizer;constructor(e,t){this.platformId=e,this.sanitizer=t}transform(e){return!e||!ht(this.platformId)?e:this.sanitizer.bypassSecurityTrustHtml(e)}static \u0275fac=function(t){return new(t||i)(b(qt,16),b(pl,16))};static \u0275pipe=Jn({name:"safeHtml",type:i,pure:!0})}return i})(),qhe=(()=>{class i{item;itemTemplate;onMenuItemClick=new Q;menu;constructor(e){this.menu=e}onItemClick(e,t){this.onMenuItemClick.emit({originalEvent:e,item:t})}static \u0275fac=function(t){return new(t||i)(b(zt(()=>Bp)))};static \u0275cmp=ie({type:i,selectors:[["","pMenuItemContent",""]],hostAttrs:[1,"p-element"],inputs:{item:[0,"pMenuItemContent","item"],itemTemplate:"itemTemplate"},outputs:{onMenuItemClick:"onMenuItemClick"},attrs:ahe,decls:5,vars:3,consts:[["itemContent",""],["htmlLabel",""],[1,"p-menuitem-content",3,"click"],[4,"ngIf"],["class","p-menuitem-link","pRipple","",3,"target","ngClass",4,"ngIf"],["routerLinkActive","p-menuitem-link-active","class","p-menuitem-link","pRipple","",3,"routerLink","queryParams","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state",4,"ngIf"],["pRipple","",1,"p-menuitem-link",3,"target","ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["routerLinkActive","p-menuitem-link-active","pRipple","",1,"p-menuitem-link",3,"routerLink","queryParams","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state"],["class","p-menuitem-icon",3,"ngClass","class","ngStyle",4,"ngIf"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],["class","p-menuitem-badge",3,"ngClass",4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass","ngStyle"],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[1,"p-menuitem-badge",3,"ngClass"]],template:function(t,r){if(t&1){let o=B();m(0,"div",2),P("click",function(a){return S(o),A(r.onItemClick(a,r.item))}),I(1,hhe,3,2,"ng-container",3)(2,ghe,2,4,"ng-container",3)(3,vhe,5,4,"ng-template",null,0,Pt),_()}t&2&&(V("data-pc-section","content"),u(),h("ngIf",!r.itemTemplate),u(),h("ngIf",r.itemTemplate))},dependencies:[Ge,et,st,Ee,au,Nf,qi,lV],encapsulation:2})}return i})(),Bp=(()=>{class i{document;platformId;el;renderer;cd;config;overlayService;model;popup;style;styleClass;appendTo;autoZIndex=!0;baseZIndex=0;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";ariaLabel;ariaLabelledBy;id;tabindex=0;onShow=new Q;onHide=new Q;onBlur=new Q;onFocus=new Q;listViewChild;containerViewChild;templates;startTemplate;endTemplate;itemTemplate;submenuHeaderTemplate;container;scrollHandler;documentClickListener;documentResizeListener;preventDocumentDefault;target;visible;focusedOptionId=Tr(()=>this.focusedOptionIndex()!==-1?this.focusedOptionIndex():null);focusedOptionIndex=Oi(-1);selectedOptionIndex=Oi(-1);focused=!1;overlayVisible=!1;relativeAlign;constructor(e,t,r,o,s,a,l){this.document=e,this.platformId=t,this.el=r,this.renderer=o,this.cd=s,this.config=a,this.overlayService=l,this.id=this.id||yt()}toggle(e){this.visible?this.hide():this.show(e),this.preventDocumentDefault=!0}show(e){this.visible&&this.target!==e.currentTarget&&this.hide(),this.target=e.currentTarget,this.relativeAlign=e.relativeAlign,this.visible=!0,this.preventDocumentDefault=!0,this.overlayVisible=!0,this.cd.detectChanges()}ngOnInit(){this.popup||this.bindDocumentClickListener()}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"start":this.startTemplate=e.template;break;case"end":this.endTemplate=e.template;break;case"itemTemplate":this.itemTemplate=e.template;break;case"submenuheader":this.submenuHeaderTemplate=e.template;break;default:this.itemTemplate=e.template;break}})}getTabIndexValue(){return this.tabindex!==void 0?this.tabindex.toString():null}onOverlayAnimationStart(e){switch(e.toState){case"visible":this.popup&&(this.container=e.element,this.moveOnTop(),this.onShow.emit({}),this.appendOverlay(),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),M.focus(this.listViewChild.nativeElement),this.preventDocumentDefault=!0);break;case"void":this.onOverlayHide(),this.onHide.emit({});break}}onOverlayAnimationEnd(e){switch(e.toState){case"void":this.autoZIndex&&hi.clear(e.element);break}}alignOverlay(){this.relativeAlign?M.relativePosition(this.container,this.target):M.absolutePosition(this.container,this.target)}appendOverlay(){this.appendTo&&(this.appendTo==="body"?this.renderer.appendChild(this.document.body,this.container):M.appendChild(this.container,this.appendTo))}restoreOverlayAppend(){this.container&&this.appendTo&&this.renderer.appendChild(this.el.nativeElement,this.container)}moveOnTop(){this.autoZIndex&&hi.set("menu",this.container,this.baseZIndex+this.config.zIndex.menu)}hide(){this.visible=!1,this.relativeAlign=!1,this.cd.detectChanges()}onWindowResize(){this.visible&&!M.isTouchDevice()&&this.hide()}menuitemId(e,t,r,o){return e?.id??`${t}_${r}${o!==void 0?"_"+o:""}`}isItemFocused(e){return this.focusedOptionId()===e}label(e){return typeof e=="function"?e():e}disabled(e){return typeof e=="function"?e():typeof e>"u"?!1:e}activedescendant(){return this.focused?this.focusedOptionId():void 0}onListFocus(e){this.focused||(this.focused=!0,this.onFocus.emit(e))}onListBlur(e){this.focused&&(this.focused=!1,this.changeFocusedOptionIndex(-1),this.selectedOptionIndex.set(-1),this.focusedOptionIndex.set(-1),this.onBlur.emit(e))}onListKeyDown(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"Enter":this.onEnterKey(e);break;case"NumpadEnter":this.onEnterKey(e);break;case"Space":this.onSpaceKey(e);break;case"Escape":case"Tab":this.popup&&(M.focus(this.target),this.hide()),this.overlayVisible&&this.hide();break;default:break}}onArrowDownKey(e){let t=this.findNextOptionIndex(this.focusedOptionIndex());this.changeFocusedOptionIndex(t),e.preventDefault()}onArrowUpKey(e){if(e.altKey&&this.popup)M.focus(this.target),this.hide(),e.preventDefault();else{let t=this.findPrevOptionIndex(this.focusedOptionIndex());this.changeFocusedOptionIndex(t),e.preventDefault()}}onHomeKey(e){this.changeFocusedOptionIndex(0),e.preventDefault()}onEndKey(e){this.changeFocusedOptionIndex(M.find(this.containerViewChild.nativeElement,'li[data-pc-section="menuitem"][data-p-disabled="false"]').length-1),e.preventDefault()}onEnterKey(e){let t=M.findSingle(this.containerViewChild.nativeElement,`li[id="${`${this.focusedOptionIndex()}`}"]`),r=t&&M.findSingle(t,"a");this.popup&&M.focus(this.target),r?r.click():t&&t.click(),e.preventDefault()}onSpaceKey(e){this.onEnterKey(e)}findNextOptionIndex(e){let r=[...M.find(this.containerViewChild.nativeElement,'li[data-pc-section="menuitem"][data-p-disabled="false"]')].findIndex(o=>o.id===e);return r>-1?r+1:0}findPrevOptionIndex(e){let r=[...M.find(this.containerViewChild.nativeElement,'li[data-pc-section="menuitem"][data-p-disabled="false"]')].findIndex(o=>o.id===e);return r>-1?r-1:0}changeFocusedOptionIndex(e){let t=M.find(this.containerViewChild.nativeElement,'li[data-pc-section="menuitem"][data-p-disabled="false"]');if(t.length>0){let r=e>=t.length?t.length-1:e<0?0:e;r>-1&&this.focusedOptionIndex.set(t[r].getAttribute("id"))}}itemClick(e,t){let{originalEvent:r,item:o}=e;if(this.focused||(this.focused=!0,this.onFocus.emit()),o.disabled){r.preventDefault();return}!o.url&&!o.routerLink&&r.preventDefault(),o.command&&o.command({originalEvent:r,item:o}),this.popup&&this.hide(),!this.popup&&this.focusedOptionIndex()!==t&&this.focusedOptionIndex.set(t)}onOverlayClick(e){this.popup&&this.overlayService.add({originalEvent:e,target:this.el.nativeElement}),this.preventDocumentDefault=!0}bindDocumentClickListener(){if(!this.documentClickListener&&ht(this.platformId)){let e=this.el?this.el.nativeElement.ownerDocument:"document";this.documentClickListener=this.renderer.listen(e,"click",t=>{let r=t.composed?t.composedPath()[0]:t.target,o=this.containerViewChild?.nativeElement&&!this.containerViewChild?.nativeElement.contains(r),s=!(this.target&&(this.target===r||this.target.contains(r)));!this.popup&&o&&s&&this.onListBlur(t),this.preventDocumentDefault&&this.overlayVisible&&o&&s&&(this.hide(),this.preventDocumentDefault=!1)})}}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){if(!this.documentResizeListener&&ht(this.platformId)){let e=this.document.defaultView;this.documentResizeListener=this.renderer.listen(e,"resize",this.onWindowResize.bind(this))}}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindScrollListener(){!this.scrollHandler&&ht(this.platformId)&&(this.scrollHandler=new Zr(this.target,()=>{this.visible&&this.hide()})),this.scrollHandler?.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.preventDocumentDefault=!1}ngOnDestroy(){this.popup&&(this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.container&&this.autoZIndex&&hi.clear(this.container),this.restoreOverlayAppend(),this.onOverlayHide()),this.popup||this.unbindDocumentClickListener()}hasSubMenu(){if(this.model){for(var e of this.model)if(e.items)return!0}return!1}isItemHidden(e){return e.separator?e.visible===!1||e.items&&e.items.some(t=>t.visible!==!1):e.visible===!1}static \u0275fac=function(t){return new(t||i)(b(_t),b(qt),b(ze),b(Ft),b(Ie),b(Vt),b(Ao))};static \u0275cmp=ie({type:i,selectors:[["p-menu"]],contentQueries:function(t,r,o){if(t&1&&ot(o,be,4),t&2){let s;ee(s=te())&&(r.templates=s)}},viewQuery:function(t,r){if(t&1&&(de(bhe,5),de(whe,5)),t&2){let o;ee(o=te())&&(r.listViewChild=o.first),ee(o=te())&&(r.containerViewChild=o.first)}},hostAttrs:[1,"p-element"],inputs:{model:"model",popup:[2,"popup","popup",K],style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:[2,"autoZIndex","autoZIndex",K],baseZIndex:[2,"baseZIndex","baseZIndex",ke],showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",id:"id",tabindex:[2,"tabindex","tabindex",ke]},outputs:{onShow:"onShow",onHide:"onHide",onBlur:"onBlur",onFocus:"onFocus"},features:[qe],decls:1,vars:1,consts:[["container",""],["list",""],["htmlSubmenuLabel",""],[3,"ngClass","class","ngStyle","click",4,"ngIf"],[3,"click","ngClass","ngStyle"],["class","p-menu-start",4,"ngIf"],["role","menu",1,"p-menu-list","p-reset",3,"focus","blur","keydown"],[4,"ngIf"],["class","p-menu-end",4,"ngIf"],[1,"p-menu-start"],[4,"ngTemplateOutlet"],["ngFor","",3,"ngForOf"],["class","p-menuitem-separator","role","separator",3,"ngClass",4,"ngIf"],["class","p-submenu-header","pTooltip","","role","none",3,"ngClass","tooltipOptions",4,"ngIf"],["role","separator",1,"p-menuitem-separator",3,"ngClass"],["pTooltip","","role","none",1,"p-submenu-header",3,"ngClass","tooltipOptions"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngIf","ngIfElse"],[3,"innerHTML"],["class","p-menuitem","pTooltip","","role","menuitem",3,"pMenuItemContent","itemTemplate","ngClass","ngStyle","class","tooltipOptions","onMenuItemClick",4,"ngIf"],["pTooltip","","role","menuitem",1,"p-menuitem",3,"onMenuItemClick","pMenuItemContent","itemTemplate","ngClass","ngStyle","tooltipOptions"],[1,"p-menu-end"]],template:function(t,r){t&1&&I(0,$he,8,25,"div",3),t&2&&h("ngIf",!r.popup||r.visible)},dependencies:[Ge,tn,et,st,Ee,Zn,qhe,lV],styles:[`@layer primeng{.p-menu-overlay{position:absolute;top:0;left:0}.p-menu ul{margin:0;padding:0;list-style:none}.p-menu .p-submenu-header{align-items:center}.p-menu .p-menuitem-link{cursor:pointer;display:flex;align-items:center;text-decoration:none;overflow:hidden;position:relative}.p-menu .p-menuitem-text{line-height:1}}
`],encapsulation:2,data:{animation:[hn("overlayAnimation",[Xt(":enter",[jt({opacity:0,transform:"scaleY(0.8)"}),Jt("{{showTransitionParams}}")]),Xt(":leave",[Jt("{{hideTransitionParams}}",jt({opacity:0}))])])]},changeDetection:0})}return i})(),cV=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=Oe({type:i});static \u0275inj=Te({imports:[Ye,Na,Qi,zr,nt,Na,zr,nt]})}return i})();var L=function(i){return i[i.OBJ_FIREWALL=0]="OBJ_FIREWALL",i[i.OBJ_SERVICE_IP=1]="OBJ_SERVICE_IP",i[i.OBJ_SERVICE_TCP=2]="OBJ_SERVICE_TCP",i[i.OBJ_SERVICE_ICMP=3]="OBJ_SERVICE_ICMP",i[i.OBJ_SERVICE_UDP=4]="OBJ_SERVICE_UDP",i[i.OBJ_ADDRESS=5]="OBJ_ADDRESS",i[i.OBJ_ADDRESS_RANGE=6]="OBJ_ADDRESS_RANGE",i[i.OBJ_NETWORK=7]="OBJ_NETWORK",i[i.OBJ_HOST=8]="OBJ_HOST",i[i.OBJ_DNS=9]="OBJ_DNS",i[i.OBJ_INTERFACE_FIREWALL=10]="OBJ_INTERFACE_FIREWALL",i[i.OBJ_INTERFACE_HOST=11]="OBJ_INTERFACE_HOST",i[i.OBJ_GROUP=20]="OBJ_GROUP",i[i.OBJ_SERVICE_GROUP=21]="OBJ_SERVICE_GROUP",i[i.OBJ_CONTINENT=23]="OBJ_CONTINENT",i[i.OBJ_COUNTRIE=24]="OBJ_COUNTRIE",i[i.OBJ_MARK=30]="OBJ_MARK",i[i.OBJ_GEN_IP_OBJECT=99]="OBJ_GEN_IP_OBJECT",i[i.OBJ_CLUSTER=100]="OBJ_CLUSTER",i[i.OBJ_CLUSTER_NODE=101]="OBJ_CLUSTER_NODE",i[i.OBJ_GEN_RULE=199]="OBJ_GEN_RULE",i[i.OBJ_CA=300]="OBJ_CA",i[i.OBJ_CERT_CLI=301]="OBJ_CERT_CLI",i[i.OBJ_CERT_SER=302]="OBJ_CERT_SER",i[i.OBJ_VPN_CONFIG_CLI=311]="OBJ_VPN_CONFIG_CLI",i[i.OBJ_VPN_CONFIG_SER=312]="OBJ_VPN_CONFIG_SER",i[i.OBJ_PREFIX_FOLDER=400]="OBJ_PREFIX_FOLDER",i[i.OBJ_OPENVPN_PREFIX=401]="OBJ_OPENVPN_PREFIX",i[i.OBJ_ROUTING_GATEWAY=500]="OBJ_ROUTING_GATEWAY",i[i.OBJ_ROUTING_RULE_FROM=600]="OBJ_ROUTING_RULE_FROM",i[i.OBJ_ROUTING_TABLE=201]="OBJ_ROUTING_TABLE",i[i.OBJ_ANY=-9999]="OBJ_ANY",i[i.OBJ_DHCP_RULE_RANGE=700]="OBJ_DHCP_RULE_RANGE",i[i.OBJ_DHCP_RULE_ROUTER=701]="OBJ_DHCP_RULE_ROUTER",i[i.OBJ_DHCP_RULE_NETWORK=750]="OBJ_DHCP_RULE_NETWORK",i[i.OBJ_DHCP_RULE_INTERFACE=755]="OBJ_DHCP_RULE_INTERFACE",i[i.OBJ_DHCP_RULE_IP=756]="OBJ_DHCP_RULE_IP",i[i.OBJ_DHCP_RULE_DNS=757]="OBJ_DHCP_RULE_DNS",i[i.OBJ_DHCP_MAX_LEASE_TIME=758]="OBJ_DHCP_MAX_LEASE_TIME",i[i.OBJ_DHCP_GROUP=800]="OBJ_DHCP_GROUP",i[i.OBJ_KEEPALIVED_GROUP=801]="OBJ_KEEPALIVED_GROUP",i[i.OBJ_KEEPALIVED_VIRTUAL_IPS=760]="OBJ_KEEPALIVED_VIRTUAL_IPS",i[i.OBJ_KEEPALIVED_MASTER_NODE=761]="OBJ_KEEPALIVED_MASTER_NODE",i[i.OBJ_KEEPALIVED_INTERFACE=762]="OBJ_KEEPALIVED_INTERFACE",i[i.OBJ_HAPROXY_GROUP=802]="OBJ_HAPROXY_GROUP",i[i.OBJ_HAPROXY_RULE_FRONTEND_IP=803]="OBJ_HAPROXY_RULE_FRONTEND_IP",i[i.OBJ_HAPROXY_RULE_FRONTEND_PORT=804]="OBJ_HAPROXY_RULE_FRONTEND_PORT",i[i.OBJ_HAPROXY_RULE_BACKEND_IPS=805]="OBJ_HAPROXY_RULE_BACKEND_IPS",i[i.OBJ_HAPROXY_RULE_BACKEND_PORT=806]="OBJ_HAPROXY_RULE_BACKEND_PORT",i}(L||{}),H=function(i){return i.OBJ_FIREWALL="FW",i.OBJ_CLUSTER="CL",i.OBJ_HOST="OIH",i.OBJ_ADDRESS="OIA",i.OBJ_DNS="ONS",i.OBJ_NETWORK="OIN",i.OBJ_GROUP="OIG",i.OBJ_IP_RANGE="OIR",i.OBJ_IF_FW="IFF",i.OBJ_IF_HOST="IFH",i.OBJ_MARK="MRK",i.SERVICE_IP="SOI",i.SERVICE_ICMP="SOM",i.SERVICE_UDP="SOU",i.SERVICE_TCP="SOT",i.SERVICE_GROUP="SOG",i.STANDARD="STD",i.FOLDER="FD",i.FOLDER_INTERFACES="FDI",i.FOLDER_OBJECTS="FDO",i.FOLDER_SERVICES="FDS",i.FOLDER_TIME="FDT",i.FOLDER_FW="FDF",i.FOLDER_CLUSTER="FDC",i.FOLDER_CLUSTER_FW="FCF",i.FOLDER_POLICY="FP",i.FOLDER_POLICY6="FP6",i.FOLDER_NAT="NT",i.FOLDER_ROUTING="ROU",i.FOLDER_ADDRESSES="OIA",i.FOLDER_NETWORKS="OIN",i.FOLDER_CA="FCA",i.FOLDER_SYSTEM="SYS",i.POLICY_INPUT="PI",i.POLICY_OUTPUT="PO",i.POLICY_FORWARD="PF",i.POLICY_ROUTING="RR",i.POLICY_SNAT="NTS",i.POLICY_DNAT="NTD",i.POLICY_DHCP="DHCP",i.POLICY_INPUT6="PI6",i.POLICY_OUTPUT6="PO6",i.POLICY_FORWARD6="PF6",i.POLICY_ROUTING6="RR6",i.POLICY_SNAT6="NS6",i.POLICY_DNAT6="ND6",i.OPENVPN_ROOT="OPN",i.OPENVPN_CA="CA",i.OPENVPN_CERT="CRT",i.OPENVPN_CONFIG_SER="OSR",i.OPENVPN_CONFIG_CLI="OCL",i.OPENVPN_PREFIX_FOLDER="PRE",i.OPENVPN_PREFIX="PRO",i.ROUTING_TABLES="RTS",i.ROUTING_TABLE="RT",i.COUNTRIES="COF",i.CONTINENT="CON",i.COUNTRIE="COD",i.AF="AF",i.AN="AN",i.AS="AS",i.EU="EU",i.NA="NA",i.OC="OC",i.SA="SA",i.DHCP="S01",i.DHCP_FIXED_IP="S04",i.KEEPALIVED="S02",i.HAPROXY="S03",i}(H||{}),Mr=function(i){return i[i.POLICY_ROUTING=6]="POLICY_ROUTING",i[i.ROUTING_TABLE=201]="ROUTING_TABLE",i}(Mr||{}),P2=function(i){return i[i.STATEFUL=1]="STATEFUL",i[i.CATCHALL=2]="CATCHALL",i[i.DOCKER=3]="DOCKER",i[i.CROWDSEC=4]="CROWDSEC",i[i.FAIL2BAN=5]="FAIL2BAN",i[i.HOOKSCRIPT=6]="HOOKSCRIPT",i}(P2||{}),Ui=function(i){return i[i.TO_POSITION=771]="TO_POSITION",i[i.GATEWAY_POSITION=881]="GATEWAY_POSITION",i[i.INTERFACE_POSITION=991]="INTERFACE_POSITION",i}(Ui||{}),is=function(i){return i[i.FROM_POSITION=772]="FROM_POSITION",i[i.ROUTING_TABLE_POSITION=882]="ROUTING_TABLE_POSITION",i}(is||{}),ns=function(i){return i[i.NETWORK=775]="NETWORK",i[i.RANGE=776]="RANGE",i[i.ROUTER=777]="ROUTER",i[i.DNS=778]="DNS",i[i.INTERFACE=779]="INTERFACE",i[i.IP=780]="IP",i}(ns||{}),Kc=function(i){return i[i.INTERFACE=785]="INTERFACE",i[i.VIRTUAL_IPS=786]="VIRTUAL_IPS",i[i.MASTER_NODE=787]="MASTER_NODE",i}(Kc||{}),fa=function(i){return i[i.FRONTEND_IP=790]="FRONTEND_IP",i[i.FRONTEND_PORT=791]="FRONTEND_PORT",i[i.BACKEND_IPS=792]="BACKEND_IPS",i[i.BACKEND_PORT=793]="BACKEND_PORT",i}(fa||{}),dV={[L.OBJ_INTERFACE_FIREWALL]:H.OBJ_IF_FW,[L.OBJ_INTERFACE_HOST]:H.OBJ_IF_HOST,[L.OBJ_ADDRESS]:H.OBJ_ADDRESS},$c=[H.POLICY_INPUT,H.POLICY_OUTPUT,H.POLICY_FORWARD,H.POLICY_SNAT,H.POLICY_DNAT,H.POLICY_ROUTING,H.POLICY_INPUT6,H.POLICY_OUTPUT6,H.POLICY_FORWARD6,H.POLICY_SNAT6,H.POLICY_DNAT6,H.ROUTING_TABLE,H.DHCP,H.DHCP_FIXED_IP,H.KEEPALIVED,H.HAPROXY],Si={[H.POLICY_INPUT]:1,[H.POLICY_OUTPUT]:2,[H.POLICY_FORWARD]:3,[H.POLICY_SNAT]:4,[H.POLICY_DNAT]:5,[H.POLICY_INPUT6]:61,[H.POLICY_OUTPUT6]:62,[H.POLICY_FORWARD6]:63,[H.POLICY_SNAT6]:64,[H.POLICY_DNAT6]:65,[H.DHCP]:66,[H.DHCP_FIXED_IP]:67,[H.KEEPALIVED]:68,[H.HAPROXY]:69,[H.POLICY_ROUTING]:Mr.POLICY_ROUTING,[H.ROUTING_TABLE]:Mr.ROUTING_TABLE},uV={1:"IPv4",2:"IPv4",3:"IPv4",4:"IPv4",5:"IPv4",61:"IPv6",62:"IPv6",63:"IPv6",64:"IPv6",65:"IPv6"},pV=$c.concat([H.FOLDER_POLICY,H.FOLDER_INTERFACES,H.OPENVPN_ROOT,H.OPENVPN_CA,H.OPENVPN_PREFIX_FOLDER,H.OPENVPN_CONFIG_SER]),hV=$c.concat([H.ROUTING_TABLES]),U=function(i){return i[i.NO_MENU=-1]="NO_MENU",i[i.SEPARATOR=-2]="SEPARATOR",i[i.COPY=900]="COPY",i[i.CUT=901]="CUT",i[i.PASTE=902]="PASTE",i[i.PASTE_ABOVE=903]="PASTE_ABOVE",i[i.PASTE_BELOW=904]="PASTE_BELOW",i[i.DELETE=905]="DELETE",i[i.EDIT=906]="EDIT",i[i.WHERE_USED=907]="WHERE_USED",i[i.FIND_IN_TREE=908]="FIND_IN_TREE",i[i.DELETE_FROM_GROUP=910]="DELETE_FROM_GROUP",i[i.DUPLICATE=911]="DUPLICATE",i[i.HELP=912]="HELP",i[i.FIREWALL_EDIT=1]="FIREWALL_EDIT",i[i.FIREWALL_NEW=2]="FIREWALL_NEW",i[i.FIREWALL_DELETE=3]="FIREWALL_DELETE",i[i.FIREWALL_COMPILE=4]="FIREWALL_COMPILE",i[i.FIREWALL_INSTALL=5]="FIREWALL_INSTALL",i[i.FIREWALL_COMPILE_ALL=6]="FIREWALL_COMPILE_ALL",i[i.FIREWALL_INSTALL_ALL=7]="FIREWALL_INSTALL_ALL",i[i.FIREWALL_TO_CLUSTER=8]="FIREWALL_TO_CLUSTER",i[i.FIREWALL_CLONE=9]="FIREWALL_CLONE",i[i.FIREWALL_IPTABLES_IMPORT=10]="FIREWALL_IPTABLES_IMPORT",i[i.FIREWALL_IPTABLES_EXPORT=11]="FIREWALL_IPTABLES_EXPORT",i[i.FIREWALL_IMPORT=12]="FIREWALL_IMPORT",i[i.POLICY_PANEL_SHOW=13]="POLICY_PANEL_SHOW",i[i.POLICY_PANEL_DOWNLOAD=14]="POLICY_PANEL_DOWNLOAD",i[i.NODE_EDIT=15]="NODE_EDIT",i[i.NODE_DELETE=16]="NODE_DELETE",i[i.POLICY_LOAD=17]="POLICY_LOAD",i[i.NGFW=18]="NGFW",i[i.PLUGINS=19]="PLUGINS",i[i.FOLDER_EXPAND=21]="FOLDER_EXPAND",i[i.FOLDER_COLLAPSE=22]="FOLDER_COLLAPSE",i[i.FOLDER_NEW=23]="FOLDER_NEW",i[i.FOLDER_DELETE=24]="FOLDER_DELETE",i[i.FOLDER_RENAME=25]="FOLDER_RENAME",i[i.NEW_INTERFACE=34]="NEW_INTERFACE",i[i.NEW_ADDRESS=41]="NEW_ADDRESS",i[i.NEW_GROUP=42]="NEW_GROUP",i[i.NEW_NETWORK=43]="NEW_NETWORK",i[i.NEW_IP_RANGE=44]="NEW_IP_RANGE",i[i.NEW_HOST=45]="NEW_HOST",i[i.NEW_DNS=46]="NEW_DNS",i[i.NEW_IP_SERVICE=51]="NEW_IP_SERVICE",i[i.NEW_ICMP_SERVICE=52]="NEW_ICMP_SERVICE",i[i.NEW_TCP_SERVICE=53]="NEW_TCP_SERVICE",i[i.NEW_UDP_SERVICE=54]="NEW_UDP_SERVICE",i[i.NEW_SERVICE_GROUP=55]="NEW_SERVICE_GROUP",i[i.TREE_RELOAD=61]="TREE_RELOAD",i[i.TREE_REPAIR=62]="TREE_REPAIR",i[i.CLUSTER_NEW=71]="CLUSTER_NEW",i[i.CLUSTER_EDIT=72]="CLUSTER_EDIT",i[i.CLUSTER_DELETE=73]="CLUSTER_DELETE",i[i.CLUSTER_COMPILE=74]="CLUSTER_COMPILE",i[i.CLUSTER_INSTALL=75]="CLUSTER_INSTALL",i[i.CLUSTER_COMPILE_ALL=76]="CLUSTER_COMPILE_ALL",i[i.CLUSTER_TO_FIREWALL=77]="CLUSTER_TO_FIREWALL",i[i.CLUSTER_CLONE=78]="CLUSTER_CLONE",i[i.CA_NEW=81]="CA_NEW",i[i.CA_VIEW=82]="CA_VIEW",i[i.CA_DELETE=83]="CA_DELETE",i[i.CA_EDIT=84]="CA_EDIT",i[i.CA_CRT_NEW=91]="CA_CRT_NEW",i[i.CA_CRT_VIEW=92]="CA_CRT_VIEW",i[i.CA_CRT_EDIT=97]="CA_CRT_EDIT",i[i.CA_CRT_DELETE=93]="CA_CRT_DELETE",i[i.CA_CRT_NEW_PREFIX=94]="CA_CRT_NEW_PREFIX",i[i.CA_CRT_EDIT_PREFIX=95]="CA_CRT_EDIT_PREFIX",i[i.CA_CRT_DELETE_PREFIX=96]="CA_CRT_DELETE_PREFIX",i[i.RULE_SELECT=101]="RULE_SELECT",i[i.RULE_UNSELECT=102]="RULE_UNSELECT",i[i.RULE_EDIT=103]="RULE_EDIT",i[i.RULE_ENABLE=104]="RULE_ENABLE",i[i.RULE_DISABLE=105]="RULE_DISABLE",i[i.RULE_DELETE=106]="RULE_DELETE",i[i.RULE_NEW_ABOVE=107]="RULE_NEW_ABOVE",i[i.RULE_NEW_BELOW=108]="RULE_NEW_BELOW",i[i.RULE_NEW_HS_ABOVE=10107]="RULE_NEW_HS_ABOVE",i[i.RULE_NEW_HS_BELOW=10108]="RULE_NEW_HS_BELOW",i[i.RULE_CREATE_GROUP=109]="RULE_CREATE_GROUP",i[i.RULE_REMOVE_GROUP=110]="RULE_REMOVE_GROUP",i[i.RULE_REMOVE_FROM_GROUP=111]="RULE_REMOVE_FROM_GROUP",i[i.RULE_MOVE_ABOVE=112]="RULE_MOVE_ABOVE",i[i.RULE_MOVE_BELOW=113]="RULE_MOVE_BELOW",i[i.RULE_COMPILE=114]="RULE_COMPILE",i[i.RULE_COLOR_CHANGE=120]="RULE_COLOR_CHANGE",i[i.RULE_COLOR_DEFAULT=121]="RULE_COLOR_DEFAULT",i[i.RULE_COLOR_RED=122]="RULE_COLOR_RED",i[i.RULE_COLOR_GREEN=123]="RULE_COLOR_GREEN",i[i.RULE_COLOR_BLUE=124]="RULE_COLOR_BLUE",i[i.RULE_COLOR_PURPLE=125]="RULE_COLOR_PURPLE",i[i.RULE_COLOR_TEAL=126]="RULE_COLOR_TEAL",i[i.RULE_COLOR_YELLOW=127]="RULE_COLOR_YELLOW",i[i.RULE_COLOR_ORANGE=128]="RULE_COLOR_ORANGE",i[i.RULE_COLOR_BROWN=129]="RULE_COLOR_BROWN",i[i.RULE_COLOR_CUSTOM=135]="RULE_COLOR_CUSTOM",i[i.VPN_OPTION_DELETE=141]="VPN_OPTION_DELETE",i[i.VPN_OPTION_SET_DEFAULT=142]="VPN_OPTION_SET_DEFAULT",i[i.VPN_OPTION_EMPTY=143]="VPN_OPTION_EMPTY",i[i.VPN_CONFIG_DELETE=151]="VPN_CONFIG_DELETE",i[i.VPN_CONFIG_FILE=152]="VPN_CONFIG_FILE",i[i.VPN_CONFIG_INSTALL=153]="VPN_CONFIG_INSTALL",i[i.VPN_CONFIG_SYNC_CCD=154]="VPN_CONFIG_SYNC_CCD",i[i.VPN_CONFIG_UNINSTALL=155]="VPN_CONFIG_UNINSTALL",i[i.VPN_CONFIG_NEW_PREFIX=156]="VPN_CONFIG_NEW_PREFIX",i[i.VPN_CONFIG_EDIT_PREFIX=157]="VPN_CONFIG_EDIT_PREFIX",i[i.VPN_CONFIG_DELETE_PREFIX=158]="VPN_CONFIG_DELETE_PREFIX",i[i.VPN_CONFIG_STATUS=159]="VPN_CONFIG_STATUS",i[i.VPN_CONFIG_INST_WINDOWS=160]="VPN_CONFIG_INST_WINDOWS",i[i.VPN_CONFIG_SYNC_PENDING_CCD=161]="VPN_CONFIG_SYNC_PENDING_CCD",i[i.VPN_CONFIG_BLOCK=162]="VPN_CONFIG_BLOCK",i[i.VPN_CONFIG_UNBLOCK=163]="VPN_CONFIG_UNBLOCK",i[i.VPN_CONFIG_HISTORIC=164]="VPN_CONFIG_HISTORIC",i[i.VPN_CONFIG_SYSTEMCTL=165]="VPN_CONFIG_SYSTEMCTL",i[i.MARK_NEW=170]="MARK_NEW",i[i.POSITION_NEGATE=201]="POSITION_NEGATE",i[i.POSITION_ALLOW=202]="POSITION_ALLOW",i[i.OBJECT_EDIT=301]="OBJECT_EDIT",i[i.RULE_GROUP_EDIT=401]="RULE_GROUP_EDIT",i[i.RULE_GROUP_COLOR_CHANGE=402]="RULE_GROUP_COLOR_CHANGE",i[i.COMPILE_IPTABLES=501]="COMPILE_IPTABLES",i[i.COMPILE_NFTABLES=502]="COMPILE_NFTABLES",i[i.ROUTING_TABLE_NEW=601]="ROUTING_TABLE_NEW",i[i.ROUTING_TABLE_EDIT=602]="ROUTING_TABLE_EDIT",i[i.ROUTING_TABLE_DELETE=603]="ROUTING_TABLE_DELETE",i[i.ROUTING_TABLE_NEW_ROUTE=610]="ROUTING_TABLE_NEW_ROUTE",i[i.DHCP_NEW_RULE_GROUP=615]="DHCP_NEW_RULE_GROUP",i[i.DHCP_EDIT_RULE_GROUP=616]="DHCP_EDIT_RULE_GROUP",i[i.DHCP_DELETE_RULE_GROUP=617]="DHCP_DELETE_RULE_GROUP",i[i.HAPROXY_NEW_RULE_GROUP=625]="HAPROXY_NEW_RULE_GROUP",i[i.HAPROXY_EDIT_RULE_GROUP=626]="HAPROXY_EDIT_RULE_GROUP",i[i.HAPROXY_DELETE_RULE_GROUP=627]="HAPROXY_DELETE_RULE_GROUP",i[i.SYSTEMCTL=651]="SYSTEMCTL",i[i.SYSTEMCTL_STATUS=652]="SYSTEMCTL_STATUS",i[i.SYSTEMCTL_START=653]="SYSTEMCTL_START",i[i.SYSTEMCTL_STOP=654]="SYSTEMCTL_STOP",i[i.SYSTEMCTL_RESTART=655]="SYSTEMCTL_RESTART",i[i.SYSTEMCTL_RELOAD=656]="SYSTEMCTL_RELOAD",i[i.SYSTEMCTL_ENABLE=657]="SYSTEMCTL_ENABLE",i[i.SYSTEMCTL_DISABLE=658]="SYSTEMCTL_DISABLE",i[i.SYSTEM_COMPILE=678]="SYSTEM_COMPILE",i[i.SYSTEM_INSTALL=679]="SYSTEM_INSTALL",i[i.SYSTEM_SHOW_CONFIG=680]="SYSTEM_SHOW_CONFIG",i[i.SYSTEM_DOWNLOAD_CONFIG=681]="SYSTEM_DOWNLOAD_CONFIG",i}(U||{}),fV=["#ef9a9a","#F48FB1","#CE93D8","#B39DDB","#9FA8DA","#90CAF9","#81D4FA","#80DEEA","#80CBC4","#A5D6A7","#C5E1A5","#E6EE9C","#FFF59D","#FFE082","#FFCC80","#FFAB91"],Qdt={[U.RULE_COLOR_DEFAULT]:"",[U.RULE_COLOR_RED]:"5px solid #ef9a9a",[U.RULE_COLOR_PURPLE]:"5px solid #CE93D8",[U.RULE_COLOR_BLUE]:"5px solid #90CAF9",[U.RULE_COLOR_TEAL]:"5px solid #80CBC4",[U.RULE_COLOR_GREEN]:"5px solid #A5D6A7",[U.RULE_COLOR_YELLOW]:"5px solid #FFF59D",[U.RULE_COLOR_ORANGE]:"5px solid #FFCC80",999:"5px solid #ff0000"},Mv={[U.RULE_COLOR_DEFAULT]:"",[U.RULE_COLOR_RED]:"#ef9a9a",[U.RULE_COLOR_PURPLE]:"#CE93D8",[U.RULE_COLOR_BLUE]:"#90CAF9",[U.RULE_COLOR_TEAL]:"#80CBC4",[U.RULE_COLOR_GREEN]:"#A5D6A7",[U.RULE_COLOR_YELLOW]:"#FFF59D",[U.RULE_COLOR_ORANGE]:"#FFCC80",999:"#ef9a9a",1e3:"#cbcbcb"};var ur=function(i){return i[i.COPY=1]="COPY",i[i.CUT=2]="CUT",i[i.DELETE=3]="DELETE",i}(ur||{});var mn=function(i){return i[i.NEW_ITEM=1]="NEW_ITEM",i[i.MODIFY_ITEM=2]="MODIFY_ITEM",i[i.DELETE_ITEM=3]="DELETE_ITEM",i[i.RELOAD_TREE=10]="RELOAD_TREE",i[i.NEW_GROUP_ITEM=11]="NEW_GROUP_ITEM",i[i.DELETE_GROUP_ITEM=12]="DELETE_GROUP_ITEM",i}(mn||{}),bt=function(i){return i.C_FIREWALLS="firewalls",i.C_CLUSTERS="clusters",i.C_OBJECTS="objects",i.C_SERVICES="services",i.C_CA="ca",i.C_FIREWALLS_CONDENSED="fw_condensed",i}(bt||{}),on=function(i){return i[i.FW_DISABLED=0]="FW_DISABLED",i[i.FW_PENDING=1]="FW_PENDING",i[i.FW_PROCESSING=2]="FW_PROCESSING",i[i.FW_OK=3]="FW_OK",i[i.FW_ERROR=4]="FW_ERROR",i[i.FW_WARNING=5]="FW_WARNING",i}(on||{}),Kr=function(i){return i[i.COMP_CLOUD=0]="COMP_CLOUD",i[i.COMP_CLUSTER=1]="COMP_CLUSTER",i[i.COMP_FIREWALL=2]="COMP_FIREWALL",i[i.COMP_CLUSTERS_ALL=3]="COMP_CLUSTERS_ALL",i[i.COMP_FIREWALLS_ALL=4]="COMP_FIREWALLS_ALL",i[i.COMP_COMPILE=0]="COMP_COMPILE",i[i.COMP_INSTALL=1]="COMP_INSTALL",i}(Kr||{}),Vf={[on.FW_DISABLED]:"",[on.FW_PENDING]:"fa fa-lg fa-pause-circle fwcBlue",[on.FW_PROCESSING]:"fa fa-lg fa-cog fa-spin fwcBlue",[on.FW_OK]:"fa fa-lg fa-check-circle fwcBlue",[on.FW_ERROR]:"fa fa-lg fa-exclamation-circle fwcOrange",[on.FW_WARNING]:"fa fa-lg fa-times-circle fwcOrange"},Zdt=[{id:0,name:"IPTables"},{id:1,name:"NFTables"}],ut=function(i){return i.MSG_START="start",i.MSG_END="end",i.MSG_START_TASK="start_task",i.MSG_END_TASK="end_task",i.MSG_INFO="info",i.MSG_ERROR="error",i.MSG_WARNING="warning",i.MSG_OK="success",i.MSG_NOTICE="notice",i.MSG_SSH_CMD_OUTPUT="ssh_cmd_output",i.MSG_HEARTBEAT="heartbeat",i.MSG_SEPARATOR="separator",i}(ut||{});var Yi=function(i){return i.API_COOKIE="FWCloud.net-cookie",i.LS_TOKEN="FWCloud.net-token",i.LS_CUSTOMER_ID="FWCloud.net-customer_id",i.LS_USER_ID="FWCloud.net-user_id",i.LS_USER_NAME="FWCloud.net-user_name",i.LS_USER_ROLE="FWCloud.net-user_role",i.LS_CLOUD_ID="FWCloud.net-cloud_id",i.LS_CLOUD_NAME="FWCloud.net-cloud_name",i.LS_LANGUAGE="FWCloud.net-language",i.LS_PUBLIC_KEY="FWCloud.net-public_key",i.LS_PRIVATE_KEY="FWCloud.net-private_key",i.LS_RELOAD_APP="FWCloud.net-force_app_reload",i.LS_UI_THEME="FWCloud.net-UI-theme",i}(Yi||{}),Yhe=function(i){return i[i.days=1]="days",i[i.years=2]="years",i}(Yhe||{}),Bf=function(i){return i[i.client=1]="client",i[i.server=2]="server",i}(Bf||{}),ri=function(i){return i[i.ccd=0]="ccd",i[i.ovp=1]="ovp",i}(ri||{}),Cs=function(i){return i.O_SERVER="server",i.O_CLIENT="ifconfig-push",i}(Cs||{}),k2=[{label:"AES-128-CBC",value:"AES-128-CBC"},{label:"AES-128-CFB",value:"AES-128-CFB"},{label:"AES-128-CFB1",value:"AES-128-CFB1"},{label:"AES-128-CFB8",value:"AES-128-CFB8"},{label:"AES-128-GCM",value:"AES-128-GCM"},{label:"AES-128-OFB",value:"AES-128-OFB"},{label:"AES-192-CBC",value:"AES-192-CBC"},{label:"AES-192-CFB",value:"AES-192-CFB"},{label:"AES-192-CFB1",value:"AES-192-CFB1"},{label:"AES-192-CFB8",value:"AES-192-CFB8"},{label:"AES-192-GCM",value:"AES-192-GCM"},{label:"AES-192-OFB",value:"AES-192-OFB"},{label:"AES-256-CBC",value:"AES-256-CBC"},{label:"AES-256-CFB",value:"AES-256-CFB"},{label:"AES-256-CFB1",value:"AES-256-CFB1"},{label:"AES-256-CFB8",value:"AES-256-CFB8"},{label:"AES-256-GCM",value:"AES-256-GCM"},{label:"AES-256-OFB",value:"AES-256-OFB"},{label:"ARIA-128-CBC",value:"ARIA-128-CBC"},{label:"ARIA-128-CFB",value:"ARIA-128-CFB"},{label:"ARIA-128-CFB1",value:"ARIA-128-CFB1"},{label:"ARIA-128-CFB8",value:"ARIA-128-CFB8"},{label:"ARIA-128-GCM",value:"ARIA-128-GCM"},{label:"ARIA-128-OFB",value:"ARIA-128-OFB"},{label:"ARIA-192-CBC",value:"ARIA-192-CBC"},{label:"ARIA-192-CFB",value:"ARIA-192-CFB"},{label:"ARIA-192-CFB1",value:"ARIA-192-CFB1"},{label:"ARIA-192-CFB8",value:"ARIA-192-CFB8"},{label:"ARIA-192-GCM",value:"ARIA-192-GCM"},{label:"ARIA-192-OFB",value:"ARIA-192-OFB"},{label:"ARIA-256-CBC",value:"ARIA-256-CBC"},{label:"ARIA-256-CFB",value:"ARIA-256-CFB"},{label:"ARIA-256-CFB1",value:"ARIA-256-CFB1"},{label:"ARIA-256-CFB8",value:"ARIA-256-CFB8"},{label:"ARIA-256-GCM",value:"ARIA-256-GCM"},{label:"ARIA-256-OFB",value:"ARIA-256-OFB"},{label:"CAMELLIA-128-CBC",value:"CAMELLIA-128-CBC"},{label:"CAMELLIA-128-CFB",value:"CAMELLIA-128-CFB"},{label:"CAMELLIA-128-CFB1",value:"CAMELLIA-128-CFB1"},{label:"CAMELLIA-128-CFB8",value:"CAMELLIA-128-CFB8"},{label:"CAMELLIA-128-OFB",value:"CAMELLIA-128-OFB"},{label:"CAMELLIA-192-CBC",value:"CAMELLIA-192-CBC"},{label:"CAMELLIA-192-CFB",value:"CAMELLIA-192-CFB"},{label:"CAMELLIA-192-CFB1",value:"CAMELLIA-192-CFB1"},{label:"CAMELLIA-192-CFB8",value:"CAMELLIA-192-CFB8"},{label:"CAMELLIA-192-OFB",value:"CAMELLIA-192-OFB"},{label:"CAMELLIA-256-CBC",value:"CAMELLIA-256-CBC"},{label:"CAMELLIA-256-CFB",value:"CAMELLIA-256-CFB"},{label:"CAMELLIA-256-CFB1",value:"CAMELLIA-256-CFB1"},{label:"CAMELLIA-256-CFB8",value:"CAMELLIA-256-CFB8"},{label:"CAMELLIA-256-OFB",value:"CAMELLIA-256-OFB"},{label:"CHACHA20-POLY1305",value:"CHACHA20-POLY1305"},{label:"SM4-CBC",value:"SM4-CBC"},{label:"SM4-CFB",value:"SM4-CFB"},{label:"SM4-OFB",value:"SM4-OFB"},{label:"DES-EDE-CBC",value:"DES-EDE-CBC"},{label:"DES-EDE-CFB",value:"DES-EDE-CFB"},{label:"DES-EDE-OFB",value:"DES-EDE-OFB"},{label:"DES-EDE3-CBC",value:"DES-EDE3-CBC"},{label:"DES-EDE3-CFB",value:"DES-EDE3-CFB"},{label:"DES-EDE3-CFB1",value:"DES-EDE3-CFB1"},{label:"DES-EDE3-CFB8",value:"DES-EDE3-CFB8"},{label:"DES-EDE3-OFB",value:"DES-EDE3-OFB"}],F2=[{label:"yes",value:"yes"},{label:"no",value:"no"},{label:"adaptive",value:"adaptive"}],mV=["client","server","nobind","comp-lzo","ccd-exclusive","persist-key","persist-tun","daemon","duplicate-cn","ifconfig-pool-linear","comp-noadapt","multihome","fast-io"],L2=["remote","route","push","iroute","remote-cert-tls","tls-auth","tls-crypt"],Nv=[{name:"server",arg:"",scope:ri.ovp,required:!0,readonly:!0,emptyMessageKey:"VPN.CONFIG.ERRORS.NOIPOPTION_ERROR.HINT"},{name:"port",arg:"1194",scope:ri.ovp},{name:"proto",arg:"udp",scope:ri.ovp},{name:"dev",arg:"tun0",scope:ri.ovp},{name:"topology",arg:"subnet",scope:ri.ovp},{name:"ifconfig-pool-persist",arg:"/etc/openvpn/ipp.txt",scope:ri.ovp},{name:"ccd-exclusive",arg:"",scope:ri.ovp},{name:"client-config-dir",arg:"/etc/openvpn/ccd",scope:ri.ovp},{name:"keepalive",arg:"10 120",scope:ri.ovp},{name:"cipher",arg:"AES-128-CBC",scope:ri.ovp},{name:"data-ciphers",arg:"CHACHA20-POLY1305:AES-128-GCM:AES-128-CBC",scope:ri.ovp},{name:"user",arg:"nobody",scope:ri.ovp},{name:"group",arg:"nogroup",scope:ri.ovp},{name:"persist-key",arg:"",scope:ri.ovp},{name:"persist-tun",arg:"",scope:ri.ovp},{name:"status",arg:"/etc/openvpn/openvpn-status.log",scope:ri.ovp},{name:"verb",arg:"3",scope:ri.ovp},{name:"multihome",arg:"",scope:ri.ovp},{name:"fast-io",arg:"",scope:ri.ovp}],gV=[{name:"remote",arg:"",scope:ri.ovp,required:!0,readonly:!0,emptyMessageKey:"VPN.CONFIG.ERRORS.REMOTEOPTION_ERROR.HINT"},{name:"client",arg:"",scope:ri.ovp},{name:"dev",arg:"tun",scope:ri.ovp},{name:"proto",arg:"udp",scope:ri.ovp},{name:"resolv-retry",arg:"infinite",scope:ri.ovp},{name:"nobind",arg:"",scope:ri.ovp},{name:"user",arg:"nobody",scope:ri.ovp},{name:"group",arg:"nogroup",scope:ri.ovp},{name:"persist-key",arg:"",scope:ri.ovp},{name:"persist-tun",arg:"",scope:ri.ovp},{name:"cipher",arg:"AES-128-CBC",scope:ri.ovp},{name:"auth-nocache",arg:"",scope:ri.ovp},{name:"tls-client",arg:"",scope:ri.ovp},{name:"verb",arg:"3",scope:ri.ovp},{name:"float",arg:"",scope:ri.ovp},{name:"remote-cert-tls",arg:"server",scope:ri.ovp}],_V=[{name:"ifconfig-push",arg:"",scope:ri.ccd,required:!0,readonly:!0}],CV=["push","push-reset","iroute","iroute-ipv6","ifconfig-push","ifconfig-ipv6-push","disable","config","max-routes-per-client","comp-lzo"],M2=["askpass","auth-gen-token","auth-nocache","auth-retry","auth-user-pass-verify","auth-user-pass","auth","bcast-buffers","block-outside-dns","ca","ccd-exclusive","cd","cert","chroot","cipher","client-cert-not-required","client-config-dir","client-connect","client-disconnect","client-to-client","client","comp-noadapt","config","connect-freq","comp-lzo","compress","connect-retry","crl-verify","cryptoapicert","daemon","data-ciphers","data-ciphers-fallback","dev-node","dev-type","dev","dh","dhcp-option","dhcp-release","disable-occ","dhcp-renew","disable-occ","disable","down-pre","down","duplicate-cn","echo","engine","explicit-exit-notify","fast-io","float","fragment","group","hand-window","hash-size","http-proxy-option","http-proxy-retry","http-proxy-timeout","http-proxy server","ifconfig-noexec","ifconfig-nowarn","ifconfig-pool-linear","ifconfig-pool-persist","ifconfig-pool","ifconfig-push","ifconfig","inactive","inetd","ip-win32 method","ipchange","iroute","keepalive","key-method","key","keysizen","learn-address","link-mtu","local","log-append","log","suppress-timestamps","lport","management-hold","management-log-cache","management-query-passwords","management","max-clients","max-routes-per-client","mktun","mlock","mode","mssfix","mtu-disc","mtu-test","multihome","mute-replay-warnings","mute","nice","no-iv","no-replay","nobind","ns-cert-type","passtos","pause-exit","persist-key","persist-local-ip","persist-remote-ip","persist-tun","ping-exit","ping-restart","ping-timer-rem","ping","pkcs12","plugin","port","proto","pull","push-reset","push","rcvbuf","redirect-gateway","remap-usr1","remote-cert-tls","remote-random","reneg-bytes","reneg-pkts","reneg-sec","replay-persist","replay-window","resolv-retry","rmtun","route-delay","route-gateway","route-method","route-noexec","route-up","route","rport","script-security","secret","server-bridge","server","service","setenv","shaper","show-adapters","show-ciphers","show-digests","show-engines","show-net-up","show-net","show-tls","show-valid-subnets","single-session","sndbuf","socks-proxy-retry","socks-proxy","status","status-version","syslog","tap-sleep","tcp-queue-limit","test-crypto","tls-auth","tls-cipher","tls-ciphersuites","tls-client","tls-crypt","tls-crypt-v2","tls-exit","tls-remote","tls-server","tls-timeout","tls-verify","tls-version-min","tls-version-max","tmp-dir","tran-window ","tun-ipv6","tun-mtu-extra","tun-mtu","txqueuelen","up-delay","up-restart","up","user","username-as-common-name ","verb","writepid"],Up=function(i){return i[i.HINT_NO_FWCLOUDS=101]="HINT_NO_FWCLOUDS",i[i.HINT_NO_FW=102]="HINT_NO_FW",i[i.HINT_CA_CREATING=201]="HINT_CA_CREATING",i}(Up||{}),wi={netmaskRegexp:"^(((255\\.){3}(255|254|252|248|240|224|192|128|0+))|((255\\.){2}(255|254|252|248|240|224|192|128|0+)\\.0)|((255\\.)(255|254|252|248|240|224|192|128|0+)(\\.0+){2})|((255|254|252|248|240|224|192|128|0+)(\\.0+){3}))$",netmaskCIDRRegexp:/^\/*(\d{1,3})$/,ipV4Regexp:"^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$",ipV6Regexp:"(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))",macRegexp:"^([0-9A-Fa-f]{2}[:-]){5}([0-9A-Fa-f]{2})$",fqdnRegexp:"^(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\\-]*[a-zA-Z0-9])\\.)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9\\-]*[A-Za-z0-9])$",nameRegExp:"^[ -~\\x80-\\xFE]{1,64}$",posixPathRegexp:"^\\/{1}(((\\/{1}\\.{1})?[a-zA-Z0-9 ]+\\/?)+(\\.{1}[a-zA-Z0-9]{2,4})?)$",posixFilenameRegexp:"^[a-zA-Z0-9\\-_\\.]{4,64}$",linuxUsername:"^[a-zA-Z_]([a-zA-Z0-9_-]{0,31}|[a-zA-Z0-9_-]{0,30}$)$",linuxPassword:"^[ -~\\x80-\\xFE]{2,64}$",webAddressRegexp:"^(http:\\/\\/www\\.|https:\\/\\/www\\.|http:\\/\\/|https:\\/\\/)?[a-z0-9]+([\\-\\.]{1}[a-z0-9]+)*\\.[a-z]{2,5}(:[0-9]{1,5})?(\\/.*)?$",passwordRegexp:"^[ -~\\x80-\\xFE]{6,64}$",portRegexp:"^\\d{1,5}$",cnRegExp:"^[a-zA-Z0-9-_.]{1,64}$",connNameRegExp:"^[a-zA-Z0-9]{1}([a-zA-Z0-9-_]{2,30})[a-zA-Z0-9]{1}$",ipAddressValidator:function(i){let n=i.value||"",e,t;return this.formModel.controls.ip_version&&(t=this.formModel.controls.ip_version.value),t==6?e=n.match(wi.ipV6Regexp):e=n.match(wi.ipV4Regexp),e?null:{ip:!0}},netmaskValidator:function(i){let n=i.value||"",e,t;if(this.formModel.controls.ip_version&&(t=this.formModel.controls.ip_version.value),t==4&&n.match(wi.netmaskRegexp))e=!0;else{let o=new RegExp(wi.netmaskCIDRRegexp).exec(n);if(o){let s,a;s=+o[1],t==4?a=32:t==6&&(a=128),e=s>=0&&s<=a}}return e?null:{netmask:!0}},distinctNameValidator(i){let n=1,e,t;if(this.formModel)for(let r=0;r<i.length&&n<=2;r++){e=i.at(r).get("name").value;for(let o=r+1;o<i.length;o++)t=i.at(o).get("name").value,e==t&&n++}return n<=1?null:{distinctnames:!0}}},jp=function(i){return i[i.ROLE_ADMINISTRATOR=1]="ROLE_ADMINISTRATOR",i[i.ROLE_MANAGER=2]="ROLE_MANAGER",i}(jp||{}),Va=function(i){return i.BACKUP_INTERVAL_TIME="BACKUP_INTERVAL_TIME",i.BACKUP_FIXED_TIME="BACKUP_FIXED_TIME",i.BACKUP_MAX_COPIES="BACKUP_MAX_COPIES",i.BACKUP_MAX_DAYS="BACKUP_MAX_DAYS",i}(Va||{}),ks=function(i){return i[i.CREATE=1]="CREATE",i[i.UPDATE=2]="UPDATE",i[i.UPDATE_SPECIAL=3]="UPDATE_SPECIAL",i[i.NO_OP=9]="NO_OP",i}(ks||{}),yV={[ks.CREATE]:{icon:"fa fa-file",displayClass:"pillInfoBadge",translateKey:"ITEM_BATCH.OPS_TYPES.0"},[ks.UPDATE]:{icon:"fa fa-pencil",displayClass:"pillWarnBadge",translateKey:"ITEM_BATCH.OPS_TYPES.1"},[ks.UPDATE_SPECIAL]:{icon:"fa fa-pencil",displayClass:"pillInfoBadge",translateKey:"ITEM_BATCH.OPS_TYPES.3"},[ks.NO_OP]:{icon:"fa fa-check",displayClass:"pillSecondaryBadge",translateKey:"ITEM_BATCH.OPS_TYPES.2"}},er=function(i){return i[i.PENDING=1]="PENDING",i[i.RUNNING=2]="RUNNING",i[i.SUCCESS=3]="SUCCESS",i[i.ERROR=4]="ERROR",i[i.NO_OP=9]="NO_OP",i}(er||{}),IV={[er.PENDING]:{icon:"",displayClass:"fwcBlue",translateKey:"ITEM_BATCH.OPS_STATUS.0"},[er.RUNNING]:{icon:"fa fa-spinner fa-pulse fa-fw",displayClass:"fwcBlue",translateKey:"ITEM_BATCH.OPS_STATUS.1"},[er.SUCCESS]:{icon:"fa fa-check",displayClass:"fwcGreen",translateKey:"ITEM_BATCH.OPS_STATUS.2"},[er.ERROR]:{icon:"fa fa-exclamation-triangle",displayClass:"fwcRed",translateKey:"ITEM_BATCH.OPS_STATUS.3"},[er.NO_OP]:{icon:"fa fa-check",displayClass:"fwcPaleDark",translateKey:"ITEM_BATCH.OPS_STATUS.4"}},Ai=function(i){return i.VPN_WINDOWS_INSTALLER="VPN_WINDOWS_INSTALLER",i.VPN_MESH_WIZARD="VPN_MESH_WIZARD",i.VPN_STATUS_PANEL="VPN_STATUS_PANEL",i.FIREWALL_IMPORT_WIZARD="FIREWALL_IMPORT_WIZARD",i.ITEM_BATCH_MANAGER="ITEM_BATCH_MANAGER",i.DOCS_PANEL="DOCS_PANEL",i.BLOCK_UI_PANEL="BLOCK_UI_PANEL",i.ITEM_PANEL="ITEM_PANEL",i.FIREWALL_PANEL="FIREWALL_PANEL",i.CLUSTER_PANEL="CLUSTER_PANEL",i.OVCONFIG_PANEL="OVCONFIG_PANEL",i.NGFW_PANEL="NGFW_PANEL",i.SYSTEMCTL_PANEL="SYSTEMCTL_PANEL",i.DHCP_INSTALL_PANEL="DHCP_INSTALL_PANEL",i.KEEPALIVED_INSTALL_PANEL="KEEPALIVED_INSTALL_PANEL",i}(Ai||{}),eut="open-solidarity.fwcloud.net",vV={cloud:"docs/Sections/FWClouds",policy:"docs/Sections/Policy",vpn:"docs/Sections/VPN",firewalls:"docs/Sections/Firewalls",configuration:"docs/Sections/Configuration",ipobjs:"docs/Sections/Objects"},tut="assets/themes/fwc-light.css",iut="assets/themes/fwc-dark.css",Bt=(()=>{class i{constructor(){this.subjectHelp=new Re,this.optionsTreeFw={user_id:void 0,fwcloud:void 0,container:bt.C_FIREWALLS,containerReadOnly:!1,objStandard:void 0,objCloud:void 0},this.optionsTreeObj={user_id:void 0,fwcloud:void 0,container:bt.C_OBJECTS,containerReadOnly:!0,objStandard:void 0,objCloud:void 0},this.optionsTreeSrv={user_id:void 0,fwcloud:void 0,container:bt.C_SERVICES,containerReadOnly:!0,objStandard:void 0,objCloud:void 0},this.optionsTreeCa={user_id:void 0,fwcloud:void 0,container:bt.C_CA,containerReadOnly:!0,objStandard:void 0,objCloud:void 0},this.optionsTreeFwCon={user_id:void 0,fwcloud:void 0,container:bt.C_FIREWALLS_CONDENSED,containerReadOnly:!1,objStandard:void 0,objCloud:void 0},this.enableInfoTooltip=!0}showHelp(e){return this.subjectHelp.next(e),this.subjectHelp.asObservable()}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac})}}return i})();var bV={[L.OBJ_FIREWALL]:"fwci-firewall",[L.OBJ_SERVICE_IP]:"fwci-ipservice",[L.OBJ_SERVICE_TCP]:"fwci-tcpservice",[L.OBJ_SERVICE_ICMP]:"fwci-icmpservice",[L.OBJ_SERVICE_UDP]:"fwci-udpservice",[L.OBJ_ADDRESS]:"fwci-address",[L.OBJ_ADDRESS_RANGE]:"fwci-addressrange",[L.OBJ_NETWORK]:"fwci-network",[L.OBJ_HOST]:"fwci-host",[L.OBJ_INTERFACE_FIREWALL]:"fwci-interface fwcGreen",[L.OBJ_INTERFACE_HOST]:"fwci-interface fwcGreen",[L.OBJ_GROUP]:"fwci-objectgroup",[L.OBJ_SERVICE_GROUP]:"fwci-servicegroup",[L.OBJ_GEN_IP_OBJECT]:"fwci-ipobjects",[L.OBJ_CLUSTER]:"fwci-cluster fwcDarkBlue",[L.OBJ_DNS]:"fwci2-dns-in",[L.OBJ_MARK]:"fwci2-label",[L.OBJ_CA]:"fwci2-ca",[L.OBJ_CERT_CLI]:"fwci2-certificate",[L.OBJ_CERT_SER]:"fwci2-certificate fwcDarkBlue",[L.OBJ_VPN_CONFIG_CLI]:"fwci2-openvpn fwcOrange",[L.OBJ_VPN_CONFIG_SER]:"fwci2-openvpn fwcDarkBlue",[L.OBJ_PREFIX_FOLDER]:"fwci2-folder",[L.OBJ_OPENVPN_PREFIX]:"fwci2-certificate-prefix",[L.OBJ_GEN_RULE]:"fwci-rule"},wV={[H.FOLDER_CLUSTER]:"fwci-clusters fwcDarkBlue",[H.FOLDER_CLUSTER_FW]:"fwci-compileallfirewalls2",[H.FOLDER_CA]:"fwci2-ca fwcDarkBlue",[H.FOLDER]:"fwci2-folder",[H.STANDARD]:"fwci2-folderstd",[H.FOLDER_FW]:"fwci-firewalls",[H.OBJ_FIREWALL]:"fwci-firewall",[H.FOLDER_OBJECTS]:"fwci-ipobjects",[H.FOLDER_SERVICES]:"fwci-services",[H.FOLDER_POLICY]:"fwci-filterpolicies",[H.POLICY_INPUT]:"fwci-input",[H.POLICY_OUTPUT]:"fwci-output",[H.POLICY_FORWARD]:"fwci-forward",[H.FOLDER_NAT]:"fwci-nat",[H.POLICY_SNAT]:"fwci-snat",[H.POLICY_DNAT]:"fwci-dnat",[H.FOLDER_ROUTING]:"fwci-routing",[H.POLICY_ROUTING]:"fwci-routing",[H.ROUTING_TABLES]:"fwci-policy",[H.ROUTING_TABLE]:"fwci-policy",[H.FOLDER_POLICY6]:"fwci-filterpolicies",[H.POLICY_INPUT6]:"fwci-input",[H.POLICY_OUTPUT6]:"fwci-output",[H.POLICY_FORWARD6]:"fwci-forward",[H.POLICY_SNAT6]:"fwci-snat",[H.POLICY_DNAT6]:"fwci-dnat",[H.POLICY_ROUTING6]:"fwci-routing",[H.OPENVPN_ROOT]:"fwci2-openvpn",[H.COUNTRIES]:"fa fa-globe",[H.AF]:"fa fa-earth-africa",[H.AN]:"fa fa-snowflake",[H.AS]:"fa fa-earth-asia",[H.EU]:"fa fa-earth-europe",[H.NA]:"fa fa-earth-americas",[H.OC]:"fa fa-earth-oceania",[H.SA]:"fa fa-earth-americas"},Rn=(()=>{class i{transform(e,t,r){let o="fwcBlue",s="";return t&&wV[t]?s=wV[t]:bV[e]&&(s=bV[e]),r&&(o=r,s=s.split(" ")[0]),s+=" "+o,s}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275pipe=Jn({name:"fwcIcon",type:i,pure:!0})}}return i})();var Jhe=(i,n)=>({"p-progressbar p-component":!0,"p-progressbar-determinate":i,"p-progressbar-indeterminate":n}),Xhe=(i,n)=>({width:i,display:"flex",background:n}),Qhe=i=>({$implicit:i}),Zhe=i=>({display:i}),efe=i=>({background:i});function tfe(i,n){if(i&1&&(m(0,"div",7),D(1),_()),i&2){let e=f(2);h("ngStyle",oe(4,Zhe,e.value!=null&&e.value!==0?"flex":"none")),V("data-pc-section","label"),u(),Ts(" ",e.value,"",e.unit," ")}}function ife(i,n){i&1&&ue(0)}function nfe(i,n){if(i&1&&(m(0,"div",3)(1,"div",4),I(2,tfe,2,6,"div",5)(3,ife,1,0,"ng-container",6),_()()),i&2){let e=f();h("ngStyle",Je(5,Xhe,e.value+"%",e.color)),V("data-pc-section","value"),u(2),h("ngIf",e.showValue&&!e.contentTemplate),u(),h("ngTemplateOutlet",e.contentTemplate)("ngTemplateOutletContext",oe(8,Qhe,e.value))}}function rfe(i,n){if(i&1&&(m(0,"div",8),O(1,"div",3),_()),i&2){let e=f();V("data-pc-section","container"),u(),h("ngStyle",oe(3,efe,e.color)),V("data-pc-section","value")}}var Vv=(()=>{class i{value;showValue=!0;styleClass;style;unit="%";mode="determinate";color;templates;contentTemplate;ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;default:this.contentTemplate=e.template}})}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=ie({type:i,selectors:[["p-progressBar"]],contentQueries:function(t,r,o){if(t&1&&ot(o,be,4),t&2){let s;ee(s=te())&&(r.templates=s)}},hostAttrs:[1,"p-element"],inputs:{value:[2,"value","value",ke],showValue:[2,"showValue","showValue",K],styleClass:"styleClass",style:"style",unit:"unit",mode:"mode",color:"color"},features:[qe],decls:3,vars:14,consts:[["role","progressbar",3,"ngStyle","ngClass"],["class","p-progressbar-value p-progressbar-value-animate",3,"ngStyle",4,"ngIf"],["class","p-progressbar-indeterminate-container",4,"ngIf"],[1,"p-progressbar-value","p-progressbar-value-animate",3,"ngStyle"],[1,"p-progressbar-label"],[3,"ngStyle",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngStyle"],[1,"p-progressbar-indeterminate-container"]],template:function(t,r){t&1&&(m(0,"div",0),I(1,nfe,4,10,"div",1)(2,rfe,2,5,"div",2),_()),t&2&&(le(r.styleClass),h("ngStyle",r.style)("ngClass",Je(11,Jhe,r.mode==="determinate",r.mode==="indeterminate")),V("aria-valuemin",0)("aria-valuenow",r.value)("aria-valuemax",100)("data-pc-name","progressbar")("data-pc-section","root"),u(),h("ngIf",r.mode==="determinate"),u(),h("ngIf",r.mode==="indeterminate"))},dependencies:[Ge,et,st,Ee],styles:[`@layer primeng{.p-progressbar{position:relative;overflow:hidden}.p-progressbar-determinate .p-progressbar-value{height:100%;width:0%;position:absolute;display:none;border:0 none;display:flex;align-items:center;justify-content:center;overflow:hidden}.p-progressbar-determinate .p-progressbar-label{display:inline-flex}.p-progressbar-determinate .p-progressbar-value-animate{transition:width 1s ease-in-out}.p-progressbar-indeterminate .p-progressbar-value:before{content:"";position:absolute;background-color:inherit;top:0;left:0;bottom:0;will-change:left,right;-webkit-animation:p-progressbar-indeterminate-anim 2.1s cubic-bezier(.65,.815,.735,.395) infinite;animation:p-progressbar-indeterminate-anim 2.1s cubic-bezier(.65,.815,.735,.395) infinite}.p-progressbar-indeterminate .p-progressbar-value:after{content:"";position:absolute;background-color:inherit;top:0;left:0;bottom:0;will-change:left,right;-webkit-animation:p-progressbar-indeterminate-anim-short 2.1s cubic-bezier(.165,.84,.44,1) infinite;animation:p-progressbar-indeterminate-anim-short 2.1s cubic-bezier(.165,.84,.44,1) infinite;-webkit-animation-delay:1.15s;animation-delay:1.15s}}@-webkit-keyframes p-progressbar-indeterminate-anim{0%{left:-35%;right:100%}60%{left:100%;right:-90%}to{left:100%;right:-90%}}@keyframes p-progressbar-indeterminate-anim{0%{left:-35%;right:100%}60%{left:100%;right:-90%}to{left:100%;right:-90%}}@-webkit-keyframes p-progressbar-indeterminate-anim-short{0%{left:-200%;right:100%}60%{left:107%;right:-8%}to{left:107%;right:-8%}}@keyframes p-progressbar-indeterminate-anim-short{0%{left:-200%;right:100%}60%{left:107%;right:-8%}to{left:107%;right:-8%}}
`],encapsulation:2,changeDetection:0})}return i})(),N2=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=Oe({type:i});static \u0275inj=Te({imports:[Ye]})}return i})();var ofe=i=>["divFwcMessage",i],sfe=(i,n,e,t)=>({"divFwcMessage--horizontal":i,"divFwcMessage--highlight":n,"divFwcMessage--compact":e,bordered:t}),afe=i=>({"font-size":i}),lfe=()=>({height:"6px"});function cfe(i,n){if(i&1&&(m(0,"div",2),O(1,"i",8),_()),i&2){let e=f(2);u(),h("ngClass",e.FwcMessageTypes[e._message.type])("ngStyle",oe(2,afe,e._message.compact?"1.2rem":""))}}function dfe(i,n){if(i&1&&(m(0,"p",5),O(1,"p-progressBar",9),_()),i&2){let e=f(2);u(),dt(Ae(4,lfe)),h("value",e.progress)("showValue",!1)}}function ufe(i,n){if(i&1&&(m(0,"p",6),D(1),_()),i&2){let e=f(2);u(),J(" ",e._message.status," ")}}function pfe(i,n){if(i&1&&(m(0,"div",13),D(1),R(2,"json"),_()),i&2){let e=f(3);u(),J(" ",k(2,1,e._message.details)," ")}}function hfe(i,n){if(i&1){let e=B();m(0,"div",7)(1,"div",10)(2,"span",11),P("click",function(){S(e);let r=f(2);return A(r.onToggleDetails())}),D(3),R(4,"translate"),O(5,"i",12),_()(),I(6,pfe,3,3,"div",13),_()}if(i&2){let e=f(2);u(3),J(" ",k(4,3,"GLOBALS.MSG_BUTTONS.DETAILS")," "),u(2),h("ngClass",e.state!=null&&e.state.showDetails?"fa-chevron-up":"fa-chevron-down"),u(),q(e.state!=null&&e.state.showDetails?6:-1)}}function ffe(i,n){if(i&1&&(m(0,"div",1),I(1,cfe,2,4,"div",2),m(2,"div",3)(3,"h6"),D(4),_(),O(5,"p",4),I(6,dfe,2,5,"p",5)(7,ufe,2,1,"p",6)(8,hfe,7,5,"div",7),_()()),i&2){let e=f();le(oe(9,ofe,e._message.type).join(" ")),h("ngClass",dr(11,sfe,e._message.horizontal,e._message.highlight,e._message.compact,e._message.bordered)),u(),q(e._message.type!=="none"?1:-1),u(3),J(" ",e._message.title," "),u(),h("innerHTML",e._message.text,Xi),u(),q(e.progress?6:-1),u(),q(e._message.status?7:-1),u(),q(e._message.details?8:-1)}}var mfe={none:"",success:"fa fa-4x fa-check-circle fwcGreen",info:"fa fa-4x fa-info-circle fwcBlue",warning:"fa fa-4x fa-warning fwcOrange",error:"fa fa-4x fa-exclamation-circle fwcRed",loading:"fa fa-4x fa-cog fa-spin fwcBlue"},Nn=(()=>{class i{set message(e){this._message=re({},e)}constructor(e,t){this.cd=e,this.translate=t,this.FwcMessageTypes=mfe,this.state={showDetails:!1}}ngOnInit(){}onToggleDetails(){this.state.showDetails=!this.state.showDetails}changeText(e){this._message.text=e,this.cd.destroyed||this.cd.detectChanges()}changeStatus(e,t){let r=/(\d+)\/(\d+)/.exec(e);this._message||(this._message={type:"info",text:this.translate.instant("GLOBALS.MSG_OP_RESULT.OPERATION_IN_PROGRESS")});let o=e;if(r){let s=Number.parseInt(r[1]),a=Number.parseInt(r[2]),l=Math.round(s/a*100);Number.isNaN(l)||(this.progress=l,o=`${t||""} ${s}/${a}`)}o&&(this._message.status=o),this.cd.destroyed||this.cd.detectChanges()}static{this.\u0275fac=function(t){return new(t||i)(b(Ie),b(Xe))}}static{this.\u0275cmp=ie({type:i,selectors:[["sts-fwc-message"]],inputs:{message:"message"},decls:1,vars:1,consts:[[3,"class","ngClass"],[3,"ngClass"],[1,"divFwcMessage-icon"],[1,"divFwcMessage-content"],[1,"divFwcMessage-text",3,"innerHTML"],[1,"divFwcMessage-progressbar"],[1,"divFwcMessage-status"],[1,"divFwcMessage-content-footer"],[3,"ngClass","ngStyle"],[3,"value","showValue"],[1,"divFwcMessage-content-footer-toggler"],[3,"click"],[1,"fa","fa-fw",3,"ngClass"],[1,"divFwcMessage-content-footer-details"]],template:function(t,r){t&1&&I(0,ffe,9,16,"div",0),t&2&&q(r._message?0:-1)},dependencies:[Ge,Ee,Vv,PI,vt],styles:["[_ngcontent-%COMP%]:root{--lightColor: #eee;--darkColor: #222;--inputBackgroundColor: #eee;--inputBorderColor: #cacaca;--inputColor: #222;--surfaceBackgroundColor: white;--fixedWhiteColor: #eee;--fixedDarkColor: #333;--translucidColor: transparent;--menuBackground: url(/assets/img/fwc-fondo-menu.jpg);--mainBackground: url(/assets/img/fwc-fondo-home.jpg);--fwcBlue: #0069a7;--fwcBlueDarkened: #005e96;--fwcDarkBlue: #003351;--fwcDarkBlue2: #014071;--fwcLightBlue: #1779ba;--fwcPaleBlue: #689fe1;--fwcPaleBlue2: #cce2f8;--fwcPaleBlue3: #e6f1fd;--fwcBlueGradient1: #386ea0;--fwcBlueGradient2: #21517e;--fwcLightGreyGradient1: #f6f7f9;--fwcLightGreyGradient2: #ebedf0;--fwcOrange: #eb6400;--fwcPaleOrange: #e67e22;--fwcPaleOrange2: #ffcfa4;--fwcPaleOrange3: #fe7815;--fwcOrangeRed: #e74c3c;--fwcRed: #f00;--fwcRed2: #b40b00;--fwcPaleRed: #f77676;--fwcPaleRed2: #ffe1e1;--fwcTranslucidRed: rgba(255, 0, 0, .15);--fwcDarkGreen: #023008;--fwcGreen: #009900;--fwcLightGreen: #28ff28;--fwcPaleGreen: #c7e6c8;--fwcLime: #baf649;--fwcWhite: #eee;--fwcPaleWhite: #f5f5f5;--fwcPaleWhite2: #f4f4f4;--fwcDark: #222;--fwcLightDark: #1e1e1e;--fwcMidDark: #555;--fwcMidDark2: #333;--fwcPaleDark: #888;--fwcPaleDark2: #383838;--fwcGrey: #cacaca;--fwcGrey2: #cecece;--fwcGrey3: #eee;--fwcGrey4: #e5e5e5;--fwcGrey5: #c8c8c8;--fwcGrey6: #efefef;--fwcGrey7: #dedede;--fwcAccent: #ff4081;--fwcShadow: #bbb;--fwcSelected: #ddd;--fwcSelectedB: #0069a7;--fwcRulePink: #ef9a9a;--fwcRulePurple: #ce93d8;--fwcRuleBlue: #90caf9;--fwcRuleTeal: #80cbc4;--fwcRuleGreen: #a5d6a7;--fwcRuleYellow: #fff59d;--fwcRuleOrange: #ffcc80}.divFwcMessage[_ngcontent-%COMP%]{font-family:Montserrat,Arial,sans-serif!important;display:flex;flex-direction:column;overflow:auto;padding:.5rem}.divFwcMessage.bordered[_ngcontent-%COMP%]{border:1px solid var(--fwcGrey2)}.divFwcMessage-icon[_ngcontent-%COMP%]{text-align:center}.divFwcMessage-content[_ngcontent-%COMP%]{max-width:80vw;text-align:center}.divFwcMessage-content[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:.9rem;margin-bottom:.2rem}.divFwcMessage-content[_ngcontent-%COMP%]   p.divFwcMessage-text[_ngcontent-%COMP%]{font-size:.9rem;color:var(--fwcMidDark) 2}.divFwcMessage-content[_ngcontent-%COMP%]   p.divFwcMessage-status[_ngcontent-%COMP%]{font-size:small;color:var(--fwcMidDark)}.divFwcMessage-content-footer[_ngcontent-%COMP%]{margin-top:.5rem;font-size:smaller}.divFwcMessage-content-footer-toggler[_ngcontent-%COMP%]{font-weight:700;text-align:right;margin-bottom:.3rem}.divFwcMessage-content-footer-toggler[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--fwcBlue);cursor:pointer}.divFwcMessage-content-footer-details[_ngcontent-%COMP%]{padding:.5rem;text-align:left;font-family:monospace;border:1px solid var(--fwcGrey2);background:var(--fwcPaleWhite);color:var(--fwcMidDark) 2;overflow:auto;max-height:6rem}.divFwcMessage.divFwcMessage--compact[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{display:none}.divFwcMessage.divFwcMessage--compact.info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .divFwcMessage.divFwcMessage--compact.loading[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--fwcBlue)}.divFwcMessage.divFwcMessage--compact.success[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--fwcGreen)}.divFwcMessage.divFwcMessage--compact.error[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--fwcRed)}.divFwcMessage.divFwcMessage--highlight[_ngcontent-%COMP%]{border-radius:3px;border:1px solid var(--fwcGrey)}.divFwcMessage.divFwcMessage--horizontal[_ngcontent-%COMP%]{flex-direction:row;align-items:end}.divFwcMessage.divFwcMessage--horizontal[_ngcontent-%COMP%]   .divFwcMessage-icon[_ngcontent-%COMP%]{flex:0;margin-right:.7rem}.divFwcMessage.divFwcMessage--horizontal[_ngcontent-%COMP%]   .divFwcMessage-content[_ngcontent-%COMP%]{flex:1;text-align:left}.divFwcMessage.default[_ngcontent-%COMP%]{border:none}.divFwcMessage.info.bordered[_ngcontent-%COMP%]{background:var(--fwcPaleBlue2);border:1px solid var(--fwcBlue);border-top:2px solid var(--fwcBlue);border-radius:3px}.divFwcMessage.info[_ngcontent-%COMP%]   .divFwcMessage-icon[_ngcontent-%COMP%]{color:var(--fwcBlue)}.divFwcMessage.error.bordered[_ngcontent-%COMP%]{background:var(--fwcPaleRed2);border:1px solid var(--fwcPaleRed);border-top:2px solid var(--fwcPaleRed);border-radius:3px}.divFwcMessage.error[_ngcontent-%COMP%]   .divFwcMessage-icon[_ngcontent-%COMP%], .divFwcMessage.error[_ngcontent-%COMP%]   .divFwcMessage-content-footer-toggler[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--fwcRed)}"]})}}return i})();var gfe=1e3,Mt=(()=>{class i{constructor(){this.dialogCounter=gfe,this.searchShowDialogSubject=new Re}createDialog(e,t,r){let o;return o=this.dialogCounter++,{dialogId:o,dialogIcon:t,dialogName:e,dialogUUID:r}}findDialog(e){let t;return Array.isArray(this.dialogPanels)&&(t=this.dialogPanels.find(r=>r.dialogId==e)),t}findDialogByUUID(e){let t;return Array.isArray(this.dialogPanels)&&(t=this.dialogPanels.find(r=>r.dialogUUID===e)),t}searchAndShowDialog(e){return e&&this.searchShowDialogSubject.next(e),this.searchShowDialogSubject.asObservable()}openDynamicDialog(e,t){let r=this.findDialogByUUID(e)}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac})}}return i})();var Bv=(()=>{class i{constructor(){this.hints=[],this.subjectHint=new Re,this.hintElementSubject=new Cn(null),this.hintElement$=this.hintElementSubject.asObservable()}setHintElement(e){this.hintElementSubject.next(e)}clearHintElement(){this.hintElementSubject.next(null)}registerHint(e){this.hints.push(e),this.hintElementSubject.next(e.target)}showRegisteredHint(e,t,r){let o;for(let s=0;s<this.hints.length;s++)if(this.hints[s].id==e){o=this.hints[s];break}o&&(r?o.event=r:t&&(o.target=t),this.setHintToShow(o))}setHintToShow(e){this.subjectHint.next(e)}getHintToShow(){return this.subjectHint.asObservable()}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac})}}return i})();var _ut=(()=>{class i{constructor(){this.subjectMessage=new Re,this.subjectStaticMessage=new Re}sprintf(e,...t){let r=0;return e.replace(/%s/g,function(){return t[r++]})}addNewText(e){this.subjectMessage.next(e)}getMessage(){return this.subjectMessage.asObservable()}addStaticMessage(e){this.subjectStaticMessage.next(e)}getStaticMessage(){return this.subjectStaticMessage.asObservable()}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac})}}return i})();var Ba=(()=>{class i{constructor(){this.appRef=null}getAppRef(){return this.appRef}setAppRef(e){this.appRef=e}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac})}}return i})();var EV=(()=>{class i{constructor(e,t){this.document=e,this.platformId=t,this.documentIsAccessible=ht(this.platformId)}static getCookieRegExp(e){let t=e.replace(/([\[\]{}()|=;+?,.*^$])/gi,"\\$1");return new RegExp("(?:^"+t+"|;\\s*"+t+")=(.*?)(?:;|$)","g")}static safeDecodeURIComponent(e){try{return decodeURIComponent(e)}catch{return e}}check(e){return this.documentIsAccessible?(e=encodeURIComponent(e),i.getCookieRegExp(e).test(this.document.cookie)):!1}get(e){if(this.documentIsAccessible&&this.check(e)){e=encodeURIComponent(e);let r=i.getCookieRegExp(e).exec(this.document.cookie);return r[1]?i.safeDecodeURIComponent(r[1]):""}else return""}getAll(){if(!this.documentIsAccessible)return{};let e={},t=this.document;return t.cookie&&t.cookie!==""&&t.cookie.split(";").forEach(r=>{let[o,s]=r.split("=");e[i.safeDecodeURIComponent(o.replace(/^ /,""))]=i.safeDecodeURIComponent(s)}),e}set(e,t,r,o,s,a,l,c){if(!this.documentIsAccessible)return;if(typeof r=="number"||r instanceof Date||o||s||a||l){let g={expires:r,path:o,domain:s,secure:a,sameSite:l||"Lax",partitioned:c};this.set(e,t,g);return}let d=encodeURIComponent(e)+"="+encodeURIComponent(t)+";",p=r||{};if(p.expires)if(typeof p.expires=="number"){let g=new Date(new Date().getTime()+p.expires*1e3*60*60*24);d+="expires="+g.toUTCString()+";"}else d+="expires="+p.expires.toUTCString()+";";p.path&&(d+="path="+p.path+";"),p.domain&&(d+="domain="+p.domain+";"),p.secure===!1&&p.sameSite==="None"&&(p.secure=!0,console.warn(`[ngx-cookie-service] Cookie ${e} was forced with secure flag because sameSite=None.More details : https://github.com/stevermeister/ngx-cookie-service/issues/86#issuecomment-597720130`)),p.secure&&(d+="secure;"),p.sameSite||(p.sameSite="Lax"),d+="sameSite="+p.sameSite+";",p.partitioned&&(d+="Partitioned;"),this.document.cookie=d}delete(e,t,r,o,s="Lax"){if(!this.documentIsAccessible)return;let a=new Date("Thu, 01 Jan 1970 00:00:01 GMT");this.set(e,"",{expires:a,path:t,domain:r,secure:o,sameSite:s})}deleteAll(e,t,r,o="Lax"){if(!this.documentIsAccessible)return;let s=this.getAll();for(let a in s)s.hasOwnProperty(a)&&this.delete(a,e,t,r,o)}static{this.\u0275fac=function(t){return new(t||i)(ce(_t),ce(qt))}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Fs=(()=>{class i{constructor(e){this.cookieService=e}initializeAuth(){this.isLogged()||this.resetData()}resetData(){this.cookieService.delete(Yi.API_COOKIE),localStorage.removeItem(Yi.LS_CUSTOMER_ID),localStorage.removeItem(Yi.LS_USER_ID),localStorage.removeItem(Yi.LS_USER_NAME),localStorage.removeItem(Yi.LS_USER_ROLE),localStorage.removeItem(Yi.LS_TOKEN),localStorage.removeItem(Yi.LS_CLOUD_ID),localStorage.removeItem(Yi.LS_CLOUD_NAME),localStorage.removeItem(Yi.LS_PUBLIC_KEY),localStorage.removeItem(Yi.LS_PRIVATE_KEY)}login(e,t,r,o,s,a,l){let c=this.cookieService.get(Yi.API_COOKIE)||"";localStorage.setItem(Yi.LS_TOKEN,c),localStorage.setItem(Yi.LS_CUSTOMER_ID,e.toString()),localStorage.setItem(Yi.LS_USER_ID,t.toString()),localStorage.setItem(Yi.LS_USER_NAME,r),localStorage.setItem(Yi.LS_USER_ROLE,o.toString()),localStorage.setItem(Yi.LS_PUBLIC_KEY,a),localStorage.setItem(Yi.LS_PRIVATE_KEY,l),localStorage.setItem(Yi.LS_LANGUAGE,s)}logout(){this.resetData()}isLogged(){let e=!1,t=this.cookieService.get(Yi.API_COOKIE),r=localStorage.getItem(Yi.LS_TOKEN);return t&&r&&t.length&&r.length&&t===r&&localStorage.getItem(Yi.LS_CUSTOMER_ID)&&localStorage.getItem(Yi.LS_USER_ID)&&(e=!0),e}getLoggedUser(){let e;return e={customer_id:+localStorage.getItem(Yi.LS_CUSTOMER_ID)||null,user_id:+localStorage.getItem(Yi.LS_USER_ID)||null,user_name:localStorage.getItem(Yi.LS_USER_NAME)||null,role:+localStorage.getItem(Yi.LS_USER_ROLE)||null,cloud_id:+localStorage.getItem(Yi.LS_CLOUD_ID)||null,cloud_name:localStorage.getItem(Yi.LS_CLOUD_NAME)||null,language:localStorage.getItem(Yi.LS_LANGUAGE),publicKey:localStorage.getItem(Yi.LS_PUBLIC_KEY),privateKey:localStorage.getItem(Yi.LS_PRIVATE_KEY)},e}getLanguage(){return localStorage.getItem(Yi.LS_LANGUAGE)}setSelectedFwCloud(e,t){localStorage.setItem(Yi.LS_CLOUD_ID,e.toString()),localStorage.setItem(Yi.LS_CLOUD_NAME,t)}setAppUnderMaintenance(e){this.appUnderMaintenance=e}getAppUnderMaintenance(){return this.appUnderMaintenance}static{this.\u0275fac=function(t){return new(t||i)(ce(EV))}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Eut=(()=>{class i{constructor(e,t){this.fwcAuthService=e,this._router=t}canActivate(){return this.fwcAuthService.isLogged()?!0:(this._router.navigate(["/user/login"]),!1)}static{this.\u0275fac=function(t){return new(t||i)(ce(Fs),ce(ct))}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac})}}return i})();var Mi=(()=>{class i{get endpoint(){return this._endpoint}set endpoint(e){this._endpoint=e}constructor(e){this.httpClient=e}handleAPIResponse(e){let t;return t={data:e||{}},t}handleAPIResponseNew(e){let t;return t=e,t}handleAPIError(e){let t,r;if(!e)return Xs(null);if(e.error&&e.error.isJoi){let o="";if(Array.isArray(e.error.details))for(let s=0;s<e.error.details.length;s++)o=o.length?", ":""+e.error.details[s].message;else o="UNKNOWN ERROR";r={fwcErr:999999,msg:o}}else e.error&&(e.error.fwcErr||e.status==403)?r=e.error:e.error?r={fwcErr:999999,msg:JSON.stringify(e.error)}:r=void 0;return t={status:e.status,data:e.error&&e.error.data?e.error.data:{},error:r},Xs(t)}handleAPIErrorNew(e){if(e&&e.error&&e.error.status!==void 0&&e.error.response!==void 0&&e.error.message!==void 0&&e.error.stack!==void 0){let t={status:e.status,data:e.error.response,error:e.error.message,errors:e.error.errors};return Xs(t)}else{let t,r,o;if(e.error&&(e.error.fwcErr||e.status==403))t=e.error,o="CONFIRMATION_TOKEN",r=e.status;else{r=500,o="UNKNOWN_ERROR_FORMAT";try{t=JSON.stringify(e.error)}catch{t="Unparseable error"}}return Xs({status:r,data:o,error:t})}}static{this.\u0275fac=function(t){return new(t||i)(ce(Yt))}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Hv=(()=>{class i extends Mi{constructor(e){super(e),this.httpClient=e,this.endpoint=`${ge.settings.fwcAppURL}/backups`}getBackups(){let e=this.endpoint;return this.httpClient.get(e).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIError))}doBackup(e,t){let r=`${this.endpoint}?channel_id=${e}`;return this.httpClient.post(r,t).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIError))}restoreBackup(e,t){let r=`${this.endpoint}/${t}/restore?channel_id=${e}`;return this.httpClient.post(r,{}).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIError))}deleteBackup(e){let t=`${this.endpoint}/${e}`;return this.httpClient.delete(t).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIError))}exportBackup(e){let t=`${this.endpoint}/${e}/export`;return this.httpClient.get(t,{observe:"response",responseType:"blob"}).pipe(Z(this.handleAPIError))}importBackup(e){let t=`${this.endpoint}/import`;return this.httpClient.post(t,{}).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIError))}getBackupConfig(){let e=this.endpoint+"/config";return this.httpClient.get(e).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIError))}saveBackupConfig(e){let t=this.endpoint+"/config";return this.httpClient.put(t,e).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIError))}static{this.\u0275fac=function(t){return new(t||i)(ce(Yt))}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac})}}return i})();var Mut=(()=>{class i{constructor(e,t){this.fwcAuthService=e,this._router=t}canActivate(){return this.fwcAuthService.getAppUnderMaintenance()?!0:(this._router.navigate(["/user/login"]),!1)}static{this.\u0275fac=function(t){return new(t||i)(ce(Fs),ce(ct))}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac})}}return i})();var Ls=(()=>{class i extends Mi{constructor(e){super(e),this.httpClient=e,this.endpoint=ge.settings.fwcAppURL+"/fwcloud"}getClouds(){let e=`${this.endpoint}/all/get`;return this.httpClient.get(e).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}getCloud(e){let t=`${this.endpoint}/get`;return this.httpClient.put(t,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}newCloud(e){let t=ge.settings.fwcAppURL+"/fwclouds";return this.httpClient.post(t,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}updateCloud(e){let t=ge.settings.fwcAppURL+"/fwclouds/"+e.fwcloud,r=Object.assign({},e);return delete r.fwcloud,this.httpClient.put(t,JSON.stringify(r)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}deleteCloud(e){let t=`${this.endpoint}/del`;return this.httpClient.put(t,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}checkRestrictions(e){let t=`${this.endpoint}/restricted`;return this.httpClient.put(t,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}generateWindowsInstaller(e,t,r,o){let s=`${ge.settings.fwcAppURL}/fwclouds/${e}/firewalls/${t}/openvpns/${r}/installer`,a={connection_name:o};return this.httpClient.post(s,JSON.stringify(a),{observe:"response",responseType:"blob"}).pipe(Z(this.handleAPIError))}exportCloud(e){let t=`${ge.settings.fwcAppURL}/fwclouds/${e}/export`,r=new wo;return r=r.set("X-FWC-TIMEOUT","9999999"),this.httpClient.post(t,{},{headers:r,observe:"response",responseType:"blob"}).pipe(Z(this.handleAPIError))}importCloud(e){let t=`${ge.settings.fwcAppURL}/fwclouds/import`,r=new wo;return r=r.set("X-FWC-TIMEOUT","9999999"),this.httpClient.post(t,e,{headers:r}).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}getCloudColors(e){let t=`${ge.settings.fwcAppURL}/fwclouds/${e}/colors`;return this.httpClient.get(t).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIError))}static{this.\u0275fac=function(t){return new(t||i)(ce(Yt))}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac})}}return i})();var pt=(()=>{class i extends Mi{constructor(e,t){super(e),this.httpClient=e,this.fwcAuthService=t,this.subjectReloadFWCloud=new Re,this.headerOptions=null,this.endpoint=`${ge.settings.fwcAppURL}/user`;let r=this.fwcAuthService.getLoggedUser();this.fwcUser=new Cn({user_id:r.user_id,customer_id:r.customer_id,user_name:r.user_name,role:r.role,selectedFwCloud:r.cloud_id,selectedFwCloudName:r.cloud_name,selectedLanguage:r.language||"en",showStandardObjects:1,showCloudObjects:1,authToken:"",confirmationToken:"",publicKey:r.publicKey,privateKey:r.privateKey,withCredentials:!0}),this.fwcUser$=this.fwcUser.asObservable()}getFwcUser(){return this.fwcUser$}getActualFwcUser(){return this.fwcUser.getValue()}getActualFwSelectedCloud(){return this.fwcUser.getValue().selectedFwCloud}setFwcUser(e){this.fwcUser.next(e)}setUserId(e){let t=this.fwcUser.getValue();t.user_id=e,this.fwcUser.next(t)}setCustomerId(e){let t=this.fwcUser.getValue();t.customer_id=e,this.fwcUser.next(t)}setUsername(e){let t=this.fwcUser.getValue();t.user_name=e,this.fwcUser.next(t)}setUserRole(e){let t=this.fwcUser.getValue();t.role=e,this.fwcUser.next(t)}setPublicKey(e){let t=this.fwcUser.getValue();t.publicKey=e,this.fwcUser.next(t)}setPrivateKey(e){let t=this.fwcUser.getValue();t.privateKey=e,this.fwcUser.next(t)}setUserCustomerId(e,t){let r=this.fwcUser.getValue();r.user_id=e,r.customer_id=t,this.fwcUser.next(r)}setSelectedFwCloud(e,t){let r=this.fwcUser.getValue();r.selectedFwCloud=e,r.selectedFwCloudName=t,this.fwcUser.next(r)}setLanguage(e){let t=this.fwcUser.getValue();t.selectedLanguage=e,this.fwcUser.next(t)}setAuthToken(e){let t=this.fwcUser.getValue();t.authToken=e,this.fwcUser.next(t)}setConfirmationToken(e){let t=this.fwcUser.getValue();t.confirmationToken=e,this.fwcUser.next(t)}setWithCredentials(e){let t=this.fwcUser.getValue();t.withCredentials=e,this.fwcUser.next(t)}setAlreadyCheckedForUpdates(e){let t=this.fwcUser.getValue();t.alreadyCheckedForUpdates=e}setAppVersions(e){let t=this.fwcUser.getValue();t.appVersions=e}set2FA(e){let t=this.fwcUser.getValue();t.tfa=e}logUser(e){let t=`${this.endpoint}/login`;return e.authCode!=""&&(this.headerOptions=new wo({"x-tfa":e.authCode})),this.httpClient.post(t,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}setupAuth(e){let t=`${ge.settings.fwcAppURL}/profile/tfa/setup`,r={user:e.id,username:e.username};return this.httpClient.post(t,JSON.stringify(r)).pipe(Z(this.handleAPIError))}verifyAuth(e){let t=`${ge.settings.fwcAppURL}/profile/tfa/verify`,r={tempSecret:e.tempSecret,authCode:e.authCode};return this.httpClient.post(t,JSON.stringify(r)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}getAuth(){let e=`${ge.settings.fwcAppURL}/profile/tfa/setup`;return this.httpClient.get(e).pipe(Z(this.handleAPIError))}deleteAuth(){let e=`${ge.settings.fwcAppURL}/profile/tfa/setup`;return this.httpClient.delete(e).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}logoutUser(){let e=`${this.endpoint}/logout`;return this.httpClient.post(e,{}).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}getUser(e){let t=`${this.endpoint}/get`;return this.httpClient.put(t,e).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}deleteUser(e){let t=`${this.endpoint}/del`;return this.httpClient.put(t,e).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}newUser(e){let t=this.endpoint;return this.httpClient.post(t,e).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}updateUser(e){let t=this.endpoint;return this.httpClient.put(t,e).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}getUserClouds(e){let t=`${this.endpoint}/fwcloud/get`,r={user:e};return this.httpClient.put(t,r).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}removeUserCloud(e,t){let r=`${this.endpoint}/fwcloud/del`,o={user:e,fwcloud:t};return this.httpClient.put(r,o).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}addUserCloud(e,t){let r=`${this.endpoint}/fwcloud`,o={user:e,fwcloud:t};return this.httpClient.post(r,o).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}updateUserPassword(e){let t=`${this.endpoint}/changepass`,r={password:e};return this.httpClient.put(t,r).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}checkUserRestrictions(e){let t=`${this.endpoint}/restricted`;return this.httpClient.put(t,e).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}reloadSelectedFWCloud(){return this.subjectReloadFWCloud.next(!0),this.subjectReloadFWCloud.asObservable()}static{this.\u0275fac=function(t){return new(t||i)(ce(Yt),ce(Fs))}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac})}}return i})();var yfe=typeof global=="object"&&global&&global.Object===Object&&global,Gv=yfe;var Ife=typeof self=="object"&&self&&self.Object===Object&&self,vfe=Gv||Ife||Function("return this")(),no=vfe;var bfe=no.Symbol,ys=bfe;var xV=Object.prototype,wfe=xV.hasOwnProperty,Sfe=xV.toString,k_=ys?ys.toStringTag:void 0;function Afe(i){var n=wfe.call(i,k_),e=i[k_];try{i[k_]=void 0;var t=!0}catch{}var r=Sfe.call(i);return t&&(n?i[k_]=e:delete i[k_]),r}var TV=Afe;var Efe=Object.prototype,xfe=Efe.toString;function Tfe(i){return xfe.call(i)}var OV=Tfe;var Ofe="[object Null]",Dfe="[object Undefined]",DV=ys?ys.toStringTag:void 0;function Rfe(i){return i==null?i===void 0?Dfe:Ofe:DV&&DV in Object(i)?TV(i):OV(i)}var gl=Rfe;function Pfe(i){return i!=null&&typeof i=="object"}var Is=Pfe;var kfe="[object Symbol]";function Ffe(i){return typeof i=="symbol"||Is(i)&&gl(i)==kfe}var qc=Ffe;function Lfe(i,n){for(var e=-1,t=i==null?0:i.length,r=Array(t);++e<t;)r[e]=n(i[e],e,i);return r}var jf=Lfe;var Mfe=Array.isArray,yr=Mfe;var Nfe=1/0,RV=ys?ys.prototype:void 0,PV=RV?RV.toString:void 0;function kV(i){if(typeof i=="string")return i;if(yr(i))return jf(i,kV)+"";if(qc(i))return PV?PV.call(i):"";var n=i+"";return n=="0"&&1/i==-Nfe?"-0":n}var FV=kV;function Vfe(i){var n=typeof i;return i!=null&&(n=="object"||n=="function")}var Ua=Vfe;function Bfe(i){return i}var zv=Bfe;var Ufe="[object AsyncFunction]",jfe="[object Function]",Hfe="[object GeneratorFunction]",Gfe="[object Proxy]";function zfe(i){if(!Ua(i))return!1;var n=gl(i);return n==jfe||n==Hfe||n==Ufe||n==Gfe}var Wv=zfe;var Wfe=no["__core-js_shared__"],Kv=Wfe;var LV=function(){var i=/[^.]+$/.exec(Kv&&Kv.keys&&Kv.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}();function Kfe(i){return!!LV&&LV in i}var MV=Kfe;var $fe=Function.prototype,qfe=$fe.toString;function Yfe(i){if(i!=null){try{return qfe.call(i)}catch{}try{return i+""}catch{}}return""}var Yc=Yfe;var Jfe=/[\\^$.*+?()[\]{}|]/g,Xfe=/^\[object .+?Constructor\]$/,Qfe=Function.prototype,Zfe=Object.prototype,eme=Qfe.toString,tme=Zfe.hasOwnProperty,ime=RegExp("^"+eme.call(tme).replace(Jfe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function nme(i){if(!Ua(i)||MV(i))return!1;var n=Wv(i)?ime:Xfe;return n.test(Yc(i))}var NV=nme;function rme(i,n){return i?.[n]}var VV=rme;function ome(i,n){var e=VV(i,n);return NV(e)?e:void 0}var Ms=ome;var sme=Ms(no,"WeakMap"),$v=sme;var BV=Object.create,ame=function(){function i(){}return function(n){if(!Ua(n))return{};if(BV)return BV(n);i.prototype=n;var e=new i;return i.prototype=void 0,e}}(),UV=ame;function lme(i,n){var e=-1,t=i.length;for(n||(n=Array(t));++e<t;)n[e]=i[e];return n}var jV=lme;var cme=function(){try{var i=Ms(Object,"defineProperty");return i({},"",{}),i}catch{}}(),V2=cme;function dme(i,n){for(var e=-1,t=i==null?0:i.length;++e<t&&n(i[e],e,i)!==!1;);return i}var HV=dme;var ume=9007199254740991,pme=/^(?:0|[1-9]\d*)$/;function hme(i,n){var e=typeof i;return n=n??ume,!!n&&(e=="number"||e!="symbol"&&pme.test(i))&&i>-1&&i%1==0&&i<n}var qv=hme;function fme(i,n,e){n=="__proto__"&&V2?V2(i,n,{configurable:!0,enumerable:!0,value:e,writable:!0}):i[n]=e}var Yv=fme;function mme(i,n){return i===n||i!==i&&n!==n}var Hf=mme;var gme=Object.prototype,_me=gme.hasOwnProperty;function Cme(i,n,e){var t=i[n];(!(_me.call(i,n)&&Hf(t,e))||e===void 0&&!(n in i))&&Yv(i,n,e)}var Jv=Cme;function yme(i,n,e,t){var r=!e;e||(e={});for(var o=-1,s=n.length;++o<s;){var a=n[o],l=t?t(e[a],i[a],a,e,i):void 0;l===void 0&&(l=i[a]),r?Yv(e,a,l):Jv(e,a,l)}return e}var cu=yme;var Ime=9007199254740991;function vme(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=Ime}var Gf=vme;function bme(i){return i!=null&&Gf(i.length)&&!Wv(i)}var du=bme;var wme=Object.prototype;function Sme(i){var n=i&&i.constructor,e=typeof n=="function"&&n.prototype||wme;return i===e}var zf=Sme;function Ame(i,n){for(var e=-1,t=Array(i);++e<i;)t[e]=n(e);return t}var GV=Ame;var Eme="[object Arguments]";function xme(i){return Is(i)&&gl(i)==Eme}var B2=xme;var zV=Object.prototype,Tme=zV.hasOwnProperty,Ome=zV.propertyIsEnumerable,Dme=B2(function(){return arguments}())?B2:function(i){return Is(i)&&Tme.call(i,"callee")&&!Ome.call(i,"callee")},Xv=Dme;function Rme(){return!1}var WV=Rme;var qV=typeof exports=="object"&&exports&&!exports.nodeType&&exports,KV=qV&&typeof module=="object"&&module&&!module.nodeType&&module,Pme=KV&&KV.exports===qV,$V=Pme?no.Buffer:void 0,kme=$V?$V.isBuffer:void 0,Fme=kme||WV,zp=Fme;var Lme="[object Arguments]",Mme="[object Array]",Nme="[object Boolean]",Vme="[object Date]",Bme="[object Error]",Ume="[object Function]",jme="[object Map]",Hme="[object Number]",Gme="[object Object]",zme="[object RegExp]",Wme="[object Set]",Kme="[object String]",$me="[object WeakMap]",qme="[object ArrayBuffer]",Yme="[object DataView]",Jme="[object Float32Array]",Xme="[object Float64Array]",Qme="[object Int8Array]",Zme="[object Int16Array]",ege="[object Int32Array]",tge="[object Uint8Array]",ige="[object Uint8ClampedArray]",nge="[object Uint16Array]",rge="[object Uint32Array]",pr={};pr[Jme]=pr[Xme]=pr[Qme]=pr[Zme]=pr[ege]=pr[tge]=pr[ige]=pr[nge]=pr[rge]=!0;pr[Lme]=pr[Mme]=pr[qme]=pr[Nme]=pr[Yme]=pr[Vme]=pr[Bme]=pr[Ume]=pr[jme]=pr[Hme]=pr[Gme]=pr[zme]=pr[Wme]=pr[Kme]=pr[$me]=!1;function oge(i){return Is(i)&&Gf(i.length)&&!!pr[gl(i)]}var YV=oge;function sge(i){return function(n){return i(n)}}var uu=sge;var JV=typeof exports=="object"&&exports&&!exports.nodeType&&exports,F_=JV&&typeof module=="object"&&module&&!module.nodeType&&module,age=F_&&F_.exports===JV,U2=age&&Gv.process,lge=function(){try{var i=F_&&F_.require&&F_.require("util").types;return i||U2&&U2.binding&&U2.binding("util")}catch{}}(),Jc=lge;var XV=Jc&&Jc.isTypedArray,cge=XV?uu(XV):YV,Qv=cge;var dge=Object.prototype,uge=dge.hasOwnProperty;function pge(i,n){var e=yr(i),t=!e&&Xv(i),r=!e&&!t&&zp(i),o=!e&&!t&&!r&&Qv(i),s=e||t||r||o,a=s?GV(i.length,String):[],l=a.length;for(var c in i)(n||uge.call(i,c))&&!(s&&(c=="length"||r&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||qv(c,l)))&&a.push(c);return a}var Zv=pge;function hge(i,n){return function(e){return i(n(e))}}var eb=hge;var fge=eb(Object.keys,Object),QV=fge;var mge=Object.prototype,gge=mge.hasOwnProperty;function _ge(i){if(!zf(i))return QV(i);var n=[];for(var e in Object(i))gge.call(i,e)&&e!="constructor"&&n.push(e);return n}var ZV=_ge;function Cge(i){return du(i)?Zv(i):ZV(i)}var Zl=Cge;function yge(i){var n=[];if(i!=null)for(var e in Object(i))n.push(e);return n}var eB=yge;var Ige=Object.prototype,vge=Ige.hasOwnProperty;function bge(i){if(!Ua(i))return eB(i);var n=zf(i),e=[];for(var t in i)t=="constructor"&&(n||!vge.call(i,t))||e.push(t);return e}var tB=bge;function wge(i){return du(i)?Zv(i,!0):tB(i)}var Wf=wge;var Sge=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Age=/^\w*$/;function Ege(i,n){if(yr(i))return!1;var e=typeof i;return e=="number"||e=="symbol"||e=="boolean"||i==null||qc(i)?!0:Age.test(i)||!Sge.test(i)||n!=null&&i in Object(n)}var Kf=Ege;var xge=Ms(Object,"create"),Xc=xge;function Tge(){this.__data__=Xc?Xc(null):{},this.size=0}var iB=Tge;function Oge(i){var n=this.has(i)&&delete this.__data__[i];return this.size-=n?1:0,n}var nB=Oge;var Dge="__lodash_hash_undefined__",Rge=Object.prototype,Pge=Rge.hasOwnProperty;function kge(i){var n=this.__data__;if(Xc){var e=n[i];return e===Dge?void 0:e}return Pge.call(n,i)?n[i]:void 0}var rB=kge;var Fge=Object.prototype,Lge=Fge.hasOwnProperty;function Mge(i){var n=this.__data__;return Xc?n[i]!==void 0:Lge.call(n,i)}var oB=Mge;var Nge="__lodash_hash_undefined__";function Vge(i,n){var e=this.__data__;return this.size+=this.has(i)?0:1,e[i]=Xc&&n===void 0?Nge:n,this}var sB=Vge;function $f(i){var n=-1,e=i==null?0:i.length;for(this.clear();++n<e;){var t=i[n];this.set(t[0],t[1])}}$f.prototype.clear=iB;$f.prototype.delete=nB;$f.prototype.get=rB;$f.prototype.has=oB;$f.prototype.set=sB;var j2=$f;function Bge(){this.__data__=[],this.size=0}var aB=Bge;function Uge(i,n){for(var e=i.length;e--;)if(Hf(i[e][0],n))return e;return-1}var pu=Uge;var jge=Array.prototype,Hge=jge.splice;function Gge(i){var n=this.__data__,e=pu(n,i);if(e<0)return!1;var t=n.length-1;return e==t?n.pop():Hge.call(n,e,1),--this.size,!0}var lB=Gge;function zge(i){var n=this.__data__,e=pu(n,i);return e<0?void 0:n[e][1]}var cB=zge;function Wge(i){return pu(this.__data__,i)>-1}var dB=Wge;function Kge(i,n){var e=this.__data__,t=pu(e,i);return t<0?(++this.size,e.push([i,n])):e[t][1]=n,this}var uB=Kge;function qf(i){var n=-1,e=i==null?0:i.length;for(this.clear();++n<e;){var t=i[n];this.set(t[0],t[1])}}qf.prototype.clear=aB;qf.prototype.delete=lB;qf.prototype.get=cB;qf.prototype.has=dB;qf.prototype.set=uB;var hu=qf;var $ge=Ms(no,"Map"),fu=$ge;function qge(){this.size=0,this.__data__={hash:new j2,map:new(fu||hu),string:new j2}}var pB=qge;function Yge(i){var n=typeof i;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?i!=="__proto__":i===null}var hB=Yge;function Jge(i,n){var e=i.__data__;return hB(n)?e[typeof n=="string"?"string":"hash"]:e.map}var mu=Jge;function Xge(i){var n=mu(this,i).delete(i);return this.size-=n?1:0,n}var fB=Xge;function Qge(i){return mu(this,i).get(i)}var mB=Qge;function Zge(i){return mu(this,i).has(i)}var gB=Zge;function e_e(i,n){var e=mu(this,i),t=e.size;return e.set(i,n),this.size+=e.size==t?0:1,this}var _B=e_e;function Yf(i){var n=-1,e=i==null?0:i.length;for(this.clear();++n<e;){var t=i[n];this.set(t[0],t[1])}}Yf.prototype.clear=pB;Yf.prototype.delete=fB;Yf.prototype.get=mB;Yf.prototype.has=gB;Yf.prototype.set=_B;var Wp=Yf;var t_e="Expected a function";function H2(i,n){if(typeof i!="function"||n!=null&&typeof n!="function")throw new TypeError(t_e);var e=function(){var t=arguments,r=n?n.apply(this,t):t[0],o=e.cache;if(o.has(r))return o.get(r);var s=i.apply(this,t);return e.cache=o.set(r,s)||o,s};return e.cache=new(H2.Cache||Wp),e}H2.Cache=Wp;var CB=H2;var i_e=500;function n_e(i){var n=CB(i,function(t){return e.size===i_e&&e.clear(),t}),e=n.cache;return n}var yB=n_e;var r_e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o_e=/\\(\\)?/g,s_e=yB(function(i){var n=[];return i.charCodeAt(0)===46&&n.push(""),i.replace(r_e,function(e,t,r,o){n.push(r?o.replace(o_e,"$1"):t||e)}),n}),IB=s_e;function a_e(i){return i==null?"":FV(i)}var vB=a_e;function l_e(i,n){return yr(i)?i:Kf(i,n)?[i]:IB(vB(i))}var tb=l_e;var c_e=1/0;function d_e(i){if(typeof i=="string"||qc(i))return i;var n=i+"";return n=="0"&&1/i==-c_e?"-0":n}var gu=d_e;function u_e(i,n){n=tb(n,i);for(var e=0,t=n.length;i!=null&&e<t;)i=i[gu(n[e++])];return e&&e==t?i:void 0}var Jf=u_e;function p_e(i,n,e){var t=i==null?void 0:Jf(i,n);return t===void 0?e:t}var bB=p_e;function h_e(i,n){for(var e=-1,t=n.length,r=i.length;++e<t;)i[r+e]=n[e];return i}var ib=h_e;var f_e=eb(Object.getPrototypeOf,Object),nb=f_e;function m_e(){this.__data__=new hu,this.size=0}var wB=m_e;function g_e(i){var n=this.__data__,e=n.delete(i);return this.size=n.size,e}var SB=g_e;function __e(i){return this.__data__.get(i)}var AB=__e;function C_e(i){return this.__data__.has(i)}var EB=C_e;var y_e=200;function I_e(i,n){var e=this.__data__;if(e instanceof hu){var t=e.__data__;if(!fu||t.length<y_e-1)return t.push([i,n]),this.size=++e.size,this;e=this.__data__=new Wp(t)}return e.set(i,n),this.size=e.size,this}var xB=I_e;function Xf(i){var n=this.__data__=new hu(i);this.size=n.size}Xf.prototype.clear=wB;Xf.prototype.delete=SB;Xf.prototype.get=AB;Xf.prototype.has=EB;Xf.prototype.set=xB;var _u=Xf;function v_e(i,n){return i&&cu(n,Zl(n),i)}var TB=v_e;function b_e(i,n){return i&&cu(n,Wf(n),i)}var OB=b_e;var kB=typeof exports=="object"&&exports&&!exports.nodeType&&exports,DB=kB&&typeof module=="object"&&module&&!module.nodeType&&module,w_e=DB&&DB.exports===kB,RB=w_e?no.Buffer:void 0,PB=RB?RB.allocUnsafe:void 0;function S_e(i,n){if(n)return i.slice();var e=i.length,t=PB?PB(e):new i.constructor(e);return i.copy(t),t}var FB=S_e;function A_e(i,n){for(var e=-1,t=i==null?0:i.length,r=0,o=[];++e<t;){var s=i[e];n(s,e,i)&&(o[r++]=s)}return o}var LB=A_e;function E_e(){return[]}var rb=E_e;var x_e=Object.prototype,T_e=x_e.propertyIsEnumerable,MB=Object.getOwnPropertySymbols,O_e=MB?function(i){return i==null?[]:(i=Object(i),LB(MB(i),function(n){return T_e.call(i,n)}))}:rb,Qf=O_e;function D_e(i,n){return cu(i,Qf(i),n)}var NB=D_e;var R_e=Object.getOwnPropertySymbols,P_e=R_e?function(i){for(var n=[];i;)ib(n,Qf(i)),i=nb(i);return n}:rb,ob=P_e;function k_e(i,n){return cu(i,ob(i),n)}var VB=k_e;function F_e(i,n,e){var t=n(i);return yr(i)?t:ib(t,e(i))}var sb=F_e;function L_e(i){return sb(i,Zl,Qf)}var L_=L_e;function M_e(i){return sb(i,Wf,ob)}var BB=M_e;var N_e=Ms(no,"DataView"),ab=N_e;var V_e=Ms(no,"Promise"),lb=V_e;var B_e=Ms(no,"Set"),cb=B_e;var UB="[object Map]",U_e="[object Object]",jB="[object Promise]",HB="[object Set]",GB="[object WeakMap]",zB="[object DataView]",j_e=Yc(ab),H_e=Yc(fu),G_e=Yc(lb),z_e=Yc(cb),W_e=Yc($v),Kp=gl;(ab&&Kp(new ab(new ArrayBuffer(1)))!=zB||fu&&Kp(new fu)!=UB||lb&&Kp(lb.resolve())!=jB||cb&&Kp(new cb)!=HB||$v&&Kp(new $v)!=GB)&&(Kp=function(i){var n=gl(i),e=n==U_e?i.constructor:void 0,t=e?Yc(e):"";if(t)switch(t){case j_e:return zB;case H_e:return UB;case G_e:return jB;case z_e:return HB;case W_e:return GB}return n});var Qc=Kp;var K_e=Object.prototype,$_e=K_e.hasOwnProperty;function q_e(i){var n=i.length,e=new i.constructor(n);return n&&typeof i[0]=="string"&&$_e.call(i,"index")&&(e.index=i.index,e.input=i.input),e}var WB=q_e;var Y_e=no.Uint8Array,Zf=Y_e;function J_e(i){var n=new i.constructor(i.byteLength);return new Zf(n).set(new Zf(i)),n}var em=J_e;function X_e(i,n){var e=n?em(i.buffer):i.buffer;return new i.constructor(e,i.byteOffset,i.byteLength)}var KB=X_e;var Q_e=/\w*$/;function Z_e(i){var n=new i.constructor(i.source,Q_e.exec(i));return n.lastIndex=i.lastIndex,n}var $B=Z_e;var qB=ys?ys.prototype:void 0,YB=qB?qB.valueOf:void 0;function e0e(i){return YB?Object(YB.call(i)):{}}var JB=e0e;function t0e(i,n){var e=n?em(i.buffer):i.buffer;return new i.constructor(e,i.byteOffset,i.length)}var XB=t0e;var i0e="[object Boolean]",n0e="[object Date]",r0e="[object Map]",o0e="[object Number]",s0e="[object RegExp]",a0e="[object Set]",l0e="[object String]",c0e="[object Symbol]",d0e="[object ArrayBuffer]",u0e="[object DataView]",p0e="[object Float32Array]",h0e="[object Float64Array]",f0e="[object Int8Array]",m0e="[object Int16Array]",g0e="[object Int32Array]",_0e="[object Uint8Array]",C0e="[object Uint8ClampedArray]",y0e="[object Uint16Array]",I0e="[object Uint32Array]";function v0e(i,n,e){var t=i.constructor;switch(n){case d0e:return em(i);case i0e:case n0e:return new t(+i);case u0e:return KB(i,e);case p0e:case h0e:case f0e:case m0e:case g0e:case _0e:case C0e:case y0e:case I0e:return XB(i,e);case r0e:return new t;case o0e:case l0e:return new t(i);case s0e:return $B(i);case a0e:return new t;case c0e:return JB(i)}}var QB=v0e;function b0e(i){return typeof i.constructor=="function"&&!zf(i)?UV(nb(i)):{}}var ZB=b0e;var w0e="[object Map]";function S0e(i){return Is(i)&&Qc(i)==w0e}var e6=S0e;var t6=Jc&&Jc.isMap,A0e=t6?uu(t6):e6,i6=A0e;var E0e="[object Set]";function x0e(i){return Is(i)&&Qc(i)==E0e}var n6=x0e;var r6=Jc&&Jc.isSet,T0e=r6?uu(r6):n6,o6=T0e;var O0e=1,D0e=2,R0e=4,s6="[object Arguments]",P0e="[object Array]",k0e="[object Boolean]",F0e="[object Date]",L0e="[object Error]",a6="[object Function]",M0e="[object GeneratorFunction]",N0e="[object Map]",V0e="[object Number]",l6="[object Object]",B0e="[object RegExp]",U0e="[object Set]",j0e="[object String]",H0e="[object Symbol]",G0e="[object WeakMap]",z0e="[object ArrayBuffer]",W0e="[object DataView]",K0e="[object Float32Array]",$0e="[object Float64Array]",q0e="[object Int8Array]",Y0e="[object Int16Array]",J0e="[object Int32Array]",X0e="[object Uint8Array]",Q0e="[object Uint8ClampedArray]",Z0e="[object Uint16Array]",eCe="[object Uint32Array]",tr={};tr[s6]=tr[P0e]=tr[z0e]=tr[W0e]=tr[k0e]=tr[F0e]=tr[K0e]=tr[$0e]=tr[q0e]=tr[Y0e]=tr[J0e]=tr[N0e]=tr[V0e]=tr[l6]=tr[B0e]=tr[U0e]=tr[j0e]=tr[H0e]=tr[X0e]=tr[Q0e]=tr[Z0e]=tr[eCe]=!0;tr[L0e]=tr[a6]=tr[G0e]=!1;function db(i,n,e,t,r,o){var s,a=n&O0e,l=n&D0e,c=n&R0e;if(e&&(s=r?e(i,t,r,o):e(i)),s!==void 0)return s;if(!Ua(i))return i;var d=yr(i);if(d){if(s=WB(i),!a)return jV(i,s)}else{var p=Qc(i),g=p==a6||p==M0e;if(zp(i))return FB(i,a);if(p==l6||p==s6||g&&!r){if(s=l||g?{}:ZB(i),!a)return l?VB(i,OB(s,i)):NB(i,TB(s,i))}else{if(!tr[p])return r?i:{};s=QB(i,p,a)}}o||(o=new _u);var C=o.get(i);if(C)return C;o.set(i,s),o6(i)?i.forEach(function(w){s.add(db(w,n,e,w,i,o))}):i6(i)&&i.forEach(function(w,E){s.set(E,db(w,n,e,E,i,o))});var y=c?l?BB:L_:l?Wf:Zl,v=d?void 0:y(i);return HV(v||i,function(w,E){v&&(E=w,w=i[E]),Jv(s,E,db(w,n,e,E,i,o))}),s}var c6=db;var tCe=1,iCe=4;function nCe(i){return c6(i,tCe|iCe)}var fi=nCe;var rCe="__lodash_hash_undefined__";function oCe(i){return this.__data__.set(i,rCe),this}var d6=oCe;function sCe(i){return this.__data__.has(i)}var u6=sCe;function ub(i){var n=-1,e=i==null?0:i.length;for(this.__data__=new Wp;++n<e;)this.add(i[n])}ub.prototype.add=ub.prototype.push=d6;ub.prototype.has=u6;var p6=ub;function aCe(i,n){for(var e=-1,t=i==null?0:i.length;++e<t;)if(n(i[e],e,i))return!0;return!1}var h6=aCe;function lCe(i,n){return i.has(n)}var f6=lCe;var cCe=1,dCe=2;function uCe(i,n,e,t,r,o){var s=e&cCe,a=i.length,l=n.length;if(a!=l&&!(s&&l>a))return!1;var c=o.get(i),d=o.get(n);if(c&&d)return c==n&&d==i;var p=-1,g=!0,C=e&dCe?new p6:void 0;for(o.set(i,n),o.set(n,i);++p<a;){var y=i[p],v=n[p];if(t)var w=s?t(v,y,p,n,i,o):t(y,v,p,i,n,o);if(w!==void 0){if(w)continue;g=!1;break}if(C){if(!h6(n,function(E,T){if(!f6(C,T)&&(y===E||r(y,E,e,t,o)))return C.push(T)})){g=!1;break}}else if(!(y===v||r(y,v,e,t,o))){g=!1;break}}return o.delete(i),o.delete(n),g}var pb=uCe;function pCe(i){var n=-1,e=Array(i.size);return i.forEach(function(t,r){e[++n]=[r,t]}),e}var m6=pCe;function hCe(i){var n=-1,e=Array(i.size);return i.forEach(function(t){e[++n]=t}),e}var g6=hCe;var fCe=1,mCe=2,gCe="[object Boolean]",_Ce="[object Date]",CCe="[object Error]",yCe="[object Map]",ICe="[object Number]",vCe="[object RegExp]",bCe="[object Set]",wCe="[object String]",SCe="[object Symbol]",ACe="[object ArrayBuffer]",ECe="[object DataView]",_6=ys?ys.prototype:void 0,G2=_6?_6.valueOf:void 0;function xCe(i,n,e,t,r,o,s){switch(e){case ECe:if(i.byteLength!=n.byteLength||i.byteOffset!=n.byteOffset)return!1;i=i.buffer,n=n.buffer;case ACe:return!(i.byteLength!=n.byteLength||!o(new Zf(i),new Zf(n)));case gCe:case _Ce:case ICe:return Hf(+i,+n);case CCe:return i.name==n.name&&i.message==n.message;case vCe:case wCe:return i==n+"";case yCe:var a=m6;case bCe:var l=t&fCe;if(a||(a=g6),i.size!=n.size&&!l)return!1;var c=s.get(i);if(c)return c==n;t|=mCe,s.set(i,n);var d=pb(a(i),a(n),t,r,o,s);return s.delete(i),d;case SCe:if(G2)return G2.call(i)==G2.call(n)}return!1}var C6=xCe;var TCe=1,OCe=Object.prototype,DCe=OCe.hasOwnProperty;function RCe(i,n,e,t,r,o){var s=e&TCe,a=L_(i),l=a.length,c=L_(n),d=c.length;if(l!=d&&!s)return!1;for(var p=l;p--;){var g=a[p];if(!(s?g in n:DCe.call(n,g)))return!1}var C=o.get(i),y=o.get(n);if(C&&y)return C==n&&y==i;var v=!0;o.set(i,n),o.set(n,i);for(var w=s;++p<l;){g=a[p];var E=i[g],T=n[g];if(t)var F=s?t(T,E,g,n,i,o):t(E,T,g,i,n,o);if(!(F===void 0?E===T||r(E,T,e,t,o):F)){v=!1;break}w||(w=g=="constructor")}if(v&&!w){var G=i.constructor,z=n.constructor;G!=z&&"constructor"in i&&"constructor"in n&&!(typeof G=="function"&&G instanceof G&&typeof z=="function"&&z instanceof z)&&(v=!1)}return o.delete(i),o.delete(n),v}var y6=RCe;var PCe=1,I6="[object Arguments]",v6="[object Array]",hb="[object Object]",kCe=Object.prototype,b6=kCe.hasOwnProperty;function FCe(i,n,e,t,r,o){var s=yr(i),a=yr(n),l=s?v6:Qc(i),c=a?v6:Qc(n);l=l==I6?hb:l,c=c==I6?hb:c;var d=l==hb,p=c==hb,g=l==c;if(g&&zp(i)){if(!zp(n))return!1;s=!0,d=!1}if(g&&!d)return o||(o=new _u),s||Qv(i)?pb(i,n,e,t,r,o):C6(i,n,l,e,t,r,o);if(!(e&PCe)){var C=d&&b6.call(i,"__wrapped__"),y=p&&b6.call(n,"__wrapped__");if(C||y){var v=C?i.value():i,w=y?n.value():n;return o||(o=new _u),r(v,w,e,t,o)}}return g?(o||(o=new _u),y6(i,n,e,t,r,o)):!1}var w6=FCe;function S6(i,n,e,t,r){return i===n?!0:i==null||n==null||!Is(i)&&!Is(n)?i!==i&&n!==n:w6(i,n,e,t,S6,r)}var fb=S6;var LCe=1,MCe=2;function NCe(i,n,e,t){var r=e.length,o=r,s=!t;if(i==null)return!o;for(i=Object(i);r--;){var a=e[r];if(s&&a[2]?a[1]!==i[a[0]]:!(a[0]in i))return!1}for(;++r<o;){a=e[r];var l=a[0],c=i[l],d=a[1];if(s&&a[2]){if(c===void 0&&!(l in i))return!1}else{var p=new _u;if(t)var g=t(c,d,l,i,n,p);if(!(g===void 0?fb(d,c,LCe|MCe,t,p):g))return!1}}return!0}var A6=NCe;function VCe(i){return i===i&&!Ua(i)}var mb=VCe;function BCe(i){for(var n=Zl(i),e=n.length;e--;){var t=n[e],r=i[t];n[e]=[t,r,mb(r)]}return n}var E6=BCe;function UCe(i,n){return function(e){return e==null?!1:e[i]===n&&(n!==void 0||i in Object(e))}}var gb=UCe;function jCe(i){var n=E6(i);return n.length==1&&n[0][2]?gb(n[0][0],n[0][1]):function(e){return e===i||A6(e,i,n)}}var x6=jCe;function HCe(i,n){return i!=null&&n in Object(i)}var T6=HCe;function GCe(i,n,e){n=tb(n,i);for(var t=-1,r=n.length,o=!1;++t<r;){var s=gu(n[t]);if(!(o=i!=null&&e(i,s)))break;i=i[s]}return o||++t!=r?o:(r=i==null?0:i.length,!!r&&Gf(r)&&qv(s,r)&&(yr(i)||Xv(i)))}var O6=GCe;function zCe(i,n){return i!=null&&O6(i,n,T6)}var D6=zCe;var WCe=1,KCe=2;function $Ce(i,n){return Kf(i)&&mb(n)?gb(gu(i),n):function(e){var t=bB(e,i);return t===void 0&&t===n?D6(e,i):fb(n,t,WCe|KCe)}}var R6=$Ce;function qCe(i){return function(n){return n?.[i]}}var P6=qCe;function YCe(i){return function(n){return Jf(n,i)}}var k6=YCe;function JCe(i){return Kf(i)?P6(gu(i)):k6(i)}var F6=JCe;function XCe(i){return typeof i=="function"?i:i==null?zv:typeof i=="object"?yr(i)?R6(i[0],i[1]):x6(i):F6(i)}var L6=XCe;function QCe(i){return function(n,e,t){for(var r=-1,o=Object(n),s=t(n),a=s.length;a--;){var l=s[i?a:++r];if(e(o[l],l,o)===!1)break}return n}}var M6=QCe;var ZCe=M6(),N6=ZCe;function eye(i,n){return i&&N6(i,n,Zl)}var V6=eye;function tye(i,n){return function(e,t){if(e==null)return e;if(!du(e))return i(e,t);for(var r=e.length,o=n?r:-1,s=Object(e);(n?o--:++o<r)&&t(s[o],o,s)!==!1;);return e}}var B6=tye;var iye=B6(V6),U6=iye;function nye(i,n){var e=-1,t=du(i)?Array(i.length):[];return U6(i,function(r,o,s){t[++e]=n(r,o,s)}),t}var j6=nye;function rye(i,n){var e=i.length;for(i.sort(n);e--;)i[e]=i[e].value;return i}var H6=rye;function oye(i,n){if(i!==n){var e=i!==void 0,t=i===null,r=i===i,o=qc(i),s=n!==void 0,a=n===null,l=n===n,c=qc(n);if(!a&&!c&&!o&&i>n||o&&s&&l&&!a&&!c||t&&s&&l||!e&&l||!r)return 1;if(!t&&!o&&!c&&i<n||c&&e&&r&&!t&&!o||a&&e&&r||!s&&r||!l)return-1}return 0}var G6=oye;function sye(i,n,e){for(var t=-1,r=i.criteria,o=n.criteria,s=r.length,a=e.length;++t<s;){var l=G6(r[t],o[t]);if(l){if(t>=a)return l;var c=e[t];return l*(c=="desc"?-1:1)}}return i.index-n.index}var z6=sye;function aye(i,n,e){n.length?n=jf(n,function(o){return yr(o)?function(s){return Jf(s,o.length===1?o[0]:o)}:o}):n=[zv];var t=-1;n=jf(n,uu(L6));var r=j6(i,function(o,s,a){var l=jf(n,function(c){return c(o)});return{criteria:l,index:++t,value:o}});return H6(r,function(o,s){return z6(o,s,e)})}var W6=aye;function lye(i,n,e,t){return i==null?[]:(yr(n)||(n=n==null?[]:[n]),e=t?void 0:e,yr(e)||(e=e==null?[]:[e]),W6(i,n,e))}var z2=lye;var tm=(()=>{class i{constructor(e,t){this.fwcUserService=e,this.translate=t,this.menuSettingsTree={},this.menuSettingsPosition={},this.menuSettingsRule={},this.menuSettingsGroupObject={},this.menuSettingsRuleGroup={},this.alive=!0,this.buildMenus()}buildMenus(){this.menuSettingsTree={},this.menuSettingsPosition={},this.menuSettingsRule={},this.menuSettingsGroupObject={},this.menuSettingsRuleGroup={};let e={items:[]},t={items:[{id:U.FOLDER_EXPAND,text:this.translate.instant("CONTEXT.FOLDERS.EXPAND"),icon:"fwcMenuIcon fwci-expand fwcBlue"},{id:U.FOLDER_COLLAPSE,text:this.translate.instant("CONTEXT.FOLDERS.COLLAPSE"),icon:"fwcMenuIcon fwci-collapse fwcBlue"}]},r={items:[{id:U.DUPLICATE,text:this.translate.instant("CONTEXT.OBJECTS.DUPLICATE"),icon:"fwcMenuIcon fwci-copy fwcBlue",finalObject:!0,objectInGroup:!1},{id:U.EDIT,text:this.translate.instant("CONTEXT.OBJECTS.EDIT"),icon:"fwcMenuIcon fwci-edit fwcBlue",finalObject:!0},{id:U.DELETE,text:this.translate.instant("CONTEXT.OBJECTS.DELETE"),icon:"fwcMenuIcon fwci-delete fwcRed",finalObject:!0,objectInGroup:!1,userObject:!0},{id:U.DELETE_FROM_GROUP,text:this.translate.instant("CONTEXT.OBJECTS.DEL_F_GROUP"),icon:"fwcMenuIcon fwci-removefromgroup fwcRed",finalObject:!0,objectInGroup:!0,userObject:!0},{id:U.WHERE_USED,text:this.translate.instant("CONTEXT.OBJECTS.WU"),icon:"fwcMenuIcon fwci-whereused fwcBlue",finalObject:!0}]},o={items:[{id:U.COMPILE_IPTABLES,text:this.translate.instant("CONTEXT.COMPILER.IPTABLES")},{id:U.COMPILE_NFTABLES,text:this.translate.instant("CONTEXT.COMPILER.NFTABLES")}]};this.menuSettingsTree.NO_MENU={items:[{id:U.NO_MENU,text:this.translate.instant("CONTEXT.NO_OPTIONS")}]},this.menuSettingsTree[H.OBJ_FIREWALL]=fi(e),this.menuSettingsTree[H.OBJ_FIREWALL].items=this.menuSettingsTree[H.OBJ_FIREWALL].items.concat([{id:U.NO_MENU,text:this.translate.instant("CONTEXT.NO_OPTIONS"),finalObject:!0,clusterNode:!0,visible:!1},{id:U.FIREWALL_EDIT,text:this.translate.instant("CONTEXT.FW.EDIT"),icon:"fwcMenuIcon fwci-editfirewall fwcBlue",finalObject:!0,clusterNode:!1},{id:U.SEPARATOR,type:"separator",finalObject:!0,clusterNode:!1},{id:U.FIREWALL_COMPILE,text:this.translate.instant("CONTEXT.FW.COMPILE"),icon:"fwcMenuIcon fwci-compilefirewall fwcBlue",finalObject:!0,clusterNode:!1},{id:U.FIREWALL_INSTALL,text:this.translate.instant("CONTEXT.FW.INSTALL"),icon:"fwcMenuIcon fwci-installfirewall fwcBlue",finalObject:!0,clusterNode:!1},{id:U.SEPARATOR,type:"separator",finalObject:!0,clusterNode:!1},{id:U.PLUGINS,text:this.translate.instant("FW.MSG_FW_EDITION.PLUGINS"),icon:"fa fa-puzzle-piece fwcOrange",finalObject:!0,clusterNode:!1,visible:!0},{id:U.NGFW,text:this.translate.instant("NGFW.TITLE"),icon:"fa fa-n fwcOrange",finalObject:!0,clusterNode:!1,visible:!0},{id:U.SEPARATOR,type:"separator",finalObject:!0,clusterNode:!1},{id:U.POLICY_PANEL_SHOW,text:this.translate.instant("CONTEXT.FW.SHOW"),icon:"fa fa-eye fwcBlue",finalObject:!0,clusterNode:!1},{id:U.POLICY_PANEL_DOWNLOAD,text:this.translate.instant("CONTEXT.FW.DOWNLOAD"),icon:"fa fa-download fwcBlue",finalObject:!0,clusterNode:!1},{id:U.SEPARATOR,type:"separator",finalObject:!0,clusterNode:!1},{id:U.FIREWALL_DELETE,text:this.translate.instant("CONTEXT.FW.DELETE"),icon:"fwcMenuIcon fwci-delete fwcRed",finalObject:!0,clusterNode:!1},{id:U.SEPARATOR,type:"separator",finalObject:!0,clusterNode:!1},{id:U.FIREWALL_TO_CLUSTER,text:this.translate.instant("CONTEXT.FW.TO_CLUSTER"),icon:"fwcMenuIcon2 fwci2-firewall_to_cluster fwcBlue",finalObject:!0,clusterNode:!1},{id:U.SEPARATOR,type:"separator",finalObject:!0,clusterNode:!1},{id:U.FIREWALL_CLONE,text:this.translate.instant("CONTEXT.FW.CLONE"),icon:"fwcMenuIcon2 fwci2-firewall_clone fwcBlue",finalObject:!0,clusterNode:!1},{id:U.SEPARATOR,type:"separator",finalObject:!0,clusterNode:!1},{id:U.FIREWALL_IPTABLES_IMPORT,text:this.translate.instant("CONTEXT.FW.IPTABLES_SAVE_IMPORT"),icon:"fwcMenuIcon fwci-input fwcBlue",finalObject:!0,clusterNode:!1},{id:U.FIREWALL_IPTABLES_EXPORT,text:this.translate.instant("CONTEXT.FW.IPTABLES_SAVE_EXPORT"),icon:"fwcMenuIcon fwci-output fwcBlue",finalObject:!0,clusterNode:!1}]),this.menuSettingsTree[H.POLICY_INPUT]={items:[{id:U.POLICY_LOAD,text:this.translate.instant("CONTEXT.POLICY.LOAD"),finalObject:!0,icon:"fwcMenuIcon fwci-loadpolicy fwcBlue"}]},this.menuSettingsTree[H.POLICY_OUTPUT]=this.menuSettingsTree[H.POLICY_FORWARD]=this.menuSettingsTree[H.POLICY_ROUTING]=this.menuSettingsTree[H.POLICY_SNAT]=this.menuSettingsTree[H.POLICY_DNAT]=this.menuSettingsTree[H.POLICY_INPUT]=this.menuSettingsTree[H.DHCP]=this.menuSettingsTree[H.DHCP_FIXED_IP]=this.menuSettingsTree[H.KEEPALIVED]=this.menuSettingsTree[H.HAPROXY],this.menuSettingsTree[H.POLICY_INPUT6]=this.menuSettingsTree[H.POLICY_OUTPUT6]=this.menuSettingsTree[H.POLICY_FORWARD6]=this.menuSettingsTree[H.POLICY_ROUTING6]=this.menuSettingsTree[H.POLICY_SNAT6]=this.menuSettingsTree[H.POLICY_DNAT6]=this.menuSettingsTree[H.POLICY_INPUT],this.menuSettingsTree[H.FOLDER_POLICY]=fi(t),this.menuSettingsTree[H.FOLDER_POLICY6]=fi(t),this.menuSettingsTree[H.FOLDER_NAT]=t,this.menuSettingsTree[H.FOLDER]=fi(t),this.menuSettingsTree[H.FOLDER].items=this.menuSettingsTree[H.FOLDER].items.concat([{id:U.SEPARATOR,type:"separator"},{id:U.FOLDER_RENAME,text:this.translate.instant("CONTEXT.FD.RENAME"),icon:"fwcMenuIcon fwci2-renamefolder fwcBlue"},{id:U.SEPARATOR,type:"separator"},{id:U.FIREWALL_NEW,text:this.translate.instant("CONTEXT.NEW_OBJ.FDF"),icon:"fwcMenuIcon fwci-newfirewall fwcGreen"},{id:U.CLUSTER_NEW,text:this.translate.instant("CONTEXT.NEW_OBJ.FDC"),icon:"fwcMenuIcon fwci2-newcluster fwcGreen"},{id:U.FOLDER_NEW,text:this.translate.instant("CONTEXT.NEW_OBJ.FD"),icon:"fwcMenuIcon fwci2-newfolder fwcGreen"},{id:U.SEPARATOR,type:"separator"},{id:U.FOLDER_DELETE,text:this.translate.instant("CONTEXT.FD.DELETE"),icon:"fwcMenuIcon fwci2-deletefolder fwcRed"}]),this.menuSettingsTree[H.FOLDER_FW]={items:[{id:U.FIREWALL_NEW,text:this.translate.instant("CONTEXT.NEW_OBJ.FDF"),icon:"fwci-newfirewall fwcGreen"},{id:U.CLUSTER_NEW,text:this.translate.instant("CONTEXT.NEW_OBJ.FDC"),icon:"fwci2-newcluster fwcGreen"},{id:U.FOLDER_NEW,text:this.translate.instant("CONTEXT.NEW_OBJ.FD"),icon:"fwci2-newfolder fwcGreen"},{id:U.SEPARATOR,type:"separator"},{id:U.FIREWALL_COMPILE_ALL,text:this.translate.instant("CONTEXT.FDF.COMPILE_ALL"),icon:"fwci-compileallfirewalls fwcBlue"},{id:U.FIREWALL_INSTALL_ALL,text:this.translate.instant("CONTEXT.FDF.INSTALL_ALL"),icon:"fwci-installallfirewalls fwcBlue"},{id:U.SEPARATOR,type:"separator"},{id:U.FIREWALL_IMPORT,text:this.translate.instant("CONTEXT.FDF.IMPORT"),icon:"fwci2-moveup fwcBlue"},{id:U.SEPARATOR,type:"separator"},{id:U.TREE_RELOAD,text:this.translate.instant("CONTEXT.FDF.RELOAD"),icon:"fwci-reload fwcBlue"},{id:U.TREE_REPAIR,text:this.translate.instant("CONTEXT.FDF.REPAIR"),icon:"fa fa-wrench fwcBlue"},{id:U.SEPARATOR,type:"separator"}].concat(t.items)},this.menuSettingsTree[H.FOLDER_CA]=fi(t),this.menuSettingsTree[H.FOLDER_CA].items=this.menuSettingsTree[H.FOLDER_CA].items.concat([{id:U.SEPARATOR,type:"separator"},{id:U.CA_NEW,text:this.translate.instant("CONTEXT.NEW_OBJ.FCA"),icon:"fwcMenuIcon2 fwci2-new-ca fwcGreen"},{id:U.SEPARATOR,type:"separator"},{id:U.TREE_RELOAD,text:this.translate.instant("CONTEXT.FDF.RELOAD"),icon:"fwcMenuIcon fwci-reload fwcBlue"}]),this.menuSettingsTree[H.OPENVPN_CA]=fi(t),this.menuSettingsTree[H.OPENVPN_CA].items=this.menuSettingsTree[H.OPENVPN_CA].items.concat([{id:U.SEPARATOR,type:"separator"},{id:U.CA_CRT_NEW,text:this.translate.instant("CONTEXT.NEW_OBJ.CA"),icon:"fwcMenuIcon2 fwci2-new-certificate fwcGreen",finalObject:!0,disableOnCACreation:!0},{id:U.SEPARATOR,type:"separator"},{id:U.CA_CRT_NEW_PREFIX,text:this.translate.instant("CONTEXT.NEW_OBJ.PRE"),icon:"fwcMenuIcon2 fwci2-certificate-prefix-new fwcGreen",finalObject:!0,disableOnCACreation:!0},{id:U.SEPARATOR,type:"separator"},{id:U.CA_VIEW,text:this.translate.instant("CONTEXT.FCA.VIEW"),icon:"fwcTreeIcon fwci2-ca fwcBlue",finalObject:!0},{id:U.CA_EDIT,text:this.translate.instant("CONTEXT.FCA.EDIT"),icon:"fwcMenuIcon2 fwci2-edit-ca fwcBlue",finalObject:!0},{id:U.CA_DELETE,text:this.translate.instant("CONTEXT.FCA.DELETE"),icon:"fwcMenuIcon2 fwci2-delete-ca fwcRed",finalObject:!0}]),this.menuSettingsTree[H.OPENVPN_CERT]=fi(t),this.menuSettingsTree[H.OPENVPN_CERT].items=this.menuSettingsTree[H.OPENVPN_CERT].items.concat([{id:U.SEPARATOR,type:"separator"},{id:U.CA_CRT_VIEW,text:this.translate.instant("CONTEXT.CA.VIEW_CERT"),icon:"fwcTreeIcon fwci2-certificate fwcBlue",finalObject:!0},{id:U.SEPARATOR,type:"separator"},{id:U.CA_CRT_EDIT,text:this.translate.instant("CONTEXT.CA.EDIT_CERT"),icon:"fwcMenuIcon2 fwci2-edit-certificate fwcBlue",finalObject:!0},{id:U.SEPARATOR,type:"separator"},{id:U.CA_CRT_DELETE,text:this.translate.instant("CONTEXT.CA.DELETE_CERT"),icon:"fwcMenuIcon2 fwci2-delete-certificate fwcRed",finalObject:!0}]),this.menuSettingsTree[H.OPENVPN_PREFIX_FOLDER]=fi(t),this.menuSettingsTree[H.OPENVPN_PREFIX_FOLDER].items=this.menuSettingsTree[H.OPENVPN_PREFIX_FOLDER].items.concat([{id:U.SEPARATOR,type:"separator"},{id:U.CA_CRT_NEW,text:this.translate.instant("CONTEXT.NEW_OBJ.CA"),icon:"fwcMenuIcon2 fwci2-new-certificate fwcGreen",finalObject:!0,disableOnCACreation:!0},{id:U.SEPARATOR,type:"separator"},{id:U.CA_CRT_EDIT_PREFIX,text:this.translate.instant("CONTEXT.CA.EDIT_CERT_PREFIX_FOLDER"),icon:"fwcMenuIcon2 fwci2-certificate-prefix-edit fwcBlue",finalObject:!0},{id:U.SEPARATOR,type:"separator"},{id:U.CA_CRT_DELETE_PREFIX,text:this.translate.instant("CONTEXT.CA.DELETE_CERT_PREFIX_FOLDER"),icon:"fwcMenuIcon2 fwci2-certificate-prefix-delete fwcRed",finalObject:!0}]),this.menuSettingsTree[H.OPENVPN_PREFIX]=fi(t),this.menuSettingsTree[H.OPENVPN_PREFIX].items=this.menuSettingsTree[H.OPENVPN_PREFIX].items.concat([{id:U.SEPARATOR,type:"separator"},{id:U.VPN_CONFIG_EDIT_PREFIX,text:this.translate.instant("CONTEXT.VPN_CONFIG.EDIT_PREFIX"),icon:"fwcMenuIcon2 fwci2-certificate-prefix-edit fwcBlue",finalObject:!0,container:bt.C_FIREWALLS_CONDENSED},{id:U.SEPARATOR,type:"separator"},{id:U.VPN_CONFIG_DELETE_PREFIX,text:this.translate.instant("CONTEXT.VPN_CONFIG.DELETE_PREFIX"),icon:"fwcMenuIcon2 fwci2-certificate-prefix-delete fwcRed",finalObject:!0,objectInGroup:!1,container:bt.C_FIREWALLS_CONDENSED},{id:U.DELETE_FROM_GROUP,text:this.translate.instant("CONTEXT.OBJECTS.DEL_F_GROUP"),icon:"fwcMenuIcon fwci-removefromgroup fwcRed",finalObject:!0,objectInGroup:!0,userObject:!0},{id:U.SEPARATOR,type:"separator"},{id:U.WHERE_USED,text:this.translate.instant("CONTEXT.OBJECTS.WU"),icon:"fwcMenuIcon fwci-whereused fwcBlue",finalObject:!0,container:bt.C_FIREWALLS_CONDENSED}]),this.menuSettingsTree[H.OPENVPN_CONFIG_SER]=fi(t),this.menuSettingsTree[H.OPENVPN_CONFIG_SER].items=this.menuSettingsTree[H.OPENVPN_CONFIG_SER].items.concat([{id:U.VPN_CONFIG_NEW_PREFIX,text:this.translate.instant("CONTEXT.VPN_CONFIG.NEW_PREFIX"),icon:"fwcMenuIcon2 fwci2-syncccd-vpnconfig fwcGreen",finalObject:!0,container:bt.C_FIREWALLS_CONDENSED,onlyOnNodeType:H.OPENVPN_CONFIG_SER,objectInGroup:!1},{id:U.SEPARATOR,type:"separator"},{id:U.EDIT,text:this.translate.instant("CONTEXT.VPN_CONFIG.EDIT"),icon:"fwcMenuIcon2 fwci2-openvpn fwcBlue",finalObject:!0,container:bt.C_FIREWALLS_CONDENSED},{id:U.SEPARATOR,type:"separator"},{id:U.VPN_CONFIG_STATUS,text:this.translate.instant("CONTEXT.VPN_CONFIG.STATUS"),icon:"fwcMenuIcon fwci-help fwcBlue",finalObject:!0,container:bt.C_FIREWALLS_CONDENSED,onlyOnNodeType:H.OPENVPN_CONFIG_SER},{id:U.VPN_CONFIG_HISTORIC,text:this.translate.instant("CONTEXT.VPN_CONFIG.HISTORIC"),icon:"fa fa-list-alt fwcBlue",finalObject:!0,container:bt.C_FIREWALLS_CONDENSED},{id:U.VPN_CONFIG_FILE,text:this.translate.instant("CONTEXT.VPN_CONFIG.FILE"),icon:"fwcMenuIcon2 fwci2-file-vpnconfig fwcBlue",finalObject:!0,container:bt.C_FIREWALLS_CONDENSED,objectInGroup:!1},{id:U.VPN_CONFIG_INSTALL,text:this.translate.instant("CONTEXT.VPN_CONFIG.INSTALL"),icon:"fwcMenuIcon2 fwci2-install-vpnconfig fwcBlue",finalObject:!0,container:bt.C_FIREWALLS_CONDENSED,objectInGroup:!1},{id:U.VPN_CONFIG_SYNC_CCD,text:this.translate.instant("CONTEXT.VPN_CONFIG.SYNC_CCD"),icon:"fwcMenuIcon2 fwci2-syncccd-vpnconfig fwcBlue",finalObject:!0,container:bt.C_FIREWALLS_CONDENSED,onlyOnNodeType:H.OPENVPN_CONFIG_SER,objectInGroup:!1},{id:U.VPN_CONFIG_INST_WINDOWS,text:this.translate.instant("CONTEXT.VPN_CONFIG.INST_WINDOWS"),icon:"fa-brands fa-windows fwcBlue",finalObject:!0,container:bt.C_FIREWALLS_CONDENSED,onlyOnNodeType:H.OPENVPN_CONFIG_CLI},{id:U.VPN_CONFIG_UNINSTALL,text:this.translate.instant("CONTEXT.VPN_CONFIG.UNINSTALL"),icon:"fwcMenuIcon2 fwci2-uninstall-vpnconfig fwcRed",finalObject:!0,container:bt.C_FIREWALLS_CONDENSED,objectInGroup:!1},{id:U.SEPARATOR,type:"separator"},{id:U.VPN_CONFIG_DELETE,text:this.translate.instant("CONTEXT.VPN_CONFIG.DELETE"),icon:"fwcMenuIcon2 fwci2-openvpn-deleteconfig fwcRed",finalObject:!0,container:bt.C_FIREWALLS_CONDENSED,objectInGroup:!1},{id:U.DELETE_FROM_GROUP,text:this.translate.instant("CONTEXT.OBJECTS.DEL_F_GROUP"),icon:"fwcMenuIcon fwci-removefromgroup fwcRed",finalObject:!0,objectInGroup:!0,userObject:!0},{id:U.VPN_CONFIG_BLOCK,text:this.translate.instant("CONTEXT.VPN_CONFIG.INST_BLOCK"),icon:"fwcMenuIcon fwci-reject fwcRed",finalObject:!0,container:bt.C_FIREWALLS_CONDENSED,onlyOnNodeType:H.OPENVPN_CONFIG_CLI},{id:U.VPN_CONFIG_UNBLOCK,text:this.translate.instant("CONTEXT.VPN_CONFIG.INST_UNBLOCK"),icon:"fwcMenuIcon fwci-accept fwcGreen",finalObject:!0,container:bt.C_FIREWALLS_CONDENSED,onlyOnNodeType:H.OPENVPN_CONFIG_CLI},{id:U.SEPARATOR,type:"separator"},{id:U.WHERE_USED,text:this.translate.instant("CONTEXT.OBJECTS.WU"),icon:"fwcMenuIcon fwci-whereused fwcBlue",finalObject:!0,container:bt.C_FIREWALLS_CONDENSED,onlyOnNodeType:H.OPENVPN_CONFIG_CLI},{id:U.SYSTEMCTL,text:this.translate.instant("CONTEXT.SYSTEMCTL.SYSTEMCTL"),icon:"fa fa-terminal fwcBlue",finalObject:!0,container:bt.C_FIREWALLS_CONDENSED,onlyOnNodeType:H.OPENVPN_CONFIG_SER}]),this.menuSettingsTree[H.OPENVPN_CONFIG_CLI]=fi(this.menuSettingsTree[H.OPENVPN_CONFIG_SER]),this.menuSettingsTree[H.FOLDER_CLUSTER_FW]=fi(t),this.menuSettingsTree[H.FOLDER_CLUSTER]=fi(t),this.menuSettingsTree[H.FOLDER_CLUSTER].items=this.menuSettingsTree[H.FOLDER_CLUSTER].items.concat([{id:U.SEPARATOR,type:"separator"},{id:U.TREE_RELOAD,text:this.translate.instant("CONTEXT.FDF.RELOAD"),icon:"fwcMenuIcon fwci-reload fwcBlue"},{id:U.SEPARATOR,type:"separator"},{id:U.CLUSTER_NEW,text:this.translate.instant("CONTEXT.NEW_OBJ.FDC"),icon:"fwcMenuIcon fwci2-newcluster fwcGreen"},{id:U.SEPARATOR,type:"separator"},{id:U.CLUSTER_COMPILE_ALL,text:this.translate.instant("CONTEXT.FDF.COMPILE_ALL"),icon:"fwcMenuIcon fwci-compileallfirewalls fwcBlue"}]),this.menuSettingsTree[H.FOLDER_INTERFACES]=fi(t),this.menuSettingsTree[H.FOLDER_INTERFACES].items=this.menuSettingsTree[H.FOLDER_INTERFACES].items.concat([{id:U.SEPARATOR,type:"separator"},{id:U.NEW_INTERFACE,text:this.translate.instant("CONTEXT.NEW_OBJ.FDI"),icon:"fwcMenuIcon fwci-newinterface fwcGreen",finalObject:!0,clusterNode:!1},{id:U.NEW_INTERFACE,text:this.translate.instant("CONTEXT.NEW_OBJ.FDI"),icon:"fwcMenuIcon fwci-newinterface fwcGreen",finalObject:!0,clusterNode:!0}]),this.menuSettingsTree[H.FOLDER_OBJECTS]={items:[{id:U.TREE_RELOAD,text:this.translate.instant("CONTEXT.FDF.RELOAD"),icon:"fwcMenuIcon fwci-reload fwcBlue"},{id:U.TREE_REPAIR,text:this.translate.instant("CONTEXT.FDF.REPAIR"),icon:"fa fa-wrench fwcBlue"},{id:U.SEPARATOR,type:"separator"}].concat(t.items)},this.menuSettingsTree[H.FOLDER_SERVICES]={items:[{id:U.SEPARATOR,type:"separator"},{id:U.TREE_RELOAD,text:this.translate.instant("CONTEXT.FDF.RELOAD"),icon:"fwcMenuIcon fwci-reload fwcBlue"},{id:U.TREE_REPAIR,text:this.translate.instant("CONTEXT.FDF.REPAIR"),icon:"fa fa-wrench fwcBlue"}].concat(t.items)},this.menuSettingsTree[H.FOLDER_TIME]=fi(t),this.menuSettingsTree[H.FOLDER_TIME].items=this.menuSettingsTree[H.FOLDER_TIME].items.concat([{id:U.SEPARATOR,type:"separator"},{id:U.TREE_RELOAD,text:this.translate.instant("CONTEXT.FDF.RELOAD"),icon:"fwcMenuIcon fwci-reload fwcBlue"}]),this.menuSettingsTree[H.OBJ_IF_FW]=fi(t),this.menuSettingsTree[H.OBJ_IF_FW].items.push({id:U.SEPARATOR,type:"separator",finalObject:!0}),this.menuSettingsTree[H.OBJ_IF_FW].items.push({id:U.NEW_ADDRESS,text:this.translate.instant("CONTEXT.NEW_OBJ.IFF"),icon:"fwcMenuIcon fwci-newadress fwcGreen",finalObject:!0,userObject:!0}),this.menuSettingsTree[H.OBJ_IF_FW].items=this.menuSettingsTree[H.OBJ_IF_FW].items.concat(r.items),this.menuSettingsTree[H.OBJ_IF_HOST]=fi(t),this.menuSettingsTree[H.OBJ_IF_HOST].items.push({id:U.SEPARATOR,type:"separator",finalObject:!0}),this.menuSettingsTree[H.OBJ_IF_HOST].items.push({id:U.NEW_ADDRESS,text:this.translate.instant("CONTEXT.NEW_OBJ.IFF"),icon:"fwcMenuIcon fwci-newadress fwcGreen",finalObject:!0,userObject:!0}),this.menuSettingsTree[H.OBJ_IF_HOST].items=this.menuSettingsTree[H.OBJ_IF_HOST].items.concat(r.items),this.menuSettingsTree[H.OBJ_ADDRESS]=fi(t),this.menuSettingsTree[H.OBJ_ADDRESS].items.push({id:U.NEW_ADDRESS,text:this.translate.instant("CONTEXT.NEW_OBJ.IFF"),icon:"fwcMenuIcon fwci-newadress fwcGreen",finalObject:!1}),this.menuSettingsTree[H.OBJ_ADDRESS].items=this.menuSettingsTree[H.OBJ_ADDRESS].items.concat(r.items),this.menuSettingsTree[H.OBJ_GROUP]=fi(t),this.menuSettingsTree[H.OBJ_GROUP].items.push({id:U.NEW_GROUP,text:this.translate.instant("CONTEXT.NEW_OBJ.OIG"),icon:"fwcMenuIcon fwci-objectgroup fwcGreen",finalObject:!1}),this.menuSettingsTree[H.OBJ_GROUP].items=this.menuSettingsTree[H.OBJ_GROUP].items.concat(r.items),this.menuSettingsTree[H.OBJ_HOST]=fi(t),this.menuSettingsTree[H.OBJ_HOST].items.push({id:U.NEW_HOST,text:this.translate.instant("CONTEXT.NEW_OBJ.OIH"),icon:"fwcMenuIcon fwci-host fwcGreen",finalObject:!1}),this.menuSettingsTree[H.OBJ_HOST].items.push({id:U.SEPARATOR,type:"separator",finalObject:!0}),this.menuSettingsTree[H.OBJ_HOST].items.push({id:U.NEW_INTERFACE,text:this.translate.instant("CONTEXT.NEW_OBJ.FDI"),icon:"fwcMenuIcon fwci-newinterface fwcGreen",finalObject:!0,userObject:!0}),this.menuSettingsTree[H.OBJ_HOST].items=this.menuSettingsTree[H.OBJ_HOST].items.concat(r.items),this.menuSettingsTree[H.OBJ_DNS]=fi(t),this.menuSettingsTree[H.OBJ_DNS].items.push({id:U.NEW_DNS,text:this.translate.instant("CONTEXT.NEW_OBJ.ONS"),icon:"fwcMenuIcon fwci-network fwcGreen",finalObject:!1}),this.menuSettingsTree[H.OBJ_DNS].items=this.menuSettingsTree[H.OBJ_DNS].items.concat(r.items),this.menuSettingsTree[H.OBJ_NETWORK]=fi(t),this.menuSettingsTree[H.OBJ_NETWORK].items.push({id:U.NEW_NETWORK,text:this.translate.instant("CONTEXT.NEW_OBJ.OIN"),icon:"fwcMenuIcon fwci-network fwcGreen",finalObject:!1}),this.menuSettingsTree[H.OBJ_NETWORK].items=this.menuSettingsTree[H.OBJ_NETWORK].items.concat(r.items),this.menuSettingsTree[H.OBJ_IP_RANGE]=fi(t),this.menuSettingsTree[H.OBJ_IP_RANGE].items.push({id:U.NEW_IP_RANGE,text:this.translate.instant("CONTEXT.NEW_OBJ.OIR"),icon:"fwcMenuIcon fwci-addressrange fwcGreen",finalObject:!1}),this.menuSettingsTree[H.OBJ_IP_RANGE].items=this.menuSettingsTree[H.OBJ_IP_RANGE].items.concat(r.items),this.menuSettingsTree[H.SERVICE_IP]=fi(t),this.menuSettingsTree[H.SERVICE_IP].items.push({id:U.NEW_IP_SERVICE,text:this.translate.instant("CONTEXT.NEW_OBJ.SOI"),icon:"fwcMenuIcon fwci-ipservice fwcGreen",finalObject:!1}),this.menuSettingsTree[H.SERVICE_IP].items=this.menuSettingsTree[H.SERVICE_IP].items.concat(r.items),this.menuSettingsTree[H.SERVICE_ICMP]=fi(t),this.menuSettingsTree[H.SERVICE_ICMP].items.push({id:U.NEW_ICMP_SERVICE,text:this.translate.instant("CONTEXT.NEW_OBJ.SOM"),icon:"fwcMenuIcon fwci-icmpservice fwcGreen",finalObject:!1}),this.menuSettingsTree[H.SERVICE_ICMP].items=this.menuSettingsTree[H.SERVICE_ICMP].items.concat(r.items),this.menuSettingsTree[H.SERVICE_TCP]=fi(t),this.menuSettingsTree[H.SERVICE_TCP].items.push({id:U.NEW_TCP_SERVICE,text:this.translate.instant("CONTEXT.NEW_OBJ.SOT"),icon:"fwcMenuIcon fwci-tcpservice fwcGreen",finalObject:!1}),this.menuSettingsTree[H.SERVICE_TCP].items=this.menuSettingsTree[H.SERVICE_TCP].items.concat(r.items),this.menuSettingsTree[H.SERVICE_UDP]=fi(t),this.menuSettingsTree[H.SERVICE_UDP].items.push({id:U.NEW_UDP_SERVICE,text:this.translate.instant("CONTEXT.NEW_OBJ.SOU"),icon:"fwcMenuIcon fwci-udpservice fwcGreen",finalObject:!1}),this.menuSettingsTree[H.SERVICE_UDP].items=this.menuSettingsTree[H.SERVICE_UDP].items.concat(r.items),this.menuSettingsTree[H.SERVICE_GROUP]=fi(t),this.menuSettingsTree[H.SERVICE_GROUP].items.push({id:U.NEW_SERVICE_GROUP,text:this.translate.instant("CONTEXT.NEW_OBJ.SOG"),icon:"fwcMenuIcon fwci-servicegroup fwcGreen",finalObject:!1}),this.menuSettingsTree[H.SERVICE_GROUP].items=this.menuSettingsTree[H.SERVICE_GROUP].items.concat(r.items),this.menuSettingsTree[H.OBJ_CLUSTER]=fi(t),this.menuSettingsTree[H.OBJ_CLUSTER].items=this.menuSettingsTree[H.OBJ_CLUSTER].items.concat([{id:U.CLUSTER_EDIT,text:this.translate.instant("CONTEXT.CL.EDIT"),icon:"fwcMenuIcon fwci-edit fwcBlue",finalObject:!0},{id:U.SEPARATOR,type:"separator"},{id:U.FIREWALL_COMPILE,text:this.translate.instant("CONTEXT.CL.COMPILE"),icon:"fwcMenuIcon fwci-compilefirewall fwcBlue",finalObject:!0},{id:U.FIREWALL_INSTALL,text:this.translate.instant("CONTEXT.CL.INSTALL"),icon:"fwcMenuIcon fwci-installfirewall fwcBlue",finalObject:!0},{id:U.SEPARATOR,type:"separator"},{id:U.PLUGINS,text:this.translate.instant("FW.MSG_FW_EDITION.PLUGINS"),icon:"fa fa-puzzle-piece fwcOrange",finalObject:!0,clusterNode:!1,visible:!0},{id:U.NGFW,text:this.translate.instant("NGFW.TITLE"),icon:"fa fa-n fwcOrange",finalObject:!0,clusterNode:!1,visible:!0},{id:U.SEPARATOR,type:"separator",finalObject:!0,clusterNode:!1},{id:U.POLICY_PANEL_SHOW,text:this.translate.instant("CONTEXT.CL.SHOW"),icon:"fa fa-eye fwcBlue",finalObject:!0,clusterNode:!1},{id:U.POLICY_PANEL_DOWNLOAD,text:this.translate.instant("CONTEXT.CL.DOWNLOAD"),icon:"fa fa-download fwcBlue",finalObject:!0,clusterNode:!1},{id:U.SEPARATOR,type:"separator"},{id:U.CLUSTER_DELETE,text:this.translate.instant("CONTEXT.CL.DELETE"),icon:"fwcMenuIcon fwci-delete fwcRed",finalObject:!0},{id:U.SEPARATOR,type:"separator"},{id:U.CLUSTER_TO_FIREWALL,text:this.translate.instant("CONTEXT.CL.TO_FW"),icon:"fwcMenuIcon fwci2-cluster_to_firewall fwcBlue",finalObject:!0},{id:U.SEPARATOR,type:"separator"},{id:U.CLUSTER_CLONE,text:this.translate.instant("CONTEXT.CL.CLONE"),icon:"fwcMenuIcon2 fwci2-cluster_clone fwcBlue",finalObject:!0},{id:U.SEPARATOR,type:"separator"},{id:U.FIREWALL_IPTABLES_IMPORT,text:this.translate.instant("CONTEXT.FW.IPTABLES_SAVE_IMPORT"),icon:"fwcMenuIcon fwci-input fwcBlue",finalObject:!0},{id:U.FIREWALL_IPTABLES_EXPORT,text:this.translate.instant("CONTEXT.FW.IPTABLES_SAVE_EXPORT"),icon:"fwcMenuIcon fwci-output fwcBlue",finalObject:!0}]),this.menuSettingsTree[H.OBJ_MARK]=fi(t),this.menuSettingsTree[H.OBJ_MARK].items.push({id:U.MARK_NEW,text:this.translate.instant("CONTEXT.NEW_OBJ.MRK"),icon:"fwcMenuIcon fwci2-label fwcGreen",finalObject:!1}),this.menuSettingsTree[H.OBJ_MARK].items=this.menuSettingsTree[H.OBJ_MARK].items.concat(r.items),this.menuSettingsTree[H.FOLDER_ROUTING]=fi(t),this.menuSettingsTree[H.ROUTING_TABLES]=fi(t),this.menuSettingsTree[H.ROUTING_TABLES].items=this.menuSettingsTree[H.ROUTING_TABLES].items.concat([{id:U.SEPARATOR,type:"separator"},{id:U.ROUTING_TABLE_NEW,text:this.translate.instant("CONTEXT.ROUTING.NEW_TABLE"),icon:"fa fa-file fwcGreen",finalObject:!0}]),this.menuSettingsTree[H.ROUTING_TABLE]={items:[{id:U.ROUTING_TABLE_EDIT,text:this.translate.instant("CONTEXT.ROUTING.EDIT_TABLE"),icon:"fwcMenuIcon fwci-edit fwcBlue",finalObject:!0},{id:U.SEPARATOR,type:"separator"},{id:U.ROUTING_TABLE_NEW_ROUTE,text:this.translate.instant("CONTEXT.ROUTING.NEW_TABLE_ROUTE"),icon:"fa fa-plus fwcGreen",finalObject:!0},{id:U.SEPARATOR,type:"separator"},{id:U.ROUTING_TABLE_DELETE,text:this.translate.instant("CONTEXT.ROUTING.DELETE_TABLE"),icon:"fa fa-trash fwcRed",finalObject:!0}]},this.menuSettingsTree[H.COUNTRIES]={items:[{id:U.TREE_RELOAD,text:this.translate.instant("CONTEXT.FDF.RELOAD"),icon:"fwci-reload fwcBlue"},{id:U.SEPARATOR,type:"separator"},{id:U.FOLDER_EXPAND,text:this.translate.instant("CONTEXT.FOLDERS.EXPAND"),icon:"fwcMenuIcon fwci-expand fwcBlue"},{id:U.FOLDER_COLLAPSE,text:this.translate.instant("CONTEXT.FOLDERS.COLLAPSE"),icon:"fwcMenuIcon fwci-collapse fwcBlue"}]},this.menuSettingsTree[H.CONTINENT]={items:[{id:U.WHERE_USED,text:this.translate.instant("CONTEXT.OBJECTS.WU"),icon:"fwcMenuIcon fwci-whereused fwcBlue",finalObject:!0},{id:U.SEPARATOR,type:"separator"},{id:U.FOLDER_EXPAND,text:this.translate.instant("CONTEXT.FOLDERS.EXPAND"),icon:"fwcMenuIcon fwci-expand fwcBlue"},{id:U.FOLDER_COLLAPSE,text:this.translate.instant("CONTEXT.FOLDERS.COLLAPSE"),icon:"fwcMenuIcon fwci-collapse fwcBlue"}]},this.menuSettingsTree[H.COUNTRIE]={items:[{id:U.WHERE_USED,text:this.translate.instant("CONTEXT.OBJECTS.WU"),icon:"fwcMenuIcon fwci-whereused fwcBlue",finalObject:!0}]},this.menuSettingsTree[H.FOLDER_SYSTEM]=fi(t),this.menuSettingsTree[H.DHCP]=fi(t),this.menuSettingsTree[H.DHCP]={items:[{id:U.SYSTEM_COMPILE,text:this.translate.instant("CONTEXT.FW.COMPILE"),icon:"fwcMenuIcon fwci-compilerule fwcBlue",finalObject:!0,visible:!0},{id:U.SYSTEM_INSTALL,text:this.translate.instant("CONTEXT.FW.INSTALL"),icon:"fwcMenuIcon fwci-installfirewall fwcBlue",finalObject:!0,visible:!0},{id:U.SEPARATOR,type:"separator"},{id:U.SYSTEM_SHOW_CONFIG,text:this.translate.instant("CONTEXT.VPN_CONFIG.FILE"),icon:"fwcMenuIcon2 fwci2-file-vpnconfig fwcBlue",finalObject:!0,visible:!0},{id:U.SYSTEM_DOWNLOAD_CONFIG,text:this.translate.instant("CONTEXT.VPN_CONFIG.DOWNLOAD_FILE"),icon:"fa fa-download fwcBlue",finalObject:!0,visible:!0},{id:U.SEPARATOR,type:"separator"},{id:U.SYSTEMCTL,text:this.translate.instant("CONTEXT.SYSTEMCTL.SYSTEMCTL"),icon:"fa fa-terminal fwcBlue",finalObject:!0,visible:!0}]},this.menuSettingsTree[H.KEEPALIVED]={items:[{id:U.SYSTEM_COMPILE,text:this.translate.instant("CONTEXT.FW.COMPILE"),icon:"fwcMenuIcon fwci-compilerule fwcBlue",finalObject:!0,visible:!0},{id:U.SYSTEM_INSTALL,text:this.translate.instant("CONTEXT.FW.INSTALL"),icon:"fwcMenuIcon fwci-installfirewall fwcBlue",finalObject:!0,visible:!0},{id:U.SEPARATOR,type:"separator"},{id:U.SYSTEM_SHOW_CONFIG,text:this.translate.instant("CONTEXT.VPN_CONFIG.FILE"),icon:"fwcMenuIcon2 fwci2-file-vpnconfig fwcBlue",finalObject:!0,visible:!0},{id:U.SYSTEM_DOWNLOAD_CONFIG,text:this.translate.instant("CONTEXT.VPN_CONFIG.DOWNLOAD_FILE"),icon:"fa fa-download fwcBlue",finalObject:!0,visible:!0},{id:U.SEPARATOR,type:"separator"},{id:U.SYSTEMCTL,text:this.translate.instant("CONTEXT.SYSTEMCTL.SYSTEMCTL"),icon:"fa fa-terminal fwcBlue",finalObject:!0,visible:!0}]},this.menuSettingsTree[H.HAPROXY]={items:[{id:U.SYSTEM_COMPILE,text:this.translate.instant("CONTEXT.FW.COMPILE"),icon:"fwcMenuIcon fwci-compilerule fwcBlue",finalObject:!0,visible:!0},{id:U.SYSTEM_INSTALL,text:this.translate.instant("CONTEXT.FW.INSTALL"),icon:"fwcMenuIcon fwci-installfirewall fwcBlue",finalObject:!0,visible:!0},{id:U.SEPARATOR,type:"separator"},{id:U.SYSTEM_SHOW_CONFIG,text:this.translate.instant("CONTEXT.VPN_CONFIG.FILE"),icon:"fwcMenuIcon2 fwci2-file-vpnconfig fwcBlue",finalObject:!0,visible:!0},{id:U.SYSTEM_DOWNLOAD_CONFIG,text:this.translate.instant("CONTEXT.VPN_CONFIG.DOWNLOAD_FILE"),icon:"fa fa-download fwcBlue",finalObject:!0,visible:!0},{id:U.SEPARATOR,type:"separator"},{id:U.SYSTEMCTL,text:this.translate.instant("CONTEXT.SYSTEMCTL.SYSTEMCTL"),icon:"fa fa-terminal fwcBlue",finalObject:!0,visible:!0}]},this.menuSettingsPosition.POSITION={items:[{id:U.POSITION_NEGATE,text:this.translate.instant("CONTEXT.POSITION.NEGATE"),icon:"fwcMenuIcon fwci-negateposition fwcBlue",visible:!1},{id:U.POSITION_ALLOW,text:this.translate.instant("CONTEXT.POSITION.ALLOW"),icon:"fwcMenuIcon fwci-enableposition fwcBlue",visible:!1},{id:U.OBJECT_EDIT,text:this.translate.instant("CONTEXT.POSITION.EDIT_OBJ"),icon:"fwcMenuIcon fwci-edit fwcBlue"},{id:U.SEPARATOR,type:"separator"},{id:U.COPY,text:this.translate.instant("CONTEXT.POSITION.COPY"),icon:"fwcMenuIcon fwci-copy fwcBlue"},{id:U.CUT,text:this.translate.instant("CONTEXT.POSITION.CUT"),icon:"fwcMenuIcon fwci-cut fwcBlue"},{id:U.PASTE,text:this.translate.instant("CONTEXT.POSITION.PASTE"),icon:"fwcMenuIcon fwci-paste fwcBlue",visible:!1},{id:U.DELETE,text:this.translate.instant("CONTEXT.OBJECTS.DELETE"),icon:"fwcMenuIcon fwci-delete fwcRed"},{id:U.SEPARATOR,type:"separator"},{id:U.WHERE_USED,text:this.translate.instant("CONTEXT.OBJECTS.WU"),icon:"fwcMenuIcon fwci-whereused fwcBlue"},{id:U.NO_MENU,text:this.translate.instant("CONTEXT.NO_OPTIONS"),visible:!1}]},this.menuSettingsPosition.NO_MENU={items:[{id:U.NO_MENU,text:this.translate.instant("CONTEXT.NO_OPTIONS")}]};let s=[{id:U.RULE_COLOR_DEFAULT,pid:U.RULE_COLOR_CHANGE,text:this.translate.instant("CONTEXT.COLORS.NONE"),icon:"fwci2-cuadrado fwcWhite"},{id:U.RULE_COLOR_RED,pid:U.RULE_COLOR_CHANGE,text:this.translate.instant("CONTEXT.COLORS.RED"),icon:"fwci2-cuadrado fwcRulePink"},{id:U.RULE_COLOR_PURPLE,pid:U.RULE_COLOR_CHANGE,text:this.translate.instant("CONTEXT.COLORS.PURPLE"),icon:"fwci2-cuadrado fwcRulePurple"},{id:U.RULE_COLOR_BLUE,pid:U.RULE_COLOR_CHANGE,text:this.translate.instant("CONTEXT.COLORS.BLUE"),icon:"fwci2-cuadrado fwcRuleBlue"},{id:U.RULE_COLOR_TEAL,pid:U.RULE_COLOR_CHANGE,text:this.translate.instant("CONTEXT.COLORS.TEAL"),icon:"fwci2-cuadrado fwcRuleTeal"},{id:U.RULE_COLOR_GREEN,pid:U.RULE_COLOR_CHANGE,text:this.translate.instant("CONTEXT.COLORS.GREEN"),icon:"fwci2-cuadrado fwcRuleGreen"},{id:U.RULE_COLOR_YELLOW,pid:U.RULE_COLOR_CHANGE,text:this.translate.instant("CONTEXT.COLORS.YELLOW"),icon:"fwci2-cuadrado fwcRuleYellow"},{id:U.RULE_COLOR_ORANGE,pid:U.RULE_COLOR_CHANGE,text:this.translate.instant("CONTEXT.COLORS.ORANGE"),icon:"fwci2-cuadrado fwcRuleOrange"},{id:U.RULE_COLOR_CUSTOM,pid:U.RULE_COLOR_CHANGE,text:this.translate.instant("CONTEXT.COLORS.CUSTOM"),icon:"fa fa-crosshairs fwcBlue"}];this.menuSettingsRule.RULE={items:[{id:U.RULE_COMPILE,text:this.translate.instant("CONTEXT.RULE.COMP_S"),textSingle:this.translate.instant("CONTEXT.RULE.COMP_S"),textMulti:this.translate.instant("CONTEXT.RULE.COMP_M"),icon:"fwcMenuIcon fwci-compilerule fwcBlue",items:o.items},{id:U.RULE_COLOR_CHANGE,text:this.translate.instant("CONTEXT.RULE.COLOR_S"),textSingle:this.translate.instant("CONTEXT.RULE.COLOR_S"),textMulti:this.translate.instant("CONTEXT.RULE.COLOR_M"),icon:"fwcMenuIcon fwci-rulecolor fwcBlue"},{id:U.SEPARATOR,type:"separator"},{id:U.RULE_NEW_ABOVE,text:this.translate.instant("CONTEXT.RULE.NEW_AB"),icon:"fwcMenuIcon fwci-newruleabove fwcGreen"},{id:U.RULE_NEW_BELOW,text:this.translate.instant("CONTEXT.RULE.NEW_BE"),icon:"fwcMenuIcon fwci-newrulebelow fwcGreen"},{id:U.SEPARATOR,type:"separator"},{id:U.RULE_NEW_HS_ABOVE,text:this.translate.instant("CONTEXT.RULE.NEW_HS_AB"),icon:"fa fa-file-code fwcOrange"},{id:U.RULE_NEW_HS_BELOW,text:this.translate.instant("CONTEXT.RULE.NEW_HS_BE"),icon:"fa fa-file-code fwcOrange"},{id:U.SEPARATOR,type:"separator"},{id:U.RULE_EDIT,text:this.translate.instant("CONTEXT.RULE.EDIT"),icon:"fwcMenuIcon fwci-editrule fwcBlue"},{id:U.RULE_ENABLE,text:this.translate.instant("CONTEXT.RULE.ENABLE_S"),textSingle:this.translate.instant("CONTEXT.RULE.ENABLE_S"),textMulti:this.translate.instant("CONTEXT.RULE.ENABLE_M"),icon:"fwcMenuIcon fwci-enablerule fwcBlue"},{id:U.RULE_DISABLE,text:this.translate.instant("CONTEXT.RULE.DISABLE_S"),textSingle:this.translate.instant("CONTEXT.RULE.DISABLE_S"),textMulti:this.translate.instant("CONTEXT.RULE.DISABLE_M"),icon:"fwcMenuIcon fwci-disablerule fwcBlue",textUnselected:"Disable rule",textSelected:"Enable rule"},{id:U.RULE_DELETE,text:this.translate.instant("CONTEXT.RULE.DELETE"),textSingle:this.translate.instant("CONTEXT.RULE.DELETE"),textMulti:this.translate.instant("CONTEXT.RULE.DELETE_M"),icon:"fwcMenuIcon fwci-deleterule fwcRed"},{id:U.SEPARATOR,type:"separator"},{id:U.RULE_MOVE_ABOVE,text:this.translate.instant("CONTEXT.RULE.MOVE_AB"),textNormal:this.translate.instant("CONTEXT.RULE.MOVE_AB"),textGroup:this.translate.instant("CONTEXT.RULE.MOVE_AB_GR"),icon:"fwcMenuIcon fwci2-moveup fwcBlue"},{id:U.RULE_MOVE_BELOW,text:this.translate.instant("CONTEXT.RULE.MOVE_BE"),textNormal:this.translate.instant("CONTEXT.RULE.MOVE_BE"),textGroup:this.translate.instant("CONTEXT.RULE.MOVE_BE_GR"),icon:"fwcMenuIcon fwci-movedown fwcBlue"},{id:U.SEPARATOR,type:"separator"},{id:U.COPY,text:this.translate.instant("CONTEXT.POSITION.COPY"),icon:"fwcMenuIcon fwci-copy fwcBlue"},{id:U.CUT,text:this.translate.instant("CONTEXT.POSITION.CUT"),icon:"fwcMenuIcon fwci-cut fwcBlue"},{id:U.PASTE_ABOVE,text:this.translate.instant("CONTEXT.RULE.PASTE_AB"),icon:"fwcMenuIcon fwci2-pasteabove fwcBlue"},{id:U.PASTE_BELOW,text:this.translate.instant("CONTEXT.RULE.PASTE_BE"),icon:"fwcMenuIcon fwci2-pastebelow fwcBlue"},{id:U.RULE_CREATE_GROUP,text:this.translate.instant("CONTEXT.RULE.GR_CREATE"),icon:"fwcMenuIcon fwci-objectgroup fwcGreen"},{id:U.RULE_REMOVE_GROUP,text:this.translate.instant("CONTEXT.RULE.GR_DELETE"),icon:"fwcMenuIcon fwci-removegroup fwcRed"},{id:U.RULE_REMOVE_FROM_GROUP,text:this.translate.instant("CONTEXT.RULE.GR_RULE_DELETE"),icon:"fwcMenuIcon fwci-removefromgroup fwcRed"}]},this.menuSettingsRule.ROUTING_RULE=fi(this.menuSettingsRule.RULE),this.menuSettingsRule.ROUTING_RULE.items=this.menuSettingsRule.ROUTING_RULE.items.filter(a=>{if(a.id!=U.RULE_EDIT&&a.id!=U.RULE_NEW_HS_ABOVE&&a.id!=U.RULE_NEW_HS_BELOW)return!0}),this.configureMenuSettingsRule("DHCP_RULE",[U.RULE_NEW_HS_ABOVE,U.RULE_NEW_HS_BELOW,U.RULE_EDIT]),this.configureMenuSettingsRule("KEEPALIVED_RULE",[U.RULE_NEW_HS_ABOVE,U.RULE_NEW_HS_BELOW,U.RULE_EDIT]),this.configureMenuSettingsRule("HAPROXY_RULE",[U.RULE_NEW_HS_ABOVE,U.RULE_NEW_HS_BELOW,U.RULE_EDIT]),this.menuSettingsRule.ROUTE={items:[{id:U.RULE_COMPILE,text:this.translate.instant("CONTEXT.ROUTING.ROUTE.COMP_S"),textSingle:this.translate.instant("CONTEXT.ROUTING.ROUTE.COMP_S"),textMulti:this.translate.instant("CONTEXT.ROUTING.ROUTE.COMP_M"),icon:"fwcMenuIcon fwci-compilerule fwcBlue"},{id:U.RULE_COLOR_CHANGE,text:this.translate.instant("CONTEXT.ROUTING.ROUTE.COLOR_S"),textSingle:this.translate.instant("CONTEXT.ROUTING.ROUTE.COLOR_S"),textMulti:this.translate.instant("CONTEXT.ROUTING.ROUTE.COLOR_M"),icon:"fwcMenuIcon fwci-rulecolor fwcBlue"},{id:U.SEPARATOR,type:"separator"},{id:U.RULE_NEW_ABOVE,text:this.translate.instant("CONTEXT.ROUTING.ROUTE.NEW_AB"),icon:"fwcMenuIcon fwci-newruleabove fwcGreen"},{id:U.RULE_NEW_BELOW,text:this.translate.instant("CONTEXT.ROUTING.ROUTE.NEW_BE"),icon:"fwcMenuIcon fwci-newrulebelow fwcGreen"},{id:U.SEPARATOR,type:"separator"},{id:U.RULE_ENABLE,text:this.translate.instant("CONTEXT.ROUTING.ROUTE.ENABLE_S"),textSingle:this.translate.instant("CONTEXT.ROUTING.ROUTE.ENABLE_S"),textMulti:this.translate.instant("CONTEXT.ROUTING.ROUTE.ENABLE_M"),icon:"fwcMenuIcon fwci-enablerule fwcBlue"},{id:U.RULE_DISABLE,text:this.translate.instant("CONTEXT.ROUTING.ROUTE.DISABLE_S"),textSingle:this.translate.instant("CONTEXT.ROUTING.ROUTE.DISABLE_S"),textMulti:this.translate.instant("CONTEXT.ROUTING.ROUTE.DISABLE_M"),icon:"fwcMenuIcon fwci-disablerule fwcBlue",textUnselected:"Disable rule",textSelected:"Enable rule"},{id:U.RULE_DELETE,text:this.translate.instant("CONTEXT.ROUTING.ROUTE.DELETE"),textSingle:this.translate.instant("CONTEXT.ROUTING.ROUTE.DELETE"),textMulti:this.translate.instant("CONTEXT.ROUTING.ROUTE.DELETE_M"),icon:"fwcMenuIcon fwci-deleterule fwcRed"},{id:U.SEPARATOR,type:"separator"},{id:U.RULE_MOVE_ABOVE,text:this.translate.instant("CONTEXT.RULE.MOVE_AB"),textNormal:this.translate.instant("CONTEXT.RULE.MOVE_AB"),textGroup:this.translate.instant("CONTEXT.RULE.MOVE_AB_GR"),icon:"fwcMenuIcon fwci2-moveup fwcBlue"},{id:U.RULE_MOVE_BELOW,text:this.translate.instant("CONTEXT.RULE.MOVE_BE"),textNormal:this.translate.instant("CONTEXT.RULE.MOVE_BE"),textGroup:this.translate.instant("CONTEXT.RULE.MOVE_BE_GR"),icon:"fwcMenuIcon fwci-movedown fwcBlue"},{id:U.SEPARATOR,type:"separator"},{id:U.COPY,text:this.translate.instant("CONTEXT.POSITION.COPY"),icon:"fwcMenuIcon fwci-copy fwcBlue"},{id:U.CUT,text:this.translate.instant("CONTEXT.POSITION.CUT"),icon:"fwcMenuIcon fwci-cut fwcBlue"},{id:U.PASTE_ABOVE,text:this.translate.instant("CONTEXT.RULE.PASTE_AB"),icon:"fwcMenuIcon fwci2-pasteabove fwcBlue"},{id:U.PASTE_BELOW,text:this.translate.instant("CONTEXT.RULE.PASTE_BE"),icon:"fwcMenuIcon fwci2-pastebelow fwcBlue"},{id:U.RULE_CREATE_GROUP,text:this.translate.instant("CONTEXT.RULE.GR_CREATE"),icon:"fwcMenuIcon fwci-objectgroup fwcGreen"},{id:U.RULE_REMOVE_GROUP,text:this.translate.instant("CONTEXT.RULE.GR_DELETE"),icon:"fwcMenuIcon fwci-removegroup fwcRed"},{id:U.RULE_REMOVE_FROM_GROUP,text:this.translate.instant("CONTEXT.RULE.GR_RULE_DELETE"),icon:"fwcMenuIcon fwci-removefromgroup fwcRed"}]},this.menuSettingsGroupObject.OBJECT={items:[{id:U.FIND_IN_TREE,text:this.translate.instant("CONTEXT.OBJECTS.FIND_IN_TREE"),icon:"fwcMenuIcon fwci2-findintree fwcBlue"},{id:U.WHERE_USED,text:this.translate.instant("CONTEXT.OBJECTS.WU"),icon:"fwcMenuIcon fwci-whereused fwcBlue"},{id:U.SEPARATOR,type:"separator"},{id:U.DELETE_FROM_GROUP,text:this.translate.instant("CONTEXT.OBJECTS.DEL_F_GROUP"),icon:"fwcMenuIcon fwci-removefromgroup fwcRed",userObject:!0},{id:U.NO_MENU,text:this.translate.instant("CONTEXT.NO_OPTIONS"),visible:!1}]},this.menuSettingsGroupObject.OBJECT_CUSTOMFORM={items:[{id:U.DELETE,text:this.translate.instant("CONTEXT.OBJECTS.DELETE"),icon:"fwcMenuIcon fwci-delete fwcRed"}]},this.menuSettingsRuleGroup.RULE_GROUP=fi(t),this.menuSettingsRuleGroup.RULE_GROUP.items=this.menuSettingsRuleGroup.RULE_GROUP.items.concat([{id:U.RULE_GROUP_EDIT,text:this.translate.instant("CONTEXT.RULE_GR.NAME"),icon:"fwcMenuIcon fwci-groupname fwcBlue"},{id:U.RULE_GROUP_COLOR_CHANGE,text:this.translate.instant("CONTEXT.RULE_GR.COLOR"),icon:"fwcMenuIcon fwci-groupcolor fwcBlue"},{id:U.SEPARATOR,type:"separator"},{id:U.RULE_REMOVE_GROUP,text:this.translate.instant("CONTEXT.RULE_GR.DELETE"),icon:"fwcMenuIcon fwci-removegroup fwcBlue"}])}configureMenuSettingsRule(e,t){this.menuSettingsRule[e]=fi(this.menuSettingsRule.RULE);let r=[...this.menuSettingsRule[e].items];this.menuSettingsRule[e].items=this.menuSettingsRule[e].items.map(s=>t.includes(s.id)?Pe(re({},s),{visible:!1}):s);let o=this.menuSettingsRule[e].items.find(s=>s.id==U.RULE_COMPILE);o&&delete o.items,t.forEach(s=>{let a=r.findIndex(l=>l.id===s);if(a>0&&r[a-1].type==="separator"){let l=this.menuSettingsRule[e].items.findIndex(c=>c.id===s)-1;l>=0&&this.menuSettingsRule[e].items[l].type==="separator"&&(this.menuSettingsRule[e].items[l].visible=!1)}if(a<r.length-1&&r[a+1].type==="separator"){let l=this.menuSettingsRule[e].items.findIndex(c=>c.id===s)+1;l<this.menuSettingsRule[e].items.length&&this.menuSettingsRule[e].items[l].type==="separator"&&(this.menuSettingsRule[e].items[l].visible=!1)}}),this.menuSettingsRule[e].items=this.menuSettingsRule[e].items.filter((s,a,l)=>s.visible!==!1&&(s.type!=="separator"||a>0&&a<l.length-1&&l[a-1].type!=="separator"&&l[a+1].type!=="separator"))}getTreeMenu(e){return e.node_type?this.menuSettingsTree[e.node_type]:{items:[]}}getTreeMenus(){return this.menuSettingsTree}getPositionMenus(){return this.menuSettingsPosition}getRuleMenus(){return this.menuSettingsRule}getRuleGroupMenus(){return this.menuSettingsRuleGroup}getGroupObjectMenus(){return this.menuSettingsGroupObject}setMenuOption(e,t,r,o){try{let s=e.items.filter(function(a){return a.id==t});return s[0]&&(s[0][r]=o),!0}catch(s){return console.error(s),!1}}swapMenuOptions(e,t,r){for(let o=0;o<e.items.length;o++)e.items[o][r]&&(e.items[o][t]=e.items[o][r])}swapMenuOptionText(e,t,r,o){try{let s=e.items.filter(function(a){return a.id==t});return s[0]&&s[0][r]&&(s[0][r]=s[0][o]),!0}catch(s){return console.error(s),!1}}swapMenuText(e,t,r){try{let o=e.items.filter(function(s){return s.id==t});return o[0]&&(o[0].text=r?o[0].textSelected:o[0].textUnselected),!0}catch(o){return console.error(o),!1}}static{this.\u0275fac=function(t){return new(t||i)(ce(pt),ce(Xe))}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac})}}return i})();var _b=(()=>{class i extends Mi{constructor(e){super(e),this.httpClient=e,this.endpoint=`${ge.settings.fwcAppURL}/customer`}getCustomers(){let e=`${this.endpoint}/get`;return this.httpClient.put(e,{}).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}getCustomer(e){let t=`${this.endpoint}/get`;return this.httpClient.put(t,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}newCustomer(e){let t=`${this.endpoint}`;return this.httpClient.post(t,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}updateCustomer(e){let t=`${this.endpoint}`;return this.httpClient.put(t,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}deleteCustomer(e){let t=`${this.endpoint}/del`;return this.httpClient.put(t,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}checkCustomerRestrictions(e){let t=`${this.endpoint}/restricted`;return this.httpClient.put(t,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}static{this.\u0275fac=function(t){return new(t||i)(ce(Yt))}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac})}}return i})();var _l=function(i){return i[i.EVENT_GENERIC=1]="EVENT_GENERIC",i[i.EVENT_LOG=10]="EVENT_LOG",i[i.EVENT_PLUGIN_PANEL_CLOSED=11]="EVENT_PLUGIN_PANEL_CLOSED",i[i.EVENT_CONNECTION_ESTABLISHED=20]="EVENT_CONNECTION_ESTABLISHED",i[i.EVENT_CONNECTION_LOST=21]="EVENT_CONNECTION_LOST",i}(_l||{});var Vn=(()=>{class i{constructor(){this.subjectEvent=new Re,this.subjectLogEvent=new Re}emitEvent(e){e&&(e.type==_l.EVENT_LOG?this.subjectLogEvent.next(e):this.subjectEvent.next(e))}getEvent(){return this.subjectEvent.asObservable()}getLogEvent(){return this.subjectLogEvent.asObservable()}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Zt=(()=>{class i extends Mi{constructor(e,t){super(e),this.httpClient=e,this.fwcUserService=t,this.endpoint=`${ge.settings.fwcAppURL}/firewall`}getFirewall(e,t){let r=`${this.endpoint}/get`,o={firewall:e,fwcloud:t};return this.httpClient.put(r,JSON.stringify(o)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}getFirewallsByCloud(e,t){let r=`${this.endpoint}/cloud/get`,o={fwcloud:e};return this.httpClient.put(r,JSON.stringify(o)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}updateFirewall(e){let t=`${this.endpoint}`;return this.httpClient.put(t,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}newFirewall(e){let t=`${this.endpoint}`;return this.httpClient.post(t,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}deleteFirewall(e,t){let r=`${this.endpoint}/del`,o={firewall:e,fwcloud:t};return this.httpClient.put(r,JSON.stringify(o)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}cloneFirewall(e){let t=`${this.endpoint}/clone`;return this.httpClient.put(t,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}checkFwRestrictions(e,t){let r=`${this.endpoint}/restricted`,o={firewall:e,fwcloud:t};return this.httpClient.put(r,JSON.stringify(o)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}installPlugins(e,t,r){let o=`${ge.settings.fwcAppURL}/fwclouds/${e}/firewalls/plugin?channel_id=${r}`;return this.httpClient.post(o,JSON.stringify(t)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}checkFwCommunication(e,t){let r=`${ge.settings.fwcAppURL}/fwclouds/${e}/firewalls/communication/ping`;return this.httpClient.post(r,t).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}getFirewallInformation(e,t){let r=`${ge.settings.fwcAppURL}/fwclouds/${e}/firewalls/communication/info`;return this.httpClient.post(r,t).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}getSystemctlInformation(e){let t=`${ge.settings.fwcAppURL}/systemctl`;return this.httpClient.post(t,e).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}getClustersByCloud(e){let t=`${ge.settings.fwcAppURL}/cluster/cloud/get`,r={fwcloud:e};return this.httpClient.put(t,JSON.stringify(r)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}getCluster(e,t){let r=`${ge.settings.fwcAppURL}/cluster/get`,o={cluster:e,fwcloud:t};return this.httpClient.put(r,JSON.stringify(o)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}getClusterNodes(e,t){let r=`${this.endpoint}/cluster/get`,o={cluster:e,fwcloud:t};return this.httpClient.put(r,JSON.stringify(o)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}deleteClusterNode(e,t,r){let o=`${this.endpoint}/delfromcluster`,s={cluster:e,firewall:t,fwcloud:r};return this.httpClient.put(o,JSON.stringify(s)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}getClusterMasterNode(e,t){let r=`${this.endpoint}/cluster/get`,o={cluster:e,fwcloud:t};return this.httpClient.put(r,JSON.stringify(o)).pipe(W(this.handleAPIResponse),W(this.parseClusterMasterNode),Z(this.handleAPIError))}parseClusterMasterNode(e){let t,r={error:{msg:"No master node"}};t=e.data;for(let o=0;t&&o<t.length;o++)if(t[o].fwmaster){r={data:Object.assign({},t[o])};break}return r}newCluster(e,t,r){let o=`${ge.settings.fwcAppURL}/cluster`,s={fwcloud:t,node_id:r,clusterData:e};return this.httpClient.post(o,JSON.stringify(s)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}updateCluster(e,t,r){let o=`${ge.settings.fwcAppURL}/cluster`,s={fwcloud:t,clusterData:e};return this.httpClient.put(o,JSON.stringify(s)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}deleteCluster(e,t){let r=`${ge.settings.fwcAppURL}/cluster/del`,o={cluster:e,fwcloud:t};return this.httpClient.put(r,JSON.stringify(o)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}convertFwToCluster(e){let t=`${ge.settings.fwcAppURL}/cluster/fwtocluster`;return this.httpClient.put(t,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}convertClusterToFw(e){let t=`${ge.settings.fwcAppURL}/cluster/clustertofw`;return this.httpClient.put(t,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}cloneCluster(e){let t=`${ge.settings.fwcAppURL}/cluster/clone`;return this.httpClient.put(t,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}checkClusterRestrictions(e,t){let r=`${ge.settings.fwcAppURL}/cluster/restricted`,o={firewall:e,fwcloud:t};return this.httpClient.put(r,JSON.stringify(o)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}autoDiscoverInterfaces(e){let t=`${ge.settings.fwcAppURL}/interface/autodiscover`;return this.httpClient.put(t,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}ipTablesSaveImport(e,t){let r=`${ge.settings.fwcAppURL}/iptables-save/import?channel_id=${t}`,o=new wo;return o=o.set("X-FWC-TIMEOUT","9999999"),this.httpClient.put(r,JSON.stringify(e),{headers:o}).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIErrorNew))}ipTablesSaveExport(e,t){let r=`${ge.settings.fwcAppURL}/iptables-save/export`;return this.httpClient.put(r,JSON.stringify(e)).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIErrorNew))}loadBackEndConfig(){let e=`${ge.settings.fwcAppURL}/config`;return this.httpClient.get(e)}static{this.\u0275fac=function(t){return new(t||i)(ce(Yt),ce(pt))}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac})}}return i})();var ro=(()=>{class i extends Mi{constructor(e){super(e),this.httpClient=e,this.endpoint=`${ge.settings.fwcAppURL}/interface`}getInterfacesInFw(e,t){let r=`${this.endpoint}/fw/all/get`,o;return o={firewall:e,fwcloud:t},this.httpClient.put(r,JSON.stringify(o)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}getInterfacesInFwFull(e,t){let r=`${this.endpoint}/fw/full/get`,o;return o={firewall:e,fwcloud:t},this.httpClient.put(r,JSON.stringify(o)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}getInterface(e,t,r){let o=`${this.endpoint}/fw/get`,s;return s={firewall:e,id:t,fwcloud:r},this.httpClient.put(o,JSON.stringify(s)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}getInterfaceHost(e,t,r){let o=`${this.endpoint}/host/get`,s;return s={host:e,id:t,fwcloud:r},this.httpClient.put(o,JSON.stringify(s)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}newInterface(e){let t=`${this.endpoint}`;return this.httpClient.post(t,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}updateInterface(e){let t=`${this.endpoint}`;return this.httpClient.put(t,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}deleteInterfaceFw(e){let t=`${this.endpoint}/fw/del`;return this.httpClient.put(t,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}deleteInterfaceHost(e){let t=`${this.endpoint}/host/del`;return this.httpClient.put(t,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}getInterfaceWhereUsed(e,t,r){let o=`${this.endpoint}/where`,s={fwcloud:r,id:e,type:t};return this.httpClient.put(o,JSON.stringify(s)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}checkInterfaceRestrictions(e){let t=`${this.endpoint}/restricted`;return this.httpClient.put(t,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}static{this.\u0275fac=function(t){return new(t||i)(ce(Yt))}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac})}}return i})();var Cb=(()=>{class i extends Mi{constructor(e){super(e),this.httpClient=e,this.endpoint=`${ge.settings.fwcAppURL}/ipobj/mark`}newMark(e){let t=this.endpoint;return this.httpClient.post(t,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}getMark(e){let t=`${this.endpoint}/get`;return this.httpClient.put(t,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}updateMark(e){let t=this.endpoint;return this.httpClient.put(t,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}deleteMark(e){let t=`${this.endpoint}/del`;return this.httpClient.put(t,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}getMarkWhereUsed(e){let t=`${this.endpoint}/where`;return this.httpClient.put(t,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}checkMarkRestrictions(e){let t=`${this.endpoint}/restricted`;return this.httpClient.put(t,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}static{this.\u0275fac=function(t){return new(t||i)(ce(Yt))}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac})}}return i})();var Do=(()=>{class i extends Mi{constructor(e,t){super(e),this.httpClient=e,this.cd=t,this.items=[],this.nodeCounter=0,this.endpoint=`${ge.settings.fwcAppURL}/tree`}getTree(e,t){let r="",o=e.container,s=e.objStandard,a=e.objCloud,l={};switch(e._siblingTree&&(o=e._siblingTree),l.fwcloud=t,o){case bt.C_FIREWALLS:case bt.C_FIREWALLS_CONDENSED:r=`${this.endpoint}/firewalls/get`;break;case bt.C_OBJECTS:r=`${this.endpoint}/objects/get`,l.objStandard=s,l.objCloud=a;break;case bt.C_CA:r=`${this.endpoint}/ca/get`;break;case bt.C_SERVICES:r=`${this.endpoint}/services/get`,l.objStandard=s,l.objCloud=a;break}return this.cd.detectChanges(),this.httpClient.put(r,JSON.stringify(l)).pipe(W(this.handleAPIResponse),W(c=>this.extractTreeData(c,e)),Z(this.handleAPIError))}getTreeChildTypes(){let e="API CALL FOR GETTING THE CHILD TYPES",t={data:[{id_node:H.OBJ_ADDRESS,node_type:H.OBJ_ADDRESS},{id_node:H.OBJ_IP_RANGE,node_type:H.OBJ_IP_RANGE},{id_node:H.OBJ_HOST,node_type:H.OBJ_IF_HOST,is_object:!0},{id_node:H.OBJ_HOST,node_type:H.OBJ_HOST},{id_node:H.OBJ_GROUP,node_type:H.OBJ_GROUP},{id_node:H.OBJ_NETWORK,node_type:H.OBJ_NETWORK},{id_node:H.OBJ_DNS,node_type:H.OBJ_DNS},{id_node:H.FOLDER_INTERFACES,node_type:H.OBJ_IF_FW,is_object:!0},{id_node:H.OBJ_IF_FW,node_type:H.OBJ_ADDRESS,is_object:!0},{id_node:H.OBJ_IF_HOST,node_type:H.OBJ_ADDRESS,is_object:!0},{id_node:H.SERVICE_IP,node_type:H.SERVICE_IP},{id_node:H.SERVICE_TCP,node_type:H.SERVICE_TCP},{id_node:H.SERVICE_ICMP,node_type:H.SERVICE_ICMP},{id_node:H.SERVICE_UDP,node_type:H.SERVICE_UDP},{id_node:H.SERVICE_GROUP,node_type:H.SERVICE_GROUP}]};return this.cd.detectChanges(),wt(t)}newFolder(e){let t=`${this.endpoint}/folder`;return this.httpClient.post(t,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}dropInFolder(e){let t=`${this.endpoint}/folder/drop`;return this.httpClient.put(t,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}deleteFolder(e){let t=`${this.endpoint}/folder/del`;return this.httpClient.put(t,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}updateFolder(e){let t=`${this.endpoint}/folder`;return this.httpClient.put(t,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}repairTree(e,t,r){let o=`${this.endpoint}/repair?channel_id=${r}`,s={type:e,fwcloud:t};return this.httpClient.put(o,JSON.stringify(s)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}getNodes(e,t,r){let o=`${this.endpoint}/node/get`,s={node_type:e,fwcloud:t,id_obj:r||null};return this.httpClient.put(o,JSON.stringify(s)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}getNodesByNodeType(e,t){let r=`${this.endpoint}/node/getByNodeType`,o={node_type:e,fwcloud:t};return this.httpClient.put(r,JSON.stringify(o)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}getNodesFull(e,t,r,o){let s=[],a,l;for(s.push(...e);s.length>0;)if(a=s.pop(),a.node_type===t){if(r?l=a.id_obj===r:l=!0,o&&(l=l&&a.text===o),l)return a}else if(a.items&&a.items.length)for(let c=0;c<a.items.length;c++)s.push(a.items[c]);return null}extractTreeData(e,t){try{let r=JSON.stringify(e.data);r=r.replace(/"children"/g,'"items"'),r=r.replace(/"allowdrag"/g,'"allowDrag"'),e.data=JSON.parse(r),t.container==bt.C_FIREWALLS_CONDENSED}catch{}return e}static{this.\u0275fac=function(t){return new(t||i)(ce(Yt),ce(Ie))}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac})}}return i})();var yb=(()=>{class i extends Mi{constructor(e){super(e),this.httpClient=e,this.endpoint=`${ge.settings.fwcAppURL}/ipobj`}getObjectTypes(){let e=`${this.endpoint}/types`;return this.httpClient.get(e).pipe(W(this.handleAPIResponse),W(this.parseObjectTypeNames),Z(this.handleAPIError))}getObjectType(e){let t,r=`${this.endpoint}/types/get`;return t={id:e},this.httpClient.put(r,JSON.stringify(t)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}parseObjectTypeNames(e){if(e){let t=e.data;t&&Array.isArray(t)&&t.forEach(r=>{r.type=r.type.replace(" ","_")})}return e}static{this.\u0275fac=function(t){return new(t||i)(ce(Yt))}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac})}}return i})();var Ir=(()=>{class i extends Mi{constructor(e){super(e),this.httpClient=e,this.endpoint=`${ge.settings.fwcAppURL}/ipobj`}getObject(e,t){let r=`${this.endpoint}/get`,o={fwcloud:t,id:e};return this.httpClient.put(r,JSON.stringify(o)).pipe(W(this.handleAPIResponse),W(this.addFields),Z(this.handleAPIError))}getPolicyRuleObjects(e,t,r){let o=`${ge.settings.fwcAppURL}/policy/ipobj/get`,s={fwcloud:r,firewall:e,rule:t};return this.httpClient.put(o,JSON.stringify(s)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}updateObject(e){let t=this.endpoint;return this.httpClient.put(t,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}deleteObject(e){let t=`${this.endpoint}/del`;return this.httpClient.put(t,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}newObject(e){let t=this.endpoint;return this.httpClient.post(t,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}searchObject(e){let t=`${this.endpoint}/ipobj_search_used/${e._fwcObjId}/${e._fwcObjType}`;return this.httpClient.get(t).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}checkObjectRestrictions(e){let t=`${this.endpoint}/restricted`;return this.httpClient.put(t,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}getObjectGroup(e,t){let r=`${this.endpoint}/group/get`,o={fwcloud:t,id:e};return this.httpClient.put(r,JSON.stringify(o)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}getObjectGroupAllowedTypes(){let e=[];return e[L.OBJ_GROUP]=[L.OBJ_ADDRESS,L.OBJ_ADDRESS_RANGE,L.OBJ_NETWORK,L.OBJ_HOST,L.OBJ_VPN_CONFIG_CLI,L.OBJ_OPENVPN_PREFIX,L.OBJ_DNS],e[L.OBJ_SERVICE_GROUP]=[L.OBJ_SERVICE_IP,L.OBJ_SERVICE_TCP,L.OBJ_SERVICE_ICMP,L.OBJ_SERVICE_UDP],e[L.OBJ_ROUTING_GATEWAY]=[L.OBJ_ADDRESS],e[L.OBJ_ROUTING_RULE_FROM]=[L.OBJ_ADDRESS,L.OBJ_ADDRESS_RANGE,L.OBJ_NETWORK,L.OBJ_HOST,L.OBJ_VPN_CONFIG_CLI,L.OBJ_OPENVPN_PREFIX,L.OBJ_GROUP,L.OBJ_DNS,L.OBJ_MARK],e[L.OBJ_DHCP_RULE_NETWORK]=[L.OBJ_NETWORK],e[L.OBJ_DHCP_RULE_RANGE]=[L.OBJ_ADDRESS_RANGE],e[L.OBJ_DHCP_RULE_ROUTER]=[L.OBJ_ADDRESS],e[L.OBJ_DHCP_RULE_DNS]=[L.OBJ_ADDRESS],e[L.OBJ_DHCP_RULE_INTERFACE]=[L.OBJ_INTERFACE_FIREWALL,L.OBJ_INTERFACE_HOST],e[L.OBJ_DHCP_RULE_IP]=[L.OBJ_ADDRESS],e[L.OBJ_KEEPALIVED_INTERFACE]=[L.OBJ_INTERFACE_FIREWALL],e[L.OBJ_KEEPALIVED_VIRTUAL_IPS]=[L.OBJ_ADDRESS],e[L.OBJ_KEEPALIVED_MASTER_NODE]=[L.OBJ_FIREWALL],e[L.OBJ_HAPROXY_RULE_FRONTEND_IP]=[L.OBJ_ADDRESS],e[L.OBJ_HAPROXY_RULE_FRONTEND_PORT]=[L.OBJ_SERVICE_TCP,L.OBJ_SERVICE_UDP],e[L.OBJ_HAPROXY_RULE_BACKEND_IPS]=[L.OBJ_ADDRESS],e[L.OBJ_HAPROXY_RULE_BACKEND_PORT]=[L.OBJ_SERVICE_TCP,L.OBJ_SERVICE_UDP],wt(e)}newObjectGroup(e){let t=`${this.endpoint}/group`;return this.httpClient.post(t,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}updateObjectGroup(e){let t=`${this.endpoint}/group`;return this.httpClient.put(t,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}deleteObjectGroup(e){let t=`${this.endpoint}/group/del`;return this.httpClient.put(t,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}newObjectGroupObject(e){let t=`${this.endpoint}/group/addto`;return this.httpClient.put(t,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}deleteObjectGroupObject(e){let t=`${this.endpoint}/group/delfrom`;return this.httpClient.put(t,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}getObjectWhereUsed(e,t,r){let o=`${this.endpoint}/where`,s={id:e,type:t,fwcloud:r};return this.httpClient.put(o,JSON.stringify(s)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}getObjectGroupWhereUsed(e,t){let r=`${this.endpoint}/group/where`,o={fwcloud:t,id:e};return this.httpClient.put(r,JSON.stringify(o)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}checkObjectGroupRestrictions(e){let t=`${this.endpoint}/group/restricted`;return this.httpClient.put(t,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}getIPProtocols(){let e=`${this.endpoint}-protocols`;return this.httpClient.get(e).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}addFields(e){let t=[];return t.push(e.data),t.forEach(r=>{r._fwcObjId=r.id,r._fwcObjName=r.name,r._fwcObjType=r.obj_type=r.type}),e}static{this.\u0275fac=function(t){return new(t||i)(ce(Yt))}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac})}}return i})();function W2(i,n){let e=!n?.manualCleanup;e&&!n?.injector&&Wy(W2);let t=e?n?.injector?.get(xp)??Me(xp):null,r=fye(n?.equal),o;n?.requireSync?o=Oi({kind:0},{equal:r}):o=Oi({kind:1,value:n?.initialValue},{equal:r});let s=i.subscribe({next:a=>o.set({kind:1,value:a}),error:a=>{if(n?.rejectErrors)throw a;o.set({kind:2,error:a})}});if(n?.requireSync&&o().kind===0)throw new Ct(601,!1);return t?.onDestroy(s.unsubscribe.bind(s)),Tr(()=>{let a=o();switch(a.kind){case 1:return a.value;case 2:throw a.error;case 0:throw new Ct(601,!1)}},{equal:n?.equal})}function fye(i=Object.is){return(n,e)=>n.kind===1&&e.kind===1&&i(n.value,e.value)}var Y2={};function $r(i,n){if(Y2[i]=(Y2[i]||0)+1,typeof n=="function")return K2(i,(...t)=>Pe(re({},n(...t)),{type:i}));switch(n?n._as:"empty"){case"empty":return K2(i,()=>({type:i}));case"props":return K2(i,t=>Pe(re({},t),{type:i}));default:throw new Error("Unexpected config.")}}function Go(){return{_as:"props",_p:void 0}}function K2(i,n){return Object.defineProperty(n,"type",{value:i,writable:!1})}var aU="@ngrx/store/init",im=(()=>{class i extends Cn{constructor(){super({type:aU})}next(e){if(typeof e=="function")throw new TypeError(`
        Dispatch expected an object, instead it received a function.
        If you're using the createAction function, make sure to invoke the function
        before dispatching the action. For example, someAction should be someAction().`);if(typeof e>"u")throw new TypeError("Actions must be objects");if(typeof e.type>"u")throw new TypeError("Actions must have a type property");super.next(e)}complete(){}ngOnDestroy(){super.complete()}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac})}}return i})(),mye=[im],lU=new He("@ngrx/store Internal Root Guard"),K6=new He("@ngrx/store Internal Initial State"),Z2=new He("@ngrx/store Initial State"),cU=new He("@ngrx/store Reducer Factory"),$6=new He("@ngrx/store Internal Reducer Factory Provider"),dU=new He("@ngrx/store Initial Reducers"),$2=new He("@ngrx/store Internal Initial Reducers"),q6=new He("@ngrx/store Store Features"),Y6=new He("@ngrx/store Internal Store Reducers"),q2=new He("@ngrx/store Internal Feature Reducers"),J6=new He("@ngrx/store Internal Feature Configs"),uU=new He("@ngrx/store Internal Store Features"),X6=new He("@ngrx/store Internal Feature Reducers Token"),pU=new He("@ngrx/store Feature Reducers"),Q6=new He("@ngrx/store User Provided Meta Reducers"),Ib=new He("@ngrx/store Meta Reducers"),Z6=new He("@ngrx/store Internal Resolved Meta Reducers"),eU=new He("@ngrx/store User Runtime Checks Config"),tU=new He("@ngrx/store Internal User Runtime Checks Config"),M_=new He("@ngrx/store Internal Runtime Checks"),eO=new He("@ngrx/store Check if Action types are unique"),aIt=new He("@ngrx/store Root Store Provider"),lIt=new He("@ngrx/store Feature State Provider");function tO(i,n={}){let e=Object.keys(i),t={};for(let o=0;o<e.length;o++){let s=e[o];typeof i[s]=="function"&&(t[s]=i[s])}let r=Object.keys(t);return function(s,a){s=s===void 0?n:s;let l=!1,c={};for(let d=0;d<r.length;d++){let p=r[d],g=t[p],C=s[p],y=g(C,a);c[p]=y,l=l||y!==C}return l?c:s}}function gye(i,n){return Object.keys(i).filter(e=>e!==n).reduce((e,t)=>Object.assign(e,{[t]:i[t]}),{})}function hU(...i){return function(n){if(i.length===0)return n;let e=i[i.length-1];return i.slice(0,-1).reduceRight((r,o)=>o(r),e(n))}}function fU(i,n){return Array.isArray(n)&&n.length>0&&(i=hU.apply(null,[...n,i])),(e,t)=>{let r=i(e);return(o,s)=>(o=o===void 0?t:o,r(o,s))}}function _ye(i){let n=Array.isArray(i)&&i.length>0?hU(...i):e=>e;return(e,t)=>(e=n(e),(r,o)=>(r=r===void 0?t:r,e(r,o)))}var N_=class extends gi{},vb=class extends im{},Cye="@ngrx/store/update-reducers",bb=(()=>{class i extends Cn{get currentReducers(){return this.reducers}constructor(e,t,r,o){super(o(r,t)),this.dispatcher=e,this.initialState=t,this.reducers=r,this.reducerFactory=o}addFeature(e){this.addFeatures([e])}addFeatures(e){let t=e.reduce((r,{reducers:o,reducerFactory:s,metaReducers:a,initialState:l,key:c})=>{let d=typeof o=="function"?_ye(a)(o,l):fU(s,a)(o,l);return r[c]=d,r},{});this.addReducers(t)}removeFeature(e){this.removeFeatures([e])}removeFeatures(e){this.removeReducers(e.map(t=>t.key))}addReducer(e,t){this.addReducers({[e]:t})}addReducers(e){this.reducers=re(re({},this.reducers),e),this.updateReducers(Object.keys(e))}removeReducer(e){this.removeReducers([e])}removeReducers(e){e.forEach(t=>{this.reducers=gye(this.reducers,t)}),this.updateReducers(e)}updateReducers(e){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:Cye,features:e})}ngOnDestroy(){this.complete()}static{this.\u0275fac=function(t){return new(t||i)(ce(vb),ce(Z2),ce(dU),ce(cU))}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac})}}return i})(),yye=[bb,{provide:N_,useExisting:bb},{provide:vb,useExisting:im}],iO=(()=>{class i extends Re{ngOnDestroy(){this.complete()}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=tt(i)))(r||i)}})()}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac})}}return i})(),Iye=[iO],wb=class extends gi{},iU=(()=>{class i extends Cn{static{this.INIT=aU}constructor(e,t,r,o){super(o);let a=e.pipe(cp(kS)).pipe(KS(t)),l={state:o},c=a.pipe(cg(vye,l));this.stateSubscription=c.subscribe(({state:d,action:p})=>{this.next(d),r.next(p)}),this.state=W2(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}static{this.\u0275fac=function(t){return new(t||i)(ce(im),ce(N_),ce(iO),ce(Z2))}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac})}}return i})();function vye(i={state:void 0},[n,e]){let{state:t}=i;return{state:e(t,n),action:n}}var bye=[iU,{provide:wb,useExisting:iU}],rt=(()=>{class i extends gi{constructor(e,t,r){super(),this.actionsObserver=t,this.reducerManager=r,this.source=e,this.state=e.state}select(e,...t){return zn.call(null,e,...t)(this)}selectSignal(e,t){return Tr(()=>e(this.state()),t)}lift(e){let t=new i(this,this.actionsObserver,this.reducerManager);return t.operator=e,t}dispatch(e){this.actionsObserver.next(e)}next(e){this.actionsObserver.next(e)}error(e){this.actionsObserver.error(e)}complete(){this.actionsObserver.complete()}addReducer(e,t){this.reducerManager.addReducer(e,t)}removeReducer(e){this.reducerManager.removeReducer(e)}static{this.\u0275fac=function(t){return new(t||i)(ce(wb),ce(im),ce(bb))}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac})}}return i})(),wye=[rt];function zn(i,n,...e){return function(r){let o;if(typeof i=="string"){let s=[n,...e].filter(Boolean);o=r.pipe(GS(i,...s))}else if(typeof i=="function")o=r.pipe(W(s=>i(s,n)));else throw new TypeError(`Unexpected type '${typeof i}' in select operator, expected 'string' or 'function'`);return o.pipe(Sc())}}var nO="https://ngrx.io/guide/store/configuration/runtime-checks";function nU(i){return i===void 0}function rU(i){return i===null}function mU(i){return Array.isArray(i)}function Sye(i){return typeof i=="string"}function Aye(i){return typeof i=="boolean"}function Eye(i){return typeof i=="number"}function gU(i){return typeof i=="object"&&i!==null}function xye(i){return gU(i)&&!mU(i)}function Tye(i){if(!xye(i))return!1;let n=Object.getPrototypeOf(i);return n===Object.prototype||n===null}function J2(i){return typeof i=="function"}function Oye(i){return J2(i)&&i.hasOwnProperty("\u0275cmp")}function Dye(i,n){return Object.prototype.hasOwnProperty.call(i,n)}var Rye=!1;function Pye(){return Rye}function oU(i,n){return i===n}function kye(i,n,e){for(let t=0;t<i.length;t++)if(!e(i[t],n[t]))return!0;return!1}function _U(i,n=oU,e=oU){let t=null,r=null,o;function s(){t=null,r=null}function a(d=void 0){o={result:d}}function l(){o=void 0}function c(){if(o!==void 0)return o.result;if(!t)return r=i.apply(null,arguments),t=arguments,r;if(!kye(arguments,t,n))return r;let d=i.apply(null,arguments);return t=arguments,e(r,d)?r:(r=d,d)}return{memoized:c,reset:s,setResult:a,clearResult:l}}function vr(...i){return Lye(_U)(...i)}function Fye(i,n,e,t){if(e===void 0){let o=n.map(s=>s(i));return t.memoized.apply(null,o)}let r=n.map(o=>o(i,e));return t.memoized.apply(null,[...r,e])}function Lye(i,n={stateFn:Fye}){return function(...e){let t=e;if(Array.isArray(t[0])){let[d,...p]=t;t=[...d,...p]}else t.length===1&&Mye(t[0])&&(t=Nye(t[0]));let r=t.slice(0,t.length-1),o=t[t.length-1],s=r.filter(d=>d.release&&typeof d.release=="function"),a=i(function(...d){return o.apply(null,d)}),l=_U(function(d,p){return n.stateFn.apply(null,[d,r,p,a])});function c(){l.reset(),a.reset(),s.forEach(d=>d.release())}return Object.assign(l.memoized,{release:c,projector:a.memoized,setResult:l.setResult,clearResult:l.clearResult})}}function Cu(i){return vr(n=>{let e=n[i];return!Pye()&&Pg()&&!(i in n)&&console.warn(`@ngrx/store: The feature name "${i}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${i}', ...) or StoreModule.forFeature('${i}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),e},n=>n)}function Mye(i){return!!i&&typeof i=="object"&&Object.values(i).every(n=>typeof n=="function")}function Nye(i){let n=Object.values(i),e=Object.keys(i),t=(...r)=>e.reduce((o,s,a)=>Pe(re({},o),{[s]:r[a]}),{});return[...n,t]}function Vye(i){return i instanceof He?Me(i):i}function Bye(i,n){return n.map((e,t)=>{if(i[t]instanceof He){let r=Me(i[t]);return{key:e.key,reducerFactory:r.reducerFactory?r.reducerFactory:tO,metaReducers:r.metaReducers?r.metaReducers:[],initialState:r.initialState}}return e})}function Uye(i){return i.map(n=>n instanceof He?Me(n):n)}function CU(i){return typeof i=="function"?i():i}function jye(i,n){return i.concat(n)}function Hye(){if(Me(rt,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function Gye(i,n){return function(e,t){let r=n.action(t)?X2(t):t,o=i(e,r);return n.state()?X2(o):o}}function X2(i){Object.freeze(i);let n=J2(i);return Object.getOwnPropertyNames(i).forEach(e=>{if(!e.startsWith("\u0275")&&Dye(i,e)&&(!n||e!=="caller"&&e!=="callee"&&e!=="arguments")){let t=i[e];(gU(t)||J2(t))&&!Object.isFrozen(t)&&X2(t)}}),i}function zye(i,n){return function(e,t){if(n.action(t)){let o=Q2(t);sU(o,"action")}let r=i(e,t);if(n.state()){let o=Q2(r);sU(o,"state")}return r}}function Q2(i,n=[]){return(nU(i)||rU(i))&&n.length===0?{path:["root"],value:i}:Object.keys(i).reduce((t,r)=>{if(t)return t;let o=i[r];return Oye(o)?t:nU(o)||rU(o)||Eye(o)||Aye(o)||Sye(o)||mU(o)?!1:Tye(o)?Q2(o,[...n,r]):{path:[...n,r],value:o}},!1)}function sU(i,n){if(i===!1)return;let e=i.path.join("."),t=new Error(`Detected unserializable ${n} at "${e}". ${nO}#strict${n}serializability`);throw t.value=i.value,t.unserializablePath=e,t}function Wye(i,n){return function(e,t){if(n.action(t)&&!xt.isInAngularZone())throw new Error(`Action '${t.type}' running outside NgZone. ${nO}#strictactionwithinngzone`);return i(e,t)}}function Kye(i){return Pg()?re({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},i):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function $ye({strictActionSerializability:i,strictStateSerializability:n}){return e=>i||n?zye(e,{action:t=>i&&!rO(t),state:()=>n}):e}function qye({strictActionImmutability:i,strictStateImmutability:n}){return e=>i||n?Gye(e,{action:t=>i&&!rO(t),state:()=>n}):e}function rO(i){return i.type.startsWith("@ngrx")}function Yye({strictActionWithinNgZone:i}){return n=>i?Wye(n,{action:e=>i&&!rO(e)}):n}function Jye(i){return[{provide:tU,useValue:i},{provide:eU,useFactory:Xye,deps:[tU]},{provide:M_,deps:[eU],useFactory:Kye},{provide:Ib,multi:!0,deps:[M_],useFactory:qye},{provide:Ib,multi:!0,deps:[M_],useFactory:$ye},{provide:Ib,multi:!0,deps:[M_],useFactory:Yye}]}function yU(){return[{provide:eO,multi:!0,deps:[M_],useFactory:Qye}]}function Xye(i){return i}function Qye(i){if(!i.strictActionTypeUniqueness)return;let n=Object.entries(Y2).filter(([,e])=>e>1).map(([e])=>e);if(n.length)throw new Error(`Action types are registered more than once, ${n.map(e=>`"${e}"`).join(", ")}. ${nO}#strictactiontypeuniqueness`)}function Zye(i={},n={}){return[{provide:lU,useFactory:Hye},{provide:K6,useValue:n.initialState},{provide:Z2,useFactory:CU,deps:[K6]},{provide:$2,useValue:i},{provide:Y6,useExisting:i instanceof He?i:$2},{provide:dU,deps:[$2,[new bE(Y6)]],useFactory:Vye},{provide:Q6,useValue:n.metaReducers?n.metaReducers:[]},{provide:Z6,deps:[Ib,Q6],useFactory:jye},{provide:$6,useValue:n.reducerFactory?n.reducerFactory:tO},{provide:cU,deps:[$6,Z6],useFactory:fU},mye,yye,Iye,bye,wye,Jye(n.runtimeChecks),yU()]}function eIe(i,n,e={}){return[{provide:J6,multi:!0,useValue:i instanceof Object?{}:e},{provide:q6,multi:!0,useValue:{key:i instanceof Object?i.name:i,reducerFactory:!(e instanceof He)&&e.reducerFactory?e.reducerFactory:tO,metaReducers:!(e instanceof He)&&e.metaReducers?e.metaReducers:[],initialState:!(e instanceof He)&&e.initialState?e.initialState:void 0}},{provide:uU,deps:[J6,q6],useFactory:Bye},{provide:q2,multi:!0,useValue:i instanceof Object?i.reducer:n},{provide:X6,multi:!0,useExisting:n instanceof He?n:q2},{provide:pU,multi:!0,deps:[q2,[new bE(X6)]],useFactory:Uye},yU()]}var IU=(()=>{class i{constructor(e,t,r,o,s,a){}static{this.\u0275fac=function(t){return new(t||i)(ce(im),ce(N_),ce(iO),ce(rt),ce(lU,8),ce(eO,8))}}static{this.\u0275mod=Oe({type:i})}static{this.\u0275inj=Te({})}}return i})(),tIe=(()=>{class i{constructor(e,t,r,o,s){this.features=e,this.featureReducers=t,this.reducerManager=r;let a=e.map((l,c)=>{let p=t.shift()[c];return Pe(re({},l),{reducers:p,initialState:CU(l.initialState)})});r.addFeatures(a)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}static{this.\u0275fac=function(t){return new(t||i)(ce(uU),ce(pU),ce(bb),ce(IU),ce(eO,8))}}static{this.\u0275mod=Oe({type:i})}static{this.\u0275inj=Te({})}}return i})(),cIt=(()=>{class i{static forRoot(e,t){return{ngModule:IU,providers:[...Zye(e,t)]}}static forFeature(e,t,r={}){return{ngModule:tIe,providers:[...eIe(e,t,r)]}}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=Oe({type:i})}static{this.\u0275inj=Te({})}}return i})();function Zc(...i){let n=i.pop(),e=i.map(t=>t.type);return{reducer:n,types:e}}function vU(i,...n){let e=new Map;for(let t of n)for(let r of t.types){let o=e.get(r);if(o){let s=(a,l)=>t.reducer(o(a,l),l);e.set(r,s)}else e.set(r,t.reducer)}return function(t=i,r){let o=e.get(r.type);return o?o(t,r):t}}var bU=Cu("ui"),pIt=vr(bU,i=>i.blockUi),Ns=vr(bU,i=>i.theme);var V_={};Rd(V_,{selectItemToSelect:()=>nIe,selectItemUpdateFwStatus:()=>rIe,selectTreeState:()=>oO});var oO=Cu("tree"),nIe=vr(oO,i=>i.itemToSelect),rIe=vr(oO,i=>i.updateFwStatus);var ec={};Rd(ec,{selectDialogState:()=>U_,selectDialogUuidsToReload:()=>RIe,selectLastDialogId:()=>TIe,selectMinimizedDialogs:()=>OIe,selectMinimizedDialogsIds:()=>EU,selectVisibleDialogs:()=>DIe,selectVisibleDialogsIds:()=>xU});function oIe(){return{ids:[],entities:{}}}function sIe(){function i(n={}){return Object.assign(oIe(),n)}return{getInitialState:i}}function aIe(){function i(n){let e=s=>s.ids,t=s=>s.entities,r=vr(e,t,(s,a)=>s.map(l=>a[l])),o=vr(e,s=>s.length);return n?{selectIds:vr(n,e),selectEntities:vr(n,t),selectAll:vr(n,r),selectTotal:vr(n,o)}:{selectIds:e,selectEntities:t,selectAll:r,selectTotal:o}}return{getSelectors:i}}var ui=function(i){return i[i.EntitiesOnly=0]="EntitiesOnly",i[i.Both=1]="Both",i[i.None=2]="None",i}(ui||{});function br(i){return function(e,t){let r={ids:[...t.ids],entities:re({},t.entities)},o=i(e,r);return o===ui.Both?Object.assign({},t,r):o===ui.EntitiesOnly?Pe(re({},t),{entities:r.entities}):t}}function ed(i,n){let e=n(i);return Pg()&&e===void 0&&console.warn("@ngrx/entity: The entity passed to the `selectId` implementation returned undefined.","You should probably provide your own `selectId` implementation.","The entity that was passed:",i,"The `selectId` implementation:",n.toString()),e}function wU(i){function n(w,E){let T=ed(w,i);return T in E.entities?ui.None:(E.ids.push(T),E.entities[T]=w,ui.Both)}function e(w,E){let T=!1;for(let F of w)T=n(F,E)!==ui.None||T;return T?ui.Both:ui.None}function t(w,E){return E.ids=[],E.entities={},e(w,E),ui.Both}function r(w,E){let T=ed(w,i);return T in E.entities?(E.entities[T]=w,ui.EntitiesOnly):(E.ids.push(T),E.entities[T]=w,ui.Both)}function o(w,E){let T=w.map(F=>r(F,E));switch(!0){case T.some(F=>F===ui.Both):return ui.Both;case T.some(F=>F===ui.EntitiesOnly):return ui.EntitiesOnly;default:return ui.None}}function s(w,E){return a([w],E)}function a(w,E){let F=(w instanceof Array?w:E.ids.filter(G=>w(E.entities[G]))).filter(G=>G in E.entities).map(G=>delete E.entities[G]).length>0;return F&&(E.ids=E.ids.filter(G=>G in E.entities)),F?ui.Both:ui.None}function l(w){return Object.assign({},w,{ids:[],entities:{}})}function c(w,E,T){let F=T.entities[E.id],G=Object.assign({},F,E.changes),z=ed(G,i),X=z!==E.id;return X&&(w[E.id]=z,delete T.entities[E.id]),T.entities[z]=G,X}function d(w,E){return p([w],E)}function p(w,E){let T={};return w=w.filter(G=>G.id in E.entities),w.length>0?w.filter(z=>c(T,z,E)).length>0?(E.ids=E.ids.map(z=>T[z]||z),ui.Both):ui.EntitiesOnly:ui.None}function g(w,E){let F=E.ids.reduce((G,z)=>{let X=w(E.entities[z]);return X!==E.entities[z]&&G.push({id:z,changes:X}),G},[]).filter(({id:G})=>G in E.entities);return p(F,E)}function C({map:w,id:E},T){let F=T.entities[E];if(!F)return ui.None;let G=w(F);return d({id:E,changes:G},T)}function y(w,E){return v([w],E)}function v(w,E){let T=[],F=[];for(let X of w){let ne=ed(X,i);ne in E.entities?F.push({id:ne,changes:X}):T.push(X)}let G=p(F,E),z=e(T,E);switch(!0){case(z===ui.None&&G===ui.None):return ui.None;case(z===ui.Both||G===ui.Both):return ui.Both;default:return ui.EntitiesOnly}}return{removeAll:l,addOne:br(n),addMany:br(e),setAll:br(t),setOne:br(r),setMany:br(o),updateOne:br(d),updateMany:br(p),upsertOne:br(y),upsertMany:br(v),removeOne:br(s),removeMany:br(a),map:br(g),mapOne:br(C)}}function lIe(i,n){let{removeOne:e,removeMany:t,removeAll:r}=wU(i);function o(T,F){return s([T],F)}function s(T,F){let G=T.filter(z=>!(ed(z,i)in F.entities));return G.length===0?ui.None:(E(G,F),ui.Both)}function a(T,F){return F.entities={},F.ids=[],s(T,F),ui.Both}function l(T,F){let G=ed(T,i);return G in F.entities?(F.ids=F.ids.filter(z=>z!==G),E([T],F),ui.Both):o(T,F)}function c(T,F){let G=T.map(z=>l(z,F));switch(!0){case G.some(z=>z===ui.Both):return ui.Both;case G.some(z=>z===ui.EntitiesOnly):return ui.EntitiesOnly;default:return ui.None}}function d(T,F){return g([T],F)}function p(T,F,G){if(!(F.id in G.entities))return!1;let z=G.entities[F.id],X=Object.assign({},z,F.changes),ne=ed(X,i);return delete G.entities[F.id],T.push(X),ne!==F.id}function g(T,F){let G=[],z=T.filter(X=>p(G,X,F)).length>0;if(G.length===0)return ui.None;{let X=F.ids,ne=[];return F.ids=F.ids.filter((Y,se)=>Y in F.entities?!0:(ne.push(se),!1)),E(G,F),!z&&ne.every(Y=>F.ids[Y]===X[Y])?ui.EntitiesOnly:ui.Both}}function C(T,F){let G=F.ids.reduce((z,X)=>{let ne=T(F.entities[X]);return ne!==F.entities[X]&&z.push({id:X,changes:ne}),z},[]);return g(G,F)}function y({map:T,id:F},G){let z=G.entities[F];if(!z)return ui.None;let X=T(z);return d({id:F,changes:X},G)}function v(T,F){return w([T],F)}function w(T,F){let G=[],z=[];for(let Y of T){let se=ed(Y,i);se in F.entities?z.push({id:se,changes:Y}):G.push(Y)}let X=g(z,F),ne=s(G,F);switch(!0){case(ne===ui.None&&X===ui.None):return ui.None;case(ne===ui.Both||X===ui.Both):return ui.Both;default:return ui.EntitiesOnly}}function E(T,F){T.sort(n);let G=[],z=0,X=0;for(;z<T.length&&X<F.ids.length;){let ne=T[z],Y=ed(ne,i),se=F.ids[X],ye=F.entities[se];n(ne,ye)<=0?(G.push(Y),z++):(G.push(se),X++)}z<T.length?F.ids=G.concat(T.slice(z).map(i)):F.ids=G.concat(F.ids.slice(X)),T.forEach((ne,Y)=>{F.entities[i(ne)]=ne})}return{removeOne:e,removeMany:t,removeAll:r,addOne:br(o),updateOne:br(d),upsertOne:br(v),setAll:br(a),setOne:br(l),setMany:br(c),addMany:br(s),updateMany:br(g),upsertMany:br(w),map:br(C),mapOne:br(y)}}function SU(i={}){let{selectId:n,sortComparer:e}={selectId:i.selectId??(s=>s.id),sortComparer:i.sortComparer??!1},t=sIe(),r=aIe(),o=e?lIe(n,e):wU(n);return re(re(re({selectId:n,sortComparer:e},t),r),o)}var Ei={};Rd(Ei,{requestBlockUI:()=>cIe,requestUnblockUI:()=>dIe,setTheme:()=>uIe});var cIe=$r("[UI] Block UI"),dIe=$r("[UI] Unblock UI"),uIe=$r("[UI] Change theme",Go());var Nr={};Rd(Nr,{reloadTree:()=>hIe,selectTreeItem:()=>pIe,updateFwStatus:()=>fIe});var pIe=$r("[Tree] Select item",Go()),hIe=$r("[Tree] Reload tree",Go()),fIe=$r("[Tree] Update firewall status",Go());var gn={};Rd(gn,{addDialog:()=>mIe,hideDialog:()=>CIe,minimizeDialog:()=>gIe,reloadDialog:()=>vIe,reloadDialogFinished:()=>bIe,removeDialog:()=>IIe,removeMinimizedDialogs:()=>yIe,restoreDialog:()=>_Ie});var mIe=$r("[Dialog] Add new dialog",Go()),gIe=$r("[Dialog] Minimize dialog",Go()),_Ie=$r("[Dialog] Restore dialog",Go()),CIe=$r("[Dialog] Hide dialog",Go()),yIe=$r("[Dialog] Remove minimized dialogs"),IIe=$r("[Dialog] Remove dialog",Go()),vIe=$r("[Dialog] Reload dialog",Go()),bIe=$r("[Dialog] Dialog reloaded",Go());var AU={};Rd(AU,{loadPolicyTypes:()=>SIe,policyTypesLoaded:()=>AIe,reloadPolicy:()=>wIe});var wIe=$r("[Policy] Reload policy",Go()),SIe=$r("[Policy] Load policy types"),AIe=$r("[Policy] Policy types loaded",Go());var B_=SU({selectId:i=>i.dialogId}),EIe=B_.getInitialState({minimizedDialogIds:[],visibleDialogIds:[],dialogsToReloadUuids:[]}),xIe=vU(EIe,Zc(gn.addDialog,(i,{dialog:n})=>B_.addOne(n,re({},i))),Zc(gn.removeMinimizedDialogs,i=>Pe(re({},i),{minimizedDialogIds:[]})),Zc(gn.minimizeDialog,(i,n)=>Pe(re({},i),{minimizedDialogIds:[...i.minimizedDialogIds,n.dialogId],visibleDialogIds:i.visibleDialogIds.filter(e=>e!==n.dialogId)})),Zc(gn.restoreDialog,(i,n)=>Pe(re({},i),{minimizedDialogIds:i.minimizedDialogIds.filter(e=>e!==n.dialogId),visibleDialogIds:[...i.visibleDialogIds,n.dialogId]})),Zc(gn.hideDialog,(i,n)=>Pe(re({},i),{minimizedDialogIds:i.minimizedDialogIds.filter(e=>e!==n.dialogId),visibleDialogIds:i.visibleDialogIds.filter(e=>e!==n.dialogId)})),Zc(gn.removeDialog,(i,n)=>B_.removeOne(n.dialogId,Pe(re({},i),{minimizedDialogIds:i.minimizedDialogIds.filter(e=>e!==n.dialogId),visibleDialogIds:i.visibleDialogIds.filter(e=>e!==n.dialogId)}))),Zc(gn.reloadDialog,(i,n)=>Pe(re({},i),{dialogsToReloadUuids:n.dialogUuids})),Zc(gn.reloadDialogFinished,(i,n)=>Pe(re({},i),{dialogsToReloadUuids:null})));function EIt(i,n){return xIe(i,n)}var U_=Cu("dialog"),sO=B_.getSelectors(U_),TIe=vr(sO.selectIds,i=>{let n=0;if(Array.isArray(i)){let e=Math.max(...i);e>n&&(n=e)}return n}),EU=vr(U_,i=>i.minimizedDialogIds),OIe=vr(sO.selectAll,EU,(i,n)=>i.filter(e=>n.includes(e.dialogId))),xU=vr(U_,i=>i.visibleDialogIds),DIe=vr(sO.selectAll,xU,(i,n)=>i.filter(e=>n.includes(e.dialogId))),RIe=vr(U_,i=>i.dialogsToReloadUuids);var Sb={};Rd(Sb,{selectPolicyLoaded:()=>PIe,selectPolicyState:()=>aO,selectPolicyTypes:()=>kIe});var aO=Cu("policy"),PIe=vr(aO,i=>i.loadedPolicy),kIe=vr(aO,i=>i.policyTypes);var Pn=(()=>{class i extends Mi{constructor(e,t){super(e),this.httpClient=e,this.store=t,this.fwcPolicy=[],this.subjectSelectedPolicy=new Re,this.subjectReloadPolicy=new Re,this.alive=!0,this.endpoint=`${ge.settings.fwcAppURL}/policy`,this.store.pipe(kt(()=>this.alive),zn(Sb.selectPolicyTypes)).subscribe(r=>{this.fwcPolicyTypes=r})}ngOnDestroy(){this.alive=!1}setSelectedPolicy(e){if(!e)return;let t=Object.assign({},e),r="",o="";if(this.selectedPolicy&&(o=this.selectedPolicy._fwcFwName),e._fwcFwName&&(o=e._fwcFwName),Array.isArray(this.fwcPolicyTypes)){for(let s=0;s<this.fwcPolicyTypes.length;s++)this.fwcPolicyTypes[s].id==e._fwcPolicyType&&(r=this.fwcPolicyTypes[s].name);t._fwcFwId=e._fwcFwId,t._fwcFwName=o,t._fwcPolicyType=e._fwcPolicyType,t._fwcPolicyName=r||e._fwcPolicyName,t._fwcPolicyIPVersion=uV[e._fwcPolicyType],this.selectedPolicy=t,this.subjectSelectedPolicy.next(t)}else ge.log("There are no policy types")}getSelectedPolicy(){return this.subjectSelectedPolicy.asObservable()}getActualSelectedPolicy(){return this.selectedPolicy}getPolicy(e,t,r,o){let s=o?"rule/type/grouped/get":"rule/type/get",a=`${this.endpoint}/${s}`,l={fwcloud:r,firewall:e,type:t};return this.httpClient.put(a,JSON.stringify(l)).pipe(W(c=>this.handleAPIResponse(c)),W(c=>this.extractPolicyData(c)),Z(c=>this.handleAPIError(c)))}getPolicyRulesInGroup(e,t,r,o){let s=`${this.endpoint}/rule/type/ingroup/get`,a={fwcloud:r,firewall:e,type:t,idgroup:o};return this.httpClient.put(s,JSON.stringify(a)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}getActualPolicy(){return this.fwcPolicy}getActualPolicySequential(){return this.fwcPolicySequential}setActualPolicy(e){if(e){this.fwcPolicy=e,this.fwcPolicySequential=[];for(let t=0;t<this.fwcPolicy.length;t++){let r=this.fwcPolicy[t];if(r.rule_group)for(let o=0;o<r.rules.length;o++){let s=r.rules[o];this.fwcPolicySequential.push(s)}else this.fwcPolicySequential.push(r)}}else this.fwcPolicy=[],this.fwcPolicySequential=[]}reloadPolicy(){return this.subjectReloadPolicy.next(!0),this.subjectReloadPolicy.asObservable()}newPolicyRule(e){let t=`${this.endpoint}/rule`;return this.httpClient.post(t,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}updatePolicyRule(e){let t=`${this.endpoint}/rule`;return this.httpClient.put(t,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}updatePolicyRuleAsObject(e){let t=`${this.endpoint}/rule`;return this.httpClient.put(t,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}deletePolicyRules(e,t,r){let o=`${this.endpoint}/rule/del`,s={fwcloud:r,firewall:e,rulesIds:t};return this.httpClient.put(o,JSON.stringify(s)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}updatePolicyRulesActive(e){let t=`${this.endpoint}/rule/active`;return this.httpClient.put(t,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}updatePolicyRulesStyle(e){let t=`${this.endpoint}/rule/style`;return this.httpClient.put(t,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}updatePolicyObject(e,t){let r,o;return t=="O"?e.prefix!==void 0&&e.prefix!==null?o="prefix":e.openvpn!==void 0&&e.openvpn!==null?o="openvpn":o="ipobj":o="interface",e.rule==e.new_rule&&e.position==e.new_position?r=`${this.endpoint}/${o}/order`:r=`${this.endpoint}/${o}/move`,this.httpClient.put(r,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}negatePolicyObject(e,t){let r;if(e)return t?r=`${this.endpoint}/rule/position/negate`:r=`${this.endpoint}/rule/position/allow`,this.httpClient.put(r,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}newPolicyObject(e,t){let r;return t=="O"?e.prefix?r=`${this.endpoint}/prefix`:e.openvpn?r=`${this.endpoint}/openvpn`:r=`${this.endpoint}/ipobj`:r=`${this.endpoint}/interface`,this.httpClient.post(r,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}deletePolicyObject(e,t){let r,o;return t=="O"?(e.prefix!==void 0&&e.prefix!==null?o="prefix":e.openvpn!==void 0&&e.openvpn!==null?o="openvpn":o="ipobj",r=`${this.endpoint}/${o}/del`):r=`${this.endpoint}/interface/del`,this.httpClient.put(r,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}getPolicyTypes(){let e=`${this.endpoint}/types`;return this.httpClient.get(e).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}managePolicyRules(e,t){let r=`${this.endpoint}/rule/copy`,o=`${this.endpoint}/rule/move`,s,a=Object.assign({},e);return t==ur.COPY?s=r:t==ur.CUT&&(s=o),delete a.action,delete a.idgroup,delete a.rulesOrder,delete a.pasteOnRuleOrder,this.httpClient.put(s,JSON.stringify(a)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}newPolicyRulesGroup(e){let t=`${this.endpoint}/group`;return this.httpClient.post(t,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}updatePolicyRulesGroup(e){let t=`${this.endpoint}/group`;return this.httpClient.put(t,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}updatePolicyRulesGroupStyleOrName(e,t){let r,o={fwcloud:e.fwcloud,firewall:e.firewall};return t?(r=`${this.endpoint}/group/style`,o.style=e.style,o.groupIds=e.groupIds):(r=`${this.endpoint}/group/name`,o.id=e.id,o.name=e.name),this.httpClient.put(r,JSON.stringify(o)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}deletePolicyRulesGroup(e,t,r){let o=`${this.endpoint}/group/del`,s={fwcloud:r,firewall:e,id:t};return this.httpClient.put(o,JSON.stringify(s)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}deletePolicyRulesGroupRuleFromGroup(e){let t=`${this.endpoint}/group/rules/del`,r={fwcloud:e.fwcloud,firewall:e.firewall,id:e.idgroup,rulesIds:e.rulesIds};return this.httpClient.put(t,r).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}setSelectedRule(e){ge.log("Inside policy component: ",e)}getPolicyRule(e,t,r,o){let s=`${this.endpoint}/rule/get`,a={fwcloud:o,firewall:e,type:t,rule:r};return this.httpClient.put(s,JSON.stringify(a)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}getPolicyRules(e,t){let r=`${ge.settings.fwcAppURL}/fwclouds/${e}/firewalls/${t}/policyRules/read`;return this.httpClient.get(r).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIError))}getPolicyRuleFull(e,t,r,o){let s=`${this.endpoint}/rule/full/get`,a={fwcloud:o,firewall:e,type:t,rule:r};return this.httpClient.put(s,JSON.stringify(a)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}getPolicyRuleCompilation(e,t,r,o){let s=`${this.endpoint}/compile/rule`,a={fwcloud:o,firewall:e,type:t,rule:r};return this.httpClient.put(s,JSON.stringify(a)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}getPolicyRulesCompilation(e,t,r,o,s){let a=`${this.endpoint}/compile/rule`,l={fwcloud:o,firewall:e,type:t,rules:r,compiler:s};return this.httpClient.put(a,JSON.stringify(l)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}compileFirewall(e,t,r){let o=`${ge.settings.fwcAppURL}/policy/compile?channel_id=${r}`,s={fwcloud:t,firewall:e};return this.httpClient.put(o,s).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}installFirewall(e,t,r,o,s){let a=`${ge.settings.fwcAppURL}/policy/install?channel_id=${s}`,l={fwcloud:t,firewall:e,sshuser:r,sshpass:o};return this.httpClient.post(a,l).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}generatePolicyScript(e,t){let r=`${ge.settings.fwcAppURL}/fwclouds/${e}/firewalls/${t}/policyRules/download`;return this.httpClient.post(r,null,{observe:"response",responseType:"blob"}).pipe(Z(this.handleAPIError))}extractPolicyData(e){return this.fwcPolicy=e.data,e||{}}static{this.\u0275fac=function(t){return new(t||i)(ce(Yt),ce(rt))}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac})}}return i})();var Ab=(()=>{class i extends Mi{constructor(e){super(e),this.httpClient=e,this.endpoint=`${ge.settings.fwcAppURL}/policy/positions`}getPositions(e){let t={type:e},r=`${this.endpoint}/get`;return this.httpClient.put(r,JSON.stringify(t)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}getAllPositions(){let e=`${this.endpoint}/all/get`;return this.httpClient.put(e,{}).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}getTypesPositions(){let e=`${ge.settings.fwcAppURL}/ipobj/positions/policy`;return this.httpClient.get(e).pipe(W(this.handleAPIResponse),W(this.addSpecialPolicyTypesPositions),Z(this.handleAPIError))}addSpecialPolicyTypesPositions(e){return Array.isArray(e.data)&&(e.data=[...e.data,{type:L.OBJ_ADDRESS,position:Ui.GATEWAY_POSITION},{type:L.OBJ_INTERFACE_FIREWALL,position:Ui.INTERFACE_POSITION},{type:L.OBJ_ADDRESS,position:Ui.TO_POSITION},{type:L.OBJ_ADDRESS_RANGE,position:Ui.TO_POSITION},{type:L.OBJ_NETWORK,position:Ui.TO_POSITION},{type:L.OBJ_HOST,position:Ui.TO_POSITION},{type:L.OBJ_DNS,position:Ui.TO_POSITION},{type:L.OBJ_GROUP,position:Ui.TO_POSITION},{type:L.OBJ_VPN_CONFIG_CLI,position:Ui.TO_POSITION},{type:L.OBJ_OPENVPN_PREFIX,position:Ui.TO_POSITION},{type:L.OBJ_ADDRESS,position:is.FROM_POSITION},{type:L.OBJ_ADDRESS_RANGE,position:is.FROM_POSITION},{type:L.OBJ_NETWORK,position:is.FROM_POSITION},{type:L.OBJ_HOST,position:is.FROM_POSITION},{type:L.OBJ_DNS,position:is.FROM_POSITION},{type:L.OBJ_GROUP,position:is.FROM_POSITION},{type:L.OBJ_VPN_CONFIG_CLI,position:is.FROM_POSITION},{type:L.OBJ_OPENVPN_PREFIX,position:is.FROM_POSITION},{type:L.OBJ_MARK,position:is.FROM_POSITION},{type:L.OBJ_NETWORK,position:ns.NETWORK},{type:L.OBJ_ADDRESS_RANGE,position:ns.RANGE},{type:L.OBJ_ADDRESS,position:ns.ROUTER},{type:L.OBJ_ADDRESS,position:ns.DNS},{type:L.OBJ_INTERFACE_FIREWALL,position:ns.INTERFACE},{type:L.OBJ_INTERFACE_HOST,position:ns.INTERFACE},{type:L.OBJ_ADDRESS,position:ns.IP},{type:L.OBJ_ADDRESS,position:Kc.VIRTUAL_IPS},{type:L.OBJ_INTERFACE_FIREWALL,position:Kc.INTERFACE},{type:L.OBJ_FIREWALL,position:Kc.MASTER_NODE},{type:L.OBJ_ADDRESS,position:fa.FRONTEND_IP},{type:L.OBJ_SERVICE_TCP,position:fa.FRONTEND_PORT},{type:L.OBJ_SERVICE_UDP,position:fa.FRONTEND_PORT},{type:L.OBJ_ADDRESS,position:fa.BACKEND_IPS},{type:L.OBJ_SERVICE_TCP,position:fa.BACKEND_PORT},{type:L.OBJ_SERVICE_UDP,position:fa.BACKEND_PORT}]),e}static{this.\u0275fac=function(t){return new(t||i)(ce(Yt))}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac})}}return i})();var yu=(()=>{class i extends Mi{constructor(e){super(e),this.httpClient=e}getRoutingPolicy(e,t){let r=`${ge.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/routingRules`;return this.httpClient.get(r).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIErrorNew))}getRoutingPolicyGrid(e,t){let r=`${ge.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/routingRules/grid`;return this.httpClient.get(r).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIErrorNew))}newRoutingPolicyRule(e,t,r){let o=`${ge.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/routingRules`;return this.httpClient.post(o,r).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIErrorNew))}updateRoutingPolicyRule(e,t,r,o){let s=`${ge.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/routingRules/${r}`;return this.httpClient.put(s,o).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIErrorNew))}moveObjectBetweenFromPositions(e,t,r){let o=`${ge.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/routingRules/moveFrom`;return this.httpClient.put(o,r).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIErrorNew))}updateRoutingPolicyRules(e,t,r,o){let s=r.map(c=>`rules[]=${c}`).join("&"),a=`${ge.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/routingRules/bulkUpdate?${s}`,l={active:o.active,style:o.style,routingGroupId:o.routingGroupId};return this.httpClient.put(a,l).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIErrorNew))}deleteRoutingPolicyRule(e,t,r){let o=`${ge.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/routingRules/${r}`;return this.httpClient.delete(o).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIErrorNew))}deleteRoutingPolicyRules(e,t,r){let o=r.map(a=>`rules[]=${a}`).join("&"),s=`${ge.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/routingRules/bulkRemove?${o}`;return this.httpClient.delete(s).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIErrorNew))}manageRoutingPolicyRules(e,t,r,o,s,a){let l="copy",c=this.httpClient.post,d=o<0?"above":"below";a===ur.CUT&&(l="move",c=this.httpClient.put);let p=`${ge.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/routingRules/${l}`,g={to:r,offset:d,rules:s};return c.call(this.httpClient,p,g).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIErrorNew))}compileRoutingPolicyRules(e,t,r){let o=r.map(a=>`rules[]=${a}`).join("&"),s=`${ge.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/routingRules/compile?${o}`;return this.httpClient.get(s).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIErrorNew))}newRoutingPolicyRuleGroup(e,t,r,o,s){let a=`${ge.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/routingGroups`,l={name:r,comment:o,routingRules:s};return this.httpClient.post(a,l).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIErrorNew))}updateRoutingPolicyRuleGroup(e,t,r,o){let s=`${ge.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/routingGroups/${r}`;return this.httpClient.put(s,o).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIErrorNew))}deleteRoutingPolicyRulesGroup(e,t,r){let o=`${ge.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/routingGroups/${r}`;return this.httpClient.delete(o).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIErrorNew))}static{this.\u0275fac=function(t){return new(t||i)(ce(Yt))}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac})}}return i})();var rs=(()=>{class i extends Mi{constructor(e){super(e),this.httpClient=e}getRoutingTables(e,t){let r=`${ge.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/routingTables`;return this.httpClient.get(r).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIErrorNew))}getRoutingTable(e,t,r){let o=`${ge.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/routingTables/${r}`;return this.httpClient.get(o).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIErrorNew))}getRoutingTableRoutesGrid(e,t,r){let o=`${ge.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/routingTables/${r}/grid`;return this.httpClient.get(o).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIErrorNew))}newRoutingTable(e,t,r,o,s){let a=`${ge.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/routingTables`;return this.httpClient.post(a,{number:r,name:o,comment:s}).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIErrorNew))}updateRoutingTable(e,t,r,o,s,a){let l=`${ge.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/routingTables/${r}`;return this.httpClient.put(l,{number:o,name:s,comment:a}).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIErrorNew))}deleteRoutingTable(e){let{fwcloud:t,firewall:r,id:o}=e,s=`${ge.settings.fwcAppURL}/fwclouds/${t}/firewalls/${r}/routingTables/${o}`;return this.httpClient.delete(s).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIErrorNew))}checkTableRestrictions(e){let{fwcloud:t,firewall:r,id:o}=e,s=`${ge.settings.fwcAppURL}/fwclouds/${t}/firewalls/${r}/routingTables/${o}/restricted`;return this.httpClient.get(s).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIErrorNew))}newRoutingTableRoute(e,t,r,o,s,a,l){let c=`${ge.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/routingTables/${r}/routes`,d=l<0?"above":"below";return this.httpClient.post(c,{gatewayId:o,to:a,offset:d,comment:s}).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIErrorNew))}updateRoutingTableRoute(e,t,r,o,s){let a=`${ge.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/routingTables/${r}/routes/${o}`;return this.httpClient.put(a,s).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIErrorNew))}moveObjectInRoutes(e,t,r,o,s){let a;switch(o){case Ui.TO_POSITION:a=`${ge.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/routingTables/${r}/routes/moveTo`;break;case Ui.GATEWAY_POSITION:a=`${ge.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/routingTables/${r}/routes/moveToGateway`;break;case Ui.INTERFACE_POSITION:a=`${ge.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/routingTables/${r}/routes/moveInterface`;break}return this.httpClient.put(a,s).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIErrorNew))}updateRoutingTableRoutes(e,t,r,o,s){let a=o.map(d=>`routes[]=${d}`).join("&"),l=`${ge.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/routingTables/${r}/routes/bulkUpdate?${a}`,c={active:s.active,style:s.style,routeGroupId:s.routeGroupId};return this.httpClient.put(l,c).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIErrorNew))}deleteRoutingTableRoutes(e,t,r,o){let s=o.map(l=>`routes[]=${l}`).join("&"),a=`${ge.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/routingTables/${r}/routes/bulkRemove?${s}`;return this.httpClient.delete(a).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIErrorNew))}compileRoutingTableRoutes(e,t,r,o){let s=o.map(l=>`routes[]=${l}`).join("&"),a=`${ge.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/routingTables/${r}/routes/compile?${s}`;return this.httpClient.get(a).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIErrorNew))}manageTableRoutes(e,t,r,o,s,a,l){let c="copy",d=this.httpClient.post;l===ur.CUT&&(c="move",d=this.httpClient.put);let p=s<0?"above":"below",g=`${ge.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/routingTables/${r}/routes/${c}`,C={to:o,offset:p,routes:a};return d.call(this.httpClient,g,C).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIErrorNew))}newRoutingTableRouteGroup(e,t,r,o,s){let a=`${ge.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/routeGroups`,l={name:r,comment:o,routes:s};return this.httpClient.post(a,l).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIErrorNew))}updateRoutingTableRouteGroup(e,t,r,o){let s=`${ge.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/routeGroups/${r}`;return this.httpClient.put(s,o).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIErrorNew))}deleteRoutingTableRouteGroup(e,t,r){let o=`${ge.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/routeGroups/${r}`;return this.httpClient.delete(o).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIErrorNew))}static{this.\u0275fac=function(t){return new(t||i)(ce(Yt))}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac})}}return i})();var Eb=(()=>{class i extends Mi{constructor(e){super(e),this.httpClient=e}getSnapshots(e){let t=`${ge.settings.fwcAppURL}/fwclouds/${e}/snapshots`;return this.httpClient.get(t).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIError))}createSnapshot(e,t,r){let o=`${ge.settings.fwcAppURL}/fwclouds/${e}/snapshots?channel_id=${t}`;return this.httpClient.post(o,r).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIError))}restoreSnapshot(e,t,r){let o=`${ge.settings.fwcAppURL}/fwclouds/${e}/snapshots/${t}/restore?channel_id=${r}`;return this.httpClient.post(o,{}).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIError))}deleteSnapshot(e,t){let r=`${ge.settings.fwcAppURL}/fwclouds/${e}/snapshots/${t}`;return this.httpClient.delete(r).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIError))}static{this.\u0275fac=function(t){return new(t||i)(ce(Yt))}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac})}}return i})();var os=(()=>{class i extends Mi{constructor(e){super(e),this.httpClient=e,this.endpoint=`${ge.settings.fwcAppURL}/vpn`}getCA(e){let t=`${this.endpoint}/pki/ca/get`;return this.httpClient.put(t,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}newCA(e){let t=`${this.endpoint}/pki/ca`;return this.httpClient.post(t,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}updateCA(e){let t=`${ge.settings.fwcAppURL}/fwclouds/${e.fwcloud}/cas/${e.id}`,r={comment:e.comment};return this.httpClient.put(t,JSON.stringify(r)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}updateCRT(e){let t=`${ge.settings.fwcAppURL}/fwclouds/${e.fwcloud}/cas/${e.ca}/crts/${e.id}`,r={comment:e.comment};return this.httpClient.put(t,JSON.stringify(r)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}deleteCA(e){let t=`${this.endpoint}/pki/ca/del`;return this.httpClient.put(t,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}checkCARestrictions(e){let t=`${this.endpoint}/pki/ca/restricted`;return this.httpClient.put(t,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}getCertificate(e){let t=`${this.endpoint}/pki/crt/get`;return this.httpClient.put(t,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}newCertificate(e){let t=`${this.endpoint}/pki/crt`;return this.httpClient.post(t,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}deleteCertificate(e){let t=`${this.endpoint}/pki/crt/del`;return this.httpClient.put(t,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}checkCertificateRestrictions(e){let t=`${this.endpoint}/pki/crt/restricted`;return this.httpClient.put(t,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}newPrefixFolder(e){let t=`${this.endpoint}/pki/prefix`;return this.httpClient.post(t,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}editPrefixFolder(e){let t=`${this.endpoint}/pki/prefix`;return this.httpClient.put(t,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}deletePrefixFolder(e){let t=`${this.endpoint}/pki/prefix/del`;return this.httpClient.put(t,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}checkPrefixFolderRestrictions(e){return wt({data:{},status:200})}newOpenVPNPrefix(e){let t=`${this.endpoint}/openvpn/prefix`;return this.httpClient.post(t,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}editOpenVPNPrefix(e){let t=`${this.endpoint}/openvpn/prefix`;return this.httpClient.put(t,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}deleteOpenVPNPrefix(e){let t=`${this.endpoint}/openvpn/prefix/del`;return this.httpClient.put(t,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}checkOpenVPNPrefixRestrictions(e){let t=`${this.endpoint}/openvpn/prefix/restricted`;return this.httpClient.put(t,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}getOpenVPNPrefixInfo(e){let t=`${this.endpoint}/openvpn/prefix/info/get`;return this.httpClient.put(t,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}getOpenVPNWhereUsed(e){let t=`${this.endpoint}/openvpn/prefix/where`;return this.httpClient.put(t,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}getConfig(e){let t=`${this.endpoint}/openvpn/get`;return this.httpClient.put(t,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}deleteConfig(e){let t=`${this.endpoint}/openvpn/del`;return this.httpClient.put(t,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}newConfig(e){let t=`${this.endpoint}/openvpn`;return this.httpClient.post(t,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}updateConfig(e){let t=`${this.endpoint}/openvpn`;return this.httpClient.put(t,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}installConfig(e,t){let r=`${this.endpoint}/openvpn/install?channel_id=${e}`;return this.httpClient.put(r,JSON.stringify(t)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}uninstallConfig(e,t){let r=`${this.endpoint}/openvpn/uninstall?channel_id=${e}`;return this.httpClient.put(r,JSON.stringify(t)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}syncConfigCCD(e,t){let r=`${this.endpoint}/openvpn/ccdsync?channel_id=${e}`;return this.httpClient.put(r,JSON.stringify(t)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}syncConfigPendingCCD(e,t){return t.onlyPending=1,this.syncConfigCCD(e,t)}getConfigFile(e){let t=`${this.endpoint}/openvpn/file/get`;return this.httpClient.put(t,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}getVPNLanNextFreeIP(e){let t=`${this.endpoint}/openvpn/ip/get`;return this.httpClient.put(t,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}checkConfigRestrictions(e){let t=`${this.endpoint}/openvpn/restricted`;return this.httpClient.put(t,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}getConfigIPObjects(e){let t=`${this.endpoint}/openvpn/ipobj/get`;return this.httpClient.put(t,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}getConfigInfo(e){let t=`${this.endpoint}/openvpn/info/get`;return this.httpClient.put(t,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}getConfigWhereUsed(e){let t=`${this.endpoint}/openvpn/where`;return this.httpClient.put(t,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}getConfigStatus(e){let t=`${this.endpoint}/openvpn/status/get`;return this.httpClient.put(t,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}getConfigHistoricCall(e,t,r,o,s){let a=new $l;if(s)for(let c in s)s[c]&&(a=a.set(c,s[c]));let l=`${ge.settings.fwcAppURL}/fwclouds/${e}/firewalls/${t}/openvpns/${r}/${o}`;return a.toString()&&(l+=`?${a.toString()}`),this.httpClient.get(l).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIErrorNew))}getConfigHistoric(e,t,r,o){return this.getConfigHistoricCall(e,t,r,"history",o)}getConfigHistoricGraph(e,t,r,o){return this.getConfigHistoricCall(e,t,r,"graph",o)}getFirewallOVPNServers(e){let t=`${this.endpoint}/openvpn/firewall/get`;return this.httpClient.put(t,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}getCNExistsInCA(e){let t=`${this.endpoint}/pki/crt/exists`;return this.httpClient.put(t,JSON.stringify(e)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}doHistoric(e){let t=`${ge.settings.fwcAppURL}/openvpnarchives?channel_id=${e}`;return this.httpClient.post(t,{}).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIError))}getHistoricConfig(){let e=`${ge.settings.fwcAppURL}/openvpnarchives/config`;return this.httpClient.get(e).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIErrorNew))}saveHistoricConfig(e){let t=`${ge.settings.fwcAppURL}/openvpnarchives/config`;return this.httpClient.put(t,e).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}static{this.\u0275fac=function(t){return new(t||i)(ce(Yt))}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Ro=(()=>{class i{constructor(){this.subjectInputData=new Re}setInputData(e){this.subjectInputData.next(e)}getInputData(){return this.subjectInputData.asObservable()}getInputDataValue(e){let t={};if(e&&e.formControls)for(let r of e.formControls)r.value!==void 0&&(t[r.name]=r.value);return t}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var At=(()=>{class i{constructor(){this.focused=!1,this.item=void 0,this.subjectItem=new Re,this.subjectHideObjectPanel=new Re,this.subjectClipboardItem=new Re,this.subjectModifiedItem=new Re,this.subjectSearchItem=new Re,this.subjectObjectInfo=new Re,this.subjectMessage=new Re,this.subjectSelectedTreeNode=new Re,this.subjectFwcTreeComponents=new Cn(null),this.subjectCloudCompile=new Re,this.subjectFirewallPluginOperation=new Re,this.subjectClusterPluginOperation=new Re,this.subjectScrollTo=new Re,this.subjectLastMinifiedDialogId=new Re}setItem(e){this.item=e,this.subjectItem.next(e)}getItem(){return this.subjectItem.asObservable()}getActualItem(){return this.item}hideObjectPanel(){return this.subjectHideObjectPanel.next(!0),this.subjectHideObjectPanel.asObservable()}setClipboardItem(e,t){this.clipboardItem=e,this.clipboardItem.action=t,this.subjectClipboardItem.next(this.clipboardItem)}getClipboardItem(){return this.subjectClipboardItem.asObservable()}getActualClipboardItem(){return this.clipboardItem}clearClipboardItem(){this.clipboardItem=null,this.subjectClipboardItem.next(this.clipboardItem)}updateClipboardItem(e){this.clipboardItem&&e&&this.clipboardItem._fwcObjId==e._fwcObjId&&(this.clipboardItem._fwcObjName=e._fwcObjName),this.subjectClipboardItem.next(this.clipboardItem)}setDragItem(e){this.dragItem=e}getDragItem(){return this.dragItem}clearDragItem(){this.dragItem=null}setModifiedItem(e,t,r,o,s){e&&(t&&(e.deleteFromList=!0),r&&(e.addToList=!0),o&&(e.selectItemInPosition=!0),s&&(e.highlightItem=!0),this.modifiedItem=e,this.subjectModifiedItem.next(e))}getModifiedItem(){return this.subjectModifiedItem.asObservable()}setSearchItem(e){this.searchItem=e,this.subjectSearchItem.next(e)}getSearchItem(){return this.subjectSearchItem.asObservable()}getCloudToCompile(){return this.subjectCloudCompile.asObservable()}setCloudToCompile(e){this.subjectCloudCompile.next(e)}getFirewallToPluginOperation(){return this.subjectFirewallPluginOperation.asObservable()}setFirewallToPluginOperation(e){return this.subjectFirewallPluginOperation.next(e)}getClusterToPluginOperation(){return this.subjectClusterPluginOperation.asObservable()}setClusterToPluginOperation(e){return this.subjectClusterPluginOperation.next(e)}setObjectInfo(e,t){if(this.focused)return;let r,o=e?Object.assign({},e):void 0;t&&t.targetElement?r={obj:o,event:t.event,targetElement:t.targetElement}:r={obj:o,event:t||void 0},this.subjectObjectInfo.next(r)}getObjectInfo(){return this.subjectObjectInfo.asObservable()}setMessage(e){this.subjectMessage.next(e)}getMessage(){return this.subjectMessage.asObservable()}isFocused(){this.focused=!0}isBlur(){this.focused=!1,this.setObjectInfo(void 0,null)}setScrollToElement(e){this.subjectScrollTo.next(e)}getScrollToElement(){return this.subjectScrollTo.asObservable()}setLastMinifiedDialogId(e){this.lastMinifiedDialogId=e,this.subjectLastMinifiedDialogId.next(e)}getActualLastMinifiedDialogId(){return this.lastMinifiedDialogId}setFwcTreeComponents(e){this.subjectFwcTreeComponents.next(e)}getActualFwcTreeComponents(){return this.subjectFwcTreeComponents.getValue()}setSelectedTreeNode(e){this.subjectSelectedTreeNode.next(e)}getSelectedTreeNode(){return this.subjectSelectedTreeNode.asObservable()}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac})}}return i})();var Iu=(()=>{class i{constructor(){this.subjectRule=new Re,this.subjectSelectedRules=new Re,this.subjectSelectedRulesRange=new Re,this.subjectCompileSelectedRules=new Re,this.subjectModifiedRule=new Re,this.subjectClipboardRules=new Re,this.subjectRuleStatus=new Re,this.subjectRuleHeightRecalculate=new Re,this.selectedRules=[]}setRule(e){this.rule=e,this.subjectRule.next(e)}getRule(){return this.subjectRule.asObservable()}addSelectedRule(e){let t=this.selectedRules.push(e);return this.subjectSelectedRules.next(this.selectedRules),t}removeSelectedRule(e){for(let t=0;t<this.selectedRules.length;t++)this.selectedRules[t].id==e.id&&(this.selectedRules.splice(t,1),this.subjectSelectedRules.next(this.selectedRules))}clearSelectedRules(){this.selectedRules=[],this.subjectSelectedRules.next([])}getSelectedRules(){return this.subjectSelectedRules.asObservable()}getActualSelectedRules(e){if(e)for(let t=0;t<this.selectedRules.length;t++){let r=[];return this.selectedRules[t].id==e&&r.push(this.selectedRules[t]),r.length?r:null}else return this.selectedRules.length?this.selectedRules:null}setSelectedRuleRange(e,t){this.selectedRulesRange={minRuleOrder:e,maxRuleOrder:t},this.subjectSelectedRulesRange.next(this.selectedRulesRange)}getSelectedRuleRange(){return this.subjectSelectedRulesRange.asObservable()}setSelectedRules(e){this.selectedRules=e,this.subjectSelectedRules.next(this.selectedRules)}updateSelectedRules(e,t){if(e&&e.length&&t&&t.length){this.selectedRules=[];for(let r=0;r<e.length;r++){let o=e[r];for(let s=0;s<t.length;s++)o.id==t[s].id&&o.firewall==t[s].firewall&&this.selectedRules.push(t[s])}}}getSelectedRulesLength(){return this.selectedRules.length}isRuleSelected(e){let t=!1;for(let r=0;r<this.selectedRules.length&&!t;r++)this.selectedRules[r].id==e&&(t=!0);return t}copyRulesToClipboard(){this.clipboardRules={action:ur.COPY,rules:this.selectedRules.slice(0)},this.subjectClipboardRules.next(this.clipboardRules)}cutRulesToClipboard(){this.clipboardRules={action:ur.CUT,rules:this.selectedRules.slice(0)},this.subjectClipboardRules.next(this.clipboardRules)}clearClipboardRules(){this.clipboardRules=null,this.subjectClipboardRules.next(this.clipboardRules)}getClipboardRules(){return this.subjectClipboardRules.asObservable()}getActualClipboardRules(){return this.clipboardRules&&this.clipboardRules.rules.length?this.clipboardRules:null}getActualClipboardRulesLength(){let e=0;return this.clipboardRules&&this.clipboardRules.rules&&(e=this.clipboardRules.rules.length),e}getClipboardRulesGroups(){return this.getRulesGroups(this.clipboardRules.rules)}getSelectedRulesGroups(){return this.getRulesGroups(this.selectedRules)}getRulesGroups(e){let t=[];for(let r=0;r<e.length;r++){let o=e[r].idgroup;o===null&&(o=-1),t.indexOf(o)==-1&&t.push(o)}return t}setSelectedRulesToCompile(){this.subjectCompileSelectedRules.next(!0)}getSelectedRulesToCompile(){return this.subjectCompileSelectedRules.asObservable()}getRulesOrderedIds(e,t){if(e){let r=e.slice(0),o=[],s;r.sort(function(a,l){return a.rule_order>l.rule_order?1:a.rule_order<l.rule_order?-1:0}),t&&(r=r.filter(a=>!a.special||a.special===P2.HOOKSCRIPT));for(let a=0;a<r.length;a++)o.push(r[a].id);return s={orderedRules:r,rulesIds:o},s}else return null}setModifiedRule(e){this.subjectModifiedRule.next(e)}getModifiedRule(){return this.subjectModifiedRule.asObservable()}setRuleStatus(e){this.subjectRuleStatus.next(e)}getRuleStatus(){return this.subjectRuleStatus.asObservable()}setRuleHeightRecalculate(e){this.subjectRuleHeightRecalculate.next(e)}getRuleHeightRecalculate(){return this.subjectRuleHeightRecalculate.asObservable()}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac})}}return i})();var yvt=(()=>{class i{constructor(){}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Cl=Object.create(null);Cl.open="0";Cl.close="1";Cl.ping="2";Cl.pong="3";Cl.message="4";Cl.upgrade="5";Cl.noop="6";var j_=Object.create(null);Object.keys(Cl).forEach(i=>{j_[Cl[i]]=i});var H_={type:"error",data:"parser error"};var RU=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",PU=typeof ArrayBuffer=="function",kU=i=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(i):i&&i.buffer instanceof ArrayBuffer,G_=({type:i,data:n},e,t)=>RU&&n instanceof Blob?e?t(n):OU(n,t):PU&&(n instanceof ArrayBuffer||kU(n))?e?t(n):OU(new Blob([n]),t):t(Cl[i]+(n||"")),OU=(i,n)=>{let e=new FileReader;return e.onload=function(){let t=e.result.split(",")[1];n("b"+(t||""))},e.readAsDataURL(i)};function DU(i){return i instanceof Uint8Array?i:i instanceof ArrayBuffer?new Uint8Array(i):new Uint8Array(i.buffer,i.byteOffset,i.byteLength)}var lO;function FU(i,n){if(RU&&i.data instanceof Blob)return i.data.arrayBuffer().then(DU).then(n);if(PU&&(i.data instanceof ArrayBuffer||kU(i.data)))return n(DU(i.data));G_(i,!1,e=>{lO||(lO=new TextEncoder),n(lO.encode(e))})}var LU="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",z_=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let i=0;i<LU.length;i++)z_[LU.charCodeAt(i)]=i;var MU=i=>{let n=i.length*.75,e=i.length,t,r=0,o,s,a,l;i[i.length-1]==="="&&(n--,i[i.length-2]==="="&&n--);let c=new ArrayBuffer(n),d=new Uint8Array(c);for(t=0;t<e;t+=4)o=z_[i.charCodeAt(t)],s=z_[i.charCodeAt(t+1)],a=z_[i.charCodeAt(t+2)],l=z_[i.charCodeAt(t+3)],d[r++]=o<<2|s>>4,d[r++]=(s&15)<<4|a>>2,d[r++]=(a&3)<<6|l&63;return c};var MIe=typeof ArrayBuffer=="function",W_=(i,n)=>{if(typeof i!="string")return{type:"message",data:NU(i,n)};let e=i.charAt(0);return e==="b"?{type:"message",data:NIe(i.substring(1),n)}:j_[e]?i.length>1?{type:j_[e],data:i.substring(1)}:{type:j_[e]}:H_},NIe=(i,n)=>{if(MIe){let e=MU(i);return NU(e,n)}else return{base64:!0,data:i}},NU=(i,n)=>{switch(n){case"blob":return i instanceof Blob?i:new Blob([i]);case"arraybuffer":default:return i instanceof ArrayBuffer?i:i.buffer}};var VU="",BU=(i,n)=>{let e=i.length,t=new Array(e),r=0;i.forEach((o,s)=>{G_(o,!1,a=>{t[s]=a,++r===e&&n(t.join(VU))})})},UU=(i,n)=>{let e=i.split(VU),t=[];for(let r=0;r<e.length;r++){let o=W_(e[r],n);if(t.push(o),o.type==="error")break}return t};function jU(){return new TransformStream({transform(i,n){FU(i,e=>{let t=e.length,r;if(t<126)r=new Uint8Array(1),new DataView(r.buffer).setUint8(0,t);else if(t<65536){r=new Uint8Array(3);let o=new DataView(r.buffer);o.setUint8(0,126),o.setUint16(1,t)}else{r=new Uint8Array(9);let o=new DataView(r.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(t))}i.data&&typeof i.data!="string"&&(r[0]|=128),n.enqueue(r),n.enqueue(e)})}})}var cO;function Tb(i){return i.reduce((n,e)=>n+e.length,0)}function Ob(i,n){if(i[0].length===n)return i.shift();let e=new Uint8Array(n),t=0;for(let r=0;r<n;r++)e[r]=i[0][t++],t===i[0].length&&(i.shift(),t=0);return i.length&&t<i[0].length&&(i[0]=i[0].slice(t)),e}function HU(i,n){cO||(cO=new TextDecoder);let e=[],t=0,r=-1,o=!1;return new TransformStream({transform(s,a){for(e.push(s);;){if(t===0){if(Tb(e)<1)break;let l=Ob(e,1);o=(l[0]&128)===128,r=l[0]&127,r<126?t=3:r===126?t=1:t=2}else if(t===1){if(Tb(e)<2)break;let l=Ob(e,2);r=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),t=3}else if(t===2){if(Tb(e)<8)break;let l=Ob(e,8),c=new DataView(l.buffer,l.byteOffset,l.length),d=c.getUint32(0);if(d>Math.pow(2,21)-1){a.enqueue(H_);break}r=d*Math.pow(2,32)+c.getUint32(4),t=3}else{if(Tb(e)<r)break;let l=Ob(e,r);a.enqueue(W_(o?l:cO.decode(l),n)),t=0}if(r===0||r>i){a.enqueue(H_);break}}}})}var dO=4;function ir(i){if(i)return VIe(i)}function VIe(i){for(var n in ir.prototype)i[n]=ir.prototype[n];return i}ir.prototype.on=ir.prototype.addEventListener=function(i,n){return this._callbacks=this._callbacks||{},(this._callbacks["$"+i]=this._callbacks["$"+i]||[]).push(n),this};ir.prototype.once=function(i,n){function e(){this.off(i,e),n.apply(this,arguments)}return e.fn=n,this.on(i,e),this};ir.prototype.off=ir.prototype.removeListener=ir.prototype.removeAllListeners=ir.prototype.removeEventListener=function(i,n){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var e=this._callbacks["$"+i];if(!e)return this;if(arguments.length==1)return delete this._callbacks["$"+i],this;for(var t,r=0;r<e.length;r++)if(t=e[r],t===n||t.fn===n){e.splice(r,1);break}return e.length===0&&delete this._callbacks["$"+i],this};ir.prototype.emit=function(i){this._callbacks=this._callbacks||{};for(var n=new Array(arguments.length-1),e=this._callbacks["$"+i],t=1;t<arguments.length;t++)n[t-1]=arguments[t];if(e){e=e.slice(0);for(var t=0,r=e.length;t<r;++t)e[t].apply(this,n)}return this};ir.prototype.emitReserved=ir.prototype.emit;ir.prototype.listeners=function(i){return this._callbacks=this._callbacks||{},this._callbacks["$"+i]||[]};ir.prototype.hasListeners=function(i){return!!this.listeners(i).length};var td=typeof Promise=="function"&&typeof Promise.resolve=="function"?n=>Promise.resolve().then(n):(n,e)=>e(n,0),vs=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),GU="arraybuffer";function Db(i,...n){return n.reduce((e,t)=>(i.hasOwnProperty(t)&&(e[t]=i[t]),e),{})}var BIe=vs.setTimeout,UIe=vs.clearTimeout;function id(i,n){n.useNativeTimers?(i.setTimeoutFn=BIe.bind(vs),i.clearTimeoutFn=UIe.bind(vs)):(i.setTimeoutFn=vs.setTimeout.bind(vs),i.clearTimeoutFn=vs.clearTimeout.bind(vs))}var jIe=1.33;function zU(i){return typeof i=="string"?HIe(i):Math.ceil((i.byteLength||i.size)*jIe)}function HIe(i){let n=0,e=0;for(let t=0,r=i.length;t<r;t++)n=i.charCodeAt(t),n<128?e+=1:n<2048?e+=2:n<55296||n>=57344?e+=3:(t++,e+=4);return e}function Rb(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function WU(i){let n="";for(let e in i)i.hasOwnProperty(e)&&(n.length&&(n+="&"),n+=encodeURIComponent(e)+"="+encodeURIComponent(i[e]));return n}function KU(i){let n={},e=i.split("&");for(let t=0,r=e.length;t<r;t++){let o=e[t].split("=");n[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return n}var Pb=class extends Error{constructor(n,e,t){super(n),this.description=e,this.context=t,this.type="TransportError"}},nd=class extends ir{constructor(n){super(),this.writable=!1,id(this,n),this.opts=n,this.query=n.query,this.socket=n.socket,this.supportsBinary=!n.forceBase64}onError(n,e,t){return super.emitReserved("error",new Pb(n,e,t)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(n){this.readyState==="open"&&this.write(n)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(n){let e=W_(n,this.socket.binaryType);this.onPacket(e)}onPacket(n){super.emitReserved("packet",n)}onClose(n){this.readyState="closed",super.emitReserved("close",n)}pause(n){}createUri(n,e={}){return n+"://"+this._hostname()+this._port()+this.opts.path+this._query(e)}_hostname(){let n=this.opts.hostname;return n.indexOf(":")===-1?n:"["+n+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(n){let e=WU(n);return e.length?"?"+e:""}};var K_=class extends nd{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(n){this.readyState="pausing";let e=()=>{this.readyState="paused",n()};if(this._polling||!this.writable){let t=0;this._polling&&(t++,this.once("pollComplete",function(){--t||e()})),this.writable||(t++,this.once("drain",function(){--t||e()}))}else e()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(n){let e=t=>{if(this.readyState==="opening"&&t.type==="open"&&this.onOpen(),t.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(t)};UU(n,this.socket.binaryType).forEach(e),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){let n=()=>{this.write([{type:"close"}])};this.readyState==="open"?n():this.once("open",n)}write(n){this.writable=!1,BU(n,e=>{this.doWrite(e,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let n=this.opts.secure?"https":"http",e=this.query||{};return this.opts.timestampRequests!==!1&&(e[this.opts.timestampParam]=Rb()),!this.supportsBinary&&!e.sid&&(e.b64=1),this.createUri(n,e)}};var $U=!1;try{$U=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}var qU=$U;function GIe(){}var uO=class extends K_{constructor(n){if(super(n),typeof location<"u"){let e=location.protocol==="https:",t=location.port;t||(t=e?"443":"80"),this.xd=typeof location<"u"&&n.hostname!==location.hostname||t!==n.port}}doWrite(n,e){let t=this.request({method:"POST",data:n});t.on("success",e),t.on("error",(r,o)=>{this.onError("xhr post error",r,o)})}doPoll(){let n=this.request();n.on("data",this.onData.bind(this)),n.on("error",(e,t)=>{this.onError("xhr poll error",e,t)}),this.pollXhr=n}},kb=(()=>{class i extends ir{constructor(e,t,r){super(),this.createRequest=e,id(this,r),this._opts=r,this._method=r.method||"GET",this._uri=t,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var e;let t=Db(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;let r=this._xhr=this.createRequest(t);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let o in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(o)&&r.setRequestHeader(o,this._opts.extraHeaders[o])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var o;r.readyState===3&&((o=this._opts.cookieJar)===null||o===void 0||o.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(o){this.setTimeoutFn(()=>{this._onError(o)},0);return}typeof document<"u"&&(this._index=i.requestsCount++,i.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=GIe,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete i.requests[this._index],this._xhr=null}}_onLoad(){let e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}return i.requestsCount=0,i.requests={},i})();if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",YU);else if(typeof addEventListener=="function"){let i="onpagehide"in vs?"pagehide":"unload";addEventListener(i,YU,!1)}}function YU(){for(let i in kb.requests)kb.requests.hasOwnProperty(i)&&kb.requests[i].abort()}var zIe=function(){let i=JU({xdomain:!1});return i&&i.responseType!==null}(),vu=class extends uO{constructor(n){super(n);let e=n&&n.forceBase64;this.supportsBinary=zIe&&!e}request(n={}){return Object.assign(n,{xd:this.xd},this.opts),new kb(JU,this.uri(),n)}};function JU(i){let n=i.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!n||qU))return new XMLHttpRequest}catch{}if(!n)try{return new vs[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}var XU=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",hO=class extends nd{get name(){return"websocket"}doOpen(){let n=this.uri(),e=this.opts.protocols,t=XU?{}:Db(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(t.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(n,e,t)}catch(r){return this.emitReserved("error",r)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=n=>this.onClose({description:"websocket connection closed",context:n}),this.ws.onmessage=n=>this.onData(n.data),this.ws.onerror=n=>this.onError("websocket error",n)}write(n){this.writable=!1;for(let e=0;e<n.length;e++){let t=n[e],r=e===n.length-1;G_(t,this.supportsBinary,o=>{try{this.doWrite(t,o)}catch{}r&&td(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){let n=this.opts.secure?"wss":"ws",e=this.query||{};return this.opts.timestampRequests&&(e[this.opts.timestampParam]=Rb()),this.supportsBinary||(e.b64=1),this.createUri(n,e)}},pO=vs.WebSocket||vs.MozWebSocket,bu=class extends hO{createSocket(n,e,t){return XU?new pO(n,e,t):e?new pO(n,e):new pO(n)}doWrite(n,e){this.ws.send(e)}};var nm=class extends nd{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(n){return this.emitReserved("error",n)}this._transport.closed.then(()=>{this.onClose()}).catch(n=>{this.onError("webtransport error",n)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(n=>{let e=HU(Number.MAX_SAFE_INTEGER,this.socket.binaryType),t=n.readable.pipeThrough(e).getReader(),r=jU();r.readable.pipeTo(n.writable),this._writer=r.writable.getWriter();let o=()=>{t.read().then(({done:a,value:l})=>{a||(this.onPacket(l),o())}).catch(a=>{})};o();let s={type:"open"};this.query.sid&&(s.data=`{"sid":"${this.query.sid}"}`),this._writer.write(s).then(()=>this.onOpen())})})}write(n){this.writable=!1;for(let e=0;e<n.length;e++){let t=n[e],r=e===n.length-1;this._writer.write(t).then(()=>{r&&td(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var n;(n=this._transport)===null||n===void 0||n.close()}};var fO={websocket:bu,webtransport:nm,polling:vu};var WIe=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,KIe=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function rm(i){if(i.length>8e3)throw"URI too long";let n=i,e=i.indexOf("["),t=i.indexOf("]");e!=-1&&t!=-1&&(i=i.substring(0,e)+i.substring(e,t).replace(/:/g,";")+i.substring(t,i.length));let r=WIe.exec(i||""),o={},s=14;for(;s--;)o[KIe[s]]=r[s]||"";return e!=-1&&t!=-1&&(o.source=n,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=$Ie(o,o.path),o.queryKey=qIe(o,o.query),o}function $Ie(i,n){let e=/\/{2,9}/g,t=n.replace(e,"/").split("/");return(n.slice(0,1)=="/"||n.length===0)&&t.splice(0,1),n.slice(-1)=="/"&&t.splice(t.length-1,1),t}function qIe(i,n){let e={};return n.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(t,r,o){r&&(e[r]=o)}),e}var mO=typeof addEventListener=="function"&&typeof removeEventListener=="function",Fb=[];mO&&addEventListener("offline",()=>{Fb.forEach(i=>i())},!1);var Lb=(()=>{class i extends ir{constructor(e,t){if(super(),this.binaryType=GU,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(t=e,e=null),e){let r=rm(e);t.hostname=r.host,t.secure=r.protocol==="https"||r.protocol==="wss",t.port=r.port,r.query&&(t.query=r.query)}else t.host&&(t.hostname=rm(t.host).host);id(this,t),this.secure=t.secure!=null?t.secure:typeof location<"u"&&location.protocol==="https:",t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=t.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach(r=>{let o=r.prototype.name;this.transports.push(o),this._transportsByName[o]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=KU(this.opts.query)),mO&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Fb.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){let t=Object.assign({},this.opts.query);t.EIO=dO,t.transport=e,this.id&&(t.sid=this.id);let r=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}let e=this.opts.rememberUpgrade&&i.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";let t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",t=>this._onClose("transport close",t))}onOpen(){this.readyState="open",i.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":let t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);let e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){let e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let r=0;r<this.writeBuffer.length;r++){let o=this.writeBuffer[r].data;if(o&&(t+=zU(o)),r>0&&t>this._maxPayload)return this.writeBuffer.slice(0,r);t+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;let e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,td(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,t,r){return this._sendPacket("message",e,t,r),this}send(e,t,r){return this._sendPacket("message",e,t,r),this}_sendPacket(e,t,r,o){if(typeof t=="function"&&(o=t,t=void 0),typeof r=="function"&&(o=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;let s={type:e,data:t,options:r};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),o&&this.once("flush",o),this.flush()}close(){let e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},r=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}_onError(e){if(i.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),mO&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){let r=Fb.indexOf(this._offlineEventListener);r!==-1&&Fb.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}return i.protocol=dO,i})(),Mb=class extends Lb{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let n=0;n<this._upgrades.length;n++)this._probe(this._upgrades[n])}_probe(n){let e=this.createTransport(n),t=!1;Lb.priorWebsocketSuccess=!1;let r=()=>{t||(e.send([{type:"ping",data:"probe"}]),e.once("packet",p=>{if(!t)if(p.type==="pong"&&p.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",e),!e)return;Lb.priorWebsocketSuccess=e.name==="websocket",this.transport.pause(()=>{t||this.readyState!=="closed"&&(d(),this.setTransport(e),e.send([{type:"upgrade"}]),this.emitReserved("upgrade",e),e=null,this.upgrading=!1,this.flush())})}else{let g=new Error("probe error");g.transport=e.name,this.emitReserved("upgradeError",g)}}))};function o(){t||(t=!0,d(),e.close(),e=null)}let s=p=>{let g=new Error("probe error: "+p);g.transport=e.name,o(),this.emitReserved("upgradeError",g)};function a(){s("transport closed")}function l(){s("socket closed")}function c(p){e&&p.name!==e.name&&o()}let d=()=>{e.removeListener("open",r),e.removeListener("error",s),e.removeListener("close",a),this.off("close",l),this.off("upgrading",c)};e.once("open",r),e.once("error",s),e.once("close",a),this.once("close",l),this.once("upgrading",c),this._upgrades.indexOf("webtransport")!==-1&&n!=="webtransport"?this.setTimeoutFn(()=>{t||e.open()},200):e.open()}onHandshake(n){this._upgrades=this._filterUpgrades(n.upgrades),super.onHandshake(n)}_filterUpgrades(n){let e=[];for(let t=0;t<n.length;t++)~this.transports.indexOf(n[t])&&e.push(n[t]);return e}},om=class extends Mb{constructor(n,e={}){let t=typeof n=="object"?n:e;(!t.transports||t.transports&&typeof t.transports[0]=="string")&&(t.transports=(t.transports||["polling","websocket","webtransport"]).map(r=>fO[r]).filter(r=>!!r)),super(n,t)}};var Abt=om.protocol;function QU(i,n="",e){let t=i;e=e||typeof location<"u"&&location,i==null&&(i=e.protocol+"//"+e.host),typeof i=="string"&&(i.charAt(0)==="/"&&(i.charAt(1)==="/"?i=e.protocol+i:i=e.host+i),/^(https?|wss?):\/\//.test(i)||(typeof e<"u"?i=e.protocol+"//"+i:i="https://"+i),t=rm(i)),t.port||(/^(http|ws)$/.test(t.protocol)?t.port="80":/^(http|ws)s$/.test(t.protocol)&&(t.port="443")),t.path=t.path||"/";let o=t.host.indexOf(":")!==-1?"["+t.host+"]":t.host;return t.id=t.protocol+"://"+o+":"+t.port+n,t.href=t.protocol+"://"+o+(e&&e.port===t.port?"":":"+t.port),t}var vO={};Rd(vO,{Decoder:()=>yO,Encoder:()=>CO,PacketType:()=>an,protocol:()=>n8});var JIe=typeof ArrayBuffer=="function",XIe=i=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(i):i.buffer instanceof ArrayBuffer,ZU=Object.prototype.toString,QIe=typeof Blob=="function"||typeof Blob<"u"&&ZU.call(Blob)==="[object BlobConstructor]",ZIe=typeof File=="function"||typeof File<"u"&&ZU.call(File)==="[object FileConstructor]";function q_(i){return JIe&&(i instanceof ArrayBuffer||XIe(i))||QIe&&i instanceof Blob||ZIe&&i instanceof File}function $_(i,n){if(!i||typeof i!="object")return!1;if(Array.isArray(i)){for(let e=0,t=i.length;e<t;e++)if($_(i[e]))return!0;return!1}if(q_(i))return!0;if(i.toJSON&&typeof i.toJSON=="function"&&arguments.length===1)return $_(i.toJSON(),!0);for(let e in i)if(Object.prototype.hasOwnProperty.call(i,e)&&$_(i[e]))return!0;return!1}function e8(i){let n=[],e=i.data,t=i;return t.data=gO(e,n),t.attachments=n.length,{packet:t,buffers:n}}function gO(i,n){if(!i)return i;if(q_(i)){let e={_placeholder:!0,num:n.length};return n.push(i),e}else if(Array.isArray(i)){let e=new Array(i.length);for(let t=0;t<i.length;t++)e[t]=gO(i[t],n);return e}else if(typeof i=="object"&&!(i instanceof Date)){let e={};for(let t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=gO(i[t],n));return e}return i}function t8(i,n){return i.data=_O(i.data,n),delete i.attachments,i}function _O(i,n){if(!i)return i;if(i&&i._placeholder===!0){if(typeof i.num=="number"&&i.num>=0&&i.num<n.length)return n[i.num];throw new Error("illegal attachments")}else if(Array.isArray(i))for(let e=0;e<i.length;e++)i[e]=_O(i[e],n);else if(typeof i=="object")for(let e in i)Object.prototype.hasOwnProperty.call(i,e)&&(i[e]=_O(i[e],n));return i}var eve=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],n8=5,an=function(i){return i[i.CONNECT=0]="CONNECT",i[i.DISCONNECT=1]="DISCONNECT",i[i.EVENT=2]="EVENT",i[i.ACK=3]="ACK",i[i.CONNECT_ERROR=4]="CONNECT_ERROR",i[i.BINARY_EVENT=5]="BINARY_EVENT",i[i.BINARY_ACK=6]="BINARY_ACK",i}(an||{}),CO=class{constructor(n){this.replacer=n}encode(n){return(n.type===an.EVENT||n.type===an.ACK)&&$_(n)?this.encodeAsBinary({type:n.type===an.EVENT?an.BINARY_EVENT:an.BINARY_ACK,nsp:n.nsp,data:n.data,id:n.id}):[this.encodeAsString(n)]}encodeAsString(n){let e=""+n.type;return(n.type===an.BINARY_EVENT||n.type===an.BINARY_ACK)&&(e+=n.attachments+"-"),n.nsp&&n.nsp!=="/"&&(e+=n.nsp+","),n.id!=null&&(e+=n.id),n.data!=null&&(e+=JSON.stringify(n.data,this.replacer)),e}encodeAsBinary(n){let e=e8(n),t=this.encodeAsString(e.packet),r=e.buffers;return r.unshift(t),r}};function i8(i){return Object.prototype.toString.call(i)==="[object Object]"}var yO=class i extends ir{constructor(n){super(),this.reviver=n}add(n){let e;if(typeof n=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");e=this.decodeString(n);let t=e.type===an.BINARY_EVENT;t||e.type===an.BINARY_ACK?(e.type=t?an.EVENT:an.ACK,this.reconstructor=new IO(e),e.attachments===0&&super.emitReserved("decoded",e)):super.emitReserved("decoded",e)}else if(q_(n)||n.base64)if(this.reconstructor)e=this.reconstructor.takeBinaryData(n),e&&(this.reconstructor=null,super.emitReserved("decoded",e));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+n)}decodeString(n){let e=0,t={type:Number(n.charAt(0))};if(an[t.type]===void 0)throw new Error("unknown packet type "+t.type);if(t.type===an.BINARY_EVENT||t.type===an.BINARY_ACK){let o=e+1;for(;n.charAt(++e)!=="-"&&e!=n.length;);let s=n.substring(o,e);if(s!=Number(s)||n.charAt(e)!=="-")throw new Error("Illegal attachments");t.attachments=Number(s)}if(n.charAt(e+1)==="/"){let o=e+1;for(;++e&&!(n.charAt(e)===","||e===n.length););t.nsp=n.substring(o,e)}else t.nsp="/";let r=n.charAt(e+1);if(r!==""&&Number(r)==r){let o=e+1;for(;++e;){let s=n.charAt(e);if(s==null||Number(s)!=s){--e;break}if(e===n.length)break}t.id=Number(n.substring(o,e+1))}if(n.charAt(++e)){let o=this.tryParse(n.substr(e));if(i.isPayloadValid(t.type,o))t.data=o;else throw new Error("invalid payload")}return t}tryParse(n){try{return JSON.parse(n,this.reviver)}catch{return!1}}static isPayloadValid(n,e){switch(n){case an.CONNECT:return i8(e);case an.DISCONNECT:return e===void 0;case an.CONNECT_ERROR:return typeof e=="string"||i8(e);case an.EVENT:case an.BINARY_EVENT:return Array.isArray(e)&&(typeof e[0]=="number"||typeof e[0]=="string"&&eve.indexOf(e[0])===-1);case an.ACK:case an.BINARY_ACK:return Array.isArray(e)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}},IO=class{constructor(n){this.packet=n,this.buffers=[],this.reconPack=n}takeBinaryData(n){if(this.buffers.push(n),this.buffers.length===this.reconPack.attachments){let e=t8(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}};function ma(i,n,e){return i.on(n,e),function(){i.off(n,e)}}var tve=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),sm=class extends ir{constructor(n,e,t){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=n,this.nsp=e,t&&t.auth&&(this.auth=t.auth),this._opts=Object.assign({},t),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;let n=this.io;this.subs=[ma(n,"open",this.onopen.bind(this)),ma(n,"packet",this.onpacket.bind(this)),ma(n,"error",this.onerror.bind(this)),ma(n,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...n){return n.unshift("message"),this.emit.apply(this,n),this}emit(n,...e){var t,r,o;if(tve.hasOwnProperty(n))throw new Error('"'+n.toString()+'" is a reserved event name');if(e.unshift(n),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(e),this;let s={type:an.EVENT,data:e};if(s.options={},s.options.compress=this.flags.compress!==!1,typeof e[e.length-1]=="function"){let d=this.ids++,p=e.pop();this._registerAckCallback(d,p),s.id=d}let a=(r=(t=this.io.engine)===null||t===void 0?void 0:t.transport)===null||r===void 0?void 0:r.writable,l=this.connected&&!(!((o=this.io.engine)===null||o===void 0)&&o._hasPingExpired());return this.flags.volatile&&!a||(l?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(n,e){var t;let r=(t=this.flags.timeout)!==null&&t!==void 0?t:this._opts.ackTimeout;if(r===void 0){this.acks[n]=e;return}let o=this.io.setTimeoutFn(()=>{delete this.acks[n];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===n&&this.sendBuffer.splice(a,1);e.call(this,new Error("operation has timed out"))},r),s=(...a)=>{this.io.clearTimeoutFn(o),e.apply(this,a)};s.withError=!0,this.acks[n]=s}emitWithAck(n,...e){return new Promise((t,r)=>{let o=(s,a)=>s?r(s):t(a);o.withError=!0,e.push(o),this.emit(n,...e)})}_addToQueue(n){let e;typeof n[n.length-1]=="function"&&(e=n.pop());let t={id:this._queueSeq++,tryCount:0,pending:!1,args:n,flags:Object.assign({fromQueue:!0},this.flags)};n.push((r,...o)=>t!==this._queue[0]?void 0:(r!==null?t.tryCount>this._opts.retries&&(this._queue.shift(),e&&e(r)):(this._queue.shift(),e&&e(null,...o)),t.pending=!1,this._drainQueue())),this._queue.push(t),this._drainQueue()}_drainQueue(n=!1){if(!this.connected||this._queue.length===0)return;let e=this._queue[0];e.pending&&!n||(e.pending=!0,e.tryCount++,this.flags=e.flags,this.emit.apply(this,e.args))}packet(n){n.nsp=this.nsp,this.io._packet(n)}onopen(){typeof this.auth=="function"?this.auth(n=>{this._sendConnectPacket(n)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(n){this.packet({type:an.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},n):n})}onerror(n){this.connected||this.emitReserved("connect_error",n)}onclose(n,e){this.connected=!1,delete this.id,this.emitReserved("disconnect",n,e),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(n=>{if(!this.sendBuffer.some(t=>String(t.id)===n)){let t=this.acks[n];delete this.acks[n],t.withError&&t.call(this,new Error("socket has been disconnected"))}})}onpacket(n){if(n.nsp===this.nsp)switch(n.type){case an.CONNECT:n.data&&n.data.sid?this.onconnect(n.data.sid,n.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case an.EVENT:case an.BINARY_EVENT:this.onevent(n);break;case an.ACK:case an.BINARY_ACK:this.onack(n);break;case an.DISCONNECT:this.ondisconnect();break;case an.CONNECT_ERROR:this.destroy();let t=new Error(n.data.message);t.data=n.data.data,this.emitReserved("connect_error",t);break}}onevent(n){let e=n.data||[];n.id!=null&&e.push(this.ack(n.id)),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}emitEvent(n){if(this._anyListeners&&this._anyListeners.length){let e=this._anyListeners.slice();for(let t of e)t.apply(this,n)}super.emit.apply(this,n),this._pid&&n.length&&typeof n[n.length-1]=="string"&&(this._lastOffset=n[n.length-1])}ack(n){let e=this,t=!1;return function(...r){t||(t=!0,e.packet({type:an.ACK,id:n,data:r}))}}onack(n){let e=this.acks[n.id];typeof e=="function"&&(delete this.acks[n.id],e.withError&&n.data.unshift(null),e.apply(this,n.data))}onconnect(n,e){this.id=n,this.recovered=e&&this._pid===e,this._pid=e,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(n=>this.emitEvent(n)),this.receiveBuffer=[],this.sendBuffer.forEach(n=>{this.notifyOutgoingListeners(n),this.packet(n)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(n=>n()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:an.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(n){return this.flags.compress=n,this}get volatile(){return this.flags.volatile=!0,this}timeout(n){return this.flags.timeout=n,this}onAny(n){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(n),this}prependAny(n){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(n),this}offAny(n){if(!this._anyListeners)return this;if(n){let e=this._anyListeners;for(let t=0;t<e.length;t++)if(n===e[t])return e.splice(t,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(n){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(n),this}prependAnyOutgoing(n){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(n),this}offAnyOutgoing(n){if(!this._anyOutgoingListeners)return this;if(n){let e=this._anyOutgoingListeners;for(let t=0;t<e.length;t++)if(n===e[t])return e.splice(t,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(n){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){let e=this._anyOutgoingListeners.slice();for(let t of e)t.apply(this,n.data)}}};function $p(i){i=i||{},this.ms=i.min||100,this.max=i.max||1e4,this.factor=i.factor||2,this.jitter=i.jitter>0&&i.jitter<=1?i.jitter:0,this.attempts=0}$p.prototype.duration=function(){var i=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var n=Math.random(),e=Math.floor(n*this.jitter*i);i=Math.floor(n*10)&1?i+e:i-e}return Math.min(i,this.max)|0};$p.prototype.reset=function(){this.attempts=0};$p.prototype.setMin=function(i){this.ms=i};$p.prototype.setMax=function(i){this.max=i};$p.prototype.setJitter=function(i){this.jitter=i};var am=class extends ir{constructor(n,e){var t;super(),this.nsps={},this.subs=[],n&&typeof n=="object"&&(e=n,n=void 0),e=e||{},e.path=e.path||"/socket.io",this.opts=e,id(this,e),this.reconnection(e.reconnection!==!1),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor((t=e.randomizationFactor)!==null&&t!==void 0?t:.5),this.backoff=new $p({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(e.timeout==null?2e4:e.timeout),this._readyState="closed",this.uri=n;let r=e.parser||vO;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=e.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(n){return arguments.length?(this._reconnection=!!n,n||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(n){return n===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=n,this)}reconnectionDelay(n){var e;return n===void 0?this._reconnectionDelay:(this._reconnectionDelay=n,(e=this.backoff)===null||e===void 0||e.setMin(n),this)}randomizationFactor(n){var e;return n===void 0?this._randomizationFactor:(this._randomizationFactor=n,(e=this.backoff)===null||e===void 0||e.setJitter(n),this)}reconnectionDelayMax(n){var e;return n===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=n,(e=this.backoff)===null||e===void 0||e.setMax(n),this)}timeout(n){return arguments.length?(this._timeout=n,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(n){if(~this._readyState.indexOf("open"))return this;this.engine=new om(this.uri,this.opts);let e=this.engine,t=this;this._readyState="opening",this.skipReconnect=!1;let r=ma(e,"open",function(){t.onopen(),n&&n()}),o=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),n?n(a):this.maybeReconnectOnOpen()},s=ma(e,"error",o);if(this._timeout!==!1){let a=this._timeout,l=this.setTimeoutFn(()=>{r(),o(new Error("timeout")),e.close()},a);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(r),this.subs.push(s),this}connect(n){return this.open(n)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");let n=this.engine;this.subs.push(ma(n,"ping",this.onping.bind(this)),ma(n,"data",this.ondata.bind(this)),ma(n,"error",this.onerror.bind(this)),ma(n,"close",this.onclose.bind(this)),ma(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(n){try{this.decoder.add(n)}catch(e){this.onclose("parse error",e)}}ondecoded(n){td(()=>{this.emitReserved("packet",n)},this.setTimeoutFn)}onerror(n){this.emitReserved("error",n)}socket(n,e){let t=this.nsps[n];return t?this._autoConnect&&!t.active&&t.connect():(t=new sm(this,n,e),this.nsps[n]=t),t}_destroy(n){let e=Object.keys(this.nsps);for(let t of e)if(this.nsps[t].active)return;this._close()}_packet(n){let e=this.encoder.encode(n);for(let t=0;t<e.length;t++)this.engine.write(e[t],n.options)}cleanup(){this.subs.forEach(n=>n()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(n,e){var t;this.cleanup(),(t=this.engine)===null||t===void 0||t.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",n,e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let n=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let e=this.backoff.duration();this._reconnecting=!0;let t=this.setTimeoutFn(()=>{n.skipReconnect||(this.emitReserved("reconnect_attempt",n.backoff.attempts),!n.skipReconnect&&n.open(r=>{r?(n._reconnecting=!1,n.reconnect(),this.emitReserved("reconnect_error",r)):n.onreconnect()}))},e);this.opts.autoUnref&&t.unref(),this.subs.push(()=>{this.clearTimeoutFn(t)})}}onreconnect(){let n=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",n)}};var Y_={};function J_(i,n){typeof i=="object"&&(n=i,i=void 0),n=n||{};let e=QU(i,n.path||"/socket.io"),t=e.source,r=e.id,o=e.path,s=Y_[r]&&o in Y_[r].nsps,a=n.forceNew||n["force new connection"]||n.multiplex===!1||s,l;return a?l=new am(t,n):(Y_[r]||(Y_[r]=new am(t,n)),l=Y_[r]),e.query&&!n.query&&(n.query=e.queryKey),l.socket(e.path,n)}Object.assign(J_,{Manager:am,Socket:sm,io:J_,connect:J_});var Ha=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},um=Symbol("doneWritingPromise"),J8=Symbol("doneWritingResolve"),X8=Symbol("doneWritingReject"),X_=Symbol("readingIndex"),Ga=class i extends Array{constructor(){super(),Object.setPrototypeOf(this,i.prototype),this[um]=new Promise((n,e)=>{this[J8]=n,this[X8]=e}),this[um].catch(()=>{})}};function Yr(i){return i&&i.getReader&&Array.isArray(i)}function n0(i){if(!Yr(i)){let n=i.getWriter(),e=n.releaseLock;return n.releaseLock=()=>{n.closed.catch(function(){}),e.call(n)},n}this.stream=i}function Ws(i){if(Yr(i))return"array";if(Ha.ReadableStream&&Ha.ReadableStream.prototype.isPrototypeOf(i))return"web";if(i&&!(Ha.ReadableStream&&i instanceof Ha.ReadableStream)&&typeof i._read=="function"&&typeof i._readableState=="object")throw Error("Native Node streams are no longer supported: please manually convert the stream to a WebStream, using e.g. `stream.Readable.toWeb`");return!(!i||!i.getReader)&&"web-like"}function Ew(i){return Uint8Array.prototype.isPrototypeOf(i)}function Q8(i){if(i.length===1)return i[0];let n=0;for(let r=0;r<i.length;r++){if(!Ew(i[r]))throw Error("concatUint8Array: Data must be in the form of a Uint8Array");n+=i[r].length}let e=new Uint8Array(n),t=0;return i.forEach(function(r){e.set(r,t),t+=r.length}),e}Ga.prototype.getReader=function(){return this[X_]===void 0&&(this[X_]=0),{read:()=>N(this,null,function*(){return yield this[um],this[X_]===this.length?{value:void 0,done:!0}:{value:this[this[X_]++],done:!1}})}},Ga.prototype.readToEnd=function(i){return N(this,null,function*(){yield this[um];let n=i(this.slice(this[X_]));return this.length=0,n})},Ga.prototype.clone=function(){let i=new Ga;return i[um]=this[um].then(()=>{i.push(...this)}),i},n0.prototype.write=function(i){return N(this,null,function*(){this.stream.push(i)})},n0.prototype.close=function(){return N(this,null,function*(){this.stream[J8]()})},n0.prototype.abort=function(i){return N(this,null,function*(){return this.stream[X8](i),i})},n0.prototype.releaseLock=function(){},typeof Ha.process=="object"&&Ha.process.versions;var r8=new WeakSet,nr=Symbol("externalBuffer");function tc(i){if(this.stream=i,i[nr]&&(this[nr]=i[nr].slice()),Yr(i)){let e=i.getReader();return this._read=e.read.bind(e),this._releaseLock=()=>{},void(this._cancel=()=>{})}if(Ws(i)){let e=i.getReader();return this._read=e.read.bind(e),this._releaseLock=()=>{e.closed.catch(function(){}),e.releaseLock()},void(this._cancel=e.cancel.bind(e))}let n=!1;this._read=()=>N(this,null,function*(){return n||r8.has(i)?{value:void 0,done:!0}:(n=!0,{value:i,done:!1})}),this._releaseLock=()=>{if(n)try{r8.add(i)}catch{}}}function yD(i){return Ws(i)?i:new ReadableStream({start(n){n.enqueue(i),n.close()}})}function Z8(i){if(Ws(i))return i;let n=new Ga;return N(this,null,function*(){let e=Ca(n);yield e.write(i),yield e.close()}),n}function Us(i){return i.some(n=>Ws(n)&&!Yr(n))?function(n){n=n.map(yD);let e=t7(function(o){return N(this,null,function*(){yield Promise.all(r.map(s=>jO(s,o)))})}),t=Promise.resolve(),r=n.map((o,s)=>Lu(o,(a,l)=>(t=t.then(()=>Zp(a,e.writable,{preventClose:s!==n.length-1})),t)));return e.readable}(i):i.some(n=>Yr(n))?function(n){let e=new Ga,t=Promise.resolve();return n.forEach((r,o)=>(t=t.then(()=>Zp(r,e,{preventClose:o!==n.length-1})),t)),e}(i):typeof i[0]=="string"?i.join(""):Q8(i)}function Zp(o,s){return N(this,arguments,function*(i,n,{preventClose:e=!1,preventAbort:t=!1,preventCancel:r=!1}={}){if(Ws(i)&&!Yr(i)){i=yD(i);try{if(i[nr]){let c=Ca(n);for(let d=0;d<i[nr].length;d++)yield c.ready,yield c.write(i[nr][d]);c.releaseLock()}yield i.pipeTo(n,{preventClose:e,preventAbort:t,preventCancel:r})}catch{}return}let a=hd(i=Z8(i)),l=Ca(n);try{for(;;){yield l.ready;let{done:c,value:d}=yield a.read();if(c){e||(yield l.close());break}yield l.write(d)}}catch(c){t||(yield l.abort(c))}finally{a.releaseLock(),l.releaseLock()}})}function e7(i,n){let e=new TransformStream(n);return Zp(i,e.writable),e.readable}function t7(i){let n,e,t,r=!1,o=!1;return{readable:new ReadableStream({start(a){t=a},pull(){n?n():r=!0},cancel(a){return N(this,null,function*(){o=!0,i&&(yield i(a)),e&&e(a)})}},{highWaterMark:0}),writable:new WritableStream({write:function(a){return N(this,null,function*(){if(o)throw Error("Stream is cancelled");t.enqueue(a),r?r=!1:(yield new Promise((l,c)=>{n=l,e=c}),n=null,e=null)})},close:t.close.bind(t),abort:t.error.bind(t)})}}function Vr(i,n=()=>{},e=()=>{}){if(Yr(i)){let s=new Ga;return N(this,null,function*(){let a=Ca(s);try{let l=yield _o(i),c=n(l),d=e(),p;p=c!==void 0&&d!==void 0?Us([c,d]):c!==void 0?c:d,yield a.write(p),yield a.close()}catch(l){yield a.abort(l)}}),s}if(Ws(i))return e7(i,{transform(s,a){return N(this,null,function*(){try{let l=yield n(s);l!==void 0&&a.enqueue(l)}catch(l){a.error(l)}})},flush(s){return N(this,null,function*(){try{let a=yield e();a!==void 0&&s.enqueue(a)}catch(a){s.error(a)}})}});let t=n(i),r=e();return t!==void 0&&r!==void 0?Us([t,r]):t!==void 0?t:r}function Lu(i,n){if(Ws(i)&&!Yr(i)){let t,r=new TransformStream({start(a){t=a}}),o=Zp(i,r.writable),s=t7(function(a){return N(this,null,function*(){t.error(a),yield o,yield new Promise(setTimeout)})});return n(r.readable,s.writable),s.readable}i=Z8(i);let e=new Ga;return n(i,e),e}function xw(i,n){let e,t=Lu(i,(r,o)=>{let s=hd(r);s.remainder=()=>(s.releaseLock(),Zp(r,o),t),e=n(s)});return e}function eh(i){if(Yr(i))return i.clone();if(Ws(i)){let n=function(e){if(Yr(e))throw Error("ArrayStream cannot be tee()d, use clone() instead");if(Ws(e)){let t=yD(e).tee();return t[0][nr]=t[1][nr]=e[nr],t}return[Wo(e),Wo(e)]}(i);return i7(i,n[0]),n[1]}return Wo(i)}function d0(i){return Yr(i)?eh(i):Ws(i)?new ReadableStream({start(n){let e=Lu(i,(t,r)=>N(this,null,function*(){let o=hd(t),s=Ca(r);try{for(;;){yield s.ready;let{done:a,value:l}=yield o.read();if(a){try{n.close()}catch{}return void(yield s.close())}try{n.enqueue(l)}catch{}yield s.write(l)}}catch(a){n.error(a),yield s.abort(a)}}));i7(i,e)}}):Wo(i)}function i7(i,n){Object.entries(Object.getOwnPropertyDescriptors(i.constructor.prototype)).forEach(([e,t])=>{e!=="constructor"&&(t.value?t.value=t.value.bind(n):t.get=t.get.bind(n),Object.defineProperty(i,e,t))})}function Wo(i,n=0,e=1/0){if(Yr(i))throw Error("Not implemented");if(Ws(i)){if(n>=0&&e>=0){let t=0;return e7(i,{transform(r,o){t<e?(t+r.length>=n&&o.enqueue(Wo(r,Math.max(n-t,0),e-t)),t+=r.length):o.terminate()}})}if(n<0&&(e<0||e===1/0)){let t=[];return Vr(i,r=>{r.length>=-n?t=[r]:t.push(r)},()=>Wo(Us(t),n,e))}if(n===0&&e<0){let t;return Vr(i,r=>{let o=t?Us([t,r]):r;if(o.length>=-e)return t=Wo(o,e),Wo(o,n,e);t=o})}return console.warn(`stream.slice(input, ${n}, ${e}) not implemented efficiently.`),Mu(()=>N(this,null,function*(){return Wo(yield _o(i),n,e)}))}return i[nr]&&(i=Us(i[nr].concat([i]))),Ew(i)?i.subarray(n,e===1/0?i.length:e):i.slice(n,e)}function _o(e){return N(this,arguments,function*(i,n=Us){return Yr(i)?i.readToEnd(n):Ws(i)?hd(i).readToEnd(n):i})}function jO(i,n){return N(this,null,function*(){if(Ws(i)){if(i.cancel){let e=yield i.cancel(n);return yield new Promise(setTimeout),e}if(i.destroy)return i.destroy(n),yield new Promise(setTimeout),n}})}function Mu(i){let n=new Ga;return N(this,null,function*(){let e=Ca(n);try{yield e.write(yield i()),yield e.close()}catch(t){yield e.abort(t)}}),n}function hd(i){return new tc(i)}function Ca(i){return new n0(i)}tc.prototype.read=function(){return N(this,null,function*(){return this[nr]&&this[nr].length?{done:!1,value:this[nr].shift()}:this._read()})},tc.prototype.releaseLock=function(){this[nr]&&(this.stream[nr]=this[nr]),this._releaseLock()},tc.prototype.cancel=function(i){return this._cancel(i)},tc.prototype.readLine=function(){return N(this,null,function*(){let i,n=[];for(;!i;){let{done:e,value:t}=yield this.read();if(t+="",e)return n.length?Us(n):void 0;let r=t.indexOf(`
`)+1;r&&(i=Us(n.concat(t.substr(0,r))),n=[]),r!==t.length&&n.push(t.substr(r))}return this.unshift(...n),i})},tc.prototype.readByte=function(){return N(this,null,function*(){let{done:i,value:n}=yield this.read();if(i)return;let e=n[0];return this.unshift(Wo(n,1)),e})},tc.prototype.readBytes=function(i){return N(this,null,function*(){let n=[],e=0;for(;;){let{done:t,value:r}=yield this.read();if(t)return n.length?Us(n):void 0;if(n.push(r),e+=r.length,e>=i){let o=Us(n);return this.unshift(Wo(o,i)),Wo(o,0,i)}}})},tc.prototype.peekBytes=function(i){return N(this,null,function*(){let n=yield this.readBytes(i);return this.unshift(n),n})},tc.prototype.unshift=function(...i){this[nr]||(this[nr]=[]),i.length===1&&Ew(i[0])&&this[nr].length&&i[0].length&&this[nr][0].byteOffset>=i[0].length?this[nr][0]=new Uint8Array(this[nr][0].buffer,this[nr][0].byteOffset-i[0].length,this[nr][0].byteLength+i[0].length):this[nr].unshift(...i.filter(n=>n&&n.length))},tc.prototype.readToEnd=function(){return N(this,arguments,function*(i=Us){let n=[];for(;;){let{done:e,value:t}=yield this.read();if(e)break;n.push(t)}return i(n)})};var Q_=Symbol("byValue"),x={curve:{nistP256:"nistP256",p256:"nistP256",nistP384:"nistP384",p384:"nistP384",nistP521:"nistP521",p521:"nistP521",secp256k1:"secp256k1",ed25519Legacy:"ed25519Legacy",ed25519:"ed25519Legacy",curve25519Legacy:"curve25519Legacy",curve25519:"curve25519Legacy",brainpoolP256r1:"brainpoolP256r1",brainpoolP384r1:"brainpoolP384r1",brainpoolP512r1:"brainpoolP512r1"},s2k:{simple:0,salted:1,iterated:3,argon2:4,gnu:101},publicKey:{rsaEncryptSign:1,rsaEncrypt:2,rsaSign:3,elgamal:16,dsa:17,ecdh:18,ecdsa:19,eddsaLegacy:22,aedh:23,aedsa:24,x25519:25,x448:26,ed25519:27,ed448:28},symmetric:{idea:1,tripledes:2,cast5:3,blowfish:4,aes128:7,aes192:8,aes256:9,twofish:10},compression:{uncompressed:0,zip:1,zlib:2,bzip2:3},hash:{md5:1,sha1:2,ripemd:3,sha256:8,sha384:9,sha512:10,sha224:11,sha3_256:12,sha3_512:14},webHash:{"SHA-1":2,"SHA-256":8,"SHA-384":9,"SHA-512":10},aead:{eax:1,ocb:2,gcm:3,experimentalGCM:100},packet:{publicKeyEncryptedSessionKey:1,signature:2,symEncryptedSessionKey:3,onePassSignature:4,secretKey:5,publicKey:6,secretSubkey:7,compressedData:8,symmetricallyEncryptedData:9,marker:10,literalData:11,trust:12,userID:13,publicSubkey:14,userAttribute:17,symEncryptedIntegrityProtectedData:18,modificationDetectionCode:19,aeadEncryptedData:20,padding:21},literal:{binary:98,text:116,utf8:117,mime:109},signature:{binary:0,text:1,standalone:2,certGeneric:16,certPersona:17,certCasual:18,certPositive:19,certRevocation:48,subkeyBinding:24,keyBinding:25,key:31,keyRevocation:32,subkeyRevocation:40,timestamp:64,thirdParty:80},signatureSubpacket:{signatureCreationTime:2,signatureExpirationTime:3,exportableCertification:4,trustSignature:5,regularExpression:6,revocable:7,keyExpirationTime:9,placeholderBackwardsCompatibility:10,preferredSymmetricAlgorithms:11,revocationKey:12,issuerKeyID:16,notationData:20,preferredHashAlgorithms:21,preferredCompressionAlgorithms:22,keyServerPreferences:23,preferredKeyServer:24,primaryUserID:25,policyURI:26,keyFlags:27,signersUserID:28,reasonForRevocation:29,features:30,signatureTarget:31,embeddedSignature:32,issuerFingerprint:33,preferredAEADAlgorithms:34,preferredCipherSuites:39},keyFlags:{certifyKeys:1,signData:2,encryptCommunication:4,encryptStorage:8,splitPrivateKey:16,authentication:32,sharedPrivateKey:128},armor:{multipartSection:0,multipartLast:1,signed:2,message:3,publicKey:4,privateKey:5,signature:6},reasonForRevocation:{noReason:0,keySuperseded:1,keyCompromised:2,keyRetired:3,userIDInvalid:32},features:{modificationDetection:1,aead:2,v5Keys:4,seipdv2:8},write:function(i,n){if(typeof n=="number"&&(n=this.read(i,n)),i[n]!==void 0)return i[n];throw Error("Invalid enum value.")},read:function(i,n){if(i[Q_]||(i[Q_]=[],Object.entries(i).forEach(([e,t])=>{i[Q_][t]=e})),i[Q_][n]!==void 0)return i[Q_][n];throw Error("Invalid enum value.")}},at={preferredHashAlgorithm:x.hash.sha512,preferredSymmetricAlgorithm:x.symmetric.aes256,preferredCompressionAlgorithm:x.compression.uncompressed,aeadProtect:!1,parseAEADEncryptedV4KeysAsLegacy:!1,preferredAEADAlgorithm:x.aead.gcm,aeadChunkSizeByte:12,v6Keys:!1,enableParsingV5Entities:!1,s2kType:x.s2k.iterated,s2kIterationCountByte:224,s2kArgon2Params:{passes:3,parallelism:4,memoryExponent:16},allowUnauthenticatedMessages:!1,allowUnauthenticatedStream:!1,minRSABits:2047,passwordCollisionCheck:!1,allowInsecureDecryptionWithSigningKeys:!1,allowInsecureVerificationWithReformattedKeys:!1,allowMissingKeyFlags:!1,constantTimePKCS1Decryption:!1,constantTimePKCS1DecryptionSupportedSymmetricAlgorithms:new Set([x.symmetric.aes128,x.symmetric.aes192,x.symmetric.aes256]),ignoreUnsupportedPackets:!0,ignoreMalformedPackets:!1,additionalAllowedPackets:[],showVersion:!1,showComment:!1,versionString:"OpenPGP.js 6.1.0",commentString:"https://openpgpjs.org",maxUserIDLength:5120,knownNotations:[],nonDeterministicSignaturesViaNotation:!0,useEllipticFallback:!0,rejectHashAlgorithms:new Set([x.hash.md5,x.hash.ripemd]),rejectMessageHashAlgorithms:new Set([x.hash.md5,x.hash.ripemd,x.hash.sha1]),rejectPublicKeyAlgorithms:new Set([x.publicKey.elgamal,x.publicKey.dsa]),rejectCurves:new Set([x.curve.secp256k1])},o8=(()=>{try{return!1}catch{}return!1})(),j={isString:function(i){return typeof i=="string"||i instanceof String},nodeRequire:()=>{},isArray:function(i){return i instanceof Array},isUint8Array:Ew,isStream:Ws,getNobleCurve:(i,n)=>N(void 0,null,function*(){if(!at.useEllipticFallback)throw Error("This curve is only supported in the full build of OpenPGP.js");let{nobleCurves:e}=yield import("./chunk-XYMRVQ64.js");switch(i){case x.publicKey.ecdh:case x.publicKey.ecdsa:{let t=e.get(n);if(!t)throw Error("Unsupported curve");return t}case x.publicKey.x448:return e.get("x448");case x.publicKey.ed448:return e.get("ed448");default:throw Error("Unsupported curve")}}),readNumber:function(i){let n=0;for(let e=0;e<i.length;e++)n+=256**e*i[i.length-1-e];return n},writeNumber:function(i,n){let e=new Uint8Array(n);for(let t=0;t<n;t++)e[t]=i>>8*(n-t-1)&255;return e},readDate:function(i){let n=j.readNumber(i);return new Date(1e3*n)},writeDate:function(i){let n=Math.floor(i.getTime()/1e3);return j.writeNumber(n,4)},normalizeDate:function(i=Date.now()){return i===null||i===1/0?i:new Date(1e3*Math.floor(+i/1e3))},readMPI:function(i){let n=(i[0]<<8|i[1])+7>>>3;return j.readExactSubarray(i,2,2+n)},readExactSubarray:function(i,n,e){if(i.length<e-n)throw Error("Input array too short");return i.subarray(n,e)},leftPad(i,n){if(i.length>n)throw Error("Input array too long");let e=new Uint8Array(n),t=n-i.length;return e.set(i,t),e},uint8ArrayToMPI:function(i){let n=j.uint8ArrayBitLength(i);if(n===0)throw Error("Zero MPI");let e=i.subarray(i.length-Math.ceil(n/8)),t=new Uint8Array([(65280&n)>>8,255&n]);return j.concatUint8Array([t,e])},uint8ArrayBitLength:function(i){let n;for(n=0;n<i.length&&i[n]===0;n++);if(n===i.length)return 0;let e=i.subarray(n);return 8*(e.length-1)+j.nbits(e[0])},hexToUint8Array:function(i){let n=new Uint8Array(i.length>>1);for(let e=0;e<i.length>>1;e++)n[e]=parseInt(i.substr(e<<1,2),16);return n},uint8ArrayToHex:function(i){let n="0123456789abcdef",e="";return i.forEach(t=>{e+=n[t>>4]+n[15&t]}),e},stringToUint8Array:function(i){return Vr(i,n=>{if(!j.isString(n))throw Error("stringToUint8Array: Data must be in the form of a string");let e=new Uint8Array(n.length);for(let t=0;t<n.length;t++)e[t]=n.charCodeAt(t);return e})},uint8ArrayToString:function(i){let n=[],t=(i=new Uint8Array(i)).length;for(let r=0;r<t;r+=16384)n.push(String.fromCharCode.apply(String,i.subarray(r,r+16384<t?r+16384:t)));return n.join("")},encodeUTF8:function(i){let n=new TextEncoder("utf-8");function e(t,r=!1){return n.encode(t,{stream:!r})}return Vr(i,e,()=>e("",!0))},decodeUTF8:function(i){let n=new TextDecoder("utf-8");function e(t,r=!1){return n.decode(t,{stream:!r})}return Vr(i,e,()=>e(new Uint8Array,!0))},concat:Us,concatUint8Array:Q8,equalsUint8Array:function(i,n){if(!j.isUint8Array(i)||!j.isUint8Array(n))throw Error("Data must be in the form of a Uint8Array");if(i.length!==n.length)return!1;for(let e=0;e<i.length;e++)if(i[e]!==n[e])return!1;return!0},writeChecksum:function(i){let n=0;for(let e=0;e<i.length;e++)n=n+i[e]&65535;return j.writeNumber(n,2)},printDebug:function(i){o8&&console.log("[OpenPGP.js debug]",i)},printDebugError:function(i){o8&&console.error("[OpenPGP.js debug]",i)},nbits:function(i){let n=1,e=i>>>16;return e!==0&&(i=e,n+=16),e=i>>8,e!==0&&(i=e,n+=8),e=i>>4,e!==0&&(i=e,n+=4),e=i>>2,e!==0&&(i=e,n+=2),e=i>>1,e!==0&&(i=e,n+=1),n},double:function(i){let n=new Uint8Array(i.length),e=i.length-1;for(let t=0;t<e;t++)n[t]=i[t]<<1^i[t+1]>>7;return n[e]=i[e]<<1^135*(i[0]>>7),n},shiftRight:function(i,n){if(n)for(let e=i.length-1;e>=0;e--)i[e]>>=n,e>0&&(i[e]|=i[e-1]<<8-n);return i},getWebCrypto:function(){let i=Ha!==void 0&&Ha.crypto&&Ha.crypto.subtle||this.getNodeCrypto()?.webcrypto.subtle;if(!i)throw Error("The WebCrypto API is not available");return i},getNodeCrypto:function(){return this.nodeRequire("crypto")},getNodeZlib:function(){return this.nodeRequire("zlib")},getNodeBuffer:function(){return(this.nodeRequire("buffer")||{}).Buffer},getHardwareConcurrency:function(){return typeof navigator<"u"?navigator.hardwareConcurrency||1:this.nodeRequire("os").cpus().length},isEmailAddress:function(i){return j.isString(i)?/^[^\p{C}\p{Z}@<>\\]+@[^\p{C}\p{Z}@<>\\]+[^\p{C}\p{Z}\p{P}]$/u.test(i):!1},canonicalizeEOL:function(i){let n=!1;return Vr(i,e=>{let t;n&&(e=j.concatUint8Array([new Uint8Array([13]),e])),e[e.length-1]===13?(n=!0,e=e.subarray(0,-1)):n=!1;let r=[];for(let a=0;t=e.indexOf(10,a)+1,t;a=t)e[t-2]!==13&&r.push(t);if(!r.length)return e;let o=new Uint8Array(e.length+r.length),s=0;for(let a=0;a<r.length;a++){let l=e.subarray(r[a-1]||0,r[a]);o.set(l,s),s+=l.length,o[s-1]=13,o[s]=10,s++}return o.set(e.subarray(r[r.length-1]||0),s),o},()=>n?new Uint8Array([13]):void 0)},nativeEOL:function(i){let n=!1;return Vr(i,e=>{let t;(e=n&&e[0]!==10?j.concatUint8Array([new Uint8Array([13]),e]):new Uint8Array(e))[e.length-1]===13?(n=!0,e=e.subarray(0,-1)):n=!1;let r=0;for(let o=0;o!==e.length;o=t){t=e.indexOf(13,o)+1,t||(t=e.length);let s=t-(e[t]===10?1:0);o&&e.copyWithin(r,o,s),r+=s-o}return e.subarray(0,r)},()=>n?new Uint8Array([13]):void 0)},removeTrailingSpaces:function(i){return i.split(`
`).map(n=>{let e=n.length-1;for(;e>=0&&(n[e]===" "||n[e]==="	"||n[e]==="\r");e--);return n.substr(0,e+1)}).join(`
`)},wrapError:function(i,n){if(!n)return Error(i);try{n.message=i+": "+n.message}catch{}return n},constructAllowedPackets:function(i){let n={};return i.forEach(e=>{if(!e.tag)throw Error("Invalid input: expected a packet class");n[e.tag]=e}),n},anyPromise:function(i){return new Promise((n,e)=>N(this,null,function*(){let t;yield Promise.all(i.map(r=>N(this,null,function*(){try{n(yield r)}catch(o){t=o}}))),e(t)}))},selectUint8Array:function(i,n,e){let t=Math.max(n.length,e.length),r=new Uint8Array(t),o=0;for(let s=0;s<r.length;s++)r[s]=n[s]&256-i|e[s]&255+i,o+=i&s<n.length|1-i&s<e.length;return r.subarray(0,o)},selectUint8:function(i,n,e){return n&256-i|e&255+i},isAES:function(i){return i===x.symmetric.aes128||i===x.symmetric.aes192||i===x.symmetric.aes256}},bO=j.getNodeBuffer(),Yb,Jb;function sd(i){let n=new Uint8Array;return Vr(i,e=>{n=j.concatUint8Array([n,e]);let t=[],r=Math.floor(n.length/45),o=45*r,s=Yb(n.subarray(0,o));for(let a=0;a<r;a++)t.push(s.substr(60*a,60)),t.push(`
`);return n=n.subarray(o),t.join("")},()=>n.length?Yb(n)+`
`:"")}function n7(i){let n="";return Vr(i,e=>{n+=e;let t=0,r=[" ","	","\r",`
`];for(let a=0;a<r.length;a++){let l=r[a];for(let c=n.indexOf(l);c!==-1;c=n.indexOf(l,c+1))t++}let o=n.length;for(;o>0&&(o-t)%4!=0;o--)r.includes(n[o])&&t--;let s=Jb(n.substr(0,o));return n=n.substr(o),s},()=>Jb(n))}function bl(i){return n7(i.replace(/-/g,"+").replace(/_/g,"/"))}function ws(i,n){let e=sd(i).replace(/[\r\n]/g,"");return e=e.replace(/[+]/g,"-").replace(/[/]/g,"_").replace(/[=]/g,""),e}function ive(i){let n=i.match(/^-----BEGIN PGP (MESSAGE, PART \d+\/\d+|MESSAGE, PART \d+|SIGNED MESSAGE|MESSAGE|PUBLIC KEY BLOCK|PRIVATE KEY BLOCK|SIGNATURE)-----$/m);if(!n)throw Error("Unknown ASCII armor type");return/MESSAGE, PART \d+\/\d+/.test(n[1])?x.armor.multipartSection:/MESSAGE, PART \d+/.test(n[1])?x.armor.multipartLast:/SIGNED MESSAGE/.test(n[1])?x.armor.signed:/MESSAGE/.test(n[1])?x.armor.message:/PUBLIC KEY BLOCK/.test(n[1])?x.armor.publicKey:/PRIVATE KEY BLOCK/.test(n[1])?x.armor.privateKey:/SIGNATURE/.test(n[1])?x.armor.signature:void 0}function qp(i,n){let e="";return n.showVersion&&(e+="Version: "+n.versionString+`
`),n.showComment&&(e+="Comment: "+n.commentString+`
`),i&&(e+="Comment: "+i+`
`),e+=`
`,e}function Yp(i){let n=function(e){let t=13501623;return Vr(e,r=>{let o=nve?Math.floor(r.length/4):0,s=new Uint32Array(r.buffer,r.byteOffset,o);for(let a=0;a<o;a++)t^=s[a],t=Po[0][t>>24&255]^Po[1][t>>16&255]^Po[2][t>>8&255]^Po[3][255&t];for(let a=4*o;a<r.length;a++)t=t>>8^Po[0][255&t^r[a]]},()=>new Uint8Array([t,t>>8,t>>16]))}(i);return sd(n)}bO?(Yb=i=>bO.from(i).toString("base64"),Jb=i=>{let n=bO.from(i,"base64");return new Uint8Array(n.buffer,n.byteOffset,n.byteLength)}):(Yb=i=>btoa(j.uint8ArrayToString(i)),Jb=i=>j.stringToUint8Array(atob(i)));var Po=[Array(255),Array(255),Array(255),Array(255)];for(let i=0;i<=255;i++){let n=i<<16;for(let e=0;e<8;e++)n=n<<1^(8388608&n?8801531:0);Po[0][i]=(16711680&n)>>16|65280&n|(255&n)<<16}for(let i=0;i<=255;i++)Po[1][i]=Po[0][i]>>8^Po[0][255&Po[0][i]];for(let i=0;i<=255;i++)Po[2][i]=Po[1][i]>>8^Po[0][255&Po[1][i]];for(let i=0;i<=255;i++)Po[3][i]=Po[2][i]>>8^Po[0][255&Po[2][i]];var nve=function(){let i=new ArrayBuffer(2);return new DataView(i).setInt16(0,255,!0),new Int16Array(i)[0]===255}();function s8(i){for(let n=0;n<i.length;n++)/^([^\s:]|[^\s:][^:]*[^\s:]): .+$/.test(i[n])||j.printDebugError(Error("Improperly formatted armor header: "+i[n])),/^(Version|Comment|MessageID|Hash|Charset): .+$/.test(i[n])||j.printDebugError(Error("Unknown header: "+i[n]))}function rve(i){let n=i,e=i.lastIndexOf("=");return e>=0&&e!==i.length-1&&(n=i.slice(0,e)),n}function A0(i){return new Promise((n,e)=>N(this,null,function*(){try{let t=/^-----[^-]+-----$/m,r=/^[ \f\r\t\u00a0\u2000-\u200a\u202f\u205f\u3000]*$/,o,s=[],a,l,c=s,d=[],p=n7(Lu(i,(g,C)=>N(this,null,function*(){let y=hd(g);try{for(;;){let w=yield y.readLine();if(w===void 0)throw Error("Misformed armored text");if(w=j.removeTrailingSpaces(w.replace(/[\r\n]/g,"")),o)if(a)l||o!==x.armor.signed||(t.test(w)?(d=d.join(`\r
`),l=!0,s8(c),c=[],a=!1):d.push(w.replace(/^- /,"")));else if(t.test(w)&&e(Error("Mandatory blank line missing between armor headers and armor data")),r.test(w)){if(s8(c),a=!0,l||o!==x.armor.signed){n({text:d,data:p,headers:s,type:o});break}}else c.push(w);else t.test(w)&&(o=ive(w))}}catch(w){return void e(w)}let v=Ca(C);try{for(;;){yield v.ready;let{done:w,value:E}=yield y.read();if(w)throw Error("Misformed armored text");let T=E+"";if(T.indexOf("=")!==-1||T.indexOf("-")!==-1){let F=yield y.readToEnd();F.length||(F=""),F=T+F,F=j.removeTrailingSpaces(F.replace(/\r/g,""));let G=F.split(t);if(G.length===1)throw Error("Misformed armored text");let z=rve(G[0].slice(0,-1));yield v.write(z);break}yield v.write(T)}yield v.ready,yield v.close()}catch(w){yield v.abort(w)}})))}catch(t){e(t)}})).then(n=>N(this,null,function*(){return Yr(n.data)&&(n.data=yield _o(n.data)),n}))}function E0(i,n,e,t,r,o=!1,s=at){let a,l;i===x.armor.signed&&(a=n.text,l=n.hash,n=n.data);let c=o&&d0(n),d=[];switch(i){case x.armor.multipartSection:d.push("-----BEGIN PGP MESSAGE, PART "+e+"/"+t+`-----
`),d.push(qp(r,s)),d.push(sd(n)),c&&d.push("=",Yp(c)),d.push("-----END PGP MESSAGE, PART "+e+"/"+t+`-----
`);break;case x.armor.multipartLast:d.push("-----BEGIN PGP MESSAGE, PART "+e+`-----
`),d.push(qp(r,s)),d.push(sd(n)),c&&d.push("=",Yp(c)),d.push("-----END PGP MESSAGE, PART "+e+`-----
`);break;case x.armor.signed:d.push(`-----BEGIN PGP SIGNED MESSAGE-----
`),d.push(l?`Hash: ${l}

`:`
`),d.push(a.replace(/^-/gm,"- -")),d.push(`
-----BEGIN PGP SIGNATURE-----
`),d.push(qp(r,s)),d.push(sd(n)),c&&d.push("=",Yp(c)),d.push(`-----END PGP SIGNATURE-----
`);break;case x.armor.message:d.push(`-----BEGIN PGP MESSAGE-----
`),d.push(qp(r,s)),d.push(sd(n)),c&&d.push("=",Yp(c)),d.push(`-----END PGP MESSAGE-----
`);break;case x.armor.publicKey:d.push(`-----BEGIN PGP PUBLIC KEY BLOCK-----
`),d.push(qp(r,s)),d.push(sd(n)),c&&d.push("=",Yp(c)),d.push(`-----END PGP PUBLIC KEY BLOCK-----
`);break;case x.armor.privateKey:d.push(`-----BEGIN PGP PRIVATE KEY BLOCK-----
`),d.push(qp(r,s)),d.push(sd(n)),c&&d.push("=",Yp(c)),d.push(`-----END PGP PRIVATE KEY BLOCK-----
`);break;case x.armor.signature:d.push(`-----BEGIN PGP SIGNATURE-----
`),d.push(qp(r,s)),d.push(sd(n)),c&&d.push("=",Yp(c)),d.push(`-----END PGP SIGNATURE-----
`)}return j.concat(d)}var Gs=BigInt(0),gm=BigInt(1);function Qt(i){let n="0123456789ABCDEF",e="";return i.forEach(t=>{e+=n[t>>4]+n[15&t]}),BigInt("0x0"+e)}function ln(i,n){let e=i%n;return e<Gs?e+n:e}function ko(i,n,e){if(e===Gs)throw Error("Modulo cannot be zero");if(e===gm)return BigInt(0);if(n<Gs)throw Error("Unsopported negative exponent");let t=n,r=i;r%=e;let o=BigInt(1);for(;t>Gs;){let s=t&gm;t>>=gm,o=s?o*r%e:o,r=r*r%e}return o}function a8(i){return i>=Gs?i:-i}function ym(i,n){let{gcd:e,x:t}=function(r,o){let s=BigInt(0),a=BigInt(1),l=BigInt(1),c=BigInt(0),d=a8(r),p=a8(o),g=r<Gs,C=o<Gs;for(;p!==Gs;){let y=d/p,v=s;s=l-y*s,l=v,v=a,a=c-y*a,c=v,v=p,p=d%p,d=v}return{x:g?-l:l,y:C?-c:c,gcd:d}}(i,n);if(e!==gm)throw Error("Inverse does not exist");return ln(t+n,n)}function HO(i){let n=Number(i);if(n>Number.MAX_SAFE_INTEGER)throw Error("Number can only safely store up to 53 bits");return n}function ove(i,n){return(i>>BigInt(n)&gm)===Gs?0:1}function _m(i){let n=i<Gs?BigInt(-1):Gs,e=1,t=i;for(;(t>>=gm)!==n;)e++;return e}function zs(i){let n=i<Gs?BigInt(-1):Gs,e=BigInt(8),t=1,r=i;for(;(r>>=e)!==n;)t++;return t}function qr(i,n="be",e){let t=i.toString(16);t.length%2==1&&(t="0"+t);let r=t.length/2,o=new Uint8Array(e||r),s=e?e-r:0,a=0;for(;a<r;)o[a+s]=parseInt(t.slice(2*a,2*a+2),16),a++;return n!=="be"&&o.reverse(),o}var sve=j.getNodeCrypto();function Fo(i){let n=typeof crypto<"u"?crypto:sve?.webcrypto;if(n?.getRandomValues){let e=new Uint8Array(i);return n.getRandomValues(e)}throw Error("No secure random number generator available.")}function Du(i,n){if(n<i)throw Error("Illegal parameter value: max <= min");let e=n-i;return ln(Qt(Fo(zs(e)+8)),e)+i}var ic=BigInt(1);function l8(i,n,e){let t=BigInt(30),r=ic<<BigInt(i-1),o=[1,6,5,4,3,2,1,4,3,2,1,2,1,4,3,2,1,2,1,4,3,2,1,6,5,4,3,2,1,2],s=Du(r,r<<ic),a=HO(ln(s,t));do s+=BigInt(o[a]),a=(a+o[a])%o.length,_m(s)>i&&(s=ln(s,r<<ic),s+=r,a=HO(ln(s,t)));while(!r7(s,n,e));return s}function r7(i,n,e){return(!n||function(t,r){let o=t,s=r;for(;s!==Gs;){let a=s;s=o%s,o=a}return o}(i-ic,n)===ic)&&!!function(t){let r=BigInt(0);return ave.every(o=>ln(t,o)!==r)}(i)&&!!function(t,r=BigInt(2)){return ko(r,t-ic,t)===ic}(i)&&!!function(t,r){let o=_m(t);r||(r=Math.max(1,o/48|0));let s=t-ic,a=0;for(;!ove(s,a);)a++;let l=t>>BigInt(a);for(;r>0;r--){let c,d=ko(Du(BigInt(2),s),l,t);if(d!==ic&&d!==s){for(c=1;c<a;c++){if(d=ln(d*d,t),d===ic)return!1;if(d===s)break}if(c===a)return!1}}return!0}(i,e)}var ave=[7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999,3001,3011,3019,3023,3037,3041,3049,3061,3067,3079,3083,3089,3109,3119,3121,3137,3163,3167,3169,3181,3187,3191,3203,3209,3217,3221,3229,3251,3253,3257,3259,3271,3299,3301,3307,3313,3319,3323,3329,3331,3343,3347,3359,3361,3371,3373,3389,3391,3407,3413,3433,3449,3457,3461,3463,3467,3469,3491,3499,3511,3517,3527,3529,3533,3539,3541,3547,3557,3559,3571,3581,3583,3593,3607,3613,3617,3623,3631,3637,3643,3659,3671,3673,3677,3691,3697,3701,3709,3719,3727,3733,3739,3761,3767,3769,3779,3793,3797,3803,3821,3823,3833,3847,3851,3853,3863,3877,3881,3889,3907,3911,3917,3919,3923,3929,3931,3943,3947,3967,3989,4001,4003,4007,4013,4019,4021,4027,4049,4051,4057,4073,4079,4091,4093,4099,4111,4127,4129,4133,4139,4153,4157,4159,4177,4201,4211,4217,4219,4229,4231,4241,4243,4253,4259,4261,4271,4273,4283,4289,4297,4327,4337,4339,4349,4357,4363,4373,4391,4397,4409,4421,4423,4441,4447,4451,4457,4463,4481,4483,4493,4507,4513,4517,4519,4523,4547,4549,4561,4567,4583,4591,4597,4603,4621,4637,4639,4643,4649,4651,4657,4663,4673,4679,4691,4703,4721,4723,4729,4733,4751,4759,4783,4787,4789,4793,4799,4801,4813,4817,4831,4861,4871,4877,4889,4903,4909,4919,4931,4933,4937,4943,4951,4957,4967,4969,4973,4987,4993,4999].map(i=>BigInt(i)),c8=j.getWebCrypto(),Xb=j.getNodeCrypto(),lve=Xb&&Xb.getHashes();function fd(i){if(Xb&&lve.includes(i))return function(n){return N(this,null,function*(){let e=Xb.createHash(i);return Vr(n,t=>{e.update(t)},()=>new Uint8Array(e.digest()))})}}function md(i,n){let e=()=>N(this,null,function*(){let{nobleHashes:t}=yield import("./chunk-S3TBWVSR.js"),r=t.get(i);if(!r)throw Error("Unsupported hash");return r});return function(t){return N(this,null,function*(){if(Yr(t)&&(t=yield _o(t)),j.isStream(t)){let r=(yield e()).create();return Vr(t,o=>{r.update(o)},()=>r.digest())}return c8&&n?new Uint8Array(yield c8.digest(n,t)):(yield e())(t)})}}var cve=fd("md5")||md("md5"),dve=fd("sha1")||md("sha1","SHA-1"),uve=fd("sha224")||md("sha224"),pve=fd("sha256")||md("sha256","SHA-256"),hve=fd("sha384")||md("sha384","SHA-384"),fve=fd("sha512")||md("sha512","SHA-512"),mve=fd("ripemd160")||md("ripemd160"),gve=fd("sha3-256")||md("sha3_256"),_ve=fd("sha3-512")||md("sha3_512");function hc(i,n){switch(i){case x.hash.md5:return cve(n);case x.hash.sha1:return dve(n);case x.hash.ripemd:return mve(n);case x.hash.sha256:return pve(n);case x.hash.sha384:return hve(n);case x.hash.sha512:return fve(n);case x.hash.sha224:return uve(n);case x.hash.sha3_256:return gve(n);case x.hash.sha3_512:return _ve(n);default:throw Error("Unsupported hash function")}}function go(i){switch(i){case x.hash.md5:return 16;case x.hash.sha1:case x.hash.ripemd:return 20;case x.hash.sha256:return 32;case x.hash.sha384:return 48;case x.hash.sha512:return 64;case x.hash.sha224:return 28;case x.hash.sha3_256:return 32;case x.hash.sha3_512:return 64;default:throw Error("Invalid hash algorithm.")}}var nc=[];function o7(i,n){let e=i.length;if(e>n-11)throw Error("Message too long");let t=function(o){let s=new Uint8Array(o),a=0;for(;a<o;){let l=Fo(o-a);for(let c=0;c<l.length;c++)l[c]!==0&&(s[a++]=l[c])}return s}(n-e-3),r=new Uint8Array(n);return r[1]=2,r.set(t,2),r.set(i,n-e),r}function s7(i,n){let e=2,t=1;for(let a=e;a<i.length;a++)t&=i[a]!==0,e+=t;let r=e-2,o=i.subarray(e+1),s=i[0]===0&i[1]===2&r>=8&!t;if(n)return j.selectUint8Array(s,o,n);if(s)return o;throw Error("Decryption error")}function a7(i,n,e){let t;if(n.length!==go(i))throw Error("Invalid hash length");let r=new Uint8Array(nc[i].length);for(t=0;t<nc[i].length;t++)r[t]=nc[i][t];let o=r.length+n.length;if(e<o+11)throw Error("Intended encoded message length too short");let s=new Uint8Array(e-o-3).fill(255),a=new Uint8Array(e);return a[1]=1,a.set(s,2),a.set(r,e-o),a.set(n,e-n.length),a}nc[1]=[48,32,48,12,6,8,42,134,72,134,247,13,2,5,5,0,4,16],nc[2]=[48,33,48,9,6,5,43,14,3,2,26,5,0,4,20],nc[3]=[48,33,48,9,6,5,43,36,3,2,1,5,0,4,20],nc[8]=[48,49,48,13,6,9,96,134,72,1,101,3,4,2,1,5,0,4,32],nc[9]=[48,65,48,13,6,9,96,134,72,1,101,3,4,2,2,5,0,4,48],nc[10]=[48,81,48,13,6,9,96,134,72,1,101,3,4,2,3,5,0,4,64],nc[11]=[48,45,48,13,6,9,96,134,72,1,101,3,4,2,4,5,0,4,28];var Im=j.getWebCrypto(),th=j.getNodeCrypto(),Ru=BigInt(1);function Cve(i,n,e,t,r,o,s,a,l){return N(this,null,function*(){if(go(i)>=e.length)throw Error("Digest size cannot exceed key modulus size");if(n&&!j.isStream(n)){if(j.getWebCrypto())try{return yield function(c,d,p,g,C,y,v,w){return N(this,null,function*(){let E=yield GO(p,g,C,y,v,w),T={name:"RSASSA-PKCS1-v1_5",hash:{name:c}},F=yield Im.importKey("jwk",E,T,!1,["sign"]);return new Uint8Array(yield Im.sign("RSASSA-PKCS1-v1_5",F,d))})}(x.read(x.webHash,i),n,e,t,r,o,s,a)}catch(c){j.printDebugError(c)}else if(j.getNodeCrypto())return function(c,d,p,g,C,y,v,w){return N(this,null,function*(){let E=th.createSign(x.read(x.hash,c));E.write(d),E.end();let T=yield GO(p,g,C,y,v,w);return new Uint8Array(E.sign({key:T,format:"jwk",type:"pkcs1"}))})}(i,n,e,t,r,o,s,a)}return function(c,d,p,g){return N(this,null,function*(){d=Qt(d);let C=Qt(a7(c,g,zs(d)));return p=Qt(p),qr(ko(C,p,d),"be",zs(d))})}(i,e,r,l)})}function yve(i,n,e,t,r,o){return N(this,null,function*(){if(n&&!j.isStream(n)){if(j.getWebCrypto())try{return yield function(s,a,l,c,d){return N(this,null,function*(){let p=zO(c,d),g=yield Im.importKey("jwk",p,{name:"RSASSA-PKCS1-v1_5",hash:{name:s}},!1,["verify"]);return Im.verify("RSASSA-PKCS1-v1_5",g,l,a)})}(x.read(x.webHash,i),n,e,t,r)}catch(s){j.printDebugError(s)}else if(j.getNodeCrypto())return function(s,a,l,c,d){return N(this,null,function*(){let p=zO(c,d),g={key:p,format:"jwk",type:"pkcs1"},C=th.createVerify(x.read(x.hash,s));C.write(a),C.end();try{return C.verify(g,l)}catch{return!1}})}(i,n,e,t,r)}return function(s,a,l,c,d){return N(this,null,function*(){if(l=Qt(l),a=Qt(a),c=Qt(c),a>=l)throw Error("Signature size cannot exceed modulus size");let p=qr(ko(a,c,l),"be",zs(l)),g=a7(s,d,zs(l));return j.equalsUint8Array(p,g)})}(i,e,t,r,o)})}function Ive(i,n,e){return N(this,null,function*(){return j.getNodeCrypto()?function(t,r,o){return N(this,null,function*(){let s=zO(r,o),a={key:s,format:"jwk",type:"pkcs1",padding:th.constants.RSA_PKCS1_PADDING};return new Uint8Array(th.publicEncrypt(a,t))})}(i,n,e):function(t,r,o){return N(this,null,function*(){if(r=Qt(r),t=Qt(o7(t,zs(r))),o=Qt(o),t>=r)throw Error("Message size cannot exceed modulus size");return qr(ko(t,o,r),"be",zs(r))})}(i,n,e)})}function vve(i,n,e,t,r,o,s,a){return N(this,null,function*(){if(j.getNodeCrypto()&&!a)try{return yield function(l,c,d,p,g,C,y){return N(this,null,function*(){let v=yield GO(c,d,p,g,C,y),w={key:v,format:"jwk",type:"pkcs1",padding:th.constants.RSA_PKCS1_PADDING};try{return new Uint8Array(th.privateDecrypt(w,l))}catch{throw Error("Decryption error")}})}(i,n,e,t,r,o,s)}catch(l){j.printDebugError(l)}return function(l,c,d,p,g,C,y,v){return N(this,null,function*(){if(l=Qt(l),c=Qt(c),d=Qt(d),p=Qt(p),g=Qt(g),C=Qt(C),y=Qt(y),l>=c)throw Error("Data too large.");let w=ln(p,C-Ru),E=ln(p,g-Ru),T=Du(BigInt(2),c),F=ko(ym(T,c),d,c);l=ln(l*F,c);let G=ko(l,E,g),z=ko(l,w,C),ne=ln(y*(z-G),C)*g+G;return ne=ln(ne*T,c),s7(qr(ne,"be",zs(c)),v)})}(i,n,e,t,r,o,s,a)})}function GO(i,n,e,t,r,o){return N(this,null,function*(){let s=Qt(t),a=Qt(r),l=Qt(e),c=ln(l,a-Ru),d=ln(l,s-Ru);return d=qr(d),c=qr(c),{kty:"RSA",n:ws(i),e:ws(n),d:ws(e),p:ws(r),q:ws(t),dp:ws(c),dq:ws(d),qi:ws(o),ext:!0}})}function zO(i,n){return{kty:"RSA",n:ws(i),e:ws(n),ext:!0}}function d8(i,n){return{n:bl(i.n),e:qr(n),d:bl(i.d),p:bl(i.q),q:bl(i.p),u:bl(i.qi)}}var Au=BigInt(1),wO=typeof Ha=="object"&&"crypto"in Ha?Ha.crypto:void 0,wr={},Wt=function(i){var n,e=new Float64Array(16);if(i)for(n=0;n<i.length;n++)e[n]=i[n];return e},WO=function(){throw Error("no PRNG")},l7=new Uint8Array(32);l7[0]=9;var KO=Wt(),Qb=Wt([1]),bve=Wt([56129,1]),wve=Wt([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),Sve=Wt([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),u8=Wt([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),p8=Wt([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),Ave=Wt([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function h8(i,n,e,t){i[n]=e>>24&255,i[n+1]=e>>16&255,i[n+2]=e>>8&255,i[n+3]=255&e,i[n+4]=t>>24&255,i[n+5]=t>>16&255,i[n+6]=t>>8&255,i[n+7]=255&t}function c7(i,n,e,t){return function(r,o,s,a,l){var c,d=0;for(c=0;c<l;c++)d|=r[o+c]^s[a+c];return(1&d-1>>>8)-1}(i,n,e,t,32)}function xu(i,n){var e;for(e=0;e<16;e++)i[e]=0|n[e]}function SO(i){var n,e,t=1;for(n=0;n<16;n++)e=i[n]+t+65535,t=Math.floor(e/65536),i[n]=e-65536*t;i[0]+=t-1+37*(t-1)}function pm(i,n,e){for(var t,r=~(e-1),o=0;o<16;o++)t=r&(i[o]^n[o]),i[o]^=t,n[o]^=t}function u0(i,n){var e,t,r,o=Wt(),s=Wt();for(e=0;e<16;e++)s[e]=n[e];for(SO(s),SO(s),SO(s),t=0;t<2;t++){for(o[0]=s[0]-65517,e=1;e<15;e++)o[e]=s[e]-65535-(o[e-1]>>16&1),o[e-1]&=65535;o[15]=s[15]-32767-(o[14]>>16&1),r=o[15]>>16&1,o[14]&=65535,pm(s,o,1-r)}for(e=0;e<16;e++)i[2*e]=255&s[e],i[2*e+1]=s[e]>>8}function f8(i,n){var e=new Uint8Array(32),t=new Uint8Array(32);return u0(e,i),u0(t,n),c7(e,0,t,0)}function d7(i){var n=new Uint8Array(32);return u0(n,i),1&n[0]}function u7(i,n){var e;for(e=0;e<16;e++)i[e]=n[2*e]+(n[2*e+1]<<8);i[15]&=32767}function oc(i,n,e){for(var t=0;t<16;t++)i[t]=n[t]+e[t]}function ac(i,n,e){for(var t=0;t<16;t++)i[t]=n[t]-e[t]}function dn(i,n,e){var t,r,o=0,s=0,a=0,l=0,c=0,d=0,p=0,g=0,C=0,y=0,v=0,w=0,E=0,T=0,F=0,G=0,z=0,X=0,ne=0,Y=0,se=0,ye=0,Ce=0,we=0,Be=0,Fe=0,Qe=0,Ot=0,di=0,xi=0,Ni=0,Gt=e[0],Gi=e[1],oi=e[2],li=e[3],Nt=e[4],ti=e[5],pi=e[6],En=e[7],Ki=e[8],je=e[9],Le=e[10],xe=e[11],it=e[12],Dt=e[13],Ht=e[14],Rt=e[15];o+=(t=n[0])*Gt,s+=t*Gi,a+=t*oi,l+=t*li,c+=t*Nt,d+=t*ti,p+=t*pi,g+=t*En,C+=t*Ki,y+=t*je,v+=t*Le,w+=t*xe,E+=t*it,T+=t*Dt,F+=t*Ht,G+=t*Rt,s+=(t=n[1])*Gt,a+=t*Gi,l+=t*oi,c+=t*li,d+=t*Nt,p+=t*ti,g+=t*pi,C+=t*En,y+=t*Ki,v+=t*je,w+=t*Le,E+=t*xe,T+=t*it,F+=t*Dt,G+=t*Ht,z+=t*Rt,a+=(t=n[2])*Gt,l+=t*Gi,c+=t*oi,d+=t*li,p+=t*Nt,g+=t*ti,C+=t*pi,y+=t*En,v+=t*Ki,w+=t*je,E+=t*Le,T+=t*xe,F+=t*it,G+=t*Dt,z+=t*Ht,X+=t*Rt,l+=(t=n[3])*Gt,c+=t*Gi,d+=t*oi,p+=t*li,g+=t*Nt,C+=t*ti,y+=t*pi,v+=t*En,w+=t*Ki,E+=t*je,T+=t*Le,F+=t*xe,G+=t*it,z+=t*Dt,X+=t*Ht,ne+=t*Rt,c+=(t=n[4])*Gt,d+=t*Gi,p+=t*oi,g+=t*li,C+=t*Nt,y+=t*ti,v+=t*pi,w+=t*En,E+=t*Ki,T+=t*je,F+=t*Le,G+=t*xe,z+=t*it,X+=t*Dt,ne+=t*Ht,Y+=t*Rt,d+=(t=n[5])*Gt,p+=t*Gi,g+=t*oi,C+=t*li,y+=t*Nt,v+=t*ti,w+=t*pi,E+=t*En,T+=t*Ki,F+=t*je,G+=t*Le,z+=t*xe,X+=t*it,ne+=t*Dt,Y+=t*Ht,se+=t*Rt,p+=(t=n[6])*Gt,g+=t*Gi,C+=t*oi,y+=t*li,v+=t*Nt,w+=t*ti,E+=t*pi,T+=t*En,F+=t*Ki,G+=t*je,z+=t*Le,X+=t*xe,ne+=t*it,Y+=t*Dt,se+=t*Ht,ye+=t*Rt,g+=(t=n[7])*Gt,C+=t*Gi,y+=t*oi,v+=t*li,w+=t*Nt,E+=t*ti,T+=t*pi,F+=t*En,G+=t*Ki,z+=t*je,X+=t*Le,ne+=t*xe,Y+=t*it,se+=t*Dt,ye+=t*Ht,Ce+=t*Rt,C+=(t=n[8])*Gt,y+=t*Gi,v+=t*oi,w+=t*li,E+=t*Nt,T+=t*ti,F+=t*pi,G+=t*En,z+=t*Ki,X+=t*je,ne+=t*Le,Y+=t*xe,se+=t*it,ye+=t*Dt,Ce+=t*Ht,we+=t*Rt,y+=(t=n[9])*Gt,v+=t*Gi,w+=t*oi,E+=t*li,T+=t*Nt,F+=t*ti,G+=t*pi,z+=t*En,X+=t*Ki,ne+=t*je,Y+=t*Le,se+=t*xe,ye+=t*it,Ce+=t*Dt,we+=t*Ht,Be+=t*Rt,v+=(t=n[10])*Gt,w+=t*Gi,E+=t*oi,T+=t*li,F+=t*Nt,G+=t*ti,z+=t*pi,X+=t*En,ne+=t*Ki,Y+=t*je,se+=t*Le,ye+=t*xe,Ce+=t*it,we+=t*Dt,Be+=t*Ht,Fe+=t*Rt,w+=(t=n[11])*Gt,E+=t*Gi,T+=t*oi,F+=t*li,G+=t*Nt,z+=t*ti,X+=t*pi,ne+=t*En,Y+=t*Ki,se+=t*je,ye+=t*Le,Ce+=t*xe,we+=t*it,Be+=t*Dt,Fe+=t*Ht,Qe+=t*Rt,E+=(t=n[12])*Gt,T+=t*Gi,F+=t*oi,G+=t*li,z+=t*Nt,X+=t*ti,ne+=t*pi,Y+=t*En,se+=t*Ki,ye+=t*je,Ce+=t*Le,we+=t*xe,Be+=t*it,Fe+=t*Dt,Qe+=t*Ht,Ot+=t*Rt,T+=(t=n[13])*Gt,F+=t*Gi,G+=t*oi,z+=t*li,X+=t*Nt,ne+=t*ti,Y+=t*pi,se+=t*En,ye+=t*Ki,Ce+=t*je,we+=t*Le,Be+=t*xe,Fe+=t*it,Qe+=t*Dt,Ot+=t*Ht,di+=t*Rt,F+=(t=n[14])*Gt,G+=t*Gi,z+=t*oi,X+=t*li,ne+=t*Nt,Y+=t*ti,se+=t*pi,ye+=t*En,Ce+=t*Ki,we+=t*je,Be+=t*Le,Fe+=t*xe,Qe+=t*it,Ot+=t*Dt,di+=t*Ht,xi+=t*Rt,G+=(t=n[15])*Gt,s+=38*(X+=t*oi),a+=38*(ne+=t*li),l+=38*(Y+=t*Nt),c+=38*(se+=t*ti),d+=38*(ye+=t*pi),p+=38*(Ce+=t*En),g+=38*(we+=t*Ki),C+=38*(Be+=t*je),y+=38*(Fe+=t*Le),v+=38*(Qe+=t*xe),w+=38*(Ot+=t*it),E+=38*(di+=t*Dt),T+=38*(xi+=t*Ht),F+=38*(Ni+=t*Rt),o=(t=(o+=38*(z+=t*Gi))+(r=1)+65535)-65536*(r=Math.floor(t/65536)),s=(t=s+r+65535)-65536*(r=Math.floor(t/65536)),a=(t=a+r+65535)-65536*(r=Math.floor(t/65536)),l=(t=l+r+65535)-65536*(r=Math.floor(t/65536)),c=(t=c+r+65535)-65536*(r=Math.floor(t/65536)),d=(t=d+r+65535)-65536*(r=Math.floor(t/65536)),p=(t=p+r+65535)-65536*(r=Math.floor(t/65536)),g=(t=g+r+65535)-65536*(r=Math.floor(t/65536)),C=(t=C+r+65535)-65536*(r=Math.floor(t/65536)),y=(t=y+r+65535)-65536*(r=Math.floor(t/65536)),v=(t=v+r+65535)-65536*(r=Math.floor(t/65536)),w=(t=w+r+65535)-65536*(r=Math.floor(t/65536)),E=(t=E+r+65535)-65536*(r=Math.floor(t/65536)),T=(t=T+r+65535)-65536*(r=Math.floor(t/65536)),F=(t=F+r+65535)-65536*(r=Math.floor(t/65536)),G=(t=G+r+65535)-65536*(r=Math.floor(t/65536)),o=(t=(o+=r-1+37*(r-1))+(r=1)+65535)-65536*(r=Math.floor(t/65536)),s=(t=s+r+65535)-65536*(r=Math.floor(t/65536)),a=(t=a+r+65535)-65536*(r=Math.floor(t/65536)),l=(t=l+r+65535)-65536*(r=Math.floor(t/65536)),c=(t=c+r+65535)-65536*(r=Math.floor(t/65536)),d=(t=d+r+65535)-65536*(r=Math.floor(t/65536)),p=(t=p+r+65535)-65536*(r=Math.floor(t/65536)),g=(t=g+r+65535)-65536*(r=Math.floor(t/65536)),C=(t=C+r+65535)-65536*(r=Math.floor(t/65536)),y=(t=y+r+65535)-65536*(r=Math.floor(t/65536)),v=(t=v+r+65535)-65536*(r=Math.floor(t/65536)),w=(t=w+r+65535)-65536*(r=Math.floor(t/65536)),E=(t=E+r+65535)-65536*(r=Math.floor(t/65536)),T=(t=T+r+65535)-65536*(r=Math.floor(t/65536)),F=(t=F+r+65535)-65536*(r=Math.floor(t/65536)),G=(t=G+r+65535)-65536*(r=Math.floor(t/65536)),o+=r-1+37*(r-1),i[0]=o,i[1]=s,i[2]=a,i[3]=l,i[4]=c,i[5]=d,i[6]=p,i[7]=g,i[8]=C,i[9]=y,i[10]=v,i[11]=w,i[12]=E,i[13]=T,i[14]=F,i[15]=G}function vl(i,n){dn(i,n,n)}function p7(i,n){var e,t=Wt();for(e=0;e<16;e++)t[e]=n[e];for(e=253;e>=0;e--)vl(t,t),e!==2&&e!==4&&dn(t,t,n);for(e=0;e<16;e++)i[e]=t[e]}function h7(i,n,e){var t,r,o=new Uint8Array(32),s=new Float64Array(80),a=Wt(),l=Wt(),c=Wt(),d=Wt(),p=Wt(),g=Wt();for(r=0;r<31;r++)o[r]=n[r];for(o[31]=127&n[31]|64,o[0]&=248,u7(s,e),r=0;r<16;r++)l[r]=s[r],d[r]=a[r]=c[r]=0;for(a[0]=d[0]=1,r=254;r>=0;--r)pm(a,l,t=o[r>>>3]>>>(7&r)&1),pm(c,d,t),oc(p,a,c),ac(a,a,c),oc(c,l,d),ac(l,l,d),vl(d,p),vl(g,a),dn(a,c,a),dn(c,l,p),oc(p,a,c),ac(a,a,c),vl(l,a),ac(c,d,g),dn(a,c,bve),oc(a,a,d),dn(c,c,a),dn(a,d,g),dn(d,l,s),vl(l,p),pm(a,l,t),pm(c,d,t);for(r=0;r<16;r++)s[r+16]=a[r],s[r+32]=c[r],s[r+48]=l[r],s[r+64]=d[r];var C=s.subarray(32),y=s.subarray(16);return p7(C,C),dn(y,y,C),u0(i,y),0}function m8(i,n){return h7(i,n,l7)}var g8=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function _8(i,n,e,t){for(var r,o,s,a,l,c,d,p,g,C,y,v,w,E,T,F,G,z,X,ne,Y,se,ye,Ce,we,Be,Fe=new Int32Array(16),Qe=new Int32Array(16),Ot=i[0],di=i[1],xi=i[2],Ni=i[3],Gt=i[4],Gi=i[5],oi=i[6],li=i[7],Nt=n[0],ti=n[1],pi=n[2],En=n[3],Ki=n[4],je=n[5],Le=n[6],xe=n[7],it=0;t>=128;){for(X=0;X<16;X++)ne=8*X+it,Fe[X]=e[ne+0]<<24|e[ne+1]<<16|e[ne+2]<<8|e[ne+3],Qe[X]=e[ne+4]<<24|e[ne+5]<<16|e[ne+6]<<8|e[ne+7];for(X=0;X<80;X++)if(r=Ot,o=di,s=xi,a=Ni,l=Gt,c=Gi,d=oi,g=Nt,C=ti,y=pi,v=En,w=Ki,E=je,T=Le,ye=65535&(se=xe),Ce=se>>>16,we=65535&(Y=li),Be=Y>>>16,ye+=65535&(se=(Ki>>>14|Gt<<18)^(Ki>>>18|Gt<<14)^(Gt>>>9|Ki<<23)),Ce+=se>>>16,we+=65535&(Y=(Gt>>>14|Ki<<18)^(Gt>>>18|Ki<<14)^(Ki>>>9|Gt<<23)),Be+=Y>>>16,ye+=65535&(se=Ki&je^~Ki&Le),Ce+=se>>>16,we+=65535&(Y=Gt&Gi^~Gt&oi),Be+=Y>>>16,Y=g8[2*X],ye+=65535&(se=g8[2*X+1]),Ce+=se>>>16,we+=65535&Y,Be+=Y>>>16,Y=Fe[X%16],Ce+=(se=Qe[X%16])>>>16,we+=65535&Y,Be+=Y>>>16,we+=(Ce+=(ye+=65535&se)>>>16)>>>16,ye=65535&(se=z=65535&ye|Ce<<16),Ce=se>>>16,we=65535&(Y=G=65535&we|(Be+=we>>>16)<<16),Be=Y>>>16,ye+=65535&(se=(Nt>>>28|Ot<<4)^(Ot>>>2|Nt<<30)^(Ot>>>7|Nt<<25)),Ce+=se>>>16,we+=65535&(Y=(Ot>>>28|Nt<<4)^(Nt>>>2|Ot<<30)^(Nt>>>7|Ot<<25)),Be+=Y>>>16,Ce+=(se=Nt&ti^Nt&pi^ti&pi)>>>16,we+=65535&(Y=Ot&di^Ot&xi^di&xi),Be+=Y>>>16,p=65535&(we+=(Ce+=(ye+=65535&se)>>>16)>>>16)|(Be+=we>>>16)<<16,F=65535&ye|Ce<<16,ye=65535&(se=v),Ce=se>>>16,we=65535&(Y=a),Be=Y>>>16,Ce+=(se=z)>>>16,we+=65535&(Y=G),Be+=Y>>>16,di=r,xi=o,Ni=s,Gt=a=65535&(we+=(Ce+=(ye+=65535&se)>>>16)>>>16)|(Be+=we>>>16)<<16,Gi=l,oi=c,li=d,Ot=p,ti=g,pi=C,En=y,Ki=v=65535&ye|Ce<<16,je=w,Le=E,xe=T,Nt=F,X%16==15)for(ne=0;ne<16;ne++)Y=Fe[ne],ye=65535&(se=Qe[ne]),Ce=se>>>16,we=65535&Y,Be=Y>>>16,Y=Fe[(ne+9)%16],ye+=65535&(se=Qe[(ne+9)%16]),Ce+=se>>>16,we+=65535&Y,Be+=Y>>>16,G=Fe[(ne+1)%16],ye+=65535&(se=((z=Qe[(ne+1)%16])>>>1|G<<31)^(z>>>8|G<<24)^(z>>>7|G<<25)),Ce+=se>>>16,we+=65535&(Y=(G>>>1|z<<31)^(G>>>8|z<<24)^G>>>7),Be+=Y>>>16,G=Fe[(ne+14)%16],Ce+=(se=((z=Qe[(ne+14)%16])>>>19|G<<13)^(G>>>29|z<<3)^(z>>>6|G<<26))>>>16,we+=65535&(Y=(G>>>19|z<<13)^(z>>>29|G<<3)^G>>>6),Be+=Y>>>16,Be+=(we+=(Ce+=(ye+=65535&se)>>>16)>>>16)>>>16,Fe[ne]=65535&we|Be<<16,Qe[ne]=65535&ye|Ce<<16;ye=65535&(se=Nt),Ce=se>>>16,we=65535&(Y=Ot),Be=Y>>>16,Y=i[0],Ce+=(se=n[0])>>>16,we+=65535&Y,Be+=Y>>>16,Be+=(we+=(Ce+=(ye+=65535&se)>>>16)>>>16)>>>16,i[0]=Ot=65535&we|Be<<16,n[0]=Nt=65535&ye|Ce<<16,ye=65535&(se=ti),Ce=se>>>16,we=65535&(Y=di),Be=Y>>>16,Y=i[1],Ce+=(se=n[1])>>>16,we+=65535&Y,Be+=Y>>>16,Be+=(we+=(Ce+=(ye+=65535&se)>>>16)>>>16)>>>16,i[1]=di=65535&we|Be<<16,n[1]=ti=65535&ye|Ce<<16,ye=65535&(se=pi),Ce=se>>>16,we=65535&(Y=xi),Be=Y>>>16,Y=i[2],Ce+=(se=n[2])>>>16,we+=65535&Y,Be+=Y>>>16,Be+=(we+=(Ce+=(ye+=65535&se)>>>16)>>>16)>>>16,i[2]=xi=65535&we|Be<<16,n[2]=pi=65535&ye|Ce<<16,ye=65535&(se=En),Ce=se>>>16,we=65535&(Y=Ni),Be=Y>>>16,Y=i[3],Ce+=(se=n[3])>>>16,we+=65535&Y,Be+=Y>>>16,Be+=(we+=(Ce+=(ye+=65535&se)>>>16)>>>16)>>>16,i[3]=Ni=65535&we|Be<<16,n[3]=En=65535&ye|Ce<<16,ye=65535&(se=Ki),Ce=se>>>16,we=65535&(Y=Gt),Be=Y>>>16,Y=i[4],Ce+=(se=n[4])>>>16,we+=65535&Y,Be+=Y>>>16,Be+=(we+=(Ce+=(ye+=65535&se)>>>16)>>>16)>>>16,i[4]=Gt=65535&we|Be<<16,n[4]=Ki=65535&ye|Ce<<16,ye=65535&(se=je),Ce=se>>>16,we=65535&(Y=Gi),Be=Y>>>16,Y=i[5],Ce+=(se=n[5])>>>16,we+=65535&Y,Be+=Y>>>16,Be+=(we+=(Ce+=(ye+=65535&se)>>>16)>>>16)>>>16,i[5]=Gi=65535&we|Be<<16,n[5]=je=65535&ye|Ce<<16,ye=65535&(se=Le),Ce=se>>>16,we=65535&(Y=oi),Be=Y>>>16,Y=i[6],Ce+=(se=n[6])>>>16,we+=65535&Y,Be+=Y>>>16,Be+=(we+=(Ce+=(ye+=65535&se)>>>16)>>>16)>>>16,i[6]=oi=65535&we|Be<<16,n[6]=Le=65535&ye|Ce<<16,ye=65535&(se=xe),Ce=se>>>16,we=65535&(Y=li),Be=Y>>>16,Y=i[7],Ce+=(se=n[7])>>>16,we+=65535&Y,Be+=Y>>>16,Be+=(we+=(Ce+=(ye+=65535&se)>>>16)>>>16)>>>16,i[7]=li=65535&we|Be<<16,n[7]=xe=65535&ye|Ce<<16,it+=128,t-=128}return t}function r0(i,n,e){var t,r=new Int32Array(8),o=new Int32Array(8),s=new Uint8Array(256),a=e;for(r[0]=1779033703,r[1]=3144134277,r[2]=1013904242,r[3]=2773480762,r[4]=1359893119,r[5]=2600822924,r[6]=528734635,r[7]=1541459225,o[0]=4089235720,o[1]=2227873595,o[2]=4271175723,o[3]=1595750129,o[4]=2917565137,o[5]=725511199,o[6]=4215389547,o[7]=327033209,_8(r,o,n,e),e%=128,t=0;t<e;t++)s[t]=n[a-e+t];for(s[e]=128,s[(e=256-128*(e<112?1:0))-9]=0,h8(s,e-8,a/536870912|0,a<<3),_8(r,o,s,e),t=0;t<8;t++)h8(i,8*t,r[t],o[t]);return 0}function $O(i,n){var e=Wt(),t=Wt(),r=Wt(),o=Wt(),s=Wt(),a=Wt(),l=Wt(),c=Wt(),d=Wt();ac(e,i[1],i[0]),ac(d,n[1],n[0]),dn(e,e,d),oc(t,i[0],i[1]),oc(d,n[0],n[1]),dn(t,t,d),dn(r,i[3],n[3]),dn(r,r,Sve),dn(o,i[2],n[2]),oc(o,o,o),ac(s,t,e),ac(a,o,r),oc(l,o,r),oc(c,t,e),dn(i[0],s,a),dn(i[1],c,l),dn(i[2],l,a),dn(i[3],s,c)}function C8(i,n,e){var t;for(t=0;t<4;t++)pm(i[t],n[t],e)}function qO(i,n){var e=Wt(),t=Wt(),r=Wt();p7(r,n[2]),dn(e,n[0],r),dn(t,n[1],r),u0(i,t),i[31]^=d7(e)<<7}function f7(i,n,e){var t,r;for(xu(i[0],KO),xu(i[1],Qb),xu(i[2],Qb),xu(i[3],KO),r=255;r>=0;--r)C8(i,n,t=e[r/8|0]>>(7&r)&1),$O(n,i),$O(i,i),C8(i,n,t)}function YO(i,n){var e=[Wt(),Wt(),Wt(),Wt()];xu(e[0],u8),xu(e[1],p8),xu(e[2],Qb),dn(e[3],u8,p8),f7(i,e,n)}function y8(i,n,e){var t,r=new Uint8Array(64),o=[Wt(),Wt(),Wt(),Wt()];for(e||WO(n,32),r0(r,n,32),r[0]&=248,r[31]&=127,r[31]|=64,YO(o,r),qO(i,o),t=0;t<32;t++)n[t+32]=i[t];return 0}var AO=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function m7(i,n){var e,t,r,o;for(t=63;t>=32;--t){for(e=0,r=t-32,o=t-12;r<o;++r)n[r]+=e-16*n[t]*AO[r-(t-32)],e=Math.floor((n[r]+128)/256),n[r]-=256*e;n[r]+=e,n[t]=0}for(e=0,r=0;r<32;r++)n[r]+=e-(n[31]>>4)*AO[r],e=n[r]>>8,n[r]&=255;for(r=0;r<32;r++)n[r]-=e*AO[r];for(t=0;t<32;t++)n[t+1]+=n[t]>>8,i[t]=255&n[t]}function EO(i){var n,e=new Float64Array(64);for(n=0;n<64;n++)e[n]=i[n];for(n=0;n<64;n++)i[n]=0;m7(i,e)}function Eve(i,n){var e=Wt(),t=Wt(),r=Wt(),o=Wt(),s=Wt(),a=Wt(),l=Wt();return xu(i[2],Qb),u7(i[1],n),vl(r,i[1]),dn(o,r,wve),ac(r,r,i[2]),oc(o,i[2],o),vl(s,o),vl(a,s),dn(l,a,s),dn(e,l,r),dn(e,e,o),function(c,d){var p,g=Wt();for(p=0;p<16;p++)g[p]=d[p];for(p=250;p>=0;p--)vl(g,g),p!==1&&dn(g,g,d);for(p=0;p<16;p++)c[p]=g[p]}(e,e),dn(e,e,r),dn(e,e,o),dn(e,e,o),dn(i[0],e,o),vl(t,i[0]),dn(t,t,o),f8(t,r)&&dn(i[0],i[0],Ave),vl(t,i[0]),dn(t,t,o),f8(t,r)?-1:(d7(i[0])===n[31]>>7&&ac(i[0],KO,i[0]),dn(i[3],i[0],i[1]),0)}var Jp=64;function lm(){for(var i=0;i<arguments.length;i++)if(!(arguments[i]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}wr.scalarMult=function(i,n){if(lm(i,n),i.length!==32)throw Error("bad n size");if(n.length!==32)throw Error("bad p size");var e=new Uint8Array(32);return h7(e,i,n),e},wr.box={},wr.box.keyPair=function(){var i=new Uint8Array(32),n=new Uint8Array(32);return function(e,t){WO(t,32),m8(e,t)}(i,n),{publicKey:i,secretKey:n}},wr.box.keyPair.fromSecretKey=function(i){if(lm(i),i.length!==32)throw Error("bad secret key size");var n=new Uint8Array(32);return m8(n,i),{publicKey:n,secretKey:new Uint8Array(i)}},wr.sign=function(i,n){if(lm(i,n),n.length!==64)throw Error("bad secret key size");var e=new Uint8Array(Jp+i.length);return function(t,r,o,s){var a,l,c=new Uint8Array(64),d=new Uint8Array(64),p=new Uint8Array(64),g=new Float64Array(64),C=[Wt(),Wt(),Wt(),Wt()];r0(c,s,32),c[0]&=248,c[31]&=127,c[31]|=64;var y=o+64;for(a=0;a<o;a++)t[64+a]=r[a];for(a=0;a<32;a++)t[32+a]=c[32+a];for(r0(p,t.subarray(32),o+32),EO(p),YO(C,p),qO(t,C),a=32;a<64;a++)t[a]=s[a];for(r0(d,t,o+64),EO(d),a=0;a<64;a++)g[a]=0;for(a=0;a<32;a++)g[a]=p[a];for(a=0;a<32;a++)for(l=0;l<32;l++)g[a+l]+=d[a]*c[l];m7(t.subarray(32),g)}(e,i,i.length,n),e},wr.sign.detached=function(i,n){for(var e=wr.sign(i,n),t=new Uint8Array(Jp),r=0;r<t.length;r++)t[r]=e[r];return t},wr.sign.detached.verify=function(i,n,e){if(lm(i,n,e),n.length!==Jp)throw Error("bad signature size");if(e.length!==32)throw Error("bad public key size");var t,r=new Uint8Array(Jp+i.length),o=new Uint8Array(Jp+i.length);for(t=0;t<Jp;t++)r[t]=n[t];for(t=0;t<i.length;t++)r[t+Jp]=i[t];return function(s,a,l,c){var d,p=new Uint8Array(32),g=new Uint8Array(64),C=[Wt(),Wt(),Wt(),Wt()],y=[Wt(),Wt(),Wt(),Wt()];if(l<64||Eve(y,c))return-1;for(d=0;d<l;d++)s[d]=a[d];for(d=0;d<32;d++)s[d+32]=c[d];if(r0(g,s,l),EO(g),f7(C,y,g),YO(y,a.subarray(32)),$O(C,y),qO(p,C),l-=64,c7(a,0,p,0)){for(d=0;d<l;d++)s[d]=0;return-1}for(d=0;d<l;d++)s[d]=a[d+64];return l}(o,r,r.length,e)>=0},wr.sign.keyPair=function(){var i=new Uint8Array(32),n=new Uint8Array(64);return y8(i,n),{publicKey:i,secretKey:n}},wr.sign.keyPair.fromSecretKey=function(i){if(lm(i),i.length!==64)throw Error("bad secret key size");for(var n=new Uint8Array(32),e=0;e<n.length;e++)n[e]=i[32+e];return{publicKey:n,secretKey:new Uint8Array(i)}},wr.sign.keyPair.fromSeed=function(i){if(lm(i),i.length!==32)throw Error("bad seed size");for(var n=new Uint8Array(32),e=new Uint8Array(64),t=0;t<32;t++)e[t]=i[t];return y8(n,e,!0),{publicKey:n,secretKey:e}},wr.setPRNG=function(i){WO=i},function(){wO&&wO.getRandomValues&&wr.setPRNG(function(i,n){var e,t=new Uint8Array(n);for(e=0;e<n;e+=65536)wO.getRandomValues(t.subarray(e,e+Math.min(n-e,65536)));for(e=0;e<n;e++)i[e]=t[e];(function(r){for(var o=0;o<r.length;o++)r[o]=0})(t)})}();var xve={"2a8648ce3d030107":x.curve.nistP256,"2b81040022":x.curve.nistP384,"2b81040023":x.curve.nistP521,"2b8104000a":x.curve.secp256k1,"2b06010401da470f01":x.curve.ed25519Legacy,"2b060104019755010501":x.curve.curve25519Legacy,"2b2403030208010107":x.curve.brainpoolP256r1,"2b240303020801010b":x.curve.brainpoolP384r1,"2b240303020801010d":x.curve.brainpoolP512r1},cd=class i{constructor(n){if(n instanceof i)this.oid=n.oid;else if(j.isArray(n)||j.isUint8Array(n)){if((n=new Uint8Array(n))[0]===6){if(n[1]!==n.length-2)throw Error("Length mismatch in DER encoded oid");n=n.subarray(2)}this.oid=n}else this.oid=""}read(n){if(n.length>=1){let e=n[0];if(n.length>=1+e)return this.oid=n.subarray(1,1+e),1+this.oid.length}throw Error("Invalid oid")}write(){return j.concatUint8Array([new Uint8Array([this.oid.length]),this.oid])}toHex(){return j.uint8ArrayToHex(this.oid)}getName(){let n=xve[this.toHex()];if(!n)throw Error("Unknown curve object identifier.");return n}};function g7(i){let n,e=0,t=i[0];return t<192?([e]=i,n=1):t<255?(e=(i[0]-192<<8)+i[1]+192,n=2):t===255&&(e=j.readNumber(i.subarray(1,5)),n=5),{len:e,offset:n}}function Tw(i){return i<192?new Uint8Array([i]):i>191&&i<8384?new Uint8Array([192+(i-192>>8),i-192&255]):j.concatUint8Array([new Uint8Array([255]),j.writeNumber(i,4)])}function Tve(i){if(i<0||i>30)throw Error("Partial Length power must be between 1 and 30");return new Uint8Array([224+i])}function Zb(i){return new Uint8Array([192|i])}function I8(i,n){return j.concatUint8Array([Zb(i),Tw(n)])}function Gb(i){return[x.packet.literalData,x.packet.compressedData,x.packet.symmetricallyEncryptedData,x.packet.symEncryptedIntegrityProtectedData,x.packet.aeadEncryptedData].includes(i)}function Ove(i,n){return N(this,null,function*(){let e=hd(i),t,r;try{let o=yield e.peekBytes(2);if(!o||o.length<2||!(128&o[0]))throw Error("Error during parsing. This message / key probably does not conform to a valid OpenPGP format.");let s=yield e.readByte(),a,l,c=-1,d=-1;d=0,64&s&&(d=1),d?c=63&s:(c=(63&s)>>2,l=3&s);let p=Gb(c),g,C=null;if(p){if(j.isStream(i)==="array"){let v=new Ga;t=Ca(v),C=v}else{let v=new TransformStream;t=Ca(v.writable),C=v.readable}r=n({tag:c,packet:C})}else C=[];do{if(d){let v=yield e.readByte();if(g=!1,v<192)a=v;else if(v>=192&&v<224)a=(v-192<<8)+(yield e.readByte())+192;else if(v>223&&v<255){if(a=1<<(31&v),g=!0,!p)throw new TypeError("This packet type does not support partial lengths.")}else a=(yield e.readByte())<<24|(yield e.readByte())<<16|(yield e.readByte())<<8|(yield e.readByte())}else switch(l){case 0:a=yield e.readByte();break;case 1:a=(yield e.readByte())<<8|(yield e.readByte());break;case 2:a=(yield e.readByte())<<24|(yield e.readByte())<<16|(yield e.readByte())<<8|(yield e.readByte());break;default:a=1/0}if(a>0){let v=0;for(;;){t&&(yield t.ready);let{done:w,value:E}=yield e.read();if(w){if(a===1/0)break;throw Error("Unexpected end of packet")}let T=a===1/0?E:E.subarray(0,a-v);if(t?yield t.write(T):C.push(T),v+=E.length,v>=a){e.unshift(E.subarray(a-v+E.length));break}}}}while(g);let y=yield e.peekBytes(p?1/0:2);return t?(yield t.ready,yield t.close()):(C=j.concatUint8Array(C),yield n({tag:c,packet:C})),!y||!y.length}catch(o){if(t)return yield t.abort(o),!0;throw o}finally{t&&(yield r),e.releaseLock()}})}var $n=class i extends Error{constructor(...n){super(...n),Error.captureStackTrace&&Error.captureStackTrace(this,i),this.name="UnsupportedError"}},ew=class extends $n{constructor(...n){super(...n),Error.captureStackTrace&&Error.captureStackTrace(this,$n),this.name="UnknownPacketError"}},p0=class{constructor(n,e){this.tag=n,this.rawContent=e}write(){return this.rawContent}};function ID(i){return N(this,null,function*(){switch(i){case x.publicKey.ed25519:try{let n=j.getWebCrypto(),e=yield n.generateKey("Ed25519",!0,["sign","verify"]),t=yield n.exportKey("jwk",e.privateKey),r=yield n.exportKey("jwk",e.publicKey);return{A:new Uint8Array(bl(r.x)),seed:bl(t.d)}}catch(n){if(n.name!=="NotSupportedError"&&n.name!=="OperationError")throw n;let e=Fo(Ow(i)),{publicKey:t}=wr.sign.keyPair.fromSeed(e);return{A:t,seed:e}}case x.publicKey.ed448:{let n=yield j.getNobleCurve(x.publicKey.ed448),e=n.utils.randomPrivateKey();return{A:n.getPublicKey(e),seed:e}}default:throw Error("Unsupported EdDSA algorithm")}})}function vD(i,n,e,t,r,o){return N(this,null,function*(){if(go(n)<go(Dw(i)))throw Error("Hash algorithm too weak for EdDSA.");switch(i){case x.publicKey.ed25519:try{let s=j.getWebCrypto(),a=Dve(i,t,r),l=yield s.importKey("jwk",a,"Ed25519",!1,["sign"]);return{RS:new Uint8Array(yield s.sign("Ed25519",l,o))}}catch(s){if(s.name!=="NotSupportedError")throw s;let a=j.concatUint8Array([r,t]);return{RS:wr.sign.detached(o,a)}}case x.publicKey.ed448:return{RS:(yield j.getNobleCurve(x.publicKey.ed448)).sign(o,r)};default:throw Error("Unsupported EdDSA algorithm")}})}function bD(s,a,l,c,d,p){return N(this,arguments,function*(i,n,{RS:e},t,r,o){if(go(n)<go(Dw(i)))throw Error("Hash algorithm too weak for EdDSA.");switch(i){case x.publicKey.ed25519:try{let g=j.getWebCrypto(),C=C7(i,r),y=yield g.importKey("jwk",C,"Ed25519",!1,["verify"]);return yield g.verify("Ed25519",y,e,o)}catch(g){if(g.name!=="NotSupportedError")throw g;return wr.sign.detached.verify(o,e,r)}case x.publicKey.ed448:return(yield j.getNobleCurve(x.publicKey.ed448)).verify(e,o,r);default:throw Error("Unsupported EdDSA algorithm")}})}function _7(i,n,e){return N(this,null,function*(){switch(i){case x.publicKey.ed25519:{let{publicKey:t}=wr.sign.keyPair.fromSeed(e);return j.equalsUint8Array(n,t)}case x.publicKey.ed448:{let t=(yield j.getNobleCurve(x.publicKey.ed448)).getPublicKey(e);return j.equalsUint8Array(n,t)}default:return!1}})}function Ow(i){switch(i){case x.publicKey.ed25519:return 32;case x.publicKey.ed448:return 57;default:throw Error("Unsupported EdDSA algorithm")}}function Dw(i){switch(i){case x.publicKey.ed25519:return x.hash.sha256;case x.publicKey.ed448:return x.hash.sha512;default:throw Error("Unknown EdDSA algo")}}var C7=(i,n)=>{if(i===x.publicKey.ed25519)return{kty:"OKP",crv:"Ed25519",x:ws(n),ext:!0};throw Error("Unsupported EdDSA algorithm")},Dve=(i,n,e)=>{if(i===x.publicKey.ed25519){let t=C7(i,n);return t.d=ws(e),t}throw Error("Unsupported EdDSA algorithm")},Rve=Object.freeze({__proto__:null,generate:ID,getPayloadSize:Ow,getPreferredHashAlgo:Dw,sign:vD,validateParams:_7,verify:bD});function y7(i){return i instanceof Uint8Array||i!=null&&typeof i=="object"&&i.constructor.name==="Uint8Array"}function Ln(i,...n){if(!y7(i))throw Error("Uint8Array expected");if(n.length>0&&!n.includes(i.length))throw Error(`Uint8Array expected of length ${n}, not of length=${i.length}`)}function tw(i,n=!0){if(i.destroyed)throw Error("Hash instance has been destroyed");if(n&&i.finished)throw Error("Hash#digest() has already been called")}function I7(i,n){Ln(i);let e=n.outputLen;if(i.length<e)throw Error("digestInto() expects output buffer of length at least "+e)}var wD=i=>new Uint8Array(i.buffer,i.byteOffset,i.byteLength),rr=i=>new Uint32Array(i.buffer,i.byteOffset,Math.floor(i.byteLength/4)),iw=i=>new DataView(i.buffer,i.byteOffset,i.byteLength);if(new Uint8Array(new Uint32Array([287454020]).buffer)[0]!==68)throw Error("Non little-endian hardware is not supported");function h0(i){if(typeof i=="string")i=function(n){if(typeof n!="string")throw Error("string expected, got "+typeof n);return new Uint8Array(new TextEncoder().encode(n))}(i);else{if(!y7(i))throw Error("Uint8Array expected, got "+typeof i);i=js(i)}return i}function v7(i,n){if(i.length!==n.length)return!1;let e=0;for(let t=0;t<i.length;t++)e|=i[t]^n[t];return e===0}var x0=(i,n)=>(Object.assign(n,i),n);function xO(i,n,e,t){if(typeof i.setBigUint64=="function")return i.setBigUint64(n,e,t);let r=BigInt(32),o=BigInt(4294967295),s=Number(e>>r&o),a=Number(e&o);i.setUint32(n+0,s,t),i.setUint32(n+4,a,t)}function za(i){return i.byteOffset%4==0}function js(i){return Uint8Array.from(i)}function ss(...i){for(let n=0;n<i.length;n++)i[n].fill(0)}var ad=16,SD=new Uint8Array(16),sc=rr(SD),ja=i=>(i>>>0&255)<<24|(i>>>8&255)<<16|(i>>>16&255)<<8|i>>>24&255,nw=class{constructor(n,e){this.blockLen=ad,this.outputLen=ad,this.s0=0,this.s1=0,this.s2=0,this.s3=0,this.finished=!1,Ln(n=h0(n),16);let t=iw(n),r=t.getUint32(0,!1),o=t.getUint32(4,!1),s=t.getUint32(8,!1),a=t.getUint32(12,!1),l=[];for(let E=0;E<128;E++)l.push({s0:ja(r),s1:ja(o),s2:ja(s),s3:ja(a)}),{s0:r,s1:o,s2:s,s3:a}={s3:(p=s)<<31|(g=a)>>>1,s2:(d=o)<<31|p>>>1,s1:(c=r)<<31|d>>>1,s0:c>>>1^225<<24&-(1&g)};var c,d,p,g;let C=(E=>E>65536?8:E>1024?4:2)(e||1024);if(![1,2,4,8].includes(C))throw Error(`ghash: wrong window size=${C}, should be 2, 4 or 8`);this.W=C;let y=128/C,v=this.windowSize=2**C,w=[];for(let E=0;E<y;E++)for(let T=0;T<v;T++){let F=0,G=0,z=0,X=0;for(let ne=0;ne<C;ne++){if(!(T>>>C-ne-1&1))continue;let{s0:Y,s1:se,s2:ye,s3:Ce}=l[C*E+ne];F^=Y,G^=se,z^=ye,X^=Ce}w.push({s0:F,s1:G,s2:z,s3:X})}this.t=w}_updateBlock(n,e,t,r){n^=this.s0,e^=this.s1,t^=this.s2,r^=this.s3;let{W:o,t:s,windowSize:a}=this,l=0,c=0,d=0,p=0,g=(1<<o)-1,C=0;for(let y of[n,e,t,r])for(let v=0;v<4;v++){let w=y>>>8*v&255;for(let E=8/o-1;E>=0;E--){let T=w>>>o*E&g,{s0:F,s1:G,s2:z,s3:X}=s[C*a+T];l^=F,c^=G,d^=z,p^=X,C+=1}}this.s0=l,this.s1=c,this.s2=d,this.s3=p}update(n){n=h0(n),tw(this);let e=rr(n),t=Math.floor(n.length/ad),r=n.length%ad;for(let o=0;o<t;o++)this._updateBlock(e[4*o+0],e[4*o+1],e[4*o+2],e[4*o+3]);return r&&(SD.set(n.subarray(t*ad)),this._updateBlock(sc[0],sc[1],sc[2],sc[3]),ss(sc)),this}destroy(){let{t:n}=this;for(let e of n)e.s0=0,e.s1=0,e.s2=0,e.s3=0}digestInto(n){tw(this),I7(n,this),this.finished=!0;let{s0:e,s1:t,s2:r,s3:o}=this,s=rr(n);return s[0]=e,s[1]=t,s[2]=r,s[3]=o,n}digest(){let n=new Uint8Array(ad);return this.digestInto(n),this.destroy(),n}},JO=class extends nw{constructor(n,e){let t=function(r){r.reverse();let o=1&r[15],s=0;for(let a=0;a<r.length;a++){let l=r[a];r[a]=l>>>1|s,s=(1&l)<<7}return r[0]^=225&-o,r}(js(n=h0(n)));super(t,e),ss(t)}update(n){n=h0(n),tw(this);let e=rr(n),t=n.length%ad,r=Math.floor(n.length/ad);for(let o=0;o<r;o++)this._updateBlock(ja(e[4*o+3]),ja(e[4*o+2]),ja(e[4*o+1]),ja(e[4*o+0]));return t&&(SD.set(n.subarray(r*ad)),this._updateBlock(ja(sc[3]),ja(sc[2]),ja(sc[1]),ja(sc[0])),ss(sc)),this}digestInto(n){tw(this),I7(n,this),this.finished=!0;let{s0:e,s1:t,s2:r,s3:o}=this,s=rr(n);return s[0]=e,s[1]=t,s[2]=r,s[3]=o,n.reverse()}};function b7(i){let n=(t,r)=>i(r,t.length).update(h0(t)).digest(),e=i(new Uint8Array(16),0);return n.outputLen=e.outputLen,n.blockLen=e.blockLen,n.create=(t,r)=>i(t,r),n}var v8=b7((i,n)=>new nw(i,n));b7((i,n)=>new JO(i,n));var Bs=16,Nb=new Uint8Array(Bs),Pve=283;function AD(i){return i<<1^Pve&-(i>>7)}function hm(i,n){let e=0;for(;n>0;n>>=1)e^=i&-(1&n),i=AD(i);return e}var XO=(()=>{let i=new Uint8Array(256);for(let e=0,t=1;e<256;e++,t^=AD(t))i[e]=t;let n=new Uint8Array(256);n[0]=99;for(let e=0;e<255;e++){let t=i[255-e];t|=t<<8,n[i[e]]=255&(t^t>>4^t>>5^t>>6^t>>7^99)}return ss(i),n})(),kve=XO.map((i,n)=>XO.indexOf(n)),Fve=i=>i<<24|i>>>8,TO=i=>i<<8|i>>>24,b8=i=>i<<24&4278190080|i<<8&16711680|i>>>8&65280|i>>>24&255;function w7(i,n){if(i.length!==256)throw Error("Wrong sbox length");let e=new Uint32Array(256).map((c,d)=>n(i[d])),t=e.map(TO),r=t.map(TO),o=r.map(TO),s=new Uint32Array(65536),a=new Uint32Array(65536),l=new Uint16Array(65536);for(let c=0;c<256;c++)for(let d=0;d<256;d++){let p=256*c+d;s[p]=e[c]^t[d],a[p]=r[c]^o[d],l[p]=i[c]<<8|i[d]}return{sbox:i,sbox2:l,T0:e,T1:t,T2:r,T3:o,T01:s,T23:a}}var ED=w7(XO,i=>hm(i,3)<<24|i<<16|i<<8|hm(i,2)),S7=w7(kve,i=>hm(i,11)<<24|hm(i,13)<<16|hm(i,9)<<8|hm(i,14)),Lve=(()=>{let i=new Uint8Array(16);for(let n=0,e=1;n<16;n++,e=AD(e))i[n]=e;return i})();function rh(i){Ln(i);let n=i.length;if(![16,24,32].includes(n))throw Error("aes: wrong key size: should be 16, 24 or 32, got: "+n);let{sbox2:e}=ED,t=[];za(i)||t.push(i=js(i));let r=rr(i),o=r.length,s=l=>lc(e,l,l,l,l),a=new Uint32Array(n+28);a.set(r);for(let l=o;l<a.length;l++){let c=a[l-1];l%o==0?c=s(Fve(c))^Lve[l/o-1]:o>6&&l%o==4&&(c=s(c)),a[l]=a[l-o]^c}return ss(...t),a}function xD(i){let n=rh(i),e=n.slice(),t=n.length,{sbox2:r}=ED,{T0:o,T1:s,T2:a,T3:l}=S7;for(let c=0;c<t;c+=4)for(let d=0;d<4;d++)e[c+d]=n[t-c-4+d];ss(n);for(let c=4;c<t-4;c++){let d=e[c],p=lc(r,d,d,d,d);e[c]=o[255&p]^s[p>>>8&255]^a[p>>>16&255]^l[p>>>24]}return e}function Tu(i,n,e,t,r,o){return i[e<<8&65280|t>>>8&255]^n[r>>>8&65280|o>>>24&255]}function lc(i,n,e,t,r){return i[255&n|65280&e]|i[t>>>16&255|r>>>16&65280]<<16}function wl(i,n,e,t,r){let{sbox2:o,T01:s,T23:a}=ED,l=0;n^=i[l++],e^=i[l++],t^=i[l++],r^=i[l++];let c=i.length/4-2;for(let d=0;d<c;d++){let p=i[l++]^Tu(s,a,n,e,t,r),g=i[l++]^Tu(s,a,e,t,r,n),C=i[l++]^Tu(s,a,t,r,n,e),y=i[l++]^Tu(s,a,r,n,e,t);n=p,e=g,t=C,r=y}return{s0:i[l++]^lc(o,n,e,t,r),s1:i[l++]^lc(o,e,t,r,n),s2:i[l++]^lc(o,t,r,n,e),s3:i[l++]^lc(o,r,n,e,t)}}function Rw(i,n,e,t,r){let{sbox2:o,T01:s,T23:a}=S7,l=0;n^=i[l++],e^=i[l++],t^=i[l++],r^=i[l++];let c=i.length/4-2;for(let d=0;d<c;d++){let p=i[l++]^Tu(s,a,n,r,t,e),g=i[l++]^Tu(s,a,e,n,r,t),C=i[l++]^Tu(s,a,t,e,n,r),y=i[l++]^Tu(s,a,r,t,e,n);n=p,e=g,t=C,r=y}return{s0:i[l++]^lc(o,n,r,t,e),s1:i[l++]^lc(o,e,n,r,t),s2:i[l++]^lc(o,t,e,n,r),s3:i[l++]^lc(o,r,t,e,n)}}function f0(i,n){if(n===void 0)return new Uint8Array(i);if(Ln(n),n.length<i)throw Error(`aes: wrong destination length, expected at least ${i}, got: ${n.length}`);if(!za(n))throw Error("unaligned dst");return n}function A7(i,n,e,t){Ln(n,Bs),Ln(e);let r=e.length;t=f0(r,t);let o=n,s=rr(o),{s0:a,s1:l,s2:c,s3:d}=wl(i,s[0],s[1],s[2],s[3]),p=rr(e),g=rr(t);for(let y=0;y+4<=p.length;y+=4){g[y+0]=p[y+0]^a,g[y+1]=p[y+1]^l,g[y+2]=p[y+2]^c,g[y+3]=p[y+3]^d;let v=1;for(let w=o.length-1;w>=0;w--)v=v+(255&o[w])|0,o[w]=255&v,v>>>=8;({s0:a,s1:l,s2:c,s3:d}=wl(i,s[0],s[1],s[2],s[3]))}let C=Bs*Math.floor(p.length/4);if(C<r){let y=new Uint32Array([a,l,c,d]),v=wD(y);for(let w=C,E=0;w<r;w++,E++)t[w]=e[w]^v[E];ss(y)}return t}function o0(i,n,e,t,r){Ln(e,Bs),Ln(t),r=f0(t.length,r);let o=e,s=rr(o),a=iw(o),l=rr(t),c=rr(r),d=n?0:12,p=t.length,g=a.getUint32(d,n),{s0:C,s1:y,s2:v,s3:w}=wl(i,s[0],s[1],s[2],s[3]);for(let T=0;T+4<=l.length;T+=4)c[T+0]=l[T+0]^C,c[T+1]=l[T+1]^y,c[T+2]=l[T+2]^v,c[T+3]=l[T+3]^w,g=g+1>>>0,a.setUint32(d,g,n),{s0:C,s1:y,s2:v,s3:w}=wl(i,s[0],s[1],s[2],s[3]);let E=Bs*Math.floor(l.length/4);if(E<p){let T=new Uint32Array([C,y,v,w]),F=wD(T);for(let G=E,z=0;G<p;G++,z++)r[G]=t[G]^F[z];ss(T)}return r}var Mve=x0({blockSize:16,nonceLength:16},function(i,n){function e(t,r){if(Ln(t),r!==void 0&&(Ln(r),!za(r)))throw Error("unaligned destination");let o=rh(i),s=js(n),a=[o,s];za(t)||a.push(t=js(t));let l=A7(o,s,t,r);return ss(...a),l}return Ln(i),Ln(n,Bs),{encrypt:(t,r)=>e(t,r),decrypt:(t,r)=>e(t,r)}}),E7=x0({blockSize:16,nonceLength:16},function(i,n,e={}){Ln(i),Ln(n,16);let t=!e.disablePadding;return{encrypt(r,o){let s=rh(i),{b:a,o:l,out:c}=function(T,F,G){Ln(T);let z=T.length,X=z%Bs;if(!F&&X!==0)throw Error("aec/(cbc-ecb): unpadded plaintext with disabled padding");za(T)||(T=js(T));let ne=rr(T);if(F){let se=Bs-X;se||(se=Bs),z+=se}let Y=f0(z,G);return{b:ne,o:rr(Y),out:Y}}(r,t,o),d=n,p=[s];za(d)||p.push(d=js(d));let g=rr(d),C=g[0],y=g[1],v=g[2],w=g[3],E=0;for(;E+4<=a.length;)C^=a[E+0],y^=a[E+1],v^=a[E+2],w^=a[E+3],{s0:C,s1:y,s2:v,s3:w}=wl(s,C,y,v,w),l[E++]=C,l[E++]=y,l[E++]=v,l[E++]=w;if(t){let T=function(F){let G=new Uint8Array(16),z=rr(G);G.set(F);let X=Bs-F.length;for(let ne=Bs-X;ne<Bs;ne++)G[ne]=X;return z}(r.subarray(4*E));C^=T[0],y^=T[1],v^=T[2],w^=T[3],{s0:C,s1:y,s2:v,s3:w}=wl(s,C,y,v,w),l[E++]=C,l[E++]=y,l[E++]=v,l[E++]=w}return ss(...p),c},decrypt(r,o){(function(E){if(Ln(E),E.length%Bs!=0)throw Error("aes/(cbc-ecb).decrypt ciphertext should consist of blocks with size 16")})(r);let s=xD(i),a=n,l=[s];za(a)||l.push(a=js(a));let c=rr(a),d=f0(r.length,o);za(r)||l.push(r=js(r));let p=rr(r),g=rr(d),C=c[0],y=c[1],v=c[2],w=c[3];for(let E=0;E+4<=p.length;){let T=C,F=y,G=v,z=w;C=p[E+0],y=p[E+1],v=p[E+2],w=p[E+3];let{s0:X,s1:ne,s2:Y,s3:se}=Rw(s,C,y,v,w);g[E++]=X^T,g[E++]=ne^F,g[E++]=Y^G,g[E++]=se^z}return ss(...l),function(E,T){if(!T)return E;let F=E.length;if(!F)throw Error("aes/pcks5: empty ciphertext not allowed");let G=E[F-1];if(G<=0||G>16)throw Error("aes/pcks5: wrong padding");let z=E.subarray(0,-G);for(let X=0;X<G;X++)if(E[F-X-1]!==G)throw Error("aes/pcks5: wrong padding");return z}(d,t)}}}),x7=x0({blockSize:16,nonceLength:16},function(i,n){function e(t,r,o){Ln(t);let s=t.length;o=f0(s,o);let a=rh(i),l=n,c=[a];za(l)||c.push(l=js(l)),za(t)||c.push(t=js(t));let d=rr(t),p=rr(o),g=r?p:d,C=rr(l),y=C[0],v=C[1],w=C[2],E=C[3];for(let F=0;F+4<=d.length;){let{s0:G,s1:z,s2:X,s3:ne}=wl(a,y,v,w,E);p[F+0]=d[F+0]^G,p[F+1]=d[F+1]^z,p[F+2]=d[F+2]^X,p[F+3]=d[F+3]^ne,y=g[F++],v=g[F++],w=g[F++],E=g[F++]}let T=Bs*Math.floor(d.length/4);if(T<s){({s0:y,s1:v,s2:w,s3:E}=wl(a,y,v,w,E));let F=wD(new Uint32Array([y,v,w,E]));for(let G=T,z=0;G<s;G++,z++)o[G]=t[G]^F[z];ss(F)}return ss(...c),o}return Ln(i),Ln(n,16),{encrypt:(t,r)=>e(t,!0,r),decrypt:(t,r)=>e(t,!1,r)}}),Vb=x0({blockSize:16,nonceLength:12,tagLength:16},function(i,n,e){if(Ln(i),Ln(n),e!==void 0&&Ln(e),n.length<8)throw Error("aes/gcm: invalid nonce length");let t=16;function r(s,a,l){let c=function(d,p,g,C,y){let v=y==null?0:y.length,w=d.create(g,C.length+v);y&&w.update(y),w.update(C);let E=new Uint8Array(16),T=iw(E);y&&xO(T,0,BigInt(8*v),p),xO(T,8,BigInt(8*C.length),p),w.update(E);let F=w.digest();return ss(E),F}(v8,!1,s,l,e);for(let d=0;d<a.length;d++)c[d]^=a[d];return c}function o(){let s=rh(i),a=Nb.slice(),l=Nb.slice();if(o0(s,!1,l,l,a),n.length===12)l.set(n);else{let c=Nb.slice();xO(iw(c),8,BigInt(8*n.length),!1);let d=v8.create(a).update(n).update(c);d.digestInto(l),d.destroy()}return{xk:s,authKey:a,counter:l,tagMask:o0(s,!1,l,Nb)}}return{encrypt(s){Ln(s);let{xk:a,authKey:l,counter:c,tagMask:d}=o(),p=new Uint8Array(s.length+t),g=[a,l,c,d];za(s)||g.push(s=js(s)),o0(a,!1,c,s,p);let C=r(l,d,p.subarray(0,p.length-t));return g.push(C),p.set(C,s.length),ss(...g),p},decrypt(s){if(Ln(s),s.length<t)throw Error("aes/gcm: ciphertext less than tagLen (16)");let{xk:a,authKey:l,counter:c,tagMask:d}=o(),p=[a,l,d,c];za(s)||p.push(s=js(s));let g=s.subarray(0,-16),C=s.subarray(-16),y=r(l,d,g);if(p.push(y),!v7(y,C))throw Error("aes/gcm: invalid ghash tag");let v=o0(a,!1,c,g);return ss(...p),v}}});function T7(i){return i!=null&&typeof i=="object"&&(i instanceof Uint32Array||i.constructor.name==="Uint32Array")}function O7(i,n){if(Ln(n,16),!T7(i))throw Error("_encryptBlock accepts result of expandKeyLE");let e=rr(n),{s0:t,s1:r,s2:o,s3:s}=wl(i,e[0],e[1],e[2],e[3]);return e[0]=t,e[1]=r,e[2]=o,e[3]=s,n}function D7(i,n){if(Ln(n,16),!T7(i))throw Error("_decryptBlock accepts result of expandKeyLE");let e=rr(n),{s0:t,s1:r,s2:o,s3:s}=Rw(i,e[0],e[1],e[2],e[3]);return e[0]=t,e[1]=r,e[2]=o,e[3]=s,n}var w8={encrypt(i,n){if(n.length>=2**32)throw Error("plaintext should be less than 4gb");let e=rh(i);if(n.length===16)O7(e,n);else{let t=rr(n),r=t[0],o=t[1];for(let s=0,a=1;s<6;s++)for(let l=2;l<t.length;l+=2,a++){let{s0:c,s1:d,s2:p,s3:g}=wl(e,r,o,t[l],t[l+1]);r=c,o=d^b8(a),t[l]=p,t[l+1]=g}t[0]=r,t[1]=o}e.fill(0)},decrypt(i,n){if(n.length-8>=2**32)throw Error("ciphertext should be less than 4gb");let e=xD(i),t=n.length/8-1;if(t===1)D7(e,n);else{let r=rr(n),o=r[0],s=r[1];for(let a=0,l=6*t;a<6;a++)for(let c=2*t;c>=1;c-=2,l--){s^=b8(l);let{s0:d,s1:p,s2:g,s3:C}=Rw(e,o,s,r[c],r[c+1]);o=d,s=p,r[c]=g,r[c+1]=C}r[0]=o,r[1]=s}e.fill(0)}},S8=new Uint8Array(8).fill(166),R7=x0({blockSize:8},i=>({encrypt(n){if(Ln(n),!n.length||n.length%8!=0)throw Error("invalid plaintext length");if(n.length===8)throw Error("8-byte keys not allowed in AESKW, use AESKWP instead");let e=function(...t){let r=0;for(let s=0;s<t.length;s++){let a=t[s];Ln(a),r+=a.length}let o=new Uint8Array(r);for(let s=0,a=0;s<t.length;s++){let l=t[s];o.set(l,a),a+=l.length}return o}(S8,n);return w8.encrypt(i,e),e},decrypt(n){if(Ln(n),n.length%8!=0||n.length<24)throw Error("invalid ciphertext length");let e=js(n);if(w8.decrypt(i,e),!v7(e.subarray(0,8),S8))throw Error("integrity check failed");return e.subarray(0,8).fill(0),e.subarray(8)}})),A8={expandKeyLE:rh,expandKeyDecLE:xD,encrypt:wl,decrypt:Rw,encryptBlock:O7,decryptBlock:D7,ctrCounter:A7,ctr32:o0};function P7(i){return N(this,null,function*(){switch(i){case x.symmetric.aes128:case x.symmetric.aes192:case x.symmetric.aes256:throw Error("Not a legacy cipher");case x.symmetric.cast5:case x.symmetric.blowfish:case x.symmetric.twofish:case x.symmetric.tripledes:{let{legacyCiphers:n}=yield import("./chunk-7ZGBLVLI.js"),e=x.read(x.symmetric,i),t=n.get(e);if(!t)throw Error("Unsupported cipher algorithm");return t}default:throw Error("Unsupported cipher algorithm")}})}function Nve(i){switch(i){case x.symmetric.aes128:case x.symmetric.aes192:case x.symmetric.aes256:case x.symmetric.twofish:return 16;case x.symmetric.blowfish:case x.symmetric.cast5:case x.symmetric.tripledes:return 8;default:throw Error("Unsupported cipher")}}function Vve(i){switch(i){case x.symmetric.aes128:case x.symmetric.blowfish:case x.symmetric.cast5:return 16;case x.symmetric.aes192:case x.symmetric.tripledes:return 24;case x.symmetric.aes256:case x.symmetric.twofish:return 32;default:throw Error("Unsupported cipher")}}function qn(i){return{keySize:Vve(i),blockSize:Nve(i)}}var Cm=j.getWebCrypto();function QO(i,n,e){return N(this,null,function*(){let{keySize:t}=qn(i);if(!j.isAES(i)||n.length!==t)throw Error("Unexpected algorithm or key size");try{let r=yield Cm.importKey("raw",n,{name:"AES-KW"},!1,["wrapKey"]),o=yield Cm.importKey("raw",e,{name:"HMAC",hash:"SHA-256"},!0,["sign"]),s=yield Cm.wrapKey("raw",o,r,{name:"AES-KW"});return new Uint8Array(s)}catch(r){if(r.name!=="NotSupportedError"&&(n.length!==24||r.name!=="OperationError"))throw r;j.printDebugError("Browser did not support operation: "+r.message)}return R7(n).encrypt(e)})}function ZO(i,n,e){return N(this,null,function*(){let{keySize:t}=qn(i);if(!j.isAES(i)||n.length!==t)throw Error("Unexpected algorithm or key size");let r;try{r=yield Cm.importKey("raw",n,{name:"AES-KW"},!1,["unwrapKey"])}catch(o){if(o.name!=="NotSupportedError"&&(n.length!==24||o.name!=="OperationError"))throw o;return j.printDebugError("Browser did not support operation: "+o.message),R7(n).decrypt(e)}try{let o=yield Cm.unwrapKey("raw",e,r,{name:"AES-KW"},{name:"HMAC",hash:"SHA-256"},!0,["sign"]);return new Uint8Array(yield Cm.exportKey("raw",o))}catch(o){throw o.name==="OperationError"?Error("Key Data Integrity failed"):o}})}var E8=j.getWebCrypto();function Pu(i,n,e,t,r){return N(this,null,function*(){let o=x.read(x.webHash,i);if(!o)throw Error("Hash algo not supported with HKDF");let s=yield E8.importKey("raw",n,"HKDF",!1,["deriveBits"]),a=yield E8.deriveBits({name:"HKDF",hash:o,salt:e,info:t},s,8*r);return new Uint8Array(a)})}var rw={x25519:j.encodeUTF8("OpenPGP X25519"),x448:j.encodeUTF8("OpenPGP X448")};function TD(i){return N(this,null,function*(){switch(i){case x.publicKey.x25519:{let n=Fo(32),{publicKey:e}=wr.box.keyPair.fromSecretKey(n);return{A:e,k:n}}case x.publicKey.x448:{let n=yield j.getNobleCurve(x.publicKey.x448),e=n.utils.randomPrivateKey();return{A:n.getPublicKey(e),k:e}}default:throw Error("Unsupported ECDH algorithm")}})}function k7(i,n,e){return N(this,null,function*(){switch(i){case x.publicKey.x25519:{let{publicKey:t}=wr.box.keyPair.fromSecretKey(e);return j.equalsUint8Array(n,t)}case x.publicKey.x448:{let t=(yield j.getNobleCurve(x.publicKey.x448)).getPublicKey(e);return j.equalsUint8Array(n,t)}default:return!1}})}function F7(i,n,e){return N(this,null,function*(){let{ephemeralPublicKey:t,sharedSecret:r}=yield DD(i,e),o=j.concatUint8Array([t,e,r]);switch(i){case x.publicKey.x25519:{let s=x.symmetric.aes128,{keySize:a}=qn(s),l=yield Pu(x.hash.sha256,o,new Uint8Array,rw.x25519,a);return{ephemeralPublicKey:t,wrappedKey:yield QO(s,l,n)}}case x.publicKey.x448:{let s=x.symmetric.aes256,{keySize:a}=qn(x.symmetric.aes256),l=yield Pu(x.hash.sha512,o,new Uint8Array,rw.x448,a);return{ephemeralPublicKey:t,wrappedKey:yield QO(s,l,n)}}default:throw Error("Unsupported ECDH algorithm")}})}function L7(i,n,e,t,r){return N(this,null,function*(){let o=yield RD(i,n,t,r),s=j.concatUint8Array([n,t,o]);switch(i){case x.publicKey.x25519:{let a=x.symmetric.aes128,{keySize:l}=qn(a);return ZO(a,yield Pu(x.hash.sha256,s,new Uint8Array,rw.x25519,l),e)}case x.publicKey.x448:{let a=x.symmetric.aes256,{keySize:l}=qn(x.symmetric.aes256);return ZO(a,yield Pu(x.hash.sha512,s,new Uint8Array,rw.x448,l),e)}default:throw Error("Unsupported ECDH algorithm")}})}function OD(i){switch(i){case x.publicKey.x25519:return 32;case x.publicKey.x448:return 56;default:throw Error("Unsupported ECDH algorithm")}}function DD(i,n){return N(this,null,function*(){switch(i){case x.publicKey.x25519:{let e=Fo(OD(i)),t=wr.scalarMult(e,n);ow(t);let{publicKey:r}=wr.box.keyPair.fromSecretKey(e);return{ephemeralPublicKey:r,sharedSecret:t}}case x.publicKey.x448:{let e=yield j.getNobleCurve(x.publicKey.x448),t=e.utils.randomPrivateKey(),r=e.getSharedSecret(t,n);return ow(r),{ephemeralPublicKey:e.getPublicKey(t),sharedSecret:r}}default:throw Error("Unsupported ECDH algorithm")}})}function RD(i,n,e,t){return N(this,null,function*(){switch(i){case x.publicKey.x25519:{let r=wr.scalarMult(t,n);return ow(r),r}case x.publicKey.x448:{let r=(yield j.getNobleCurve(x.publicKey.x448)).getSharedSecret(t,n);return ow(r),r}default:throw Error("Unsupported ECDH algorithm")}})}function ow(i){let n=0;for(let e=0;e<i.length;e++)n|=i[e];if(n===0)throw Error("Unexpected low order point")}var Bve=Object.freeze({__proto__:null,decrypt:L7,encrypt:F7,generate:TD,generateEphemeralEncryptionMaterial:DD,getPayloadSize:OD,recomputeSharedSecret:RD,validateParams:k7}),OO=j.getWebCrypto(),sw=j.getNodeCrypto(),dc={[x.curve.nistP256]:"P-256",[x.curve.nistP384]:"P-384",[x.curve.nistP521]:"P-521"},rd=sw?sw.getCurves():[],rc=sw?{[x.curve.secp256k1]:rd.includes("secp256k1")?"secp256k1":void 0,[x.curve.nistP256]:rd.includes("prime256v1")?"prime256v1":void 0,[x.curve.nistP384]:rd.includes("secp384r1")?"secp384r1":void 0,[x.curve.nistP521]:rd.includes("secp521r1")?"secp521r1":void 0,[x.curve.ed25519Legacy]:rd.includes("ED25519")?"ED25519":void 0,[x.curve.curve25519Legacy]:rd.includes("X25519")?"X25519":void 0,[x.curve.brainpoolP256r1]:rd.includes("brainpoolP256r1")?"brainpoolP256r1":void 0,[x.curve.brainpoolP384r1]:rd.includes("brainpoolP384r1")?"brainpoolP384r1":void 0,[x.curve.brainpoolP512r1]:rd.includes("brainpoolP512r1")?"brainpoolP512r1":void 0}:{},M7={[x.curve.nistP256]:{oid:[6,8,42,134,72,206,61,3,1,7],keyType:x.publicKey.ecdsa,hash:x.hash.sha256,cipher:x.symmetric.aes128,node:rc[x.curve.nistP256],web:dc[x.curve.nistP256],payloadSize:32,sharedSize:256,wireFormatLeadingByte:4},[x.curve.nistP384]:{oid:[6,5,43,129,4,0,34],keyType:x.publicKey.ecdsa,hash:x.hash.sha384,cipher:x.symmetric.aes192,node:rc[x.curve.nistP384],web:dc[x.curve.nistP384],payloadSize:48,sharedSize:384,wireFormatLeadingByte:4},[x.curve.nistP521]:{oid:[6,5,43,129,4,0,35],keyType:x.publicKey.ecdsa,hash:x.hash.sha512,cipher:x.symmetric.aes256,node:rc[x.curve.nistP521],web:dc[x.curve.nistP521],payloadSize:66,sharedSize:528,wireFormatLeadingByte:4},[x.curve.secp256k1]:{oid:[6,5,43,129,4,0,10],keyType:x.publicKey.ecdsa,hash:x.hash.sha256,cipher:x.symmetric.aes128,node:rc[x.curve.secp256k1],payloadSize:32,wireFormatLeadingByte:4},[x.curve.ed25519Legacy]:{oid:[6,9,43,6,1,4,1,218,71,15,1],keyType:x.publicKey.eddsaLegacy,hash:x.hash.sha512,node:!1,payloadSize:32,wireFormatLeadingByte:64},[x.curve.curve25519Legacy]:{oid:[6,10,43,6,1,4,1,151,85,1,5,1],keyType:x.publicKey.ecdh,hash:x.hash.sha256,cipher:x.symmetric.aes128,node:!1,payloadSize:32,wireFormatLeadingByte:64},[x.curve.brainpoolP256r1]:{oid:[6,9,43,36,3,3,2,8,1,1,7],keyType:x.publicKey.ecdsa,hash:x.hash.sha256,cipher:x.symmetric.aes128,node:rc[x.curve.brainpoolP256r1],payloadSize:32,wireFormatLeadingByte:4},[x.curve.brainpoolP384r1]:{oid:[6,9,43,36,3,3,2,8,1,1,11],keyType:x.publicKey.ecdsa,hash:x.hash.sha384,cipher:x.symmetric.aes192,node:rc[x.curve.brainpoolP384r1],payloadSize:48,wireFormatLeadingByte:4},[x.curve.brainpoolP512r1]:{oid:[6,9,43,36,3,3,2,8,1,1,13],keyType:x.publicKey.ecdsa,hash:x.hash.sha512,cipher:x.symmetric.aes256,node:rc[x.curve.brainpoolP512r1],payloadSize:64,wireFormatLeadingByte:4}},Ks=class{constructor(n){try{this.name=n instanceof cd?n.getName():x.write(x.curve,n)}catch{throw new $n("Unknown curve")}let e=M7[this.name];this.keyType=e.keyType,this.oid=e.oid,this.hash=e.hash,this.cipher=e.cipher,this.node=e.node,this.web=e.web,this.payloadSize=e.payloadSize,this.sharedSize=e.sharedSize,this.wireFormatLeadingByte=e.wireFormatLeadingByte,this.web&&j.getWebCrypto()?this.type="web":this.node&&j.getNodeCrypto()?this.type="node":this.name===x.curve.curve25519Legacy?this.type="curve25519Legacy":this.name===x.curve.ed25519Legacy&&(this.type="ed25519Legacy")}genKeyPair(){return N(this,null,function*(){switch(this.type){case"web":try{return yield function(n,e){return N(this,null,function*(){let t=yield OO.generateKey({name:"ECDSA",namedCurve:dc[n]},!0,["sign","verify"]),r=yield OO.exportKey("jwk",t.privateKey);return{publicKey:B7(yield OO.exportKey("jwk",t.publicKey),e),privateKey:bl(r.d)}})}(this.name,this.wireFormatLeadingByte)}catch(n){return j.printDebugError("Browser did not support generating ec key "+n.message),x8(this.name)}case"node":return function(n){return N(this,null,function*(){let e=sw.createECDH(rc[n]);return yield e.generateKeys(),{publicKey:new Uint8Array(e.getPublicKey()),privateKey:new Uint8Array(e.getPrivateKey())}})}(this.name);case"curve25519Legacy":{let{k:n,A:e}=yield TD(x.publicKey.x25519),t=n.slice().reverse();return t[0]=127&t[0]|64,t[31]&=248,{publicKey:j.concatUint8Array([new Uint8Array([this.wireFormatLeadingByte]),e]),privateKey:t}}case"ed25519Legacy":{let{seed:n,A:e}=yield ID(x.publicKey.ed25519);return{publicKey:j.concatUint8Array([new Uint8Array([this.wireFormatLeadingByte]),e]),privateKey:n}}default:return x8(this.name)}})}};function zb(i){return N(this,null,function*(){let n=new Ks(i),{oid:e,hash:t,cipher:r}=n,o=yield n.genKeyPair();return{oid:e,Q:o.publicKey,secret:j.leftPad(o.privateKey,n.payloadSize),hash:t,cipher:r}})}function N7(i){return M7[i.getName()].hash}function V7(i,n,e,t){return N(this,null,function*(){let r={[x.curve.nistP256]:!0,[x.curve.nistP384]:!0,[x.curve.nistP521]:!0,[x.curve.secp256k1]:!0,[x.curve.curve25519Legacy]:i===x.publicKey.ecdh,[x.curve.brainpoolP256r1]:!0,[x.curve.brainpoolP384r1]:!0,[x.curve.brainpoolP512r1]:!0},o=n.getName();if(!r[o])return!1;if(o===x.curve.curve25519Legacy){t=t.slice().reverse();let{publicKey:a}=wr.box.keyPair.fromSecretKey(t);e=new Uint8Array(e);let l=new Uint8Array([64,...a]);return!!j.equalsUint8Array(l,e)}let s=(yield j.getNobleCurve(x.publicKey.ecdsa,o)).getPublicKey(t,!1);return!!j.equalsUint8Array(s,e)})}function ih(i,n){let{payloadSize:e,wireFormatLeadingByte:t,name:r}=i,o=r===x.curve.curve25519Legacy||r===x.curve.ed25519Legacy?e:2*e;if(n[0]!==t||n.length!==o+1)throw Error("Invalid point encoding")}function x8(i){return N(this,null,function*(){let n=yield j.getNobleCurve(x.publicKey.ecdsa,i),e=n.utils.randomPrivateKey();return{publicKey:n.getPublicKey(e,!1),privateKey:e}})}function B7(i,n){let e=bl(i.x),t=bl(i.y),r=new Uint8Array(e.length+t.length+1);return r[0]=n,r.set(e,1),r.set(t,e.length+1),r}function Pw(i,n,e){let t=i,r=e.slice(1,t+1),o=e.slice(t+1,2*t+1);return{kty:"EC",crv:n,x:ws(r),y:ws(o),ext:!0}}function U7(i,n,e,t){let r=Pw(i,n,e);return r.d=ws(t),r}var aw=j.getWebCrypto(),j7=j.getNodeCrypto();function eD(i,n,e,t,r,o){return N(this,null,function*(){let s=new Ks(i);if(ih(s,t),e&&!j.isStream(e)){let l={publicKey:t,privateKey:r};switch(s.type){case"web":try{return yield function(c,d,p,g){return N(this,null,function*(){let C=c.payloadSize,y=U7(c.payloadSize,dc[c.name],g.publicKey,g.privateKey),v=yield aw.importKey("jwk",y,{name:"ECDSA",namedCurve:dc[c.name],hash:{name:x.read(x.webHash,c.hash)}},!1,["sign"]),w=new Uint8Array(yield aw.sign({name:"ECDSA",namedCurve:dc[c.name],hash:{name:x.read(x.webHash,d)}},v,p));return{r:w.slice(0,C),s:w.slice(C,C<<1)}})}(s,n,e,l)}catch(c){if(s.name!=="nistP521"&&(c.name==="DataError"||c.name==="OperationError"))throw c;j.printDebugError("Browser did not support signing: "+c.message)}break;case"node":return function(c,d,p,g){return N(this,null,function*(){let C=j.nodeRequire("eckey-utils"),y=j.getNodeBuffer(),{privateKey:v}=C.generateDer({curveName:rc[c.name],privateKey:y.from(g)}),w=j7.createSign(x.read(x.hash,d));w.write(p),w.end();let E=new Uint8Array(w.sign({key:v,format:"der",type:"sec1",dsaEncoding:"ieee-p1363"})),T=c.payloadSize;return{r:E.subarray(0,T),s:E.subarray(T,T<<1)}})}(s,n,e,r)}}let a=(yield j.getNobleCurve(x.publicKey.ecdsa,s.name)).sign(o,r,{lowS:!1});return{r:qr(a.r,"be",s.payloadSize),s:qr(a.s,"be",s.payloadSize)}})}function tD(i,n,e,t,r,o){return N(this,null,function*(){let s=new Ks(i);ih(s,r);let a=()=>N(this,null,function*(){return o[0]===0&&T8(s,e,o.subarray(1),r)});if(t&&!j.isStream(t))switch(s.type){case"web":try{return(yield function(v,w,E,T,F){return N(this,arguments,function*(c,d,{r:p,s:g},C,y){let G=Pw(c.payloadSize,dc[c.name],y),z=yield aw.importKey("jwk",G,{name:"ECDSA",namedCurve:dc[c.name],hash:{name:x.read(x.webHash,c.hash)}},!1,["verify"]),X=j.concatUint8Array([p,g]).buffer;return aw.verify({name:"ECDSA",namedCurve:dc[c.name],hash:{name:x.read(x.webHash,d)}},z,X,C)})}(s,n,e,t,r))||a()}catch(l){if(s.name!=="nistP521"&&(l.name==="DataError"||l.name==="OperationError"))throw l;j.printDebugError("Browser did not support verifying: "+l.message)}break;case"node":return(yield function(v,w,E,T,F){return N(this,arguments,function*(c,d,{r:p,s:g},C,y){let G=j.nodeRequire("eckey-utils"),z=j.getNodeBuffer(),{publicKey:X}=G.generateDer({curveName:rc[c.name],publicKey:z.from(y)}),ne=j7.createVerify(x.read(x.hash,d));ne.write(C),ne.end();let Y=j.concatUint8Array([p,g]);try{return ne.verify({key:X,format:"der",type:"spki",dsaEncoding:"ieee-p1363"},Y)}catch{return!1}})}(s,n,e,t,r))||a()}return(yield T8(s,e,o,r))||a()})}function T8(i,n,e,t){return N(this,null,function*(){return(yield j.getNobleCurve(x.publicKey.ecdsa,i.name)).verify(j.concatUint8Array([n.r,n.s]),e,t,{lowS:!1})})}var Uve=Object.freeze({__proto__:null,sign:eD,validateParams:function(i,n,e){return N(this,null,function*(){let t=new Ks(i);if(t.keyType!==x.publicKey.ecdsa)return!1;switch(t.type){case"web":case"node":{let r=Fo(8),o=x.hash.sha256,s=yield hc(o,r);try{let a=yield eD(i,o,r,n,e,s);return yield tD(i,o,a,r,n,s)}catch{return!1}}default:return V7(x.publicKey.ecdsa,i,n,e)}})},verify:tD});function H7(i,n,e,t,r,o){return N(this,null,function*(){if(ih(new Ks(i),t),go(n)<go(x.hash.sha256))throw Error("Hash algorithm too weak for EdDSA.");let{RS:s}=yield vD(x.publicKey.ed25519,n,0,t.subarray(1),r,o);return{r:s.subarray(0,32),s:s.subarray(32)}})}function G7(a,l,c,d,p,g){return N(this,arguments,function*(i,n,{r:e,s:t},r,o,s){if(ih(new Ks(i),o),go(n)<go(x.hash.sha256))throw Error("Hash algorithm too weak for EdDSA.");let C=j.concatUint8Array([e,t]);return bD(x.publicKey.ed25519,n,{RS:C},0,o.subarray(1),s)})}function z7(i,n,e){return N(this,null,function*(){if(i.getName()!==x.curve.ed25519Legacy)return!1;let{publicKey:t}=wr.sign.keyPair.fromSeed(e),r=new Uint8Array([64,...t]);return j.equalsUint8Array(n,r)})}var jve=Object.freeze({__proto__:null,sign:H7,validateParams:z7,verify:G7});function Hve(i){let n=i.length;if(n>0){let e=i[n-1];if(e>=1){let t=i.subarray(n-e),r=new Uint8Array(e).fill(e);if(j.equalsUint8Array(t,r))return i.subarray(0,n-e)}}throw Error("Invalid padding")}var Ou=j.getWebCrypto(),W7=j.getNodeCrypto();function K7(i,n,e,t){return j.concatUint8Array([n.write(),new Uint8Array([i]),e.write(),j.stringToUint8Array("Anonymous Sender    "),t])}function $7(i,n,e,t,r=!1,o=!1){return N(this,null,function*(){let s;if(r){for(s=0;s<n.length&&n[s]===0;s++);n=n.subarray(s)}if(o){for(s=n.length-1;s>=0&&n[s]===0;s--);n=n.subarray(0,s+1)}return(yield hc(i,j.concatUint8Array([new Uint8Array([0,0,0,1]),n,t]))).subarray(0,e)})}function Gve(i,n){return N(this,null,function*(){switch(i.type){case"curve25519Legacy":{let{sharedSecret:e,ephemeralPublicKey:t}=yield DD(x.publicKey.x25519,n.subarray(1));return{publicKey:j.concatUint8Array([new Uint8Array([i.wireFormatLeadingByte]),t]),sharedKey:e}}case"web":if(i.web&&j.getWebCrypto())try{return yield function(e,t){return N(this,null,function*(){let r=Pw(e.payloadSize,e.web,t),o=Ou.generateKey({name:"ECDH",namedCurve:e.web},!0,["deriveKey","deriveBits"]),s=Ou.importKey("jwk",r,{name:"ECDH",namedCurve:e.web},!1,[]);[o,s]=yield Promise.all([o,s]);let a=Ou.deriveBits({name:"ECDH",namedCurve:e.web,public:s},o.privateKey,e.sharedSize),l=Ou.exportKey("jwk",o.publicKey);[a,l]=yield Promise.all([a,l]);let c=new Uint8Array(a);return{publicKey:new Uint8Array(B7(l,e.wireFormatLeadingByte)),sharedKey:c}})}(i,n)}catch(e){return j.printDebugError(e),D8(i,n)}break;case"node":return function(e,t){return N(this,null,function*(){let r=W7.createECDH(e.node);r.generateKeys();let o=new Uint8Array(r.computeSecret(t));return{publicKey:new Uint8Array(r.getPublicKey()),sharedKey:o}})}(i,n);default:return D8(i,n)}})}function q7(i,n,e,t,r){return N(this,null,function*(){let o=function(g){let C=8-g.length%8,y=new Uint8Array(g.length+C).fill(C);return y.set(g),y}(e),s=new Ks(i);ih(s,t);let{publicKey:a,sharedKey:l}=yield Gve(s,t),c=K7(x.publicKey.ecdh,i,n,r),{keySize:d}=qn(n.cipher),p=yield $7(n.hash,l,d,c);return{publicKey:a,wrappedKey:yield QO(n.cipher,p,o)}})}function zve(i,n,e,t){return N(this,null,function*(){if(t.length!==i.payloadSize){let r=new Uint8Array(i.payloadSize);r.set(t,i.payloadSize-t.length),t=r}switch(i.type){case"curve25519Legacy":{let r=t.slice().reverse();return{secretKey:r,sharedKey:yield RD(x.publicKey.x25519,n.subarray(1),e.subarray(1),r)}}case"web":if(i.web&&j.getWebCrypto())try{return yield function(r,o,s,a){return N(this,null,function*(){let l=U7(r.payloadSize,r.web,s,a),c=Ou.importKey("jwk",l,{name:"ECDH",namedCurve:r.web},!0,["deriveKey","deriveBits"]),d=Pw(r.payloadSize,r.web,o),p=Ou.importKey("jwk",d,{name:"ECDH",namedCurve:r.web},!0,[]);[c,p]=yield Promise.all([c,p]);let g=Ou.deriveBits({name:"ECDH",namedCurve:r.web,public:p},c,r.sharedSize),C=Ou.exportKey("jwk",c);[g,C]=yield Promise.all([g,C]);let y=new Uint8Array(g);return{secretKey:bl(C.d),sharedKey:y}})}(i,n,e,t)}catch(r){return j.printDebugError(r),O8(i,n,t)}break;case"node":return function(r,o,s){return N(this,null,function*(){let a=W7.createECDH(r.node);a.setPrivateKey(s);let l=new Uint8Array(a.computeSecret(o));return{secretKey:new Uint8Array(a.getPrivateKey()),sharedKey:l}})}(i,n,t);default:return O8(i,n,t)}})}function Y7(i,n,e,t,r,o,s){return N(this,null,function*(){let a=new Ks(i);ih(a,r),ih(a,e);let{sharedKey:l}=yield zve(a,e,r,o),c=K7(x.publicKey.ecdh,i,n,s),{keySize:d}=qn(n.cipher),p;for(let g=0;g<3;g++)try{let C=yield $7(n.hash,l,d,c,g===1,g===2);return Hve(yield ZO(n.cipher,C,t))}catch(C){p=C}throw p})}function O8(i,n,e){return N(this,null,function*(){return{secretKey:e,sharedKey:(yield j.getNobleCurve(x.publicKey.ecdh,i.name)).getSharedSecret(e,n).subarray(1)}})}function D8(i,n){return N(this,null,function*(){let e=yield j.getNobleCurve(x.publicKey.ecdh,i.name),{publicKey:t,privateKey:r}=yield i.genKeyPair();return{publicKey:t,sharedKey:e.getSharedSecret(r,n).subarray(1)}})}var Wve=Object.freeze({__proto__:null,CurveWithOID:Ks,ecdh:Object.freeze({__proto__:null,decrypt:Y7,encrypt:q7,validateParams:function(i,n,e){return N(this,null,function*(){return V7(x.publicKey.ecdh,i,n,e)})}}),ecdhX:Bve,ecdsa:Uve,eddsa:Rve,eddsaLegacy:jve,generate:zb,getPreferredHashAlgo:N7}),Wb=BigInt(0),s0=BigInt(1),lw=class{constructor(n){n&&(this.data=n)}read(n){if(n.length>=1){let e=n[0];if(n.length>=1+e)return this.data=n.subarray(1,1+e),1+this.data.length}throw Error("Invalid symmetric key")}write(){return j.concatUint8Array([new Uint8Array([this.data.length]),this.data])}},cw=class{constructor(n){if(n){let{hash:e,cipher:t}=n;this.hash=e,this.cipher=t}else this.hash=null,this.cipher=null}read(n){if(n.length<4||n[0]!==3||n[1]!==1)throw new $n("Cannot read KDFParams");return this.hash=n[2],this.cipher=n[3],4}write(){return new Uint8Array([3,1,this.hash,this.cipher])}},dw=class i{static fromObject({wrappedKey:n,algorithm:e}){let t=new i;return t.wrappedKey=n,t.algorithm=e,t}read(n){let e=0,t=n[e++];this.algorithm=t%2?n[e++]:null,t-=t%2,this.wrappedKey=j.readExactSubarray(n,e,e+t),e+=t}write(){return j.concatUint8Array([this.algorithm?new Uint8Array([this.wrappedKey.length+1,this.algorithm]):new Uint8Array([this.wrappedKey.length]),this.wrappedKey])}};function Kve(i,n,e,t,r){return N(this,null,function*(){switch(i){case x.publicKey.rsaEncrypt:case x.publicKey.rsaEncryptSign:{let{n:o,e:s}=e;return{c:yield Ive(t,o,s)}}case x.publicKey.elgamal:{let{p:o,g:s,y:a}=e;return function(l,c,d,p){return N(this,null,function*(){c=Qt(c),d=Qt(d),p=Qt(p);let g=Qt(o7(l,zs(c))),C=Du(Au,c-Au);return{c1:qr(ko(d,C,c)),c2:qr(ln(ko(p,C,c)*g,c))}})}(t,o,s,a)}case x.publicKey.ecdh:{let{oid:o,Q:s,kdfParams:a}=e,{publicKey:l,wrappedKey:c}=yield q7(o,a,t,s,r);return{V:l,C:new lw(c)}}case x.publicKey.x25519:case x.publicKey.x448:{if(n&&!j.isAES(n))throw Error("X25519 and X448 keys can only encrypt AES session keys");let{A:o}=e,{ephemeralPublicKey:s,wrappedKey:a}=yield F7(i,t,o);return{ephemeralPublicKey:s,C:dw.fromObject({algorithm:n,wrappedKey:a})}}default:return[]}})}function $ve(i,n,e,t,r,o){return N(this,null,function*(){switch(i){case x.publicKey.rsaEncryptSign:case x.publicKey.rsaEncrypt:{let{c:s}=t,{n:a,e:l}=n,{d:c,p:d,q:p,u:g}=e;return vve(s,a,l,c,d,p,g,o)}case x.publicKey.elgamal:{let{c1:s,c2:a}=t;return function(l,c,d,p,g){return N(this,null,function*(){return l=Qt(l),c=Qt(c),d=Qt(d),s7(qr(ln(ym(ko(l,p=Qt(p),d),d)*c,d),"be",zs(d)),g)})}(s,a,n.p,e.x,o)}case x.publicKey.ecdh:{let{oid:s,Q:a,kdfParams:l}=n,{d:c}=e,{V:d,C:p}=t;return Y7(s,l,d,p.data,a,c,r)}case x.publicKey.x25519:case x.publicKey.x448:{let{A:s}=n,{k:a}=e,{ephemeralPublicKey:l,C:c}=t;if(c.algorithm!==null&&!j.isAES(c.algorithm))throw Error("AES session key expected");return L7(i,l,c.wrappedKey,s,a)}default:throw Error("Unknown public key encryption algorithm.")}})}function R8(i,n,e){let t=0;switch(i){case x.publicKey.rsaEncrypt:case x.publicKey.rsaEncryptSign:case x.publicKey.rsaSign:{let r=j.readMPI(n.subarray(t));t+=r.length+2;let o=j.readMPI(n.subarray(t));t+=o.length+2;let s=j.readMPI(n.subarray(t));t+=s.length+2;let a=j.readMPI(n.subarray(t));return t+=a.length+2,{read:t,privateParams:{d:r,p:o,q:s,u:a}}}case x.publicKey.dsa:case x.publicKey.elgamal:{let r=j.readMPI(n.subarray(t));return t+=r.length+2,{read:t,privateParams:{x:r}}}case x.publicKey.ecdsa:case x.publicKey.ecdh:{let r=fm(i,e.oid),o=j.readMPI(n.subarray(t));return t+=o.length+2,o=j.leftPad(o,r),{read:t,privateParams:{d:o}}}case x.publicKey.eddsaLegacy:{let r=fm(i,e.oid);if(e.oid.getName()!==x.curve.ed25519Legacy)throw Error("Unexpected OID for eddsaLegacy");let o=j.readMPI(n.subarray(t));return t+=o.length+2,o=j.leftPad(o,r),{read:t,privateParams:{seed:o}}}case x.publicKey.ed25519:case x.publicKey.ed448:{let r=fm(i),o=j.readExactSubarray(n,t,t+r);return t+=o.length,{read:t,privateParams:{seed:o}}}case x.publicKey.x25519:case x.publicKey.x448:{let r=fm(i),o=j.readExactSubarray(n,t,t+r);return t+=o.length,{read:t,privateParams:{k:o}}}default:throw new $n("Unknown public key encryption algorithm.")}}function vm(i,n){let e=new Set([x.publicKey.ed25519,x.publicKey.x25519,x.publicKey.ed448,x.publicKey.x448]),t=Object.keys(n).map(r=>{let o=n[r];return j.isUint8Array(o)?e.has(i)?o:j.uint8ArrayToMPI(o):o.write()});return j.concatUint8Array(t)}function qve(i,n,e){switch(i){case x.publicKey.rsaEncrypt:case x.publicKey.rsaEncryptSign:case x.publicKey.rsaSign:return function(t,r){return N(this,null,function*(){if(r=BigInt(r),j.getWebCrypto()){let c={name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:qr(r),hash:{name:"SHA-1"}},d=yield Im.generateKey(c,!0,["sign","verify"]);return d8(yield Im.exportKey("jwk",d.privateKey),r)}if(j.getNodeCrypto()){let c={modulusLength:t,publicExponent:HO(r),publicKeyEncoding:{type:"pkcs1",format:"jwk"},privateKeyEncoding:{type:"pkcs1",format:"jwk"}},d=yield new Promise((p,g)=>{th.generateKeyPair("rsa",c,(C,y,v)=>{C?g(C):p(v)})});return d8(d,r)}let o,s,a;do s=l8(t-(t>>1),r,40),o=l8(t>>1,r,40),a=o*s;while(_m(a)!==t);let l=(o-Ru)*(s-Ru);return s<o&&([o,s]=[s,o]),{n:qr(a),e:qr(r),d:qr(ym(r,l)),p:qr(o),q:qr(s),u:qr(ym(o,s))}})}(n,65537).then(({n:t,e:r,d:o,p:s,q:a,u:l})=>({privateParams:{d:o,p:s,q:a,u:l},publicParams:{n:t,e:r}}));case x.publicKey.ecdsa:return zb(e).then(({oid:t,Q:r,secret:o})=>({privateParams:{d:o},publicParams:{oid:new cd(t),Q:r}}));case x.publicKey.eddsaLegacy:return zb(e).then(({oid:t,Q:r,secret:o})=>({privateParams:{seed:o},publicParams:{oid:new cd(t),Q:r}}));case x.publicKey.ecdh:return zb(e).then(({oid:t,Q:r,secret:o,hash:s,cipher:a})=>({privateParams:{d:o},publicParams:{oid:new cd(t),Q:r,kdfParams:new cw({hash:s,cipher:a})}}));case x.publicKey.ed25519:case x.publicKey.ed448:return ID(i).then(({A:t,seed:r})=>({privateParams:{seed:r},publicParams:{A:t}}));case x.publicKey.x25519:case x.publicKey.x448:return TD(i).then(({A:t,k:r})=>({privateParams:{k:r},publicParams:{A:t}}));case x.publicKey.dsa:case x.publicKey.elgamal:throw Error("Unsupported algorithm for key generation.");default:throw Error("Unknown public key algorithm.")}}function Yve(i,n,e){return N(this,null,function*(){if(!n||!e)throw Error("Missing key parameters");switch(i){case x.publicKey.rsaEncrypt:case x.publicKey.rsaEncryptSign:case x.publicKey.rsaSign:{let{n:t,e:r}=n,{d:o,p:s,q:a,u:l}=e;return function(c,d,p,g,C,y){return N(this,null,function*(){if(c=Qt(c),(g=Qt(g))*(C=Qt(C))!==c)return!1;let v=BigInt(2);if(ln(g*(y=Qt(y)),C)!==BigInt(1))return!1;d=Qt(d),p=Qt(p);let w=Du(v,v<<BigInt(Math.floor(_m(c)/3))),E=w*p*d;return!(ln(E,g-Ru)!==w||ln(E,C-Ru)!==w)})}(t,r,o,s,a,l)}case x.publicKey.dsa:{let{p:t,q:r,g:o,y:s}=n,{x:a}=e;return function(l,c,d,p,g){return N(this,null,function*(){if(l=Qt(l),c=Qt(c),d=Qt(d),p=Qt(p),d<=s0||d>=l||ln(l-s0,c)!==Wb||ko(d,c,l)!==s0)return!1;let C=BigInt(_m(c));if(C<BigInt(150)||!r7(c,null,32))return!1;g=Qt(g);let y=BigInt(2);return p===ko(d,c*Du(y<<C-s0,y<<C)+g,l)})}(t,r,o,s,a)}case x.publicKey.elgamal:{let{p:t,g:r,y:o}=n,{x:s}=e;return function(a,l,c,d){return N(this,null,function*(){if(a=Qt(a),l=Qt(l),c=Qt(c),l<=Au||l>=a)return!1;let p=BigInt(_m(a));if(p<BigInt(1023)||ko(l,a-Au,a)!==Au)return!1;let g=l,C=BigInt(1),y=BigInt(2),v=y<<BigInt(17);for(;C<v;){if(g=ln(g*l,a),g===Au)return!1;C++}d=Qt(d);let w=Du(y<<p-Au,y<<p);return c===ko(l,(a-Au)*w+d,a)})}(t,r,o,s)}case x.publicKey.ecdsa:case x.publicKey.ecdh:{let t=Wve[x.read(x.publicKey,i)],{oid:r,Q:o}=n,{d:s}=e;return t.validateParams(r,o,s)}case x.publicKey.eddsaLegacy:{let{Q:t,oid:r}=n,{seed:o}=e;return z7(r,t,o)}case x.publicKey.ed25519:case x.publicKey.ed448:{let{A:t}=n,{seed:r}=e;return _7(i,t,r)}case x.publicKey.x25519:case x.publicKey.x448:{let{A:t}=n,{k:r}=e;return k7(i,t,r)}default:throw Error("Unknown public key algorithm.")}})}function iD(i){let{keySize:n}=qn(i);return Fo(n)}function DO(i){try{i.getName()}catch{throw new $n("Unknown curve OID")}}function fm(i,n){switch(i){case x.publicKey.ecdsa:case x.publicKey.ecdh:case x.publicKey.eddsaLegacy:return new Ks(n).payloadSize;case x.publicKey.ed25519:case x.publicKey.ed448:return Ow(i);case x.publicKey.x25519:case x.publicKey.x448:return OD(i);default:throw Error("Unknown elliptic algo")}}var Kb=j.getWebCrypto(),m0=j.getNodeCrypto(),Xp=m0?m0.getCiphers():[],uw={idea:Xp.includes("idea-cfb")?"idea-cfb":void 0,tripledes:Xp.includes("des-ede3-cfb")?"des-ede3-cfb":void 0,cast5:Xp.includes("cast5-cfb")?"cast5-cfb":void 0,blowfish:Xp.includes("bf-cfb")?"bf-cfb":void 0,aes128:Xp.includes("aes-128-cfb")?"aes-128-cfb":void 0,aes192:Xp.includes("aes-192-cfb")?"aes-192-cfb":void 0,aes256:Xp.includes("aes-256-cfb")?"aes-256-cfb":void 0};function J7(i){return N(this,null,function*(){let{blockSize:n}=qn(i),e=yield Fo(n),t=new Uint8Array([e[e.length-2],e[e.length-1]]);return j.concat([e,t])})}function g0(i,n,e,t,r){return N(this,null,function*(){let o=x.read(x.symmetric,i);if(j.getNodeCrypto()&&uw[o])return function(p,g,C,y){let v=x.read(x.symmetric,p),w=new m0.createCipheriv(uw[v],g,y);return Vr(C,E=>new Uint8Array(w.update(E)))}(i,n,e,t);if(j.isAES(i))return function(p,g,C,y){return N(this,null,function*(){if(Kb&&(yield pw.isSupported(p))){let v=new pw(p,g,y);return j.isStream(C)?Vr(C,w=>v.encryptChunk(w),()=>v.finish()):v.encrypt(C)}if(j.isStream(C)){let v=new hw(!0,p,g,y);return Vr(C,w=>v.processChunk(w),()=>v.finish())}return x7(g,y).encrypt(C)})}(i,n,e,t);let s=new(yield P7(i))(n),a=s.blockSize,l=t.slice(),c=new Uint8Array,d=p=>{p&&(c=j.concatUint8Array([c,p]));let g=new Uint8Array(c.length),C,y=0;for(;p?c.length>=a:c.length;){let v=s.encrypt(l);for(C=0;C<a;C++)l[C]=c[C]^v[C],g[y++]=l[C];c=c.subarray(a)}return g.subarray(0,y)};return Vr(e,d,d)})}function kw(i,n,e,t){return N(this,null,function*(){let r=x.read(x.symmetric,i);if(m0&&uw[r])return function(d,p,g,C){let y=x.read(x.symmetric,d),v=new m0.createDecipheriv(uw[y],p,C);return Vr(g,w=>new Uint8Array(v.update(w)))}(i,n,e,t);if(j.isAES(i))return function(d,p,g,C){return N(this,null,function*(){if(j.isStream(g)){let y=new hw(!1,d,p,C);return Vr(g,v=>y.processChunk(v),()=>y.finish())}return x7(p,C).decrypt(g)})}(i,n,e,t);let o=new(yield P7(i))(n),s=o.blockSize,a=t,l=new Uint8Array,c=d=>{d&&(l=j.concatUint8Array([l,d]));let p=new Uint8Array(l.length),g,C=0;for(;d?l.length>=s:l.length;){let y=o.encrypt(a);for(a=l.subarray(0,s),g=0;g<s;g++)p[C++]=a[g]^y[g];l=l.subarray(s)}return p.subarray(0,C)};return Vr(e,c,c)})}var pw=class{constructor(n,e,t){let{blockSize:r}=qn(n);this.key=e,this.prevBlock=t,this.nextBlock=new Uint8Array(r),this.i=0,this.blockSize=r,this.zeroBlock=new Uint8Array(this.blockSize)}static isSupported(n){return N(this,null,function*(){let{keySize:e}=qn(n);return Kb.importKey("raw",new Uint8Array(e),"aes-cbc",!1,["encrypt"]).then(()=>!0,()=>!1)})}_runCBC(n,e){return N(this,null,function*(){let t="AES-CBC";this.keyRef=this.keyRef||(yield Kb.importKey("raw",this.key,t,!1,["encrypt"]));let r=yield Kb.encrypt({name:t,iv:e||this.zeroBlock},this.keyRef,n);return new Uint8Array(r).subarray(0,n.length)})}encryptChunk(n){return N(this,null,function*(){let e=this.nextBlock.length-this.i,t=n.subarray(0,e);if(this.nextBlock.set(t,this.i),this.i+n.length>=2*this.blockSize){let o=(n.length-e)%this.blockSize,s=j.concatUint8Array([this.nextBlock,n.subarray(e,n.length-o)]),a=j.concatUint8Array([this.prevBlock,s.subarray(0,s.length-this.blockSize)]),l=yield this._runCBC(a);return Bb(l,s),this.prevBlock=l.slice(-this.blockSize),o>0&&this.nextBlock.set(n.subarray(-o)),this.i=o,l}let r;if(this.i+=t.length,this.i===this.nextBlock.length){let o=this.nextBlock;r=yield this._runCBC(this.prevBlock),Bb(r,o),this.prevBlock=r.slice(),this.i=0;let s=n.subarray(t.length);this.nextBlock.set(s,this.i),this.i+=s.length}else r=new Uint8Array;return r})}finish(){return N(this,null,function*(){let n;if(this.i===0)n=new Uint8Array;else{this.nextBlock=this.nextBlock.subarray(0,this.i);let e=this.nextBlock,t=yield this._runCBC(this.prevBlock);Bb(t,e),n=t.subarray(0,e.length)}return this.clearSensitiveData(),n})}clearSensitiveData(){this.nextBlock.fill(0),this.prevBlock.fill(0),this.keyRef=null,this.key=null}encrypt(n){return N(this,null,function*(){let e=(yield this._runCBC(j.concatUint8Array([new Uint8Array(this.blockSize),n]),this.iv)).subarray(0,n.length);return Bb(e,n),this.clearSensitiveData(),e})}},hw=class{constructor(n,e,t,r){this.forEncryption=n;let{blockSize:o}=qn(e);this.key=A8.expandKeyLE(t),r.byteOffset%4!=0&&(r=r.slice()),this.prevBlock=RO(r),this.nextBlock=new Uint8Array(o),this.i=0,this.blockSize=o}_runCFB(n){let e=RO(n),t=new Uint8Array(n.length),r=RO(t);for(let o=0;o+4<=r.length;o+=4){let{s0:s,s1:a,s2:l,s3:c}=A8.encrypt(this.key,this.prevBlock[0],this.prevBlock[1],this.prevBlock[2],this.prevBlock[3]);r[o+0]=e[o+0]^s,r[o+1]=e[o+1]^a,r[o+2]=e[o+2]^l,r[o+3]=e[o+3]^c,this.prevBlock=(this.forEncryption?r:e).slice(o,o+4)}return t}processChunk(n){return N(this,null,function*(){let e=this.nextBlock.length-this.i,t=n.subarray(0,e);if(this.nextBlock.set(t,this.i),this.i+n.length>=2*this.blockSize){let o=(n.length-e)%this.blockSize,s=j.concatUint8Array([this.nextBlock,n.subarray(e,n.length-o)]),a=this._runCFB(s);return o>0&&this.nextBlock.set(n.subarray(-o)),this.i=o,a}let r;if(this.i+=t.length,this.i===this.nextBlock.length){r=this._runCFB(this.nextBlock),this.i=0;let o=n.subarray(t.length);this.nextBlock.set(o,this.i),this.i+=o.length}else r=new Uint8Array;return r})}finish(){return N(this,null,function*(){let n;return this.i===0?n=new Uint8Array:n=this._runCFB(this.nextBlock).subarray(0,this.i),this.clearSensitiveData(),n})}clearSensitiveData(){this.nextBlock.fill(0),this.prevBlock.fill(0),this.key.fill(0)}};function Bb(i,n){let e=Math.min(i.length,n.length);for(let t=0;t<e;t++)i[t]=i[t]^n[t]}var RO=i=>new Uint32Array(i.buffer,i.byteOffset,Math.floor(i.byteLength/4)),P8=j.getWebCrypto(),Jve=j.getNodeCrypto(),ld=16;function k8(i,n){let e=i.length-ld;for(let t=0;t<ld;t++)i[t+e]^=n[t];return i}var $b=new Uint8Array(ld);function Xve(i){return N(this,null,function*(){let n=yield Qve(i),e=j.double(yield n($b)),t=j.double(e);return function(r){return N(this,null,function*(){return(yield n(function(o,s,a){if(o.length&&o.length%ld==0)return k8(o,s);let l=new Uint8Array(o.length+(ld-o.length%ld));return l.set(o),l[o.length]=128,k8(l,a)}(r,e,t))).subarray(-ld)})}})}function Qve(i){return N(this,null,function*(){if(j.getNodeCrypto())return function(n){return N(this,null,function*(){let e=new Jve.createCipheriv("aes-"+8*i.length+"-cbc",i,$b).update(n);return new Uint8Array(e)})};if(j.getWebCrypto())try{return i=yield P8.importKey("raw",i,{name:"AES-CBC",length:8*i.length},!1,["encrypt"]),function(n){return N(this,null,function*(){let e=yield P8.encrypt({name:"AES-CBC",iv:$b,length:8*ld},i,n);return new Uint8Array(e).subarray(0,e.byteLength-ld)})}}catch(n){if(n.name!=="NotSupportedError"&&(i.length!==24||n.name!=="OperationError"))throw n;j.printDebugError("Browser did not support operation: "+n.message)}return function(n){return N(this,null,function*(){return E7(i,$b,{disablePadding:!0}).encrypt(n)})}})}var F8=j.getWebCrypto(),Zve=j.getNodeCrypto(),ebe=j.getNodeBuffer(),pd=16,tbe=pd,cm=pd,L8=new Uint8Array(pd),nD=new Uint8Array(pd);nD[pd-1]=1;var rD=new Uint8Array(pd);function ibe(i){return N(this,null,function*(){let n=yield Xve(i);return function(e,t){return n(j.concatUint8Array([e,t]))}})}function nbe(i){return N(this,null,function*(){if(j.getNodeCrypto())return function(n,e){return N(this,null,function*(){let t=new Zve.createCipheriv("aes-"+8*i.length+"-ctr",i,e),r=ebe.concat([t.update(n),t.final()]);return new Uint8Array(r)})};if(j.getWebCrypto())try{let n=yield F8.importKey("raw",i,{name:"AES-CTR",length:8*i.length},!1,["encrypt"]);return function(e,t){return N(this,null,function*(){let r=yield F8.encrypt({name:"AES-CTR",counter:t,length:8*pd},n,e);return new Uint8Array(r)})}}catch(n){if(n.name!=="NotSupportedError"&&(i.length!==24||n.name!=="OperationError"))throw n;j.printDebugError("Browser did not support operation: "+n.message)}return function(n,e){return N(this,null,function*(){return Mve(i,e).encrypt(n)})}})}function a0(i,n){return N(this,null,function*(){if(i!==x.symmetric.aes128&&i!==x.symmetric.aes192&&i!==x.symmetric.aes256)throw Error("EAX mode supports only AES cipher");let[e,t]=yield Promise.all([ibe(n),nbe(n)]);return{encrypt:function(r,o,s){return N(this,null,function*(){let[a,l]=yield Promise.all([e(L8,o),e(nD,s)]),c=yield t(r,a),d=yield e(rD,c);for(let p=0;p<cm;p++)d[p]^=l[p]^a[p];return j.concatUint8Array([c,d])})},decrypt:function(r,o,s){return N(this,null,function*(){if(r.length<cm)throw Error("Invalid EAX ciphertext");let a=r.subarray(0,-cm),l=r.subarray(-cm),[c,d,p]=yield Promise.all([e(L8,o),e(nD,s),e(rD,a)]),g=p;for(let C=0;C<cm;C++)g[C]^=d[C]^c[C];if(!j.equalsUint8Array(l,g))throw Error("Authentication tag mismatch");return yield t(a,c)})}}})}rD[pd-1]=2,a0.getNonce=function(i,n){let e=i.slice();for(let t=0;t<n.length;t++)e[8+t]^=n[t];return e},a0.blockLength=pd,a0.ivLength=tbe,a0.tagLength=cm;var bs=16,X7=15,Su=16;function M8(i){let n=0;for(let e=1;!(i&e);e<<=1)n++;return n}function Vs(i,n){for(let e=0;e<i.length;e++)i[e]^=n[e];return i}function Ub(i,n){return Vs(i.slice(),n)}var jb=new Uint8Array(bs),rbe=new Uint8Array([1]);function l0(i,n){return N(this,null,function*(){let{keySize:e}=qn(i);if(!j.isAES(i)||n.length!==e)throw Error("Unexpected algorithm or key size");let t=0,r=E7(n,jb,{disablePadding:!0}),o=c=>r.encrypt(c),s=c=>r.decrypt(c),a;function l(c,d,p,g){let C=d.length/bs|0;(function(Y,se){let ye=j.nbits(Math.max(Y.length,se.length)/bs|0)-1;for(let Ce=t+1;Ce<=ye;Ce++)a[Ce]=j.double(a[Ce-1]);t=ye})(d,g);let y=j.concatUint8Array([jb.subarray(0,X7-p.length),rbe,p]),v=63&y[bs-1];y[bs-1]&=192;let w=o(y),E=j.concatUint8Array([w,Ub(w.subarray(0,8),w.subarray(1,9))]),T=j.shiftRight(E.subarray(0+(v>>3),17+(v>>3)),8-(7&v)).subarray(1),F=new Uint8Array(bs),G=new Uint8Array(d.length+Su),z,X=0;for(z=0;z<C;z++)Vs(T,a[M8(z+1)]),G.set(Vs(c(Ub(T,d)),T),X),Vs(F,c===o?d:G.subarray(X)),d=d.subarray(bs),X+=bs;if(d.length){Vs(T,a.x);let Y=o(T);G.set(Ub(d,Y),X);let se=new Uint8Array(bs);se.set(c===o?d:G.subarray(X,-Su),0),se[d.length]=128,Vs(F,se),X+=d.length}let ne=Vs(o(Vs(Vs(F,T),a.$)),function(Y){if(!Y.length)return jb;let se=Y.length/bs|0,ye=new Uint8Array(bs),Ce=new Uint8Array(bs);for(let we=0;we<se;we++)Vs(ye,a[M8(we+1)]),Vs(Ce,o(Ub(ye,Y))),Y=Y.subarray(bs);if(Y.length){Vs(ye,a.x);let we=new Uint8Array(bs);we.set(Y,0),we[Y.length]=128,Vs(we,ye),Vs(Ce,o(we))}return Ce}(g));return G.set(ne,X),G}return function(){let c=o(jb),d=j.double(c);a=[],a[0]=j.double(d),a.x=c,a.$=d}(),{encrypt:function(c,d,p){return N(this,null,function*(){return l(o,c,d,p)})},decrypt:function(c,d,p){return N(this,null,function*(){if(c.length<Su)throw Error("Invalid OCB ciphertext");let g=c.subarray(-Su);c=c.subarray(0,-Su);let C=l(s,c,d,p);if(j.equalsUint8Array(g,C.subarray(-Su)))return C.subarray(0,-Su);throw Error("Authentication tag mismatch")})}}})}l0.getNonce=function(i,n){let e=i.slice();for(let t=0;t<n.length;t++)e[7+t]^=n[t];return e},l0.blockLength=bs,l0.ivLength=X7,l0.tagLength=Su;var PO=j.getWebCrypto(),N8=j.getNodeCrypto(),V8=j.getNodeBuffer(),dm=16,kO="AES-GCM";function mm(i,n){return N(this,null,function*(){if(i!==x.symmetric.aes128&&i!==x.symmetric.aes192&&i!==x.symmetric.aes256)throw Error("GCM mode supports only AES cipher");if(j.getNodeCrypto())return{encrypt:function(o,s){return N(this,arguments,function*(e,t,r=new Uint8Array){let a=new N8.createCipheriv("aes-"+8*n.length+"-gcm",n,t);a.setAAD(r);let l=V8.concat([a.update(e),a.final(),a.getAuthTag()]);return new Uint8Array(l)})},decrypt:function(o,s){return N(this,arguments,function*(e,t,r=new Uint8Array){let a=new N8.createDecipheriv("aes-"+8*n.length+"-gcm",n,t);a.setAAD(r),a.setAuthTag(e.slice(e.length-dm,e.length));let l=V8.concat([a.update(e.slice(0,e.length-dm)),a.final()]);return new Uint8Array(l)})}};if(j.getWebCrypto())try{let e=yield PO.importKey("raw",n,{name:kO},!1,["encrypt","decrypt"]),t=navigator.userAgent.match(/Version\/13\.\d(\.\d)* Safari/)||navigator.userAgent.match(/Version\/(13|14)\.\d(\.\d)* Mobile\/\S* Safari/);return{encrypt:function(a,l){return N(this,arguments,function*(r,o,s=new Uint8Array){if(t&&!r.length)return Vb(n,o,s).encrypt(r);let c=yield PO.encrypt({name:kO,iv:o,additionalData:s,tagLength:8*dm},e,r);return new Uint8Array(c)})},decrypt:function(a,l){return N(this,arguments,function*(r,o,s=new Uint8Array){if(t&&r.length===dm)return Vb(n,o,s).decrypt(r);try{let c=yield PO.decrypt({name:kO,iv:o,additionalData:s,tagLength:8*dm},e,r);return new Uint8Array(c)}catch(c){if(c.name==="OperationError")throw Error("Authentication tag mismatch")}})}}}catch(e){if(e.name!=="NotSupportedError"&&(n.length!==24||e.name!=="OperationError"))throw e;j.printDebugError("Browser did not support operation: "+e.message)}return{encrypt:function(e,t,r){return N(this,null,function*(){return Vb(n,t,r).encrypt(e)})},decrypt:function(e,t,r){return N(this,null,function*(){return Vb(n,t,r).decrypt(e)})}}})}function dd(i,n=!1){switch(i){case x.aead.eax:return a0;case x.aead.ocb:return l0;case x.aead.gcm:return mm;case x.aead.experimentalGCM:if(!n)throw Error("Unexpected non-standard `experimentalGCM` AEAD algorithm provided in `config.preferredAEADAlgorithm`: use `gcm` instead");return mm;default:throw Error("Unsupported AEAD mode")}}function obe(i,n,e,t,r,o){return N(this,null,function*(){switch(i){case x.publicKey.rsaEncryptSign:case x.publicKey.rsaEncrypt:case x.publicKey.rsaSign:{let{n:s,e:a}=t;return yve(n,r,j.leftPad(e.s,s.length),s,a,o)}case x.publicKey.dsa:{let{g:s,p:a,q:l,y:c}=t,{r:d,s:p}=e;return function(g,C,y,v,w,E,T,F){return N(this,null,function*(){if(C=Qt(C),y=Qt(y),E=Qt(E),T=Qt(T),w=Qt(w),F=Qt(F),C<=Wb||C>=T||y<=Wb||y>=T)return j.printDebug("invalid DSA Signature"),!1;let G=ln(Qt(v.subarray(0,zs(T))),T),z=ym(y,T);if(z===Wb)return j.printDebug("invalid DSA Signature"),!1;w=ln(w,E),F=ln(F,E);let X=ln(G*z,T),ne=ln(C*z,T);return ln(ln(ko(w,X,E)*ko(F,ne,E),E),T)===C})}(0,d,p,o,s,a,l,c)}case x.publicKey.ecdsa:{let{oid:s,Q:a}=t,l=new Ks(s).payloadSize;return tD(s,n,{r:j.leftPad(e.r,l),s:j.leftPad(e.s,l)},r,a,o)}case x.publicKey.eddsaLegacy:{let{oid:s,Q:a}=t,l=new Ks(s).payloadSize;return G7(s,n,{r:j.leftPad(e.r,l),s:j.leftPad(e.s,l)},0,a,o)}case x.publicKey.ed25519:case x.publicKey.ed448:{let{A:s}=t;return bD(i,n,e,0,s,o)}default:throw Error("Unknown signature algorithm.")}})}function sbe(i,n,e,t,r,o){return N(this,null,function*(){if(!e||!t)throw Error("Missing key parameters");switch(i){case x.publicKey.rsaEncryptSign:case x.publicKey.rsaEncrypt:case x.publicKey.rsaSign:{let{n:s,e:a}=e,{d:l,p:c,q:d,u:p}=t;return{s:yield Cve(n,r,s,a,l,c,d,p,o)}}case x.publicKey.dsa:{let{g:s,p:a,q:l}=e,{x:c}=t;return function(d,p,g,C,y,v){return N(this,null,function*(){let w=BigInt(0),E,T,F,G;C=Qt(C),y=Qt(y),g=Qt(g),v=Qt(v),g=ln(g,C),v=ln(v,y);let z=ln(Qt(p.subarray(0,zs(y))),y);for(;;){if(E=Du(s0,y),T=ln(ko(g,E,C),y),T===w)continue;let X=ln(v*T,y);if(G=ln(z+X,y),F=ln(ym(E,y)*G,y),F!==w)break}return{r:qr(T,"be",zs(C)),s:qr(F,"be",zs(C))}})}(0,o,s,a,l,c)}case x.publicKey.elgamal:throw Error("Signing with Elgamal is not defined in the OpenPGP standard.");case x.publicKey.ecdsa:{let{oid:s,Q:a}=e,{d:l}=t;return eD(s,n,r,a,l,o)}case x.publicKey.eddsaLegacy:{let{oid:s,Q:a}=e,{seed:l}=t;return H7(s,n,0,a,l,o)}case x.publicKey.ed25519:case x.publicKey.ed448:{let{A:s}=e,{seed:a}=t;return vD(i,n,0,s,a,o)}default:throw Error("Unknown signature algorithm.")}})}mm.getNonce=function(i,n){let e=i.slice();for(let t=0;t<n.length;t++)e[4+t]^=n[t];return e},mm.blockLength=16,mm.ivLength=12,mm.tagLength=dm;var fw=class i extends Error{constructor(...n){super(...n),Error.captureStackTrace&&Error.captureStackTrace(this,i),this.name="Argon2OutOfMemoryError"}},Hb,Z_,oD=class{constructor(n=at){let{passes:e,parallelism:t,memoryExponent:r}=n.s2kArgon2Params;this.type="argon2",this.salt=null,this.t=e,this.p=t,this.encodedM=r}generateSalt(){this.salt=Fo(16)}read(n){let e=0;return this.salt=n.subarray(e,e+16),e+=16,this.t=n[e++],this.p=n[e++],this.encodedM=n[e++],e}write(){let n=[new Uint8Array([x.write(x.s2k,this.type)]),this.salt,new Uint8Array([this.t,this.p,this.encodedM])];return j.concatUint8Array(n)}produceKey(n,e){return N(this,null,function*(){let t=2<<this.encodedM-1;try{Hb=Hb||(yield import("./chunk-P4GJICAQ.js")).default,Z_=Z_||Hb();let r=yield Z_,o=r({version:19,type:2,password:j.encodeUTF8(n),salt:this.salt,tagLength:e,memorySize:t,parallelism:this.p,passes:this.t});return t>1048576&&(Z_=Hb(),Z_.catch(()=>{})),o}catch(r){throw r.message&&(r.message.includes("Unable to grow instance memory")||r.message.includes("failed to grow memory")||r.message.includes("WebAssembly.Memory.grow")||r.message.includes("Out of memory"))?new fw("Could not allocate required memory for Argon2"):r}})}},sD=class{constructor(n,e=at){this.algorithm=x.hash.sha256,this.type=x.read(x.s2k,n),this.c=e.s2kIterationCountByte,this.salt=null}generateSalt(){switch(this.type){case"salted":case"iterated":this.salt=Fo(8)}}getCount(){return 16+(15&this.c)<<6+(this.c>>4)}read(n){let e=0;switch(this.algorithm=n[e++],this.type){case"simple":break;case"salted":this.salt=n.subarray(e,e+8),e+=8;break;case"iterated":this.salt=n.subarray(e,e+8),e+=8,this.c=n[e++];break;case"gnu":if(j.uint8ArrayToString(n.subarray(e,e+3))!=="GNU")throw new $n("Unknown s2k type.");if(e+=3,1e3+n[e++]!==1001)throw new $n("Unknown s2k gnu protection mode.");this.type="gnu-dummy";break;default:throw new $n("Unknown s2k type.")}return e}write(){if(this.type==="gnu-dummy")return new Uint8Array([101,0,...j.stringToUint8Array("GNU"),1]);let n=[new Uint8Array([x.write(x.s2k,this.type),this.algorithm])];switch(this.type){case"simple":break;case"salted":n.push(this.salt);break;case"iterated":n.push(this.salt),n.push(new Uint8Array([this.c]));break;case"gnu":throw Error("GNU s2k type not supported.");default:throw Error("Unknown s2k type.")}return j.concatUint8Array(n)}produceKey(n,e){return N(this,null,function*(){n=j.encodeUTF8(n);let t=[],r=0,o=0;for(;r<e;){let s;switch(this.type){case"simple":s=j.concatUint8Array([new Uint8Array(o),n]);break;case"salted":s=j.concatUint8Array([new Uint8Array(o),this.salt,n]);break;case"iterated":{let l=j.concatUint8Array([this.salt,n]),c=l.length,d=Math.max(this.getCount(),c);s=new Uint8Array(o+d),s.set(l,o);for(let p=o+c;p<d;p+=c,c*=2)s.copyWithin(p,o,p);break}case"gnu":throw Error("GNU s2k type not supported.");default:throw Error("Unknown s2k type.")}let a=yield hc(this.algorithm,s);t.push(a),r+=a.length,o++}return j.concatUint8Array(t).subarray(0,e)})}},abe=new Set([x.s2k.argon2,x.s2k.iterated]);function mw(i,n=at){switch(i){case x.s2k.argon2:return new oD(n);case x.s2k.iterated:case x.s2k.gnu:case x.s2k.salted:case x.s2k.simple:return new sD(i,n);default:throw new $n("Unsupported S2K type")}}function Q7(i){let{s2kType:n}=i;if(!abe.has(n))throw Error("The provided `config.s2kType` value is not allowed");return mw(n,i)}var zo=Uint8Array,Hs=Uint16Array,Fw=Uint32Array,Lw=new zo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Mw=new zo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),aD=new zo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Z7=function(i,n){for(var e=new Hs(31),t=0;t<31;++t)e[t]=n+=1<<i[t-1];var r=new Fw(e[30]);for(t=1;t<30;++t)for(var o=e[t];o<e[t+1];++o)r[o]=o-e[t]<<5|t;return[e,r]},e9=Z7(Lw,2),t9=e9[0],lD=e9[1];t9[28]=258,lD[258]=28;for(FO=Z7(Mw,0),i9=FO[0],cD=FO[1],gw=new Hs(32768),or=0;or<32768;++or)wu=(43690&or)>>>1|(21845&or)<<1,wu=(61680&(wu=(52428&wu)>>>2|(13107&wu)<<2))>>>4|(3855&wu)<<4,gw[or]=((65280&wu)>>>8|(255&wu)<<8)>>>1;var wu,FO,i9,cD,gw,or,uc=function(i,n,e){for(var t=i.length,r=0,o=new Hs(n);r<t;++r)i[r]&&++o[i[r]-1];var s,a=new Hs(n);for(r=0;r<n;++r)a[r]=a[r-1]+o[r-1]<<1;if(e){s=new Hs(1<<n);var l=15-n;for(r=0;r<t;++r)if(i[r])for(var c=r<<4|i[r],d=n-i[r],p=a[i[r]-1]++<<d,g=p|(1<<d)-1;p<=g;++p)s[gw[p]>>>l]=c}else for(s=new Hs(t),r=0;r<t;++r)i[r]&&(s[r]=gw[a[i[r]-1]++]>>>15-i[r]);return s},ku=new zo(288);for(or=0;or<144;++or)ku[or]=8;for(or=144;or<256;++or)ku[or]=9;for(or=256;or<280;++or)ku[or]=7;for(or=280;or<288;++or)ku[or]=8;var _0=new zo(32);for(or=0;or<32;++or)_0[or]=5;var lbe=uc(ku,9,0),cbe=uc(ku,9,1),dbe=uc(_0,5,0),ube=uc(_0,5,1),LO=function(i){for(var n=i[0],e=1;e<i.length;++e)i[e]>n&&(n=i[e]);return n},yl=function(i,n,e){var t=n/8|0;return(i[t]|i[t+1]<<8)>>(7&n)&e},MO=function(i,n){var e=n/8|0;return(i[e]|i[e+1]<<8|i[e+2]<<16)>>(7&n)},PD=function(i){return(i+7)/8|0},c0=function(i,n,e){(n==null||n<0)&&(n=0),(e==null||e>i.length)&&(e=i.length);var t=new(i.BYTES_PER_ELEMENT==2?Hs:i.BYTES_PER_ELEMENT==4?Fw:zo)(e-n);return t.set(i.subarray(n,e)),t},pbe=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],ga=function(i,n,e){var t=Error(n||pbe[i]);if(t.code=i,Error.captureStackTrace&&Error.captureStackTrace(t,ga),!e)throw t;return t},od=function(i,n,e){e<<=7&n;var t=n/8|0;i[t]|=e,i[t+1]|=e>>>8},e0=function(i,n,e){e<<=7&n;var t=n/8|0;i[t]|=e,i[t+1]|=e>>>8,i[t+2]|=e>>>16},NO=function(i,n){for(var e=[],t=0;t<i.length;++t)i[t]&&e.push({s:t,f:i[t]});var r=e.length,o=e.slice();if(!r)return[kD,0];if(r==1){var s=new zo(e[0].s+1);return s[e[0].s]=1,[s,1]}e.sort(function(z,X){return z.f-X.f}),e.push({s:-1,f:25001});var a=e[0],l=e[1],c=0,d=1,p=2;for(e[0]={s:-1,f:a.f+l.f,l:a,r:l};d!=r-1;)a=e[e[c].f<e[p].f?c++:p++],l=e[c!=d&&e[c].f<e[p].f?c++:p++],e[d++]={s:-1,f:a.f+l.f,l:a,r:l};var g=o[0].s;for(t=1;t<r;++t)o[t].s>g&&(g=o[t].s);var C=new Hs(g+1),y=dD(e[d-1],C,0);if(y>n){t=0;var v=0,w=y-n,E=1<<w;for(o.sort(function(z,X){return C[X.s]-C[z.s]||z.f-X.f});t<r;++t){var T=o[t].s;if(!(C[T]>n))break;v+=E-(1<<y-C[T]),C[T]=n}for(v>>>=w;v>0;){var F=o[t].s;C[F]<n?v-=1<<n-C[F]++-1:++t}for(;t>=0&&v;--t){var G=o[t].s;C[G]==n&&(--C[G],++v)}y=n}return[new zo(C),y]},dD=function(i,n,e){return i.s==-1?Math.max(dD(i.l,n,e+1),dD(i.r,n,e+1)):n[i.s]=e},B8=function(i){for(var n=i.length;n&&!i[--n];);for(var e=new Hs(++n),t=0,r=i[0],o=1,s=function(l){e[t++]=l},a=1;a<=n;++a)if(i[a]==r&&a!=n)++o;else{if(!r&&o>2){for(;o>138;o-=138)s(32754);o>2&&(s(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(s(r),--o;o>6;o-=6)s(8304);o>2&&(s(o-3<<5|8208),o=0)}for(;o--;)s(r);o=1,r=i[a]}return[e.subarray(0,t),n]},t0=function(i,n){for(var e=0,t=0;t<n.length;++t)e+=i[t]*n[t];return e},uD=function(i,n,e){var t=e.length,r=PD(n+2);i[r]=255&t,i[r+1]=t>>>8,i[r+2]=255^i[r],i[r+3]=255^i[r+1];for(var o=0;o<t;++o)i[r+o+4]=e[o];return 8*(r+4+t)},U8=function(i,n,e,t,r,o,s,a,l,c,d){od(n,d++,e),++r[256];for(var p=NO(r,15),g=p[0],C=p[1],y=NO(o,15),v=y[0],w=y[1],E=B8(g),T=E[0],F=E[1],G=B8(v),z=G[0],X=G[1],ne=new Hs(19),Y=0;Y<T.length;++Y)ne[31&T[Y]]++;for(Y=0;Y<z.length;++Y)ne[31&z[Y]]++;for(var se=NO(ne,7),ye=se[0],Ce=se[1],we=19;we>4&&!ye[aD[we-1]];--we);var Be,Fe,Qe,Ot,di=c+5<<3,xi=t0(r,ku)+t0(o,_0)+s,Ni=t0(r,g)+t0(o,v)+s+14+3*we+t0(ne,ye)+(2*ne[16]+3*ne[17]+7*ne[18]);if(di<=xi&&di<=Ni)return uD(n,d,i.subarray(l,l+c));if(od(n,d,1+(Ni<xi)),d+=2,Ni<xi){Be=uc(g,C,0),Fe=g,Qe=uc(v,w,0),Ot=v;var Gt=uc(ye,Ce,0);for(od(n,d,F-257),od(n,d+5,X-1),od(n,d+10,we-4),d+=14,Y=0;Y<we;++Y)od(n,d+3*Y,ye[aD[Y]]);d+=3*we;for(var Gi=[T,z],oi=0;oi<2;++oi){var li=Gi[oi];for(Y=0;Y<li.length;++Y){var Nt=31&li[Y];od(n,d,Gt[Nt]),d+=ye[Nt],Nt>15&&(od(n,d,li[Y]>>>5&127),d+=li[Y]>>>12)}}}else Be=lbe,Fe=ku,Qe=dbe,Ot=_0;for(Y=0;Y<a;++Y)if(t[Y]>255){Nt=t[Y]>>>18&31,e0(n,d,Be[Nt+257]),d+=Fe[Nt+257],Nt>7&&(od(n,d,t[Y]>>>23&31),d+=Lw[Nt]);var ti=31&t[Y];e0(n,d,Qe[ti]),d+=Ot[ti],ti>3&&(e0(n,d,t[Y]>>>5&8191),d+=Mw[ti])}else e0(n,d,Be[t[Y]]),d+=Fe[t[Y]];return e0(n,d,Be[256]),d+Fe[256]},hbe=new Fw([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),kD=new zo(0),n9=function(i,n,e,t,r){return function(o,s,a,l,c,d){var p=o.length,g=new zo(l+p+5*(1+Math.ceil(p/7e3))+c),C=g.subarray(l,g.length-c),y=0;if(!s||p<8)for(var v=0;v<=p;v+=65535){var w=v+65535;w>=p&&(C[y>>3]=d),y=uD(C,y+1,o.subarray(v,w))}else{for(var E=hbe[s-1],T=E>>>13,F=8191&E,G=(1<<a)-1,z=new Hs(32768),X=new Hs(G+1),ne=Math.ceil(a/3),Y=2*ne,se=function(Ti){return(o[Ti]^o[Ti+1]<<ne^o[Ti+2]<<Y)&G},ye=new Fw(25e3),Ce=new Hs(288),we=new Hs(32),Be=0,Fe=0,Qe=(v=0,0),Ot=0,di=0;v<p;++v){var xi=se(v),Ni=32767&v,Gt=X[xi];if(z[Ni]=Gt,X[xi]=Ni,Ot<=v){var Gi=p-v;if((Be>7e3||Qe>24576)&&Gi>423){y=U8(o,C,0,ye,Ce,we,Fe,Qe,di,v-di,y),Qe=Be=Fe=0,di=v;for(var oi=0;oi<286;++oi)Ce[oi]=0;for(oi=0;oi<30;++oi)we[oi]=0}var li=2,Nt=0,ti=F,pi=Ni-Gt&32767;if(Gi>2&&xi==se(v-pi))for(var En=Math.min(T,Gi)-1,Ki=Math.min(32767,v),je=Math.min(258,Gi);pi<=Ki&&--ti&&Ni!=Gt;){if(o[v+li]==o[v+li-pi]){for(var Le=0;Le<je&&o[v+Le]==o[v+Le-pi];++Le);if(Le>li){if(li=Le,Nt=pi,Le>En)break;var xe=Math.min(pi,Le-2),it=0;for(oi=0;oi<xe;++oi){var Dt=v-pi+oi+32768&32767,Ht=Dt-z[Dt]+32768&32767;Ht>it&&(it=Ht,Gt=Dt)}}}pi+=(Ni=Gt)-(Gt=z[Ni])+32768&32767}if(Nt){ye[Qe++]=268435456|lD[li]<<18|cD[Nt];var Rt=31&lD[li],Ci=31&cD[Nt];Fe+=Lw[Rt]+Mw[Ci],++Ce[257+Rt],++we[Ci],Ot=v+li,++Be}else ye[Qe++]=o[v],++Ce[o[v]]}}y=U8(o,C,d,ye,Ce,we,Fe,Qe,di,v-di,y),!d&&7&y&&(y=uD(C,y+1,kD))}return c0(g,0,l+PD(y)+c)}(i,n.level==null?6:n.level,n.mem==null?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(i.length)))):12+n.mem,e,t,!r)},pD=function(){function i(n,e){e||typeof n!="function"||(e=n,n={}),this.ondata=e,this.o=n||{}}return i.prototype.p=function(n,e){this.ondata(n9(n,this.o,0,0,!e),e)},i.prototype.push=function(n,e){this.ondata||ga(5),this.d&&ga(4),this.d=e,this.p(n,e||!1)},i}(),qb=function(){function i(n){this.s={},this.p=new zo(0),this.ondata=n}return i.prototype.e=function(n){this.ondata||ga(5),this.d&&ga(4);var e=this.p.length,t=new zo(e+n.length);t.set(this.p),t.set(n,e),this.p=t},i.prototype.c=function(n){this.d=this.s.i=n||!1;var e=this.s.b,t=function(r,o,s){var a=r.length;if(!a||s&&s.f&&!s.l)return o||new zo(0);var l=!o||s,c=!s||s.i;s||(s={}),o||(o=new zo(3*a));var d=function(Le){var xe=o.length;if(Le>xe){var it=new zo(Math.max(2*xe,Le));it.set(o),o=it}},p=s.f||0,g=s.p||0,C=s.b||0,y=s.l,v=s.d,w=s.m,E=s.n,T=8*a;do{if(!y){p=yl(r,g,1);var F=yl(r,g+1,3);if(g+=3,!F){var G=r[(Qe=PD(g)+4)-4]|r[Qe-3]<<8,z=Qe+G;if(z>a){c&&ga(0);break}l&&d(C+G),o.set(r.subarray(Qe,z),C),s.b=C+=G,s.p=g=8*z,s.f=p;continue}if(F==1)y=cbe,v=ube,w=9,E=5;else if(F==2){var X=yl(r,g,31)+257,ne=yl(r,g+10,15)+4,Y=X+yl(r,g+5,31)+1;g+=14;for(var se=new zo(Y),ye=new zo(19),Ce=0;Ce<ne;++Ce)ye[aD[Ce]]=yl(r,g+3*Ce,7);g+=3*ne;var we=LO(ye),Be=(1<<we)-1,Fe=uc(ye,we,1);for(Ce=0;Ce<Y;){var Qe,Ot=Fe[yl(r,g,Be)];if(g+=15&Ot,(Qe=Ot>>>4)<16)se[Ce++]=Qe;else{var di=0,xi=0;for(Qe==16?(xi=3+yl(r,g,3),g+=2,di=se[Ce-1]):Qe==17?(xi=3+yl(r,g,7),g+=3):Qe==18&&(xi=11+yl(r,g,127),g+=7);xi--;)se[Ce++]=di}}var Ni=se.subarray(0,X),Gt=se.subarray(X);w=LO(Ni),E=LO(Gt),y=uc(Ni,w,1),v=uc(Gt,E,1)}else ga(1);if(g>T){c&&ga(0);break}}l&&d(C+131072);for(var Gi=(1<<w)-1,oi=(1<<E)-1,li=g;;li=g){var Nt=(di=y[MO(r,g)&Gi])>>>4;if((g+=15&di)>T){c&&ga(0);break}if(di||ga(2),Nt<256)o[C++]=Nt;else{if(Nt==256){li=g,y=null;break}var ti=Nt-254;if(Nt>264){var pi=Lw[Ce=Nt-257];ti=yl(r,g,(1<<pi)-1)+t9[Ce],g+=pi}var En=v[MO(r,g)&oi],Ki=En>>>4;if(En||ga(3),g+=15&En,Gt=i9[Ki],Ki>3&&(pi=Mw[Ki],Gt+=MO(r,g)&(1<<pi)-1,g+=pi),g>T){c&&ga(0);break}l&&d(C+131072);for(var je=C+ti;C<je;C+=4)o[C]=o[C-Gt],o[C+1]=o[C+1-Gt],o[C+2]=o[C+2-Gt],o[C+3]=o[C+3-Gt];C=je}}s.l=y,s.p=li,s.b=C,s.f=p,y&&(p=1,s.m=w,s.d=v,s.n=E)}while(!p);return C==o.length?o:c0(o,0,C)}(this.p,this.o,this.s);this.ondata(c0(t,e,this.s.b),this.d),this.o=c0(t,this.s.b-32768),this.s.b=this.o.length,this.p=c0(this.p,this.s.p/8|0),this.s.p&=7},i.prototype.push=function(n,e){this.e(n),this.c(e)},i}(),fbe=function(){function i(n,e){var t,r;this.c=(t=1,r=0,{p:function(o){for(var s=t,a=r,l=0|o.length,c=0;c!=l;){for(var d=Math.min(c+2655,l);c<d;++c)a+=s+=o[c];s=(65535&s)+15*(s>>16),a=(65535&a)+15*(a>>16)}t=s,r=a},d:function(){return(255&(t%=65521))<<24|t>>>8<<16|(255&(r%=65521))<<8|r>>>8}}),this.v=1,pD.call(this,n,e)}return i.prototype.push=function(n,e){pD.prototype.push.call(this,n,e)},i.prototype.p=function(n,e){this.c.p(n);var t=n9(n,this.o,this.v&&2,e&&4,!e);this.v&&(function(r,o){var s=o.level,a=s==0?0:s<6?1:s==9?3:2;r[0]=120,r[1]=a<<6|(a?32-2*a:1)}(t,this.o),this.v=0),e&&function(r,o,s){for(;s;++o)r[o]=s,s>>>=8}(t,t.length-4,this.c.d()),this.ondata(t,e)},i}(),mbe=function(){function i(n){this.v=1,qb.call(this,n)}return i.prototype.push=function(n,e){if(qb.prototype.e.call(this,n),this.v){if(this.p.length<2&&!e)return;this.p=this.p.subarray(2),this.v=0}e&&(this.p.length<4&&ga(6,"invalid zlib data"),this.p=this.p.subarray(0,-4)),qb.prototype.c.call(this,e)},i}(),gbe=typeof TextDecoder<"u"&&new TextDecoder;try{gbe.decode(kD,{stream:!0})}catch{}var Fu=class{static get tag(){return x.packet.literalData}constructor(n=new Date){this.format=x.literal.utf8,this.date=j.normalizeDate(n),this.text=null,this.data=null,this.filename=""}setText(n,e=x.literal.utf8){this.format=e,this.text=n,this.data=null}getText(n=!1){return(this.text===null||j.isStream(this.text))&&(this.text=j.decodeUTF8(j.nativeEOL(this.getBytes(n)))),this.text}setBytes(n,e){this.format=e,this.data=n,this.text=null}getBytes(n=!1){return this.data===null&&(this.data=j.canonicalizeEOL(j.encodeUTF8(this.text))),n?d0(this.data):this.data}setFilename(n){this.filename=n}getFilename(){return this.filename}read(n){return N(this,null,function*(){yield xw(n,e=>N(this,null,function*(){let t=yield e.readByte(),r=yield e.readByte();this.filename=j.decodeUTF8(yield e.readBytes(r)),this.date=j.readDate(yield e.readBytes(4));let o=e.remainder();Yr(o)&&(o=yield _o(o)),this.setBytes(o,t)}))})}writeHeader(){let n=j.encodeUTF8(this.filename),e=new Uint8Array([n.length]),t=new Uint8Array([this.format]),r=j.writeDate(this.date);return j.concatUint8Array([t,e,n,r])}write(){let n=this.writeHeader(),e=this.getBytes();return j.concat([n,e])}},ud=class i{constructor(){this.bytes=""}read(n){return this.bytes=j.uint8ArrayToString(n.subarray(0,8)),this.bytes.length}write(){return j.stringToUint8Array(this.bytes)}toHex(){return j.uint8ArrayToHex(j.stringToUint8Array(this.bytes))}equals(n,e=!1){return e&&(n.isWildcard()||this.isWildcard())||this.bytes===n.bytes}isNull(){return this.bytes===""}isWildcard(){return/^0+$/.test(this.toHex())}static mapToHex(n){return n.toHex()}static fromID(n){let e=new i;return e.read(j.hexToUint8Array(n)),e}static wildcard(){let n=new i;return n.read(new Uint8Array(8)),n}},i0=Symbol("verified"),j8="salt@notations.openpgpjs.org",_be=new Set([x.signatureSubpacket.issuerKeyID,x.signatureSubpacket.issuerFingerprint,x.signatureSubpacket.embeddedSignature]),Ko=class i{static get tag(){return x.packet.signature}constructor(){this.version=null,this.signatureType=null,this.hashAlgorithm=null,this.publicKeyAlgorithm=null,this.signatureData=null,this.unhashedSubpackets=[],this.unknownSubpackets=[],this.signedHashValue=null,this.salt=null,this.created=null,this.signatureExpirationTime=null,this.signatureNeverExpires=!0,this.exportable=null,this.trustLevel=null,this.trustAmount=null,this.regularExpression=null,this.revocable=null,this.keyExpirationTime=null,this.keyNeverExpires=null,this.preferredSymmetricAlgorithms=null,this.revocationKeyClass=null,this.revocationKeyAlgorithm=null,this.revocationKeyFingerprint=null,this.issuerKeyID=new ud,this.rawNotations=[],this.notations={},this.preferredHashAlgorithms=null,this.preferredCompressionAlgorithms=null,this.keyServerPreferences=null,this.preferredKeyServer=null,this.isPrimaryUserID=null,this.policyURI=null,this.keyFlags=null,this.signersUserID=null,this.reasonForRevocationFlag=null,this.reasonForRevocationString=null,this.features=null,this.signatureTargetPublicKeyAlgorithm=null,this.signatureTargetHashAlgorithm=null,this.signatureTargetHash=null,this.embeddedSignature=null,this.issuerKeyVersion=null,this.issuerFingerprint=null,this.preferredAEADAlgorithms=null,this.preferredCipherSuites=null,this.revoked=null,this[i0]=null}read(n,e=at){let t=0;if(this.version=n[t++],this.version===5&&!e.enableParsingV5Entities)throw new $n("Support for v5 entities is disabled; turn on `config.enableParsingV5Entities` if needed");if(this.version!==4&&this.version!==5&&this.version!==6)throw new $n(`Version ${this.version} of the signature packet is unsupported.`);if(this.signatureType=n[t++],this.publicKeyAlgorithm=n[t++],this.hashAlgorithm=n[t++],t+=this.readSubPackets(n.subarray(t,n.length),!0),!this.created)throw Error("Missing signature creation time subpacket.");if(this.signatureData=n.subarray(0,t),t+=this.readSubPackets(n.subarray(t,n.length),!1),this.signedHashValue=n.subarray(t,t+2),t+=2,this.version===6){let a=n[t++];this.salt=n.subarray(t,t+a),t+=a}let r=n.subarray(t,n.length),{read:o,signatureParams:s}=function(a,l){let c=0;switch(a){case x.publicKey.rsaEncryptSign:case x.publicKey.rsaEncrypt:case x.publicKey.rsaSign:{let d=j.readMPI(l.subarray(c));return c+=d.length+2,{read:c,signatureParams:{s:d}}}case x.publicKey.dsa:case x.publicKey.ecdsa:{let d=j.readMPI(l.subarray(c));c+=d.length+2;let p=j.readMPI(l.subarray(c));return c+=p.length+2,{read:c,signatureParams:{r:d,s:p}}}case x.publicKey.eddsaLegacy:{let d=j.readMPI(l.subarray(c));c+=d.length+2;let p=j.readMPI(l.subarray(c));return c+=p.length+2,{read:c,signatureParams:{r:d,s:p}}}case x.publicKey.ed25519:case x.publicKey.ed448:{let d=2*Ow(a),p=j.readExactSubarray(l,c,c+d);return c+=p.length,{read:c,signatureParams:{RS:p}}}default:throw new $n("Unknown signature algorithm.")}}(this.publicKeyAlgorithm,r);if(o<r.length)throw Error("Error reading MPIs");this.params=s}writeParams(){return this.params instanceof Promise?Mu(()=>N(this,null,function*(){return vm(this.publicKeyAlgorithm,yield this.params)})):vm(this.publicKeyAlgorithm,this.params)}write(){let n=[];return n.push(this.signatureData),n.push(this.writeUnhashedSubPackets()),n.push(this.signedHashValue),this.version===6&&(n.push(new Uint8Array([this.salt.length])),n.push(this.salt)),n.push(this.writeParams()),j.concat(n)}sign(s,a){return N(this,arguments,function*(n,e,t=new Date,r=!1,o){this.version=n.version,this.created=j.normalizeDate(t),this.issuerKeyVersion=n.version,this.issuerFingerprint=n.getFingerprintBytes(),this.issuerKeyID=n.getKeyID();let l=[new Uint8Array([this.version,this.signatureType,this.publicKeyAlgorithm,this.hashAlgorithm])];if(this.version===6){let g=VO(this.hashAlgorithm);if(this.salt===null)this.salt=Fo(g);else if(g!==this.salt.length)throw Error("Provided salt does not have the required length")}else if(o.nonDeterministicSignaturesViaNotation){if(this.rawNotations.filter(({name:g})=>g===j8).length!==0)throw Error("Unexpected existing salt notation");{let g=Fo(VO(this.hashAlgorithm));this.rawNotations.push({name:j8,value:g,humanReadable:!1,critical:!1})}}l.push(this.writeHashedSubPackets()),this.unhashedSubpackets=[],this.signatureData=j.concat(l);let c=this.toHash(this.signatureType,e,r),d=yield this.hash(this.signatureType,e,c,r);this.signedHashValue=Wo(eh(d),0,2);let p=()=>N(this,null,function*(){return sbe(this.publicKeyAlgorithm,this.hashAlgorithm,n.publicParams,n.privateParams,c,yield _o(d))});j.isStream(d)?this.params=p():(this.params=yield p(),this[i0]=!0)})}writeHashedSubPackets(){let n=x.signatureSubpacket,e=[],t;if(this.created===null)throw Error("Missing signature creation time");e.push(Wn(n.signatureCreationTime,!0,j.writeDate(this.created))),this.signatureExpirationTime!==null&&e.push(Wn(n.signatureExpirationTime,!0,j.writeNumber(this.signatureExpirationTime,4))),this.exportable!==null&&e.push(Wn(n.exportableCertification,!0,new Uint8Array([this.exportable?1:0]))),this.trustLevel!==null&&(t=new Uint8Array([this.trustLevel,this.trustAmount]),e.push(Wn(n.trustSignature,!0,t))),this.regularExpression!==null&&e.push(Wn(n.regularExpression,!0,this.regularExpression)),this.revocable!==null&&e.push(Wn(n.revocable,!0,new Uint8Array([this.revocable?1:0]))),this.keyExpirationTime!==null&&e.push(Wn(n.keyExpirationTime,!0,j.writeNumber(this.keyExpirationTime,4))),this.preferredSymmetricAlgorithms!==null&&(t=j.stringToUint8Array(j.uint8ArrayToString(this.preferredSymmetricAlgorithms)),e.push(Wn(n.preferredSymmetricAlgorithms,!1,t))),this.revocationKeyClass!==null&&(t=new Uint8Array([this.revocationKeyClass,this.revocationKeyAlgorithm]),t=j.concat([t,this.revocationKeyFingerprint]),e.push(Wn(n.revocationKey,!1,t))),!this.issuerKeyID.isNull()&&this.issuerKeyVersion<5&&e.push(Wn(n.issuerKeyID,!0,this.issuerKeyID.write())),this.rawNotations.forEach(({name:s,value:a,humanReadable:l,critical:c})=>{t=[new Uint8Array([l?128:0,0,0,0])];let d=j.encodeUTF8(s);t.push(j.writeNumber(d.length,2)),t.push(j.writeNumber(a.length,2)),t.push(d),t.push(a),t=j.concat(t),e.push(Wn(n.notationData,c,t))}),this.preferredHashAlgorithms!==null&&(t=j.stringToUint8Array(j.uint8ArrayToString(this.preferredHashAlgorithms)),e.push(Wn(n.preferredHashAlgorithms,!1,t))),this.preferredCompressionAlgorithms!==null&&(t=j.stringToUint8Array(j.uint8ArrayToString(this.preferredCompressionAlgorithms)),e.push(Wn(n.preferredCompressionAlgorithms,!1,t))),this.keyServerPreferences!==null&&(t=j.stringToUint8Array(j.uint8ArrayToString(this.keyServerPreferences)),e.push(Wn(n.keyServerPreferences,!1,t))),this.preferredKeyServer!==null&&e.push(Wn(n.preferredKeyServer,!1,j.encodeUTF8(this.preferredKeyServer))),this.isPrimaryUserID!==null&&e.push(Wn(n.primaryUserID,!1,new Uint8Array([this.isPrimaryUserID?1:0]))),this.policyURI!==null&&e.push(Wn(n.policyURI,!1,j.encodeUTF8(this.policyURI))),this.keyFlags!==null&&(t=j.stringToUint8Array(j.uint8ArrayToString(this.keyFlags)),e.push(Wn(n.keyFlags,!0,t))),this.signersUserID!==null&&e.push(Wn(n.signersUserID,!1,j.encodeUTF8(this.signersUserID))),this.reasonForRevocationFlag!==null&&(t=j.stringToUint8Array(String.fromCharCode(this.reasonForRevocationFlag)+this.reasonForRevocationString),e.push(Wn(n.reasonForRevocation,!0,t))),this.features!==null&&(t=j.stringToUint8Array(j.uint8ArrayToString(this.features)),e.push(Wn(n.features,!1,t))),this.signatureTargetPublicKeyAlgorithm!==null&&(t=[new Uint8Array([this.signatureTargetPublicKeyAlgorithm,this.signatureTargetHashAlgorithm])],t.push(j.stringToUint8Array(this.signatureTargetHash)),t=j.concat(t),e.push(Wn(n.signatureTarget,!0,t))),this.embeddedSignature!==null&&e.push(Wn(n.embeddedSignature,!0,this.embeddedSignature.write())),this.issuerFingerprint!==null&&(t=[new Uint8Array([this.issuerKeyVersion]),this.issuerFingerprint],t=j.concat(t),e.push(Wn(n.issuerFingerprint,this.version>=5,t))),this.preferredAEADAlgorithms!==null&&(t=j.stringToUint8Array(j.uint8ArrayToString(this.preferredAEADAlgorithms)),e.push(Wn(n.preferredAEADAlgorithms,!1,t))),this.preferredCipherSuites!==null&&(t=new Uint8Array([].concat(...this.preferredCipherSuites)),e.push(Wn(n.preferredCipherSuites,!1,t)));let r=j.concat(e),o=j.writeNumber(r.length,this.version===6?4:2);return j.concat([o,r])}writeUnhashedSubPackets(){let n=this.unhashedSubpackets.map(({type:r,critical:o,body:s})=>Wn(r,o,s)),e=j.concat(n),t=j.writeNumber(e.length,this.version===6?4:2);return j.concat([t,e])}readSubPacket(n,e=!0){let t=0,r=!!(128&n[t]),o=127&n[t];if(t++,e||(this.unhashedSubpackets.push({type:o,critical:r,body:n.subarray(t,n.length)}),_be.has(o)))switch(o){case x.signatureSubpacket.signatureCreationTime:this.created=j.readDate(n.subarray(t,n.length));break;case x.signatureSubpacket.signatureExpirationTime:{let s=j.readNumber(n.subarray(t,n.length));this.signatureNeverExpires=s===0,this.signatureExpirationTime=s;break}case x.signatureSubpacket.exportableCertification:this.exportable=n[t++]===1;break;case x.signatureSubpacket.trustSignature:this.trustLevel=n[t++],this.trustAmount=n[t++];break;case x.signatureSubpacket.regularExpression:this.regularExpression=n[t];break;case x.signatureSubpacket.revocable:this.revocable=n[t++]===1;break;case x.signatureSubpacket.keyExpirationTime:{let s=j.readNumber(n.subarray(t,n.length));this.keyExpirationTime=s,this.keyNeverExpires=s===0;break}case x.signatureSubpacket.preferredSymmetricAlgorithms:this.preferredSymmetricAlgorithms=[...n.subarray(t,n.length)];break;case x.signatureSubpacket.revocationKey:this.revocationKeyClass=n[t++],this.revocationKeyAlgorithm=n[t++],this.revocationKeyFingerprint=n.subarray(t,t+20);break;case x.signatureSubpacket.issuerKeyID:if(this.version===4)this.issuerKeyID.read(n.subarray(t,n.length));else if(e)throw Error("Unexpected Issuer Key ID subpacket");break;case x.signatureSubpacket.notationData:{let s=!!(128&n[t]);t+=4;let a=j.readNumber(n.subarray(t,t+2));t+=2;let l=j.readNumber(n.subarray(t,t+2));t+=2;let c=j.decodeUTF8(n.subarray(t,t+a)),d=n.subarray(t+a,t+a+l);this.rawNotations.push({name:c,humanReadable:s,value:d,critical:r}),s&&(this.notations[c]=j.decodeUTF8(d));break}case x.signatureSubpacket.preferredHashAlgorithms:this.preferredHashAlgorithms=[...n.subarray(t,n.length)];break;case x.signatureSubpacket.preferredCompressionAlgorithms:this.preferredCompressionAlgorithms=[...n.subarray(t,n.length)];break;case x.signatureSubpacket.keyServerPreferences:this.keyServerPreferences=[...n.subarray(t,n.length)];break;case x.signatureSubpacket.preferredKeyServer:this.preferredKeyServer=j.decodeUTF8(n.subarray(t,n.length));break;case x.signatureSubpacket.primaryUserID:this.isPrimaryUserID=n[t++]!==0;break;case x.signatureSubpacket.policyURI:this.policyURI=j.decodeUTF8(n.subarray(t,n.length));break;case x.signatureSubpacket.keyFlags:this.keyFlags=[...n.subarray(t,n.length)];break;case x.signatureSubpacket.signersUserID:this.signersUserID=j.decodeUTF8(n.subarray(t,n.length));break;case x.signatureSubpacket.reasonForRevocation:this.reasonForRevocationFlag=n[t++],this.reasonForRevocationString=j.decodeUTF8(n.subarray(t,n.length));break;case x.signatureSubpacket.features:this.features=[...n.subarray(t,n.length)];break;case x.signatureSubpacket.signatureTarget:{this.signatureTargetPublicKeyAlgorithm=n[t++],this.signatureTargetHashAlgorithm=n[t++];let s=go(this.signatureTargetHashAlgorithm);this.signatureTargetHash=j.uint8ArrayToString(n.subarray(t,t+s));break}case x.signatureSubpacket.embeddedSignature:this.embeddedSignature=new i,this.embeddedSignature.read(n.subarray(t,n.length));break;case x.signatureSubpacket.issuerFingerprint:this.issuerKeyVersion=n[t++],this.issuerFingerprint=n.subarray(t,n.length),this.issuerKeyVersion>=5?this.issuerKeyID.read(this.issuerFingerprint):this.issuerKeyID.read(this.issuerFingerprint.subarray(-8));break;case x.signatureSubpacket.preferredAEADAlgorithms:this.preferredAEADAlgorithms=[...n.subarray(t,n.length)];break;case x.signatureSubpacket.preferredCipherSuites:this.preferredCipherSuites=[];for(let s=t;s<n.length;s+=2)this.preferredCipherSuites.push([n[s],n[s+1]]);break;default:this.unknownSubpackets.push({type:o,critical:r,body:n.subarray(t,n.length)})}}readSubPackets(n,e=!0,t){let r=this.version===6?4:2,o=j.readNumber(n.subarray(0,r)),s=r;for(;s<2+o;){let a=g7(n.subarray(s,n.length));s+=a.offset,this.readSubPacket(n.subarray(s,s+a.len),e,t),s+=a.len}return s}toSign(n,e){let t=x.signature;switch(n){case t.binary:return e.text!==null?j.encodeUTF8(e.getText(!0)):e.getBytes(!0);case t.text:{let r=e.getBytes(!0);return j.canonicalizeEOL(r)}case t.standalone:return new Uint8Array(0);case t.certGeneric:case t.certPersona:case t.certCasual:case t.certPositive:case t.certRevocation:{let r,o;if(e.userID)o=180,r=e.userID;else{if(!e.userAttribute)throw Error("Either a userID or userAttribute packet needs to be supplied for certification.");o=209,r=e.userAttribute}let s=r.write();return j.concat([this.toSign(t.key,e),new Uint8Array([o]),j.writeNumber(s.length,4),s])}case t.subkeyBinding:case t.subkeyRevocation:case t.keyBinding:return j.concat([this.toSign(t.key,e),this.toSign(t.key,{key:e.bind})]);case t.key:if(e.key===void 0)throw Error("Key packet is required for this signature.");return e.key.writeForHash(this.version);case t.keyRevocation:return this.toSign(t.key,e);case t.timestamp:return new Uint8Array(0);case t.thirdParty:throw Error("Not implemented");default:throw Error("Unknown signature type.")}}calculateTrailer(n,e){let t=0;return Vr(eh(this.signatureData),r=>{t+=r.length},()=>{let r=[];return this.version!==5||this.signatureType!==x.signature.binary&&this.signatureType!==x.signature.text||(e?r.push(new Uint8Array(6)):r.push(n.writeHeader())),r.push(new Uint8Array([this.version,255])),this.version===5&&r.push(new Uint8Array(4)),r.push(j.writeNumber(t,4)),j.concat(r)})}toHash(n,e,t=!1){let r=this.toSign(n,e);return j.concat([this.salt||new Uint8Array,r,this.signatureData,this.calculateTrailer(e,t)])}hash(n,e,t,r=!1){return N(this,null,function*(){if(this.version===6&&this.salt.length!==VO(this.hashAlgorithm))throw Error("Signature salt does not have the expected length");return t||(t=this.toHash(n,e,r)),hc(this.hashAlgorithm,t)})}verify(a,l,c){return N(this,arguments,function*(n,e,t,r=new Date,o=!1,s=at){if(!this.issuerKeyID.equals(n.getKeyID()))throw Error("Signature was not issued by the given public key");if(this.publicKeyAlgorithm!==n.algorithm)throw Error("Public key algorithm used to sign signature does not match issuer key algorithm.");let d=e===x.signature.binary||e===x.signature.text;if(!(this[i0]&&!d)){let g,C;if(this.hashed?C=yield this.hashed:(g=this.toHash(e,t,o),C=yield this.hash(e,t,g)),C=yield _o(C),this.signedHashValue[0]!==C[0]||this.signedHashValue[1]!==C[1])throw Error("Signed digest did not match");if(this.params=yield this.params,this[i0]=yield obe(this.publicKeyAlgorithm,this.hashAlgorithm,this.params,n.publicParams,g,C),!this[i0])throw Error("Signature verification failed")}let p=j.normalizeDate(r);if(p&&this.created>p)throw Error("Signature creation time is in the future");if(p&&p>=this.getExpirationTime())throw Error("Signature is expired");if(s.rejectHashAlgorithms.has(this.hashAlgorithm))throw Error("Insecure hash algorithm: "+x.read(x.hash,this.hashAlgorithm).toUpperCase());if(s.rejectMessageHashAlgorithms.has(this.hashAlgorithm)&&[x.signature.binary,x.signature.text].includes(this.signatureType))throw Error("Insecure message hash algorithm: "+x.read(x.hash,this.hashAlgorithm).toUpperCase());if(this.unknownSubpackets.forEach(({type:g,critical:C})=>{if(C)throw Error("Unknown critical signature subpacket type "+g)}),this.rawNotations.forEach(({name:g,critical:C})=>{if(C&&s.knownNotations.indexOf(g)<0)throw Error("Unknown critical notation: "+g)}),this.revocationKeyClass!==null)throw Error("This key is intended to be revoked with an authorized key, which OpenPGP.js does not support.")})}isExpired(n=new Date){let e=j.normalizeDate(n);return e!==null&&!(this.created<=e&&e<this.getExpirationTime())}getExpirationTime(){return this.signatureNeverExpires?1/0:new Date(this.created.getTime()+1e3*this.signatureExpirationTime)}};function Wn(i,n,e){let t=[];return t.push(Tw(e.length+1)),t.push(new Uint8Array([(n?128:0)|i])),t.push(e),j.concat(t)}function VO(i){switch(i){case x.hash.sha256:return 16;case x.hash.sha384:return 24;case x.hash.sha512:return 32;case x.hash.sha224:case x.hash.sha3_256:return 16;case x.hash.sha3_512:return 32;default:throw Error("Unsupported hash function")}}var Wa=class i{static get tag(){return x.packet.onePassSignature}static fromSignaturePacket(n,e){let t=new i;return t.version=n.version===6?6:3,t.signatureType=n.signatureType,t.hashAlgorithm=n.hashAlgorithm,t.publicKeyAlgorithm=n.publicKeyAlgorithm,t.issuerKeyID=n.issuerKeyID,t.salt=n.salt,t.issuerFingerprint=n.issuerFingerprint,t.flags=e?1:0,t}constructor(){this.version=null,this.signatureType=null,this.hashAlgorithm=null,this.publicKeyAlgorithm=null,this.salt=null,this.issuerKeyID=null,this.issuerFingerprint=null,this.flags=null}read(n){let e=0;if(this.version=n[e++],this.version!==3&&this.version!==6)throw new $n(`Version ${this.version} of the one-pass signature packet is unsupported.`);if(this.signatureType=n[e++],this.hashAlgorithm=n[e++],this.publicKeyAlgorithm=n[e++],this.version===6){let t=n[e++];this.salt=n.subarray(e,e+t),e+=t,this.issuerFingerprint=n.subarray(e,e+32),e+=32,this.issuerKeyID=new ud,this.issuerKeyID.read(this.issuerFingerprint)}else this.issuerKeyID=new ud,this.issuerKeyID.read(n.subarray(e,e+8)),e+=8;return this.flags=n[e++],this}write(){let n=[new Uint8Array([this.version,this.signatureType,this.hashAlgorithm,this.publicKeyAlgorithm])];return this.version===6?n.push(new Uint8Array([this.salt.length]),this.salt,this.issuerFingerprint):n.push(this.issuerKeyID.write()),n.push(new Uint8Array([this.flags])),j.concatUint8Array(n)}calculateTrailer(...n){return Mu(()=>N(this,null,function*(){return Ko.prototype.calculateTrailer.apply(yield this.correspondingSig,n)}))}verify(){return N(this,arguments,function*(){let n=yield this.correspondingSig;if(!n||n.constructor.tag!==x.packet.signature)throw Error("Corresponding signature packet missing");if(n.signatureType!==this.signatureType||n.hashAlgorithm!==this.hashAlgorithm||n.publicKeyAlgorithm!==this.publicKeyAlgorithm||!n.issuerKeyID.equals(this.issuerKeyID)||this.version===3&&n.version===6||this.version===6&&n.version!==6||this.version===6&&!j.equalsUint8Array(n.issuerFingerprint,this.issuerFingerprint)||this.version===6&&!j.equalsUint8Array(n.salt,this.salt))throw Error("Corresponding signature packet does not match one-pass signature packet");return n.hashed=this.hashed,n.verify.apply(n,arguments)})}};function Cbe(i,n){if(!n[i]){let e;try{e=x.read(x.packet,i)}catch{throw new ew("Unknown packet type with tag: "+i)}throw Error("Packet not allowed in this context: "+e)}return new n[i]}Wa.prototype.hash=Ko.prototype.hash,Wa.prototype.toHash=Ko.prototype.toHash,Wa.prototype.toSign=Ko.prototype.toSign;var Kn=class i extends Array{static fromBinary(r,o){return N(this,arguments,function*(n,e,t=at){let s=new i;return yield s.read(n,e,t),s})}read(r,o){return N(this,arguments,function*(n,e,t=at){t.additionalAllowedPackets.length&&(e=re(re({},e),j.constructAllowedPackets(t.additionalAllowedPackets))),this.stream=Lu(n,(a,l)=>N(this,null,function*(){let c=Ca(l);try{for(;;)if(yield c.ready,yield Ove(a,d=>N(this,null,function*(){try{if(d.tag===x.packet.marker||d.tag===x.packet.trust||d.tag===x.packet.padding)return;let p=Cbe(d.tag,e);p.packets=new i,p.fromStream=j.isStream(d.packet),yield p.read(d.packet,t),yield c.write(p)}catch(p){if(p instanceof ew){if(!(d.tag<=39))return;yield c.abort(p)}let g=!t.ignoreUnsupportedPackets&&p instanceof $n,C=!(t.ignoreMalformedPackets||p instanceof $n);if(g||C||Gb(d.tag))yield c.abort(p);else{let y=new p0(d.tag,d.packet);yield c.write(y)}j.printDebugError(p)}})))return yield c.ready,void(yield c.close())}catch(d){yield c.abort(d)}}));let s=hd(this.stream);for(;;){let{done:a,value:l}=yield s.read();if(a?this.stream=null:this.push(l),a||Gb(l.constructor.tag))break}s.releaseLock()})}write(){let n=[];for(let e=0;e<this.length;e++){let t=this[e]instanceof p0?this[e].tag:this[e].constructor.tag,r=this[e].write();if(j.isStream(r)&&Gb(this[e].constructor.tag)){let o=[],s=0,a=512;n.push(Zb(t)),n.push(Vr(r,l=>{if(o.push(l),s+=l.length,s>=a){let c=Math.min(Math.log(s)/Math.LN2|0,30),d=2**c,p=j.concat([Tve(c)].concat(o));return o=[p.subarray(1+d)],s=o[0].length,p.subarray(0,1+d)}},()=>j.concat([Tw(s)].concat(o))))}else{if(j.isStream(r)){let o=0;n.push(Vr(eh(r),s=>{o+=s.length},()=>I8(t,o)))}else n.push(I8(t,r.length));n.push(r)}}return j.concat(n)}filterByTag(...n){let e=new i,t=r=>o=>r===o;for(let r=0;r<this.length;r++)n.some(t(this[r].constructor.tag))&&e.push(this[r]);return e}findPacket(n){return this.find(e=>e.constructor.tag===n)}indexOfTag(...n){let e=[],t=this,r=o=>s=>o===s;for(let o=0;o<this.length;o++)n.some(r(t[o].constructor.tag))&&e.push(o);return e}},ybe=j.constructAllowedPackets([Fu,Wa,Ko]),nh=class{static get tag(){return x.packet.compressedData}constructor(n=at){this.packets=null,this.algorithm=n.preferredCompressionAlgorithm,this.compressed=null}read(t){return N(this,arguments,function*(n,e=at){yield xw(n,r=>N(this,null,function*(){this.algorithm=yield r.readByte(),this.compressed=r.remainder(),yield this.decompress(e)}))})}write(){return this.compressed===null&&this.compress(),j.concat([new Uint8Array([this.algorithm]),this.compressed])}decompress(){return N(this,arguments,function*(n=at){let e=x.read(x.compression,this.algorithm),t=bbe[e];if(!t)throw Error(e+" decompression not supported");this.packets=yield Kn.fromBinary(yield t(this.compressed),ybe,n)})}compress(){let n=x.read(x.compression,this.algorithm),e=vbe[n];if(!e)throw Error(n+" compression not supported");this.compressed=e(this.packets.write())}};function _w(i,n){return e=>{if(!j.isStream(e)||Yr(e))return Mu(()=>_o(e).then(s=>new Promise((a,l)=>{let c=new n;c.ondata=d=>{a(d)};try{c.push(s,!0)}catch(d){l(d)}})));if(i)try{let s=i();return e.pipeThrough(s)}catch(s){if(s.name!=="TypeError")throw s}let t=e.getReader(),r=new n;return new ReadableStream({start(s){return N(this,null,function*(){for(r.ondata=(a,l)=>N(this,null,function*(){s.enqueue(a),l&&s.close()});;){let{done:a,value:l}=yield t.read();if(a)return void r.push(new Uint8Array,!0);l.length&&r.push(l)}})}})}}function Ibe(){return function(i){return N(this,null,function*(){let{decode:n}=yield import("./chunk-RWJZYWSC.js").then(function(e){return e.i});return Mu(()=>N(this,null,function*(){return n(yield _o(i))}))})}}var Cw=i=>({compressor:typeof CompressionStream<"u"&&(()=>new CompressionStream(i)),decompressor:typeof DecompressionStream<"u"&&(()=>new DecompressionStream(i))}),vbe={zip:_w(Cw("deflate-raw").compressor,pD),zlib:_w(Cw("deflate").compressor,fbe)},bbe={uncompressed:i=>i,zip:_w(Cw("deflate-raw").decompressor,qb),zlib:_w(Cw("deflate").decompressor,mbe),bzip2:Ibe()},wbe=j.constructAllowedPackets([Fu,nh,Wa,Ko]),bm=class i{static get tag(){return x.packet.symEncryptedIntegrityProtectedData}static fromObject({version:n,aeadAlgorithm:e}){if(n!==1&&n!==2)throw Error("Unsupported SEIPD version");let t=new i;return t.version=n,n===2&&(t.aeadAlgorithm=e),t}constructor(){this.version=null,this.cipherAlgorithm=null,this.aeadAlgorithm=null,this.chunkSizeByte=null,this.salt=null,this.encrypted=null,this.packets=null}read(n){return N(this,null,function*(){yield xw(n,e=>N(this,null,function*(){if(this.version=yield e.readByte(),this.version!==1&&this.version!==2)throw new $n(`Version ${this.version} of the SEIP packet is unsupported.`);this.version===2&&(this.cipherAlgorithm=yield e.readByte(),this.aeadAlgorithm=yield e.readByte(),this.chunkSizeByte=yield e.readByte(),this.salt=yield e.readBytes(32)),this.encrypted=e.remainder()}))})}write(){return this.version===2?j.concat([new Uint8Array([this.version,this.cipherAlgorithm,this.aeadAlgorithm,this.chunkSizeByte]),this.salt,this.encrypted]):j.concat([new Uint8Array([this.version]),this.encrypted])}encrypt(r,o){return N(this,arguments,function*(n,e,t=at){let{blockSize:s,keySize:a}=qn(n);if(e.length!==a)throw Error("Unexpected session key size");let l=this.packets.write();if(Yr(l)&&(l=yield _o(l)),this.version===2)this.cipherAlgorithm=n,this.salt=Fo(32),this.chunkSizeByte=t.aeadChunkSizeByte,this.encrypted=yield yw(this,"encrypt",e,l);else{let c=yield J7(n),d=new Uint8Array([211,20]),p=j.concat([c,l,d]),g=yield hc(x.hash.sha1,d0(p)),C=j.concat([p,g]);this.encrypted=yield g0(n,e,C,new Uint8Array(s))}return!0})}decrypt(r,o){return N(this,arguments,function*(n,e,t=at){if(e.length!==qn(n).keySize)throw Error("Unexpected session key size");let s,a=eh(this.encrypted);if(Yr(a)&&(a=yield _o(a)),this.version===2){if(this.cipherAlgorithm!==n)throw Error("Unexpected session key algorithm");s=yield yw(this,"decrypt",e,a)}else{let{blockSize:l}=qn(n),c=yield kw(n,e,a,new Uint8Array(l)),d=Wo(d0(c),-20),p=Wo(c,0,-20),g=Promise.all([_o(yield hc(x.hash.sha1,d0(p))),_o(d)]).then(([y,v])=>{if(!j.equalsUint8Array(y,v))throw Error("Modification detected.");return new Uint8Array}),C=Wo(p,l+2);s=Wo(C,0,-2),s=Us([s,Mu(()=>g)]),j.isStream(a)&&t.allowUnauthenticatedStream||(s=yield _o(s))}return this.packets=yield Kn.fromBinary(s,wbe,t),!0})}};function yw(i,n,e,t){return N(this,null,function*(){let r=i instanceof bm&&i.version===2,o=!r&&i.constructor.tag===x.packet.aeadEncryptedData;if(!r&&!o)throw Error("Unexpected packet type");let s=dd(i.aeadAlgorithm,o),a=n==="decrypt"?s.tagLength:0,l=n==="encrypt"?s.tagLength:0,c=2**(i.chunkSizeByte+6)+a,d=o?8:0,p=new ArrayBuffer(13+d),g=new Uint8Array(p,0,5+d),C=new Uint8Array(p),y=new DataView(p),v=new Uint8Array(p,5,8);g.set([192|i.constructor.tag,i.version,i.cipherAlgorithm,i.aeadAlgorithm,i.chunkSizeByte],0);let w,E,T=0,F=Promise.resolve(),G=0,z=0;if(r){let{keySize:ne}=qn(i.cipherAlgorithm),{ivLength:Y}=s,se=new Uint8Array(p,0,5),ye=yield Pu(x.hash.sha256,e,i.salt,se,ne+Y);e=ye.subarray(0,ne),w=ye.subarray(ne),w.fill(0,w.length-8),E=new DataView(w.buffer,w.byteOffset,w.byteLength)}else w=i.iv;let X=yield s(i.cipherAlgorithm,e);return Lu(t,(ne,Y)=>N(this,null,function*(){if(j.isStream(ne)!=="array"){let Ce=new TransformStream({},{highWaterMark:j.getHardwareConcurrency()*2**(i.chunkSizeByte+6),size:we=>we.length});Zp(Ce.readable,Y),Y=Ce.writable}let se=hd(ne),ye=Ca(Y);try{for(;;){let Ce=(yield se.readBytes(c+a))||new Uint8Array,we=Ce.subarray(Ce.length-a),Be,Fe,Qe;if(Ce=Ce.subarray(0,Ce.length-a),r)Qe=w;else{Qe=w.slice();for(let Ot=0;Ot<8;Ot++)Qe[w.length-8+Ot]^=v[Ot]}if(!T||Ce.length?(se.unshift(we),Be=X[n](Ce,Qe,g),Be.catch(()=>{}),z+=Ce.length-a+l):(y.setInt32(5+d+4,G),Be=X[n](we,Qe,C),Be.catch(()=>{}),z+=l,Fe=!0),G+=Ce.length-a,F=F.then(()=>Be).then(Ot=>N(this,null,function*(){yield ye.ready,yield ye.write(Ot),z-=Ot.length})).catch(Ot=>ye.abort(Ot)),(Fe||z>ye.desiredSize)&&(yield F),Fe){yield ye.close();break}r?E.setInt32(w.length-4,++T):y.setInt32(9,++T)}}catch(Ce){yield ye.ready.catch(()=>{}),yield ye.abort(Ce)}}))})}var Sbe=j.constructAllowedPackets([Fu,nh,Wa,Ko]),hD=class{static get tag(){return x.packet.aeadEncryptedData}constructor(){this.version=1,this.cipherAlgorithm=null,this.aeadAlgorithm=x.aead.eax,this.chunkSizeByte=null,this.iv=null,this.encrypted=null,this.packets=null}read(n){return N(this,null,function*(){yield xw(n,e=>N(this,null,function*(){let t=yield e.readByte();if(t!==1)throw new $n(`Version ${t} of the AEAD-encrypted data packet is not supported.`);this.cipherAlgorithm=yield e.readByte(),this.aeadAlgorithm=yield e.readByte(),this.chunkSizeByte=yield e.readByte();let r=dd(this.aeadAlgorithm,!0);this.iv=yield e.readBytes(r.ivLength),this.encrypted=e.remainder()}))})}write(){return j.concat([new Uint8Array([this.version,this.cipherAlgorithm,this.aeadAlgorithm,this.chunkSizeByte]),this.iv,this.encrypted])}decrypt(r,o){return N(this,arguments,function*(n,e,t=at){this.packets=yield Kn.fromBinary(yield yw(this,"decrypt",e,eh(this.encrypted)),Sbe,t)})}encrypt(r,o){return N(this,arguments,function*(n,e,t=at){this.cipherAlgorithm=n;let{ivLength:s}=dd(this.aeadAlgorithm,!0);this.iv=Fo(s),this.chunkSizeByte=t.aeadChunkSizeByte;let a=this.packets.write();this.encrypted=yield yw(this,"encrypt",e,a)})}},C0=class i{static get tag(){return x.packet.publicKeyEncryptedSessionKey}constructor(){this.version=null,this.publicKeyID=new ud,this.publicKeyVersion=null,this.publicKeyFingerprint=null,this.publicKeyAlgorithm=null,this.sessionKey=null,this.sessionKeyAlgorithm=null,this.encrypted={}}static fromObject({version:n,encryptionKeyPacket:e,anonymousRecipient:t,sessionKey:r,sessionKeyAlgorithm:o}){let s=new i;if(n!==3&&n!==6)throw Error("Unsupported PKESK version");return s.version=n,n===6&&(s.publicKeyVersion=t?null:e.version,s.publicKeyFingerprint=t?null:e.getFingerprintBytes()),s.publicKeyID=t?ud.wildcard():e.getKeyID(),s.publicKeyAlgorithm=e.algorithm,s.sessionKey=r,s.sessionKeyAlgorithm=o,s}read(n){let e=0;if(this.version=n[e++],this.version!==3&&this.version!==6)throw new $n(`Version ${this.version} of the PKESK packet is unsupported.`);if(this.version===6){let t=n[e++];if(t){this.publicKeyVersion=n[e++];let r=t-1;this.publicKeyFingerprint=n.subarray(e,e+r),e+=r,this.publicKeyVersion>=5?this.publicKeyID.read(this.publicKeyFingerprint):this.publicKeyID.read(this.publicKeyFingerprint.subarray(-8))}else this.publicKeyID=ud.wildcard()}else e+=this.publicKeyID.read(n.subarray(e,e+8));if(this.publicKeyAlgorithm=n[e++],this.encrypted=function(t,r){let o=0;switch(t){case x.publicKey.rsaEncrypt:case x.publicKey.rsaEncryptSign:return{c:j.readMPI(r.subarray(o))};case x.publicKey.elgamal:{let s=j.readMPI(r.subarray(o));return o+=s.length+2,{c1:s,c2:j.readMPI(r.subarray(o))}}case x.publicKey.ecdh:{let s=j.readMPI(r.subarray(o));o+=s.length+2;let a=new lw;return a.read(r.subarray(o)),{V:s,C:a}}case x.publicKey.x25519:case x.publicKey.x448:{let s=fm(t),a=j.readExactSubarray(r,o,o+s);o+=a.length;let l=new dw;return l.read(r.subarray(o)),{ephemeralPublicKey:a,C:l}}default:throw new $n("Unknown public key encryption algorithm.")}}(this.publicKeyAlgorithm,n.subarray(e)),this.publicKeyAlgorithm===x.publicKey.x25519||this.publicKeyAlgorithm===x.publicKey.x448){if(this.version===3)this.sessionKeyAlgorithm=x.write(x.symmetric,this.encrypted.C.algorithm);else if(this.encrypted.C.algorithm!==null)throw Error("Unexpected cleartext symmetric algorithm")}}write(){let n=[new Uint8Array([this.version])];return this.version===6?this.publicKeyFingerprint!==null?(n.push(new Uint8Array([this.publicKeyFingerprint.length+1,this.publicKeyVersion])),n.push(this.publicKeyFingerprint)):n.push(new Uint8Array([0])):n.push(this.publicKeyID.write()),n.push(new Uint8Array([this.publicKeyAlgorithm]),vm(this.publicKeyAlgorithm,this.encrypted)),j.concatUint8Array(n)}encrypt(n){return N(this,null,function*(){let e=x.write(x.publicKey,this.publicKeyAlgorithm),t=this.version===3?this.sessionKeyAlgorithm:null,r=n.version===5?n.getFingerprintBytes().subarray(0,20):n.getFingerprintBytes(),o=H8(this.version,e,t,this.sessionKey);this.encrypted=yield Kve(e,t,n.publicParams,o,r)})}decrypt(n,e){return N(this,null,function*(){if(this.publicKeyAlgorithm!==n.algorithm)throw Error("Decryption error");let t=e?H8(this.version,this.publicKeyAlgorithm,e.sessionKeyAlgorithm,e.sessionKey):null,r=n.version===5?n.getFingerprintBytes().subarray(0,20):n.getFingerprintBytes(),o=yield $ve(this.publicKeyAlgorithm,n.publicParams,n.privateParams,this.encrypted,r,t),{sessionKey:s,sessionKeyAlgorithm:a}=function(l,c,d,p){switch(c){case x.publicKey.rsaEncrypt:case x.publicKey.rsaEncryptSign:case x.publicKey.elgamal:case x.publicKey.ecdh:{let g=d.subarray(0,d.length-2),C=d.subarray(d.length-2),y=j.writeChecksum(g.subarray(g.length%8)),v=y[0]===C[0]&y[1]===C[1],w=l===6?{sessionKeyAlgorithm:null,sessionKey:g}:{sessionKeyAlgorithm:g[0],sessionKey:g.subarray(1)};if(p){let E=v&w.sessionKeyAlgorithm===p.sessionKeyAlgorithm&w.sessionKey.length===p.sessionKey.length;return{sessionKey:j.selectUint8Array(E,w.sessionKey,p.sessionKey),sessionKeyAlgorithm:l===6?null:j.selectUint8(E,w.sessionKeyAlgorithm,p.sessionKeyAlgorithm)}}if(v&&(l===6||x.read(x.symmetric,w.sessionKeyAlgorithm)))return w;throw Error("Decryption error")}case x.publicKey.x25519:case x.publicKey.x448:return{sessionKeyAlgorithm:null,sessionKey:d};default:throw Error("Unsupported public key algorithm")}}(this.version,this.publicKeyAlgorithm,o,e);if(this.version===3){let l=this.publicKeyAlgorithm!==x.publicKey.x25519&&this.publicKeyAlgorithm!==x.publicKey.x448;if(this.sessionKeyAlgorithm=l?a:this.sessionKeyAlgorithm,s.length!==qn(this.sessionKeyAlgorithm).keySize)throw Error("Unexpected session key size")}this.sessionKey=s})}};function H8(i,n,e,t){switch(n){case x.publicKey.rsaEncrypt:case x.publicKey.rsaEncryptSign:case x.publicKey.elgamal:case x.publicKey.ecdh:return j.concatUint8Array([new Uint8Array(i===6?[]:[e]),t,j.writeChecksum(t.subarray(t.length%8))]);case x.publicKey.x25519:case x.publicKey.x448:return t;default:throw Error("Unsupported public key algorithm")}}var y0=class i{static get tag(){return x.packet.symEncryptedSessionKey}constructor(n=at){this.version=n.aeadProtect?6:4,this.sessionKey=null,this.sessionKeyEncryptionAlgorithm=null,this.sessionKeyAlgorithm=null,this.aeadAlgorithm=x.write(x.aead,n.preferredAEADAlgorithm),this.encrypted=null,this.s2k=null,this.iv=null}read(n){let e=0;if(this.version=n[e++],this.version!==4&&this.version!==5&&this.version!==6)throw new $n(`Version ${this.version} of the SKESK packet is unsupported.`);this.version===6&&e++;let t=n[e++];this.version>=5&&(this.aeadAlgorithm=n[e++],this.version===6&&e++);let r=n[e++];if(this.s2k=mw(r),e+=this.s2k.read(n.subarray(e,n.length)),this.version>=5){let o=dd(this.aeadAlgorithm,!0);this.iv=n.subarray(e,e+=o.ivLength)}this.version>=5||e<n.length?(this.encrypted=n.subarray(e,n.length),this.sessionKeyEncryptionAlgorithm=t):this.sessionKeyAlgorithm=t}write(){let n=this.encrypted===null?this.sessionKeyAlgorithm:this.sessionKeyEncryptionAlgorithm,e,t=this.s2k.write();if(this.version===6){let r=t.length,o=3+r+this.iv.length;e=j.concatUint8Array([new Uint8Array([this.version,o,n,this.aeadAlgorithm,r]),t,this.iv,this.encrypted])}else this.version===5?e=j.concatUint8Array([new Uint8Array([this.version,n,this.aeadAlgorithm]),t,this.iv,this.encrypted]):(e=j.concatUint8Array([new Uint8Array([this.version,n]),t]),this.encrypted!==null&&(e=j.concatUint8Array([e,this.encrypted])));return e}decrypt(n){return N(this,null,function*(){let e=this.sessionKeyEncryptionAlgorithm!==null?this.sessionKeyEncryptionAlgorithm:this.sessionKeyAlgorithm,{blockSize:t,keySize:r}=qn(e),o=yield this.s2k.produceKey(n,r);if(this.version>=5){let s=dd(this.aeadAlgorithm,!0),a=new Uint8Array([192|i.tag,this.version,this.sessionKeyEncryptionAlgorithm,this.aeadAlgorithm]),l=this.version===6?yield Pu(x.hash.sha256,o,new Uint8Array,a,r):o,c=yield s(e,l);this.sessionKey=yield c.decrypt(this.encrypted,this.iv,a)}else if(this.encrypted!==null){let s=yield kw(e,o,this.encrypted,new Uint8Array(t));if(this.sessionKeyAlgorithm=x.write(x.symmetric,s[0]),this.sessionKey=s.subarray(1,s.length),this.sessionKey.length!==qn(this.sessionKeyAlgorithm).keySize)throw Error("Unexpected session key size")}else this.sessionKey=o})}encrypt(t){return N(this,arguments,function*(n,e=at){let r=this.sessionKeyEncryptionAlgorithm!==null?this.sessionKeyEncryptionAlgorithm:this.sessionKeyAlgorithm;this.sessionKeyEncryptionAlgorithm=r,this.s2k=Q7(e),this.s2k.generateSalt();let{blockSize:o,keySize:s}=qn(r),a=yield this.s2k.produceKey(n,s);if(this.sessionKey===null&&(this.sessionKey=iD(this.sessionKeyAlgorithm)),this.version>=5){let l=dd(this.aeadAlgorithm);this.iv=Fo(l.ivLength);let c=new Uint8Array([192|i.tag,this.version,this.sessionKeyEncryptionAlgorithm,this.aeadAlgorithm]),d=this.version===6?yield Pu(x.hash.sha256,a,new Uint8Array,c,s):a,p=yield l(r,d);this.encrypted=yield p.encrypt(this.sessionKey,this.iv,c)}else{let l=j.concatUint8Array([new Uint8Array([this.sessionKeyAlgorithm]),this.sessionKey]);this.encrypted=yield g0(r,a,l,new Uint8Array(o))}})}},cc=class i{static get tag(){return x.packet.publicKey}constructor(n=new Date,e=at){this.version=e.v6Keys?6:4,this.created=j.normalizeDate(n),this.algorithm=null,this.publicParams=null,this.expirationTimeV3=0,this.fingerprint=null,this.keyID=null}static fromSecretKeyPacket(n){let e=new i,{version:t,created:r,algorithm:o,publicParams:s,keyID:a,fingerprint:l}=n;return e.version=t,e.created=r,e.algorithm=o,e.publicParams=s,e.keyID=a,e.fingerprint=l,e}read(t){return N(this,arguments,function*(n,e=at){let r=0;if(this.version=n[r++],this.version===5&&!e.enableParsingV5Entities)throw new $n("Support for parsing v5 entities is disabled; turn on `config.enableParsingV5Entities` if needed");if(this.version===4||this.version===5||this.version===6){this.created=j.readDate(n.subarray(r,r+4)),r+=4,this.algorithm=n[r++],this.version>=5&&(r+=4);let{read:o,publicParams:s}=function(a,l){let c=0;switch(a){case x.publicKey.rsaEncrypt:case x.publicKey.rsaEncryptSign:case x.publicKey.rsaSign:{let d=j.readMPI(l.subarray(c));c+=d.length+2;let p=j.readMPI(l.subarray(c));return c+=p.length+2,{read:c,publicParams:{n:d,e:p}}}case x.publicKey.dsa:{let d=j.readMPI(l.subarray(c));c+=d.length+2;let p=j.readMPI(l.subarray(c));c+=p.length+2;let g=j.readMPI(l.subarray(c));c+=g.length+2;let C=j.readMPI(l.subarray(c));return c+=C.length+2,{read:c,publicParams:{p:d,q:p,g,y:C}}}case x.publicKey.elgamal:{let d=j.readMPI(l.subarray(c));c+=d.length+2;let p=j.readMPI(l.subarray(c));c+=p.length+2;let g=j.readMPI(l.subarray(c));return c+=g.length+2,{read:c,publicParams:{p:d,g:p,y:g}}}case x.publicKey.ecdsa:{let d=new cd;c+=d.read(l),DO(d);let p=j.readMPI(l.subarray(c));return c+=p.length+2,{read:c,publicParams:{oid:d,Q:p}}}case x.publicKey.eddsaLegacy:{let d=new cd;if(c+=d.read(l),DO(d),d.getName()!==x.curve.ed25519Legacy)throw Error("Unexpected OID for eddsaLegacy");let p=j.readMPI(l.subarray(c));return c+=p.length+2,p=j.leftPad(p,33),{read:c,publicParams:{oid:d,Q:p}}}case x.publicKey.ecdh:{let d=new cd;c+=d.read(l),DO(d);let p=j.readMPI(l.subarray(c));c+=p.length+2;let g=new cw;return c+=g.read(l.subarray(c)),{read:c,publicParams:{oid:d,Q:p,kdfParams:g}}}case x.publicKey.ed25519:case x.publicKey.ed448:case x.publicKey.x25519:case x.publicKey.x448:{let d=j.readExactSubarray(l,c,c+fm(a));return c+=d.length,{read:c,publicParams:{A:d}}}default:throw new $n("Unknown public key encryption algorithm.")}}(this.algorithm,n.subarray(r));if(this.version===6&&s.oid&&(s.oid.getName()===x.curve.curve25519Legacy||s.oid.getName()===x.curve.ed25519Legacy))throw Error("Legacy curve25519 cannot be used with v6 keys");return this.publicParams=s,r+=o,yield this.computeFingerprintAndKeyID(),r}throw new $n(`Version ${this.version} of the key packet is unsupported.`)})}write(){let n=[];n.push(new Uint8Array([this.version])),n.push(j.writeDate(this.created)),n.push(new Uint8Array([this.algorithm]));let e=vm(this.algorithm,this.publicParams);return this.version>=5&&n.push(j.writeNumber(e.length,4)),n.push(e),j.concatUint8Array(n)}writeForHash(n){let e=this.writePublicKey(),t=149+n,r=n>=5?4:2;return j.concatUint8Array([new Uint8Array([t]),j.writeNumber(e.length,r),e])}isDecrypted(){return null}getCreationTime(){return this.created}getKeyID(){return this.keyID}computeFingerprintAndKeyID(){return N(this,null,function*(){if(yield this.computeFingerprint(),this.keyID=new ud,this.version>=5)this.keyID.read(this.fingerprint.subarray(0,8));else{if(this.version!==4)throw Error("Unsupported key version");this.keyID.read(this.fingerprint.subarray(12,20))}})}computeFingerprint(){return N(this,null,function*(){let n=this.writeForHash(this.version);if(this.version>=5)this.fingerprint=yield hc(x.hash.sha256,n);else{if(this.version!==4)throw Error("Unsupported key version");this.fingerprint=yield hc(x.hash.sha1,n)}})}getFingerprintBytes(){return this.fingerprint}getFingerprint(){return j.uint8ArrayToHex(this.getFingerprintBytes())}hasSameFingerprintAs(n){return this.version===n.version&&j.equalsUint8Array(this.writePublicKey(),n.writePublicKey())}getAlgorithmInfo(){let n={};n.algorithm=x.read(x.publicKey,this.algorithm);let e=this.publicParams.n||this.publicParams.p;return e?n.bits=j.uint8ArrayBitLength(e):this.publicParams.oid&&(n.curve=this.publicParams.oid.getName()),n}};cc.prototype.readPublicKey=cc.prototype.read,cc.prototype.writePublicKey=cc.prototype.write;var Abe=j.constructAllowedPackets([Fu,nh,Wa,Ko]),fD=class{static get tag(){return x.packet.symmetricallyEncryptedData}constructor(){this.encrypted=null,this.packets=null}read(n){this.encrypted=n}write(){return this.encrypted}decrypt(r,o){return N(this,arguments,function*(n,e,t=at){if(!t.allowUnauthenticatedMessages)throw Error("Message is not authenticated.");let{blockSize:s}=qn(n),a=yield _o(eh(this.encrypted)),l=yield kw(n,e,a.subarray(s+2),a.subarray(2,s+2));this.packets=yield Kn.fromBinary(l,Abe,t)})}encrypt(r,o){return N(this,arguments,function*(n,e,t=at){let s=this.packets.write(),{blockSize:a}=qn(n),l=yield J7(n),c=yield g0(n,e,l,new Uint8Array(a)),d=yield g0(n,e,s,c.subarray(2));this.encrypted=j.concat([c,d])})}};var Iw=class i extends cc{static get tag(){return x.packet.publicSubkey}constructor(n,e){super(n,e)}static fromSecretSubkeyPacket(n){let e=new i,{version:t,created:r,algorithm:o,publicParams:s,keyID:a,fingerprint:l}=n;return e.version=t,e.created=r,e.algorithm=o,e.publicParams=s,e.keyID=a,e.fingerprint=l,e}},mD=class i{static get tag(){return x.packet.userAttribute}constructor(){this.attributes=[]}read(n){let e=0;for(;e<n.length;){let t=g7(n.subarray(e,n.length));e+=t.offset,this.attributes.push(j.uint8ArrayToString(n.subarray(e,e+t.len))),e+=t.len}}write(){let n=[];for(let e=0;e<this.attributes.length;e++)n.push(Tw(this.attributes[e].length)),n.push(j.stringToUint8Array(this.attributes[e]));return j.concatUint8Array(n)}equals(n){return!!(n&&n instanceof i)&&this.attributes.every(function(e,t){return e===n.attributes[t]})}},I0=class extends cc{static get tag(){return x.packet.secretKey}constructor(n=new Date,e=at){super(n,e),this.keyMaterial=null,this.isEncrypted=null,this.s2kUsage=0,this.s2k=null,this.symmetric=null,this.aead=null,this.isLegacyAEAD=null,this.privateParams=null,this.usedModernAEAD=null}read(t){return N(this,arguments,function*(n,e=at){let r=yield this.readPublicKey(n,e),o=r;this.s2kUsage=n[r++],this.version===5&&r++,this.version===6&&this.s2kUsage&&r++;try{if(this.s2kUsage===255||this.s2kUsage===254||this.s2kUsage===253){this.symmetric=n[r++],this.s2kUsage===253&&(this.aead=n[r++]),this.version===6&&r++;let s=n[r++];if(this.s2k=mw(s),r+=this.s2k.read(n.subarray(r,n.length)),this.s2k.type==="gnu-dummy")return}else this.s2kUsage&&(this.symmetric=this.s2kUsage);this.s2kUsage&&(this.isLegacyAEAD=this.s2kUsage===253&&(this.version===5||this.version===4&&e.parseAEADEncryptedV4KeysAsLegacy),this.s2kUsage!==253||this.isLegacyAEAD?(this.iv=n.subarray(r,r+qn(this.symmetric).blockSize),this.usedModernAEAD=!1):(this.iv=n.subarray(r,r+dd(this.aead).ivLength),this.usedModernAEAD=!0),r+=this.iv.length)}catch(s){if(!this.s2kUsage)throw s;this.unparseableKeyMaterial=n.subarray(o),this.isEncrypted=!0}if(this.version===5&&(r+=4),this.keyMaterial=n.subarray(r),this.isEncrypted=!!this.s2kUsage,!this.isEncrypted){let s;if(this.version===6)s=this.keyMaterial;else if(s=this.keyMaterial.subarray(0,-2),!j.equalsUint8Array(j.writeChecksum(s),this.keyMaterial.subarray(-2)))throw Error("Key checksum mismatch");try{let{read:a,privateParams:l}=R8(this.algorithm,s,this.publicParams);if(a<s.length)throw Error("Error reading MPIs");this.privateParams=l}catch(a){throw a instanceof $n?a:Error("Error reading MPIs")}}})}write(){let n=this.writePublicKey();if(this.unparseableKeyMaterial)return j.concatUint8Array([n,this.unparseableKeyMaterial]);let e=[n];e.push(new Uint8Array([this.s2kUsage]));let t=[];if(this.s2kUsage===255||this.s2kUsage===254||this.s2kUsage===253){t.push(this.symmetric),this.s2kUsage===253&&t.push(this.aead);let r=this.s2k.write();this.version===6&&t.push(r.length),t.push(...r)}return this.s2kUsage&&this.s2k.type!=="gnu-dummy"&&t.push(...this.iv),(this.version===5||this.version===6&&this.s2kUsage)&&e.push(new Uint8Array([t.length])),e.push(new Uint8Array(t)),this.isDummy()||(this.s2kUsage||(this.keyMaterial=vm(this.algorithm,this.privateParams)),this.version===5&&e.push(j.writeNumber(this.keyMaterial.length,4)),e.push(this.keyMaterial),this.s2kUsage||this.version===6||e.push(j.writeChecksum(this.keyMaterial))),j.concatUint8Array(e)}isDecrypted(){return this.isEncrypted===!1}isMissingSecretKeyMaterial(){return this.unparseableKeyMaterial!==void 0||this.isDummy()}isDummy(){return!(!this.s2k||this.s2k.type!=="gnu-dummy")}makeDummy(n=at){this.isDummy()||(this.isDecrypted()&&this.clearPrivateParams(),delete this.unparseableKeyMaterial,this.isEncrypted=null,this.keyMaterial=null,this.s2k=mw(x.s2k.gnu,n),this.s2k.algorithm=0,this.s2k.c=0,this.s2k.type="gnu-dummy",this.s2kUsage=254,this.symmetric=x.symmetric.aes256,this.isLegacyAEAD=null,this.usedModernAEAD=null)}encrypt(t){return N(this,arguments,function*(n,e=at){if(this.isDummy())return;if(!this.isDecrypted())throw Error("Key packet is already encrypted");if(!n)throw Error("A non-empty passphrase is required for key encryption.");this.s2k=Q7(e),this.s2k.generateSalt();let r=vm(this.algorithm,this.privateParams);this.symmetric=x.symmetric.aes256;let{blockSize:o}=qn(this.symmetric);if(e.aeadProtect){this.s2kUsage=253,this.aead=e.preferredAEADAlgorithm;let s=dd(this.aead);this.isLegacyAEAD=this.version===5,this.usedModernAEAD=!this.isLegacyAEAD;let a=Zb(this.constructor.tag),l=yield BO(this.version,this.s2k,n,this.symmetric,this.aead,a,this.isLegacyAEAD),c=yield s(this.symmetric,l);this.iv=this.isLegacyAEAD?Fo(o):Fo(s.ivLength);let d=this.isLegacyAEAD?new Uint8Array:j.concatUint8Array([a,this.writePublicKey()]);this.keyMaterial=yield c.encrypt(r,this.iv.subarray(0,s.ivLength),d)}else{this.s2kUsage=254,this.usedModernAEAD=!1;let s=yield BO(this.version,this.s2k,n,this.symmetric);this.iv=Fo(o),this.keyMaterial=yield g0(this.symmetric,s,j.concatUint8Array([r,yield hc(x.hash.sha1,r)]),this.iv)}})}decrypt(n){return N(this,null,function*(){if(this.isDummy())return!1;if(this.unparseableKeyMaterial)throw Error("Key packet cannot be decrypted: unsupported S2K or cipher algo");if(this.isDecrypted())throw Error("Key packet is already decrypted.");let e,t=Zb(this.constructor.tag);if(this.s2kUsage!==254&&this.s2kUsage!==253)throw this.s2kUsage===255?Error("Encrypted private key is authenticated using an insecure two-byte hash"):Error("Private key is encrypted using an insecure S2K function: unsalted MD5");let r;if(e=yield BO(this.version,this.s2k,n,this.symmetric,this.aead,t,this.isLegacyAEAD),this.s2kUsage===253){let o=dd(this.aead,!0),s=yield o(this.symmetric,e);try{let a=this.isLegacyAEAD?new Uint8Array:j.concatUint8Array([t,this.writePublicKey()]);r=yield s.decrypt(this.keyMaterial,this.iv.subarray(0,o.ivLength),a)}catch(a){throw a.message==="Authentication tag mismatch"?Error("Incorrect key passphrase: "+a.message):a}}else{let o=yield kw(this.symmetric,e,this.keyMaterial,this.iv);r=o.subarray(0,-20);let s=yield hc(x.hash.sha1,r);if(!j.equalsUint8Array(s,o.subarray(-20)))throw Error("Incorrect key passphrase")}try{let{privateParams:o}=R8(this.algorithm,r,this.publicParams);this.privateParams=o}catch{throw Error("Error reading MPIs")}this.isEncrypted=!1,this.keyMaterial=null,this.s2kUsage=0,this.aead=null,this.symmetric=null,this.isLegacyAEAD=null})}validate(){return N(this,null,function*(){if(this.isDummy())return;if(!this.isDecrypted())throw Error("Key is not decrypted");if(this.usedModernAEAD)return;let n;try{n=yield Yve(this.algorithm,this.publicParams,this.privateParams)}catch{n=!1}if(!n)throw Error("Key is invalid")})}generate(n,e){return N(this,null,function*(){if(this.version===6&&(this.algorithm===x.publicKey.ecdh&&e===x.curve.curve25519Legacy||this.algorithm===x.publicKey.eddsaLegacy))throw Error(`Cannot generate v6 keys of type 'ecc' with curve ${e}. Generate a key of type 'curve25519' instead`);let{privateParams:t,publicParams:r}=yield qve(this.algorithm,n,e);this.privateParams=t,this.publicParams=r,this.isEncrypted=!1})}clearPrivateParams(){this.isMissingSecretKeyMaterial()||(Object.keys(this.privateParams).forEach(n=>{this.privateParams[n].fill(0),delete this.privateParams[n]}),this.privateParams=null,this.isEncrypted=!0)}};function BO(i,n,e,t,r,o,s){return N(this,null,function*(){if(n.type==="argon2"&&!r)throw Error("Using Argon2 S2K without AEAD is not allowed");if(n.type==="simple"&&i===6)throw Error("Using Simple S2K with version 6 keys is not allowed");let{keySize:a}=qn(t),l=yield n.produceKey(e,a);if(!r||i===5||s)return l;let c=j.concatUint8Array([o,new Uint8Array([i,t,r])]);return Pu(x.hash.sha256,l,new Uint8Array,c,a)})}var vw=class i{static get tag(){return x.packet.userID}constructor(){this.userID="",this.name="",this.email="",this.comment=""}static fromObject(n){if(j.isString(n)||n.name&&!j.isString(n.name)||n.email&&!j.isEmailAddress(n.email)||n.comment&&!j.isString(n.comment))throw Error("Invalid user ID format");let e=new i;Object.assign(e,n);let t=[];return e.name&&t.push(e.name),e.comment&&t.push(`(${e.comment})`),e.email&&t.push(`<${e.email}>`),e.userID=t.join(" "),e}read(n,e=at){let t=j.decodeUTF8(n);if(t.length>e.maxUserIDLength)throw Error("User ID string is too long");let r=/^(?<name>[^()]+\s+)?(?<comment>\([^()]+\)\s+)?(?<email><\S+@\S+>)$/.exec(t);if(r!==null){let{name:o,comment:s,email:a}=r.groups;this.comment=s?.replace(/^\(|\)|\s$/g,"").trim()||"",this.name=o?.trim()||"",this.email=a.substring(1,a.length-1)}else/^[^\s@]+@[^\s@]+$/.test(t)&&(this.email=t);this.userID=t}write(){return j.encodeUTF8(this.userID)}equals(n){return n&&n.userID===this.userID}},bw=class extends I0{static get tag(){return x.packet.secretSubkey}constructor(n=new Date,e=at){super(n,e)}};var ww=class{constructor(n){this.packets=n||new Kn}write(){return this.packets.write()}armor(n=at){let e=this.packets.some(t=>t.constructor.tag===Ko.tag&&t.version!==6);return E0(x.armor.signature,this.write(),void 0,void 0,void 0,e,n)}getSigningKeyIDs(){return this.packets.map(n=>n.issuerKeyID)}};function r9(i,n){return N(this,null,function*(){let e=new bw(i.date,n);return e.packets=null,e.algorithm=x.write(x.publicKey,i.algorithm),yield e.generate(i.rsaBits,i.curve),yield e.computeFingerprintAndKeyID(),e})}function Ebe(i,n){return N(this,null,function*(){let e=new I0(i.date,n);return e.packets=null,e.algorithm=x.write(x.publicKey,i.algorithm),yield e.generate(i.rsaBits,i.curve,i.config),yield e.computeFingerprintAndKeyID(),e})}function Il(s,a,l,c){return N(this,arguments,function*(i,n,e,t,r=new Date,o){let d,p;for(let g=i.length-1;g>=0;g--)try{(!d||i[g].created>=d.created)&&(yield i[g].verify(n,e,t,r,void 0,o),d=i[g])}catch(C){p=C}if(!d)throw j.wrapError(`Could not find valid ${x.read(x.signature,e)} signature in key ${n.getKeyID().toHex()}`.replace("certGeneric ","self-").replace(/([a-z])([A-Z])/g,(g,C,y)=>C+" "+y.toLowerCase()),p);return d})}function gD(i,n,e=new Date){let t=j.normalizeDate(e);if(t!==null){let r=Sw(i,n);return!(i.created<=t&&t<r)}return!1}function o9(i,n,e,t){return N(this,null,function*(){let r={};r.key=n,r.bind=i;let o={signatureType:x.signature.subkeyBinding};return e.sign?(o.keyFlags=[x.keyFlags.signData],o.embeddedSignature=yield pc(r,[],i,{signatureType:x.signature.keyBinding},e.date,void 0,void 0,void 0,t)):o.keyFlags=[x.keyFlags.encryptCommunication|x.keyFlags.encryptStorage],e.keyExpirationTime>0&&(o.keyExpirationTime=e.keyExpirationTime,o.keyNeverExpires=!1),yield pc(r,[],n,o,e.date,void 0,void 0,void 0,t)})}function xbe(o,s){return N(this,arguments,function*(i,n,e=new Date,t=[],r){let a=x.hash.sha256,l=r.preferredHashAlgorithm,c=yield Promise.all(i.map((C,y)=>N(this,null,function*(){return(yield C.getPrimarySelfSignature(e,t[y],r)).preferredHashAlgorithms||[]}))),d=new Map;for(let C of c)for(let y of C)try{let v=x.write(x.hash,y);d.set(v,d.has(v)?d.get(v)+1:1)}catch{}let p=C=>i.length===0||d.get(C)===i.length||C===a,g=()=>{if(d.size===0)return a;let C=Array.from(d.keys()).filter(y=>p(y)).sort((y,v)=>go(y)-go(v))[0];return go(C)>=go(a)?C:a};if(new Set([x.publicKey.ecdsa,x.publicKey.eddsaLegacy,x.publicKey.ed25519,x.publicKey.ed448]).has(n.algorithm)){let C=function(w,E){switch(w){case x.publicKey.ecdsa:case x.publicKey.eddsaLegacy:return N7(E);case x.publicKey.ed25519:case x.publicKey.ed448:return Dw(w);default:throw Error("Unknown elliptic signing algo")}}(n.algorithm,n.publicParams.oid),y=p(l),v=go(l)>=go(C);if(y&&v)return l;{let w=g();return go(w)>=go(C)?w:C}}return p(l)?l:g()})}function pc(c,d,p,g,C,y){return N(this,arguments,function*(i,n,e,t,r,o,s=[],a=!1,l){if(e.isDummy())throw Error("Cannot sign with a gnu-dummy key.");if(!e.isDecrypted())throw Error("Signing key is not decrypted.");let v=new Ko;return Object.assign(v,t),v.publicKeyAlgorithm=e.algorithm,v.hashAlgorithm=yield xbe(n,e,r,o,l),v.rawNotations=[...s],yield v.sign(e,i,r,a,l),v})}function Qp(o,s,a){return N(this,arguments,function*(i,n,e,t=new Date,r){(i=i[e])&&(n[e].length?yield Promise.all(i.map(function(l){return N(this,null,function*(){l.isExpired(t)||r&&!(yield r(l))||n[e].some(function(c){return j.equalsUint8Array(c.writeParams(),l.writeParams())})||n[e].push(l)})})):n[e]=i)})}function wm(l,c,d,p,g,C){return N(this,arguments,function*(i,n,e,t,r,o,s=new Date,a){o=o||i;let y=[];return yield Promise.all(t.map(function(v){return N(this,null,function*(){try{if(!r||v.issuerKeyID.equals(r.issuerKeyID)){let w=![x.reasonForRevocation.keyRetired,x.reasonForRevocation.keySuperseded,x.reasonForRevocation.userIDInvalid].includes(v.reasonForRevocationFlag);yield v.verify(o,n,e,w?null:s,!1,a),y.push(v.issuerKeyID)}}catch{}})})),r?(r.revoked=!!y.some(v=>v.equals(r.issuerKeyID))||r.revoked||!1,r.revoked):y.length>0})}function Sw(i,n){let e;return n.keyNeverExpires===!1&&(e=i.created.getTime()+1e3*n.keyExpirationTime),e?new Date(e):1/0}function _D(i,n={}){switch(i.type=i.type||n.type,i.curve=i.curve||n.curve,i.rsaBits=i.rsaBits||n.rsaBits,i.keyExpirationTime=i.keyExpirationTime!==void 0?i.keyExpirationTime:n.keyExpirationTime,i.passphrase=j.isString(i.passphrase)?i.passphrase:n.passphrase,i.date=i.date||n.date,i.sign=i.sign||!1,i.type){case"ecc":try{i.curve=x.write(x.curve,i.curve)}catch{throw Error("Unknown curve")}i.curve!==x.curve.ed25519Legacy&&i.curve!==x.curve.curve25519Legacy&&i.curve!=="ed25519"&&i.curve!=="curve25519"||(i.curve=i.sign?x.curve.ed25519Legacy:x.curve.curve25519Legacy),i.sign?i.algorithm=i.curve===x.curve.ed25519Legacy?x.publicKey.eddsaLegacy:x.publicKey.ecdsa:i.algorithm=x.publicKey.ecdh;break;case"curve25519":i.algorithm=i.sign?x.publicKey.ed25519:x.publicKey.x25519;break;case"curve448":i.algorithm=i.sign?x.publicKey.ed448:x.publicKey.x448;break;case"rsa":i.algorithm=x.publicKey.rsaEncryptSign;break;default:throw Error("Unsupported key type "+i.type)}return i}function G8(i,n,e){switch(i.algorithm){case x.publicKey.rsaEncryptSign:case x.publicKey.rsaSign:case x.publicKey.dsa:case x.publicKey.ecdsa:case x.publicKey.eddsaLegacy:case x.publicKey.ed25519:case x.publicKey.ed448:if(!n.keyFlags&&!e.allowMissingKeyFlags)throw Error("None of the key flags is set: consider passing `config.allowMissingKeyFlags`");return!n.keyFlags||!!(n.keyFlags[0]&x.keyFlags.signData);default:return!1}}function z8(i,n,e){switch(i.algorithm){case x.publicKey.rsaEncryptSign:case x.publicKey.rsaEncrypt:case x.publicKey.elgamal:case x.publicKey.ecdh:case x.publicKey.x25519:case x.publicKey.x448:if(!n.keyFlags&&!e.allowMissingKeyFlags)throw Error("None of the key flags is set: consider passing `config.allowMissingKeyFlags`");return!n.keyFlags||!!(n.keyFlags[0]&x.keyFlags.encryptCommunication)||!!(n.keyFlags[0]&x.keyFlags.encryptStorage);default:return!1}}function W8(i,n,e){if(!n.keyFlags&&!e.allowMissingKeyFlags)throw Error("None of the key flags is set: consider passing `config.allowMissingKeyFlags`");switch(i.algorithm){case x.publicKey.rsaEncryptSign:case x.publicKey.rsaEncrypt:case x.publicKey.elgamal:case x.publicKey.ecdh:case x.publicKey.x25519:case x.publicKey.x448:return!(!(!n.keyFlags||n.keyFlags[0]&x.keyFlags.signData)||!e.allowInsecureDecryptionWithSigningKeys)||!n.keyFlags||!!(n.keyFlags[0]&x.keyFlags.encryptCommunication)||!!(n.keyFlags[0]&x.keyFlags.encryptStorage);default:return!1}}function Eu(i,n){let e=x.write(x.publicKey,i.algorithm),t=i.getAlgorithmInfo();if(n.rejectPublicKeyAlgorithms.has(e))throw Error(t.algorithm+" keys are considered too weak.");switch(e){case x.publicKey.rsaEncryptSign:case x.publicKey.rsaSign:case x.publicKey.rsaEncrypt:if(t.bits<n.minRSABits)throw Error(`RSA keys shorter than ${n.minRSABits} bits are considered too weak.`);break;case x.publicKey.ecdsa:case x.publicKey.eddsaLegacy:case x.publicKey.ecdh:if(n.rejectCurves.has(t.curve))throw Error(`Support for ${t.algorithm} keys using curve ${t.curve} is disabled.`)}}var CD=class i{constructor(n,e){this.userID=n.constructor.tag===x.packet.userID?n:null,this.userAttribute=n.constructor.tag===x.packet.userAttribute?n:null,this.selfCertifications=[],this.otherCertifications=[],this.revocationSignatures=[],this.mainKey=e}toPacketList(){let n=new Kn;return n.push(this.userID||this.userAttribute),n.push(...this.revocationSignatures),n.push(...this.selfCertifications),n.push(...this.otherCertifications),n}clone(){let n=new i(this.userID||this.userAttribute,this.mainKey);return n.selfCertifications=[...this.selfCertifications],n.otherCertifications=[...this.otherCertifications],n.revocationSignatures=[...this.revocationSignatures],n}certify(n,e,t){return N(this,null,function*(){let r=this.mainKey.keyPacket,o={userID:this.userID,userAttribute:this.userAttribute,key:r},s=new i(o.userID||o.userAttribute,this.mainKey);return s.otherCertifications=yield Promise.all(n.map(function(a){return N(this,null,function*(){if(!a.isPrivate())throw Error("Need private key for signing");if(a.hasSameFingerprintAs(r))throw Error("The user's own key can only be used for self-certifications");let l=yield a.getSigningKey(void 0,e,void 0,t);return pc(o,[a],l.keyPacket,{signatureType:x.signature.certGeneric,keyFlags:[x.keyFlags.certifyKeys|x.keyFlags.signData]},e,void 0,void 0,void 0,t)})})),yield s.update(this,e,t),s})}isRevoked(o,s){return N(this,arguments,function*(n,e,t=new Date,r=at){let a=this.mainKey.keyPacket;return wm(a,x.signature.certRevocation,{key:a,userID:this.userID,userAttribute:this.userAttribute},this.revocationSignatures,n,e,t,r)})}verifyCertificate(o,s){return N(this,arguments,function*(n,e,t=new Date,r){let a=this,l=this.mainKey.keyPacket,c={userID:this.userID,userAttribute:this.userAttribute,key:l},{issuerKeyID:d}=n,p=e.filter(g=>g.getKeys(d).length>0);return p.length===0?null:(yield Promise.all(p.map(g=>N(this,null,function*(){let C=yield g.getSigningKey(d,n.created,void 0,r);if(n.revoked||(yield a.isRevoked(n,C.keyPacket,t,r)))throw Error("User certificate is revoked");try{yield n.verify(C.keyPacket,x.signature.certGeneric,c,t,void 0,r)}catch(y){throw j.wrapError("User certificate is invalid",y)}}))),!0)})}verifyAllCertifications(r){return N(this,arguments,function*(n,e=new Date,t){let o=this,s=this.selfCertifications.concat(this.otherCertifications);return Promise.all(s.map(a=>N(this,null,function*(){return{keyID:a.issuerKeyID,valid:yield o.verifyCertificate(a,n,e,t).catch(()=>!1)}})))})}verify(){return N(this,arguments,function*(n=new Date,e){if(!this.selfCertifications.length)throw Error("No self-certifications found");let t=this,r=this.mainKey.keyPacket,o={userID:this.userID,userAttribute:this.userAttribute,key:r},s;for(let a=this.selfCertifications.length-1;a>=0;a--)try{let l=this.selfCertifications[a];if(l.revoked||(yield t.isRevoked(l,void 0,n,e)))throw Error("Self-certification is revoked");try{yield l.verify(r,x.signature.certGeneric,o,n,void 0,e)}catch(c){throw j.wrapError("Self-certification is invalid",c)}return!0}catch(l){s=l}throw s})}update(n,e,t){return N(this,null,function*(){let r=this.mainKey.keyPacket,o={userID:this.userID,userAttribute:this.userAttribute,key:r};yield Qp(n,this,"selfCertifications",e,function(s){return N(this,null,function*(){try{return yield s.verify(r,x.signature.certGeneric,o,e,!1,t),!0}catch{return!1}})}),yield Qp(n,this,"otherCertifications",e),yield Qp(n,this,"revocationSignatures",e,function(s){return wm(r,x.signature.certRevocation,o,[s],void 0,void 0,e,t)})})}revoke(s){return N(this,arguments,function*(n,{flag:e=x.reasonForRevocation.noReason,string:t=""}={},r=new Date,o=at){let a={userID:this.userID,userAttribute:this.userAttribute,key:n},l=new i(a.userID||a.userAttribute,this.mainKey);return l.revocationSignatures.push(yield pc(a,[],n,{signatureType:x.signature.certRevocation,reasonForRevocationFlag:x.write(x.reasonForRevocation,e),reasonForRevocationString:t},r,void 0,void 0,!1,o)),yield l.update(this),l})}},v0=class i{constructor(n,e){this.keyPacket=n,this.bindingSignatures=[],this.revocationSignatures=[],this.mainKey=e}toPacketList(){let n=new Kn;return n.push(this.keyPacket),n.push(...this.revocationSignatures),n.push(...this.bindingSignatures),n}clone(){let n=new i(this.keyPacket,this.mainKey);return n.bindingSignatures=[...this.bindingSignatures],n.revocationSignatures=[...this.revocationSignatures],n}isRevoked(o,s){return N(this,arguments,function*(n,e,t=new Date,r=at){let a=this.mainKey.keyPacket;return wm(a,x.signature.subkeyRevocation,{key:a,bind:this.keyPacket},this.revocationSignatures,n,e,t,r)})}verify(){return N(this,arguments,function*(n=new Date,e=at){let t=this.mainKey.keyPacket,r={key:t,bind:this.keyPacket},o=yield Il(this.bindingSignatures,t,x.signature.subkeyBinding,r,n,e);if(o.revoked||(yield this.isRevoked(o,null,n,e)))throw Error("Subkey is revoked");if(gD(this.keyPacket,o,n))throw Error("Subkey is expired");return o})}getExpirationTime(){return N(this,arguments,function*(n=new Date,e=at){let t=this.mainKey.keyPacket,r={key:t,bind:this.keyPacket},o;try{o=yield Il(this.bindingSignatures,t,x.signature.subkeyBinding,r,n,e)}catch{return null}let s=Sw(this.keyPacket,o),a=o.getExpirationTime();return s<a?s:a})}update(r){return N(this,arguments,function*(n,e=new Date,t=at){let o=this.mainKey.keyPacket;if(!this.hasSameFingerprintAs(n))throw Error("Subkey update method: fingerprints of subkeys not equal");this.keyPacket.constructor.tag===x.packet.publicSubkey&&n.keyPacket.constructor.tag===x.packet.secretSubkey&&(this.keyPacket=n.keyPacket);let s=this,a={key:o,bind:s.keyPacket};yield Qp(n,this,"bindingSignatures",e,function(l){return N(this,null,function*(){for(let c=0;c<s.bindingSignatures.length;c++)if(s.bindingSignatures[c].issuerKeyID.equals(l.issuerKeyID))return l.created>s.bindingSignatures[c].created&&(s.bindingSignatures[c]=l),!1;try{return yield l.verify(o,x.signature.subkeyBinding,a,e,void 0,t),!0}catch{return!1}})}),yield Qp(n,this,"revocationSignatures",e,function(l){return wm(o,x.signature.subkeyRevocation,a,[l],void 0,void 0,e,t)})})}revoke(s){return N(this,arguments,function*(n,{flag:e=x.reasonForRevocation.noReason,string:t=""}={},r=new Date,o=at){let a={key:n,bind:this.keyPacket},l=new i(this.keyPacket,this.mainKey);return l.revocationSignatures.push(yield pc(a,[],n,{signatureType:x.signature.subkeyRevocation,reasonForRevocationFlag:x.write(x.reasonForRevocation,e),reasonForRevocationString:t},r,void 0,void 0,!1,o)),yield l.update(this),l})}hasSameFingerprintAs(n){return this.keyPacket.hasSameFingerprintAs(n.keyPacket||n)}};["getKeyID","getFingerprint","getAlgorithmInfo","getCreationTime","isDecrypted"].forEach(i=>{v0.prototype[i]=function(){return this.keyPacket[i]()}});var Tbe=j.constructAllowedPackets([Ko]),K8=new Set([x.packet.publicKey,x.packet.privateKey]),$8=new Set([x.packet.publicKey,x.packet.privateKey,x.packet.publicSubkey,x.packet.privateSubkey]),Aw=class{packetListToStructure(n,e=new Set){let t,r,o,s;for(let a of n){if(a instanceof p0){$8.has(a.tag)&&!s&&(s=K8.has(a.tag)?K8:$8);continue}let l=a.constructor.tag;if(s){if(!s.has(l))continue;s=null}if(e.has(l))throw Error("Unexpected packet type: "+l);switch(l){case x.packet.publicKey:case x.packet.secretKey:if(this.keyPacket)throw Error("Key block contains multiple keys");if(this.keyPacket=a,r=this.getKeyID(),!r)throw Error("Missing Key ID");break;case x.packet.userID:case x.packet.userAttribute:t=new CD(a,this),this.users.push(t);break;case x.packet.publicSubkey:case x.packet.secretSubkey:t=null,o=new v0(a,this),this.subkeys.push(o);break;case x.packet.signature:switch(a.signatureType){case x.signature.certGeneric:case x.signature.certPersona:case x.signature.certCasual:case x.signature.certPositive:if(!t){j.printDebug("Dropping certification signatures without preceding user packet");continue}a.issuerKeyID.equals(r)?t.selfCertifications.push(a):t.otherCertifications.push(a);break;case x.signature.certRevocation:t?t.revocationSignatures.push(a):this.directSignatures.push(a);break;case x.signature.key:this.directSignatures.push(a);break;case x.signature.subkeyBinding:if(!o){j.printDebug("Dropping subkey binding signature without preceding subkey packet");continue}o.bindingSignatures.push(a);break;case x.signature.keyRevocation:this.revocationSignatures.push(a);break;case x.signature.subkeyRevocation:if(!o){j.printDebug("Dropping subkey revocation signature without preceding subkey packet");continue}o.revocationSignatures.push(a)}}}}toPacketList(){let n=new Kn;return n.push(this.keyPacket),n.push(...this.revocationSignatures),n.push(...this.directSignatures),this.users.map(e=>n.push(...e.toPacketList())),this.subkeys.map(e=>n.push(...e.toPacketList())),n}clone(n=!1){let e=new this.constructor(this.toPacketList());return n&&e.getKeys().forEach(t=>{if(t.keyPacket=Object.create(Object.getPrototypeOf(t.keyPacket),Object.getOwnPropertyDescriptors(t.keyPacket)),!t.keyPacket.isDecrypted())return;let r={};Object.keys(t.keyPacket.privateParams).forEach(o=>{r[o]=new Uint8Array(t.keyPacket.privateParams[o])}),t.keyPacket.privateParams=r}),e}getSubkeys(n=null){return this.subkeys.filter(e=>!n||e.getKeyID().equals(n,!0))}getKeys(n=null){let e=[];return n&&!this.getKeyID().equals(n,!0)||e.push(this),e.concat(this.getSubkeys(n))}getKeyIDs(){return this.getKeys().map(n=>n.getKeyID())}getUserIDs(){return this.users.map(n=>n.userID?n.userID.userID:null).filter(n=>n!==null)}write(){return this.toPacketList().write()}getSigningKey(){return N(this,arguments,function*(n=null,e=new Date,t={},r=at){yield this.verifyPrimaryKey(e,t,r);let o=this.keyPacket;try{Eu(o,r)}catch(l){throw j.wrapError("Could not verify primary key",l)}let s=this.subkeys.slice().sort((l,c)=>c.keyPacket.created-l.keyPacket.created),a;for(let l of s)if(!n||l.getKeyID().equals(n))try{yield l.verify(e,r);let c={key:o,bind:l.keyPacket},d=yield Il(l.bindingSignatures,o,x.signature.subkeyBinding,c,e,r);if(!G8(l.keyPacket,d,r))continue;if(!d.embeddedSignature)throw Error("Missing embedded signature");return yield Il([d.embeddedSignature],l.keyPacket,x.signature.keyBinding,c,e,r),Eu(l.keyPacket,r),l}catch(c){a=c}try{let l=yield this.getPrimarySelfSignature(e,t,r);if((!n||o.getKeyID().equals(n))&&G8(o,l,r))return Eu(o,r),this}catch(l){a=l}throw j.wrapError("Could not find valid signing key packet in key "+this.getKeyID().toHex(),a)})}getEncryptionKey(o){return N(this,arguments,function*(n,e=new Date,t={},r=at){yield this.verifyPrimaryKey(e,t,r);let s=this.keyPacket;try{Eu(s,r)}catch(c){throw j.wrapError("Could not verify primary key",c)}let a=this.subkeys.slice().sort((c,d)=>d.keyPacket.created-c.keyPacket.created),l;for(let c of a)if(!n||c.getKeyID().equals(n))try{yield c.verify(e,r);let d={key:s,bind:c.keyPacket},p=yield Il(c.bindingSignatures,s,x.signature.subkeyBinding,d,e,r);if(z8(c.keyPacket,p,r))return Eu(c.keyPacket,r),c}catch(d){l=d}try{let c=yield this.getPrimarySelfSignature(e,t,r);if((!n||s.getKeyID().equals(n))&&z8(s,c,r))return Eu(s,r),this}catch(c){l=c}throw j.wrapError("Could not find valid encryption key packet in key "+this.getKeyID().toHex(),l)})}isRevoked(o,s){return N(this,arguments,function*(n,e,t=new Date,r=at){return wm(this.keyPacket,x.signature.keyRevocation,{key:this.keyPacket},this.revocationSignatures,n,e,t,r)})}verifyPrimaryKey(){return N(this,arguments,function*(n=new Date,e={},t=at){let r=this.keyPacket;if(yield this.isRevoked(null,null,n,t))throw Error("Primary key is revoked");if(gD(r,yield this.getPrimarySelfSignature(n,e,t),n))throw Error("Primary key is expired");if(r.version!==6){let o=yield Il(this.directSignatures,r,x.signature.key,{key:r},n,t).catch(()=>{});if(o&&gD(r,o,n))throw Error("Primary key is expired")}})}getExpirationTime(t){return N(this,arguments,function*(n,e=at){let r;try{let o=yield this.getPrimarySelfSignature(null,n,e),s=Sw(this.keyPacket,o),a=o.getExpirationTime(),l=this.keyPacket.version!==6&&(yield Il(this.directSignatures,this.keyPacket,x.signature.key,{key:this.keyPacket},null,e).catch(()=>{}));if(l){let c=Sw(this.keyPacket,l);r=Math.min(s,a,c)}else r=s<a?s:a}catch{r=null}return j.normalizeDate(r)})}getPrimarySelfSignature(){return N(this,arguments,function*(n=new Date,e={},t=at){let r=this.keyPacket;if(r.version===6)return Il(this.directSignatures,r,x.signature.key,{key:r},n,t);let{selfCertification:o}=yield this.getPrimaryUser(n,e,t);return o})}getPrimaryUser(){return N(this,arguments,function*(n=new Date,e={},t=at){let r=this.keyPacket,o=[],s;for(let d=0;d<this.users.length;d++)try{let p=this.users[d];if(!p.userID)continue;if(e.name!==void 0&&p.userID.name!==e.name||e.email!==void 0&&p.userID.email!==e.email||e.comment!==void 0&&p.userID.comment!==e.comment)throw Error("Could not find user that matches that user ID");let g={userID:p.userID,key:r},C=yield Il(p.selfCertifications,r,x.signature.certGeneric,g,n,t);o.push({index:d,user:p,selfCertification:C})}catch(p){s=p}if(!o.length)throw s||Error("Could not find primary user");yield Promise.all(o.map(function(d){return N(this,null,function*(){return d.selfCertification.revoked||d.user.isRevoked(d.selfCertification,null,n,t)})}));let a=o.sort(function(d,p){let g=d.selfCertification,C=p.selfCertification;return C.revoked-g.revoked||g.isPrimaryUserID-C.isPrimaryUserID||g.created-C.created}).pop(),{user:l,selfCertification:c}=a;if(c.revoked||(yield l.isRevoked(c,null,n,t)))throw Error("Primary user is revoked");return a})}update(r){return N(this,arguments,function*(n,e=new Date,t=at){if(!this.hasSameFingerprintAs(n))throw Error("Primary key fingerprints must be equal to update the key");if(!this.isPrivate()&&n.isPrivate()){if(!(this.subkeys.length===n.subkeys.length&&this.subkeys.every(s=>n.subkeys.some(a=>s.hasSameFingerprintAs(a)))))throw Error("Cannot update public key with private key if subkeys mismatch");return n.update(this,t)}let o=this.clone();return yield Qp(n,o,"revocationSignatures",e,s=>wm(o.keyPacket,x.signature.keyRevocation,o,[s],null,n.keyPacket,e,t)),yield Qp(n,o,"directSignatures",e),yield Promise.all(n.users.map(s=>N(this,null,function*(){let a=o.users.filter(l=>s.userID&&s.userID.equals(l.userID)||s.userAttribute&&s.userAttribute.equals(l.userAttribute));if(a.length>0)yield Promise.all(a.map(l=>l.update(s,e,t)));else{let l=s.clone();l.mainKey=o,o.users.push(l)}}))),yield Promise.all(n.subkeys.map(s=>N(this,null,function*(){let a=o.subkeys.filter(l=>l.hasSameFingerprintAs(s));if(a.length>0)yield Promise.all(a.map(l=>l.update(s,e,t)));else{let l=s.clone();l.mainKey=o,o.subkeys.push(l)}}))),o})}getRevocationCertificate(){return N(this,arguments,function*(n=new Date,e=at){let t={key:this.keyPacket},r=yield Il(this.revocationSignatures,this.keyPacket,x.signature.keyRevocation,t,n,e),o=new Kn;o.push(r);let s=this.keyPacket.version!==6;return E0(x.armor.publicKey,o.write(),null,null,"This is a revocation certificate",s,e)})}applyRevocationCertificate(r){return N(this,arguments,function*(n,e=new Date,t=at){let o=yield A0(n),s=(yield Kn.fromBinary(o.data,Tbe,t)).findPacket(x.packet.signature);if(!s||s.signatureType!==x.signature.keyRevocation)throw Error("Could not find revocation signature packet");if(!s.issuerKeyID.equals(this.getKeyID()))throw Error("Revocation signature does not match key");try{yield s.verify(this.keyPacket,x.signature.keyRevocation,{key:this.keyPacket},e,void 0,t)}catch(l){throw j.wrapError("Could not verify revocation signature",l)}let a=this.clone();return a.revocationSignatures.push(s),a})}signPrimaryUser(o,s,a){return N(this,arguments,function*(n,e,t,r=at){let{index:l,user:c}=yield this.getPrimaryUser(e,t,r),d=yield c.certify(n,e,r),p=this.clone();return p.users[l]=d,p})}signAllUsers(r){return N(this,arguments,function*(n,e=new Date,t=at){let o=this.clone();return o.users=yield Promise.all(this.users.map(function(s){return s.certify(n,e,t)})),o})}verifyPrimaryUser(o){return N(this,arguments,function*(n,e=new Date,t,r=at){let s=this.keyPacket,{user:a}=yield this.getPrimaryUser(e,t,r);return n?yield a.verifyAllCertifications(n,e,r):[{keyID:s.getKeyID(),valid:yield a.verify(e,r).catch(()=>!1)}]})}verifyAllUsers(r){return N(this,arguments,function*(n,e=new Date,t=at){let o=this.keyPacket,s=[];return yield Promise.all(this.users.map(a=>N(this,null,function*(){let l=n?yield a.verifyAllCertifications(n,e,t):[{keyID:o.getKeyID(),valid:yield a.verify(e,t).catch(()=>!1)}];s.push(...l.map(c=>({userID:a.userID?a.userID.userID:null,userAttribute:a.userAttribute,keyID:c.keyID,valid:c.valid})))}))),s})}};["getKeyID","getFingerprint","getAlgorithmInfo","getCreationTime","hasSameFingerprintAs"].forEach(i=>{Aw.prototype[i]=v0.prototype[i]});var b0=class extends Aw{constructor(n){if(super(),this.keyPacket=null,this.revocationSignatures=[],this.directSignatures=[],this.users=[],this.subkeys=[],n&&(this.packetListToStructure(n,new Set([x.packet.secretKey,x.packet.secretSubkey])),!this.keyPacket))throw Error("Invalid key: missing public-key packet")}isPrivate(){return!1}toPublic(){return this}armor(n=at){let e=this.keyPacket.version!==6;return E0(x.armor.publicKey,this.toPacketList().write(),void 0,void 0,void 0,e,n)}},w0=class i extends b0{constructor(n){if(super(),this.packetListToStructure(n,new Set([x.packet.publicKey,x.packet.publicSubkey])),!this.keyPacket)throw Error("Invalid key: missing private-key packet")}isPrivate(){return!0}toPublic(){let n=new Kn,e=this.toPacketList();for(let t of e)switch(t.constructor.tag){case x.packet.secretKey:{let r=cc.fromSecretKeyPacket(t);n.push(r);break}case x.packet.secretSubkey:{let r=Iw.fromSecretSubkeyPacket(t);n.push(r);break}default:n.push(t)}return new b0(n)}armor(n=at){let e=this.keyPacket.version!==6;return E0(x.armor.privateKey,this.toPacketList().write(),void 0,void 0,void 0,e,n)}getDecryptionKeys(o){return N(this,arguments,function*(n,e=new Date,t={},r=at){let s=this.keyPacket,a=[],l=null;for(let d=0;d<this.subkeys.length;d++)if(!n||this.subkeys[d].getKeyID().equals(n,!0)){if(this.subkeys[d].keyPacket.isDummy()){l=l||Error("Gnu-dummy key packets cannot be used for decryption");continue}try{let p={key:s,bind:this.subkeys[d].keyPacket},g=yield Il(this.subkeys[d].bindingSignatures,s,x.signature.subkeyBinding,p,e,r);W8(this.subkeys[d].keyPacket,g,r)&&a.push(this.subkeys[d])}catch(p){l=p}}let c=yield this.getPrimarySelfSignature(e,t,r);if(n&&!s.getKeyID().equals(n,!0)||!W8(s,c,r)||(s.isDummy()?l=l||Error("Gnu-dummy key packets cannot be used for decryption"):a.push(this)),a.length===0)throw l||Error("No decryption key packets found");return a})}isDecrypted(){return this.getKeys().some(({keyPacket:n})=>n.isDecrypted())}validate(){return N(this,arguments,function*(n=at){if(!this.isPrivate())throw Error("Cannot validate a public key");let e;if(this.keyPacket.isDummy()){let t=yield this.getSigningKey(null,null,void 0,Pe(re({},n),{rejectPublicKeyAlgorithms:new Set,minRSABits:0}));t&&!t.keyPacket.isDummy()&&(e=t.keyPacket)}else e=this.keyPacket;if(e)return e.validate();{let t=this.getKeys();if(t.map(r=>r.keyPacket.isDummy()).every(Boolean))throw Error("Cannot validate an all-gnu-dummy key");return Promise.all(t.map(r=>N(this,null,function*(){return r.keyPacket.validate()})))}})}clearPrivateParams(){this.getKeys().forEach(({keyPacket:n})=>{n.isDecrypted()&&n.clearPrivateParams()})}revoke(){return N(this,arguments,function*({flag:n=x.reasonForRevocation.noReason,string:e=""}={},t=new Date,r=at){if(!this.isPrivate())throw Error("Need private key for revoking");let o={key:this.keyPacket},s=this.clone();return s.revocationSignatures.push(yield pc(o,[],this.keyPacket,{signatureType:x.signature.keyRevocation,reasonForRevocationFlag:x.write(x.reasonForRevocation,n),reasonForRevocationString:e},t,void 0,void 0,void 0,r)),s})}addSubkey(){return N(this,arguments,function*(n={}){let e=re(re({},at),n.config);if(n.passphrase)throw Error("Subkey could not be encrypted here, please encrypt whole key");if(n.rsaBits<e.minRSABits)throw Error(`rsaBits should be at least ${e.minRSABits}, got: ${n.rsaBits}`);let t=this.keyPacket;if(t.isDummy())throw Error("Cannot add subkey to gnu-dummy primary key");if(!t.isDecrypted())throw Error("Key is not decrypted");let r=t.getAlgorithmInfo();r.type=function(l){switch(x.write(x.publicKey,l)){case x.publicKey.rsaEncrypt:case x.publicKey.rsaEncryptSign:case x.publicKey.rsaSign:case x.publicKey.dsa:return"rsa";case x.publicKey.ecdsa:case x.publicKey.eddsaLegacy:return"ecc";case x.publicKey.ed25519:return"curve25519";case x.publicKey.ed448:return"curve448";default:throw Error("Unsupported algorithm")}}(r.algorithm),r.rsaBits=r.bits||4096,r.curve=r.curve||"curve25519Legacy",n=_D(n,r);let o=yield r9(n,Pe(re({},e),{v6Keys:this.keyPacket.version===6}));Eu(o,e);let s=yield o9(o,t,n,e),a=this.toPacketList();return a.push(o,s),new i(a)})}},s9=j.constructAllowedPackets([cc,Iw,I0,bw,vw,mD,Ko]);function Obe(i){for(let n of i)switch(n.constructor.tag){case x.packet.secretKey:return new w0(i);case x.packet.publicKey:return new b0(i)}throw Error("No key packet found")}function Dbe(i,n,e,t){return N(this,null,function*(){e.passphrase&&(yield i.encrypt(e.passphrase,t)),yield Promise.all(n.map(function(l,c){return N(this,null,function*(){let d=e.subkeys[c].passphrase;d&&(yield l.encrypt(d,t))})}));let r=new Kn;function o(l,c){return[c,...l.filter(d=>d!==c)]}function s(){let l={};l.keyFlags=[x.keyFlags.certifyKeys|x.keyFlags.signData];let c=o([x.symmetric.aes256,x.symmetric.aes128],t.preferredSymmetricAlgorithm);if(l.preferredSymmetricAlgorithms=c,t.aeadProtect){let d=o([x.aead.gcm,x.aead.eax,x.aead.ocb],t.preferredAEADAlgorithm);l.preferredCipherSuites=d.flatMap(p=>c.map(g=>[g,p]))}return l.preferredHashAlgorithms=o([x.hash.sha512,x.hash.sha256,x.hash.sha3_512,x.hash.sha3_256],t.preferredHashAlgorithm),l.preferredCompressionAlgorithms=o([x.compression.uncompressed,x.compression.zlib,x.compression.zip],t.preferredCompressionAlgorithm),l.features=[0],l.features[0]|=x.features.modificationDetection,t.aeadProtect&&(l.features[0]|=x.features.seipdv2),e.keyExpirationTime>0&&(l.keyExpirationTime=e.keyExpirationTime,l.keyNeverExpires=!1),l}if(r.push(i),i.version===6){let l={key:i},c=s();c.signatureType=x.signature.key;let d=yield pc(l,[],i,c,e.date,void 0,void 0,void 0,t);r.push(d)}yield Promise.all(e.userIDs.map(function(l,c){return N(this,null,function*(){let d=vw.fromObject(l),p={userID:d,key:i},g=i.version!==6?s():{};return g.signatureType=x.signature.certPositive,c===0&&(g.isPrimaryUserID=!0),{userIDPacket:d,signaturePacket:yield pc(p,[],i,g,e.date,void 0,void 0,void 0,t)}})})).then(l=>{l.forEach(({userIDPacket:c,signaturePacket:d})=>{r.push(c),r.push(d)})}),yield Promise.all(n.map(function(l,c){return N(this,null,function*(){let d=e.subkeys[c];return{secretSubkeyPacket:l,subkeySignaturePacket:yield o9(l,i,d,t)}})})).then(l=>{l.forEach(({secretSubkeyPacket:c,subkeySignaturePacket:d})=>{r.push(c),r.push(d)})});let a={key:i};return r.push(yield pc(a,[],i,{signatureType:x.signature.keyRevocation,reasonForRevocationFlag:x.reasonForRevocation.noReason,reasonForRevocationString:""},e.date,void 0,void 0,void 0,t)),e.passphrase&&i.clearPrivateParams(),yield Promise.all(n.map(function(l,c){return N(this,null,function*(){e.subkeys[c].passphrase&&l.clearPrivateParams()})})),new w0(r)})}function a9(r){return N(this,null,function*(){var o=r,{armoredKey:i,binaryKey:n,config:e}=o,t=bc(o,["armoredKey","binaryKey","config"]);if(e=re(re({},at),e),!i&&!n)throw Error("readKey: must pass options object containing `armoredKey` or `binaryKey`");if(i&&!j.isString(i))throw Error("readKey: options.armoredKey must be a string");if(n&&!j.isUint8Array(n))throw Error("readKey: options.binaryKey must be a Uint8Array");let s=Object.keys(t);if(s.length>0)throw Error("Unknown option: "+s.join(", "));let a;if(i){let{type:d,data:p}=yield A0(i);if(d!==x.armor.publicKey&&d!==x.armor.privateKey)throw Error("Armored text not of type key");a=p}else a=n;let l=yield Kn.fromBinary(a,s9,e),c=l.indexOfTag(x.packet.publicKey,x.packet.secretKey);if(c.length===0)throw Error("No key packet found");return Obe(l.slice(c[0],c[1]))})}function l9(r){return N(this,null,function*(){var o=r,{armoredKey:i,binaryKey:n,config:e}=o,t=bc(o,["armoredKey","binaryKey","config"]);if(e=re(re({},at),e),!i&&!n)throw Error("readPrivateKey: must pass options object containing `armoredKey` or `binaryKey`");if(i&&!j.isString(i))throw Error("readPrivateKey: options.armoredKey must be a string");if(n&&!j.isUint8Array(n))throw Error("readPrivateKey: options.binaryKey must be a Uint8Array");let s=Object.keys(t);if(s.length>0)throw Error("Unknown option: "+s.join(", "));let a;if(i){let{type:d,data:p}=yield A0(i);if(d!==x.armor.privateKey)throw Error("Armored text not of type private key");a=p}else a=n;let l=yield Kn.fromBinary(a,s9,e),c=l.indexOfTag(x.packet.publicKey,x.packet.secretKey);for(let d=0;d<c.length;d++){if(l[c[d]].constructor.tag===x.packet.publicKey)continue;let p=l.slice(c[d],c[d+1]);return new w0(p)}throw Error("No secret key packet found")})}var Rbe=j.constructAllowedPackets([Fu,nh,hD,bm,fD,C0,y0,Wa,Ko]),Pbe=j.constructAllowedPackets([y0]),kbe=j.constructAllowedPackets([Ko]),S0=class i{constructor(n){this.packets=n||new Kn}getEncryptionKeyIDs(){let n=[];return this.packets.filterByTag(x.packet.publicKeyEncryptedSessionKey).forEach(function(e){n.push(e.publicKeyID)}),n}getSigningKeyIDs(){let n=this.unwrapCompressed(),e=n.packets.filterByTag(x.packet.onePassSignature);return e.length>0?e.map(t=>t.issuerKeyID):n.packets.filterByTag(x.packet.signature).map(t=>t.issuerKeyID)}decrypt(s,a,l){return N(this,arguments,function*(n,e,t,r=new Date,o=at){let c=this.packets.filterByTag(x.packet.symmetricallyEncryptedData,x.packet.symEncryptedIntegrityProtectedData,x.packet.aeadEncryptedData);if(c.length===0)throw Error("No encrypted data found");let d=c[0],p=d.cipherAlgorithm,g=t||(yield this.decryptSessionKeys(n,e,p,r,o)),C=null,y=Promise.all(g.map(T=>N(this,[T],function*({algorithm:w,data:E}){if(!j.isUint8Array(E)||!d.cipherAlgorithm&&!j.isString(w))throw Error("Invalid session key for decryption.");try{let F=d.cipherAlgorithm||x.write(x.symmetric,w);yield d.decrypt(F,E,o)}catch(F){j.printDebugError(F),C=F}})));if(jO(d.encrypted),d.encrypted=null,yield y,!d.packets||!d.packets.length)throw C||Error("Decryption failed.");let v=new i(d.packets);return d.packets=new Kn,v})}decryptSessionKeys(s,a,l){return N(this,arguments,function*(n,e,t,r=new Date,o=at){let c,d=[];if(e){let p=this.packets.filterByTag(x.packet.symEncryptedSessionKey);if(p.length===0)throw Error("No symmetrically encrypted session key packet found.");yield Promise.all(e.map(function(g,C){return N(this,null,function*(){let y;y=C?yield Kn.fromBinary(p.write(),Pbe,o):p,yield Promise.all(y.map(function(v){return N(this,null,function*(){try{yield v.decrypt(g),d.push(v)}catch(w){j.printDebugError(w),w instanceof fw&&(c=w)}})}))})}))}else{if(!n)throw Error("No key or password specified.");{let p=this.packets.filterByTag(x.packet.publicKeyEncryptedSessionKey);if(p.length===0)throw Error("No public key encrypted session key packet found.");yield Promise.all(p.map(function(g){return N(this,null,function*(){yield Promise.all(n.map(function(C){return N(this,null,function*(){let y;try{y=(yield C.getDecryptionKeys(g.publicKeyID,null,void 0,o)).map(w=>w.keyPacket)}catch(w){return void(c=w)}let v=[x.symmetric.aes256,x.symmetric.aes128,x.symmetric.tripledes,x.symmetric.cast5];try{let w=yield C.getPrimarySelfSignature(r,void 0,o);w.preferredSymmetricAlgorithms&&(v=v.concat(w.preferredSymmetricAlgorithms))}catch{}yield Promise.all(y.map(function(w){return N(this,null,function*(){if(!w.isDecrypted())throw Error("Decryption key is not decrypted.");if(o.constantTimePKCS1Decryption&&(g.publicKeyAlgorithm===x.publicKey.rsaEncrypt||g.publicKeyAlgorithm===x.publicKey.rsaEncryptSign||g.publicKeyAlgorithm===x.publicKey.rsaSign||g.publicKeyAlgorithm===x.publicKey.elgamal)){let E=g.write();yield Promise.all((t?[t]:Array.from(o.constantTimePKCS1DecryptionSupportedSymmetricAlgorithms)).map(T=>N(this,null,function*(){let F=new C0;F.read(E);let G={sessionKeyAlgorithm:T,sessionKey:iD(T)};try{yield F.decrypt(w,G),d.push(F)}catch(z){j.printDebugError(z),c=z}})))}else try{yield g.decrypt(w);let E=t||g.sessionKeyAlgorithm;if(E&&!v.includes(x.write(x.symmetric,E)))throw Error("A non-preferred symmetric algorithm was used.");d.push(g)}catch(E){j.printDebugError(E),c=E}})}))})})),jO(g.encrypted),g.encrypted=null})}))}}if(d.length>0){if(d.length>1){let p=new Set;d=d.filter(g=>{let C=g.sessionKeyAlgorithm+j.uint8ArrayToString(g.sessionKey);return!p.has(C)&&(p.add(C),!0)})}return d.map(p=>({data:p.sessionKey,algorithm:p.sessionKeyAlgorithm&&x.read(x.symmetric,p.sessionKeyAlgorithm)}))}throw c||Error("Session key decryption failed.")})}getLiteralData(){let n=this.unwrapCompressed().packets.findPacket(x.packet.literalData);return n&&n.getBytes()||null}getFilename(){let n=this.unwrapCompressed().packets.findPacket(x.packet.literalData);return n&&n.getFilename()||null}getText(){let n=this.unwrapCompressed().packets.findPacket(x.packet.literalData);return n?n.getText():null}static generateSessionKey(){return N(this,arguments,function*(n=[],e=new Date,t=[],r=at){let{symmetricAlgo:o,aeadAlgo:s}=yield function(){return N(this,arguments,function*(c=[],d=new Date,p=[],g=at){let C=yield Promise.all(c.map((w,E)=>w.getPrimarySelfSignature(d,p[E],g)));if(c.length?C.every(w=>w.features&&w.features[0]&x.features.seipdv2):g.aeadProtect){let w={symmetricAlgo:x.symmetric.aes128,aeadAlgo:x.aead.ocb},E=[{symmetricAlgo:g.preferredSymmetricAlgorithm,aeadAlgo:g.preferredAEADAlgorithm},{symmetricAlgo:g.preferredSymmetricAlgorithm,aeadAlgo:x.aead.ocb},{symmetricAlgo:x.symmetric.aes128,aeadAlgo:g.preferredAEADAlgorithm}];for(let T of E)if(C.every(F=>F.preferredCipherSuites&&F.preferredCipherSuites.some(G=>G[0]===T.symmetricAlgo&&G[1]===T.aeadAlgo)))return T;return w}let y=x.symmetric.aes128,v=g.preferredSymmetricAlgorithm;return{symmetricAlgo:C.every(w=>w.preferredSymmetricAlgorithms&&w.preferredSymmetricAlgorithms.includes(v))?v:y,aeadAlgo:void 0}})}(n,e,t,r),a=x.read(x.symmetric,o),l=s?x.read(x.aead,s):void 0;return yield Promise.all(n.map(c=>c.getEncryptionKey().catch(()=>null).then(d=>{if(d&&(d.keyPacket.algorithm===x.publicKey.x25519||d.keyPacket.algorithm===x.publicKey.x448)&&!l&&!j.isAES(o))throw Error("Could not generate a session key compatible with the given `encryptionKeys`: X22519 and X448 keys can only be used to encrypt AES session keys; change `config.preferredSymmetricAlgorithm` accordingly.")}))),{data:iD(o),algorithm:a,aeadAlgorithm:l}})}encrypt(c,d,p){return N(this,arguments,function*(n,e,t,r=!1,o=[],s=new Date,a=[],l=at){if(t){if(!j.isUint8Array(t.data)||!j.isString(t.algorithm))throw Error("Invalid session key for encryption.")}else if(n&&n.length)t=yield i.generateSessionKey(n,s,a,l);else{if(!e||!e.length)throw Error("No keys, passwords, or session key provided.");t=yield i.generateSessionKey(void 0,void 0,void 0,l)}let{data:g,algorithm:C,aeadAlgorithm:y}=t,v=yield i.encryptSessionKey(g,C,y,n,e,r,o,s,a,l),w=bm.fromObject({version:y?2:1,aeadAlgorithm:y?x.write(x.aead,y):null});w.packets=this.packets;let E=x.write(x.symmetric,C);return yield w.encrypt(E,g,l),v.packets.push(w),w.packets=new Kn,v})}static encryptSessionKey(p,g,C,y,v){return N(this,arguments,function*(n,e,t,r,o,s=!1,a=[],l=new Date,c=[],d=at){let w=new Kn,E=x.write(x.symmetric,e),T=t&&x.write(x.aead,t);if(r){let F=yield Promise.all(r.map(function(G,z){return N(this,null,function*(){let X=yield G.getEncryptionKey(a[z],l,c,d),ne=C0.fromObject({version:T?6:3,encryptionKeyPacket:X.keyPacket,anonymousRecipient:s,sessionKey:n,sessionKeyAlgorithm:E});return yield ne.encrypt(X.keyPacket),delete ne.sessionKey,ne})}));w.push(...F)}if(o){let F=function(ne,Y){return N(this,null,function*(){try{return yield ne.decrypt(Y),1}catch{return 0}})},G=(ne,Y)=>ne+Y,z=function(ne,Y,se,ye){return N(this,null,function*(){let Ce=new y0(d);return Ce.sessionKey=ne,Ce.sessionKeyAlgorithm=Y,se&&(Ce.aeadAlgorithm=se),yield Ce.encrypt(ye,d),d.passwordCollisionCheck&&(yield Promise.all(o.map(we=>F(Ce,we)))).reduce(G)!==1?z(ne,Y,ye):(delete Ce.sessionKey,Ce)})},X=yield Promise.all(o.map(ne=>z(n,E,T,ne)));w.push(...X)}return new i(w)})}sign(){return N(this,arguments,function*(n=[],e=[],t=null,r=[],o=new Date,s=[],a=[],l=[],c=at){let d=new Kn,p=this.packets.findPacket(x.packet.literalData);if(!p)throw Error("No literal data packet to sign.");let g=yield q8(p,n,e,t,r,o,s,a,l,!1,c),C=g.map((y,v)=>Wa.fromSignaturePacket(y,v===0)).reverse();return d.push(...C),d.push(p),d.push(...g),new i(d)})}compress(n,e=at){if(n===x.compression.uncompressed)return this;let t=new nh(e);t.algorithm=n,t.packets=this.packets;let r=new Kn;return r.push(t),new i(r)}signDetached(){return N(this,arguments,function*(n=[],e=[],t=null,r=[],o=[],s=new Date,a=[],l=[],c=at){let d=this.packets.findPacket(x.packet.literalData);if(!d)throw Error("No literal data packet to sign.");return new ww(yield q8(d,n,e,t,r,o,s,a,l,!0,c))})}verify(r){return N(this,arguments,function*(n,e=new Date,t=at){let o=this.unwrapCompressed(),s=o.packets.filterByTag(x.packet.literalData);if(s.length!==1)throw Error("Can only verify message with one literal data packet.");Yr(o.packets.stream)&&o.packets.push(...yield _o(o.packets.stream,c=>c||[]));let a=o.packets.filterByTag(x.packet.onePassSignature).reverse(),l=o.packets.filterByTag(x.packet.signature);return a.length&&!l.length&&j.isStream(o.packets.stream)&&!Yr(o.packets.stream)?(yield Promise.all(a.map(c=>N(this,null,function*(){c.correspondingSig=new Promise((d,p)=>{c.correspondingSigResolve=d,c.correspondingSigReject=p}),c.signatureData=Mu(()=>N(this,null,function*(){return(yield c.correspondingSig).signatureData})),c.hashed=_o(yield c.hash(c.signatureType,s[0],void 0,!1)),c.hashed.catch(()=>{})}))),o.packets.stream=Lu(o.packets.stream,(c,d)=>N(this,null,function*(){let p=hd(c),g=Ca(d);try{for(let C=0;C<a.length;C++){let{value:y}=yield p.read();a[C].correspondingSigResolve(y)}yield p.readToEnd(),yield g.ready,yield g.close()}catch(C){a.forEach(y=>{y.correspondingSigReject(C)}),yield g.abort(C)}})),UO(a,s,n,e,!1,t)):UO(l,s,n,e,!1,t)})}verifyDetached(n,e,t=new Date,r=at){let o=this.unwrapCompressed().packets.filterByTag(x.packet.literalData);if(o.length!==1)throw Error("Can only verify message with one literal data packet.");return UO(n.packets.filterByTag(x.packet.signature),o,e,t,!0,r)}unwrapCompressed(){let n=this.packets.filterByTag(x.packet.compressedData);return n.length?new i(n[0].packets):this}appendSignature(t){return N(this,arguments,function*(n,e=at){yield this.packets.read(j.isUint8Array(n)?n:(yield A0(n)).data,kbe,e)})}write(){return this.packets.write()}armor(n=at){let e=this.packets[this.packets.length-1],t=e.constructor.tag===bm.tag?e.version!==2:this.packets.some(r=>r.constructor.tag===Ko.tag&&r.version!==6);return E0(x.armor.message,this.write(),null,null,null,t,n)}};function q8(p,g){return N(this,arguments,function*(i,n,e=[],t=null,r=[],o=new Date,s=[],a=[],l=[],c=!1,d=at){let C=new Kn,y=i.text===null?x.signature.binary:x.signature.text;if(yield Promise.all(n.map((v,w)=>N(this,null,function*(){let E=s[w];if(!v.isPrivate())throw Error("Need private key for signing");let T=yield v.getSigningKey(r[w],o,E,d);return pc(i,e.length?e:[v],T.keyPacket,{signatureType:y},o,a,l,c,d)}))).then(v=>{C.push(...v)}),t){let v=t.packets.filterByTag(x.packet.signature);C.push(...v)}return C})}function UO(s,a,l){return N(this,arguments,function*(i,n,e,t=new Date,r=!1,o=at){return Promise.all(i.filter(function(c){return["text","binary"].includes(x.read(x.signature,c.signatureType))}).map(function(c){return N(this,null,function*(){return function(w,E,T){return N(this,arguments,function*(d,p,g,C=new Date,y=!1,v=at){let F,G;for(let ne of g){let Y=ne.getKeys(d.issuerKeyID);if(Y.length>0){F=ne,G=Y[0];break}}let z=d instanceof Wa?d.correspondingSig:d,X={keyID:d.issuerKeyID,verified:N(this,null,function*(){if(!G)throw Error("Could not find signing key with key ID "+d.issuerKeyID.toHex());yield d.verify(G.keyPacket,d.signatureType,p[0],C,y,v);let ne=yield z;if(G.getCreationTime()>ne.created)throw Error("Key is newer than the signature");try{yield F.getSigningKey(G.getKeyID(),ne.created,void 0,v)}catch(Y){if(!v.allowInsecureVerificationWithReformattedKeys||!Y.message.match(/Signature creation time is in the future/))throw Y;yield F.getSigningKey(G.getKeyID(),C,void 0,v)}return!0}),signature:N(this,null,function*(){let ne=yield z,Y=new Kn;return ne&&Y.push(ne),new ww(Y)})};return X.signature.catch(()=>{}),X.verified.catch(()=>{}),X})}(c,n,e,t,r,o)})}))})}function c9(r){return N(this,null,function*(){var o=r,{armoredMessage:i,binaryMessage:n,config:e}=o,t=bc(o,["armoredMessage","binaryMessage","config"]);e=re(re({},at),e);let s=i||n;if(!s)throw Error("readMessage: must pass options object containing `armoredMessage` or `binaryMessage`");if(i&&!j.isString(i)&&!j.isStream(i))throw Error("readMessage: options.armoredMessage must be a string or stream");if(n&&!j.isUint8Array(n)&&!j.isStream(n))throw Error("readMessage: options.binaryMessage must be a Uint8Array or stream");let a=Object.keys(t);if(a.length>0)throw Error("Unknown option: "+a.join(", "));let l=j.isStream(s);if(i){let{type:p,data:g}=yield A0(s);if(p!==x.armor.message)throw Error("Armored text not of type message");s=g}let c=yield Kn.fromBinary(s,Rbe,e),d=new S0(c);return d.fromStream=l,d})}function d9(s){return N(this,null,function*(){var a=s,{text:i,binary:n,filename:e,date:t=new Date,format:r=i!==void 0?"utf8":"binary"}=a,o=bc(a,["text","binary","filename","date","format"]);let l=i!==void 0?i:n;if(l===void 0)throw Error("createMessage: must pass options object containing `text` or `binary`");if(i&&!j.isString(i)&&!j.isStream(i))throw Error("createMessage: options.text must be a string or stream");if(n&&!j.isUint8Array(n)&&!j.isStream(n))throw Error("createMessage: options.binary must be a Uint8Array or stream");let c=Object.keys(o);if(c.length>0)throw Error("Unknown option: "+c.join(", "));let d=j.isStream(l),p=new Fu(t);i!==void 0?p.setText(l,x.write(x.literal,r)):p.setBytes(l,x.write(x.literal,r)),e!==void 0&&p.setFilename(e);let g=new Kn;g.push(p);let C=new S0(g);return C.fromStream=d,C})}function u9(p){return N(this,null,function*(){var g=p,{userIDs:i=[],passphrase:n,type:e,curve:t,rsaBits:r=4096,keyExpirationTime:o=0,date:s=new Date,subkeys:a=[{}],format:l="armored",config:c}=g,d=bc(g,["userIDs","passphrase","type","curve","rsaBits","keyExpirationTime","date","subkeys","format","config"]);FD(c=re(re({},at),c)),e||t?(e=e||"ecc",t=t||"curve25519Legacy"):(e=c.v6Keys?"curve25519":"ecc",t="curve25519Legacy"),i=_a(i);let C=Object.keys(d);if(C.length>0)throw Error("Unknown option: "+C.join(", "));if(i.length===0&&!c.v6Keys)throw Error("UserIDs are required for V4 keys");if(e==="rsa"&&r<c.minRSABits)throw Error(`rsaBits should be at least ${c.minRSABits}, got: ${r}`);let y={userIDs:i,passphrase:n,type:e,rsaBits:r,curve:t,keyExpirationTime:o,date:s,subkeys:a};try{let{key:v,revocationCertificate:w}=yield function(E,T){return N(this,null,function*(){E.sign=!0,(E=_D(E)).subkeys=E.subkeys.map((ne,Y)=>_D(E.subkeys[Y],E));let F=[Ebe(E,T)];F=F.concat(E.subkeys.map(ne=>r9(ne,T)));let G=yield Promise.all(F),z=yield Dbe(G[0],G.slice(1),E,T),X=yield z.getRevocationCertificate(E.date,T);return z.revocationSignatures=[],{key:z,revocationCertificate:X}})}(y,c);return v.getKeys().forEach(({keyPacket:E})=>Eu(E,c)),{privateKey:Y8(v,l,c),publicKey:Y8(v.toPublic(),l,c),revocationCertificate:w}}catch(v){throw j.wrapError("Error generating keypair",v)}})}function p9(w){return N(this,null,function*(){var E=w,{message:i,encryptionKeys:n,signingKeys:e,passwords:t,sessionKey:r,format:o="armored",signature:s=null,wildcard:a=!1,signingKeyIDs:l=[],encryptionKeyIDs:c=[],date:d=new Date,signingUserIDs:p=[],encryptionUserIDs:g=[],signatureNotations:C=[],config:y}=E,v=bc(E,["message","encryptionKeys","signingKeys","passwords","sessionKey","format","signature","wildcard","signingKeyIDs","encryptionKeyIDs","date","signingUserIDs","encryptionUserIDs","signatureNotations","config"]);if(FD(y=re(re({},at),y)),f9(i),Fbe(o),n=_a(n),e=_a(e),t=_a(t),l=_a(l),c=_a(c),p=_a(p),g=_a(g),C=_a(C),v.detached)throw Error("The `detached` option has been removed from openpgp.encrypt, separately call openpgp.sign instead. Don't forget to remove the `privateKeys` option as well.");if(v.publicKeys)throw Error("The `publicKeys` option has been removed from openpgp.encrypt, pass `encryptionKeys` instead");if(v.privateKeys)throw Error("The `privateKeys` option has been removed from openpgp.encrypt, pass `signingKeys` instead");if(v.armor!==void 0)throw Error("The `armor` option has been removed from openpgp.encrypt, pass `format` instead.");let T=Object.keys(v);if(T.length>0)throw Error("Unknown option: "+T.join(", "));e||(e=[]);try{if((e.length||s)&&(i=yield i.sign(e,n,s,l,d,p,c,C,y)),i=i.compress(yield function(){return N(this,arguments,function*(G=[],z=new Date,X=[],ne=at){let Y=x.compression.uncompressed,se=ne.preferredCompressionAlgorithm;return(yield Promise.all(G.map(function(Ce,we){return N(this,null,function*(){let Be=(yield Ce.getPrimarySelfSignature(z,X[we],ne)).preferredCompressionAlgorithms;return!!Be&&Be.indexOf(se)>=0})}))).every(Boolean)?se:Y})}(n,d,g,y),y),i=yield i.encrypt(n,t,r,a,c,d,g,y),o==="object")return i;let F=o==="armored"?i.armor(y):i.write();return yield m9(F)}catch(F){throw j.wrapError("Error encrypting message",F)}})}function h9(p){return N(this,null,function*(){var g=p,{message:i,decryptionKeys:n,passwords:e,sessionKeys:t,verificationKeys:r,expectSigned:o=!1,format:s="utf8",signature:a=null,date:l=new Date,config:c}=g,d=bc(g,["message","decryptionKeys","passwords","sessionKeys","verificationKeys","expectSigned","format","signature","date","config"]);if(FD(c=re(re({},at),c)),f9(i),r=_a(r),n=_a(n),e=_a(e),t=_a(t),d.privateKeys)throw Error("The `privateKeys` option has been removed from openpgp.decrypt, pass `decryptionKeys` instead");if(d.publicKeys)throw Error("The `publicKeys` option has been removed from openpgp.decrypt, pass `verificationKeys` instead");let C=Object.keys(d);if(C.length>0)throw Error("Unknown option: "+C.join(", "));try{let y=yield i.decrypt(n,e,t,l,c);r||(r=[]);let v={};if(v.signatures=a?yield y.verifyDetached(a,r,l,c):yield y.verify(r,l,c),v.data=s==="binary"?y.getLiteralData():y.getText(),v.filename=y.getFilename(),Mbe(v,i),o){if(r.length===0)throw Error("Verification keys are required to verify message signatures");if(v.signatures.length===0)throw Error("Message is not signed");v.data=Us([v.data,Mu(()=>N(this,null,function*(){return yield j.anyPromise(v.signatures.map(w=>w.verified)),s==="binary"?new Uint8Array:""}))])}return v.data=yield m9(v.data),v}catch(y){throw j.wrapError("Error decrypting message",y)}})}function f9(i){if(!(i instanceof S0))throw Error("Parameter [message] needs to be of type Message")}function Fbe(i){if(i!=="armored"&&i!=="binary"&&i!=="object")throw Error("Unsupported format "+i)}var Lbe=Object.keys(at).length;function FD(i){let n=Object.keys(i);if(n.length!==Lbe){for(let e of n)if(at[e]===void 0)throw Error("Unknown config property: "+e)}}function _a(i){return i&&!j.isArray(i)&&(i=[i]),i}function m9(i){return N(this,null,function*(){return j.isStream(i)==="array"?_o(i):i})}function Mbe(i,n){i.data=Lu(n.packets.stream,(e,t)=>N(this,null,function*(){yield Zp(i.data,t,{preventClose:!0});let r=Ca(t);try{yield _o(e,o=>o),yield r.close()}catch(o){yield r.abort(o)}}))}function Y8(i,n,e){switch(n){case"object":return i;case"armored":return i.armor(e);case"binary":return i.write();default:throw Error("Unsupported format "+n)}}var Et=(()=>{class i extends Mi{constructor(e,t,r,o,s,a,l,c,d,p){super(e),this.httpClient=e,this.itemSelectedService=t,this.fwcUserService=r,this.fwcAuthService=o,this.messageService=s,this.fwcEventService=a,this.location=l,this.translate=c,this.refService=d,this.componentFactoryResolver=p,this.IO_MSG_TYPE="FWC_MSG",this.DEFAULT_PING_MS=5*60*1e3,this.subjectGridScroll=new Re,this.subjectGridScrollToTop=new Re,this.subjectHeaderScroll=new Re,this.endpoint=ge.settings.fwcAppURL,ff.socketDebug?localStorage.setItem("debug","engine.io-client:socket"):localStorage.removeItem("debug")}getTwitterTimeline(){let e=`${this.endpoint}/twitter/gettimeline`;return this.httpClient.get(e).pipe(Z(this.handleAPIError))}getTwitterLatest(){let e=`${this.endpoint}/twitter/searchtweets`;return this.httpClient.get(e).pipe(Z(this.handleAPIError))}ioConnect(e){let t,r,o;t=new URL(ge.settings.fwcAppURL),r=new URL(window.location.href),t.origin===r.origin?o=t.origin:o=ge.settings.fwcAppURL,this.socket=J_(o),this.socket.on("connect",()=>{ge.log("Socket connection established. ID: ",this.socket.id),this.fwcEventService.emitEvent({type:_l.EVENT_CONNECTION_ESTABLISHED}),e&&(e(),e=null)}),this.socket.on("disconnect",()=>{ge.log("Socket connection finished."),this.fwcEventService.emitEvent({type:_l.EVENT_CONNECTION_LOST})}),this.socket.on("ca:dh:created",s=>{let a={_fwcTreeAction:mn.RELOAD_TREE,containerToReload:bt.C_CA};this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("VPN.PANEL.NEW.SUCCESS_NEW_CA.SUMMARY"),detail:this.translate.instant("VPN.PANEL.NEW.SUCCESS_NEW_CA.TEXT",{caId:s.caId})}),this.itemSelectedService.setModifiedItem(a)}),this.socket.on("log:info",s=>{let a=s.replace(/(?:\r\n|\r|\n)/g,"<br>"),l={type:_l.EVENT_LOG,message:a};this.fwcEventService.emitEvent(l)}),this.socket.on("log:END",s=>{let a={type:_l.EVENT_LOG,message:"END"};this.fwcEventService.emitEvent(a)})}ioSendMsg(e,t=this.IO_MSG_TYPE){this.socket.emit(t,e)}ioGetMsgs(){return new gi(e=>{this.socket.on(this.IO_MSG_TYPE,t=>{e.next(t)})})}ioGetSocketId(){return this.socket?this.socket.id:null}ioGetSocketConnected(){return this.socket?this.socket.connected:!1}ioDisconnect(){this.socket&&this.socket.close()}doAppLogout(e){this.fwcAuthService.logout(),this.ioDisconnect(),this.clearPingInterval(),e&&localStorage.setItem(Yi.LS_RELOAD_APP,new Date().getTime().toString())}ioListenOnLogEvent(e){this.socket.on(e,t=>{this.fwcEventService.emitEvent(t)})}ioReleaseLogEvent(e){this.socket.off(e)}generatePGPKeys(){return N(this,null,function*(){let{privateKey:e,publicKey:t}=yield u9({userIDs:[{name:"FWCloud.net",email:"info@fwcloud.net"}],rsaBits:2048,format:"armored"});return{publicKeyArmored:t,privateKeyArmored:e}})}openPGPEncrypt(e,t){return N(this,null,function*(){if(!t)return e;let r=yield a9({armoredKey:t});return(yield p9({message:yield d9({text:e}),encryptionKeys:r})).toString()})}openPGPDecrypt(e,t){return N(this,null,function*(){if(!t)return e;let r=yield l9({armoredKey:t}),o=yield c9({armoredMessage:e}),{data:s}=yield h9({message:o,decryptionKeys:r});return s.toString()})}createDynamicComponentRef(e){return this.refService.getAppRef().createComponent(e)}fileUpload(e){let t=`${this.endpoint}/fileupload`,r=new FormData;return r.append("cloudImg",e),ge.log("FILE: ",e,r),this.httpClient.post(t,r).pipe(Z(this.handleAPIError))}getAppVersions(){if(ge.settings.checkUpdates===!1)return this.getAPIVersion();let e=ge.settings.installMethod===ql.pkg?`${this.endpoint}/updates/type/${ql.pkg}`:`${this.endpoint}/updates`;return this.httpClient.get(e).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIError))}getAPIVersion(){let e=`${this.endpoint}/version`;return this.httpClient.get(e).pipe(W(this.handleAPIResponseNew),W(t=>({status:t.status,data:{api:{current:t.data.version,last:t.data.version,needsUpdate:!1},websrv:{current:null,last:null,needsUpdate:!1},ui:{current:ff.VERSION,last:ff.VERSION,needsUpdate:!1},updater:{current:null,last:null,needsUpdate:!1}}})),Z(this.handleAPIError))}updateVersion(e){let t=`${this.endpoint}/updates/${e}`;return this.httpClient.put(t,{}).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIError))}setGridScroll(e){this.subjectGridScroll.next(e)}getGridScroll(){return this.subjectGridScroll.asObservable().pipe(BS(100))}setGridScrollToTop(){this.subjectGridScrollToTop.next(!0)}getGridScrollToTop(){return this.subjectGridScrollToTop.asObservable()}pingServer(){let e=`${this.endpoint}/ping`;return this.httpClient.put(e,{}).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIError))}setPingInterval(){this.clearPingInterval(),this.pingInterval=setInterval(()=>{this.pingServer().subscribe(e=>{},e=>{})},this.DEFAULT_PING_MS)}clearPingInterval(){clearInterval(this.pingInterval)}fwcAPICall(e,...t){return new Promise((o,s)=>{e||s({error:{msg:"Incorrect API call"}}),Array.isArray(t)||(t=[]),e(...t).subscribe(a=>{o(a)},a=>N(this,null,function*(){if(a&&a.status==403&&a.error){let l=a.error;if(a.error instanceof Blob&&(l=yield a.error.text(),l=JSON.parse(l)),l.fwc_confirm_token){let c=l.fwc_confirm_token;this.fwcUserService.setConfirmationToken(c),e(...t).subscribe(d=>{o(d),this.fwcUserService.setConfirmationToken(void 0)},d=>{s(d),this.fwcUserService.setConfirmationToken(void 0)})}else s(a)}else s(a)}))})}fwcAPICallObservable(e,...t){return new gi(r=>{if(!e){r.error({error:{msg:"Incorrect API call"}});return}Array.isArray(t)||(t=[]);let o=e(...t).subscribe(s=>{r.next(s),r.complete()},s=>N(this,null,function*(){if(s&&s.status==403&&s.error){let a=s.error;if(s.error instanceof Blob&&(a=yield s.error.text(),a=JSON.parse(a)),a.fwc_confirm_token){let l=a.fwc_confirm_token;this.fwcUserService.setConfirmationToken(l);let c=e(...t).subscribe(d=>{r.next(d),r.complete()},d=>{r.error(d)});return()=>{c.unsubscribe()}}else r.error(s)}else r.error(s)}));return()=>{o.unsubscribe()}})}isCommunicationErrorStr(e){let t=/SSH_ERROR\((client-authentication|client-socket|client-timeout)\)/.exec(e),r=/(ECONNREFUSED|ETIMEDOUT|EHOSTUNREACH|ECONNRESET|EPROTO|ECONNABORTED: Timeout|ApiKeyNotFound|ApiKeyNotValid|NotAllowedIP|DirNotFound)/.exec(e),o=null,s;return t?s=t[1]:r&&(s=r[1],s==="ETIMEDOUT"&&(s="ECONNABORTED: Timeout")),s&&(o=this.translate.instant("API_ERROR."+s)),o}isCommunicationError(e){let t=null,r;if(e){let o;e.msg?o=e.msg:e.message&&(o=e.message),t=this.isCommunicationErrorStr(o)}return t}static{this.\u0275fac=function(t){return new(t||i)(ce(Yt),ce(At),ce(pt),ce(Fs),ce(ci),ce(Vn),ce($d),ce(Xe),ce(Ba),ce(zd))}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Nw=(()=>{class i{constructor(){this.forwardSelection=new Re}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var v9=new WeakMap,Ww=i=>(...n)=>{let e=i(...n);return v9.set(e,!0),e},D0=i=>typeof i=="function"&&v9.has(i),g9=window.customElements!==void 0&&window.customElements.polyfillWrapFlushCallback!==void 0,KD=(i,n,e=null)=>{for(;n!==e;){let t=n.nextSibling;i.removeChild(n),n=t}},Sl={},_9={},gd=`{{lit-${String(Math.random()).slice(2)}}}`,b9=`<!--${gd}-->`,C9=new RegExp(`${gd}|${b9}`),T0="$lit$",Bw=class{constructor(n,e){this.parts=[],this.element=e;let t=[],r=[],o=document.createTreeWalker(e.content,133,null,!1),s=0,a=-1,l=0,{strings:c,values:{length:d}}=n;for(;l<d;){let p=o.nextNode();if(p!==null){if(a++,p.nodeType===1){if(p.hasAttributes()){let g=p.attributes,{length:C}=g,y=0;for(let v=0;v<C;v++)y9(g[v].name,T0)&&y++;for(;y-- >0;){let v=c[l],w=BD.exec(v)[2],E=w.toLowerCase()+T0,T=p.getAttribute(E);p.removeAttribute(E);let F=T.split(C9);this.parts.push({type:"attribute",index:a,name:w,strings:F}),l+=F.length-1}}p.tagName==="TEMPLATE"&&(r.push(p),o.currentNode=p.content)}else if(p.nodeType===3){let g=p.data;if(g.indexOf(gd)>=0){let C=p.parentNode,y=g.split(C9),v=y.length-1;for(let w=0;w<v;w++){let E,T=y[w];if(T==="")E=Nu();else{let F=BD.exec(T);F!==null&&y9(F[2],T0)&&(T=T.slice(0,F.index)+F[1]+F[2].slice(0,-T0.length)+F[3]),E=document.createTextNode(T)}C.insertBefore(E,p),this.parts.push({type:"node",index:++a})}y[v]===""?(C.insertBefore(Nu(),p),t.push(p)):p.data=y[v],l+=v}}else if(p.nodeType===8)if(p.data===gd){let g=p.parentNode;(p.previousSibling===null||a===s)&&(a++,g.insertBefore(Nu(),p)),s=a,this.parts.push({type:"node",index:a}),p.nextSibling===null?p.data="":(t.push(p),a--),l++}else{let g=-1;for(;(g=p.data.indexOf(gd,g+1))!==-1;)this.parts.push({type:"node",index:-1}),l++}}else o.currentNode=r.pop()}for(let p of t)p.parentNode.removeChild(p)}},y9=(i,n)=>{let e=i.length-n.length;return e>=0&&i.slice(e)===n},w9=i=>i.index!==-1,Nu=()=>document.createComment(""),BD=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;var R0=class{constructor(n,e,t){this.__parts=[],this.template=n,this.processor=e,this.options=t}update(n){let e=0;for(let t of this.__parts)t!==void 0&&t.setValue(n[e]),e++;for(let t of this.__parts)t!==void 0&&t.commit()}_clone(){let n=g9?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),e=[],t=this.template.parts,r=document.createTreeWalker(n,133,null,!1),o,s=0,a=0,l=r.nextNode();for(;s<t.length;)if(o=t[s],w9(o)){for(;a<o.index;)a++,l.nodeName==="TEMPLATE"&&(e.push(l),r.currentNode=l.content),(l=r.nextNode())===null&&(r.currentNode=e.pop(),l=r.nextNode());if(o.type==="node"){let c=this.processor.handleTextExpression(this.options);c.insertAfterNode(l.previousSibling),this.__parts.push(c)}else this.__parts.push(...this.processor.handleAttributeExpressions(l,o.name,o.strings,this.options));s++}else this.__parts.push(void 0),s++;return g9&&(document.adoptNode(n),customElements.upgrade(n)),n}};var Bbe=` ${gd} `,Al=class{constructor(n,e,t,r){this.strings=n,this.values=e,this.type=t,this.processor=r}getHTML(){let n=this.strings.length-1,e="",t=!1;for(let r=0;r<n;r++){let o=this.strings[r],s=o.lastIndexOf("<!--");t=(s>-1||t)&&o.indexOf("-->",s+1)===-1;let a=BD.exec(o);a===null?e+=o+(t?Bbe:b9):e+=o.substr(0,a.index)+a[1]+a[2]+T0+a[3]+gd}return e+=this.strings[n]}getTemplateElement(){let n=document.createElement("template");return n.innerHTML=this.getHTML(),n}};var $D=i=>i===null||!(typeof i=="object"||typeof i=="function"),S9=i=>Array.isArray(i)||!(!i||!i[Symbol.iterator]),Uw=class{constructor(n,e,t){this.dirty=!0,this.element=n,this.name=e,this.strings=t,this.parts=[];for(let r=0;r<t.length-1;r++)this.parts[r]=this._createPart()}_createPart(){return new Vu(this)}_getValue(){let n=this.strings,e=n.length-1,t="";for(let r=0;r<e;r++){t+=n[r];let o=this.parts[r];if(o!==void 0){let s=o.value;if($D(s)||!S9(s))t+=typeof s=="string"?s:String(s);else for(let a of s)t+=typeof a=="string"?a:String(a)}}return t+=n[e]}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}},Vu=class{constructor(n){this.value=void 0,this.committer=n}setValue(n){n!==Sl&&(!$D(n)||n!==this.value)&&(this.value=n,D0(n)||(this.committer.dirty=!0))}commit(){for(;D0(this.value);){let n=this.value;this.value=Sl,n(this)}this.value!==Sl&&this.committer.commit()}},jw=class i{constructor(n){this.value=void 0,this.__pendingValue=void 0,this.options=n}appendInto(n){this.startNode=n.appendChild(Nu()),this.endNode=n.appendChild(Nu())}insertAfterNode(n){this.startNode=n,this.endNode=n.nextSibling}appendIntoPart(n){n.__insert(this.startNode=Nu()),n.__insert(this.endNode=Nu())}insertAfterPart(n){n.__insert(this.startNode=Nu()),this.endNode=n.endNode,n.endNode=this.startNode}setValue(n){this.__pendingValue=n}commit(){for(;D0(this.__pendingValue);){let e=this.__pendingValue;this.__pendingValue=Sl,e(this)}let n=this.__pendingValue;n!==Sl&&($D(n)?n!==this.value&&this.__commitText(n):n instanceof Al?this.__commitTemplateResult(n):n instanceof Node?this.__commitNode(n):S9(n)?this.__commitIterable(n):n===_9?(this.value=_9,this.clear()):this.__commitText(n))}__insert(n){this.endNode.parentNode.insertBefore(n,this.endNode)}__commitNode(n){this.value!==n&&(this.clear(),this.__insert(n),this.value=n)}__commitText(n){let e=this.startNode.nextSibling,t=typeof(n=n??"")=="string"?n:String(n);e===this.endNode.previousSibling&&e.nodeType===3?e.data=t:this.__commitNode(document.createTextNode(t)),this.value=n}__commitTemplateResult(n){let e=this.options.templateFactory(n);if(this.value instanceof R0&&this.value.template===e)this.value.update(n.values);else{let t=new R0(e,n.processor,this.options),r=t._clone();t.update(n.values),this.__commitNode(r),this.value=t}}__commitIterable(n){Array.isArray(this.value)||(this.value=[],this.clear());let e=this.value,t,r=0;for(let o of n)(t=e[r])===void 0&&(t=new i(this.options),e.push(t),r===0?t.appendIntoPart(this):t.insertAfterPart(e[r-1])),t.setValue(o),t.commit(),r++;r<e.length&&(e.length=r,this.clear(t&&t.endNode))}clear(n=this.startNode){KD(this.startNode.parentNode,n.nextSibling,this.endNode)}},UD=class{constructor(n,e,t){if(this.value=void 0,this.__pendingValue=void 0,t.length!==2||t[0]!==""||t[1]!=="")throw new Error("Boolean attributes can only contain a single expression");this.element=n,this.name=e,this.strings=t}setValue(n){this.__pendingValue=n}commit(){for(;D0(this.__pendingValue);){let e=this.__pendingValue;this.__pendingValue=Sl,e(this)}if(this.__pendingValue===Sl)return;let n=!!this.__pendingValue;this.value!==n&&(n?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=n),this.__pendingValue=Sl}},jD=class extends Uw{constructor(n,e,t){super(n,e,t),this.single=t.length===2&&t[0]===""&&t[1]===""}_createPart(){return new oh(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}},oh=class extends Vu{},A9=!1;try{let i={get capture(){return A9=!0,!1}};window.addEventListener("test",i,i),window.removeEventListener("test",i,i)}catch{}var HD=class{constructor(n,e,t){this.value=void 0,this.__pendingValue=void 0,this.element=n,this.eventName=e,this.eventContext=t,this.__boundHandleEvent=r=>this.handleEvent(r)}setValue(n){this.__pendingValue=n}commit(){for(;D0(this.__pendingValue);){let o=this.__pendingValue;this.__pendingValue=Sl,o(this)}if(this.__pendingValue===Sl)return;let n=this.__pendingValue,e=this.value,t=n==null||e!=null&&(n.capture!==e.capture||n.once!==e.once||n.passive!==e.passive),r=n!=null&&(e==null||t);t&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),r&&(this.__options=Ube(n),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=n,this.__pendingValue=Sl}handleEvent(n){typeof this.value=="function"?this.value.call(this.eventContext||this.element,n):this.value.handleEvent(n)}},Ube=i=>i&&(A9?{capture:i.capture,passive:i.passive,once:i.once}:i.capture);var GD=class{handleAttributeExpressions(n,e,t,r){let o=e[0];return o==="."?new jD(n,e.slice(1),t).parts:o==="@"?[new HD(n,e.slice(1),r.eventContext)]:o==="?"?[new UD(n,e.slice(1),t)]:new Uw(n,e,t).parts}handleTextExpression(n){return new jw(n)}},sh=new GD;function jbe(i){let n=P0.get(i.type);n===void 0&&(n={stringsArray:new WeakMap,keyString:new Map},P0.set(i.type,n));let e=n.stringsArray.get(i.strings);if(e!==void 0)return e;let t=i.strings.join(gd);return(e=n.keyString.get(t))===void 0&&(e=new Bw(i,i.getTemplateElement()),n.keyString.set(t,e)),n.stringsArray.set(i.strings,e),e}var P0=new Map,Sm=new WeakMap,Hbe=(i,n,e)=>{let t=Sm.get(n);t===void 0&&(KD(n,n.firstChild),Sm.set(n,t=new jw(Object.assign({templateFactory:jbe},e))),t.appendInto(n)),t.setValue(i),t.commit()};(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.1.2");var Ke=(i,...n)=>new Al(i,n,"html",sh),qD=133;function E9(i,n){let{element:{content:e},parts:t}=i,r=document.createTreeWalker(e,qD,null,!1),o=O0(t),s=t[o],a=-1,l=0,c=[],d=null;for(;r.nextNode();){a++;let p=r.currentNode;for(p.previousSibling===d&&(d=null),n.has(p)&&(c.push(p),d===null&&(d=p)),d!==null&&l++;s!==void 0&&s.index===a;)s.index=d!==null?-1:s.index-l,s=t[o=O0(t,o)]}c.forEach(p=>p.parentNode.removeChild(p))}var Gbe=i=>{let n=i.nodeType===11?0:1,e=document.createTreeWalker(i,qD,null,!1);for(;e.nextNode();)n++;return n},O0=(i,n=-1)=>{for(let e=n+1;e<i.length;e++){let t=i[e];if(w9(t))return e}return-1};function zbe(i,n,e=null){let{element:{content:t},parts:r}=i;if(e==null){t.appendChild(n);return}let o=document.createTreeWalker(t,qD,null,!1),s=O0(r),a=0,l=-1;for(;o.nextNode();)for(l++,o.currentNode===e&&(a=Gbe(n),e.parentNode.insertBefore(n,e));s!==-1&&r[s].index===l;){if(a>0){for(;s!==-1;)r[s].index+=a,s=O0(r,s);return}s=O0(r,s)}}var x9=(i,n)=>`${i}--${n}`,Hw=!0;typeof window.ShadyCSS>"u"?Hw=!1:typeof window.ShadyCSS.prepareTemplateDom>"u"&&(console.warn("Incompatible ShadyCSS version detected. Please update to at least @webcomponents/webcomponentsjs@2.0.2 and @webcomponents/shadycss@1.3.1."),Hw=!1);var Wbe=i=>n=>{let e=x9(n.type,i),t=P0.get(e);t===void 0&&(t={stringsArray:new WeakMap,keyString:new Map},P0.set(e,t));let r=t.stringsArray.get(n.strings);if(r!==void 0)return r;let o=n.strings.join(gd);if((r=t.keyString.get(o))===void 0){let s=n.getTemplateElement();Hw&&window.ShadyCSS.prepareTemplateDom(s,i),r=new Bw(n,s),t.keyString.set(o,r)}return t.stringsArray.set(n.strings,r),r},Kbe=["html","svg"],$be=i=>{Kbe.forEach(n=>{let e=P0.get(x9(n,i));e!==void 0&&e.keyString.forEach(t=>{let{element:{content:r}}=t,o=new Set;Array.from(r.querySelectorAll("style")).forEach(s=>{o.add(s)}),E9(t,o)})})},T9=new Set,qbe=(i,n,e)=>{T9.add(i);let t=e?e.element:document.createElement("template"),r=n.querySelectorAll("style"),{length:o}=r;if(o===0){window.ShadyCSS.prepareTemplateStyles(t,i);return}let s=document.createElement("style");for(let c=0;c<o;c++){let d=r[c];d.parentNode.removeChild(d),s.textContent+=d.textContent}$be(i);let a=t.content;e?zbe(e,s,a.firstChild):a.insertBefore(s,a.firstChild),window.ShadyCSS.prepareTemplateStyles(t,i);let l=a.querySelector("style");if(window.ShadyCSS.nativeShadow&&l!==null)n.insertBefore(l.cloneNode(!0),n.firstChild);else if(e){a.insertBefore(s,a.firstChild);let c=new Set;c.add(s),E9(e,c)}},Ybe=(i,n,e)=>{if(!e||typeof e!="object"||!e.scopeName)throw new Error("The `scopeName` option is required.");let t=e.scopeName,r=Sm.has(n),o=Hw&&n.nodeType===11&&!!n.host,s=o&&!T9.has(t),a=s?document.createDocumentFragment():n;if(Hbe(i,a,Object.assign({templateFactory:Wbe(t)},e)),s){let l=Sm.get(a);Sm.delete(a);let c=l.value instanceof R0?l.value.template:void 0;qbe(t,a,c),KD(n,n.firstChild),n.appendChild(a),Sm.set(n,l)}!r&&o&&window.ShadyCSS.styleElement(n.host)};var Jbe;window.JSCompiler_renameProperty=(i,n)=>i;var zD={toAttribute(i,n){switch(n){case Boolean:return i?"":null;case Object:case Array:return i==null?i:JSON.stringify(i);default:return i}},fromAttribute(i,n){switch(n){case Boolean:return i!==null;case Number:return i===null?null:Number(i);case Object:case Array:return JSON.parse(i);default:return i}}},O9=(i,n)=>n!==i&&(n===n||i===i),Vw={attribute:!0,type:String,converter:zD,reflect:!1,hasChanged:O9},Xbe=Promise.resolve(!0),LD=1,MD=4,ND=8,VD=16,I9=32,WD="finalized",Gw=class extends HTMLElement{constructor(){super(),this._updateState=0,this._instanceProperties=void 0,this._updatePromise=Xbe,this._hasConnectedResolver=void 0,this._changedProperties=new Map,this._reflectingProperties=void 0,this.initialize()}static get observedAttributes(){this.finalize();let n=[];return this._classProperties.forEach((e,t)=>{let r=this._attributeNameForProperty(t,e);r!==void 0&&(this._attributeToPropertyMap.set(r,t),n.push(r))}),n}static _ensureClassProperties(){if(!this.hasOwnProperty(window.JSCompiler_renameProperty("_classProperties",this))){this._classProperties=new Map;let n=Object.getPrototypeOf(this)._classProperties;n!==void 0&&n.forEach((e,t)=>this._classProperties.set(t,e))}}static createProperty(n,e=Vw){if(this._ensureClassProperties(),this._classProperties.set(n,e),e.noAccessor||this.prototype.hasOwnProperty(n))return;let t=typeof n=="symbol"?Symbol():`__${n}`;Object.defineProperty(this.prototype,n,{get(){return this[t]},set(r){let o=this[n];this[t]=r,this._requestUpdate(n,o)},configurable:!0,enumerable:!0})}static finalize(){let n=Object.getPrototypeOf(this);if(n.hasOwnProperty(WD)||n.finalize(),this[WD]=!0,this._ensureClassProperties(),this._attributeToPropertyMap=new Map,this.hasOwnProperty(window.JSCompiler_renameProperty("properties",this))){let e=this.properties,t=[...Object.getOwnPropertyNames(e),...typeof Object.getOwnPropertySymbols=="function"?Object.getOwnPropertySymbols(e):[]];for(let r of t)this.createProperty(r,e[r])}}static _attributeNameForProperty(n,e){let t=e.attribute;return t===!1?void 0:typeof t=="string"?t:typeof n=="string"?n.toLowerCase():void 0}static _valueHasChanged(n,e,t=O9){return t(n,e)}static _propertyValueFromAttribute(n,e){let t=e.type,r=e.converter||zD,o=typeof r=="function"?r:r.fromAttribute;return o?o(n,t):n}static _propertyValueToAttribute(n,e){if(e.reflect===void 0)return;let t=e.type,r=e.converter;return(r&&r.toAttribute||zD.toAttribute)(n,t)}initialize(){this._saveInstanceProperties(),this._requestUpdate()}_saveInstanceProperties(){this.constructor._classProperties.forEach((n,e)=>{if(this.hasOwnProperty(e)){let t=this[e];delete this[e],this._instanceProperties||(this._instanceProperties=new Map),this._instanceProperties.set(e,t)}})}_applyInstanceProperties(){this._instanceProperties.forEach((n,e)=>this[e]=n),this._instanceProperties=void 0}connectedCallback(){this._updateState=this._updateState|I9,this._hasConnectedResolver&&(this._hasConnectedResolver(),this._hasConnectedResolver=void 0)}disconnectedCallback(){}attributeChangedCallback(n,e,t){e!==t&&this._attributeToProperty(n,t)}_propertyToAttribute(n,e,t=Vw){let r=this.constructor,o=r._attributeNameForProperty(n,t);if(o!==void 0){let s=r._propertyValueToAttribute(e,t);if(s===void 0)return;this._updateState=this._updateState|ND,s==null?this.removeAttribute(o):this.setAttribute(o,s),this._updateState=this._updateState&~ND}}_attributeToProperty(n,e){if(this._updateState&ND)return;let t=this.constructor,r=t._attributeToPropertyMap.get(n);if(r!==void 0){let o=t._classProperties.get(r)||Vw;this._updateState=this._updateState|VD,this[r]=t._propertyValueFromAttribute(e,o),this._updateState=this._updateState&~VD}}_requestUpdate(n,e){let t=!0;if(n!==void 0){let r=this.constructor,o=r._classProperties.get(n)||Vw;r._valueHasChanged(this[n],e,o.hasChanged)?(this._changedProperties.has(n)||this._changedProperties.set(n,e),o.reflect===!0&&!(this._updateState&VD)&&(this._reflectingProperties===void 0&&(this._reflectingProperties=new Map),this._reflectingProperties.set(n,o))):t=!1}!this._hasRequestedUpdate&&t&&this._enqueueUpdate()}requestUpdate(n,e){return this._requestUpdate(n,e),this.updateComplete}_enqueueUpdate(){return N(this,null,function*(){this._updateState=this._updateState|MD;let n,e,t=this._updatePromise;this._updatePromise=new Promise((r,o)=>{n=r,e=o});try{yield t}catch{}this._hasConnected||(yield new Promise(r=>this._hasConnectedResolver=r));try{let r=this.performUpdate();r!=null&&(yield r)}catch(r){e(r)}n(!this._hasRequestedUpdate)})}get _hasConnected(){return this._updateState&I9}get _hasRequestedUpdate(){return this._updateState&MD}get hasUpdated(){return this._updateState&LD}performUpdate(){this._instanceProperties&&this._applyInstanceProperties();let n=!1,e=this._changedProperties;try{(n=this.shouldUpdate(e))&&this.update(e)}catch(t){throw n=!1,t}finally{this._markUpdated()}n&&(this._updateState&LD||(this._updateState=this._updateState|LD,this.firstUpdated(e)),this.updated(e))}_markUpdated(){this._changedProperties=new Map,this._updateState=this._updateState&~MD}get updateComplete(){return this._getUpdateComplete()}_getUpdateComplete(){return this._updatePromise}shouldUpdate(n){return!0}update(n){this._reflectingProperties!==void 0&&this._reflectingProperties.size>0&&(this._reflectingProperties.forEach((e,t)=>this._propertyToAttribute(t,this[t],e)),this._reflectingProperties=void 0)}updated(n){}firstUpdated(n){}};Gw[Jbe=WD]=!0;var D9="adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,R9=Symbol(),zw=class{constructor(n,e){if(e!==R9)throw new Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=n}get styleSheet(){return this._styleSheet===void 0&&(D9?(this._styleSheet=new CSSStyleSheet,this._styleSheet.replaceSync(this.cssText)):this._styleSheet=null),this._styleSheet}toString(){return this.cssText}},Qbe=i=>{if(i instanceof zw)return i.cssText;if(typeof i=="number")return i;throw new Error(`Value passed to 'css' function must be a 'css' function result: ${i}. Use 'unsafeCSS' to pass non-literal values, but
            take care to ensure page security.`)},De=(i,...n)=>{let e=n.reduce((t,r,o)=>t+Qbe(r)+i[o+1],i[0]);return new zw(e,R9)};(window.litElementVersions||(window.litElementVersions=[])).push("2.2.1");function P9(i,n=[]){for(let e=0,t=i.length;e<t;e++){let r=i[e];Array.isArray(r)?P9(r,n):n.push(r)}return n}var Zbe=i=>i.flat?i.flat(1/0):P9(i),Am=(()=>{class i extends Gw{static finalize(){super.finalize.call(this),this._styles=this.hasOwnProperty(window.JSCompiler_renameProperty("styles",this))?this._getUniqueStyles():this._styles||[]}static _getUniqueStyles(){let e=this.styles,t=[];return Array.isArray(e)?Zbe(e).reduceRight((r,o)=>(r.add(o),r),new Set).forEach(r=>t.unshift(r)):e&&t.push(e),t}initialize(){super.initialize(),this.renderRoot=this.createRenderRoot(),window.ShadowRoot&&this.renderRoot instanceof window.ShadowRoot&&this.adoptStyles()}createRenderRoot(){return this.attachShadow({mode:"open"})}adoptStyles(){let e=this.constructor._styles;e.length!==0&&(window.ShadyCSS!==void 0&&!window.ShadyCSS.nativeShadow?window.ShadyCSS.ScopingShim.prepareAdoptedCssText(e.map(t=>t.cssText),this.localName):D9?this.renderRoot.adoptedStyleSheets=e.map(t=>t.styleSheet):this._needsShimAdoptedStyleSheets=!0)}connectedCallback(){super.connectedCallback(),this.hasUpdated&&window.ShadyCSS!==void 0&&window.ShadyCSS.styleElement(this)}update(e){super.update(e);let t=this.render();t instanceof Al&&this.constructor.render(t,this.renderRoot,{scopeName:this.localName,eventContext:this}),this._needsShimAdoptedStyleSheets&&(this._needsShimAdoptedStyleSheets=!1,this.constructor._styles.forEach(r=>{let o=document.createElement("style");o.textContent=r.cssText,this.renderRoot.appendChild(o)}))}render(){}}return i.finalized=!0,i.render=Ybe,i})();var YD=new WeakMap,wn=Ww(i=>n=>{if(!(n instanceof Vu)||n instanceof oh||n.committer.name!=="class"||n.committer.parts.length>1)throw new Error("The `classMap` directive must be used in the `class` attribute and must be the only part in the attribute.");let{committer:e}=n,{element:t}=e;YD.has(n)||(t.className=e.strings.join(" "));let{classList:r}=t,o=YD.get(n);for(let s in o)s in i||r.remove(s);for(let s in i){let a=i[s];(!o||a!==o[s])&&r[a?"add":"remove"](s)}YD.set(n,i)});var JD=new WeakMap,Ji=Ww(i=>n=>{if(!(n instanceof Vu)||n instanceof oh||n.committer.name!=="style"||n.committer.parts.length>1)throw new Error("The `styleMap` directive must be used in the style attribute and must be the only part in the attribute.");let{committer:e}=n,{style:t}=e.element;JD.has(n)||(t.cssText=e.strings.join(" "));let r=JD.get(n);for(let o in r)o in i||(o.indexOf("-")===-1?t[o]=null:t.removeProperty(o));for(let o in i)o.indexOf("-")===-1?t[o]=i[o]:t.setProperty(o,i[o]);JD.set(n,i)});var XD=class{constructor(n,e,t){this._currentDelay=this._isNumber(e)?e:0,this._currentDuration=this._isNumber(t)?t:1e3,this._currentTarget=n,this._objStateList=[],this._isDestroyed=!1,this._animationInterval=null,this._animationTick=10,this._numSteps=Math.floor(this._currentDuration/this._animationTick)}destroy(){this._isDestroyed=!0,this._removeAnimationInterval()}get delay(){return this._currentDelay}set delay(n){this._isNumber(n)&&this._currentDelay!==n&&(this._currentDelay=n)}get duration(){return this._currentDuration}set duration(n){this._isNumber(n)&&this._currentDuration!==n&&(this._currentDuration=n,this._numSteps=Math.floor(this._currentDuration/this._animationTick))}animate(n,e,t,r){if(!this._isObject(n)&&!this._isArray(n))return Promise.resolve();{let o=this;return new Promise(s=>{o._removeAnimationInterval(),o._currentDelay=e,setTimeout(function(){t&&(o._currentDuration=t),o._numSteps=Math.floor(o._currentDuration/o._animationTick);let a=o._convertToArray(n);o._updateState(a);let l=0;o._animationInterval=setInterval(function(){let c=[];++l<=o._numSteps&&o._objStateList.forEach(g=>c.push({element:g.element,values:o._updateCurrentValue(g.props,g.values,l)}));let d=!0,p=l===o._numSteps;r&&(p&&o._removeAnimationInterval(),d=r([...c],p)),d===!1?(o._removeAnimationInterval(),s(),o._reverse(c,t/4,r)):(p||o._isDestroyed)&&(o._removeAnimationInterval(),o._updateState(c),s())},o._animationTick)},o._currentDelay)})}}_reverse(n,e,t){let r=this;return new Promise(o=>{r._removeAnimationInterval(),e&&(r._currentDuration=e),r._numSteps=Math.floor(r._currentDuration/r._animationTick);let s=r._convertToArray(n);r._updateState(s,!0);let a=0;r._animationInterval=setInterval(function(){let l=[];++a<=r._numSteps&&r._objStateList.forEach(d=>l.push({element:d.element,values:r._updateCurrentValue(d.props,d.values,a)}));let c=a===r._numSteps;t&&(c&&r._removeAnimationInterval(),t([...l],c,!0)),c&&(r._removeAnimationInterval(),r._updateState(l),o())},r._animationTick)})}_getCurrentValue(n){return this.animationSpeed?this.animationSpeed(n):n}_removeAnimationInterval(){this._animationInterval&&clearInterval(this._animationInterval),this._animationInterval=null}_updateCurrentValue(n,e,t){let r={};return n.forEach(o=>r[o]=t<this._numSteps?e[o].value+this._getCurrentValue(e[o].step*t):e[o].end),r}_getStartingValues(){let n=[];return this._objStateList.forEach(e=>n.push(e.values)),n}_updateState(n,e){let t=this._getStartingValues();this._objStateList.length=0,n.forEach((r,o)=>{let s=this._getObjProperties(r.values),a={};r.current?a=r.current:r.element&&this._isElement(r.element)&&(a=getComputedStyle(r.element));let l={element:r.element,props:s,values:{}};s.forEach(c=>{let d=e?t[o][c].value:r.values[c],p=this._getNumValue(a[c]);l.values[c]={end:this.inverseFunction?this.inverseFunction(d):d,step:(d-p)/this._numSteps,value:p}}),this._objStateList.push(l)})}_convertToArray(n){return this._isObject(n)?[n]:this._isArray(n)?n:[]}_createEmptyArray(n){return new Array(n).fill({})}_getNumValue(n){return this._isString(n)?parseFloat(n):this._isNumber(n)?n:0}_getObjProperties(n){return Object.keys(n)}_isArray(n){return n?Array.isArray(n):!1}_isElement(n){return n?n instanceof Element:!1}_isFieldAvailable(n){return n!==void 0}_isNumber(n){return n!==void 0&&!Number.isNaN(n)?typeof n=="number"||n instanceof Number:!1}_isObject(n){return n?typeof n=="object"&&n!==null&&!Array.isArray(n):!1}_isString(n){return n?typeof n=="string"||n instanceof String:!1}getTarget(){return this._currentTarget}isActive(){return this._animationInterval!==null}isAnimated(n){return this._isArray(this._currentTarget)?this._currentTarget.filter(e=>e===n).length>0:this._currentTarget===n}},Lo=XD;var QD=class{_calcMargin(n){return n?{top:getComputedStyle(n)["margin-top"]?parseInt(getComputedStyle(n)["margin-top"],10):getComputedStyle(n).marginTop?parseInt(getComputedStyle(n).marginTop,10):0,right:getComputedStyle(n)["margin-right"]?parseInt(getComputedStyle(n)["margin-right"],10):getComputedStyle(n).marginRight?parseInt(getComputedStyle(n).marginRight,10):0,bottom:getComputedStyle(n)["margin-bottom"]?parseInt(getComputedStyle(n)["margin-bottom"],10):getComputedStyle(n).marginBottom?parseInt(getComputedStyle(n).marginBottom,10):0,left:getComputedStyle(n)["margin-left"]?parseInt(getComputedStyle(n)["margin-left"],10):getComputedStyle(n).marginLeft?parseInt(getComputedStyle(n).marginLeft,10):0}:{top:0,right:0,bottom:0,left:0}}checkHit(n,e,t){return n>=t.left&&n<=t.right&&e>=t.top&&e<=t.bottom}checkNumInRange(n,e,t){return n>e-t&&n<e+t}colorToRgb(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+6*(e-n)*t:t<.5?e:t<2/3?n+(e-n)*(2/3-t)*6:n}convertRgbaToHex(n){let e="#";return this.convertRgbaToNum(n,!0).forEach(t=>{t=t.toString(16),e+=t.length===1?"0"+t:t}),e}convertRgbaToHsl(n){let e,t,r=this.convertRgbaToNum(n,!0),o=r[0]/255,s=r[1]/255,a=r[2]/255,l=Math.max(o,s,a),c=Math.min(o,s,a),d=(l+c)/2;if(l===c)e=t=0;else{let p=l-c;switch(t=d>.5?p/(2-l-c):p/(l+c),l){case o:e=(s-a)/p+(s<a?6:0);break;case s:e=(a-o)/p+2;break;case a:e=(o-s)/p+4;break;default:this._defaultFunc()}e/=6}return(e=Math.round(360*e))<0&&(e+=360),t=Math.floor(Math.round(100*t)),d=Math.floor(Math.round(100*d)),e+"\xB0, "+t+"%, "+d+"%"}convertRgbaToNum(n,e){let t=(n=(n=n.replace(/[.*+?^${}()|[\]\\]/g,"")).replace("rgba","").replace("rgb","")).split(",").map(r=>parseInt(r));return e&&(t=t.filter((r,o)=>o<3)),t.forEach(r=>this.setNumInRange(r,0,255)),t}convertHexToRgba(n){let e=0,t=0,r=0;return(n=n.replace(/[.*+?^${}()|[\]\\]/g,"")).length===4?(e=+("0x"+n[1]+n[1]),t=+("0x"+n[2]+n[2]),r=+("0x"+n[3]+n[3])):n.length===7&&(e=+("0x"+n[1]+n[2]),t=+("0x"+n[3]+n[4]),r=+("0x"+n[5]+n[6])),"rgba("+parseInt(e,10).toString()+","+parseInt(t,10).toString()+","+parseInt(r,10).toString()+",1)"}convertHslToRgba(n){let e=(n=(n=n.replace(/[.*+?^${}()|[\]\\]/g,"")).replace("\xB0","").replace("%","").replace("%","")).split(",").filter((c,d)=>d<3).map(c=>parseInt(c)),t=e[0],r=e[1]/100,o=e[2]/100,s=0,a=0,l=0;if(r===0)s=a=l=o;else{let c=o<.5?o*(1+r):o+r-o*r,d=2*o-c;s=this.colorToRgb(d,c,t+1/3),a=this.colorToRgb(d,c,t),l=this.colorToRgb(d,c,t-1/3)}return"rgba("+(s=Math.round(255*s))+", "+(a=Math.round(255*a))+", "+(l=Math.round(255*l))+", 1)"}convertValue(n,e){let t=n??null;if(e){let r=e.locales||"en-US",o=e.options||{};this.isNumber(t)?t=Intl.NumberFormat(r,o).format(t):this.isDate(t)?t=Intl.DateTimeFormat(r,o).format(t):t=this.convertValueToString(n)}else t=this.convertValueToString(n);return t}convertValueToString(n){return n!=null?n.toString():""}_defaultFunc(){}_escapeRegExp(n){return n.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&")}getAngle(n,e,t){return t?Math.atan2(e.y-n.y,e.x-n.x):180*Math.atan2(e.y-n.y,e.x-n.x)/Math.PI}getBorderWidth(n){return n?{top:getComputedStyle(n)["border-top-width"]?parseInt(getComputedStyle(n)["border-top-width"],10):getComputedStyle(n).borderTopWidth?parseInt(getComputedStyle(n).borderTopWidth,10):0,right:getComputedStyle(n)["border-right-width"]?parseInt(getComputedStyle(n)["border-right-width"],10):getComputedStyle(n).borderRightWidth?parseInt(getComputedStyle(n).borderRightWidth,10):0,bottom:getComputedStyle(n)["border-bottom-width"]?parseInt(getComputedStyle(n)["border-bottom-width"],10):getComputedStyle(n).borderTopWidth?parseInt(getComputedStyle(n).borderTopWidth,10):0,left:getComputedStyle(n)["border-left-width"]?parseInt(getComputedStyle(n)["border-left-width"],10):getComputedStyle(n).borderLeftWidth?parseInt(getComputedStyle(n).borderLeftWidth,10):0}:{top:0,right:0,bottom:0,left:0}}getClientPos(n,e){let t=this.getShiftPos(),r=this.getMousePos(n);r.x-=t.x,r.y-=t.y;let o=this.getPageRect(e);return{x:r.x-o.left,y:r.y-o.top}}getClientRect(n,e){let t=this.getPageRect(n),r=this.getPageRect(e);return{top:r.top-t.top,right:r.left+r.width,bottom:r.top+r.height,left:r.left-t.left,height:r.height,width:r.width,x:r.x-t.x,y:r.y-t.y}}getColorAtPosition(n,e,t){if(n){let r=n.getImageData(e,t,1,1).data;return"rgba("+r[0]+","+r[1]+","+r[2]+",1)"}return""}getDateFromString(n){if(this.isString(n)){let e=Date.parse(n);if(n.slice(-1)==="Z"&&!isNaN(e))return new Date(e)}else if(this.isDate(n))return n;return null}getDateNum(n){if(this.isDate(n)){let e=n.getFullYear(),t=n.getMonth(),r=n.getDate();return new Date(e,t,r,0,0,0,0).valueOf()}return 0}getMargin(n){return n?this._calcMargin(n):{top:0,right:0,bottom:0,left:0}}getMouseOffsetPos(n,e){let t=this.getShiftPos(),r=this.getMousePos(n);r.x-=t.x,r.y-=t.y;let o=this.getPageRect(e);return{x:r.x-o.left,y:r.y-o.top}}getMousePos(n){return{x:n.pageX?n.pageX:n.originalEvent?n.originalEvent.pageX:0,y:n.pageY?n.pageY:n.originalEvent?n.originalEvent.pageY:0}}getObjFromListById(n,e){let t=null;if(n){for(let r=0;r<n.length;r++)if(this.isObject(n[r])&&n[r].id===e){t=n[r];break}}return t}getObjFromListByName(n,e,t){let r=null;if(n&&e){for(let o=0;o<n.length;o++)if(this.isObject(n[o])&&n[o][e]===t){r=n[o];break}}return r}getPadding(n){return n?{top:getComputedStyle(n)["padding-top"]?parseInt(getComputedStyle(n)["padding-top"],10):getComputedStyle(n).paddingTop?parseInt(getComputedStyle(n).paddingTop,10):0,right:getComputedStyle(n)["padding-right"]?parseInt(getComputedStyle(n)["padding-right"],10):getComputedStyle(n).paddingRight?parseInt(getComputedStyle(n).paddingRight,10):0,bottom:getComputedStyle(n)["padding-bottom"]?parseInt(getComputedStyle(n)["padding-bottom"],10):getComputedStyle(n).paddingBottom?parseInt(getComputedStyle(n).paddingBottom,10):0,left:getComputedStyle(n)["padding-left"]?parseInt(getComputedStyle(n)["padding-left"],10):getComputedStyle(n).paddingLeft?parseInt(getComputedStyle(n).paddingLeft,10):0}:{top:0,right:0,bottom:0,left:0}}getPageRect(n){return n?n.getBoundingClientRect():{top:0,right:0,bottom:0,left:0,height:0,width:0,x:0,y:0}}getShiftPos(){return{x:document.body.scrollLeft>0?document.body.scrollLeft:document.documentElement.scrollLeft>0?document.documentElement.scrollLeft:0,y:document.body.scrollTop>0?document.body.scrollTop:document.documentElement.scrollTop>0?document.documentElement.scrollTop:0}}getStyle(n){return this.isObject(n)&&!this.isEmpty(n)?n:{}}getTouchData(n){return n.changedTouches?n.changedTouches:n.originalEvent?n.originalEvent.changedTouches:null}getUniqueId(n){let e=n||"-";function t(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return t()+t()+e+t()+e+t()+e+t()+e+t()+t()+t()}isDate(n){return n&&Object.prototype.toString.call(n)==="[object Date]"&&!isNaN(n)}isDefined(n){return n!=null}isElement(n){return n?n instanceof Element:!1}isEmpty(n){return this.isString(n)?!n.trim().length:n&&Object.keys(n).length===0&&n.constructor===Object}isEqual(n,e){return n&&e?n.toString()===e.toString():!1}isFieldAvailable(n,e){return n!==void 0?n:e}isFunc(n){return n?typeof n=="function"||n instanceof Function:!1}isIndexInRange(n,e){return e?n>=0&&n<e.length:!1}isNumber(n){return n!==void 0&&!Number.isNaN(n)?typeof n=="number"||n instanceof Number:!1}isObject(n){return n?typeof n=="object"&&n!==null&&!Array.isArray(n):!1}isString(n){return n?typeof n=="string"||n instanceof String:!1}isTrue(n){return n!==!1}moveObject(n,e,t){this.isIndexInRange(n,t)&&this.isIndexInRange(e,t)&&t.splice(e,0,t.splice(n,1)[0])}pointToView(n){let e=this.getShiftPos();return{x:n.x-e.x,y:n.y-e.y}}replaceAll(n,e,t){return n.replace(new RegExp(this._escapeRegExp(e),"g"),t)}setNumInRange(n,e,t){return isNaN(n)?0:Math.min(Math.max(n,e),t)}},Em=QD;var ewe={None:0,Top:1,Right:2,Bottom:4,Left:8};Object.freeze(ewe);var twe={None:0,Top:1,Right:2,Bottom:4,Left:8};Object.freeze(twe);var iwe={None:"None",Fade:"Fade",Slide:"Slide"};Object.freeze(iwe);var _d={TwoState:"TwoState",ThreeState:"ThreeState"};Object.freeze(_d);var Jr={Unchecked:"Unchecked",Indeterminate:"Indeterminate",Checked:"Checked"};Object.freeze(Jr);var nwe={HEX:"HEX",HSL:"HSL",RGB:"RGB"};Object.freeze(nwe);var mi={None:"None",Dark:"Dark",Light:"Light"};Object.freeze(mi);var Sn={Static:"Static",Dynamic:"Dynamic"};Object.freeze(Sn);var Co={None:"None",Hover:"Hover",Select:"Select",Both:"Both"};Object.freeze(Co);var rwe={Short:"Short",Long:"Long",Custom:"Custom"};Object.freeze(rwe);var xm={None:1,Above:2,Right:4,Below:8,Left:16};Object.freeze(xm);var owe={None:1,Top:2,Right:4,Fill:8,Bottom:16,Left:32,All:64};Object.freeze(owe);var swe={None:"None",Top:"Top",Right:"Right",Fill:"Fill",Bottom:"Bottom",Left:"Left"};Object.freeze(swe);var Dr={Static:"Static",Dynamic:"Dynamic"};Object.freeze(Dr);var awe={Down:"Down",Up:"Up"};Object.freeze(awe);var lwe={None:"None",Batch:"Batch",Custom:"Custom",Dialog:"Dialog",Form:"Form",Inline:"Inline"};Object.freeze(lwe);var cwe={None:"None",Button:"Button",CheckBox:"CheckBox",Color:"Color",Custom:"Custom",Date:"Date",DropDownList:"DropDownList",Image:"Image",Label:"Label",ListScroller:"ListScroller",Numeric:"Numeric",Progress:"Progress",RadioButton:"RadioButton",Rating:"Rating",Slider:"Slider",Text:"Text"};Object.freeze(cwe);var dwe={Boolean:1,Date:2,Numeric:4,String:8};Object.freeze(dwe);var uwe={None:"None",Horizontal:"Horizontal",Vertical:"Vertical",Both:"Both"};Object.freeze(uwe);var pwe={Left:"Left",Center:"Center",Right:"Right"};Object.freeze(pwe);var hwe={Free:"Free",Partial:"Partial",Full:"Full"};Object.freeze(hwe);var oo={Partial:"Partial",Full:"Full"};Object.freeze(oo);var fwe={BottomCenter:"BottomCenter",BottomLeft:"BottomLeft",BottomRight:"BottomRight",Inline:"Inline",Left:"Left",MiddleCenter:"MiddleCenter",MiddleLeft:"MiddleLeft",MiddleRight:"MiddleRight",Right:"Right",TopCenter:"TopCenter",TopLeft:"TopLeft",TopRight:"TopRight"};Object.freeze(fwe);var Kt={After:"After",At:"At",Before:"Before",Down:"Down",First:"First",Left:"Left",Last:"Last",Right:"Right",Up:"Up"};Object.freeze(Kt);var mwe={InBound:"InBound",LeftRight:"LeftRight",UpDown:"UpDown"};Object.freeze(mwe);var Hi={Normal:0,Hovered:1,Selected:2,Focused:4,Disabled:8};Object.freeze(Hi);var Sr={Horizontal:"Horizontal",Vertical:"Vertical"};Object.freeze(Sr);var gwe={Top:"Top",Right:"Right",Bottom:"Bottom",Left:"Left"};Object.freeze(gwe);var _we={None:"None",TopLeft:"TopLeft",Top:"Top",TopRight:"TopRight",Right:"Right",BottomRight:"BottomRight",Bottom:"Bottom",BottomLeft:"BottomLeft",Left:"Left"};Object.freeze(_we);var Cwe={Horizontal:"Horizontal",Vertical:"Vertical"};Object.freeze(Cwe);var sr={None:"None",One:"One",MultiSimple:"MultiSimple",MultiExtended:"MultiExtended"};Object.freeze(sr);var ywe={Single:"Single",Multiple:"Multiple"};Object.freeze(ywe);var Ka={None:"None",Ascending:"Ascending",Descending:"Descending"};Object.freeze(Ka);var $o={VerySlow:"VerySlow",Slow:"Slow",Normal:"Normal",Fast:"Fast",VeryFast:"VeryFast"};Object.freeze($o);var Iwe={Carousel:"Carousel",Stream:"Stream"};Object.freeze(Iwe);var vwe={TopLeft:"TopLeft",Middle:"Middle",BottomRight:"BottomRight"};Object.freeze(vwe);var bwe={AutoSized:"AutoSized",Compressed:"Compressed",Justified:"Justified"};Object.freeze(bwe);var wwe={Normal:"Normal",Multiline:"Multiline"};Object.freeze(wwe);var Swe={None:"None",InBound:"InBound",OutBound:"OutBound"};Object.freeze(Swe);var Awe={Top:"Top",Right:"Right",Middle:"Middle",Bottom:"Bottom",Left:"Left"};Object.freeze(Awe);var An={None:"None",Office:"Office"};Object.freeze(An);var Ewe={BottomCenter:"BottomCenter",BottomFull:"BottomFull",BottomLeft:"BottomLeft",BottomRight:"BottomRight",TopCenter:"TopCenter",TopFull:"TopFull",TopLeft:"TopLeft",TopRight:"TopRight"};Object.freeze(Ewe);var xwe={Error:"Error",Info:"Info",Success:"Success",Warning:"Warning"};Object.freeze(xwe);var Twe={Button:"Button",CheckBox:"CheckBox",Date:"Date",DropDownList:"DropDownList",Image:"Image",Label:"Label",ListScroller:"ListScroller",Numeric:"Numeric",Progress:"Progress",Rating:"Rating",Separator:"Separator",Slider:"Slider",TextBox:"TextBox"};Object.freeze(Twe);var Owe={Compare:"Compare",Required:"Required",Numeric:"Numeric",Range:"Range",StringLength:"StringLength",Custom:"Custom"};Object.freeze(Owe);var Dwe={Top:"Top",Middle:"Middle",Bottom:"Bottom"};Object.freeze(Dwe);var Rwe={None:0,Hover:1,Click:2,Always:4};Object.freeze(Rwe);var Pwe={Monday:"Monday",Tuesday:"Tuesday",Wednesday:"Wednesday",Thursday:"Thursday",Friday:"Friday",Saturday:"Saturday",Sunday:"Sunday"};Object.freeze(Pwe);var kwe={Maximized:"Maximized",Minimized:"Minimized",Normal:"Normal"};Object.freeze(kwe);var ZD=class extends Am{constructor(){super(),this._init(),this._initStyle()}_init(){this._commonService=new Em,this._activeAnimations=[],this._isAnimationAllowed=!0,this._ctrlData=null,this._ctrlName="",this._ctrlState=Hi.Normal,this._currentTabIndex=0,this._isCtrlMouseActive=!1,this._isEnabled=!0,this._isReadOnly=!1,this._options={currentStyle:null},this._isKeyboardFocusAllowed=!0,this._ctrlRect={top:0,left:0,width:0,height:0},this._clientRect={width:0,height:0},this._ctrlSize={width:0,height:0},this._prevClientRect={width:0,height:0},this._elemRef=null,this._currentResourcePath="../icons",this._currentColorScheme=mi.Light,this._currentColorSchemeSettings=De``,this._currentCustomStyle={},this._currentInlineStyle={},this._currentTheme=An.None,this._currentThemeSettings=De``,this._defaultStyle={},this._ctrlClass={},this._generalClassName="iui-control",this._isProcessAllowed=!0,this._isUpdateAllowed=!0,this._tCmp=null}_initStyle(){this._defaultStyle={general:{disabled:this._generalClassName+"-disabled",focused:this._generalClassName+"-focused",normal:this._generalClassName,hovered:this._generalClassName+"-hovered",selected:this._generalClassName+"-selected"}},this._updateColorSchemeSettings(this._currentColorScheme),this.refresh()}connectedCallback(){super.connectedCallback()}disconnectedCallback(){super.disconnectedCallback(),this._clearAnimations()}attributeChangedCallback(n,e,t){super.attributeChangedCallback(n,e,t)}static get properties(){return{allowAnimation:{type:Boolean,attribute:"allow-animation",reflect:!0},allowFocus:{type:Boolean,attribute:"allow-focus",reflect:!0},allowUpdate:{type:Boolean,attribute:"allow-update",reflect:!0},colorScheme:{attribute:"color-scheme",converter:{fromAttribute:n=>{switch((n=n.replace(/"|'/,"").replace(/"|'/,"")).toLowerCase()){case"light":return mi.Light;case"dark":return mi.Dark;default:return mi.None}},toAttribute:n=>{switch(n){case mi.Light:return"Light";case mi.Dark:return"Dark";default:return"None"}}},reflect:!0},customStyle:{type:Object,attribute:"custom-style"},data:{type:Object},enabled:{type:Boolean,reflect:!0},name:{type:String,reflect:!0},readOnly:{type:Boolean,attribute:"read-only",reflect:!0},resourcePath:{type:String,attribute:"resource-path",reflect:!0},size:{type:Object},state:{type:Number,reflect:!0},theme:{converter:{fromAttribute:n=>{switch((n=n.replace(/"|'/,"").replace(/"|'/,"")).toLowerCase()){case"office":return An.Office;default:return An.None}},toAttribute:n=>{switch(n){case An.Office:return"Office";default:return"None"}}},reflect:!0}}}get allowAnimation(){return this._isAnimationAllowed}set allowAnimation(n){if(this._isAnimationAllowed!==n){let e=this._isAnimationAllowed;this._isAnimationAllowed=n,this.requestUpdate("allowAnimation",e)}}get allowFocus(){return this._isKeyboardFocusAllowed}set allowFocus(n){if(this._isKeyboardFocusAllowed!==n){let e=this._isKeyboardFocusAllowed;this._isKeyboardFocusAllowed=n,this.requestUpdate("allowFocus",e)}}get allowUpdate(){return this._isUpdateAllowed}set allowUpdate(n){if(this._isUpdateAllowed!==n){let e=this._isUpdateAllowed;this._isUpdateAllowed=n,this.requestUpdate("allowUpdate",e)}}get colorScheme(){return this._currentColorScheme}set colorScheme(n){if(this._currentColorScheme!==n){let e=this._currentColorScheme;this._currentColorScheme=n,this._updateColorSchemeSettings(n),this.requestUpdate("colorScheme",e),this.refresh()}}get customStyle(){return this._currentCustomStyle}set customStyle(n){if(this._currentCustomStyle!==n){let e=this._currentCustomStyle;this._currentCustomStyle=n,this.requestUpdate("customStyle",e),this.refresh()}}get data(){return this._ctrlData}set data(n){if(this._ctrlData!==n){let e=this._ctrlData;this._ctrlData=n,this.requestUpdate("data",e)}}get enabled(){return this._isEnabled}set enabled(n){if(n!==void 0&&this._isEnabled!==n){let e=this._isEnabled;this._isEnabled=n,this._invokeEvent("enabledChanged",{enabled:n}),this.requestUpdate("enabled",e),n?this.state&=~Hi.Disabled:this.state|=Hi.Disabled}}get name(){return this._ctrlName}set name(n){if(this._ctrlName!==n){let e=this._ctrlName;this._ctrlName=n,this.requestUpdate("name",e)}}get readOnly(){return this._isReadOnly}set readOnly(n){if(this._isReadOnly!==n){let e=this._isReadOnly;this._isReadOnly=n,this.requestUpdate("readOnly",e)}}get resourcePath(){return this._currentResourcePath}set resourcePath(n){if(this._currentResourcePath!==n){let e=this._currentResourcePath;this._currentResourcePath=n,this._updateControlStyleSettings(n),this._updateColorSchemeSettings(this._currentColorScheme),this.requestUpdate("resourcePath",e)}}get size(){return this._ctrlSize}set size(n){if(n){let e=!1,t=this._ctrlSize;n.width!==void 0&&this._ctrlSize.width!==n.width&&(this._ctrlSize.width=Math.max(n.width,0),e=!0),n.height!==void 0&&this._ctrlSize.height!==n.height&&(this._ctrlSize.height=Math.max(n.height,0),e=!0),e&&(this._invokeEvent("sizeChanged",{size:this._ctrlSize}),this.requestUpdate("size",t),this._internalUpdateLayout())}}get state(){return this._ctrlState}set state(n){if(this._ctrlState!==n){let e=this._ctrlState;this._ctrlState=n,this._updateControlClass(),this._processStateChanged(),this.requestUpdate("state",e),this._invokeEvent("stateChanged",{state:n}),this.refresh()}}get tabIndex(){return this._currentTabIndex}set tabIndex(n){if(n!==void 0&&this._currentTabIndex!==n){let e=this._currentTabIndex;this._currentTabIndex=n,this.requestUpdate("tabIndex",e),this.update()}}get theme(){return this._currentTheme}set theme(n){if(this._currentTheme!==n){let e=this._currentTheme;this._currentTheme=n,this._updateThemeSettings(n),this.requestUpdate("theme",e),this.refresh()}}_invokeEvent(n,e,t,r){let o=new CustomEvent(n,{detail:e,bubbles:t!==void 0?t:!1,composed:r!==void 0?r:!1});return this.dispatchEvent(o),e}_clearAnimations(){this._activeAnimations.forEach(n=>{n.destroy(),n=void 0}),this._activeAnimations.length=0}_clearActiveAnimations(){this._activeAnimations.filter(n=>n.isActive()).forEach(n=>{n.destroy(),n=void 0})}_clearInactiveAnimations(){this._activeAnimations.filter(n=>!n.isActive()).forEach(n=>{n.destroy(),n=void 0}),this._activeAnimations=this._activeAnimations.filter(n=>n.isActive())}_isAnimationActive(){return this._activeAnimations.length>0}_defaultFunc(){}getElemRef(){return this._elemRef}getSize(n){return this._elemRef?n?{width:this._elemRef.clientWidth,height:this._elemRef.clientHeight}:{width:this._elemRef.offsetWidth,height:this._elemRef.offsetHeight}:{width:0,height:0}}_processStateChanged(){}setFocus(n){this._elemRef&&this._elemRef.focus()}getClass(n){return this._elemRef?this._elemRef.className:""}getStyle(n){return this._currentInlineStyle||{}}_updateColorSchemeSettings(n){this._currentColorSchemeSettings=De``}_updateThemeSettings(n){this._currentThemeSettings=De``}refresh(n){this._updateStyle(this.controlStyle),this._updateControlClass(),this.update(),this._updateReferences()}removeClass(n){this._elemRef&&n&&this._elemRef.classList.remove(n)}setClass(n,e){this._elemRef&&(n?this._elemRef.classList.add(n):this._elemRef.className=this._generalClassName)}setStyle(n,e){this._commonService.isObject(n)&&!this._commonService.isEmpty(n)&&(this._currentInlineStyle=n,this.refresh())}_updateControlClass(){this._ctrlClass={},this._ctrlClass[this._generalClassName]=!0,this._options.currentStyle&&this._options.currentStyle.general&&(this._ctrlClass[this._options.currentStyle.general.normal]=!0,this.state&Hi.Disabled?this._ctrlClass[this._options.currentStyle.general.disabled]=!0:this.state&Hi.Focused?this._ctrlClass[this._options.currentStyle.general.focused]=!0:this.state&Hi.Selected?this._ctrlClass[this._options.currentStyle.general.selected]=!0:this.state&Hi.Hovered&&(this._ctrlClass[this._options.currentStyle.general.hovered]=!0),this.allowAnimation&&(this.state&Hi.Hovered?this._ctrlClass[this._defaultStyle.general.normal+"-enter"]=!0:this._ctrlClass[this._defaultStyle.general.normal+"-leave"]=!0))}_getControlClass(){return this._ctrlClass}_getControlStyle(){let n=this._currentInlineStyle||{};return this._ctrlSize.width>0&&(n.width=this._ctrlSize.width+"px"),this._ctrlSize.height>0&&(n.height=this._ctrlSize.height+"px"),n}_getDefaultStyle(){return{general:this._getDefaultGeneralStyle()}}_getDefaultGeneralStyle(){return this._defaultStyle&&this._defaultStyle.general?{disabled:this._defaultStyle.general.disabled,focused:this._defaultStyle.general.focused,hovered:this._defaultStyle.general.hovered,normal:this._defaultStyle.general.normal,selected:this._defaultStyle.general.selected}:{}}_getGeneralStyle(n){if(this._commonService){if(this._commonService.isString(n))return n;if(n)return{disabled:this._commonService.isFieldAvailable(n.disabled,this._generalClassName+"-disabled"),focused:this._commonService.isFieldAvailable(n.focused,this._generalClassName+"-focused"),hovered:this._commonService.isFieldAvailable(n.hovered,this._generalClassName+"-hovered"),normal:this._commonService.isFieldAvailable(n.normal,this._generalClassName),selected:this._commonService.isFieldAvailable(n.selected,this._generalClassName+"-selected")}}return this._getDefaultGeneralStyle()}_updateControlStyleSettings(n){}_updateStyle(n){n?this._options.currentStyle={general:this._getGeneralStyle(n.general)}:this._options.currentStyle=this._getDefaultStyle()}_internalUpdateLayout(){this.updateLayout()}resolve(n){this._isProcessAllowed=!0}shouldUpdate(n){return n.forEach((e,t)=>{}),!0}updateLayout(n){return N(this,null,function*(){return this.update(),Promise.resolve()})}wait(){this._isProcessAllowed=!1}_updateReferences(){}},Bu=ZD;var eR=class{constructor(){this.data=[]}init(n){this.data.length=0;for(let e=0;e<n.length;e++){let t={data:n[e].data,fields:this.getDataFields(n[e].fields),key:n[e].key};this.data.push(t)}}clear(n,e){this.getList(n,e).length=0}insertAt(n,e,t,r){this.insert(n,e,t,null,!1,r)}insert(n,e,t,r,o,s){if(n){let a=this.getData(s);if(a){let l=a.fields;t&&(n[l.pid]=t[l.id]);let c=this.getList(t,s);c&&(e<0||e===null||e===void 0?c.push(n):(e=Math.max(Math.min(e,c.length),0),!r&&e<c.length&&(r=c[e]),c.splice(e,0,n)),n[l.id]||(n[l.id]=this.getUniqueId()))}}}insertByRef(n,e,t,r){if(n&&e){let o=this.getParent(e,r),s=this.getList(o,r).indexOf(e);return s>=0&&(t&&(s+=1),this.insert(n,s,o,e,t,r)),s}}removeAt(n,e,t,r){let o,s=null,a=this.getData(r);if(a){if(n&&(t=this.getParent(n,r),e=(o=this.getList(t,r)).indexOf(n)),e==null)return{obj:s,result:!1};if(o=this.getList(t,r),e>=0&&e<o.length)return(s=o[e])[a.fields.pid]="",o.splice(e,1),{obj:s,result:!0}}return{obj:s,result:!1}}getData(n){let e=null;if(!this.getKey(n)&&this.data.length>0)e=this.data[0];else for(let t=0;t<this.data.length;t++)if(this.data[t].key===n){e=this.data[t];break}return e}getDataFields(n){return n?{content:n.content?n.content:"content",icon:n.icon?n.icon:"icon",id:n.id?n.id:"id",pid:n.pid?n.pid:"pid",objects:n.objects?n.objects:"items",statusIcon:n.statusIcon?n.statusIcon:"statusIcon",subobjects:n.subobjects?n.subobjects:"subitems",text:n.text?n.text:"text"}:{content:"content",icon:"icon",id:"id",pid:"pid",objects:"items",statusIcon:"statusIcon",subobjects:"subitems",text:"text"}}getKey(n){return n||null}getList(n,e){let t=this.getData(e);if(t){let r=t.fields;return n?(n[r.objects]||(n[r.objects]=[]),n[r.objects]):t.data}return[]}removeUndefined(n,e){n[e]===void 0&&delete n[e]}updateDataFields(n,e){let t=this.getData(e);t&&(t.fields=this.getDataFields(n))}update(n){this.init(n)}clone(n,e,t){let r=this.getData(e);if(r){let o=JSON.parse(JSON.stringify(n));return t||this.createCloneIds(o,null,r.fields),o}return{}}createCloneIds(n,e,t){n[t.id]=this.getUniqueId(),n[t.pid]=e;let r=n[t.objects];if(r)for(let o=0;o<r.length;o++)this.createCloneIds(r[o],n[t.id],t)}findObjectById(n,e){let t=this.getData(e);if(t){let r=t.fields,o=t.data;return n?this.searchObj(n,o,r):null}return null}findObjectByText(n,e){let t=this.getData(e);if(t){let r=t.fields,o=t.data;return n!==void 0?this.searchObj(n,o,r,"text"):null}return null}findParent(n,e,t){let r=null;if(n&&e){let o=0;for(;!r&&o<e.length;)e[o][t.id]&&n[t.pid]&&e[o][t.id].toString()===n[t.pid].toString()?r=e[o]:r=this.findParent(n,e[o][t.objects],t),o++}return r}getParent(n,e){if(n){let t=this.getData(e);if(t)return this.findParent(n,t.data,t.fields)}return null}getUniqueId(n){let e=n||"-";function t(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return t()+t()+e+t()+e+t()+e+t()+e+t()+t()+t()}searchObj(n,e,t,r){let o=null;if(n&&e){let s=0,a=!1;for(;!o&&s<e.length;){switch(r){case"text":e[s][t.text]&&(a=e[s][t.text].toString()===n.toString());break;default:e[s][t.id]&&(a=e[s][t.id].toString()===n.toString())}o=a?e[s]:this.searchObj(n,e[s][t.objects],t,r),s++}}return o}},Tm=eR;var tR=De`
    .iui-item {
        background: var(--iui-item-background, transparent);
        border: var(--iui-item-border, thin solid transparent);
        color: var(--iui-item-color, black);
        margin: var(--iui-item-margin, 1px);
        overflow: hidden;
        padding: var(--iui-item-padding, 3px);
    }
    .iui-item-hovered {
        background: var(--iui-item-hovered-background, transparent);
        border: var(--iui-item-hovered-border, thin solid transparent);
    }
    .iui-item-selected {
        background: var(--iui-item-selected-background, transparent);
        border: var(--iui-item-selected-border, thin solid transparent);
    }
    .iui-item-label {
        border: var(--iui-item-label-border, thin solid transparent);
        display: inline-block;
        padding: var(--iui-item-label-padding, 2px);
    }
    .iui-item-icon {
        display: inline-block;
    }
    .iui-item-icon-url {
        vertical-align: middle;
    }

    /* Disabled State */
    .iui-item-disabled div {
        opacity: var(--iui-item-disabled-opacity, 0.75);
        pointer-events: none;
    }

    .iui-item-content {
        overflow: hidden;
        position: relative;
    }
`;var k9=De`
`;var F9=De`
    .iui-item {
        color: var(--iui-item-color, #cccccc);
    }
    .iui-item-hovered {
        animation-name: none;
        background: var(--iui-item-hovered-background, #2a2d2e);
        border: var(--iui-item-hovered-border, thin solid #2a2d2e);
    }
    .iui-item-selected {
        animation-name: none;
        background: var(--iui-item-selected-background, #0a4369);
        border: var(--iui-item-selected-border, thin solid #0a4369);
        color: var(--iui-item-selected-color, white);
    }
`;var L9=De`
	.iui-item {
        color: var(--iui-item-color, #646464);
	}
	.iui-item-hovered {
        background: var(--iui-item-hovered-background, transparent);
        border: var(--iui-item-hovered-border, thin solid transparent);
        color: var(--iui-item-hovered-color, black);

		animation-name: iui-item-hovered-animate-enter;
		animation-delay: 0s;
		animation-direction: normal;
		animation-duration: 0.15s;
		animation-fill-mode: forwards;
		animation-iteration-count: 1;
		animation-play-state: running;
		animation-timing-function: linear; 
	}
	@keyframes iui-item-hovered-animate-enter {
		0% { 
			background: var(--iui-item-hovered-animation-background-0, transparent); 
			border-color: var(--iui-item-hovered-animation-border-color-0, transparent); 
		}
		100% { 
			background: var(--iui-item-hovered-animation-background-100, #d9edfd); 
			border-color: var(--iui-item-hovered-animation-border-color-100, #d9edfd); 
		}
	}
	.iui-item-selected {
        background: var(--iui-item-selected-background, #d9edfd);
        border: var(--iui-item-selected-border, thin solid transparent);
        color: var(--iui-item-selected-color, black);

		animation-name: iui-item-selected-animate-enter;
		animation-delay: 0s;
		animation-direction: normal;
		animation-duration: 0.25s;
		animation-fill-mode: forwards;
		animation-iteration-count: 1;
		animation-play-state: running;
		animation-timing-function: linear; 
	}
	@keyframes iui-item-selected-animate-enter {
		0% { 
			background: var(--iui-item-selected-animation-background-0, #d9edfd); 
			border-color: var(--iui-item-selected-animation-border-color-0, #d9edfd); 
		}
		100% { 
			background: var(--iui-item-selected-animation-background-100, #a5d3fa); 
			border-color: var(--iui-item-selected-animation-border-color-100, #a5d3fa); 
		}
	}
`;var Kw=class extends Bu{connectedCallback(){super.connectedCallback()}disconnectedCallback(){super.disconnectedCallback()}_init(){super._init(),this._currentIcon="",this._currentIconUrl="",this._currentIconSize={width:16,height:16},this._currentText="",this._isVisible=!0,this._parentCtrl=null,this._itemPos={top:0,left:0},this._positionType="static",this._contentClass={},this._currentControlStyleSettings=tR,this._generalClassName="iui-item",this._contentClassName=this._generalClassName+"-content"}_initStyle(){this._defaultStyle={general:{disabled:this._generalClassName+"-disabled",focused:this._generalClassName+"-focused",normal:this._generalClassName,hovered:this._generalClassName+"-hovered",selected:this._generalClassName+"-selected"},content:{disabled:this._contentClassName+"-disabled",focused:this._contentClassName+"-focused",normal:this._contentClassName,hovered:this._contentClassName+"-hovered",selected:this._contentClassName+"-selected"}},this._updateColorSchemeSettings(this._currentColorScheme),this.refresh()}setParent(n){this._parentCtrl=n}attributeChangedCallback(n,e,t){super.attributeChangedCallback(n,e,t)}static get properties(){return{icon:{type:String,reflect:!0},iconUrl:{type:String,attribute:"icon-url",reflect:!0},iconSize:{type:Object},text:{type:String,reflect:!0},visible:{type:Boolean,reflect:!0}}}get icon(){return this._currentIcon}set icon(n){if(this._currentIcon!==n){let e=this._currentIcon;this._currentIcon=n,this.requestUpdate("icon",e)}}get iconUrl(){return this._currentIconUrl}set iconUrl(n){if(this._currentIconUrl!==n){let e=this._currentIconUrl;this._currentIconUrl=n,this.requestUpdate("iconUrl",e)}}get iconSize(){return this._currentIconSize}set iconSize(n){if(this._currentIconSize!==n){let e=this._currentIconSize;this._currentIconSize=n,this.requestUpdate("iconSize",e)}}get text(){return this._currentText}set text(n){if(this._currentText!==n){let e=this._currentText;this._currentText=n,this.requestUpdate("text",e),this.update()}}get visible(){return this._isVisible}set visible(n){if(this._isVisible!==n){let e=this._isVisible;this._isVisible=n,this.requestUpdate("visible",e)}}_processStateChanged(){this._updateContentClass()}_onClick(n){this._isEnabled&&this._invokeEvent("click",n)}_onMouseDown(n){this._isEnabled&&(this._invokeEvent("mouseDown",n),this._parentCtrl&&this._parentCtrl.invokeCtrlMethod&&this._parentCtrl.invokeCtrlMethod("ITEM_SELECT",this))}_onMouseUp(n){this._isEnabled&&this._invokeEvent("mouseUp",n)}_onMouseEnter(n){this._isEnabled&&(this.state|=Hi.Hovered,this._invokeEvent("mouseEnter",n))}_onMouseMove(n){this._isEnabled&&this._invokeEvent("mouseMove",n)}_onMouseLeave(n){this._isEnabled&&(this.state&=~Hi.Hovered,this._invokeEvent("mouseLeave",n))}_onTouchStart(n){this._isEnabled&&(this._invokeEvent("touchStart",n),this._parentCtrl&&this._parentCtrl.invokeCtrlMethod&&this._parentCtrl.invokeCtrlMethod("ITEM_SELECT",this))}getContentSize(){let n={width:0,height:0};if(this._contentElem){let e=this._commonService.getMargin(this._contentElem);n={width:this._contentElem.offsetWidth+(e.left+e.right),height:this._contentElem.offsetHeight+(e.top+e.bottom)/2}}return n}getMargin(){return this._elemRef?this._commonService.getMargin(this._elemRef.firstElementChild):{top:0,right:0,bottom:0,left:0}}getPageRect(){let n={top:0,right:0,bottom:0,left:0};return this._elemRef&&(n=this._commonService.getPageRect(this._elemRef.firstElementChild)),n}getClientSize(){let n={width:0,height:0};return this._elemRef&&(n={width:this._elemRef.firstElementChild.clientWidth,height:this._elemRef.firstElementChild.clientHeight}),n}getSize(){let n={width:0,height:0};if(this._updateReferences(),this._elemRef){let e=this._commonService.getMargin(this._elemRef);n={width:this._elemRef.offsetWidth+(e.left+e.right),height:this._elemRef.offsetHeight+(e.top+e.bottom)/2}}return n}resetPos(){this.updateLayoutPos("static",{x:"auto",y:"auto"})}updateLayoutPos(n,e){this._updateReferences(),this._positionType=n,this._itemPos={top:e.y,left:e.x}}updatePos(n){this.updateLayoutPos("absolute",n)}_getControlStyle(){let n=this._currentInlineStyle||{};return n.position=this._positionType,n.top=this._itemPos.top+"px",n.left=this._itemPos.left+"px",this._ctrlSize.width>0&&(n.width=this._ctrlSize.width+"px"),this._ctrlSize.height>0&&(n.height=this._ctrlSize.height+"px"),n}_updateContentClass(){this._contentClass={},this._contentClass[this._contentClassName]=!0,this._options.currentStyle&&(this._contentClass[this._options.currentStyle.content.normal]=!0,this.state&Hi.Disabled?this._contentClass[this._options.currentStyle.content.disabled]=!0:this.state&Hi.Focused?this._contentClass[this._options.currentStyle.content.focused]=!0:this.state&Hi.Selected?this._contentClass[this._options.currentStyle.content.selected]=!0:this.state&Hi.Hovered&&(this._contentClass[this._options.currentStyle.content.hovered]=!0))}_getContentClass(){return this._contentClass}_getContentStyle(n){return this._commonService.isString(n)?n:n?{disabled:this._commonService.isFieldAvailable(n.disabled,this._contentClassName+"-disabled"),focused:this._commonService.isFieldAvailable(n.focused,this._contentClassName+"-focused"),hovered:this._commonService.isFieldAvailable(n.hovered,this._contentClassName+"-hovered"),normal:this._commonService.isFieldAvailable(n.normal,this._contentClassName),selected:this._commonService.isFieldAvailable(n.selected,this._contentClassName+"-selected")}:{disabled:this._defaultStyle.content.disabled,focused:this._defaultStyle.content.focused,hovered:this._defaultStyle.content.hovered,normal:this._defaultStyle.content.normal,selected:this._defaultStyle.content.selected}}_updateStyle(n){n?this._options.currentStyle={general:this._getGeneralStyle(n.general),content:this._getContentStyle(n.content)}:this._options.currentStyle={general:{disabled:this._defaultStyle.general.disabled,focused:this._defaultStyle.general.focused,hovered:this._defaultStyle.general.hovered,normal:this._defaultStyle.general.normal,selected:this._defaultStyle.general.selected},content:{disabled:this._defaultStyle.content.disabled,focused:this._defaultStyle.content.focused,hovered:this._defaultStyle.content.hovered,normal:this._defaultStyle.content.normal,selected:this._defaultStyle.content.selected}}}_updateColorSchemeSettings(n){switch(this._currentColorSchemeSettings=De``,n){case mi.Dark:this._currentColorSchemeSettings.cssText=this._commonService.replaceAll(F9.cssText,"../../../icons",this._currentResourcePath);break;case mi.Light:this._currentColorSchemeSettings.cssText=this._commonService.replaceAll(L9.cssText,"../../../icons",this._currentResourcePath);break;default:this._currentColorSchemeSettings.cssText=""}}_updateThemeSettings(n){switch(this._currentThemeSettings=De``,n){case An.Office:this._currentThemeSettings.cssText=this._commonService.replaceAll(k9.cssText,"../../../icons",this._currentResourcePath);break;default:this._currentThemeSettings.cssText=""}}firstUpdated(n){this._updateReferences()}refresh(){this._updateStyle(this.controlStyle),this._updateControlClass(),this._updateContentClass(),this.update(),this._updateReferences()}render(){return Ke`             <style>                 ${this._currentControlStyleSettings}                 ${this._currentThemeSettings}                 ${this._currentColorSchemeSettings}                 ${this._currentCustomStyle}             </style>             <div data-ctrl="item" id="content" class=${wn(this._getControlClass())} style=${Ji(this._getControlStyle())} @click="${n=>this._onClick(n)}" @mousedown="${n=>this._onMouseDown(n)}" @mouseup="${n=>this._onMouseUp(n)}" @mouseenter="${n=>this._onMouseEnter(n)}" @mousemove="${n=>this._onMouseMove(n)}" @mouseleave="${n=>this._onMouseLeave(n)}">                 ${this.icon?Ke`<span class=${wn(this.icon)} style="display:inline-block"></span>`:Ke``}                 ${this.iconUrl?Ke`<img class="iui-item-icon-url" src="${this.iconUrl}" />`:Ke``}                 ${this.text?Ke`<span class="iui-item-label">${this.text}</span>`:Ke``}                 <slot></slot>             </div>         `}_updateControlStyleSettings(n){this._currentControlStyleSettings=De``,this._currentControlStyleSettings.cssText=this._commonService.replaceAll(tR.cssText,"../../icons",n)}_updateReferences(){this._elemRef=this.shadowRoot.querySelector("div[data-ctrl=item]"),this._contentElem=this.shadowRoot.querySelector("#content")}};window.customElements.define("iui-item",Kw);var M9=Kw;var iR=De`
    .iui-menu {
        background: var(--iui-menu-background, #f5f5f5);
        border: var(--iui-menu-border, 0);
        border-color:  var(--iui-menu-border-color, transparent);
        border-radius: var(--iui-menu-border-radius, 1px);
        border-width: var(--iui-menu-border-width, thin);
        color: var(--iui-menu-color, black);
        cursor: var(--iui-menu-cursor, default);
        display: var(--iui-menu-display, block);
        float: var(--iui-menu-float, none);
        height: var(--iui-menu-height, auto);
        margin: var(--iui-menu-margin, 0);
        opacity: var(--iui-menu-opacity, 1);
        overflow: hidden;
        padding: var(--iui-menu-padding, 0);
        position: var(--iui-menu-position, relative);
        width: var(--iui-menu-width, auto);
        z-index: var(--iui-menu-z-index, auto);
        
        -webkit-touch-callout: none;
        -webkit-user-select: none;
        -khtml-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
    }
    .iui-menu-block {
        background: var(--iui-menu-block-background, transparent);
        list-style-type: none;
        margin: 0;
        padding: var(--iui-menu-block-padding, 3px);
        position: relative;
    }
    .iui-menuitem-block, .iui-contextmenuitem-block {
        background: var(--iui-menuitem-block-background, #f5f5f5);
        border: var(--iui-menuitem-block-border, thin solid #dedede);
        border-color: var(--iui-menuitem-block-border-color, #dedede);
        padding: var(--iui-menuitem-block-padding, 1px);
        list-style-type: none;
        margin: 0;
        position: absolute;
        z-index: 99999;
    }
    .iui-menuitem-root, .iui-contextmenuitem-root {
        background: var(--iui-menuitem-root-background, none);
        border: var(--iui-menuitem-root-border, thin solid transparent);
        border-color: var(--iui-menuitem-root-border-color, transparent);
        color: var(--iui-menuitem-root-color, black);
        display: inline-block;
        list-style-type: none;
        margin: var(--iui-menuitem-root-margin, 0 3px);
        padding: var(--iui-menuitem-root-padding, 5px 6px 5px 4px);
        position: relative;
        white-space: nowrap;
        width: var(--iui-menuitem-root-width, auto);
    }
    .iui-menuitem-root-vertical, .iui-contextmenuitem-root-vertical {
        border: var(--iui-menuitem-root-vertical-border, thin solid transparent);
        border-color: var(--iui-menuitem-root-vertical-border-color, transparent);
        display: block;
        margin: var(--iui-menuitem-root-vertical-margin, 3px 0);
        padding: var(--iui-menuitem-root-vertical-padding, 5px 6px);
        position: relative;
        list-style-type: none;
        margin: 3px 0;
        padding: 5px 6px;
        white-space: nowrap;
    }
    .iui-menuitem-root-disabled, .iui-menuitem-disabled, .iui-contextmenuitem-root-disabled, .iui-contextmenuitem-disabled {
        background: var(--iui-menuitem-disabled-background, transparent);
        opacity: 0.5;
    }
    .iui-menuitem-root-hovered, .iui-contextmenuitem-root-hovered {
        background: var(--iui-menuitem-root-hovered-background, #e5e5e5);
        border-color: var(--iui-menuitem-root-hovered-border-color, #e5e5e5);
        color: var(--iui-menuitem-root-hovered-color, black);
    }
    .iui-menuitem-root-selected, .iui-contextmenuitem-root-selected {
        background: var(--iui-menuitem-root-selected-background, #e5e5e5);
        border-color: var(--iui-menuitem-root-selected-border-color, #e5e5e5);
        color: var(--iui-menuitem-root-selected-color, black);
    }
    .iui-menuitem-root-content, .iui-contextmenuitem-root-content {
        display: inline-block;
        padding: var(--iui-menuitem-root-content-background, 0 2px);
        vertical-align: middle;
    }
    .iui-menuitem-root:first-of-type, .iui-contextmenuitem-root:first-of-type {
        margin: auto 0;
    }

    .iui-menuitem-root:last-of-type, .iui-contextmenuitem-root:last-of-type {
        margin-right: 0;
    }
    .iui-menu-marker-expand-space {
        padding-right: 20px;
    }
    .iui-menu-marker-expand-space-rtl {
        padding-left: 20px;
    }
    .iui-menu-marker-expand-down::before {
        content: "";
        border: 4px solid #ababab;
        border-color: #ababab transparent transparent transparent;
        position: absolute;
        top: 45%;
        right: 5px;
        width: 0;
        height: 0;
    }
    .iui-menu-marker-expand-down::after {
        content: "";
        border: 4px solid transparent;
        border-color: transparent transparent transparent transparent;
        position: absolute;
        top: 45%;
        right: 5px;
        width: 0;
        height: 0;
    }
    .iui-menu-marker-expand-down-rtl::before {
        content: "";
        border: 4px solid #ababab;
        border-color: #ababab transparent transparent transparent;
        position: absolute;
        top: 45%;
        left: 5px;
        width: 0;
        height: 0;
    }
    .iui-menu-marker-expand-down-rtl::after {
        content: "";
        border: 4px solid transparent;
        border-color: transparent transparent transparent transparent;
        position: absolute;
        top: 45%;
        left: 5px;
        width: 0;
        height: 0;
    }
    .iui-menu-marker-expand-right::before {
        content: "";
        border: 4px solid #ababab;
        border-color: transparent transparent transparent #ababab;
        position: absolute;
        top: 35%;
        left: 92%;
        width: 0;
        height: 0;
    }
    .iui-menu-marker-expand-right::after {
        content: "";
        border: 4px solid transparent;
        border-color: transparent transparent transparent transparent;
        position: absolute;
        top: 35%;
        left: 92%;
        width: 0;
        height: 0;
    }
    .iui-menu-marker-expand-left::before {
        content: "";
        border: 4px solid #ababab;
        border-color: transparent #ababab transparent transparent;
        position: absolute;
        top: 35%;
        left: 2%;
        width: 0;
        height: 0;
    }
    .iui-menu-marker-expand-left::after {
        content: "";
        border: 4px solid transparent;
        border-color: transparent transparent transparent transparent;
        position: absolute;
        top: 35%;
        left: 2%;
        width: 0;
        height: 0;
    }
    .iui-menu-marker-top::before {
        content: "";
        border: 4px solid #fefefe;
        border-color: transparent transparent #1e4691 transparent;
        position: absolute;
        top: -9px;
        left: 10px;
        width: 0;
        height: 0;
    }
    .iui-menu-marker-top::after {
        content: "";
        border: 4px solid #fefefe;
        border-color: transparent transparent #fefefe transparent;
        position: absolute;
        top: -8px;
        left: 10px;
        width: 0;
        height: 0;
    }
    .iui-menu-marker-top-rtl::before {
        content: "";
        border: 4px solid #fefefe;
        border-color: transparent transparent #1e4691 transparent;
        position: absolute;
        top: -9px;
        right: 10px;
        width: 0;
        height: 0;
    }
    .iui-menu-marker-top-rtl::after {
        content: "";
        border: 4px solid #fefefe;
        border-color: transparent transparent #fefefe transparent;
        position: absolute;
        top: -8px;
        right: 10px;
        width: 0;
        height: 0;
    }
    .iui-menu-marker-left::before {
        content: "";
        border: 4px solid #fefefe;
        border-color: transparent #1e4691 transparent transparent;
        position: absolute;
        top: 12px;
        left: -9px;
    }
    .iui-menu-marker-left::after {
        content: "";
        border: 4px solid #fefefe;
        border-color: transparent #fefefe transparent transparent;
        position: absolute;
        top: 12px;
        left: -8px;
    }
    .iui-menu-marker-right::before {
        content: "";
        border: 4px solid #fefefe;
        border-color: transparent transparent transparent #1e4691;
        position: absolute;
        top: 12px;
        right: -9px;
    }
    .iui-menu-marker-right::after {
        content: "";
        border: 4px solid #fefefe;
        border-color: transparent transparent transparent #fefefe;
        position: absolute;
        top: 12px;
        right: -8px;
    }


    .iui-menuitem, .iui-contextmenuitem {
        background: var(--iui-menuitem-background, transparent);
        border: var(--iui-menuitem-border, thin solid transparent);
        border-color: var(--iui-menuitem-border-color, transparent);
        color: var(--iui-menuitem-color, black);
        display: block;
        list-style-type: none;
        margin: var(--iui-menuitem-margin, 1px 0);
        padding: var(--iui-menuitem-padding, 3px 4px 3px 2px);
        position: relative;
        white-space: nowrap;
        width: var(--iui-menuitem-width, auto);
    }
    .iui-menuitem-hovered, .iui-contextmenuitem-hovered {
        background: var(--iui-menuitem-hovered-background, #ededed);
        border-color: var(--iui-menuitem-hovered-border-color, #e5e5e5);
    }
    .iui-menuitem-selected, .iui-contextmenuitem-root-selected {
        background: var(--iui-menuitem-selected-background, #ededed);
        border-color: var(--iui-menuitem-selected-border-color, #e5e5e5);
    }
    .iui-menuitem-content, .iui-contextmenuitem-content {
        display: inline-block;
        vertical-align: middle;
    }
    .iui-menuitem:first-of-type, .iui-contextmenuitem:first-of-type {
        margin-top: 0;
    }
    .iui-menuitem:last-of-type, .iui-contextmenuitem:last-of-type {
        margin-bottom: 0;
    }
    .iui-menuitem-expand, .iui-contextmenuitem-expand {
        background-position: -14px 0px;
    }
    .iui-menuitem-root-separator, .iui-menuitem-separator, .iui-contextmenuitem-root-separator, .iui-contextmenuitem-separator {
        background: var(--iui-menuitem-separator-background, transparent);
        border: 0;
        margin: 0;
        padding: var(--iui-menuitem-separator-padding, 3px);
    }
    .iui-menuitem-root-separator > hr, .iui-menuitem-separator > hr, .iui-contextmenuitem-root-separator > hr, .iui-contextmenuitem-separator > hr {
        background: var(--iui-menuitem-separator-line-background, #e5e5e5);
        border: 0;
        margin: var(--iui-menuitem-separator-line-margin, 0);
        padding: var(--iui-menuitem-separator-line-padding, 0);
        height: var(--iui-menuitem-separator-line-height, 1px);
    }
    .iui-menuitem-separator-content {
        background: var(--iui-menuitem-separator-content-background, transparent);
        border: var(--iui-menuitem-separator-content-border, thin solid transparent);
        border-color: var(--iui-menuitem-separator-content-border-color, transparent);
        border-radius: var(--iui-menuitem-separator-content-border-radius, 3);
        display: inline-block;
        font-style: var(--iui-menuitem-separator-content-font-style, normal);
        font-weight: var(--iui-menuitem-separator-content-font-weight, normal);
        margin: var(--iui-menuitem-separator-content-margin, 0);
        padding: var(--iui-menuitem-separator-content-padding, 5px 4px 5px 0);
        position: relative;
        text-align: var(--iui-menuitem-separator-content-text-align, left);
        width: var(--iui-menuitem-separator-content-width, auto);
        z-index: 1;
    }
    .iui-menuitem-inline-separator {
        position: absolute;
        top: 50%;
        width: calc(100% - 6px);
        z-index: 0;
    }
    .iui-menu-load {
        background: transparent;
        display: inline-block;
        width: 16px;
        height: 16px;
        position: absolute;
        top: 0;
        right: 2px;
        vertical-align: middle;
    }
    .iui-menu-load-rtl {
        background: transparent;
        display: inline-block;
        width: 16px;
        height: 16px;
        position: absolute;
        top: 0;
        left: 2px;
        vertical-align: middle;
    }
    .iui-menuitem-content-template {
        display: var(--iui-menuitem-content-template-display, inline-block);
        overflow: hidden;
        vertical-align: var(--iui-menuitem-content-template-vertical-align, middle);
        width: var(--iui-menuitem-content-template-width, 100%);
    }

    /* Header */
    .iui-menuitem-header {
        background: var(--iui-menuitem-header-background, #bfbfbf);
        border-radius: var(--iui-menuitem-header-border-radius, 3px);
        color: var(--iui-menuitem-header-color, white);
        display: block;
        font-weight: var(--iui-menuitem-header-font-weight, bold);
        list-style-type: none;
        margin: var(--iui-menuitem-header-margin, 0 0 2px 0);
        padding: var(--iui-menuitem-header-padding, 5px 7px);
        text-align: var(--iui-menuitem-header-text-align, center);
        white-space: nowrap;
    }
    
    /* Shortcuts */
    .iui-menuitem-label-main {
        display: inline-block;
        width: var(--iui-menuitem-label-width, calc(100% - 104px));
    }
    .iui-menuitem-shortcut {
        display: inline-block;
        font-size: var(--iui-menuitem-shortcut-font-size, 0.875rem);
        text-align: var(--iui-menuitem-shortcut-text-align, right);
        width: var(--iui-menuitem-shortcut-width, 100px);
    }

    /* Disabled State */
    .iui-menu-disabled div {
        opacity: 0.75;
        pointer-events: none;
    }

    /* CheckBox */
    .iui-menuitem-checkbox {
        background-image: var(--iui-menuitem-checkbox-background-image, url(../../icons/checkbox-unchecked.ico));
        background-repeat: no-repeat;
        display: inline-block;
        overflow: hidden;
        padding: var(--iui-menuitem-checkbox-padding, 0);
        margin: var(--iui-menuitem-checkbox-margin, 0 3px);
        width: 16px;
        height: 16px;
        vertical-align: var(--iui-menuitem-checkbox-vertical-align, middle);
    }
    .iui-menuitem-checkbox-checked {
        background-image: var(--iui-menuitem-checkbox-checked-background-image, url(../../icons/checkbox-checked.ico));
    }
`;var N9=De`
    .iui-menuitem-root, .iui-menuitem, .iui-contextmenuitem-root, .iui-contextmenuitem {
        transition-duration: var(--iui-menuitem-transition-duration, 0.15s);
        transition-property: var(--iui-menuitem-transition-property, background, border-color, color);
        transition-timing-function: var(--iui-menuitem-transition-timing-function, ease-in-out);
    }
`;var V9=De`
    .iui-menu {
        background: var(--iui-menu-background, #252526);
        color: var(--iui-menu-color, white);
    }
    .iui-menu-block {
        background: var(--iui-menu-block-background, #252526);
        border-color: var(--iui-menu-block-border-color, #151515);
    }
    .iui-menuitem-block {
        background: var(--iui-menuitem-block-background, #252526);
        border-color: var(--iui-menuitem-block-border-color, #151515);
        box-shadow: var(--iui-menuitem-block-box-shadow, 0 2px 5px #151515);
        color: var(--iui-menuitem-block-color, #cccccc);
    }
    .iui-menuitem-root {
        border-color: var(--iui-menuitem-root-border-color, #252526);
        color: var(--iui-menuitem-root-color, #cccccc);
    }
    .iui-contextmenuitem-root {
        border-color: var(--iui-menuitem-root-border-color, transparent);
        color: var(--iui-menuitem-root-color, #cccccc);
    }
    .iui-menuitem-root-vertical {
        background: var(--iui-menu-root-vertical-background, none);
        border-color: var(--iui-menuitem-root-vertical-border-color, #252526);
        color: var(--iui-menuitem-root-vertical-color, #cccccc);
    }
    .iui-menuitem-root-hovered, .iui-contextmenuitem-root-hovered {
        background: var(--iui-menuitem-root-hovered-background, #1177bb);
        border-color: var(--iui-menuitem-root-hovered-border-color, #1177bb);
        color: var(--iui-menuitem-root-hovered-color, white);
    }
    .iui-menuitem-root-selected {
        background: var(--iui-menuitem-root-selected-background, #153268);
        border-color: var(--iui-menuitem-root-selected-border-color, #0f244a);
        color: var(--iui-menuitem-root-selected-color, white);
    }
    .iui-contextmenuitem-root-selected {
        background: var(--iui-menuitem-root-selected-background, #1177bb);
        border-color: var(--iui-menuitem-root-selected-border-color, #1177bb);
        color: var(--iui-menuitem-root-selected-color, white);
    }

    .iui-menuitem, .iui-contextmenuitem {
        background: var(--iui-menuitem-background, #252526);
        color: var(--iui-menuitem-color, #cccccc);
    }
    .iui-menuitem-normal {
        background: var(--iui-menuitem-normal-background, transparent);
        border-color: var(--iui-menuitem-normal-border-color, transparent);
        color: var(--iui-menuitem-normal-color, #cccccc);
    }
    .iui-menuitem-hovered, .iui-contextmenuitem-hovered {
        background: var(--iui-menuitem-hovered-background, #1177bb);
        border-color: var(--iui-menuitem-hovered-border-color, #1177bb);
        color: var(--iui-menuitem-hovered-color, white);
    }
    .iui-menuitem-selected, .iui-contextmenuitem-selected {
        background: var(--iui-menuitem-selected-background, #1177bb);
        border-color: var(--iui-menuitem-selected-border-color, #1177bb);
        color: var(--iui-menuitem-selected-color, white);
    }
    .iui-menuitem-selected a {
        color: white;
    }
    .iui-menu li > ul {
        background: var(--iui-menuitem-block-background, #252526);
        border-color: var(--iui-menuitem-block-border-color, #151515);
        box-shadow: var(--iui-menuitem-block-box-shadow, 0 2px 5px #151515);
    }
    .iui-menu-expand-box {
        width: 16px;
        height: 16px;
    }
    .iui-menuitem-root-separator, .iui-menuitem-separator, .iui-contextmenuitem-root-separator, .iui-contextmenuitem-separator {
        background: var(--iui-menuitem-separator-background, #252526);
    }
    .iui-menuitem-root-separator > hr, .iui-menuitem-separator > hr, .iui-contextmenuitem-root-separator > hr, .iui-contextmenuitem-separator > hr {
        background: var(--iui-menuitem-separator-line-background, #cccccc));
    }
    .iui-menu-marker-expand-down::before {
        border: 4px solid #0a4369;
        border-color: #0a4369 transparent transparent transparent;
    }
    .iui-menu-marker-expand-down-rtl::before {
        border: 4px solid #0a4369;
        border-color: #0a4369 transparent transparent transparent;
    }
    .iui-menu-marker-expand-right::before {
        border: 4px solid #0a4369;
        border-color: transparent transparent transparent #0a4369;
    }
    .iui-menu-marker-expand-left::before {
        border: 4px solid #0a4369;
        border-color: transparent #0a4369 transparent transparent;
    }
    .iui-menu-marker-top::before {
        border: 4px solid #484848;
        border-color: transparent transparent #1177bb transparent;
    }
    .iui-menu-marker-top::after {
        border: 4px solid #484848;
        border-color: transparent transparent #242424 transparent;
    }
    .iui-menu-marker-top-rtl::before {
        border: 4px solid #484848;
        border-color: transparent transparent #000000 transparent;
    }
    .iui-menu-marker-top-rtl::after {
        border: 4px solid #484848;
        border-color: transparent transparent #242424 transparent;
    }
    .iui-menu-marker-left::before {
        border: 4px solid #484848;
        border-color: transparent #000000 transparent transparent;
    }
    .iui-menu-marker-left::after {
        border: 4px solid #484848;
        border-color: transparent #242424 transparent transparent;
    }
    .iui-menu-marker-right::before {
        border: 4px solid #484848;
        border-color: transparent transparent transparent #000000;
    }
    .iui-menu-marker-right::after {
        border: 4px solid #484848;
        border-color: transparent transparent transparent #242424;
    }
    .iui-menu-disabled > ul {
        background: var(--iui-menu-block-disabled-background, #808080);
    }

    .iui-menuitem-separator-content {
        background: var(--iui-menuitem-separator-content-background, #252526);
    }
    
    /* Header */
    .iui-menuitem-header {
        background: var(--iui-menuitem-header-background, #074269);
    }
`;var B9=De`
    .iui-menu {
        background: var(--iui-menu-background, #2455b0);
    }
    .iui-menu > ul {
        background: var(--iui-menu-block-background, #2455b0);
    }
    .iui-menuitem-root, .iui-menuitem-root-vertical {
        border-color: var(--iui-menuitem-root-border-color, #2455b0);
        color: var(--iui-menuitem-root-color, white);
    }
    .iui-menuitem-root-hovered {
        background: var(--iui-menuitem-root-hovered-background, #153268);
        border-color: var(--iui-menuitem-root-hovered-border-color, #0f244a);
        color: var(--iui-menuitem-root-hovered-color, white);
    }
    .iui-contextmenuitem-root-hovered {
        border-color: var(--fwcGrey7);
        background-color: var(--fwcGrey7);
        color: var(--iui-menuitem-root-hovered-color, black);
    }
    .iui-menuitem-root-hovered a {
        color: black;
    }
    .iui-menuitem-root-selected {
        background: var(--iui-menuitem-root-selected-background, #153268);
        border-color: var(--iui-menuitem-root-selected-border-color, #0f244a);
        color: var(--iui-menuitem-root-selected-color, white);
    }
    .iui-contextmenuitem-root-selected {
        background: var(--iui-menuitem-root-selected-background, #d9edfd);
        border: var(--iui-menuitem-root-selected-border, thin solid #d9edfd);
        color: var(--iui-menuitem-root-selected-color, black);
    }
    
    .iui-menuitem, .iui-contextmenuitem {
        background: var(--iui-menuitem-background, #fefefe);
        border-color: var(--iui-menuitem-border-color, #fefefe);
    }
    .iui-menuitem-hovered, .iui-contextmenuitem-hovered {
        background: var(--iui-menuitem-hovered-background, #d9edfd);
        border-color: var(--iui-menuitem-hovered-border-color, #d9edfd);
        color: var(--iui-menuitem-hovered-color, black);
    }
    .iui-menuitem-selected, .iui-contextmenuitem-selected {
        background: var(--iui-menuitem-selected-background, #d9edfd);
        border-color: var(--iui-menuitem-selected-border-color, #d9edfd);
        color: var(--iui-menuitem-selected-color, black);
    }
    .iui-menuitem-selected a {
        color: black;
    }
    .iui-menu li > ul {
        background: var(--iui-menuitem-block-background, #fefefe);
        border-color: var(--iui-menuitem-block-border-color, #1e4691);
    }
    .iui-menu-expand-box {
        width: 16px;
        height: 16px;
    }
    .iui-menu-marker-expand-down::before {
        border: 4px solid #6791e1;
        border-color: #6791e1 transparent transparent transparent;
    }
    .iui-menu-marker-expand-down-rtl::before {
        border: 4px solid #6791e1;
        border-color: #6791e1 transparent transparent transparent;
    }
    .iui-menu-marker-expand-right::before {
        border: 4px solid #6791e1;
        border-color: transparent transparent transparent #6791e1;
    }
    .iui-menu-marker-expand-left::before {
        border: 4px solid #6791e1;
        border-color: transparent #6791e1 transparent transparent;
    }
    .iui-menu-marker-top::before {
        border: 4px solid #fefefe;
        border-color: transparent transparent #1e4691 transparent;
    }
    .iui-menu-marker-top::after {
        border: 4px solid #fefefe;
        border-color: transparent transparent #fefefe transparent;
    }
    .iui-menu-marker-top-rtl::before {
        border: 4px solid #fefefe;
        border-color: transparent transparent #1e4691 transparent;
    }
    .iui-menu-marker-top-rtl::after {
        border: 4px solid #fefefe;
        border-color: transparent transparent #fefefe transparent;
    }
    .iui-menu-marker-left::before {
        border: 4px solid #fefefe;
        border-color: transparent #1e4691 transparent transparent;
    }
    .iui-menu-marker-left::after {
        border: 4px solid #fefefe;
        border-color: transparent #fefefe transparent transparent;
    }
    .iui-menu-marker-right::before {
        border: 4px solid #fefefe;
        border-color: transparent transparent transparent #1e4691;
    }
    .iui-menu-marker-right::after {
        border: 4px solid #fefefe;
        border-color: transparent transparent transparent #fefefe;
    }
    .iui-menu-disabled > ul {
        background: var(--iui-menu-block-disabled-background, #808080);
    }
    
    /* Header */
    .iui-menuitem-header {
        background: var(--iui-menuitem-header-background, #1e4691);
    }
`;var nR=class extends M9{_init(){super._init(),this._dataService=new Tm,this._contentAnimation={display:"none",left:0,width:0,height:0},this._currentAnimationSpeedValue=250,this._currentDataFields={},this._dataItems=[],this._childItems=[],this._currentLevel=0,this._currentOrientation=Sr.Vertical,this._currentPause=300,this._currentIconUrl=null,this._expandState="none",this._isExpanded=!1,this._isItemHovered=!1,this._blockPos={top:0,left:0},this._popupOrder=999,this._blockDisplay="none",this._blockElemWidth="0",this._blockElemHeight="0",this._blockOverflow="hidden",this._blockOpacity=0,this._pauseTimer=null,this._skipPause=!1,this._parentOffset={left:0,top:0,width:0,height:0},this._currentTemplateRef=null,this._currentControlStyleSettings=iR,this._updateDataFields(),this._updateData(),this._initStyle()}_initClassNames(){this._parentClassName=this._parentCtrl&&this._parentCtrl._getClassName?this._parentCtrl._getClassName():"iui-menu",this._generalClassName=this.data&&!this.data.pid?this._parentClassName+"item-root":this._parentClassName+"item",this._blockClassName=this._parentClassName+"item-block",this._contentClassName=this._generalClassName+"-content",this._expandBoxClassName="iui-menu-marker-expand",this._expandBoxSpaceClassName=this._expandBoxClassName+"-space",this._headerClassName=this._parentClassName+"-header",this._separatorClassName=this._generalClassName+"-separator",this._isExpanded=this.data&&this.data.expanded!==void 0?this.data.expanded:!1,this._defaultStyle={general:{disabled:this._generalClassName+"-disabled",focused:this._generalClassName+"-focused",normal:this._generalClassName,hovered:this._generalClassName+"-hovered",selected:this._generalClassName+"-selected"},expandBox:{general:this._expandBoxClassName,animated:this._expandBoxClassName+"-load",expanded:this._expandBoxClassName+"-open",collapsed:this._expandBoxClassName+"-close"},header:this._headerClassName,content:{disabled:this._contentClassName+"-disabled",focused:this._contentClassName+"-focused",normal:this._contentClassName,hovered:this._contentClassName+"-hovered",selected:this._contentClassName+"-selected"},separator:this._separatorClassName}}_initStyle(){this._initClassNames(),this._updateColorSchemeSettings(this._currentColorScheme),this.refresh()}connectedCallback(){}disconnectedCallback(){this._removePauseTimer()}setParent(n){this._parentCtrl=n,this._initClassNames()}attributeChangedCallback(n,e,t){super.attributeChangedCallback(n,e,t)}static get properties(){return{dataFields:{type:Object,attribute:"data-fields"},expanded:{type:Boolean,reflect:!0},items:{type:Array},level:{type:Number,reflect:!0},orientation:{converter:{fromAttribute:n=>(n=n.replace(/"|'/,"").replace(/"|'/,"")).toLowerCase()==="horizontal"?Sr.Horizontal:Sr.Vertical,toAttribute:(n,e)=>n===Sr.Horizontal?"Horizontal":"Vertical"},reflect:!0},pause:{type:Number,reflect:!0},templateRef:{type:Object,attribute:"template-ref"}}}get data(){return this._ctrlData}set data(n){if(this._ctrlData!==n){let e=this._ctrlData;this._ctrlData=n,this._initStyle(),this.requestUpdate("data",e)}}get dataFields(){return this._currentDataFields}set dataFields(n){let e=this._currentDataFields;this._updateDataFields(n),this.requestUpdate("dataFields",e)}get expanded(){return this._isExpanded}set expanded(n){this._isEnabled&&(n?this._expandState="expand":this._expandState="collapse",this._isExpanded=n,this._toggleContent())}get iconUrl(){return this._currentIconUrl}set iconUrl(n){if(this._currentIconUrl!==n){let e=this._currentIconUrl;this._currentIconUrl=n,this.requestUpdate("iconUrl",e)}}get items(){return this._dataItems}set items(n){let e=this._dataItems;this._dataItems=n,this._updateData(),this.requestUpdate("items",e)}get level(){return this._currentLevel}set level(n){if(this._currentLevel!==n){let e=this._currentLevel;this._currentLevel=n,this.requestUpdate("level",e)}}get orientation(){return this._currentOrientation}set orientation(n){if(this._currentOrientation!==n){let e=this._currentOrientation;this._currentOrientation=n,this.requestUpdate("orientation",e)}}get pause(){return this._currentPause}set pause(n){if(this._currentPause!==n){let e=this._currentPause;this._currentPause=n,this.requestUpdate("pause",e)}}get templateRef(){return this._currentTemplateRef}set templateRef(n){if(this._currentTemplateRef!==n){let e=this._currentTemplateRef;this._currentTemplateRef=n,this.requestUpdate("templateRef",e)}}_updateData(){this._dataService.init([{data:this.items,fields:this._currentDataFields}])}_updateDataFields(n){n?this._currentDataFields={allowCheckBox:n.allowCheckBox?n.allowCheckBox:"allowCheckBox",allowRadioButton:n.allowRadioButton?n.allowRadioButton:"allowRadioButton",checked:n.checked?n.checked:"checked",enabled:n.enabled?n.enabled:"enabled",expanded:n.expanded?n.expanded:"expanded",hasChildren:n.hasChildren?n.hasChildren:"hasChildren",icon:n.icon?n.icon:"icon",iconUrl:n.iconUrl?n.iconUrl:"iconUrl",id:n.id?n.id:"id",items:n.items?n.items:"items",objects:n.items?n.items:"items",pid:n.pid?n.pid:"pid",radioGroup:n.radioGroup?n.radioGroup:"radioGroup",shortcutKey:n.shortcutKey?n.shortcutKey:"shortcutKey",style:n.style?n.style:"style",text:n.text?n.text:"text",tooltip:n.tooltip?n.tooltip:"tooltip",value:n.value?n.value:"value",visible:n.visible?n.visible:"visible"}:this._currentDataFields={allowCheckBox:"allowCheckBox",allowRadioButton:"allowRadioButton",checked:"checked",enabled:"enabled",expanded:"expanded",hasChildren:"hasChildren",icon:"icon",iconUrl:"iconUrl",id:"id",items:"items",objects:"items",pid:"pid",radioGroup:"radioGroup",shortcutKey:"shortcutKey",style:"style",text:"text",tooltip:"tooltip",value:"value",visible:"visible"},this._dataService&&this._dataService.updateDataFields(this._currentDataFields)}collapse(){this.expanded=!1,this._childItems&&this._childItems.forEach(n=>n.collapse()),this.refresh()}expand(){this.expanded=!0}toggle(){this.expanded=!this.expanded}_onExpandBoxMouseDown(n){this._isEnabled&&this.toggle()}_getDataType(){return this.data&&this.data.type?this.data.type:"item"}_getItemLevel(){return this._currentLevel!==void 0?this._currentLevel+1:0}_getOffset(){return this._elemRef?{left:this._elemRef.offsetLeft,top:this._elemRef.offsetTop,width:this._elemRef.offsetWidth,height:this._elemRef.offsetHeight}:{left:0,top:0,width:0,height:0}}_isThereChildren(){return this._dataItems&&this._dataItems.length>0}_isBlockVisible(){return this._isItemHovered&&this._isThereChildren()}_isCheckBoxVisible(){return this.data&&this.data[this._currentDataFields.allowCheckBox]===!0}_isRadioButtonVisible(){return this.data&&this.data[this._currentDataFields.allowRadioButton]===!0}setOffset(n){this._parentOffset=n}updateLayout(n){return N(this,null,function*(){let e=this;e._updateReferences();let t=setTimeout(function(){if(e.data&&e._elemRef){let r=e._commonService.getPadding(e._elemRef);e._clientRect={width:e._elemRef.clientWidth-(r.left+r.right),height:e._elemRef.clientHeight-(r.top+r.bottom)},e.data.pid||e._currentOrientation===Sr.Vertical?e._blockPos={top:e._currentLevel>0?-2:-1,left:e._elemRef.offsetLeft+e._elemRef.offsetWidth-3}:e._blockPos={top:e._parentOffset.height-8,left:-1}}e.refresh(),clearTimeout(t)},1)})}_checkItem(n){if(this._isEnabled&&this.data){let e=this._getItemCheckValue();this.data[this._currentDataFields.checked]=!e,this._parentCtrl&&this._parentCtrl.invokeCtrlMethod("UPDATE_CHECKBOX",{event:n,cmp:this,item:this.data,checked:this._getItemCheckValue()}),this.update()}n.stopPropagation()}_checkMouseUp(n){n.stopPropagation()}_checkedChanged(n){let e=n.detail.checked;this.data[this._currentDataFields.checked]!==e&&(this.data[this._currentDataFields.checked]=e,this._parentCtrl&&this._parentCtrl.invokeCtrlMethod("UPDATE_RADIOBUTTON",{event:n,cmp:this,item:this.data,checked:this._getItemCheckValue()}),this.update()),n.stopPropagation()}_getItemCheckValue(){return!!(this.data&&this.data[this._currentDataFields.checked]===!0)}_onMouseEnter(n){if(this._isEnabled){if(this.state|=Hi.Hovered,this._isItemHovered=!0,this.updateLayout(),this.data&&this.data[this._currentDataFields.pid])this.expand();else if(this._parentCtrl&&this._parentCtrl._isMenuActive()){let e=this._parentCtrl._getActiveMenu();e&&e!==this&&e.collapse(),this.data&&!this.data[this._currentDataFields.pid]&&this._parentCtrl._setActiveMenu(this),e&&e.refresh(),this.expand()}this.refresh(),this._invokeEvent("mouseEnter",n)}n.stopPropagation()}_onMouseDown(n){this._isEnabled&&this._invokeEvent("mouseDown",n),n.stopPropagation()}_onMouseLeave(n){this._isEnabled&&(this.state&=~Hi.Hovered,this._removePauseTimer(),this._isItemHovered=!1,this._parentCtrl&&(this.data&&this.data[this._currentDataFields.pid]?this.collapse():this!==this._parentCtrl._getActiveMenu()&&this.collapse()),this.refresh(),this._invokeEvent("mouseLeave",n)),n.stopPropagation()}_onMouseUp(n){this._isEnabled&&(n.which===1&&this._parentCtrl&&(this._parentCtrl.invokeCtrlMethod("MENU_CLICK",{event:n,cmp:this,item:this.data}),this.data&&!this.data[this._currentDataFields.pid]&&(this._skipPause=!0,this.expand(),this._parentCtrl.invokeCtrlMethod("ACTIVATE_MENU",{event:n,cmp:this,item:this.data}),this.refresh())),this._invokeEvent("mouseUp",n)),n.stopPropagation()}_onContextMenu(n){n.preventDefault(),n.stopPropagation()}_onChildItemMouseDown(n){this.collapse()}_radioMouseDown(n){n.stopPropagation()}_radioMouseUp(n){n.stopPropagation()}_animationCallbackClose(n,e){if(n.length>0){let t=n[0].values;this._blockOpacity=t.opacity,this._blockPos.top=t.top}e&&(this._blockDisplay="none",this._blockElemHeight="0",this._expandState="none"),this.update()}_animationCallbackOpen(n,e){if(n.length>0){let t=n[0].values;this._blockOpacity=t.opacity,this._blockPos.top=t.top}e&&(this._blockElemHeight="auto",this._blockOverflow="visible",this._expandState="none"),this.update()}_removePauseTimer(){this._pauseTimer&&clearTimeout(this._pauseTimer),this._pauseTimer=null}_toggleContent(){let n=this;if(n._dataItems)if(n._clearActiveAnimations(),n._isAnimationAllowed)if(n._isExpanded)if(n._removePauseTimer(),n.data&&!n.data[this._currentDataFields.pid]&&n._parentCtrl&&n._parentCtrl._isMenuActive()&&!n._parentCtrl._isContextMenu())n._blockDisplay="block",n._blockElemHeight="auto",n._blockOverflow="visible",n._blockOpacity=1,n._expandState="none",n.refresh();else{let e=n._skipPause?0:300;n._pauseTimer=setTimeout(function(){if(n._pauseTimer){n._blockDisplay="block",n._blockElemHeight="auto",n._blockOverflow="visible";let t=new Lo,r=n._animationCallbackOpen.bind(n);n._activeAnimations.push(t);let o={opacity:0,top:n._blockPos.top+5},s={opacity:1,top:n._blockPos.top};t.animate({current:o,values:s},0,n._currentAnimationSpeedValue,r)}n._skipPause=!1,n._removePauseTimer()},e)}else if(n.data&&!n.data[this._currentDataFields.pid]&&n._parentCtrl&&n._parentCtrl._isMenuActive()&&!n._parentCtrl._isContextMenu())n._blockOverflow="hidden",n._blockDisplay="none",n._blockElemHeight="0",n._blockOpacity=0,n._expandState="none",n.refresh();else{n._blockOverflow="hidden",n.update();let e=new Lo,t=n._animationCallbackClose.bind(n);n._activeAnimations.push(e);let r={opacity:1,top:n._blockPos.top},o={opacity:0,top:n._blockPos.top+5};e.animate({current:r,values:o},0,n._currentAnimationSpeedValue/2,t)}else n._isExpanded?(n._removePauseTimer(),n._pauseTimer=setTimeout(function(){n._pauseTimer&&(n._blockDisplay="block",n._blockElemHeight="auto",n._blockOverflow="visible",n._blockOpacity=1,n._expandState="none"),n.refresh(),n._removePauseTimer()},300)):(n._blockOverflow="hidden",n._blockDisplay="none",n._blockElemHeight="0",n._blockOpacity=0,n._expandState="none",n.refresh())}_getControlStyle(){let n=this._currentInlineStyle||{};return this.data&&(n=this.data.style||{}),n.display=this._getItemDisplay(),n}_getItemDisplay(){let n="block";return this.data&&this.data.pid!==void 0?n=this._currentOrientation?this._currentOrientation===Sr.Vertical?"block":"inline-block":"block":n=this._currentOrientation&&this._currentOrientation===Sr.Vertical?"block":"inline-block",n}_isContextMenu(){return this._parentCtrl&&this._parentCtrl._isContextMenu()}_isMenuActive(){return this._parentCtrl&&this._parentCtrl._isMenuActive()&&this._parentCtrl._getActiveMenu()===this}_getCheckBoxClass(){let n={"iui-menuitem-checkbox":!0};return this._getItemCheckValue()&&(n["iui-menuitem-checkbox-checked"]=!0),n}_getExpandBoxSpaceClass(){let n="";return this._isThereChildren()&&(n=this._expandBoxSpaceClassName),n}_getExpandBoxClass(){let n="";return this._isThereChildren()&&(n=this._defaultStyle.expandBox.general),n}_updateColorSchemeSettings(n){switch(this._currentColorSchemeSettings=De``,n){case mi.Dark:this._currentColorSchemeSettings.cssText=this._commonService.replaceAll(V9.cssText,"../../../icons",this._currentResourcePath);break;case mi.Light:this._currentColorSchemeSettings.cssText=this._commonService.replaceAll(B9.cssText,"../../../icons",this._currentResourcePath);break;default:this._currentColorSchemeSettings.cssText=""}}_updateControlClass(){if(this._ctrlClass={},this._ctrlClass[this._generalClassName]=!0,this._getDataType()==="header")this._ctrlClass[this._defaultStyle.header]=!0;else if(this._getDataType()==="separator")this._ctrlClass[this._defaultStyle.separator]=!0;else if(this._defaultStyle&&(this._ctrlClass[this._defaultStyle.general.normal]=!0,this.state&Hi.Disabled?this._ctrlClass[this._defaultStyle.general.disabled]=!0:this.state&Hi.Focused?this._ctrlClass[this._defaultStyle.general.focused]=!0:this._isMenuActive()||this.state&Hi.Selected?this._ctrlClass[this._defaultStyle.general.selected]=!0:this.state&Hi.Hovered&&(this._ctrlClass[this._defaultStyle.general.hovered]=!0),this._isThereChildren())){let n=this._getExpandBoxClass();this.data&&this.data.pid||this._currentOrientation===Sr.Vertical?n+="-right":n+="-down",this._ctrlClass[n]=!0,this._ctrlClass[this._getExpandBoxSpaceClass()]=!0}}_updateStyle(n){n?this._options.currentStyle={general:this._getGeneralStyle(n.general),content:this._getContentStyle(n.content)}:this._options.currentStyle={general:{disabled:this._defaultStyle.general.disabled,focused:this._defaultStyle.general.focused,hovered:this._defaultStyle.general.hovered,normal:this._defaultStyle.general.normal,selected:this._defaultStyle.general.selected},expandBox:{general:this._defaultStyle.expandBox.general,animated:this._defaultStyle.expandBox.animated,expanded:this._defaultStyle.expandBox.expanded,collapsed:this._defaultStyle.expandBox.collapsed},header:this._defaultStyle.header,content:{disabled:this._defaultStyle.content.disabled,focused:this._defaultStyle.content.focused,hovered:this._defaultStyle.content.hovered,normal:this._defaultStyle.content.normal,selected:this._defaultStyle.content.selected},separator:this._defaultStyle.separator}}_updateThemeSettings(n){switch(this._currentThemeSettings=De``,n){case An.Office:this._currentThemeSettings.cssText=this._commonService.replaceAll(N9.cssText,"../../../icons",this._currentResourcePath);break;default:this._currentThemeSettings.cssText=""}}_getItemTemplate(n){return this._parentCtrl&&this._parentCtrl._getItemTemplate?this._parentCtrl._getItemTemplate(n):Ke``}firstUpdated(n){this._updateReferences(),this.updateLayout()}_getCheckBoxLayout(){let n=Ke``;return this._isCheckBoxVisible()&&(n=Ke`<span class=${wn(this._getCheckBoxClass())} @mousedown="${e=>this._checkItem(e)}" @mouseup="${e=>this._checkMouseUp(e)}" @touchstart="${e=>this._checkItem(e)}"></span>`),n}_getChildItemLayout(){return this._isThereChildren()?Ke`<ul id="block" class="iui-menuitem-block" style=${Ji({display:this._blockDisplay,top:this._blockPos.top+"px",left:this._blockPos.left+"px",height:this._blockElemHeight,overflow:this._blockOverflow,opacity:this._blockOpacity})}>                     ${this._dataItems.filter(n=>n[this._currentDataFields.visible]!==!1).map(n=>Ke`                             <iui-menuitem .allowAnimation="${this.allowAnimation}" .colorScheme="${this._currentColorScheme}" .customStyle="${this.customStyle}" .data="${n}" .dataFields="${this._currentDataFields}" .enabled="${n[this._currentDataFields.enabled]}" .items="${n[this._currentDataFields.items]}" .icon="${n[this._currentDataFields.icon]}" .iconUrl="${n[this._currentDataFields.iconUrl]}" .level="${this._getItemLevel()}" .resourcePath="${this.resourcePath}" .text="${n[this._currentDataFields.text]}" .templateRef="${this._getItemTemplate(n)}" .theme="${this.theme}"></iui-menuitem>                     `)}                 </ul>`:Ke``}_getHeaderLayout(){let n=Ke``;if(this.data&&this._getDataType()==="header"){let e=this._commonService.getStyle(this.data[this._currentDataFields.style]);n=Ke`                 <div class="iui-menuitem-header" style=${Ji(e)}>                     ${this.templateRef}                 </div>             `}return n}_getItemLayout(){let n=Ke``;return this._getDataType()==="item"&&(n=Ke`<div class="iui-menuitem-content-template">                     ${this.templateRef}                     ${this._getChildItemLayout()}                 </div>`),n}_getRadioButtonLayout(){let n=Ke``;if(this._isRadioButtonVisible()){let e=De`                 .iui-radio-button {                     margin: var(--iui-radio-button-margin, 0 3px);                     padding: var(--iui-radio-button-padding, 3px 0);                 }                 .iui-radio-button-btn {                     margin: var(--iui-radio-button-btn-margin, 0);                 }                 .iui-radio-button-btn span {                     height: var(--iui-radio-button-btn-content-height, 10px);                     width: var(--iui-radio-button-btn-content-width, 10px);                 }             `;n=Ke`                 <iui-radiobutton                      .checked=${this._getItemCheckValue()}                     .colorScheme="${this._currentColorScheme}"                     .customStyle="${[e,this.customStyle]}"                     .enabled="${this.enabled}"                      .theme="${this.theme}"                     @checkedChanged="${t=>this._checkedChanged(t)}"                     @mousedown="${t=>this._radioMouseDown(t)}"                     @mouseup="${t=>this._radioMouseUp(t)}"                 ></iui-radiobutton>`}return n}_getSeparatorLayout(){let n=Ke``;if(this._getDataType()==="separator")if(this.data){let e=this._commonService.getStyle(this.data[this._currentDataFields.style]),t=re({},e.content)||{},r=re({},e.line)||{};this.data.text?n=Ke`                         <hr class="iui-menuitem-inline-separator" style=${Ji(r)} />                         <div class="iui-menuitem-separator-content" style=${Ji(t)}>                             ${this.templateRef}                         </div>                     `:n=Ke`<hr style=${Ji(r)} />`}else n=Ke`<hr />`;return n}refresh(){this._updateStyle(this.controlStyle),this._updateControlClass(),this._updateContentClass(),this.update(),this._updateReferences(),this._refreshChildren()}_refreshChildren(){this._childItems&&this._childItems.forEach(n=>n.refresh())}render(){return Ke`             <style>                 ${this._currentControlStyleSettings}                 ${this._currentThemeSettings}                 ${this._currentColorSchemeSettings}                 ${this._currentCustomStyle}             </style>             <li data-ctrl="menuitem" class=${wn(this._getControlClass())} style=${Ji(this._getControlStyle())} @click="${n=>this._onClick(n)}" @contextmenu="${n=>this._onContextMenu(n)}" @mousedown="${n=>this._onMouseDown(n)}" @mouseup="${n=>this._onMouseUp(n)}" @mouseenter="${n=>this._onMouseEnter(n)}" @mousemove="${n=>this._onMouseMove(n)}" @mouseleave="${n=>this._onMouseLeave(n)}">                 ${this._getHeaderLayout()}                 ${this._getCheckBoxLayout()}                 ${this._getRadioButtonLayout()}                 ${this._getItemLayout()}                 ${this._getSeparatorLayout()}             </li>         `}_updateControlStyleSettings(n){this._currentControlStyleSettings=De``,this._currentControlStyleSettings.cssText=this._commonService.replaceAll(iR.cssText,"../../icons",n)}_updateReferences(){this._elemRef=this.shadowRoot.querySelector("li[data-ctrl=menuitem]"),this._blockElem=this.shadowRoot.querySelector("#block"),this._blockElem&&(this._childItems=this._blockElem.querySelectorAll("iui-menuitem"),this._childItems&&this._childItems.forEach(n=>{n.setParent(this._parentCtrl),n.setOffset(this._getOffset())}))}};window.customElements.define("iui-menuitem",nR);var rR=De`
    :root {
        --fwcLightGreyGradient1: #{$fwcLightGreyGradient1};
        --fwcLightGreyGradient2: #{$fwcLightGreyGradient2};
    }

    .iui-contextmenu {
        border: 1px solid var(--fwcGrey7) !important;
        border-radius: 3px !important;
        box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.3) !important;
        font-family: "Montserrat", "Arial", sans-serif !important;
        font-size: 0.9rem !important;
        color: var(--inputColor);
        background: linear-gradient(
            to bottom,
            var(--fwcLightGreyGradient1) 0%,
            var(--fwcLightGreyGradient2) 100%
        ) !important;
        cursor: default;
        margin: 0;
        overflow: visible;
        position: absolute;
        z-index: 1999 !important;
        width: 17rem !important;

        -webkit-user-select: none;
        -khtml-user-select: none;
        -moz-user-select: none;
        -o-user-select: none;
        -ms-user-select: none;
        user-select: none;
        line-height: 1.1;
    }

    .iui-contextmenu:focus {
        outline: none !important;
    }
    .iui-contextmenu ul {
        margin: 0;
        padding: 0;
    }
    .iui-menuitem-label {
    margin-left: 4px;
    }
   
    .iui-menuitem-block {
        width: var(--iui-contextmenu-width, 150px);
    }
    .iui-menuitem-root {
        color: var(--inputColor);
        display: block !important;
        padding-top: 0 !important;
        padding-bottom: 0 !important;
    }
    .iui-menuitem-root:hovered, :selected {
        border-color: var(--fwcGrey7);
        background-color: var(--fwcGrey7);
        }
    `;var U9=De`
`;var j9=De`
    .iui-contextmenu {
        background: var(--iui-contextmenu-background, #252526);
        border-color:  var(--iui-contextmenu-border-color, #151515);
        box-shadow: var(--iui-contextmenu-box-shadow, 0 2px 5px #151515);
        color: var(--iui-contextmenu-color, #cccccc);
    }
    .iui-menuitem-block {
        background: var(--iui-menuitem-block-background, #252526);
        border: var(--iui-menuitem-block-border, thin solid #151515);
        border-color: var(--iui-menuitem-block-border-color, #151515);
    }
    .iui-contextmenuitem-root {
        border-color: var(--iui-menuitem-root-border-color, transparent);
        color: var(--iui-menuitem-root-color, #cccccc);
    }
    .iui-contextmenuitem-root-hovered {
        background: var(--iui-menuitem-root-hovered-background, #1177bb);
        border-color: var(--iui-menuitem-root-hovered-border-color, #1177bb);
        color: var(--iui-menuitem-root-hovered-color, white);
    }
    .iui-contextmenuitem-root-selected {
        background: var(--iui-menuitem-root-selected-background, #1177bb);
        border-color: var(--iui-menuitem-root-selected-border-color, #1177bb);
        color: var(--iui-menuitem-root-selected-color, white);
    }
    .iui-contextmenuitem-root-separator, .iui-contextmenuitem-separator {
        background: var(--iui-menuitem-separator-background, #252526);
    }
    .iui-contextmenuitem-root-separator > hr, .iui-contextmenuitem-separator > hr {
        background: var(--iui-menuitem-separator-line-background, #151515);
    }
`;var H9=De`
    .iui-contextmenu {
        background: var(--iui-contextmenu-background, #fefefe);
        border: var(--iui-contextmenu-border, thin solid #dedede);
    }
    .iui-menuitem-block {
        background: var(--iui-menuitem-block-background, #f5f5f5);
        border: var(--iui-menuitem-block-border, thin solid #dedede);
        border-color: var(--iui-menuitem-block-border-color, #dedede);
    }
    .iui-contextmenuitem-root {
        border-color: var(--iui-menuitem-root-border-color, transparent);
        color: var(--iui-menuitem-root-color, black);
    }
    .iui-contextmenuitem-root-hovered {
        border-color: var(--fwcGrey7);
        background-color: var(--fwcGrey7);
        color: var(--iui-menuitem-root-hovered-color, black);
    }
    .iui-contextmenuitem-root-selected {
        border-color: var(--fwcGrey7);
        background-color: var(--fwcGrey7);
        color: var(--iui-menuitem-root-selected-color, black);
    }
`;var $w=class extends Am{constructor(){super(),this._commonService=new Em,this._dataService=new Tm,this._activeAnimations=[],this._currentAnimationSpeedValue=250,this._isAnimationAllowed=!0,this._currentDataFields={},this._currentOptions={},this._fullList=[],this._menuItems=[],this._updateOptions(),this._blockDisplay="none",this._ctrlOpacity=0,this._currentResourcePath="../icons",this._menuActive=!0,this._currentActiveMenu=null,this._currentControlStyleSettings=rR,this._currentCustomStyle=[],this._currentTheme=An.None,this._currentThemeSettings=De``,this._ctrlClass={},this._generalClassName="iui-contextmenu",this._initTimout=null,this._updateDataFields(),this._initStyle(),this._updateData()}_initStyle(){this._defaultStyle={general:{disabled:this._generalClassName+"-disabled",focused:this._generalClassName+"-focused",normal:this._generalClassName,hovered:this._generalClassName+"-hovered",selected:this._generalClassName+"-selected"}},this._updateColorSchemeSettings(this._currentColorScheme),this.refresh(),this._initFocus()}_initFocus(){let n=this;n._initTimout=setTimeout(function(){n._elemRef&&n._elemRef.focus()},1)}connectedCallback(){super.connectedCallback()}disconnectedCallback(){super.disconnectedCallback(),this._clearAnimations(),this._initTimout&&clearTimeout(this._initTimout),this._initTimout=null}attributeChangedCallback(n,e,t){super.attributeChangedCallback(n,e,t)}static get properties(){return{allowAnimation:{type:Boolean,attribute:"allow-animation",reflect:!0},colorScheme:{converter:{fromAttribute:n=>{switch((n=n.replace(/"|'/,"").replace(/"|'/,"")).toLowerCase()){case"light":return mi.Light;case"dark":return mi.Dark;default:return mi.None}},toAttribute:n=>{switch(n){case mi.Light:return"Light";case mi.Dark:return"Dark";default:return"None"}}},reflect:!0},customStyle:{type:Object,attribute:"custom-style"},dataFields:{type:Object,attribute:"data-fields"},options:{type:Object},resourcePath:{type:String,attribute:"resource-path",reflect:!0},theme:{converter:{fromAttribute:n=>{switch((n=n.replace(/"|'/,"").replace(/"|'/,"")).toLowerCase()){case"office":return An.Office;case"dark":return An.Dark;default:return An.None}},toAttribute:n=>{switch(n){case An.Office:return"Office";case An.Dark:return"Dark";default:return"None"}}},reflect:!0}}}get allowAnimation(){return this._isAnimationAllowed}set allowAnimation(n){if(this._isAnimationAllowed!==n){let e=this._isAnimationAllowed;this._isAnimationAllowed=n,this.requestUpdate("allowAnimation",e)}}get colorScheme(){return this._currentColorScheme}set colorScheme(n){if(this._currentColorScheme!==n){let e=this._currentColorScheme;this._currentColorScheme=n,this._updateColorSchemeSettings(n),this.requestUpdate("colorScheme",e),this.refresh()}}get customStyle(){return this._currentCustomStyle}set customStyle(n){if(this._currentCustomStyle!==n){let e=this._currentCustomStyle;this._currentCustomStyle=n,this.requestUpdate("customStyle",e),this.refresh()}}get dataFields(){return this._currentDataFields}set dataFields(n){let e=this._currentDataFields;this._updateDataFields(n),this.requestUpdate("dataFields",e)}get options(){return this._currentOptions}set options(n){let e=this._currentOptions;this._updateOptions(n),this.refresh(),this.requestUpdate("options",e)}get resourcePath(){return this._currentResourcePath}set resourcePath(n){if(this._currentResourcePath!==n){let e=this._currentResourcePath;this._currentResourcePath=n,this._updateColorSchemeSettings(this._currentColorScheme),this._updateControlStyleSettings(n),this.requestUpdate("resourcePath",e)}}get theme(){return this._currentTheme}set theme(n){if(this._currentTheme!==n){let e=this._currentTheme;this._currentTheme=n,this._updateThemeSettings(n),this.requestUpdate("theme",e)}}_animationCallback(n,e){if(n.length>0){let t=n[0].values;this._ctrlOpacity=t.opacity,this._currentOptions.position.y=t.top,this.update()}}_clearActiveAnimations(){this._activeAnimations.filter(n=>n.isActive()).forEach(n=>n.destroy())}_clearAnimations(){this._activeAnimations.forEach(n=>{n.destroy(),n=void 0}),this._activeAnimations.length=0}_addChildItems(n,e){let t=!0;if(!n[this._currentDataFields.items])return t=this._addItemToCurrentList(n,e);if(this._addItemToCurrentList(n,e)){t=!0;let r=n[this._currentDataFields.items];r&&r.forEach(o=>this._addChildItems(o,n[this._currentDataFields.id]))}return t}_addItemToCurrentList(n,e){n[this._currentDataFields.id]||(n[this._currentDataFields.id]=this._commonService.getUniqueId()),e&&(n[this._currentDataFields.pid]=e);let t=this._isItemAllowed(n);return t&&this._fullList.push(n),t}getFullList(){return this._fullList}_isItemAllowed(n){return n[this._currentDataFields.visible]!==!1}_updateOptions(n){n?(this._currentOptions={adjustment:this._commonService.isFieldAvailable(n.adjustment,{top:0,left:0}),autoClose:this._commonService.isFieldAvailable(n.autoClose,!0),direction:this._commonService.isFieldAvailable(n.direction,xm.None),inverse:this._commonService.isFieldAvailable(n.inverse,!1),items:this._commonService.isFieldAvailable(n.items,[]),mode:this._commonService.isFieldAvailable(n.mode,"normal"),position:this._commonService.isFieldAvailable(n.position,{x:0,y:-9999999})},this._updateDataFields(n.dataFields)):(this._currentOptions={adjustment:{top:0,left:0},autoClose:!0,direction:xm.None,inverse:!1,items:[],mode:"normal",position:{x:0,y:-9999999}},this._updateDataFields()),this._updateData()}_updateData(){this._dataService.init([{data:this._currentOptions.items,fields:this._currentDataFields}]),this._updateFullList()}_updateDataFields(n){n?this._currentDataFields={allowCheckBox:n.allowCheckBox?n.allowCheckBox:"allowCheckBox",allowRadioButton:n.allowRadioButton?n.allowRadioButton:"allowRadioButton",checked:n.checked?n.checked:"checked",enabled:n.enabled?n.enabled:"enabled",expanded:n.expanded?n.expanded:"expanded",hasChildren:n.hasChildren?n.hasChildren:"hasChildren",icon:n.icon?n.icon:"icon",iconUrl:n.iconUrl?n.iconUrl:"iconUrl",id:n.id?n.id:"id",items:n.items?n.items:"items",objects:n.items?n.items:"items",pid:n.pid?n.pid:"pid",radioGroup:n.radioGroup?n.radioGroup:"radioGroup",shortcutKey:n.shortcutKey?n.shortcutKey:"shortcutKey",style:n.style?n.style:"style",text:n.text?n.text:"text",tooltip:n.tooltip?n.tooltip:"tooltip",value:n.value?n.value:"value",visible:n.visible?n.visible:"visible"}:this._currentDataFields={allowCheckBox:"allowCheckBox",allowRadioButton:"allowRadioButton",checked:"checked",enabled:"enabled",expanded:"expanded",hasChildren:"hasChildren",icon:"icon",iconUrl:"iconUrl",id:"id",items:"items",objects:"items",pid:"pid",radioGroup:"radioGroup",shortcutKey:"shortcutKey",style:"style",text:"text",tooltip:"tooltip",value:"value",visible:"visible"}}_updateFullList(){this._fullList.length=0;let n=this._dataService.getList();n&&n.forEach(e=>this._addChildItems(e,null))}_invokeEvent(n,e,t,r){let o=new CustomEvent(n,{detail:e,bubbles:t!==void 0?t:!1,composed:r!==void 0?r:!1});return this.dispatchEvent(o),e}_onBlur(n){this.autoClose!==!1&&this._invokeEvent("closed",{event:n})}_onRightClick(n){n.preventDefault()}_defaultFunc(){}invokeCtrlMethod(n,e){switch(n){case"MENU_CLICK":e.item&&e.item.type!=="header"&&e.item.type!=="separator"&&(this._invokeEvent("menuClick",{event:e.event,item:e.item}),this.close());break;case"UPDATE_CHECKBOX":this._updateItemCheckBoxValue(e.event,e.item);break;case"UPDATE_RADIOBUTTON":this._updateItemRadioButtonValue(e.event,e.item);break;default:this._defaultFunc()}}_getActiveMenu(){return null}getItemParent(n){return this._dataService.getParent(n)}_isContextMenu(){return!0}_isMenuActive(){return this._menuActive}_setActiveMenu(n){}_getSize(){return{width:this._elemRef.offsetWidth,height:this._elemRef.offsetHeight}}_updateItemCheckBoxValue(n,e){e&&this._invokeEvent("checkedChanged",{event:n,item:e,checked:e[this._currentDataFields.checked]})}_isItemRadioButtonAllowed(n){return n&&n[this._currentDataFields.allowRadioButton]===!0}_updateItemRadioButtonValue(n,e){let t=this;if(e){let r=t.getItemParent(e),o=r?r[t._currentDataFields.items]:t._currentOptions.items;(o=o.filter(s=>s[t._currentDataFields.radioGroup]===e[t._currentDataFields.radioGroup])).forEach(s=>{t._isItemRadioButtonAllowed(s)&&s!==e&&(s[t._currentDataFields.checked]=!1)}),t._invokeEvent("checkedChanged",{event:n,item:e,checked:e[t._currentDataFields.checked],radioGroup:e[t._currentDataFields.radioGroup]}),t._menuItems&&t._menuItems.forEach(s=>s.refresh())}}_adjustPosition(n,e,t,r,o){let s=this,a=s._commonService.getShiftPos();setTimeout(function(){let l=s._getSize(),c=t;if(e==="manual"&&o&&(c.x=o.left+o.width+a.x+s._currentOptions.adjustment.left,c.y=o.bottom+a.y+4+s._currentOptions.adjustment.top,s._currentOptions.direction&xm.Above&&(c.y-=l.height),(s._currentOptions.inverse||s._currentOptions.direction&xm.Left)&&(c.x-=l.width)),r&&c.y+l.height>r.height){let d=c.y+l.height-r.height;c.y-=d}if(s._currentOptions.position=c,s._isAnimationAllowed){s._ctrlOpacity=0;let d=new Lo,p=s._animationCallback.bind(s);s._activeAnimations.push(d);let g={opacity:0,top:s._currentOptions.position.y-10},C={opacity:1,top:s._currentOptions.position.y};d.animate({current:g,values:C},0,s._currentAnimationSpeedValue,p)}else s._ctrlOpacity=1,s.update();s._updateReferences(),s._invokeEvent("menuOpened",{event:n})},10)}close(){this._blockDisplay="none",this.update()}open(n,e,t,r,o){let s=this;s._clearActiveAnimations(),s._currentOptions.items&&(s._blockDisplay="block",s._adjustPosition(n,e,t,r,o))}findItemById(n){return this._dataService.findObjectById(n)}findItemByText(n){return this._dataService.findObjectByText(n)}_getClassName(){return this._generalClassName}_getControlClass(){return this._ctrlClass}_updateControlClass(){this._ctrlClass={},this._ctrlClass["iui-contextmenu"]=!0}_updateColorSchemeSettings(n){switch(this._currentColorSchemeSettings=De``,n){case mi.Dark:this._currentColorSchemeSettings.cssText=this._commonService.replaceAll(j9.cssText,"../../../icons",this._currentResourcePath);break;case mi.Light:this._currentColorSchemeSettings.cssText=this._commonService.replaceAll(H9.cssText,"../../../icons",this._currentResourcePath);break;default:this._currentColorSchemeSettings.cssText=""}}_updateThemeSettings(n){switch(this._currentThemeSettings=De``,n){case An.Office:this._currentThemeSettings.cssText=this._commonService.replaceAll(U9.cssText,"../../../icons",this._currentResourcePath);break;default:this._currentThemeSettings.cssText=""}}_getItemTemplate(n){let e=null;if(this.itemTemplate){let t=this.itemTemplate(n);t&&(e=new Al(t.strings,t.values,"html",sh))}if(!e){let t={},r=this._commonService.isString(n.icon)?n.icon.split(" "):[];r.map(s=>t[s]=!0);let o=n[this._currentDataFields.iconUrl];e=Ke`                 ${r.length>0?Ke`<span class=${wn(t)}></span>`:Ke``}                 ${o?Ke`<img style=${Ji({verticalAlign:"middle"})} src="${o} />`:Ke``}                 <span class="iui-menuitem-label">${n.text}</span>             `}return e}firstUpdated(n){this._updateReferences()}refresh(){this._updateControlClass(),this.update(),this._menuItems&&this._menuItems.forEach(n=>n.refresh())}render(){return Ke`             <style>                 ${this._currentControlStyleSettings}                 ${this._currentThemeSettings}                 ${this._currentColorSchemeSettings}                 ${this._currentCustomStyle}             </style>             <div data-ctrl="contextmenu-win" class=${wn(this._getControlClass())} style=${Ji({top:this._currentOptions.position.y+"px",left:this._currentOptions.position.x+"px",height:"auto",opacity:this._ctrlOpacity})} @blur="${n=>this._onBlur(n)}" @contextmenu="${n=>this._onRightClick(n)}" tabindex="999">                 <ul id="content">                     ${this._currentOptions.items.filter(n=>n[this._currentDataFields.visible]!==!1).map(n=>Ke`                             <iui-menuitem .allowAnimation="${this.allowAnimation}" .colorScheme="${this._currentColorScheme}" .customStyle="${[this._currentControlStyleSettings,this._currentThemeSettings,this._currentCustomStyle]}" .data="${n}" .dataFields="${this._currentDataFields}" .items="${n[this._currentDataFields.items]}" .enabled="${n[this._currentDataFields.enabled]}" .icon="${n[this._currentDataFields.icon]}" .iconUrl="${n[this._currentDataFields.iconUrl]}" .level="0" .resourcePath="${this.resourcePath}" .text="${n[this._currentDataFields.text]}" .templateRef="${this._getItemTemplate(n)}" .theme="${this.theme}"></iui-menuitem>                     `)}                 </ul>             </div>         `}_updateControlStyleSettings(n){this._currentControlStyleSettings=De``,this._currentControlStyleSettings.cssText=this._commonService.replaceAll(rR.cssText,"../../icons",n)}_updateReferences(){this._elemRef=this.shadowRoot.querySelector("div[data-ctrl=contextmenu-win]"),this._contentElem=this.shadowRoot.querySelector("#content"),this._contentElem&&(this._menuItems=this._contentElem.querySelectorAll("iui-menuitem"),this._menuItems&&this._menuItems.forEach(n=>n.setParent(this)))}};window.customElements.define("iui-contextmenu-win",$w);var oR=class extends Bu{constructor(){super(),this._currentSettings=null,this._winScrollPos={top:0,left:0},this._cmpRef=null,this._cmp=null,this._currentThemeSettings=De``}connectedCallback(){}disconnectedCallback(){this._removeContextMenuWindow()}attributeChangedCallback(n,e,t){super.attributeChangedCallback(n,e,t)}static get properties(){return{settings:{type:Object}}}get settings(){return this._currentSettings}set settings(n){if(this._currentSettings!==n){let e=this._currentSettings;this._currentSettings=n,this.requestUpdate("settings",e)}}getFullList(){return this._cmpRef?this._cmpRef.getFullList():[]}_closeContextMenu(){this._cmpRef&&this._cmpRef.close()}getItemParent(n){return this._cmpRef?this._cmpRef.getItemParent(n):null}_removeContextMenu(){this._removeContextMenuWindow()}_menuItemClick(n){this._invokeEvent("menuClick",{event:n.detail.event,item:n.detail.item}),this._removeContextMenuWindow()}_menuItemCheckedChanged(n){this._invokeEvent("checkedChanged",{event:n.detail.event,item:n.detail.item,checked:n.detail.checked,radioGroup:n.detail.radioGroup})}_getSize(){return{width:this._elemRef.offsetWidth,height:this._elemRef.offsetHeight}}_isInsideClick(n){if(this._contentSlotElem=this.shadowRoot.querySelector("slot").assignedNodes(),this._contentSlotElem&&(this._contentSlotElem=this._contentSlotElem.filter(e=>e.nodeType===1),this._contentSlotElem&&this._contentSlotElem.length>0)){let e=this._commonService.getPageRect(this._contentSlotElem[0]),t=this._commonService.getMousePos(n),r=this._commonService.getShiftPos();return t.x-=r.x,t.y-=r.y,t.x>=e.left&&t.x<=e.right&&t.y>=e.top&&t.y<=e.bottom}return!1}_ctrlContextMenu(n){this._isEnabled&&this._currentSettings.position!=="manual"&&this._processMenuOpen(n)}_ctrlMouseDown(n){this._isEnabled&&this._currentSettings.position==="manual"&&(this._currentSettings.buttonType===void 0||this._currentSettings.buttonType<0||n.which===this._currentSettings.buttonType)&&this._processMenuOpen(n,"manual")}_ctrlTouchStart(n){this._isEnabled&&this._currentSettings.position==="manual"&&this._processMenuOpen(n,"manual")}_processMenuOpen(n,e){if(!this._isInsideClick(n))return;n.preventDefault();let t=this;t._winScrollPos={top:document.documentElement.scrollTop,left:document.documentElement.scrollLeft};let r={cancel:!1,event:n};if(t._invokeEvent("menuOpening",r),r.cancel!==!0&&(t._addContextMenuWindow(),t._cmpRef)){t._cmpRef.resourcePath=t._currentResourcePath,t._cmpRef.allowAnimation=t.allowAnimation,t._cmpRef.colorScheme=t._currentColorScheme,t._cmpRef.customStyle=t.customStyle,t._cmpRef.itemTemplate=t.itemTemplate,t._cmpRef.options=t._currentSettings,t._cmpRef.options.mode=e,t._cmpRef.theme=t._currentTheme;let o=t._currentSettings.appSize?t._currentSettings.appSize:{width:window.innerWidth,height:window.innerHeight};e==="manual"?t._cmpRef.open(n,e,{x:0,y:0},o,t._elemRef.getBoundingClientRect()):t._cmpRef.open(n,e,{x:n.pageX,y:n.pageY},o),setTimeout(function(){window.scrollTo(t._winScrollPos.left,t._winScrollPos.top)},5),this._removeContextMenu=this._removeContextMenu.bind(this),this._cmpRef.addEventListener("closed",this._removeContextMenu),this._menuItemClick=this._menuItemClick.bind(this),this._cmpRef.addEventListener("menuClick",this._menuItemClick),this._menuItemCheckedChanged=this._menuItemCheckedChanged.bind(this),this._cmpRef.addEventListener("checkedChanged",this._menuItemCheckedChanged),e==="manual"&&n.stopPropagation()}}_addContextMenuWindow(){this._removeContextMenuWindow(),this._cmpRef=document.createElement("iui-contextmenu-win",{is:$w}),document.body.appendChild(this._cmpRef)}_removeContextMenuWindow(){this._cmpRef&&(this._cmpRef.removeEventListener("menuClick",this._menuItemClick),this._cmpRef.removeEventListener("closed",this._removeContextMenu),this._cmpRef.parentNode.removeChild(this._cmpRef)),this._cmpRef=null}findItemById(n){return this._cmpRef?this._cmpRef.findItemById(n):null}findItemByText(n){return this._cmpRef?this._cmpRef.findItemByText(n):null}firstUpdated(n){this._updateReferences()}refresh(){this._updateStyle(this.controlStyle),this._updateControlClass(),this.update(),this._updateReferences(),this._cmpRef&&this._cmpRef.refresh()}render(){return Ke`             <style>                 .iui-contextmenu-container {                     height: var(--iui-contextmenu-container-height, 100%);                     width: var(--iui-contextmenu-container-width, 100%);                 }                 ${this._currentCustomStyle}             </style>             <div data-ctrl="contextmenu" class="iui-contextmenu-container" style=${Ji(this._getControlStyle())} @contextmenu="${n=>this._ctrlContextMenu(n)}" @mousedown="${n=>this._ctrlMouseDown(n)}" @touchstart="${n=>this._ctrlTouchStart(n)}">                 <slot></slot>             </div>         `}_updateReferences(){this._elemRef=this.shadowRoot.querySelector("div[data-ctrl=contextmenu]")}};window.customElements.define("iui-contextmenu",oR);var Cd=De`
  @import url('node_modules/@fortawesome/fontawesome-free/css/all.css');

  @font-face {
    font-family: 'FontAwesome';
    src: url('../fonts/fontawesome-webfont.eot?v=4.7.0');
    src: url('../fonts/fontawesome-webfont.eot?#iefix&v=4.7.0') format('embedded-opentype'), 
         url('../fonts/fontawesome-webfont.woff2?v=4.7.0') format('woff2'), 
         url('../fonts/fontawesome-webfont.woff?v=4.7.0') format('woff'), 
         url('../fonts/fontawesome-webfont.ttf?v=4.7.0') format('truetype'), 
         url('../fonts/fontawesome-webfont.svg?v=4.7.0#fontawesomeregular') format('svg');
    font-weight: normal;
    font-style: normal;
  }

  .fa {
    display: inline-block;
    font: normal normal normal 14px/1 FontAwesome;
    font-size: inherit;
    text-rendering: auto;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  .fa-spin {
    animation: fa-spin 2s infinite linear;
  }

  .fa-wrench:before {
  content: "\\f0ad";
  }

  .fa-puzzle-piece:before {
    content: "\\f12e";
  }

  .fa-n:before {
  content: "N ";
  }

  .fa-file:before {
    content: "\\f15b";
  }
  .fa-file-code:before {
  content: "\\f1c9";
  }

  .fa-plus:before {
    content: "\\f067";
  }

  .fa-trash:before {
    content: "\\f1f8";
  }

  .fa-terminal:before {
    content: "\\f120";
  }

  .fa-eye:before {
    content: "\\f06e";
  }

  .fa-download:before {
    content: "\\f019";
  }

  .fa-spinner:before {
    content: "\\f110";
  }

  .fa-gear:before {
    content: "\\f013";
  }

  .fa-question-circle:before {
    content: "\\f059"; font-size: 17px !important;
  }

  .fa-earth-africa:before {
    content: "\\f57c"; font-size: 17px !important;
  }
  
  .fa-earth-americas:before {
    content: "\\f57d"; font-size: 17px !important;
  }
  
  .fa-earth-asia:before {
    content: "\\f57e"; font-size: 17px !important;
  }
  
  .fa-globe:before {
    content: "\\f0ac"; font-size: 17px !important;
  }
  
  .fa-earth:before {
    content: "\\f7e4"; font-size: 17px !important;
  }
  
  .fa-earth-europe:before {
    content: "\\f7a2"; font-size: 17px !important;
  }
  
  .fa-earth-oceania:before {
    content: "\\f57d"; font-size: 17px !important;
  }
  
  .fa-snowflake:before {
    content: "\\f2dc"; font-size: 17px !important;
  }

  .fa-list-alt {
    font-family: 'Font Awesome 5 Free';
    font-weight: 900; /* Font Awesome Free Solid */
  }

  .fa-list-alt:before {
    content: "\\f00b"; /* Unicode for fa-table-list */
  }

  @keyframes fa-spin {
    0% {
      transform: rotate(0deg);
    }
    100% {
      transform: rotate(360deg);
    }
  }
`;var yd=De`
  .fwcBlue {
    color: var(--fwcBlue);
  }
  .fwcOrange {
    color: var(--fwcOrange);
  }
  .fwcDarkBlue {
    color: var(--fwcDarkBlue);
  }
  .fwcGreen {
    color: var(--fwcGreen);
  }
  .fwcRed {
    color: var(--fwcRed);
  }
  
  @font-face {
    font-family: 'fwcIcons';
    src: url('../fonts/fwcIcons.eot');
    src: url('../fonts/fwcIcons.eot?#iefix') format('embedded-opentype'),
         url('../fonts/fwcIcons.woff') format('woff'),
         url('../fonts/fwcIcons.ttf') format('truetype'),
         url('../fonts/fwcIcons.svg#fwcIcons') format('svg');
    font-weight: normal;
    font-style: normal;
  }
  [class*='fwci-']:before {
    display: inline-block;
    font-family: 'fwcIcons';
    font-style: normal;
    font-weight: normal;
    line-height: 1;
    font-size: 14px;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
  .fwci-cloud:before { content: '\\0041'; }
  .fwci-firewalls:before { content: '\\0042'; font-size: 17px !important;}
  .fwci-firewall:before { content: '\\0043'; font-size: 15px !important; }
  .fwci-filterpolicies:before { content: '\\0044'; font-size: 17px !important;}
  .fwci-input:before { content: '\\0045'; font-size: 17px !important; }
  .fwci-output:before { content: '\\0046'; font-size: 17px !important; }
  .fwci-forward:before { content: '\\0047'; font-size: 17px !important; }
  .fwci-nat:before { content: '\\0048'; font-size: 17px !important;}
  .fwci-snat:before { content: '\\0049'; font-size: 17px !important; }
  .fwci-dnat:before { content: '\\004a'; font-size: 17px !important; }
  .fwci-routing:before { content: '\\004b'; font-size: 17px !important; }
  .fwci-interfaces:before { content: '\\004c'; font-size: 17px !important; }
  .fwci-interface:before { content: '\\004d'; font-size: 17px !important; }
  .fwci-ipobjects:before { content: '\\004e'; font-size: 17px !important; }
  .fwci-addresses:before { content: '\\004f'; font-size: 17px !important; }
  .fwci-address:before { content: '\\0050'; font-size: 17px !important;}
  .fwci-addressranges:before { content: '\\0051'; font-size: 17px !important; }
  .fwci-addressrange:before { content: '\\0052'; font-size: 17px !important; }
  .fwci-networks:before { content: '\\0053'; font-size: 17px !important; }
  .fwci-network:before { content: '\\0054'; font-size: 17px !important; }
  .fwci-hosts:before { content: '\\0055'; font-size: 17px !important; }
  .fwci-host:before { content: '\\0056'; font-size: 17px !important; }
  .fwci-objectgroups:before { content: '\\0057'; font-size: 17px !important; }
  .fwci-objectgroup:before { content: '\\0058';  font-size: 17px !important;}
  .fwci-services:before { content: '\\0059';  font-size: 17px !important;}
  .fwci-ipservices:before { content: '\\005a'; font-size: 17px !important;}
  .fwci-ipservice:before { content: '\\0061'; font-size: 17px !important;}
  .fwci-tcpservices:before { content: '\\0062'; font-size: 17px !important; }
  .fwci-tcpservice:before { content: '\\0063'; font-size: 17px !important; }
  .fwci-icmpservices:before { content: '\\0064'; font-size: 17px !important; }
  .fwci-icmpservice:before { content: '\\0065'; font-size: 17px !important; }
  .fwci-udpservices:before { content: '\\0066'; font-size: 17px !important; }
  .fwci-udpservice:before { content: '\\0067'; font-size: 17px !important; }
  .fwci-servicesgroups:before { content: '\\0068'; font-size: 17px !important; }
  .fwci-servicegroup:before { content: '\\0069'; font-size: 17px !important; }
  .fwci-rule:before { content: '\\006a'; }
  .fwci-rulegroup:before { content: '\\006b'; }
  .fwci-expand:before { content: '\\006c'; }
  .fwci-collapse:before { content: '\\006d'; }
  .fwci-reload:before { content: '\\006e'; }
  .fwci-newfirewall:before { content: '\\006f'; }
  .fwci-editfirewall:before { content: '\\0070'; }
  .fwci-compilefirewall:before { content: '\\0071'; }
  .fwci-installfirewall:before { content: '\\0072'; }
  .fwci-loadpolicy:before { content: '\\0073'; }
  .fwci-newinterface:before { content: '\\0074'; }
  .fwci-newadress:before { content: '\\0075'; }
  .fwci-whereused:before { content: '\\0076'; }
  .fwci-edit:before { content: '\\0077'; }
  .fwci-delete:before { content: '\\0078'; }
  .fwci-enableposition:before { content: '\\0079'; }
  .fwci-negateposition:before { content: '\\007a'; }
  .fwci-editobject:before { content: '\\0030'; }
  .fwci-copy:before { content: '\\0031'; }
  .fwci-cut:before { content: '\\0032'; }
  .fwci-compilerule:before { content: '\\0033'; }
  .fwci-rulecolor:before { content: '\\0034'; }
  .fwci-newruleabove:before { content: '\\0035'; }
  .fwci-newrulebelow:before { content: '\\0036'; }
  .fwci-editrule:before { content: '\\0037'; }
  .fwci-enablerule:before { content: '\\0038'; }
  .fwci-disablerule:before { content: '\\0039'; }
  .fwci-deleterule:before { content: '\\0021'; }
  .fwci-movedown:before { content: '\\0022'; }
  .fwci-removegroup:before { content: '\\0023'; }
  .fwci-removefromgroup:before { content: '\\0024'; }
  .fwci-deny:before { content: '\\0025'; }
  .fwci-accept:before { content: '\\0026'; }
  .fwci-reject:before { content: '\\0027'; }
  .fwci-acounting:before { content: '\\0028'; }
  .fwci-groupname:before { content: '\\0029'; }
  .fwci-groupcolor:before { content: '\\002a'; }
  .fwci-new:before { content: '\\002b'; }
  .fwci-compileallfirewalls:before { content: '\\002c'; }
  .fwci-installallfirewalls:before { content: '\\002d'; }
  .fwci-policy:before { content: '\\002e'; font-size: 17px !important; }
  .fwci-vpn:before { content: '\\002f'; }
  .fwci-status:before { content: '\\005b'; }
  .fwci-config:before { content: '\\005c'; }
  .fwci-help:before { content: '\\005d'; }
  .fwci-logout:before { content: '\\005e'; font-size: 17px !important; }
  .fwci-compileallfirewalls2:before { content: '\\005f'; }
  .fwci-installallfirewalls2:before { content: '\\0060'; }
  .fwci-users:before { content: '\\007b'; }
  .fwci-systemconfiguration:before { content: '\\007c'; }
  .fwci-cluster:before { content: '\\007d'; font-size: 17px !important; }
  .fwci-clusters:before { content: '\\007e'; font-size: 17px !important; }                                                                                                           
  .fwci-paste:before { content: '\\003f'; }
`;var Id=De`
  .fwcBlue {
    color: var(--fwcBlue);
  }
  .fwcOrange {
    color: var(--fwcOrange);
  }
  .fwcDarkBlue {
    color: var(--fwcDarkBlue);
  }
  .fwcGreen {
    color: var(--fwcGreen);
  }
  .fwcRed {
    color: var(--fwcRed);
  }
  
  @font-face {
      font-family: 'fwcIcons2';
      src: url('../fonts/fwcIcons2.eot');
      src: url('../fonts/fwcIcons2.eot?#iefix') format('embedded-opentype'),
          url('../fonts/fwcIcons2.woff') format('woff'),
          url('../fonts/fwcIcons2.ttf') format('truetype'),
          url('../fonts/fwcIcons2.svg#fwcIcons2') format('svg');
      font-weight: normal;
      font-style: normal;
  }
[class*='fwci2-']:before{
	display: inline-block;
   font-family: 'fwcIcons2';
   font-style: normal;
   font-weight: normal;
   line-height: 1;
   font-size:14px;
   -webkit-font-smoothing: antialiased;
   -moz-osx-font-smoothing: grayscale
}
.fwci2-cuadrado:before{content:'\\0041';}
.fwci2-moveup:before{content:'\\0042';}
.fwci2-pastebelow:before{content:'\\0043';}
.fwci2-pasteabove:before{content:'\\0044';}
.fwci2-findintree:before{content:'\\0045';}
.fwci2-firewall_to_cluster:before{content:'\\0046';}
.fwci2-cluster_to_firewall:before{content:'\\0047';}
.fwci2-cluster_clone:before{content:'\\0048';}
.fwci2-firewall_clone:before{content:'\\0049';}
.fwci2-newcluster:before{content:'\\004a';}
.fwci2-folder:before{content:'\\004b'; font-size: 17px; }
.fwci2-newfolder:before{content:'\\004c';}
.fwci2-deletefolder:before{content:'\\004d';}
.fwci2-renamefolder:before{content:'\\004e';}
.fwci2-vpn-config:before{content:'\\004f';}
.fwci2-certificate:before{content:'\\0050';}
.fwci2-new-certificate:before{content:'\\0051';}
.fwci2-delete-certificate:before{content:'\\0052';}
.fwci2-edit-certificate:before{content:'\\0053';}
.fwci2-ca:before{content:'\\0054';}
.fwci2-new-ca:before{content:'\\0055';}
.fwci2-delete-ca:before{content:'\\0056';}
.fwci2-edit-ca:before{content:'\\0057';}
.fwci2-openvpn:before{content:'\\0058'; font-size: 17px !important; }
.fwci2-openvpn-deleteconfig:before{content:'\\0059';}
.fwci2-folderstd:before{content:'\\005a'; font-size: 17px !important; }
.fwci2-edit-vpnconfig:before{content:'\\0061';}
.fwci2-file-vpnconfig:before{content:'\\0062';}
.fwci2-install-vpnconfig:before{content:'\\0063';}
.fwci2-label:before{content:'\\0064'; font-size: 17px !important; }
.fwci2-dns-in:before{content:'\\0065'; font-size: 17px !important; }
.fwci2-uninstall-vpnconfig:before{content:'\\0066';}
.fwci2-syncccd-vpnconfig:before{content:'\\0067';}
.fwci2-certificate-prefix:before{content:'\\0068';}
.fwci2-certificate-prefix-new:before{content:'\\0069';}
.fwci2-certificate-prefix-edit:before{content:'\\006a';}
.fwci2-certificate-prefix-delete:before{content:'\\006b';}
`;var Fwe=["panelHeader"],Lwe=["panelContent"],Mwe=["sts-fwc-tree-panel",""],Nwe=["*"],Vwe=i=>({panelCollapsed:i}),Bwe=i=>({display:i}),G9=(()=>{class i{constructor(e,t,r,o,s,a){this.elRef=e,this.renderer=t,this.fwcContextMenuService=r,this.refService=o,this.fwcTreeMenuService=s,this.store=a,this.expanded=!0,this.subjectChange=new Re,this.contextMenuStyle=[Cd,Id,yd],this.applicationRef=null,this.contextMenuReference=null,this.alive=!0,this.el=e.nativeElement}ngOnInit(){this.treeContextMenu=this.fwcContextMenuService.getTreeMenus(),this.store.pipe(kt(()=>this.alive),zn(Ns)).subscribe(e=>{e==="dark"?this.currentColorScheme=mi.Dark:this.currentColorScheme=mi.Light})}ngOnDestroy(){this.alive=!1}ngAfterViewInit(){let e=this;setTimeout(function(){let t=e.refService.getAppRef();e.contextMenuReference=t,e.applicationRef=t}.bind(this),1)}togglePanel(){return new Promise((e,t)=>{this.expanded=!this.expanded,this.subjectChange.next(this.expanded),setTimeout(()=>{e()},300)})}setHeight(e){let t=this.divHeader.nativeElement.offsetHeight,r=e-t;this.renderer.setStyle(this.divContent.nativeElement,"height",r+"px")}getMinHeight(){return this.divHeader.nativeElement.offsetHeight}onChange(){return this.subjectChange.asObservable()}onContextMenuLoad(e){let t;this.header==="FIREWALLS"?this.panel_type="FDF":this.header==="OBJECTS"||this.header==="OBJETOS"?this.panel_type="FDO":this.panel_type="FDS",t=this.treeContextMenu[this.panel_type],t&&t.items?t.items.forEach(r=>{r.type!=="separator"&&(r.visible=r.id===U.TREE_RELOAD||r.id===U.TREE_REPAIR)}):e.detail.cancel=!0}onContextMenuHandler(e){let t={e,panel_type:this.panel_type};this.fwcTreeMenuService.forwardSelection.next(t)}static{this.\u0275fac=function(t){return new(t||i)(b(ze),b(Ft),b(tm),b(Ba),b(Nw),b(rt))}}static{this.\u0275cmp=ie({type:i,selectors:[["","sts-fwc-tree-panel",""]],viewQuery:function(t,r){if(t&1&&(de(Fwe,5),de(Lwe,5)),t&2){let o;ee(o=te())&&(r.divHeader=o.first),ee(o=te())&&(r.divContent=o.first)}},inputs:{header:"header",expanded:"expanded"},features:[Ze([Do])],attrs:Mwe,ngContentSelectors:Nwe,decls:11,vars:12,consts:[["panelHeader",""],["contextMenu",""],["panelContent",""],[1,"fwcTreePanel-header",3,"click","ngClass"],[3,"menuOpening","menuClick","settings","allowAnimation","customStyle","colorScheme"],[1,"pi",3,"ngClass"],[1,"fwcTreePanel-content",3,"ngStyle"]],template:function(t,r){if(t&1){let o=B();Fi(),m(0,"div",3,0),P("click",function(){return S(o),A(r.togglePanel())}),m(2,"iui-contextmenu",4,1),P("menuOpening",function(a){return S(o),A(r.onContextMenuLoad(a))})("menuClick",function(a){return S(o),A(r.onContextMenuHandler(a))}),m(4,"div")(5,"span"),D(6),_(),O(7,"i",5),_()()(),m(8,"div",6,2),ii(10),_()}t&2&&(h("ngClass",oe(8,Vwe,!r.expanded)),u(2),h("settings",r.treeContextMenu.FDO)("allowAnimation",!1)("customStyle",r.contextMenuStyle)("colorScheme",r.currentColorScheme),u(4),$(r.header),u(),h("ngClass",r.expanded?"pi-chevron-down":"pi-chevron-right"),u(),h("ngStyle",oe(10,Bwe,r.expanded?"block":"none")))},dependencies:[Ge,Ee],styles:["[_ngcontent-%COMP%]:root{--lightColor: #eee;--darkColor: #222;--inputBackgroundColor: #eee;--inputBorderColor: #cacaca;--inputColor: #222;--surfaceBackgroundColor: white;--fixedWhiteColor: #eee;--fixedDarkColor: #333;--translucidColor: transparent;--menuBackground: url(/assets/img/fwc-fondo-menu.jpg);--mainBackground: url(/assets/img/fwc-fondo-home.jpg);--fwcBlue: #0069a7;--fwcBlueDarkened: #005e96;--fwcDarkBlue: #003351;--fwcDarkBlue2: #014071;--fwcLightBlue: #1779ba;--fwcPaleBlue: #689fe1;--fwcPaleBlue2: #cce2f8;--fwcPaleBlue3: #e6f1fd;--fwcBlueGradient1: #386ea0;--fwcBlueGradient2: #21517e;--fwcLightGreyGradient1: #f6f7f9;--fwcLightGreyGradient2: #ebedf0;--fwcOrange: #eb6400;--fwcPaleOrange: #e67e22;--fwcPaleOrange2: #ffcfa4;--fwcPaleOrange3: #fe7815;--fwcOrangeRed: #e74c3c;--fwcRed: #f00;--fwcRed2: #b40b00;--fwcPaleRed: #f77676;--fwcPaleRed2: #ffe1e1;--fwcTranslucidRed: rgba(255, 0, 0, .15);--fwcDarkGreen: #023008;--fwcGreen: #009900;--fwcLightGreen: #28ff28;--fwcPaleGreen: #c7e6c8;--fwcLime: #baf649;--fwcWhite: #eee;--fwcPaleWhite: #f5f5f5;--fwcPaleWhite2: #f4f4f4;--fwcDark: #222;--fwcLightDark: #1e1e1e;--fwcMidDark: #555;--fwcMidDark2: #333;--fwcPaleDark: #888;--fwcPaleDark2: #383838;--fwcGrey: #cacaca;--fwcGrey2: #cecece;--fwcGrey3: #eee;--fwcGrey4: #e5e5e5;--fwcGrey5: #c8c8c8;--fwcGrey6: #efefef;--fwcGrey7: #dedede;--fwcAccent: #ff4081;--fwcShadow: #bbb;--fwcSelected: #ddd;--fwcSelectedB: #0069a7;--fwcRulePink: #ef9a9a;--fwcRulePurple: #ce93d8;--fwcRuleBlue: #90caf9;--fwcRuleTeal: #80cbc4;--fwcRuleGreen: #a5d6a7;--fwcRuleYellow: #fff59d;--fwcRuleOrange: #ffcc80}.fwcTreePanel-header[_ngcontent-%COMP%]{background:var(--fwcBlue);color:var(--fixedWhiteColor);font-size:.9rem;padding:.5rem;border-bottom:1px solid var(--fwcWhite)}.fwcTreePanel-header.panelCollapsed[_ngcontent-%COMP%]{background:var(--fwcDarkBlue2)}.fwcTreePanel-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Montserrat,arial,sans-serif;display:inline-block;width:calc(100% - 1.3em);overflow:hidden;white-space:nowrap;text-overflow:ellipsis;cursor:pointer}.fwcTreePanel-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{float:right}.fwcTreePanel-content[_ngcontent-%COMP%]{transition:all .3s linear}"]})}}return i})();var ya=(()=>{class i extends St{static \u0275fac=(()=>{let e;return function(r){return(e||(e=tt(i)))(r||i)}})();static \u0275cmp=ie({type:i,selectors:[["MinusIcon"]],standalone:!0,features:[ve,lt],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M13.2222 7.77778H0.777778C0.571498 7.77778 0.373667 7.69584 0.227806 7.54998C0.0819442 7.40412 0 7.20629 0 7.00001C0 6.79373 0.0819442 6.5959 0.227806 6.45003C0.373667 6.30417 0.571498 6.22223 0.777778 6.22223H13.2222C13.4285 6.22223 13.6263 6.30417 13.7722 6.45003C13.9181 6.5959 14 6.79373 14 7.00001C14 7.20629 13.9181 7.40412 13.7722 7.54998C13.6263 7.69584 13.4285 7.77778 13.2222 7.77778Z","fill","currentColor"]],template:function(t,r){t&1&&(It(),m(0,"svg",0),O(1,"path",1),_()),t&2&&(le(r.getClassNames()),V("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},dependencies:[Ye],encapsulation:2})}return i})();var jwe=["*",[["p-header"]],[["p-footer"]]],Hwe=["*","p-header","p-footer"],Gwe=(i,n)=>({"p-panel p-component":!0,"p-panel-toggleable":i,"p-panel-expanded":n}),zwe=i=>({transitionParams:i,height:"0",opacity:"0"}),Wwe=i=>({value:"hidden",params:i}),Kwe=i=>({transitionParams:i,height:"*",opacity:"1"}),$we=i=>({value:"visible",params:i}),qwe=(i,n,e)=>({"p-panel-icons-start":i,"p-panel-icons-end":n,"p-panel-icons-center":e}),Ywe=i=>({$implicit:i});function Jwe(i,n){if(i&1&&(m(0,"span",10),D(1),_()),i&2){let e=f(2);V("id",e.id+"_header"),u(),$(e.header)}}function Xwe(i,n){i&1&&ue(0)}function Qwe(i,n){}function Zwe(i,n){i&1&&I(0,Qwe,0,0,"ng-template")}function e1e(i,n){if(i&1&&O(0,"span",16),i&2){let e=f(5);le(e.expandIcon),h("ngClass",e.iconClass)}}function t1e(i,n){if(i&1&&O(0,"MinusIcon",17),i&2){let e=f(5);h("styleClass",e.iconClass)}}function i1e(i,n){if(i&1&&(pe(0),I(1,e1e,1,3,"span",14)(2,t1e,1,1,"MinusIcon",15),he()),i&2){let e=f(4);u(),h("ngIf",e.expandIcon),u(),h("ngIf",!e.expandIcon)}}function n1e(i,n){if(i&1&&O(0,"span",16),i&2){let e=f(5);le(e.collapseIcon),h("ngClass",e.iconClass)}}function r1e(i,n){if(i&1&&O(0,"PlusIcon",17),i&2){let e=f(5);h("styleClass",e.iconClass)}}function o1e(i,n){if(i&1&&(pe(0),I(1,n1e,1,3,"span",14)(2,r1e,1,1,"PlusIcon",15),he()),i&2){let e=f(4);u(),h("ngIf",e.collapseIcon),u(),h("ngIf",!e.collapseIcon)}}function s1e(i,n){if(i&1&&(pe(0),I(1,i1e,3,2,"ng-container",12)(2,o1e,3,2,"ng-container",12),he()),i&2){let e=f(3);u(),h("ngIf",!e.collapsed),u(),h("ngIf",e.collapsed)}}function a1e(i,n){}function l1e(i,n){i&1&&I(0,a1e,0,0,"ng-template")}function c1e(i,n){if(i&1){let e=B();m(0,"button",11),P("click",function(r){S(e);let o=f(2);return A(o.onIconClick(r))})("keydown",function(r){S(e);let o=f(2);return A(o.onKeyDown(r))}),I(1,s1e,3,2,"ng-container",12)(2,l1e,1,0,null,13),_()}if(i&2){let e=f(2);V("id",e.id+"_header")("aria-label",e.buttonAriaLabel)("aria-controls",e.id+"_content")("aria-expanded",!e.collapsed),u(),h("ngIf",!e.headerIconTemplate),u(),h("ngTemplateOutlet",e.headerIconTemplate)("ngTemplateOutletContext",oe(7,Ywe,e.collapsed))}}function d1e(i,n){if(i&1){let e=B();m(0,"div",6),P("click",function(r){S(e);let o=f();return A(o.onHeaderClick(r))}),I(1,Jwe,2,2,"span",7),ii(2,1),I(3,Xwe,1,0,"ng-container",4),m(4,"div",8),I(5,Zwe,1,0,null,4)(6,c1e,3,9,"button",9),_()()}if(i&2){let e=f();V("id",e.id+"-titlebar"),u(),h("ngIf",e.header),u(2),h("ngTemplateOutlet",e.headerTemplate),u(),h("ngClass",zi(6,qwe,e.iconPos==="start",e.iconPos==="end",e.iconPos==="center")),u(),h("ngTemplateOutlet",e.iconTemplate),u(),h("ngIf",e.toggleable)}}function u1e(i,n){i&1&&ue(0)}function p1e(i,n){i&1&&ue(0)}function h1e(i,n){if(i&1&&(m(0,"div",18),ii(1,2),I(2,p1e,1,0,"ng-container",4),_()),i&2){let e=f();u(2),h("ngTemplateOutlet",e.footerTemplate)}}var oEt=(()=>{class i{el;cd;toggleable;header;collapsed;style;styleClass;iconPos="end";expandIcon;collapseIcon;showHeader=!0;toggler="icon";transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)";collapsedChange=new Q;onBeforeToggle=new Q;onAfterToggle=new Q;footerFacet;templates;iconTemplate;animating;headerTemplate;contentTemplate;footerTemplate;headerIconTemplate;id=yt();get buttonAriaLabel(){return this.header}constructor(e,t){this.el=e,this.cd=t}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"header":this.headerTemplate=e.template;break;case"content":this.contentTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"icons":this.iconTemplate=e.template;break;case"headericons":this.headerIconTemplate=e.template;break;default:this.contentTemplate=e.template;break}})}onHeaderClick(e){this.toggler==="header"&&this.toggle(e)}onIconClick(e){this.toggler==="icon"&&this.toggle(e)}toggle(e){if(this.animating)return!1;this.animating=!0,this.onBeforeToggle.emit({originalEvent:e,collapsed:this.collapsed}),this.toggleable&&(this.collapsed?this.expand():this.collapse()),this.cd.markForCheck(),e.preventDefault()}expand(){this.collapsed=!1,this.collapsedChange.emit(this.collapsed)}collapse(){this.collapsed=!0,this.collapsedChange.emit(this.collapsed)}getBlockableElement(){return this.el.nativeElement.children[0]}onKeyDown(e){(e.code==="Enter"||e.code==="Space")&&(this.toggle(e),e.preventDefault())}onToggleDone(e){this.animating=!1,this.onAfterToggle.emit({originalEvent:e,collapsed:this.collapsed})}static \u0275fac=function(t){return new(t||i)(b(ze),b(Ie))};static \u0275cmp=ie({type:i,selectors:[["p-panel"]],contentQueries:function(t,r,o){if(t&1&&(ot(o,Ds,5),ot(o,be,4)),t&2){let s;ee(s=te())&&(r.footerFacet=s.first),ee(s=te())&&(r.templates=s)}},hostAttrs:[1,"p-element"],inputs:{toggleable:[2,"toggleable","toggleable",K],header:"header",collapsed:[2,"collapsed","collapsed",K],style:"style",styleClass:"styleClass",iconPos:"iconPos",expandIcon:"expandIcon",collapseIcon:"collapseIcon",showHeader:[2,"showHeader","showHeader",K],toggler:"toggler",transitionOptions:"transitionOptions"},outputs:{collapsedChange:"collapsedChange",onBeforeToggle:"onBeforeToggle",onAfterToggle:"onAfterToggle"},features:[qe],ngContentSelectors:Hwe,decls:7,vars:25,consts:[[3,"ngClass","ngStyle"],["class","p-panel-header",3,"click",4,"ngIf"],["role","region",1,"p-toggleable-content",3,"id"],[1,"p-panel-content"],[4,"ngTemplateOutlet"],["class","p-panel-footer",4,"ngIf"],[1,"p-panel-header",3,"click"],["class","p-panel-title",4,"ngIf"],[1,"p-panel-icons",3,"ngClass"],["pRipple","","type","button","role","button","class","p-panel-header-icon p-panel-toggler p-link",3,"click","keydown",4,"ngIf"],[1,"p-panel-title"],["pRipple","","type","button","role","button",1,"p-panel-header-icon","p-panel-toggler","p-link",3,"click","keydown"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"class","ngClass",4,"ngIf"],[3,"styleClass",4,"ngIf"],[3,"ngClass"],[3,"styleClass"],[1,"p-panel-footer"]],template:function(t,r){t&1&&(Fi(jwe),m(0,"div",0),I(1,d1e,7,10,"div",1),m(2,"div",2),P("@panelContent.done",function(s){return r.onToggleDone(s)}),m(3,"div",3),ii(4),I(5,u1e,1,0,"ng-container",4),_(),I(6,h1e,3,1,"div",5),_()()),t&2&&(le(r.styleClass),h("ngClass",Je(14,Gwe,r.toggleable,!r.collapsed&&r.toggleable))("ngStyle",r.style),V("id",r.id)("data-pc-name","panel"),u(),h("ngIf",r.showHeader),u(),h("id",r.id+"_content")("@panelContent",r.collapsed?oe(19,Wwe,oe(17,zwe,r.animating?r.transitionOptions:"0ms")):oe(23,$we,oe(21,Kwe,r.animating?r.transitionOptions:"0ms"))),V("aria-labelledby",r.id+"_header")("aria-hidden",r.collapsed)("tabindex",r.collapsed?"-1":void 0),u(3),h("ngTemplateOutlet",r.contentTemplate),u(),h("ngIf",r.footerFacet||r.footerTemplate))},dependencies:()=>[Ge,et,st,Ee,qi,Ps,ya],styles:[`@layer primeng{.p-panel-header{display:flex;align-items:center}.p-panel-title{line-height:1;order:1}.p-panel-header-icon{display:inline-flex;justify-content:center;align-items:center;cursor:pointer;text-decoration:none;overflow:hidden;position:relative}.p-panel-toggleable.p-panel-expanded>.p-toggleable-content:not(.ng-animating){overflow:visible}.p-panel-toggleable .p-toggleable-content{overflow:hidden}}
`],encapsulation:2,data:{animation:[hn("panelContent",[Lr("hidden",jt({height:"0"})),Lr("void",jt({height:"{{height}}"}),{params:{height:"0"}}),Lr("visible",jt({height:"*"})),Xt("visible <=> hidden",[Jt("{{transitionParams}}")]),Xt("void => hidden",Jt("{{transitionParams}}")),Xt("void => visible",Jt("{{transitionParams}}"))])]},changeDetection:0})}return i})(),sR=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=Oe({type:i});static \u0275inj=Te({imports:[Ye,nt,Qi,Ps,ya,nt]})}return i})();var f1e=["content"],m1e=[[["p-footer"]]],g1e=["p-footer"],_1e=i=>({"p-dialog p-confirm-dialog p-component":!0,"p-dialog-rtl":i}),C1e=(i,n)=>({transform:i,transition:n}),y1e=i=>({value:"visible",params:i}),z9=i=>({$implicit:i}),I1e=()=>({"p-dialog-header-icon p-dialog-header-close p-link":!0});function v1e(i,n){i&1&&ue(0)}function b1e(i,n){if(i&1&&(pe(0),I(1,v1e,1,0,"ng-container",7),he()),i&2){let e=f(3);u(),h("ngTemplateOutlet",e.headlessTemplate)("ngTemplateOutletContext",oe(2,z9,e.confirmation))}}function w1e(i,n){i&1&&ue(0)}function S1e(i,n){if(i&1&&(m(0,"div",14),I(1,w1e,1,0,"ng-container",15),_()),i&2){let e=f(4);u(),h("ngTemplateOutlet",e.headerTemplate)}}function A1e(i,n){if(i&1&&(m(0,"span",19),D(1),_()),i&2){let e=f(5);h("id",e.ariaLabelledBy),u(),$(e.option("header"))}}function E1e(i,n){if(i&1){let e=B();m(0,"button",20),P("click",function(r){S(e);let o=f(5);return A(o.close(r))})("keydown.enter",function(r){S(e);let o=f(5);return A(o.close(r))}),O(1,"TimesIcon"),_()}if(i&2){let e=f(5);h("ngClass",Ae(2,I1e)),V("aria-label",e.closeAriaLabel)}}function x1e(i,n){if(i&1&&(m(0,"div",14),I(1,A1e,2,2,"span",16),m(2,"div",17),I(3,E1e,2,3,"button",18),_()()),i&2){let e=f(4);u(),h("ngIf",e.option("header")),u(2),h("ngIf",e.closable)}}function T1e(i,n){if(i&1&&O(0,"i",3),i&2){let e=f(4);le(e.option("icon")),h("ngClass","p-confirm-dialog-icon")}}function O1e(i,n){}function D1e(i,n){i&1&&I(0,O1e,0,0,"ng-template")}function R1e(i,n){if(i&1&&(pe(0),I(1,D1e,1,0,null,15),he()),i&2){let e=f(4);u(),h("ngTemplateOutlet",e.iconTemplate)}}function P1e(i,n){if(i&1&&O(0,"span",21),i&2){let e=f(4);h("innerHTML",e.option("message"),Xi)}}function k1e(i,n){}function F1e(i,n){i&1&&I(0,k1e,0,0,"ng-template")}function L1e(i,n){if(i&1&&(pe(0),I(1,F1e,1,0,null,7),he()),i&2){let e=f(4);u(),h("ngTemplateOutlet",e.messageTemplate)("ngTemplateOutletContext",oe(2,z9,e.confirmation))}}function M1e(i,n){i&1&&ue(0)}function N1e(i,n){if(i&1&&(m(0,"div",22),ii(1),I(2,M1e,1,0,"ng-container",15),_()),i&2){let e=f(4);u(2),h("ngTemplateOutlet",e.footerTemplate)}}function V1e(i,n){if(i&1&&O(0,"i"),i&2){let e=f(7);le(e.option("rejectIcon"))}}function B1e(i,n){i&1&&O(0,"TimesIcon",28),i&2&&h("styleClass","p-button-icon-left")}function U1e(i,n){if(i&1&&(pe(0),I(1,V1e,1,2,"i",26)(2,B1e,1,1,"TimesIcon",27),he()),i&2){let e=f(6);u(),h("ngIf",e.option("rejectIcon")),u(),h("ngIf",!e.option("rejectIcon"))}}function j1e(i,n){}function H1e(i,n){i&1&&I(0,j1e,0,0,"ng-template")}function G1e(i,n){if(i&1&&(m(0,"span",29),I(1,H1e,1,0,null,15),_()),i&2){let e=f(6);u(),h("ngTemplateOutlet",e.rejectIconTemplate)}}function z1e(i,n){if(i&1){let e=B();m(0,"button",24),P("click",function(){S(e);let r=f(5);return A(r.reject())}),I(1,U1e,3,2,"ng-container",11)(2,G1e,2,1,"span",25),_()}if(i&2){let e=f(5);le(e.option("rejectButtonStyleClass")),h("label",e.rejectButtonLabel)("ngClass","p-confirm-dialog-reject"),V("aria-label",e.rejectAriaLabel),u(),h("ngIf",!e.rejectIconTemplate),u(),h("ngIf",e.rejectIconTemplate)}}function W1e(i,n){if(i&1&&O(0,"i"),i&2){let e=f(7);le(e.option("acceptIcon"))}}function K1e(i,n){i&1&&O(0,"CheckIcon",28),i&2&&h("styleClass","p-button-icon-left")}function $1e(i,n){if(i&1&&(pe(0),I(1,W1e,1,2,"i",26)(2,K1e,1,1,"CheckIcon",27),he()),i&2){let e=f(6);u(),h("ngIf",e.option("acceptIcon")),u(),h("ngIf",!e.option("acceptIcon"))}}function q1e(i,n){}function Y1e(i,n){i&1&&I(0,q1e,0,0,"ng-template")}function J1e(i,n){if(i&1&&(m(0,"span",29),I(1,Y1e,1,0,null,15),_()),i&2){let e=f(6);u(),h("ngTemplateOutlet",e.acceptIconTemplate)}}function X1e(i,n){if(i&1){let e=B();m(0,"button",24),P("click",function(){S(e);let r=f(5);return A(r.accept())}),I(1,$1e,3,2,"ng-container",11)(2,J1e,2,1,"span",25),_()}if(i&2){let e=f(5);le(e.option("acceptButtonStyleClass")),h("label",e.acceptButtonLabel)("ngClass","p-confirm-dialog-accept"),V("aria-label",e.acceptAriaLabel),u(),h("ngIf",!e.acceptIconTemplate),u(),h("ngIf",e.acceptIconTemplate)}}function Q1e(i,n){if(i&1&&(m(0,"div",22),I(1,z1e,3,7,"button",23)(2,X1e,3,7,"button",23),_()),i&2){let e=f(4);u(),h("ngIf",e.option("rejectVisible")),u(),h("ngIf",e.option("acceptVisible"))}}function Z1e(i,n){if(i&1&&(I(0,S1e,2,1,"div",8)(1,x1e,4,2,"div",8),m(2,"div",9,1),I(4,T1e,1,3,"i",10)(5,R1e,2,1,"ng-container",11)(6,P1e,1,1,"span",12)(7,L1e,2,4,"ng-container",11),_(),I(8,N1e,3,1,"div",13)(9,Q1e,3,2,"div",13)),i&2){let e=f(3);h("ngIf",e.headerTemplate),u(),h("ngIf",!e.headerTemplate),u(3),h("ngIf",!e.iconTemplate&&e.option("icon")),u(),h("ngIf",e.iconTemplate),u(),h("ngIf",!e.messageTemplate),u(),h("ngIf",e.messageTemplate),u(),h("ngIf",e.footer||e.footerTemplate),u(),h("ngIf",!e.footer&&!e.footerTemplate)}}function eSe(i,n){if(i&1){let e=B();m(0,"div",5),P("@animation.start",function(r){S(e);let o=f(2);return A(o.onAnimationStart(r))})("@animation.done",function(r){S(e);let o=f(2);return A(o.onAnimationEnd(r))}),I(1,b1e,2,4,"ng-container",6)(2,Z1e,10,8,"ng-template",null,0,Pt),_()}if(i&2){let e=We(3),t=f(2);le(t.styleClass),h("ngClass",oe(9,_1e,t.rtl))("ngStyle",t.style)("@animation",oe(14,y1e,Je(11,C1e,t.transformOptions,t.transitionOptions))),V("aria-labelledby",t.ariaLabelledBy)("aria-modal",!0),u(),h("ngIf",t.headlessTemplate)("ngIfElse",e)}}function tSe(i,n){if(i&1&&(m(0,"div",3),I(1,eSe,4,16,"div",4),_()),i&2){let e=f();le(e.maskStyleClass),h("ngClass",e.getMaskClass()),u(),h("ngIf",e.visible)}}var iSe=Ra([jt({transform:"{{transform}}",opacity:0}),Jt("{{transition}}",jt({transform:"none",opacity:1}))]),nSe=Ra([Jt("{{transition}}",jt({transform:"{{transform}}",opacity:0}))]),xEt=(()=>{class i{el;renderer;confirmationService;zone;cd;config;document;header;icon;message;get style(){return this._style}set style(e){this._style=e,this.cd.markForCheck()}styleClass;maskStyleClass;acceptIcon;acceptLabel;closeAriaLabel;acceptAriaLabel;acceptVisible=!0;rejectIcon;rejectLabel;rejectAriaLabel;rejectVisible=!0;acceptButtonStyleClass;rejectButtonStyleClass;closeOnEscape=!0;dismissableMask;blockScroll=!0;rtl=!1;closable=!0;appendTo;key;autoZIndex=!0;baseZIndex=0;transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)";focusTrap=!0;defaultFocus="accept";breakpoints;get visible(){return this._visible}set visible(e){this._visible=e,this._visible&&!this.maskVisible&&(this.maskVisible=!0),this.cd.markForCheck()}get position(){return this._position}set position(e){switch(this._position=e,e){case"top-left":case"bottom-left":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"top-right":case"bottom-right":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)";break}}onHide=new Q;footer;contentViewChild;templates;ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"header":this.headerTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"message":this.messageTemplate=e.template;break;case"icon":this.iconTemplate=e.template;break;case"rejecticon":this.rejectIconTemplate=e.template;break;case"accepticon":this.acceptIconTemplate=e.template;break;case"headless":this.headlessTemplate=e.template;break}})}headerTemplate;footerTemplate;rejectIconTemplate;acceptIconTemplate;messageTemplate;iconTemplate;headlessTemplate;confirmation;_visible;_style;maskVisible;documentEscapeListener;container;wrapper;contentContainer;subscription;maskClickListener;preWidth;_position="center";transformOptions="scale(0.7)";styleElement;id=yt();ariaLabelledBy=this.getAriaLabelledBy();confirmationOptions;translationSubscription;constructor(e,t,r,o,s,a,l){this.el=e,this.renderer=t,this.confirmationService=r,this.zone=o,this.cd=s,this.config=a,this.document=l,this.subscription=this.confirmationService.requireConfirmation$.subscribe(c=>{if(!c){this.hide();return}c.key===this.key&&(this.confirmation=c,this.confirmationOptions={message:this.confirmation.message||this.message,icon:this.confirmation.icon||this.icon,header:this.confirmation.header||this.header,rejectVisible:this.confirmation.rejectVisible==null?this.rejectVisible:this.confirmation.rejectVisible,acceptVisible:this.confirmation.acceptVisible==null?this.acceptVisible:this.confirmation.acceptVisible,acceptLabel:this.confirmation.acceptLabel||this.acceptLabel,rejectLabel:this.confirmation.rejectLabel||this.rejectLabel,acceptIcon:this.confirmation.acceptIcon||this.acceptIcon,rejectIcon:this.confirmation.rejectIcon||this.rejectIcon,acceptButtonStyleClass:this.confirmation.acceptButtonStyleClass||this.acceptButtonStyleClass,rejectButtonStyleClass:this.confirmation.rejectButtonStyleClass||this.rejectButtonStyleClass,defaultFocus:this.confirmation.defaultFocus||this.defaultFocus,blockScroll:this.confirmation.blockScroll===!1||this.confirmation.blockScroll===!0?this.confirmation.blockScroll:this.blockScroll,closeOnEscape:this.confirmation.closeOnEscape===!1||this.confirmation.closeOnEscape===!0?this.confirmation.closeOnEscape:this.closeOnEscape,dismissableMask:this.confirmation.dismissableMask===!1||this.confirmation.dismissableMask===!0?this.confirmation.dismissableMask:this.dismissableMask},this.confirmation.accept&&(this.confirmation.acceptEvent=new Q,this.confirmation.acceptEvent.subscribe(this.confirmation.accept)),this.confirmation.reject&&(this.confirmation.rejectEvent=new Q,this.confirmation.rejectEvent.subscribe(this.confirmation.reject)),this.visible=!0)})}ngOnInit(){this.breakpoints&&this.createStyle(),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.visible&&this.cd.markForCheck()})}getAriaLabelledBy(){return this.header!==null?yt()+"_header":null}option(e){let t=this.confirmationOptions||this;if(t.hasOwnProperty(e))return t[e]}onAnimationStart(e){switch(e.toState){case"visible":this.container=e.element,this.wrapper=this.container?.parentElement,this.contentContainer=M.findSingle(this.container,".p-dialog-content"),this.container?.setAttribute(this.id,""),this.appendContainer(),this.moveOnTop(),this.bindGlobalListeners(),this.enableModality();let t=this.getElementToFocus();t&&t.focus();break}}onAnimationEnd(e){switch(e.toState){case"void":this.onOverlayHide();break}}getElementToFocus(){switch(this.option("defaultFocus")){case"accept":return M.findSingle(this.container,".p-confirm-dialog-accept");case"reject":return M.findSingle(this.container,".p-confirm-dialog-reject");case"close":return M.findSingle(this.container,".p-dialog-header-close");case"none":return null;default:return M.findSingle(this.container,".p-confirm-dialog-accept")}}appendContainer(){this.appendTo&&(this.appendTo==="body"?this.document.body.appendChild(this.wrapper):M.appendChild(this.wrapper,this.appendTo))}restoreAppend(){this.wrapper&&this.appendTo&&this.el.nativeElement.appendChild(this.wrapper)}enableModality(){this.option("blockScroll")&&M.addClass(this.document.body,"p-overflow-hidden"),this.option("dismissableMask")&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",e=>{this.wrapper&&this.wrapper.isSameNode(e.target)&&this.close(e)}))}disableModality(){this.maskVisible=!1,this.option("blockScroll")&&M.removeClass(this.document.body,"p-overflow-hidden"),this.dismissableMask&&this.unbindMaskClickListener(),this.container&&!this.cd.destroyed&&this.cd.detectChanges()}createStyle(){if(!this.styleElement){this.styleElement=this.document.createElement("style"),this.styleElement.type="text/css",M.setAttribute(this.styleElement,"nonce",this.config?.csp()?.nonce),this.document.head.appendChild(this.styleElement);let e="";for(let t in this.breakpoints)e+=`
                    @media screen and (max-width: ${t}) {
                        .p-dialog[${this.id}] {
                            width: ${this.breakpoints[t]} !important;
                        }
                    }
                `;this.styleElement.innerHTML=e}}close(e){this.confirmation?.rejectEvent&&this.confirmation.rejectEvent.emit(kp.CANCEL),this.hide(kp.CANCEL),e.preventDefault()}hide(e){this.onHide.emit(e),this.visible=!1,this.confirmation=null,this.confirmationOptions=null}moveOnTop(){this.autoZIndex&&(hi.set("modal",this.container,this.baseZIndex+this.config.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}getMaskClass(){let e={"p-dialog-mask p-component-overlay":!0,"p-dialog-mask-scrollblocker":this.blockScroll};return e[this.getPositionClass().toString()]=!0,e}getPositionClass(){let t=["left","right","top","top-left","top-right","bottom","bottom-left","bottom-right"].find(r=>r===this.position);return t?`p-dialog-${t}`:""}bindGlobalListeners(){if(this.option("closeOnEscape")&&this.closable||this.focusTrap&&!this.documentEscapeListener){let e=this.el?this.el.nativeElement.ownerDocument:"document";this.documentEscapeListener=this.renderer.listen(e,"keydown",t=>{if(t.which==27&&this.option("closeOnEscape")&&this.closable&&parseInt(this.container.style.zIndex)===hi.get(this.container)&&this.visible&&this.close(t),t.which===9&&this.focusTrap){t.preventDefault();let r=M.getFocusableElements(this.container);if(r&&r.length>0)if(!r[0].ownerDocument.activeElement)r[0].focus();else{let o=r.indexOf(r[0].ownerDocument.activeElement);t.shiftKey?o==-1||o===0?r[r.length-1].focus():r[o-1].focus():o==-1||o===r.length-1?r[0].focus():r[o+1].focus()}}})}}unbindGlobalListeners(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}onOverlayHide(){this.container&&this.autoZIndex&&hi.clear(this.container),this.disableModality(),this.unbindGlobalListeners(),this.container=null}destroyStyle(){this.styleElement&&(this.document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.restoreAppend(),this.onOverlayHide(),this.subscription.unsubscribe(),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.destroyStyle()}accept(){this.confirmation&&this.confirmation.acceptEvent&&this.confirmation.acceptEvent.emit(),this.hide(kp.ACCEPT)}reject(){this.confirmation&&this.confirmation.rejectEvent&&this.confirmation.rejectEvent.emit(kp.REJECT),this.hide(kp.REJECT)}get acceptButtonLabel(){return this.option("acceptLabel")||this.config.getTranslation(bi.ACCEPT)}get rejectButtonLabel(){return this.option("rejectLabel")||this.config.getTranslation(bi.REJECT)}static \u0275fac=function(t){return new(t||i)(b(ze),b(Ft),b(si),b(xt),b(Ie),b(Vt),b(_t))};static \u0275cmp=ie({type:i,selectors:[["p-confirmDialog"]],contentQueries:function(t,r,o){if(t&1&&(ot(o,Ds,5),ot(o,be,4)),t&2){let s;ee(s=te())&&(r.footer=s.first),ee(s=te())&&(r.templates=s)}},viewQuery:function(t,r){if(t&1&&de(f1e,5),t&2){let o;ee(o=te())&&(r.contentViewChild=o.first)}},hostAttrs:[1,"p-element"],inputs:{header:"header",icon:"icon",message:"message",style:"style",styleClass:"styleClass",maskStyleClass:"maskStyleClass",acceptIcon:"acceptIcon",acceptLabel:"acceptLabel",closeAriaLabel:"closeAriaLabel",acceptAriaLabel:"acceptAriaLabel",acceptVisible:[2,"acceptVisible","acceptVisible",K],rejectIcon:"rejectIcon",rejectLabel:"rejectLabel",rejectAriaLabel:"rejectAriaLabel",rejectVisible:[2,"rejectVisible","rejectVisible",K],acceptButtonStyleClass:"acceptButtonStyleClass",rejectButtonStyleClass:"rejectButtonStyleClass",closeOnEscape:[2,"closeOnEscape","closeOnEscape",K],dismissableMask:[2,"dismissableMask","dismissableMask",K],blockScroll:[2,"blockScroll","blockScroll",K],rtl:[2,"rtl","rtl",K],closable:[2,"closable","closable",K],appendTo:"appendTo",key:"key",autoZIndex:[2,"autoZIndex","autoZIndex",K],baseZIndex:[2,"baseZIndex","baseZIndex",ke],transitionOptions:"transitionOptions",focusTrap:[2,"focusTrap","focusTrap",K],defaultFocus:"defaultFocus",breakpoints:"breakpoints",visible:"visible",position:"position"},outputs:{onHide:"onHide"},features:[qe],ngContentSelectors:g1e,decls:1,vars:1,consts:[["notHeadless",""],["content",""],[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],["role","alertdialog",3,"ngClass","ngStyle","class",4,"ngIf"],["role","alertdialog",3,"ngClass","ngStyle"],[4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-dialog-header",4,"ngIf"],[1,"p-dialog-content"],[3,"ngClass","class",4,"ngIf"],[4,"ngIf"],["class","p-confirm-dialog-message",3,"innerHTML",4,"ngIf"],["class","p-dialog-footer",4,"ngIf"],[1,"p-dialog-header"],[4,"ngTemplateOutlet"],["class","p-dialog-title",3,"id",4,"ngIf"],[1,"p-dialog-header-icons"],["type","button","role","button",3,"ngClass","click","keydown.enter",4,"ngIf"],[1,"p-dialog-title",3,"id"],["type","button","role","button",3,"click","keydown.enter","ngClass"],[1,"p-confirm-dialog-message",3,"innerHTML"],[1,"p-dialog-footer"],["type","button","pRipple","","pButton","",3,"label","ngClass","class","click",4,"ngIf"],["type","button","pRipple","","pButton","",3,"click","label","ngClass"],["class","p-button-icon-left",4,"ngIf"],[3,"class",4,"ngIf"],[3,"styleClass",4,"ngIf"],[3,"styleClass"],[1,"p-button-icon-left"]],template:function(t,r){t&1&&(Fi(m1e),I(0,tSe,2,4,"div",2)),t&2&&h("ngIf",r.maskVisible)},dependencies:()=>[Ge,et,st,Ee,mt,qi,Li,fn],styles:[`@layer primeng{.p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none}.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;pointer-events:auto;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-draggable .p-dialog-header{cursor:move}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-top .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog{margin:.75rem;transform:translateZ(0)}.p-dialog-maximized{-webkit-transition:none;transition:none;transform:none;width:100vw!important;height:100vh!important;top:0!important;left:0!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start;align-items:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}}
`],encapsulation:2,data:{animation:[hn("animation",[Xt("void => visible",[Pa(iSe)]),Xt("visible => void",[Pa(nSe)])])]},changeDetection:0})}return i})(),aR=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=Oe({type:i});static \u0275inj=Te({imports:[Ye,Gr,Qi,Li,fn,Gr,nt]})}return i})();var K9=i=>({"p-treenode-droppoint-active":i}),rSe=(i,n)=>["p-treenode",i,n],$9=i=>({height:i}),oSe=i=>({"padding-left":i}),sSe=(i,n,e)=>({"p-treenode-selectable":i,"p-treenode-dragover":n,"p-highlight":e}),qw=i=>({$implicit:i}),aSe=(i,n)=>({"p-checkbox-disabled p-disabled":i,"p-variant-filled":n}),lSe=(i,n)=>({"p-highlight":i,"p-indeterminate":n}),cSe=(i,n)=>({$implicit:i,partialSelected:n}),q9=i=>({display:i}),dSe=i=>({"p-treenode-collapsed":i}),uSe=(i,n)=>({"p-treenode-selectable":i,"p-highlight":n}),W9=i=>({"p-treenode-connector-line":i});function pSe(i,n){if(i&1){let e=B();m(0,"li",4),P("drop",function(r){S(e);let o=f(2);return A(o.onDropPoint(r,-1))})("dragover",function(r){S(e);let o=f(2);return A(o.onDropPointDragOver(r))})("dragenter",function(r){S(e);let o=f(2);return A(o.onDropPointDragEnter(r,-1))})("dragleave",function(r){S(e);let o=f(2);return A(o.onDropPointDragLeave(r))}),_()}if(i&2){let e=f(2);h("ngClass",oe(2,K9,e.draghoverPrev)),V("aria-hidden",!0)}}function hSe(i,n){i&1&&O(0,"ChevronRightIcon",14),i&2&&h("styleClass","p-tree-toggler-icon")}function fSe(i,n){i&1&&O(0,"ChevronDownIcon",14),i&2&&h("styleClass","p-tree-toggler-icon")}function mSe(i,n){if(i&1&&(pe(0),I(1,hSe,1,1,"ChevronRightIcon",13)(2,fSe,1,1,"ChevronDownIcon",13),he()),i&2){let e=f(4);u(),h("ngIf",!e.node.expanded),u(),h("ngIf",e.node.expanded)}}function gSe(i,n){i&1&&(pe(0),O(1,"SpinnerIcon",15),he()),i&2&&(u(),h("spin",!0)("styleClass","p-tree-node-toggler-icon"))}function _Se(i,n){if(i&1&&(pe(0),I(1,mSe,3,2,"ng-container",8)(2,gSe,2,2,"ng-container",8),he()),i&2){let e=f(3);u(),h("ngIf",!e.node.loading),u(),h("ngIf",e.loadingMode==="icon"&&e.node.loading)}}function CSe(i,n){}function ySe(i,n){i&1&&I(0,CSe,0,0,"ng-template")}function ISe(i,n){if(i&1&&(m(0,"span",16),I(1,ySe,1,0,null,17),_()),i&2){let e=f(3);u(),h("ngTemplateOutlet",e.tree.togglerIconTemplate)("ngTemplateOutletContext",oe(2,qw,e.node.expanded))}}function vSe(i,n){i&1&&O(0,"CheckIcon",14),i&2&&h("styleClass","p-checkbox-icon")}function bSe(i,n){i&1&&O(0,"MinusIcon",14),i&2&&h("styleClass","p-checkbox-icon")}function wSe(i,n){if(i&1&&(pe(0),I(1,vSe,1,1,"CheckIcon",13)(2,bSe,1,1,"MinusIcon",13),he()),i&2){let e=f(4);u(),h("ngIf",!e.node.partialSelected&&e.isSelected()),u(),h("ngIf",e.node.partialSelected)}}function SSe(i,n){}function ASe(i,n){i&1&&I(0,SSe,0,0,"ng-template")}function ESe(i,n){if(i&1&&(m(0,"div",18)(1,"div",19),I(2,wSe,3,2,"ng-container",8)(3,ASe,1,0,null,17),_()()),i&2){let e=f(3);h("ngClass",Je(5,aSe,e.node.selectable===!1,(e.tree==null?null:e.tree.config.inputStyle())==="filled")),u(),h("ngClass",Je(8,lSe,e.isSelected(),e.node.partialSelected)),u(),h("ngIf",!e.tree.checkboxIconTemplate),u(),h("ngTemplateOutlet",e.tree.checkboxIconTemplate)("ngTemplateOutletContext",Je(11,cSe,e.isSelected(),e.node.partialSelected))}}function xSe(i,n){if(i&1&&O(0,"span"),i&2){let e=f(3);le(e.getIcon())}}function TSe(i,n){if(i&1&&(m(0,"span"),D(1),_()),i&2){let e=f(3);u(),$(e.node.label)}}function OSe(i,n){i&1&&ue(0)}function DSe(i,n){if(i&1&&(m(0,"span"),I(1,OSe,1,0,"ng-container",17),_()),i&2){let e=f(3);u(),h("ngTemplateOutlet",e.tree.getTemplateForNode(e.node))("ngTemplateOutletContext",oe(2,qw,e.node))}}function RSe(i,n){if(i&1&&O(0,"p-treeNode",22),i&2){let e=n.$implicit,t=n.first,r=n.last,o=n.index,s=f(4);h("node",e)("parentNode",s.node)("firstChild",t)("lastChild",r)("index",o)("itemSize",s.itemSize)("level",s.level+1)("loadingMode",s.loadingMode)}}function PSe(i,n){if(i&1&&(m(0,"ul",20),I(1,RSe,1,8,"p-treeNode",21),_()),i&2){let e=f(3);h("ngStyle",oe(3,q9,e.node.expanded?"block":"none")),u(),h("ngForOf",e.node.children)("ngForTrackBy",e.tree.trackBy)}}function kSe(i,n){if(i&1){let e=B();m(0,"li",5),P("keydown",function(r){S(e);let o=f(2);return A(o.onKeyDown(r))}),m(1,"div",6),P("click",function(r){S(e);let o=f(2);return A(o.onNodeClick(r))})("contextmenu",function(r){S(e);let o=f(2);return A(o.onNodeRightClick(r))})("touchend",function(){S(e);let r=f(2);return A(r.onNodeTouchEnd())})("drop",function(r){S(e);let o=f(2);return A(o.onDropNode(r))})("dragover",function(r){S(e);let o=f(2);return A(o.onDropNodeDragOver(r))})("dragenter",function(r){S(e);let o=f(2);return A(o.onDropNodeDragEnter(r))})("dragleave",function(r){S(e);let o=f(2);return A(o.onDropNodeDragLeave(r))})("dragstart",function(r){S(e);let o=f(2);return A(o.onDragStart(r))})("dragend",function(r){S(e);let o=f(2);return A(o.onDragStop(r))}),m(2,"button",7),P("click",function(r){S(e);let o=f(2);return A(o.toggle(r))}),I(3,_Se,3,2,"ng-container",8)(4,ISe,2,4,"span",9),_(),I(5,ESe,4,14,"div",10)(6,xSe,1,2,"span",3),m(7,"span",11),I(8,TSe,2,1,"span",8)(9,DSe,2,4,"span",8),_()(),I(10,PSe,2,5,"ul",12),_()}if(i&2){let e=f(2);dt(e.node.style),h("ngClass",Je(24,rSe,e.node.styleClass||"",e.isLeaf()?"p-treenode-leaf":""))("ngStyle",oe(27,$9,e.itemSize+"px")),V("aria-label",e.node.label)("aria-checked",e.ariaChecked)("aria-setsize",e.node.children?e.node.children.length:0)("aria-selected",e.ariaSelected)("aria-expanded",e.node.expanded)("aria-posinset",e.index+1)("aria-level",e.level+1)("tabindex",e.index===0?0:-1)("data-id",e.node.key),u(),h("ngStyle",oe(29,oSe,e.level*e.indentation+"rem"))("draggable",e.tree.draggableNodes)("ngClass",zi(31,sSe,e.tree.selectionMode&&e.node.selectable!==!1,e.draghoverNode,e.isSelected())),u(),V("data-pc-section","toggler"),u(),h("ngIf",!e.tree.togglerIconTemplate),u(),h("ngIf",e.tree.togglerIconTemplate),u(),h("ngIf",e.tree.selectionMode=="checkbox"),u(),h("ngIf",e.node.icon||e.node.expandedIcon||e.node.collapsedIcon),u(2),h("ngIf",!e.tree.getTemplateForNode(e.node)),u(),h("ngIf",e.tree.getTemplateForNode(e.node)),u(),h("ngIf",!e.tree.virtualScroll&&e.node.children&&e.node.expanded)}}function FSe(i,n){if(i&1){let e=B();m(0,"li",4),P("drop",function(r){S(e);let o=f(2);return A(o.onDropPoint(r,1))})("dragover",function(r){S(e);let o=f(2);return A(o.onDropPointDragOver(r))})("dragenter",function(r){S(e);let o=f(2);return A(o.onDropPointDragEnter(r,1))})("dragleave",function(r){S(e);let o=f(2);return A(o.onDropPointDragLeave(r))}),_()}if(i&2){let e=f(2);h("ngClass",oe(2,K9,e.draghoverNext)),V("aria-hidden",!0)}}function LSe(i,n){if(i&1&&(m(0,"td",28)(1,"table",29)(2,"tbody")(3,"tr"),O(4,"td",30),_(),m(5,"tr"),O(6,"td",30),_()()()()),i&2){let e=f(3);u(4),h("ngClass",oe(2,W9,!e.firstChild)),u(2),h("ngClass",oe(4,W9,!e.lastChild))}}function MSe(i,n){if(i&1&&O(0,"PlusIcon",33),i&2){let e=f(5);h("styleClass","p-tree-toggler-icon")("ariaLabel",e.tree.togglerAriaLabel)}}function NSe(i,n){if(i&1&&O(0,"MinusIcon",33),i&2){let e=f(5);h("styleClass","p-tree-toggler-icon")("ariaLabel",e.tree.togglerAriaLabel)}}function VSe(i,n){if(i&1&&(pe(0),I(1,MSe,1,2,"PlusIcon",32)(2,NSe,1,2,"MinusIcon",32),he()),i&2){let e=f(4);u(),h("ngIf",!e.node.expanded),u(),h("ngIf",e.node.expanded)}}function BSe(i,n){}function USe(i,n){i&1&&I(0,BSe,0,0,"ng-template")}function jSe(i,n){if(i&1&&(m(0,"span",16),I(1,USe,1,0,null,17),_()),i&2){let e=f(4);u(),h("ngTemplateOutlet",e.tree.togglerIconTemplate)("ngTemplateOutletContext",oe(2,qw,e.node.expanded))}}function HSe(i,n){if(i&1){let e=B();m(0,"span",31),P("click",function(r){S(e);let o=f(3);return A(o.toggle(r))}),I(1,VSe,3,2,"ng-container",8)(2,jSe,2,4,"span",9),_()}if(i&2){let e=f(3);h("ngClass","p-tree-toggler"),u(),h("ngIf",!e.tree.togglerIconTemplate),u(),h("ngIf",e.tree.togglerIconTemplate)}}function GSe(i,n){if(i&1&&O(0,"span"),i&2){let e=f(3);le(e.getIcon())}}function zSe(i,n){if(i&1&&(m(0,"span"),D(1),_()),i&2){let e=f(3);u(),$(e.node.label)}}function WSe(i,n){i&1&&ue(0)}function KSe(i,n){if(i&1&&(m(0,"span"),I(1,WSe,1,0,"ng-container",17),_()),i&2){let e=f(3);u(),h("ngTemplateOutlet",e.tree.getTemplateForNode(e.node))("ngTemplateOutletContext",oe(2,qw,e.node))}}function $Se(i,n){if(i&1&&O(0,"p-treeNode",37),i&2){let e=n.$implicit,t=n.first,r=n.last;h("node",e)("firstChild",t)("lastChild",r)}}function qSe(i,n){if(i&1&&(m(0,"td",34)(1,"div",35),I(2,$Se,1,3,"p-treeNode",36),_()()),i&2){let e=f(3);h("ngStyle",oe(3,q9,e.node.expanded?"table-cell":"none")),u(2),h("ngForOf",e.node.children)("ngForTrackBy",e.tree.trackBy)}}function YSe(i,n){if(i&1){let e=B();m(0,"table")(1,"tbody")(2,"tr"),I(3,LSe,7,6,"td",23),m(4,"td",24)(5,"div",25),P("click",function(r){S(e);let o=f(2);return A(o.onNodeClick(r))})("contextmenu",function(r){S(e);let o=f(2);return A(o.onNodeRightClick(r))})("touchend",function(){S(e);let r=f(2);return A(r.onNodeTouchEnd())})("keydown",function(r){S(e);let o=f(2);return A(o.onNodeKeydown(r))}),I(6,HSe,3,3,"span",26)(7,GSe,1,2,"span",3),m(8,"span",11),I(9,zSe,2,1,"span",8)(10,KSe,2,4,"span",8),_()()(),I(11,qSe,3,5,"td",27),_()()()}if(i&2){let e=f(2);le(e.node.styleClass),u(3),h("ngIf",!e.root),u(),h("ngClass",oe(10,dSe,!e.node.expanded)),u(),h("ngClass",Je(12,uSe,e.tree.selectionMode,e.isSelected())),u(),h("ngIf",!e.isLeaf()),u(),h("ngIf",e.node.icon||e.node.expandedIcon||e.node.collapsedIcon),u(2),h("ngIf",!e.tree.getTemplateForNode(e.node)),u(),h("ngIf",e.tree.getTemplateForNode(e.node)),u(),h("ngIf",e.node.children&&e.node.expanded)}}function JSe(i,n){if(i&1&&I(0,pSe,1,4,"li",1)(1,kSe,11,35,"li",2)(2,FSe,1,4,"li",1)(3,YSe,12,15,"table",3),i&2){let e=f();h("ngIf",e.tree.droppableNodes),u(),h("ngIf",!e.tree.horizontal),u(),h("ngIf",e.tree.droppableNodes&&e.lastChild),u(),h("ngIf",e.tree.horizontal)}}var XSe=["filter"],QSe=["scroller"],ZSe=["wrapper"],eAe=(i,n,e,t)=>({"p-tree p-component":!0,"p-tree-selectable":i,"p-treenode-dragover":n,"p-tree-loading":e,"p-tree-flex-scrollable":t}),tAe=i=>({options:i}),iAe=i=>({"max-height":i}),nAe=i=>({"p-tree p-tree-horizontal p-component":!0,"p-tree-selectable":i});function rAe(i,n){if(i&1&&O(0,"i"),i&2){let e=f(3);le("p-tree-loading-icon pi-spin "+e.loadingIcon)}}function oAe(i,n){i&1&&O(0,"SpinnerIcon",17),i&2&&h("spin",!0)("styleClass","p-tree-loading-icon")}function sAe(i,n){}function aAe(i,n){i&1&&I(0,sAe,0,0,"ng-template")}function lAe(i,n){if(i&1&&(m(0,"span",18),I(1,aAe,1,0,null,9),_()),i&2){let e=f(4);u(),h("ngTemplateOutlet",e.loadingIconTemplate)}}function cAe(i,n){if(i&1&&(pe(0),I(1,oAe,1,2,"SpinnerIcon",15)(2,lAe,2,1,"span",16),he()),i&2){let e=f(3);u(),h("ngIf",!e.loadingIconTemplate),u(),h("ngIf",e.loadingIconTemplate)}}function dAe(i,n){if(i&1&&(m(0,"div",13),I(1,rAe,1,2,"i",14)(2,cAe,3,2,"ng-container",11),_()),i&2){let e=f(2);u(),h("ngIf",e.loadingIcon),u(),h("ngIf",!e.loadingIcon)}}function uAe(i,n){i&1&&ue(0)}function pAe(i,n){i&1&&O(0,"SearchIcon",23),i&2&&h("styleClass","p-tree-filter-icon")}function hAe(i,n){}function fAe(i,n){i&1&&I(0,hAe,0,0,"ng-template")}function mAe(i,n){if(i&1&&(m(0,"span",24),I(1,fAe,1,0,null,9),_()),i&2){let e=f(3);u(),h("ngTemplateOutlet",e.filterIconTemplate)}}function gAe(i,n){if(i&1){let e=B();m(0,"div",19)(1,"input",20,0),P("keydown.enter",function(r){return S(e),A(r.preventDefault())})("input",function(r){S(e);let o=f(2);return A(o._filter(r.target.value))}),_(),I(3,pAe,1,1,"SearchIcon",21)(4,mAe,2,1,"span",22),_()}if(i&2){let e=f(2);u(),V("placeholder",e.filterPlaceholder),u(2),h("ngIf",!e.filterIconTemplate),u(),h("ngIf",e.filterIconTemplate)}}function _Ae(i,n){if(i&1&&O(0,"p-treeNode",31,2),i&2){let e=n.$implicit,t=n.first,r=f(2).options,o=f(4);h("level",e.level)("rowNode",e)("node",e.node)("parentNode",e.parent)("firstChild",t)("lastChild",e.lastChild)("index",e.index)("itemSize",r.itemSize)("indentation",o.indentation)("loadingMode",o.loadingMode)}}function CAe(i,n){if(i&1&&(m(0,"ul",29),I(1,_Ae,2,10,"p-treeNode",30),_()),i&2){let e=f(),t=e.$implicit,r=e.options,o=f(4);dt(r.contentStyle),h("ngClass",r.contentStyleClass),V("aria-label",o.ariaLabel)("aria-labelledby",o.ariaLabelledBy),u(),h("ngForOf",t)("ngForTrackBy",o.trackBy)}}function yAe(i,n){if(i&1&&I(0,CAe,2,7,"ul",28),i&2){let e=n.$implicit;h("ngIf",e)}}function IAe(i,n){i&1&&ue(0)}function vAe(i,n){if(i&1&&I(0,IAe,1,0,"ng-container",33),i&2){let e=n.options,t=f(5);h("ngTemplateOutlet",t.loaderTemplate)("ngTemplateOutletContext",oe(2,tAe,e))}}function bAe(i,n){i&1&&(pe(0),I(1,vAe,1,4,"ng-template",32),he())}function wAe(i,n){if(i&1){let e=B();m(0,"p-scroller",26,1),P("onScroll",function(r){S(e);let o=f(3);return A(o.onScroll.emit(r))})("onScrollIndexChange",function(r){S(e);let o=f(3);return A(o.onScrollIndexChange.emit(r))})("onLazyLoad",function(r){S(e);let o=f(3);return A(o.onLazyLoad.emit(r))}),I(2,yAe,1,1,"ng-template",27)(3,bAe,2,0,"ng-container",11),_()}if(i&2){let e=f(3);dt(oe(9,$9,e.scrollHeight!=="flex"?e.scrollHeight:void 0)),h("items",e.serializedValue)("tabindex",-1)("scrollHeight",e.scrollHeight!=="flex"?void 0:"100%")("itemSize",e.virtualScrollItemSize||e._virtualNodeHeight)("lazy",e.lazy)("options",e.virtualScrollOptions),u(3),h("ngIf",e.loaderTemplate)}}function SAe(i,n){if(i&1&&O(0,"p-treeNode",38),i&2){let e=n.$implicit,t=n.first,r=n.last,o=n.index,s=f(5);h("node",e)("firstChild",t)("lastChild",r)("index",o)("level",0)("loadingMode",s.loadingMode)}}function AAe(i,n){if(i&1&&(m(0,"ul",36),I(1,SAe,1,6,"p-treeNode",37),_()),i&2){let e=f(4);V("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledBy),u(),h("ngForOf",e.getRootNode())("ngForTrackBy",e.trackBy)}}function EAe(i,n){if(i&1&&(pe(0),m(1,"div",34,3),I(3,AAe,2,4,"ul",35),_(),he()),i&2){let e=f(3);u(),h("ngStyle",oe(2,iAe,e.scrollHeight)),u(2),h("ngIf",e.getRootNode())}}function xAe(i,n){if(i&1&&(pe(0),I(1,wAe,4,11,"p-scroller",25)(2,EAe,4,4,"ng-container",11),he()),i&2){let e=f(2);u(),h("ngIf",e.virtualScroll),u(),h("ngIf",!e.virtualScroll)}}function TAe(i,n){if(i&1&&(pe(0),D(1),he()),i&2){let e=f(3);u(),J(" ",e.emptyMessageLabel," ")}}function OAe(i,n){i&1&&ue(0,null,4)}function DAe(i,n){if(i&1&&(m(0,"div",39),I(1,TAe,2,1,"ng-container",40)(2,OAe,2,0,"ng-container",9),_()),i&2){let e=f(2);u(),h("ngIf",!e.emptyMessageTemplate)("ngIfElse",e.emptyFilter),u(),h("ngTemplateOutlet",e.emptyMessageTemplate)}}function RAe(i,n){i&1&&ue(0)}function PAe(i,n){if(i&1){let e=B();m(0,"div",7),P("drop",function(r){S(e);let o=f();return A(o.onDrop(r))})("dragover",function(r){S(e);let o=f();return A(o.onDragOver(r))})("dragenter",function(){S(e);let r=f();return A(r.onDragEnter())})("dragleave",function(r){S(e);let o=f();return A(o.onDragLeave(r))}),I(1,dAe,3,2,"div",8)(2,uAe,1,0,"ng-container",9)(3,gAe,5,3,"div",10)(4,xAe,3,2,"ng-container",11)(5,DAe,3,3,"div",12)(6,RAe,1,0,"ng-container",9),_()}if(i&2){let e,t=f();le(t.styleClass),h("ngClass",dr(10,eAe,t.selectionMode,t.dragHover,t.loading,t.scrollHeight==="flex"))("ngStyle",t.style),u(),h("ngIf",t.loading&&t.loadingMode==="mask"),u(),h("ngTemplateOutlet",t.headerTemplate),u(),h("ngIf",t.filter),u(),h("ngIf",(e=t.getRootNode())==null?null:e.length),u(),h("ngIf",!t.loading&&(t.getRootNode()==null||t.getRootNode().length===0)),u(),h("ngTemplateOutlet",t.footerTemplate)}}function kAe(i,n){i&1&&ue(0)}function FAe(i,n){if(i&1&&O(0,"i"),i&2){let e=f(3);le("p-tree-loading-icon pi-spin "+e.loadingIcon)}}function LAe(i,n){i&1&&O(0,"SpinnerIcon",17),i&2&&h("spin",!0)("styleClass","p-tree-loading-icon")}function MAe(i,n){}function NAe(i,n){i&1&&I(0,MAe,0,0,"ng-template")}function VAe(i,n){if(i&1&&(m(0,"span",18),I(1,NAe,1,0,null,9),_()),i&2){let e=f(4);u(),h("ngTemplateOutlet",e.loadingIconTemplate)}}function BAe(i,n){if(i&1&&(pe(0),I(1,LAe,1,2,"SpinnerIcon",15)(2,VAe,2,1,"span",16),he()),i&2){let e=f(3);u(),h("ngIf",!e.loadingIconTemplate),u(),h("ngIf",e.loadingIconTemplate)}}function UAe(i,n){if(i&1&&(m(0,"div",43),I(1,FAe,1,2,"i",14)(2,BAe,3,2,"ng-container",11),_()),i&2){let e=f(2);u(),h("ngIf",e.loadingIcon),u(),h("ngIf",!e.loadingIcon)}}function jAe(i,n){if(i&1&&(m(0,"table"),O(1,"p-treeNode",44),_()),i&2){let e=f(2);u(),h("node",e.value[0])("root",!0)}}function HAe(i,n){if(i&1&&(pe(0),D(1),he()),i&2){let e=f(3);u(),J(" ",e.emptyMessageLabel," ")}}function GAe(i,n){i&1&&ue(0,null,4)}function zAe(i,n){if(i&1&&(m(0,"div",39),I(1,HAe,2,1,"ng-container",40)(2,GAe,2,0,"ng-container",9),_()),i&2){let e=f(2);u(),h("ngIf",!e.emptyMessageTemplate)("ngIfElse",e.emptyFilter),u(),h("ngTemplateOutlet",e.emptyMessageTemplate)}}function WAe(i,n){i&1&&ue(0)}function KAe(i,n){if(i&1&&(m(0,"div",41),I(1,kAe,1,0,"ng-container",9)(2,UAe,3,2,"div",42)(3,jAe,2,2,"table",11)(4,zAe,3,3,"div",12)(5,WAe,1,0,"ng-container",9),_()),i&2){let e=f();le(e.styleClass),h("ngClass",oe(9,nAe,e.selectionMode))("ngStyle",e.style),u(),h("ngTemplateOutlet",e.headerTemplate),u(),h("ngIf",e.loading),u(),h("ngIf",e.value&&e.value[0]),u(),h("ngIf",!e.loading&&(e.getRootNode()==null||e.getRootNode().length===0)),u(),h("ngTemplateOutlet",e.footerTemplate)}}var $Ae=(()=>{class i{static ICON_CLASS="p-treenode-icon ";rowNode;node;parentNode;root;index;firstChild;lastChild;level;indentation;itemSize;loadingMode;tree;timeout;draghoverPrev;draghoverNext;draghoverNode;get ariaSelected(){return this.tree.selectionMode==="single"||this.tree.selectionMode==="multiple"?this.isSelected():void 0}get ariaChecked(){return this.tree.selectionMode==="checkbox"?this.isSelected():void 0}constructor(e){this.tree=e}ngOnInit(){this.node.parent=this.parentNode;let t=this.tree.el.nativeElement.closest("p-dialog");this.parentNode&&!t&&(this.setAllNodesTabIndexes(),this.tree.syncNodeOption(this.node,this.tree.value,"parent",this.tree.getNodeWithKey(this.parentNode.key,this.tree.value)))}getIcon(){let e;return this.node.icon?e=this.node.icon:e=this.node.expanded&&this.node.children&&this.node.children?.length?this.node.expandedIcon:this.node.collapsedIcon,i.ICON_CLASS+" "+e}isLeaf(){return this.tree.isNodeLeaf(this.node)}toggle(e){this.node.expanded?this.collapse(e):this.expand(e),e.stopPropagation()}expand(e){this.node.expanded=!0,this.tree.virtualScroll&&(this.tree.updateSerializedValue(),this.focusVirtualNode()),this.tree.onNodeExpand.emit({originalEvent:e,node:this.node})}collapse(e){this.node.expanded=!1,this.tree.virtualScroll&&(this.tree.updateSerializedValue(),this.focusVirtualNode()),this.tree.onNodeCollapse.emit({originalEvent:e,node:this.node})}onNodeClick(e){this.tree.onNodeClick(e,this.node)}onNodeKeydown(e){e.key==="Enter"&&this.tree.onNodeClick(e,this.node)}onNodeTouchEnd(){this.tree.onNodeTouchEnd()}onNodeRightClick(e){this.tree.onNodeRightClick(e,this.node)}isSelected(){return this.tree.isSelected(this.node)}isSameNode(e){return e.currentTarget&&(e.currentTarget.isSameNode(e.target)||e.currentTarget.isSameNode(e.target.closest('[role="treeitem"]')))}onDropPoint(e,t){e.preventDefault();let r=this.tree.dragNode,o=this.tree.dragNodeIndex,s=this.tree.dragNodeScope,a=this.tree.dragNodeTree===this.tree?t===1||o!==this.index-1:!0;if(this.tree.allowDrop(r,this.node,s,"between")&&a){let l=re({},this.createDropPointEventMetadata(t));this.tree.validateDrop?this.tree.onNodeDrop.emit({originalEvent:e,dragNode:r,dropNode:this.node,dropPoint:"between",index:this.index,accept:()=>{this.processPointDrop(l)}}):(this.processPointDrop(l),this.tree.onNodeDrop.emit({originalEvent:e,dragNode:r,dropNode:this.node,dropPoint:"between",index:this.index}))}this.draghoverPrev=!1,this.draghoverNext=!1}processPointDrop(e){let t=e.dropNode.parent?e.dropNode.parent.children:this.tree.value;e.dragNodeSubNodes.splice(e.dragNodeIndex,1);let r=this.index;e.position<0?(r=e.dragNodeSubNodes===t?e.dragNodeIndex>e.index?e.index:e.index-1:e.index,t.splice(r,0,e.dragNode)):(r=t.length,t.push(e.dragNode)),this.tree.dragDropService.stopDrag({node:e.dragNode,subNodes:e.dropNode.parent?e.dropNode.parent.children:this.tree.value,index:e.dragNodeIndex})}createDropPointEventMetadata(e){return{dragNode:this.tree.dragNode,dragNodeIndex:this.tree.dragNodeIndex,dragNodeSubNodes:this.tree.dragNodeSubNodes,dropNode:this.node,index:this.index,position:e}}onDropPointDragOver(e){e.dataTransfer.dropEffect="move",e.preventDefault()}onDropPointDragEnter(e,t){this.tree.allowDrop(this.tree.dragNode,this.node,this.tree.dragNodeScope,"between")&&(t<0?this.draghoverPrev=!0:this.draghoverNext=!0)}onDropPointDragLeave(e){this.draghoverPrev=!1,this.draghoverNext=!1}onDragStart(e){this.tree.draggableNodes&&this.node.draggable!==!1?(e.dataTransfer.setData("text","data"),this.tree.dragDropService.startDrag({tree:this,node:this.node,subNodes:this.node?.parent?this.node.parent.children:this.tree.value,index:this.index,scope:this.tree.draggableScope})):e.preventDefault()}onDragStop(e){this.tree.dragDropService.stopDrag({node:this.node,subNodes:this.node?.parent?this.node.parent.children:this.tree.value,index:this.index})}onDropNodeDragOver(e){e.dataTransfer.dropEffect="move",this.tree.droppableNodes&&(e.preventDefault(),e.stopPropagation())}onDropNode(e){if(this.tree.droppableNodes&&this.node?.droppable!==!1){let t=this.tree.dragNode;if(this.tree.allowDrop(t,this.node,this.tree.dragNodeScope)){let r=re({},this.createDropNodeEventMetadata());this.tree.validateDrop?this.tree.onNodeDrop.emit({originalEvent:e,dragNode:t,dropNode:this.node,dropPoint:"node",index:this.index,accept:()=>{this.processNodeDrop(r)}}):(this.processNodeDrop(r),this.tree.onNodeDrop.emit({originalEvent:e,dragNode:t,dropNode:this.node,dropPoint:"node",index:this.index}))}}e.preventDefault(),e.stopPropagation(),this.draghoverNode=!1}createDropNodeEventMetadata(){return{dragNode:this.tree.dragNode,dragNodeIndex:this.tree.dragNodeIndex,dragNodeSubNodes:this.tree.dragNodeSubNodes,dropNode:this.node}}processNodeDrop(e){let t=e.dragNodeIndex;e.dragNodeSubNodes.splice(t,1),e.dropNode.children?e.dropNode.children.push(e.dragNode):e.dropNode.children=[e.dragNode],this.tree.dragDropService.stopDrag({node:e.dragNode,subNodes:e.dropNode.parent?e.dropNode.parent.children:this.tree.value,index:t})}onDropNodeDragEnter(e){this.tree.droppableNodes&&this.node?.droppable!==!1&&this.tree.allowDrop(this.tree.dragNode,this.node,this.tree.dragNodeScope)&&(this.draghoverNode=!0)}onDropNodeDragLeave(e){if(this.tree.droppableNodes){let t=e.currentTarget.getBoundingClientRect();(e.x>t.left+t.width||e.x<t.left||e.y>=Math.floor(t.top+t.height)||e.y<t.top)&&(this.draghoverNode=!1)}}onKeyDown(e){if(!(!this.isSameNode(e)||this.tree.contextMenu&&this.tree.contextMenu.containerViewChild?.nativeElement.style.display==="block"))switch(e.code){case"ArrowDown":this.onArrowDown(e);break;case"ArrowUp":this.onArrowUp(e);break;case"ArrowRight":this.onArrowRight(e);break;case"ArrowLeft":this.onArrowLeft(e);break;case"Enter":case"NumpadEnter":this.onEnter(e);break;case"Space":let t=e.target instanceof HTMLElement&&e.target.nodeName;["INPUT"].includes(t)||this.onEnter(e);break;case"Tab":this.setAllNodesTabIndexes();break;default:break}}onArrowUp(e){let t=e.target.getAttribute("data-pc-section")==="toggler"?e.target.closest('[role="treeitem"]'):e.target.parentElement;if(t.previousElementSibling)this.focusRowChange(t,t.previousElementSibling,this.findLastVisibleDescendant(t.previousElementSibling));else{let r=this.getParentNodeElement(t);r&&this.focusRowChange(t,r)}e.preventDefault()}onArrowDown(e){let t=e.target.getAttribute("data-pc-section")==="toggler"?e.target.closest('[role="treeitem"]'):e.target,r=t.children[1];if(r&&r.children.length>0)this.focusRowChange(t,r.children[0]);else if(t.parentElement.nextElementSibling)this.focusRowChange(t,t.parentElement.nextElementSibling);else{let o=this.findNextSiblingOfAncestor(t.parentElement);o&&this.focusRowChange(t,o)}e.preventDefault()}onArrowRight(e){!this.node?.expanded&&!this.tree.isNodeLeaf(this.node)&&(this.expand(e),e.currentTarget.tabIndex=-1,setTimeout(()=>{this.onArrowDown(e)},1)),e.preventDefault()}onArrowLeft(e){let t=e.target.getAttribute("data-pc-section")==="toggler"?e.target.closest('[role="treeitem"]'):e.target;if(this.level===0&&!this.node?.expanded)return!1;if(this.node?.expanded){this.collapse(e);return}let r=this.getParentNodeElement(t.parentElement);r&&this.focusRowChange(e.currentTarget,r),e.preventDefault()}isActionableElement(e){let t=e.target;return t instanceof HTMLElement&&(t.nodeName=="A"||t.nodeName=="BUTTON")}onEnter(e){this.tree.onNodeClick(e,this.node),this.setTabIndexForSelectionMode(e,this.tree.nodeTouched),this.isActionableElement(e)||e.preventDefault()}setAllNodesTabIndexes(){let e=M.find(this.tree.el.nativeElement,".p-treenode"),t=[...e].some(r=>r.getAttribute("aria-selected")==="true"||r.getAttribute("aria-checked")==="true");if([...e].forEach(r=>{r.tabIndex=-1}),t){let r=[...e].filter(o=>o.getAttribute("aria-selected")==="true"||o.getAttribute("aria-checked")==="true");r[0].tabIndex=0;return}[...e][0].tabIndex=0}setTabIndexForSelectionMode(e,t){if(this.tree.selectionMode!==null){let r=[...M.find(this.tree.el.nativeElement,".p-treenode")];e.currentTarget.tabIndex=t===!1?-1:0,r.every(o=>o.tabIndex===-1)&&(r[0].tabIndex=0)}}findNextSiblingOfAncestor(e){let t=this.getParentNodeElement(e);return t?t.nextElementSibling?t.nextElementSibling:this.findNextSiblingOfAncestor(t):null}findLastVisibleDescendant(e){let r=Array.from(e.children).find(o=>M.hasClass(o,"p-treenode")).children[1];if(r&&r.children.length>0){let o=r.children[r.children.length-1];return this.findLastVisibleDescendant(o)}else return e}getParentNodeElement(e){let t=e.parentElement?.parentElement?.parentElement;return t?.tagName==="P-TREENODE"?t:null}focusNode(e){this.tree.droppableNodes?e.children[1].focus():e.children[0].focus()}focusRowChange(e,t,r){e.tabIndex="-1",t.children[0].tabIndex="0",this.focusNode(r||t)}focusVirtualNode(){this.timeout=setTimeout(()=>{let e=M.findSingle(document.body,`[data-id="${this.node?.key??this.node?.data}"]`);M.focus(e)},1)}static \u0275fac=function(t){return new(t||i)(b(zt(()=>$a)))};static \u0275cmp=ie({type:i,selectors:[["p-treeNode"]],hostAttrs:[1,"p-element"],inputs:{rowNode:"rowNode",node:"node",parentNode:"parentNode",root:[2,"root","root",K],index:[2,"index","index",ke],firstChild:[2,"firstChild","firstChild",K],lastChild:[2,"lastChild","lastChild",K],level:[2,"level","level",ke],indentation:[2,"indentation","indentation",ke],itemSize:[2,"itemSize","itemSize",ke],loadingMode:"loadingMode"},features:[qe],decls:1,vars:1,consts:[[3,"ngIf"],["class","p-treenode-droppoint",3,"ngClass","drop","dragover","dragenter","dragleave",4,"ngIf"],["role","treeitem",3,"ngClass","ngStyle","style","keydown",4,"ngIf"],[3,"class",4,"ngIf"],[1,"p-treenode-droppoint",3,"drop","dragover","dragenter","dragleave","ngClass"],["role","treeitem",3,"keydown","ngClass","ngStyle"],[1,"p-treenode-content",3,"click","contextmenu","touchend","drop","dragover","dragenter","dragleave","dragstart","dragend","ngStyle","draggable","ngClass"],["type","button","pRipple","","tabindex","-1",1,"p-tree-toggler","p-link",3,"click"],[4,"ngIf"],["class","p-tree-toggler-icon",4,"ngIf"],["class","p-checkbox p-component","aria-hidden","true",3,"ngClass",4,"ngIf"],[1,"p-treenode-label"],["class","p-treenode-children","role","group",3,"ngStyle",4,"ngIf"],[3,"styleClass",4,"ngIf"],[3,"styleClass"],[3,"spin","styleClass"],[1,"p-tree-toggler-icon"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true",1,"p-checkbox","p-component",3,"ngClass"],["role","checkbox",1,"p-checkbox-box",3,"ngClass"],["role","group",1,"p-treenode-children",3,"ngStyle"],[3,"node","parentNode","firstChild","lastChild","index","itemSize","level","loadingMode",4,"ngFor","ngForOf","ngForTrackBy"],[3,"node","parentNode","firstChild","lastChild","index","itemSize","level","loadingMode"],["class","p-treenode-connector",4,"ngIf"],[1,"p-treenode",3,"ngClass"],["tabindex","0",1,"p-treenode-content",3,"click","contextmenu","touchend","keydown","ngClass"],[3,"ngClass","click",4,"ngIf"],["class","p-treenode-children-container",3,"ngStyle",4,"ngIf"],[1,"p-treenode-connector"],[1,"p-treenode-connector-table"],[3,"ngClass"],[3,"click","ngClass"],[3,"styleClass","ariaLabel",4,"ngIf"],[3,"styleClass","ariaLabel"],[1,"p-treenode-children-container",3,"ngStyle"],[1,"p-treenode-children"],[3,"node","firstChild","lastChild",4,"ngFor","ngForOf","ngForTrackBy"],[3,"node","firstChild","lastChild"]],template:function(t,r){t&1&&I(0,JSe,4,4,"ng-template",0),t&2&&h("ngIf",r.node)},dependencies:()=>[Ge,tn,et,st,Ee,qi,fn,To,Fa,ya,gs,Ps,i],encapsulation:2})}return i})(),$a=(()=>{class i{el;dragDropService;config;cd;value;selectionMode;loadingMode="mask";selection;style;styleClass;contextMenu;layout="vertical";draggableScope;droppableScope;draggableNodes;droppableNodes;metaKeySelection=!1;propagateSelectionUp=!0;propagateSelectionDown=!0;loading;loadingIcon;emptyMessage="";ariaLabel;togglerAriaLabel;ariaLabelledBy;validateDrop;filter;filterBy="label";filterMode="lenient";filterPlaceholder;filteredNodes;filterLocale;scrollHeight;lazy=!1;virtualScroll;virtualScrollItemSize;virtualScrollOptions;indentation=1.5;_templateMap;trackBy=(e,t)=>t;_virtualNodeHeight;get virtualNodeHeight(){return this._virtualNodeHeight}set virtualNodeHeight(e){this._virtualNodeHeight=e,console.warn("The virtualNodeHeight property is deprecated, use virtualScrollItemSize property instead.")}selectionChange=new Q;onNodeSelect=new Q;onNodeUnselect=new Q;onNodeExpand=new Q;onNodeCollapse=new Q;onNodeContextMenuSelect=new Q;onNodeDrop=new Q;onLazyLoad=new Q;onScroll=new Q;onScrollIndexChange=new Q;onFilter=new Q;templates;filterViewChild;scroller;wrapperViewChild;serializedValue;headerTemplate;footerTemplate;loaderTemplate;emptyMessageTemplate;togglerIconTemplate;checkboxIconTemplate;loadingIconTemplate;filterIconTemplate;nodeTouched;dragNodeTree;dragNode;dragNodeSubNodes;dragNodeIndex;dragNodeScope;dragHover;dragStartSubscription;dragStopSubscription;constructor(e,t,r,o){this.el=e,this.dragDropService=t,this.config=r,this.cd=o}ngOnInit(){this.droppableNodes&&(this.dragStartSubscription=this.dragDropService.dragStart$.subscribe(e=>{this.dragNodeTree=e.tree,this.dragNode=e.node,this.dragNodeSubNodes=e.subNodes,this.dragNodeIndex=e.index,this.dragNodeScope=e.scope}),this.dragStopSubscription=this.dragDropService.dragStop$.subscribe(e=>{this.dragNodeTree=null,this.dragNode=null,this.dragNodeSubNodes=null,this.dragNodeIndex=null,this.dragNodeScope=null,this.dragHover=!1}))}ngOnChanges(e){e.value&&(this.updateSerializedValue(),this.hasFilterActive()&&this._filter(this.filterViewChild.nativeElement.value))}get horizontal(){return this.layout=="horizontal"}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(bi.EMPTY_MESSAGE)}ngAfterContentInit(){this.templates.length&&(this._templateMap={}),this.templates.forEach(e=>{switch(e.getType()){case"header":this.headerTemplate=e.template;break;case"empty":this.emptyMessageTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"loader":this.loaderTemplate=e.template;break;case"togglericon":this.togglerIconTemplate=e.template;break;case"checkboxicon":this.checkboxIconTemplate=e.template;break;case"loadingicon":this.loadingIconTemplate=e.template;break;case"filtericon":this.filterIconTemplate=e.template;break;default:this._templateMap[e.name]=e.template;break}})}updateSerializedValue(){this.serializedValue=[],this.serializeNodes(null,this.getRootNode(),0,!0)}serializeNodes(e,t,r,o){t&&t.length&&t.forEach((s,a)=>{s.parent=e;let l={node:s,parent:e,level:r,visible:o&&(e?e.expanded:!0),lastChild:a===t.length-1,index:a};this.serializedValue.push(l),l.visible&&s.expanded&&this.serializeNodes(s,s.children,r+1,l.visible)})}onNodeClick(e,t){let r=e.target;if(!(M.hasClass(r,"p-tree-toggler")||M.hasClass(r,"p-tree-toggler-icon"))){if(this.selectionMode){if(t.selectable===!1){t.style="--p-focus-ring-color: none;";return}else t.style="--p-focus-ring-color: var(--primary-color)";if(this.hasFilteredNodes()&&(t=this.getNodeWithKey(t.key,this.filteredNodes),!t))return;let o=this.findIndexInSelection(t),s=o>=0;if(this.isCheckboxSelectionMode())s?(this.propagateSelectionDown?this.propagateDown(t,!1):this.selection=this.selection.filter((a,l)=>l!=o),this.propagateSelectionUp&&t.parent&&this.propagateUp(t.parent,!1),this.selectionChange.emit(this.selection),this.onNodeUnselect.emit({originalEvent:e,node:t})):(this.propagateSelectionDown?this.propagateDown(t,!0):this.selection=[...this.selection||[],t],this.propagateSelectionUp&&t.parent&&this.propagateUp(t.parent,!0),this.selectionChange.emit(this.selection),this.onNodeSelect.emit({originalEvent:e,node:t}));else if(this.nodeTouched?!1:this.metaKeySelection){let l=e.metaKey||e.ctrlKey;s&&l?(this.isSingleSelectionMode()?this.selectionChange.emit(null):(this.selection=this.selection.filter((c,d)=>d!=o),this.selectionChange.emit(this.selection)),this.onNodeUnselect.emit({originalEvent:e,node:t})):(this.isSingleSelectionMode()?this.selectionChange.emit(t):this.isMultipleSelectionMode()&&(this.selection=l?this.selection||[]:[],this.selection=[...this.selection,t],this.selectionChange.emit(this.selection)),this.onNodeSelect.emit({originalEvent:e,node:t}))}else this.isSingleSelectionMode()?s?(this.selection=null,this.onNodeUnselect.emit({originalEvent:e,node:t})):(this.selection=t,setTimeout(()=>{this.onNodeSelect.emit({originalEvent:e,node:t})})):s?(this.selection=this.selection.filter((l,c)=>c!=o),this.onNodeUnselect.emit({originalEvent:e,node:t})):(this.selection=[...this.selection||[],t],setTimeout(()=>{this.onNodeSelect.emit({originalEvent:e,node:t})})),this.selectionChange.emit(this.selection)}this.nodeTouched=!1}}onNodeTouchEnd(){this.nodeTouched=!0}onNodeRightClick(e,t){if(this.contextMenu){let o=e.target.getAttribute("class");if(o&&o.includes("p-tree-toggler"))return;this.findIndexInSelection(t)>=0||(this.isSingleSelectionMode()?this.selectionChange.emit(t):this.selectionChange.emit([t])),this.contextMenu.show(e),this.onNodeContextMenuSelect.emit({originalEvent:e,node:t})}}findIndexInSelection(e){return this.selectionMode&&this.selection?(this.isSingleSelectionMode()?[this.selection]:this.selection).findIndex(r=>r===e||r.key===e.key&&r.key!==void 0):-1}syncNodeOption(e,t,r,o){let s=this.hasFilteredNodes()?this.getNodeWithKey(e.key,t):null;s&&(s[r]=o||e[r])}hasFilteredNodes(){return this.filter&&this.filteredNodes&&this.filteredNodes.length}hasFilterActive(){return this.filter&&this.filterViewChild?.nativeElement?.value.length>0}getNodeWithKey(e,t){for(let r of t){if(r.key===e)return r;if(r.children){let o=this.getNodeWithKey(e,r.children);if(o)return o}}}propagateUp(e,t){if(e.children&&e.children.length){let o=0,s=!1;for(let a of e.children)this.isSelected(a)?o++:a.partialSelected&&(s=!0);if(t&&o==e.children.length)this.selection=[...this.selection||[],e],e.partialSelected=!1;else{if(!t){let a=this.findIndexInSelection(e);a>=0&&(this.selection=this.selection.filter((l,c)=>c!=a))}s||o>0&&o!=e.children.length?e.partialSelected=!0:e.partialSelected=!1}this.syncNodeOption(e,this.filteredNodes,"partialSelected")}let r=e.parent;r&&this.propagateUp(r,t)}propagateDown(e,t){let r=this.findIndexInSelection(e);if(t&&r==-1&&e.selectable!==!1?this.selection=[...this.selection||[],this.filterUnselectableChildren(e)]:!t&&r>-1&&(this.selection=this.selection.filter((o,s)=>s!=r)),e.partialSelected=!1,this.syncNodeOption(e,this.filteredNodes,"partialSelected"),e.children&&e.children.length)for(let o of e.children)this.propagateDown(o,t)}filterUnselectableChildren(e){let t=Object.assign({},e);if(t.children&&t.children.length)for(let r of t.children)r.selectable===!1&&(t.children=t.children.filter(o=>o!=r)),r=this.filterUnselectableChildren(r);return t}isSelected(e){return this.findIndexInSelection(e)!=-1}isSingleSelectionMode(){return this.selectionMode&&this.selectionMode=="single"}isMultipleSelectionMode(){return this.selectionMode&&this.selectionMode=="multiple"}isCheckboxSelectionMode(){return this.selectionMode&&this.selectionMode=="checkbox"}isNodeLeaf(e){return e.leaf==!1?!1:!(e.children&&e.children.length)}getRootNode(){return this.filteredNodes?this.filteredNodes:this.value}getTemplateForNode(e){return this._templateMap?e.type?this._templateMap[e.type]:this._templateMap.default:null}onDragOver(e){this.droppableNodes&&(!this.value||this.value.length===0)&&(e.dataTransfer.dropEffect="move",e.preventDefault())}onDrop(e){if(this.droppableNodes&&(!this.value||this.value.length===0)){e.preventDefault();let t=this.dragNode;if(this.allowDrop(t,null,this.dragNodeScope)){let r=this.dragNodeIndex;this.value=this.value||[],this.validateDrop?this.onNodeDrop.emit({originalEvent:e,dragNode:t,dropNode:null,index:r,accept:()=>{this.processTreeDrop(t,r)}}):(this.onNodeDrop.emit({originalEvent:e,dragNode:t,dropNode:null,index:r}),this.processTreeDrop(t,r))}}}processTreeDrop(e,t){this.dragNodeSubNodes.splice(t,1),this.value.push(e),this.dragDropService.stopDrag({node:e})}onDragEnter(){this.droppableNodes&&this.allowDrop(this.dragNode,null,this.dragNodeScope)&&(this.dragHover=!0)}onDragLeave(e){if(this.droppableNodes){let t=e.currentTarget.getBoundingClientRect();(e.x>t.left+t.width||e.x<t.left||e.y>t.top+t.height||e.y<t.top)&&(this.dragHover=!1)}}allowDrop(e,t,r,o="node"){if(e)if(this.isValidDragScope(r)){let s=!0;if(t)if(e===t)s=!1;else{let a=t.parent;for(;a!=null;){if(a===e){s=!1;break}a=a.parent}}return s}else return!1;else return!1}isValidDragScope(e){let t=this.droppableScope;if(t){if(typeof t=="string"){if(typeof e=="string")return t===e;if(Array.isArray(e))return e.indexOf(t)!=-1}else if(Array.isArray(t)){if(typeof e=="string")return t.indexOf(e)!=-1;if(Array.isArray(e)){for(let r of t)for(let o of e)if(r===o)return!0}}return!1}else return!0}_filter(e){let t=e;if(t==="")this.filteredNodes=null;else{this.filteredNodes=[];let r=this.filterBy.split(","),o=fe.removeAccents(t).toLocaleLowerCase(this.filterLocale),s=this.filterMode==="strict";for(let a of this.value){let l=re({},a),c={searchFields:r,filterText:o,isStrictMode:s};(s&&(this.findFilteredNodes(l,c)||this.isFilterMatched(l,c))||!s&&(this.isFilterMatched(l,c)||this.findFilteredNodes(l,c)))&&this.filteredNodes.push(l)}}this.updateSerializedValue(),this.onFilter.emit({filter:t,filteredValue:this.filteredNodes})}resetFilter(){this.filteredNodes=null,this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value="")}scrollToVirtualIndex(e){this.virtualScroll&&this.scroller?.scrollToIndex(e)}scrollTo(e){this.virtualScroll?this.scroller?.scrollTo(e):this.wrapperViewChild&&this.wrapperViewChild.nativeElement&&(this.wrapperViewChild.nativeElement.scrollTo?this.wrapperViewChild.nativeElement.scrollTo(e):(this.wrapperViewChild.nativeElement.scrollLeft=e.left,this.wrapperViewChild.nativeElement.scrollTop=e.top))}findFilteredNodes(e,t){if(e){let r=!1;if(e.children){let o=[...e.children];e.children=[];for(let s of o){let a=re({},s);this.isFilterMatched(a,t)&&(r=!0,e.children.push(a))}}if(r)return e.expanded=!0,!0}}isFilterMatched(e,t){let{searchFields:r,filterText:o,isStrictMode:s}=t,a=!1;for(let l of r)fe.removeAccents(String(fe.resolveFieldData(e,l))).toLocaleLowerCase(this.filterLocale).indexOf(o)>-1&&(a=!0);return(!a||s&&!this.isNodeLeaf(e))&&(a=this.findFilteredNodes(e,{searchFields:r,filterText:o,isStrictMode:s})||a),a}getIndex(e,t){let r=e.getItemOptions;return r?r(t).index:t}getBlockableElement(){return this.el.nativeElement.children[0]}ngOnDestroy(){this.dragStartSubscription&&this.dragStartSubscription.unsubscribe(),this.dragStopSubscription&&this.dragStopSubscription.unsubscribe()}static \u0275fac=function(t){return new(t||i)(b(ze),b(V4,8),b(Vt),b(Ie))};static \u0275cmp=ie({type:i,selectors:[["p-tree"]],contentQueries:function(t,r,o){if(t&1&&ot(o,be,4),t&2){let s;ee(s=te())&&(r.templates=s)}},viewQuery:function(t,r){if(t&1&&(de(XSe,5),de(QSe,5),de(ZSe,5)),t&2){let o;ee(o=te())&&(r.filterViewChild=o.first),ee(o=te())&&(r.scroller=o.first),ee(o=te())&&(r.wrapperViewChild=o.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",selectionMode:"selectionMode",loadingMode:"loadingMode",selection:"selection",style:"style",styleClass:"styleClass",contextMenu:"contextMenu",layout:"layout",draggableScope:"draggableScope",droppableScope:"droppableScope",draggableNodes:[2,"draggableNodes","draggableNodes",K],droppableNodes:[2,"droppableNodes","droppableNodes",K],metaKeySelection:[2,"metaKeySelection","metaKeySelection",K],propagateSelectionUp:[2,"propagateSelectionUp","propagateSelectionUp",K],propagateSelectionDown:[2,"propagateSelectionDown","propagateSelectionDown",K],loading:[2,"loading","loading",K],loadingIcon:"loadingIcon",emptyMessage:"emptyMessage",ariaLabel:"ariaLabel",togglerAriaLabel:"togglerAriaLabel",ariaLabelledBy:"ariaLabelledBy",validateDrop:[2,"validateDrop","validateDrop",K],filter:[2,"filter","filter",K],filterBy:"filterBy",filterMode:"filterMode",filterPlaceholder:"filterPlaceholder",filteredNodes:"filteredNodes",filterLocale:"filterLocale",scrollHeight:"scrollHeight",lazy:[2,"lazy","lazy",K],virtualScroll:[2,"virtualScroll","virtualScroll",K],virtualScrollItemSize:[2,"virtualScrollItemSize","virtualScrollItemSize",ke],virtualScrollOptions:"virtualScrollOptions",indentation:[2,"indentation","indentation",ke],_templateMap:"_templateMap",trackBy:"trackBy",virtualNodeHeight:"virtualNodeHeight"},outputs:{selectionChange:"selectionChange",onNodeSelect:"onNodeSelect",onNodeUnselect:"onNodeUnselect",onNodeExpand:"onNodeExpand",onNodeCollapse:"onNodeCollapse",onNodeContextMenuSelect:"onNodeContextMenuSelect",onNodeDrop:"onNodeDrop",onLazyLoad:"onLazyLoad",onScroll:"onScroll",onScrollIndexChange:"onScrollIndexChange",onFilter:"onFilter"},features:[qe,en],decls:2,vars:2,consts:[["filter",""],["scroller",""],["treeNode",""],["wrapper",""],["emptyFilter",""],[3,"ngClass","ngStyle","class","drop","dragover","dragenter","dragleave",4,"ngIf"],[3,"ngClass","ngStyle","class",4,"ngIf"],[3,"drop","dragover","dragenter","dragleave","ngClass","ngStyle"],["class","p-tree-loading-overlay p-component-overlay",4,"ngIf"],[4,"ngTemplateOutlet"],["class","p-tree-filter-container",4,"ngIf"],[4,"ngIf"],["class","p-tree-empty-message",4,"ngIf"],[1,"p-tree-loading-overlay","p-component-overlay"],[3,"class",4,"ngIf"],[3,"spin","styleClass",4,"ngIf"],["class","p-tree-loading-icon",4,"ngIf"],[3,"spin","styleClass"],[1,"p-tree-loading-icon"],[1,"p-tree-filter-container"],["type","search","autocomplete","off",1,"p-tree-filter","p-inputtext","p-component",3,"keydown.enter","input"],[3,"styleClass",4,"ngIf"],["class","p-tree-filter-icon",4,"ngIf"],[3,"styleClass"],[1,"p-tree-filter-icon"],["styleClass","p-tree-wrapper",3,"items","tabindex","style","scrollHeight","itemSize","lazy","options","onScroll","onScrollIndexChange","onLazyLoad",4,"ngIf"],["styleClass","p-tree-wrapper",3,"onScroll","onScrollIndexChange","onLazyLoad","items","tabindex","scrollHeight","itemSize","lazy","options"],["pTemplate","content"],["class","p-tree-container","role","tree",3,"ngClass","style",4,"ngIf"],["role","tree",1,"p-tree-container",3,"ngClass"],[3,"level","rowNode","node","parentNode","firstChild","lastChild","index","itemSize","indentation","loadingMode",4,"ngFor","ngForOf","ngForTrackBy"],[3,"level","rowNode","node","parentNode","firstChild","lastChild","index","itemSize","indentation","loadingMode"],["pTemplate","loader"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-tree-wrapper",3,"ngStyle"],["class","p-tree-container","role","tree",4,"ngIf"],["role","tree",1,"p-tree-container"],[3,"node","firstChild","lastChild","index","level","loadingMode",4,"ngFor","ngForOf","ngForTrackBy"],[3,"node","firstChild","lastChild","index","level","loadingMode"],[1,"p-tree-empty-message"],[4,"ngIf","ngIfElse"],[3,"ngClass","ngStyle"],["class","p-tree-loading-mask p-component-overlay",4,"ngIf"],[1,"p-tree-loading-mask","p-component-overlay"],[3,"node","root"]],template:function(t,r){t&1&&I(0,PAe,7,15,"div",5)(1,KAe,6,11,"div",6),t&2&&(h("ngIf",!r.horizontal),u(),h("ngIf",r.horizontal))},dependencies:()=>[Ge,tn,et,st,Ee,be,Rs,La,gs,$Ae],styles:[`@layer primeng{.p-tree-container{margin:0;padding:0;list-style-type:none;overflow:auto}.p-treenode-children{margin:0;padding:0;list-style-type:none}.p-tree-wrapper{overflow:auto}.p-treenode-selectable{cursor:pointer;-webkit-user-select:none;user-select:none}.p-tree-toggler{cursor:pointer;-webkit-user-select:none;user-select:none;display:inline-flex;align-items:center;justify-content:center;overflow:hidden;position:relative;flex-shrink:0}.p-treenode-leaf>.p-treenode-content .p-tree-toggler{visibility:hidden}.p-treenode-content{display:flex;align-items:center}.p-tree-filter{width:100%}.p-tree-filter-container{position:relative;display:block;width:100%}.p-tree-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-tree-loading{position:relative;min-height:4rem}.p-tree .p-tree-loading-overlay{position:absolute;display:flex;align-items:center;justify-content:center;z-index:2}.p-tree-flex-scrollable{display:flex;flex:1;height:100%;flex-direction:column}.p-tree-flex-scrollable .p-tree-wrapper{flex:1}.p-tree .p-treenode-droppoint{height:4px;list-style-type:none}.p-tree .p-treenode-droppoint-active{border:0 none}.p-tree-horizontal{width:auto;padding-left:0;padding-right:0;overflow:auto}.p-tree.p-tree-horizontal table,.p-tree.p-tree-horizontal tr,.p-tree.p-tree-horizontal td{border-collapse:collapse;margin:0;padding:0;vertical-align:middle}.p-tree-horizontal .p-treenode-content{font-weight:400;padding:.4em 1em .4em .2em;display:flex;align-items:center}.p-tree-horizontal .p-treenode-parent .p-treenode-content{font-weight:400;white-space:nowrap}.p-tree.p-tree-horizontal .p-treenode{background:url(data:image/gif;base64,R0lGODlhAQABAIAAALGxsf///yH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNC4xLWMwMzQgNDYuMjcyOTc2LCBTYXQgSmFuIDI3IDIwMDcgMjI6Mzc6MzcgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhhcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyI+CiAgICAgICAgIDx4YXA6Q3JlYXRvclRvb2w+QWRvYmUgRmlyZXdvcmtzIENTMzwveGFwOkNyZWF0b3JUb29sPgogICAgICAgICA8eGFwOkNyZWF0ZURhdGU+MjAxMC0wMy0xMVQxMDoxNjo0MVo8L3hhcDpDcmVhdGVEYXRlPgogICAgICAgICA8eGFwOk1vZGlmeURhdGU+MjAxMC0wMy0xMVQxMjo0NDoxOVo8L3hhcDpNb2RpZnlEYXRlPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIj4KICAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9naWY8L2RjOmZvcm1hdD4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz4B//79/Pv6+fj39vX08/Lx8O/u7ezr6uno5+bl5OPi4eDf3t3c29rZ2NfW1dTT0tHQz87NzMvKycjHxsXEw8LBwL++vby7urm4t7a1tLOysbCvrq2sq6qpqKempaSjoqGgn56dnJuamZiXlpWUk5KRkI+OjYyLiomIh4aFhIOCgYB/fn18e3p5eHd2dXRzcnFwb25tbGtqaWhnZmVkY2JhYF9eXVxbWllYV1ZVVFNSUVBPTk1MS0pJSEdGRURDQkFAPz49PAA6OTg3NjU0MzIxMC8uLSwrKikoJyYlJCMiISAfHh0cGxoZGBcWFRQTEhEQDw4NDAsKCQgHBgUEAwIBAAAh+QQABwD/ACwAAAAAAQABAAACAkQBADs=) repeat-x scroll center center transparent;padding:.25rem 2.5rem}.p-tree.p-tree-horizontal .p-treenode.p-treenode-leaf,.p-tree.p-tree-horizontal .p-treenode.p-treenode-collapsed{padding-right:0}.p-tree.p-tree-horizontal .p-treenode-children{padding:0;margin:0}.p-tree.p-tree-horizontal .p-treenode-connector{width:1px}.p-tree.p-tree-horizontal .p-treenode-connector-table{height:100%;width:1px}.p-tree.p-tree-horizontal .p-treenode-connector-line{background:url(data:image/gif;base64,R0lGODlhAQABAIAAALGxsf///yH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNC4xLWMwMzQgNDYuMjcyOTc2LCBTYXQgSmFuIDI3IDIwMDcgMjI6Mzc6MzcgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhhcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyI+CiAgICAgICAgIDx4YXA6Q3JlYXRvclRvb2w+QWRvYmUgRmlyZXdvcmtzIENTMzwveGFwOkNyZWF0b3JUb29sPgogICAgICAgICA8eGFwOkNyZWF0ZURhdGU+MjAxMC0wMy0xMVQxMDoxNjo0MVo8L3hhcDpDcmVhdGVEYXRlPgogICAgICAgICA8eGFwOk1vZGlmeURhdGU+MjAxMC0wMy0xMVQxMjo0NDoxOVo8L3hhcDpNb2RpZnlEYXRlPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIj4KICAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9naWY8L2RjOmZvcm1hdD4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz4B//79/Pv6+fj39vX08/Lx8O/u7ezr6uno5+bl5OPi4eDf3t3c29rZ2NfW1dTT0tHQz87NzMvKycjHxsXEw8LBwL++vby7urm4t7a1tLOysbCvrq2sq6qpqKempaSjoqGgn56dnJuamZiXlpWUk5KRkI+OjYyLiomIh4aFhIOCgYB/fn18e3p5eHd2dXRzcnFwb25tbGtqaWhnZmVkY2JhYF9eXVxbWllYV1ZVVFNSUVBPTk1MS0pJSEdGRURDQkFAPz49PAA6OTg3NjU0MzIxMC8uLSwrKikoJyYlJCMiISAfHh0cGxoZGBcWFRQTEhEQDw4NDAsKCQgHBgUEAwIBAAAh+QQABwD/ACwAAAAAAQABAAACAkQBADs=) repeat-y scroll 0 0 transparent;width:1px}.p-tree.p-tree-horizontal table{height:0}.p-scroller .p-tree-container{overflow:visible}}
`],encapsulation:2})}return i})(),lR=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=Oe({type:i});static \u0275inj=Te({imports:[Ye,nt,Qi,Wr,fn,To,Fa,ya,La,gs,Ps,nt,Wr]})}return i})();var cR=(()=>{class i extends St{static \u0275fac=(()=>{let e;return function(r){return(e||(e=tt(i)))(r||i)}})();static \u0275cmp=ie({type:i,selectors:[["EyeIcon"]],standalone:!0,features:[ve,lt],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M0.0535499 7.25213C0.208567 7.59162 2.40413 12.4 7 12.4C11.5959 12.4 13.7914 7.59162 13.9465 7.25213C13.9487 7.2471 13.9506 7.24304 13.952 7.24001C13.9837 7.16396 14 7.08239 14 7.00001C14 6.91762 13.9837 6.83605 13.952 6.76001C13.9506 6.75697 13.9487 6.75292 13.9465 6.74788C13.7914 6.4084 11.5959 1.60001 7 1.60001C2.40413 1.60001 0.208567 6.40839 0.0535499 6.74788C0.0512519 6.75292 0.0494023 6.75697 0.048 6.76001C0.0163137 6.83605 0 6.91762 0 7.00001C0 7.08239 0.0163137 7.16396 0.048 7.24001C0.0494023 7.24304 0.0512519 7.2471 0.0535499 7.25213ZM7 11.2C3.664 11.2 1.736 7.92001 1.264 7.00001C1.736 6.08001 3.664 2.80001 7 2.80001C10.336 2.80001 12.264 6.08001 12.736 7.00001C12.264 7.92001 10.336 11.2 7 11.2ZM5.55551 9.16182C5.98308 9.44751 6.48576 9.6 7 9.6C7.68891 9.59789 8.349 9.32328 8.83614 8.83614C9.32328 8.349 9.59789 7.68891 9.59999 7C9.59999 6.48576 9.44751 5.98308 9.16182 5.55551C8.87612 5.12794 8.47006 4.7947 7.99497 4.59791C7.51988 4.40112 6.99711 4.34963 6.49276 4.44995C5.98841 4.55027 5.52513 4.7979 5.16152 5.16152C4.7979 5.52513 4.55027 5.98841 4.44995 6.49276C4.34963 6.99711 4.40112 7.51988 4.59791 7.99497C4.7947 8.47006 5.12794 8.87612 5.55551 9.16182ZM6.2222 5.83594C6.45243 5.6821 6.7231 5.6 7 5.6C7.37065 5.6021 7.72553 5.75027 7.98762 6.01237C8.24972 6.27446 8.39789 6.62934 8.4 7C8.4 7.27689 8.31789 7.54756 8.16405 7.77779C8.01022 8.00802 7.79157 8.18746 7.53575 8.29343C7.27994 8.39939 6.99844 8.42711 6.72687 8.37309C6.4553 8.31908 6.20584 8.18574 6.01005 7.98994C5.81425 7.79415 5.68091 7.54469 5.6269 7.27312C5.57288 7.00155 5.6006 6.72006 5.70656 6.46424C5.81253 6.20842 5.99197 5.98977 6.2222 5.83594Z","fill","currentColor"]],template:function(t,r){t&1&&(It(),m(0,"svg",0),O(1,"path",1),_()),t&2&&(le(r.getClassNames()),V("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return i})();var dR=(()=>{class i extends St{pathId;ngOnInit(){this.pathId="url(#"+yt()+")"}static \u0275fac=(()=>{let e;return function(r){return(e||(e=tt(i)))(r||i)}})();static \u0275cmp=ie({type:i,selectors:[["EyeSlashIcon"]],standalone:!0,features:[ve,lt],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M13.9414 6.74792C13.9437 6.75295 13.9455 6.757 13.9469 6.76003C13.982 6.8394 14.0001 6.9252 14.0001 7.01195C14.0001 7.0987 13.982 7.1845 13.9469 7.26386C13.6004 8.00059 13.1711 8.69549 12.6674 9.33515C12.6115 9.4071 12.54 9.46538 12.4582 9.50556C12.3765 9.54574 12.2866 9.56678 12.1955 9.56707C12.0834 9.56671 11.9737 9.53496 11.8788 9.47541C11.7838 9.41586 11.7074 9.3309 11.6583 9.23015C11.6092 9.12941 11.5893 9.01691 11.6008 8.90543C11.6124 8.79394 11.6549 8.68793 11.7237 8.5994C12.1065 8.09726 12.4437 7.56199 12.7313 6.99995C12.2595 6.08027 10.3402 2.8014 6.99732 2.8014C6.63723 2.80218 6.27816 2.83969 5.92569 2.91336C5.77666 2.93304 5.62568 2.89606 5.50263 2.80972C5.37958 2.72337 5.29344 2.59398 5.26125 2.44714C5.22907 2.30031 5.2532 2.14674 5.32885 2.01685C5.40451 1.88696 5.52618 1.79021 5.66978 1.74576C6.10574 1.64961 6.55089 1.60134 6.99732 1.60181C11.5916 1.60181 13.7864 6.40856 13.9414 6.74792ZM2.20333 1.61685C2.35871 1.61411 2.5091 1.67179 2.6228 1.77774L12.2195 11.3744C12.3318 11.4869 12.3949 11.6393 12.3949 11.7983C12.3949 11.9572 12.3318 12.1097 12.2195 12.2221C12.107 12.3345 11.9546 12.3976 11.7956 12.3976C11.6367 12.3976 11.4842 12.3345 11.3718 12.2221L10.5081 11.3584C9.46549 12.0426 8.24432 12.4042 6.99729 12.3981C2.403 12.3981 0.208197 7.59135 0.0532336 7.25198C0.0509364 7.24694 0.0490875 7.2429 0.0476856 7.23986C0.0162332 7.16518 3.05176e-05 7.08497 3.05176e-05 7.00394C3.05176e-05 6.92291 0.0162332 6.8427 0.0476856 6.76802C0.631261 5.47831 1.46902 4.31959 2.51084 3.36119L1.77509 2.62545C1.66914 2.51175 1.61146 2.36136 1.61421 2.20597C1.61695 2.05059 1.6799 1.90233 1.78979 1.79244C1.89968 1.68254 2.04794 1.6196 2.20333 1.61685ZM7.45314 8.35147L5.68574 6.57609V6.5361C5.5872 6.78938 5.56498 7.06597 5.62183 7.33173C5.67868 7.59749 5.8121 7.84078 6.00563 8.03158C6.19567 8.21043 6.43052 8.33458 6.68533 8.39089C6.94014 8.44721 7.20543 8.43359 7.45314 8.35147ZM1.26327 6.99994C1.7351 7.91163 3.64645 11.1985 6.99729 11.1985C7.9267 11.2048 8.8408 10.9618 9.64438 10.4947L8.35682 9.20718C7.86027 9.51441 7.27449 9.64491 6.69448 9.57752C6.11446 9.51014 5.57421 9.24881 5.16131 8.83592C4.74842 8.42303 4.4871 7.88277 4.41971 7.30276C4.35232 6.72274 4.48282 6.13697 4.79005 5.64041L3.35855 4.2089C2.4954 5.00336 1.78523 5.94935 1.26327 6.99994Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,r){t&1&&(It(),m(0,"svg",0)(1,"g"),O(2,"path",1),_(),m(3,"defs")(4,"clipPath",2),O(5,"rect",3),_()()()),t&2&&(le(r.getClassNames()),V("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),u(),V("clip-path",r.pathId),u(3),h("id",r.pathId))},encapsulation:2})}return i})();var qAe=["input"],YAe=(i,n)=>({showTransitionParams:i,hideTransitionParams:n}),JAe=i=>({value:"visible",params:i}),XAe=i=>({width:i});function QAe(i,n){if(i&1){let e=B();m(0,"TimesIcon",10),P("click",function(){S(e);let r=f(2);return A(r.clear())}),_()}i&2&&(h("styleClass","p-password-clear-icon"),V("data-pc-section","clearIcon"))}function ZAe(i,n){}function eEe(i,n){i&1&&I(0,ZAe,0,0,"ng-template")}function tEe(i,n){if(i&1){let e=B();pe(0),I(1,QAe,1,2,"TimesIcon",7),m(2,"span",8),P("click",function(){S(e);let r=f();return A(r.clear())}),I(3,eEe,1,0,null,9),_(),he()}if(i&2){let e=f();u(),h("ngIf",!e.clearIconTemplate),u(),V("data-pc-section","clearIcon"),u(),h("ngTemplateOutlet",e.clearIconTemplate)}}function iEe(i,n){if(i&1){let e=B();m(0,"EyeSlashIcon",13),P("keypress",function(r){S(e);let o=f(3);return A(o.onEyeIconPress(r))})("click",function(){S(e);let r=f(3);return A(r.onMaskToggle())}),_()}i&2&&V("data-pc-section","hideIcon")}function nEe(i,n){}function rEe(i,n){i&1&&I(0,nEe,0,0,"ng-template")}function oEe(i,n){if(i&1){let e=B();m(0,"span",14),P("click",function(){S(e);let r=f(3);return A(r.onMaskToggle())}),I(1,rEe,1,0,null,9),_()}if(i&2){let e=f(3);u(),h("ngTemplateOutlet",e.hideIconTemplate)}}function sEe(i,n){if(i&1&&(pe(0),I(1,iEe,1,1,"EyeSlashIcon",11)(2,oEe,2,1,"span",12),he()),i&2){let e=f(2);u(),h("ngIf",!e.hideIconTemplate),u(),h("ngIf",e.hideIconTemplate)}}function aEe(i,n){if(i&1){let e=B();m(0,"EyeIcon",13),P("keypress",function(r){S(e);let o=f(3);return A(o.onEyeIconPress(r))})("click",function(){S(e);let r=f(3);return A(r.onMaskToggle())}),_()}i&2&&V("data-pc-section","showIcon")}function lEe(i,n){}function cEe(i,n){i&1&&I(0,lEe,0,0,"ng-template")}function dEe(i,n){if(i&1){let e=B();m(0,"span",14),P("click",function(){S(e);let r=f(3);return A(r.onMaskToggle())}),I(1,cEe,1,0,null,9),_()}if(i&2){let e=f(3);u(),h("ngTemplateOutlet",e.showIconTemplate)}}function uEe(i,n){if(i&1&&(pe(0),I(1,aEe,1,1,"EyeIcon",11)(2,dEe,2,1,"span",12),he()),i&2){let e=f(2);u(),h("ngIf",!e.showIconTemplate),u(),h("ngIf",e.showIconTemplate)}}function pEe(i,n){if(i&1&&(pe(0),I(1,sEe,3,2,"ng-container",5)(2,uEe,3,2,"ng-container",5),he()),i&2){let e=f();u(),h("ngIf",e.unmasked),u(),h("ngIf",!e.unmasked)}}function hEe(i,n){i&1&&ue(0)}function fEe(i,n){i&1&&ue(0)}function mEe(i,n){if(i&1&&(pe(0),I(1,fEe,1,0,"ng-container",9),he()),i&2){let e=f(2);u(),h("ngTemplateOutlet",e.contentTemplate)}}function gEe(i,n){if(i&1&&(m(0,"div",17),O(1,"div",3),R(2,"mapper"),_(),m(3,"div",18),D(4),_()),i&2){let e=f(2);V("data-pc-section","meter"),u(),h("ngClass",Di(2,6,e.meter,e.strengthClass))("ngStyle",oe(9,XAe,e.meter?e.meter.width:"")),V("data-pc-section","meterLabel"),u(2),V("data-pc-section","info"),u(),$(e.infoText)}}function _Ee(i,n){i&1&&ue(0)}function CEe(i,n){if(i&1){let e=B();m(0,"div",15,1),P("click",function(r){S(e);let o=f();return A(o.onOverlayClick(r))})("@overlayAnimation.start",function(r){S(e);let o=f();return A(o.onAnimationStart(r))})("@overlayAnimation.done",function(r){S(e);let o=f();return A(o.onAnimationEnd(r))}),I(2,hEe,1,0,"ng-container",9)(3,mEe,2,1,"ng-container",16)(4,gEe,5,11,"ng-template",null,2,Pt)(6,_Ee,1,0,"ng-container",9),_()}if(i&2){let e=We(5),t=f();h("ngClass","p-password-panel p-component")("@overlayAnimation",oe(10,JAe,Je(7,YAe,t.showTransitionOptions,t.hideTransitionOptions))),V("data-pc-section","panel"),u(2),h("ngTemplateOutlet",t.headerTemplate),u(),h("ngIf",t.contentTemplate)("ngIfElse",e),u(3),h("ngTemplateOutlet",t.footerTemplate)}}var Yw=(()=>{class i{document;platformId;renderer;el;zone;config;promptLabel="Enter a password";weakLabel="Weak";mediumLabel="Medium";strongLabel="Strong";feedback=!0;set showPassword(e){this.el.nativeElement.type=e?"text":"password"}variant="outlined";panel;meter;info;filled;scrollHandler;documentResizeListener;constructor(e,t,r,o,s,a){this.document=e,this.platformId=t,this.renderer=r,this.el=o,this.zone=s,this.config=a}ngDoCheck(){this.updateFilledState()}onInput(e){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length}createPanel(){ht(this.platformId)&&(this.panel=this.renderer.createElement("div"),this.renderer.addClass(this.panel,"p-password-panel"),this.renderer.addClass(this.panel,"p-component"),this.renderer.addClass(this.panel,"p-password-panel-overlay"),this.renderer.addClass(this.panel,"p-connected-overlay"),this.meter=this.renderer.createElement("div"),this.renderer.addClass(this.meter,"p-password-meter"),this.renderer.appendChild(this.panel,this.meter),this.info=this.renderer.createElement("div"),this.renderer.addClass(this.info,"p-password-info"),this.renderer.setProperty(this.info,"textContent",this.promptLabel),this.renderer.appendChild(this.panel,this.info),this.renderer.setStyle(this.panel,"minWidth",`${this.el.nativeElement.offsetWidth}px`),this.renderer.appendChild(document.body,this.panel))}showOverlay(){this.feedback&&(this.panel||this.createPanel(),this.renderer.setStyle(this.panel,"zIndex",String(++M.zindex)),this.renderer.setStyle(this.panel,"display","block"),this.zone.runOutsideAngular(()=>{setTimeout(()=>{M.addClass(this.panel,"p-connected-overlay-visible"),this.bindScrollListener(),this.bindDocumentResizeListener()},1)}),M.absolutePosition(this.panel,this.el.nativeElement))}hideOverlay(){this.feedback&&this.panel&&(M.addClass(this.panel,"p-connected-overlay-hidden"),M.removeClass(this.panel,"p-connected-overlay-visible"),this.unbindScrollListener(),this.unbindDocumentResizeListener(),this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.ngOnDestroy()},150)}))}onFocus(){this.showOverlay()}onBlur(){this.hideOverlay()}onKeyup(e){if(this.feedback){let r=e.target.value,o=null,s=null;if(r.length===0)o=this.promptLabel,s="0px 0px";else{var t=this.testStrength(r);t<30?(o=this.weakLabel,s="0px -10px"):t>=30&&t<80?(o=this.mediumLabel,s="0px -20px"):t>=80&&(o=this.strongLabel,s="0px -30px")}(!this.panel||!M.hasClass(this.panel,"p-connected-overlay-visible"))&&this.showOverlay(),this.renderer.setStyle(this.meter,"backgroundPosition",s),this.info.textContent=o}}testStrength(e){let t=0,r;return r=e.match("[0-9]"),t+=this.normalize(r?r.length:1/4,1)*25,r=e.match("[a-zA-Z]"),t+=this.normalize(r?r.length:1/2,3)*10,r=e.match("[!@#$%^&*?_~.,;=]"),t+=this.normalize(r?r.length:1/6,1)*35,r=e.match("[A-Z]"),t+=this.normalize(r?r.length:1/6,1)*30,t*=e.length/8,t>100?100:t}normalize(e,t){return e-t<=0?e/t:1+.5*(e/(e+t/4))}get disabled(){return this.el.nativeElement.disabled}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new Zr(this.el.nativeElement,()=>{M.hasClass(this.panel,"p-connected-overlay-visible")&&this.hideOverlay()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}bindDocumentResizeListener(){if(ht(this.platformId)&&!this.documentResizeListener){let e=this.document.defaultView;this.documentResizeListener=this.renderer.listen(e,"resize",this.onWindowResize.bind(this))}}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}onWindowResize(){M.isTouchDevice()||this.hideOverlay()}ngOnDestroy(){this.panel&&(this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.unbindDocumentResizeListener(),this.renderer.removeChild(this.document.body,this.panel),this.panel=null,this.meter=null,this.info=null)}static \u0275fac=function(t){return new(t||i)(b(_t),b(qt),b(Ft),b(ze),b(xt),b(Vt))};static \u0275dir=gt({type:i,selectors:[["","pPassword",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:4,hostBindings:function(t,r){t&1&&P("input",function(s){return r.onInput(s)})("focus",function(){return r.onFocus()})("blur",function(){return r.onBlur()})("keyup",function(s){return r.onKeyup(s)}),t&2&&yn("p-filled",r.filled)("p-variant-filled",r.variant==="filled"||r.config.inputStyle()==="filled")},inputs:{promptLabel:"promptLabel",weakLabel:"weakLabel",mediumLabel:"mediumLabel",strongLabel:"strongLabel",feedback:[2,"feedback","feedback",K],showPassword:"showPassword",variant:"variant"},features:[qe]})}return i})(),yEe=(()=>{class i{transform(e,t,...r){return t(e,...r)}static \u0275fac=function(t){return new(t||i)};static \u0275pipe=Jn({name:"mapper",type:i,pure:!0})}return i})(),IEe={provide:nn,useExisting:zt(()=>vEe),multi:!0},vEe=(()=>{class i{document;platformId;renderer;cd;config;el;overlayService;ariaLabel;ariaLabelledBy;label;disabled;promptLabel;mediumRegex="^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})";strongRegex="^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})";weakLabel;mediumLabel;maxLength;strongLabel;inputId;feedback=!0;appendTo;toggleMask;inputStyleClass;styleClass;style;inputStyle;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";autocomplete;placeholder;showClear=!1;autofocus;variant="outlined";onFocus=new Q;onBlur=new Q;onClear=new Q;input;contentTemplate;footerTemplate;headerTemplate;clearIconTemplate;hideIconTemplate;showIconTemplate;templates;overlayVisible=!1;meter;infoText;focused=!1;unmasked=!1;mediumCheckRegExp;strongCheckRegExp;resizeListener;scrollHandler;overlay;value=null;onModelChange=()=>{};onModelTouched=()=>{};translationSubscription;constructor(e,t,r,o,s,a,l){this.document=e,this.platformId=t,this.renderer=r,this.cd=o,this.config=s,this.el=a,this.overlayService=l}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"clearicon":this.clearIconTemplate=e.template;break;case"hideicon":this.hideIconTemplate=e.template;break;case"showicon":this.showIconTemplate=e.template;break;default:this.contentTemplate=e.template;break}})}ngOnInit(){this.infoText=this.promptText(),this.mediumCheckRegExp=new RegExp(this.mediumRegex),this.strongCheckRegExp=new RegExp(this.strongRegex),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.updateUI(this.value||"")})}onAnimationStart(e){switch(e.toState){case"visible":this.overlay=e.element,hi.set("overlay",this.overlay,this.config.zIndex.overlay),this.appendContainer(),this.alignOverlay(),this.bindScrollListener(),this.bindResizeListener();break;case"void":this.unbindScrollListener(),this.unbindResizeListener(),this.overlay=null;break}}onAnimationEnd(e){switch(e.toState){case"void":hi.clear(e.element);break}}appendContainer(){this.appendTo&&(this.appendTo==="body"?this.renderer.appendChild(this.document.body,this.overlay):this.document.getElementById(this.appendTo).appendChild(this.overlay))}alignOverlay(){this.appendTo?(this.overlay.style.minWidth=M.getOuterWidth(this.input.nativeElement)+"px",M.absolutePosition(this.overlay,this.input.nativeElement)):M.relativePosition(this.overlay,this.input.nativeElement)}onInput(e){this.value=e.target.value,this.onModelChange(this.value)}onInputFocus(e){this.focused=!0,this.feedback&&(this.overlayVisible=!0),this.onFocus.emit(e)}onEyeIconPress(e){switch(e.code){case"Enter":this.onMaskToggle(),e.preventDefault();break;default:break}}onInputBlur(e){this.focused=!1,this.feedback&&(this.overlayVisible=!1),this.onModelTouched(),this.onBlur.emit(e)}onKeyUp(e){if(this.feedback){let t=e.target.value;if(this.updateUI(t),e.code==="Escape"){this.overlayVisible&&(this.overlayVisible=!1);return}this.overlayVisible||(this.overlayVisible=!0)}}updateUI(e){let t=null,r=null;switch(this.testStrength(e)){case 1:t=this.weakText(),r={strength:"weak",width:"33.33%"};break;case 2:t=this.mediumText(),r={strength:"medium",width:"66.66%"};break;case 3:t=this.strongText(),r={strength:"strong",width:"100%"};break;default:t=this.promptText(),r=null;break}this.meter=r,this.infoText=t}onMaskToggle(){this.unmasked=!this.unmasked}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}testStrength(e){let t=0;return this.strongCheckRegExp.test(e)?t=3:this.mediumCheckRegExp.test(e)?t=2:e.length&&(t=1),t}writeValue(e){e===void 0?this.value=null:this.value=e,this.feedback&&this.updateUI(this.value||""),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}bindScrollListener(){ht(this.platformId)&&(this.scrollHandler||(this.scrollHandler=new Zr(this.input.nativeElement,()=>{this.overlayVisible&&(this.overlayVisible=!1)})),this.scrollHandler.bindScrollListener())}bindResizeListener(){if(ht(this.platformId)&&!this.resizeListener){let e=this.document.defaultView;this.resizeListener=this.renderer.listen(e,"resize",()=>{this.overlayVisible&&!M.isTouchDevice()&&(this.overlayVisible=!1)})}}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindResizeListener(){this.resizeListener&&(this.resizeListener(),this.resizeListener=null)}containerClass(e){return{"p-password p-component p-inputwrapper":!0,"p-input-icon-right":e}}inputFieldClass(e){return{"p-password-input":!0,"p-disabled":e}}strengthClass(e){return`p-password-strength ${e?e.strength:""}`}filled(){return this.value!=null&&this.value.toString().length>0}promptText(){return this.promptLabel||this.getTranslation(bi.PASSWORD_PROMPT)}weakText(){return this.weakLabel||this.getTranslation(bi.WEAK)}mediumText(){return this.mediumLabel||this.getTranslation(bi.MEDIUM)}strongText(){return this.strongLabel||this.getTranslation(bi.STRONG)}restoreAppend(){this.overlay&&this.appendTo&&(this.appendTo==="body"?this.renderer.removeChild(this.document.body,this.overlay):this.document.getElementById(this.appendTo).removeChild(this.overlay))}inputType(e){return e?"text":"password"}getTranslation(e){return this.config.getTranslation(e)}clear(){this.value=null,this.onModelChange(this.value),this.writeValue(this.value),this.onClear.emit()}ngOnDestroy(){this.overlay&&(hi.clear(this.overlay),this.overlay=null),this.restoreAppend(),this.unbindResizeListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.translationSubscription&&this.translationSubscription.unsubscribe()}static \u0275fac=function(t){return new(t||i)(b(_t),b(qt),b(Ft),b(Ie),b(Vt),b(ze),b(Ao))};static \u0275cmp=ie({type:i,selectors:[["p-password"]],contentQueries:function(t,r,o){if(t&1&&ot(o,be,4),t&2){let s;ee(s=te())&&(r.templates=s)}},viewQuery:function(t,r){if(t&1&&de(qAe,5),t&2){let o;ee(o=te())&&(r.input=o.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:8,hostBindings:function(t,r){t&2&&yn("p-inputwrapper-filled",r.filled())("p-inputwrapper-focus",r.focused)("p-password-clearable",r.showClear)("p-password-mask",r.toggleMask)},inputs:{ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",label:"label",disabled:[2,"disabled","disabled",K],promptLabel:"promptLabel",mediumRegex:"mediumRegex",strongRegex:"strongRegex",weakLabel:"weakLabel",mediumLabel:"mediumLabel",maxLength:[2,"maxLength","maxLength",ke],strongLabel:"strongLabel",inputId:"inputId",feedback:[2,"feedback","feedback",K],appendTo:"appendTo",toggleMask:[2,"toggleMask","toggleMask",K],inputStyleClass:"inputStyleClass",styleClass:"styleClass",style:"style",inputStyle:"inputStyle",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",autocomplete:"autocomplete",placeholder:"placeholder",showClear:[2,"showClear","showClear",K],autofocus:[2,"autofocus","autofocus",K],variant:"variant"},outputs:{onFocus:"onFocus",onBlur:"onBlur",onClear:"onClear"},features:[Ze([IEe]),qe],decls:9,vars:35,consts:[["input",""],["overlay",""],["content",""],[3,"ngClass","ngStyle"],["pInputText","","pAutoFocus","",3,"input","focus","blur","keyup","ngClass","disabled","ngStyle","value","variant","autofocus"],[4,"ngIf"],[3,"ngClass","click",4,"ngIf"],[3,"styleClass","click",4,"ngIf"],[1,"p-password-clear-icon",3,"click"],[4,"ngTemplateOutlet"],[3,"click","styleClass"],["tabIndex","0",3,"keypress","click",4,"ngIf"],[3,"click",4,"ngIf"],["tabIndex","0",3,"keypress","click"],[3,"click"],[3,"click","ngClass"],[4,"ngIf","ngIfElse"],[1,"p-password-meter"],[1,"p-password-info"]],template:function(t,r){if(t&1){let o=B();m(0,"div",3),R(1,"mapper"),m(2,"input",4,0),R(4,"mapper"),R(5,"mapper"),P("input",function(a){return S(o),A(r.onInput(a))})("focus",function(a){return S(o),A(r.onInputFocus(a))})("blur",function(a){return S(o),A(r.onInputBlur(a))})("keyup",function(a){return S(o),A(r.onKeyUp(a))}),_(),I(6,tEe,4,3,"ng-container",5)(7,pEe,3,2,"ng-container",5)(8,CEe,7,12,"div",6),_()}t&2&&(le(r.styleClass),h("ngClass",Di(1,26,r.toggleMask,r.containerClass))("ngStyle",r.style),V("data-pc-name","password")("data-pc-section","root"),u(2),le(r.inputStyleClass),h("ngClass",Di(4,29,r.disabled,r.inputFieldClass))("disabled",r.disabled)("ngStyle",r.inputStyle)("value",r.value)("variant",r.variant)("autofocus",r.autofocus),V("label",r.label)("aria-label",r.ariaLabel)("aria-labelledBy",r.ariaLabelledBy)("id",r.inputId)("type",Di(5,32,r.unmasked,r.inputType))("placeholder",r.placeholder)("autocomplete",r.autocomplete)("maxlength",r.maxLength)("data-pc-section","input"),u(4),h("ngIf",r.showClear&&r.value!=null),u(),h("ngIf",r.toggleMask),u(),h("ngIf",r.overlayVisible))},dependencies:()=>[Ge,et,st,Ee,On,Mn,Li,dR,cR,yEe],styles:[`@layer primeng{.p-password{position:relative;display:inline-flex}.p-password-panel{position:absolute;top:0;left:0}.p-password .p-password-panel{min-width:100%}.p-password-meter{height:10px}.p-password-strength{height:100%;width:0%;transition:width 1s ease-in-out}.p-fluid .p-password{display:flex}.p-password-input::-ms-reveal,.p-password-input::-ms-clear{display:none}.p-password-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-password .p-icon{cursor:pointer}.p-password-clearable.p-password-mask .p-password-clear-icon{margin-top:unset}.p-password-clearable{position:relative}}
`],encapsulation:2,data:{animation:[hn("overlayAnimation",[Xt(":enter",[jt({opacity:0,transform:"scaleY(0.8)"}),Jt("{{showTransitionParams}}")]),Xt(":leave",[Jt("{{hideTransitionParams}}",jt({opacity:0}))])])]},changeDetection:0})}return i})(),uR=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=Oe({type:i});static \u0275inj=Te({imports:[Ye,Oa,Qn,Li,dR,cR,nt]})}return i})();var bEe=(i,n)=>({showTransitionParams:i,hideTransitionParams:n}),wEe=i=>({value:"visible",params:i});function SEe(i,n){if(i&1&&O(0,"span"),i&2){let e=f().$implicit;le("p-message-icon pi "+e.icon),V("data-pc-section","icon")}}function AEe(i,n){i&1&&O(0,"CheckIcon"),i&2&&V("data-pc-section","icon")}function EEe(i,n){i&1&&O(0,"InfoCircleIcon"),i&2&&V("data-pc-section","icon")}function xEe(i,n){i&1&&O(0,"TimesCircleIcon"),i&2&&V("data-pc-section","icon")}function TEe(i,n){i&1&&O(0,"ExclamationTriangleIcon"),i&2&&V("data-pc-section","icon")}function OEe(i,n){if(i&1&&(m(0,"span",10),pe(1),I(2,AEe,1,1,"CheckIcon",11)(3,EEe,1,1,"InfoCircleIcon",11)(4,xEe,1,1,"TimesCircleIcon",11)(5,TEe,1,1,"ExclamationTriangleIcon",11),he(),_()),i&2){let e=f().$implicit;u(2),h("ngIf",e.severity==="success"),u(),h("ngIf",e.severity==="info"),u(),h("ngIf",e.severity==="error"),u(),h("ngIf",e.severity==="warn")}}function DEe(i,n){if(i&1&&O(0,"span",14),i&2){let e=f(2).$implicit;h("innerHTML",e.summary,Xi),V("data-pc-section","summary")}}function REe(i,n){if(i&1&&O(0,"span",15),i&2){let e=f(2).$implicit;h("innerHTML",e.detail,Xi),V("data-pc-section","detail")}}function PEe(i,n){if(i&1&&(pe(0),I(1,DEe,1,2,"span",12)(2,REe,1,2,"span",13),he()),i&2){let e=f().$implicit;u(),h("ngIf",e.summary),u(),h("ngIf",e.detail)}}function kEe(i,n){if(i&1&&(m(0,"span",18),D(1),_()),i&2){let e=f(2).$implicit;V("data-pc-section","summary"),u(),$(e.summary)}}function FEe(i,n){if(i&1&&(m(0,"span",19),D(1),_()),i&2){let e=f(2).$implicit;V("data-pc-section","detail"),u(),$(e.detail)}}function LEe(i,n){if(i&1&&I(0,kEe,2,2,"span",16)(1,FEe,2,2,"span",17),i&2){let e=f().$implicit;h("ngIf",e.summary),u(),h("ngIf",e.detail)}}function MEe(i,n){if(i&1){let e=B();m(0,"button",20),P("click",function(){S(e);let r=f().index,o=f(2);return A(o.removeMessage(r))}),O(1,"TimesIcon",21),_()}if(i&2){let e=f(3);V("aria-label",e.closeAriaLabel)("data-pc-section","closebutton"),u(),h("styleClass","p-message-close-icon"),V("data-pc-section","closeicon")}}function NEe(i,n){if(i&1&&(m(0,"div",5)(1,"div",6),I(2,SEe,1,3,"span",7)(3,OEe,6,4,"span",8)(4,PEe,3,2,"ng-container",3)(5,LEe,2,2,"ng-template",null,1,Pt)(7,MEe,2,4,"button",9),_()()),i&2){let e,t=n.$implicit,r=We(6),o=f(2);le("p-message p-message-"+t.severity),h("@messageAnimation",oe(13,wEe,Je(10,bEe,o.showTransitionOptions,o.hideTransitionOptions))),u(),V("data-pc-section","wrapper")("id",t.id||null),u(),h("ngIf",t.icon),u(),h("ngIf",!t.icon),u(),h("ngIf",!o.escape)("ngIfElse",r),u(3),h("ngIf",o.closable&&((e=t.closable)!==null&&e!==void 0?e:!0))}}function VEe(i,n){if(i&1&&(pe(0),I(1,NEe,8,15,"div",4),he()),i&2){let e=f();u(),h("ngForOf",e.messages)}}function BEe(i,n){i&1&&ue(0)}function UEe(i,n){if(i&1&&(m(0,"div",22)(1,"div",6),I(2,BEe,1,0,"ng-container",23),_()()),i&2){let e=f();h("ngClass","p-message p-message-"+e.severity),u(2),h("ngTemplateOutlet",e.contentTemplate)}}var Jw=(()=>{class i{messageService;el;cd;config;set value(e){this.messages=e,this.startMessageLifes(this.messages)}closable=!0;style;styleClass;enableService=!0;key;escape=!0;severity;showTransitionOptions="300ms ease-out";hideTransitionOptions="200ms cubic-bezier(0.86, 0, 0.07, 1)";valueChange=new Q;onClose=new Q;templates;messages;messageSubscription;clearSubscription;timerSubscriptions=[];contentTemplate;constructor(e,t,r,o){this.messageService=e,this.el=t,this.cd=r,this.config=o}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;default:this.contentTemplate=e.template;break}}),this.messageService&&this.enableService&&!this.contentTemplate&&(this.messageSubscription=this.messageService.messageObserver.subscribe(e=>{if(e){Array.isArray(e)||(e=[e]);let t=e.filter(r=>this.key===r.key);this.messages=this.messages?[...this.messages,...t]:[...t],this.startMessageLifes(t),this.cd.markForCheck()}}),this.clearSubscription=this.messageService.clearObserver.subscribe(e=>{e?this.key===e&&(this.messages=null):this.messages=null,this.cd.markForCheck()}))}hasMessages(){let e=this.el.nativeElement.parentElement;return e&&e.offsetParent?this.contentTemplate!=null||this.messages&&this.messages.length>0:!1}clear(){this.messages=[],this.valueChange.emit(this.messages)}removeMessage(e){let t=this.messages[e];this.messages=this.messages?.filter((r,o)=>o!==e),t&&this.onClose.emit(t),this.valueChange.emit(this.messages)}get icon(){let e=this.severity||(this.hasMessages()?this.messages[0].severity:null);if(this.hasMessages())switch(e){case"success":return"pi-check";case"info":return"pi-info-circle";case"error":return"pi-times";case"warn":return"pi-exclamation-triangle";default:return"pi-info-circle"}return null}get closeAriaLabel(){return this.config.translation.aria?this.config.translation.aria.close:void 0}ngOnDestroy(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.clearSubscription&&this.clearSubscription.unsubscribe(),this.timerSubscriptions?.forEach(e=>e.unsubscribe())}startMessageLifes(e){e?.forEach(t=>t.life&&this.startMessageLife(t))}startMessageLife(e){let t=nl(e.life).subscribe(()=>{this.messages=this.messages?.filter(r=>r!==e),this.timerSubscriptions=this.timerSubscriptions?.filter(r=>r!==t),this.valueChange.emit(this.messages),this.cd.markForCheck()});this.timerSubscriptions.push(t)}static \u0275fac=function(t){return new(t||i)(b(ci,8),b(ze),b(Ie),b(Vt))};static \u0275cmp=ie({type:i,selectors:[["p-messages"]],contentQueries:function(t,r,o){if(t&1&&ot(o,be,4),t&2){let s;ee(s=te())&&(r.templates=s)}},hostAttrs:[1,"p-element"],inputs:{value:"value",closable:[2,"closable","closable",K],style:"style",styleClass:"styleClass",enableService:[2,"enableService","enableService",K],key:"key",escape:[2,"escape","escape",K],severity:"severity",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{valueChange:"valueChange",onClose:"onClose"},features:[qe],decls:4,vars:8,consts:[["staticMessage",""],["escapeOut",""],["role","alert",1,"p-messages","p-component",3,"ngStyle"],[4,"ngIf","ngIfElse"],["role","alert",3,"class",4,"ngFor","ngForOf"],["role","alert"],[1,"p-message-wrapper"],[3,"class",4,"ngIf"],["class","p-message-icon",4,"ngIf"],["class","p-message-close p-link","type","button","pRipple","",3,"click",4,"ngIf"],[1,"p-message-icon"],[4,"ngIf"],["class","p-message-summary",3,"innerHTML",4,"ngIf"],["class","p-message-detail",3,"innerHTML",4,"ngIf"],[1,"p-message-summary",3,"innerHTML"],[1,"p-message-detail",3,"innerHTML"],["class","p-message-summary",4,"ngIf"],["class","p-message-detail",4,"ngIf"],[1,"p-message-summary"],[1,"p-message-detail"],["type","button","pRipple","",1,"p-message-close","p-link",3,"click"],[3,"styleClass"],["role","alert",3,"ngClass"],[4,"ngTemplateOutlet"]],template:function(t,r){if(t&1&&(m(0,"div",2),I(1,VEe,2,1,"ng-container",3)(2,UEe,3,2,"ng-template",null,0,Pt),_()),t&2){let o=We(3);le(r.styleClass),h("ngStyle",r.style),V("aria-atomic",!0)("aria-live","assertive")("data-pc-name","message"),u(),h("ngIf",!r.contentTemplate)("ngIfElse",o)}},dependencies:()=>[Ge,tn,et,st,Ee,qi,fn,Cf,ka,_f,Li],styles:[`@layer primeng{.p-message-wrapper{display:flex;align-items:center}.p-message-close{display:flex;align-items:center;justify-content:center;flex:none}.p-message-close.p-link{margin-left:auto;overflow:hidden;position:relative}.p-messages .p-message.ng-animating{overflow:hidden}}
`],encapsulation:2,data:{animation:[hn("messageAnimation",[Xt(":enter",[jt({opacity:0,transform:"translateY(-25%)"}),Jt("{{showTransitionParams}}")]),Xt(":leave",[Jt("{{hideTransitionParams}}",jt({height:0,marginTop:0,marginBottom:0,marginLeft:0,marginRight:0,opacity:0}))])])]},changeDetection:0})}return i})(),Om=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=Oe({type:i});static \u0275inj=Te({imports:[Ye,Qi,fn,Cf,ka,_f,Li,nt,nt]})}return i})();var jEe=["*",[["p-header"]]],HEe=["*","p-header"],GEe=(i,n)=>({"p-fieldset p-component":!0,"p-fieldset-toggleable":i,"p-fieldset-expanded":n}),zEe=i=>({transitionParams:i,height:"0"}),WEe=i=>({value:"hidden",params:i}),KEe=i=>({transitionParams:i,height:"*"}),$Ee=i=>({value:"visible",params:i});function qEe(i,n){i&1&&O(0,"PlusIcon",11),i&2&&(h("styleClass","p-fieldset-toggler"),V("data-pc-section","togglericon"))}function YEe(i,n){i&1&&ue(0)}function JEe(i,n){if(i&1&&(m(0,"span",12),I(1,YEe,1,0,"ng-container",6),_()),i&2){let e=f(3);V("data-pc-section","togglericon"),u(),h("ngTemplateOutlet",e.expandIconTemplate)}}function XEe(i,n){if(i&1&&(pe(0),I(1,qEe,1,2,"PlusIcon",9)(2,JEe,2,2,"span",10),he()),i&2){let e=f(2);u(),h("ngIf",!e.expandIconTemplate),u(),h("ngIf",e.expandIconTemplate)}}function QEe(i,n){i&1&&O(0,"MinusIcon",11),i&2&&(h("styleClass","p-fieldset-toggler"),V("aria-hidden",!0)("data-pc-section","togglericon"))}function ZEe(i,n){i&1&&ue(0)}function exe(i,n){if(i&1&&(m(0,"span",12),I(1,ZEe,1,0,"ng-container",6),_()),i&2){let e=f(3);V("data-pc-section","togglericon"),u(),h("ngTemplateOutlet",e.collapseIconTemplate)}}function txe(i,n){if(i&1&&(pe(0),I(1,QEe,1,3,"MinusIcon",9)(2,exe,2,2,"span",10),he()),i&2){let e=f(2);u(),h("ngIf",!e.collapseIconTemplate),u(),h("ngIf",e.collapseIconTemplate)}}function ixe(i,n){i&1&&ue(0)}function nxe(i,n){if(i&1){let e=B();pe(0),m(1,"a",7),P("click",function(r){S(e);let o=f();return A(o.toggle(r))})("keydown",function(r){S(e);let o=f();return A(o.onKeyDown(r))}),I(2,XEe,3,2,"ng-container",8)(3,txe,3,2,"ng-container",8)(4,ixe,1,0,"ng-container",6),_(),he()}if(i&2){let e=f(),t=We(4);u(),V("id",e.id+"_header")("aria-controls",e.id+"_content")("aria-expanded",!e.collapsed)("aria-label",e.buttonAriaLabel),u(),h("ngIf",e.collapsed),u(),h("ngIf",!e.collapsed),u(),h("ngTemplateOutlet",t)}}function rxe(i,n){i&1&&ue(0)}function oxe(i,n){if(i&1&&(m(0,"span",13),D(1),_(),ii(2,1),I(3,rxe,1,0,"ng-container",6)),i&2){let e=f();V("data-pc-section","legendtitle"),u(),$(e.legend),u(2),h("ngTemplateOutlet",e.headerTemplate)}}function sxe(i,n){i&1&&ue(0)}var Xw=(()=>{class i{el;legend;toggleable;collapsed=!1;style;styleClass;transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)";collapsedChange=new Q;onBeforeToggle=new Q;onAfterToggle=new Q;templates;get id(){return yt()}get buttonAriaLabel(){return this.legend}animating;headerTemplate;contentTemplate;collapseIconTemplate;expandIconTemplate;constructor(e){this.el=e}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"header":this.headerTemplate=e.template;break;case"expandicon":this.expandIconTemplate=e.template;break;case"collapseicon":this.collapseIconTemplate=e.template;break;case"content":this.contentTemplate=e.template;break}})}toggle(e){if(this.animating)return!1;this.animating=!0,this.onBeforeToggle.emit({originalEvent:e,collapsed:this.collapsed}),this.collapsed?this.expand():this.collapse(),this.onAfterToggle.emit({originalEvent:e,collapsed:this.collapsed}),e.preventDefault()}onKeyDown(e){(e.code==="Enter"||e.code==="Space")&&(this.toggle(e),e.preventDefault())}expand(){this.collapsed=!1,this.collapsedChange.emit(this.collapsed)}collapse(){this.collapsed=!0,this.collapsedChange.emit(this.collapsed)}getBlockableElement(){return this.el.nativeElement.children[0]}onToggleDone(){this.animating=!1}static \u0275fac=function(t){return new(t||i)(b(ze))};static \u0275cmp=ie({type:i,selectors:[["p-fieldset"]],contentQueries:function(t,r,o){if(t&1&&ot(o,be,4),t&2){let s;ee(s=te())&&(r.templates=s)}},hostAttrs:[1,"p-element"],inputs:{legend:"legend",toggleable:[2,"toggleable","toggleable",K],collapsed:[2,"collapsed","collapsed",K],style:"style",styleClass:"styleClass",transitionOptions:"transitionOptions"},outputs:{collapsedChange:"collapsedChange",onBeforeToggle:"onBeforeToggle",onAfterToggle:"onAfterToggle"},features:[qe],ngContentSelectors:HEe,decls:9,vars:28,consts:[["legendContent",""],[3,"ngClass","ngStyle"],[1,"p-fieldset-legend"],[4,"ngIf","ngIfElse"],["role","region",1,"p-toggleable-content"],[1,"p-fieldset-content"],[4,"ngTemplateOutlet"],["pRipple","","tabindex","0","role","button",3,"click","keydown"],[4,"ngIf"],[3,"styleClass",4,"ngIf"],["class","p-fieldset-toggler",4,"ngIf"],[3,"styleClass"],[1,"p-fieldset-toggler"],[1,"p-fieldset-legend-text"]],template:function(t,r){if(t&1){let o=B();Fi(jEe),m(0,"fieldset",1)(1,"legend",2),I(2,nxe,5,7,"ng-container",3)(3,oxe,4,3,"ng-template",null,0,Pt),_(),m(5,"div",4),P("@fieldsetContent.done",function(){return S(o),A(r.onToggleDone())}),m(6,"div",5),ii(7),I(8,sxe,1,0,"ng-container",6),_()()()}if(t&2){let o=We(4);le(r.styleClass),h("ngClass",Je(17,GEe,r.toggleable,!r.collapsed&&r.toggleable))("ngStyle",r.style),V("id",r.id)("data-pc-name","fieldset")("data-pc-section","root"),u(),V("data-pc-section","legend"),u(),h("ngIf",r.toggleable)("ngIfElse",o),u(3),h("@fieldsetContent",r.collapsed?oe(22,WEe,oe(20,zEe,r.transitionOptions)):oe(26,$Ee,oe(24,KEe,r.animating?r.transitionOptions:"0ms"))),V("id",r.id+"_content")("aria-labelledby",r.id+"_header")("aria-hidden",r.collapsed)("data-pc-section","toggleablecontent"),u(),V("data-pc-section","content"),u(2),h("ngTemplateOutlet",r.contentTemplate)}},dependencies:()=>[Ge,et,st,Ee,qi,ya,Ps],styles:[`@layer primeng{.p-fieldset{min-width:initial}.p-fieldset-legend>a,.p-fieldset-legend>span{display:flex;align-items:center;justify-content:center}.p-fieldset-toggleable .p-fieldset-legend a{cursor:pointer;-webkit-user-select:none;user-select:none;overflow:hidden;position:relative}.p-fieldset-legend-text{line-height:1}.p-fieldset-toggleable.p-fieldset-expanded>.p-toggleable-content:not(.ng-animating){overflow:visible}.p-fieldset-toggleable .p-toggleable-content{overflow:hidden}}
`],encapsulation:2,data:{animation:[hn("fieldsetContent",[Lr("hidden",jt({height:"0"})),Lr("visible",jt({height:"*"})),Xt("visible <=> hidden",[Jt("{{transitionParams}}")]),Xt("void => *",Jt(0))])]},changeDetection:0})}return i})(),pR=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=Oe({type:i});static \u0275inj=Te({imports:[Ye,Qi,ya,Ps,nt]})}return i})();var axe=["headerchkbox"],lxe=["filter"],cxe=["lastHiddenFocusableElement"],dxe=["firstHiddenFocusableElement"],uxe=["scroller"],pxe=["list"],hxe=["wrapper"],fxe=[[["p-header"]],[["p-footer"]]],mxe=["p-header","p-footer"],Qw=(i,n)=>({$implicit:i,options:n}),Q9=i=>({"p-checkbox-disabled":i}),gxe=(i,n,e)=>({"p-highlight":i,"p-focus":n,"p-disabled":e}),Z9=i=>({options:i}),hR=i=>({height:i}),_xe=()=>({}),Cxe=i=>({$implicit:i}),yxe=(i,n,e)=>({"p-listbox-item":!0,"p-highlight":i,"p-focus":n,"p-disabled":e}),Ixe=(i,n)=>({$implicit:i,index:n}),vxe=i=>({"p-highlight":i});function bxe(i,n){i&1&&ue(0)}function wxe(i,n){if(i&1&&(m(0,"div",19),ii(1),I(2,bxe,1,0,"ng-container",20),_()),i&2){let e=f();u(2),h("ngTemplateOutlet",e.headerTemplate)("ngTemplateOutletContext",Je(2,Qw,e.modelValue(),e.visibleOptions()))}}function Sxe(i,n){i&1&&O(0,"CheckIcon",29),i&2&&(h("styleClass","p-checkbox-icon"),V("aria-hidden",!0))}function Axe(i,n){}function Exe(i,n){i&1&&I(0,Axe,0,0,"ng-template")}function xxe(i,n){if(i&1&&(m(0,"span",30),I(1,Exe,1,0,null,31),_()),i&2){let e=f(4);V("aria-hidden",!0),u(),h("ngTemplateOutlet",e.checkIconTemplate)}}function Txe(i,n){if(i&1&&(pe(0),I(1,Sxe,1,2,"CheckIcon",27)(2,xxe,2,2,"span",28),he()),i&2){let e=f(3);u(),h("ngIf",!e.checkIconTemplate),u(),h("ngIf",e.checkIconTemplate)}}function Oxe(i,n){if(i&1){let e=B();m(0,"div",23),P("click",function(r){S(e);let o=f(2);return A(o.onToggleAll(r))})("keydown",function(r){S(e);let o=f(2);return A(o.onHeaderCheckboxKeyDown(r))}),m(1,"div",24)(2,"input",25,5),P("focus",function(r){S(e);let o=f(2);return A(o.onHeaderCheckboxFocus(r))})("blur",function(r){S(e);let o=f(2);return A(o.onHeaderCheckboxBlur(r))}),_()(),m(4,"div",26),I(5,Txe,3,2,"ng-container",16),_()()}if(i&2){let e=f(2);h("ngClass",oe(8,Q9,e.disabled||e.toggleAllDisabled)),u(),V("data-p-hidden-accessible",!0),u(),h("disabled",e.disabled||e.toggleAllDisabled),V("checked",e.allSelected())("aria-label",e.toggleAllAriaLabel),u(2),h("ngClass",zi(10,gxe,e.allSelected(),e.headerCheckboxFocus,e.disabled||e.toggleAllDisabled)),V("aria-checked",e.allSelected()),u(),h("ngIf",e.allSelected())}}function Dxe(i,n){i&1&&ue(0)}function Rxe(i,n){if(i&1&&(pe(0),I(1,Dxe,1,0,"ng-container",20),he()),i&2){let e=f(2);u(),h("ngTemplateOutlet",e.filterTemplate)("ngTemplateOutletContext",oe(2,Z9,e.filterOptions))}}function Pxe(i,n){i&1&&O(0,"SearchIcon",29),i&2&&(h("styleClass","p-listbox-filter-icon"),V("aria-hidden",!0))}function kxe(i,n){}function Fxe(i,n){i&1&&I(0,kxe,0,0,"ng-template")}function Lxe(i,n){if(i&1&&(m(0,"span",37),I(1,Fxe,1,0,null,31),_()),i&2){let e=f(4);V("aria-hidden",!0),u(),h("ngTemplateOutlet",e.filterIconTemplate)}}function Mxe(i,n){if(i&1){let e=B();m(0,"div",34)(1,"input",35,6),P("input",function(r){S(e);let o=f(3);return A(o.onFilterChange(r))})("keydown",function(r){S(e);let o=f(3);return A(o.onFilterKeyDown(r))})("focus",function(r){S(e);let o=f(3);return A(o.onFilterFocus(r))})("blur",function(r){S(e);let o=f(3);return A(o.onFilterBlur(r))}),_(),I(3,Pxe,1,2,"SearchIcon",27)(4,Lxe,2,2,"span",36),_()}if(i&2){let e=f(3);u(),h("value",e._filterValue()||"")("disabled",e.disabled)("tabindex",!e.disabled&&!e.focused?e.tabindex:-1),V("aria-owns",e.id+"_list")("aria-activedescendant",e.focusedOptionId)("placeholder",e.filterPlaceHolder)("aria-label",e.ariaFilterLabel),u(2),h("ngIf",!e.filterIconTemplate),u(),h("ngIf",e.filterIconTemplate)}}function Nxe(i,n){if(i&1&&(I(0,Mxe,5,9,"div",32),m(1,"span",33),D(2),_()),i&2){let e=f(2);h("ngIf",e.filter),u(),V("data-p-hidden-accessible",!0),u(),J(" ",e.filterResultMessageText," ")}}function Vxe(i,n){if(i&1&&(m(0,"div",19),I(1,Oxe,6,14,"div",21)(2,Rxe,2,4,"ng-container",22)(3,Nxe,3,3,"ng-template",null,4,Pt),_()),i&2){let e=We(4),t=f();u(),h("ngIf",t.checkbox&&t.multiple&&t.showToggleAll),u(),h("ngIf",t.filterTemplate)("ngIfElse",e)}}function Bxe(i,n){i&1&&ue(0)}function Uxe(i,n){if(i&1&&I(0,Bxe,1,0,"ng-container",20),i&2){let e=n.$implicit,t=n.options;f(2);let r=We(10);h("ngTemplateOutlet",r)("ngTemplateOutletContext",Je(2,Qw,e,t))}}function jxe(i,n){i&1&&ue(0)}function Hxe(i,n){if(i&1&&I(0,jxe,1,0,"ng-container",20),i&2){let e=n.options,t=f(3);h("ngTemplateOutlet",t.loaderTemplate)("ngTemplateOutletContext",oe(2,Z9,e))}}function Gxe(i,n){i&1&&(pe(0),I(1,Hxe,1,4,"ng-template",40),he())}function zxe(i,n){if(i&1){let e=B();m(0,"p-scroller",38,7),P("onLazyLoad",function(r){S(e);let o=f();return A(o.onLazyLoad.emit(r))}),I(2,Uxe,1,5,"ng-template",39)(3,Gxe,2,0,"ng-container",16),_()}if(i&2){let e=f();dt(oe(9,hR,e.scrollHeight)),h("items",e.visibleOptions())("itemSize",e.virtualScrollItemSize)("autoSize",!0)("lazy",e.lazy)("options",e.virtualScrollOptions)("tabindex",e.scrollerTabIndex),u(3),h("ngIf",e.loaderTemplate)}}function Wxe(i,n){i&1&&ue(0)}function Kxe(i,n){if(i&1&&(pe(0),I(1,Wxe,1,0,"ng-container",20),he()),i&2){let e=f(),t=We(10);u(),h("ngTemplateOutlet",t)("ngTemplateOutletContext",Je(3,Qw,e.visibleOptions(),Ae(2,_xe)))}}function $xe(i,n){if(i&1&&(m(0,"span"),D(1),_()),i&2){let e=f(2).$implicit,t=f(2);u(),$(t.getOptionGroupLabel(e.optionGroup))}}function qxe(i,n){i&1&&ue(0)}function Yxe(i,n){if(i&1&&(pe(0),m(1,"li",44),I(2,$xe,2,1,"span",16)(3,qxe,1,0,"ng-container",20),_(),he()),i&2){let e=f(),t=e.$implicit,r=e.index,o=f().options,s=f();u(),h("ngStyle",oe(5,hR,o.itemSize+"px")),V("id",s.id+"_"+s.getOptionIndex(r,o)),u(),h("ngIf",!s.groupTemplate),u(),h("ngTemplateOutlet",s.groupTemplate)("ngTemplateOutletContext",oe(7,Cxe,t.optionGroup))}}function Jxe(i,n){i&1&&O(0,"CheckIcon",29),i&2&&(h("styleClass","p-checkbox-icon"),V("aria-hidden",!0))}function Xxe(i,n){}function Qxe(i,n){i&1&&I(0,Xxe,0,0,"ng-template")}function Zxe(i,n){if(i&1&&(m(0,"span",30),I(1,Qxe,1,0,null,31),_()),i&2){let e=f(6);V("aria-hidden",!0),u(),h("ngTemplateOutlet",e.checkIconTemplate)}}function eTe(i,n){if(i&1&&(pe(0),I(1,Jxe,1,2,"CheckIcon",27)(2,Zxe,2,2,"span",28),he()),i&2){let e=f(5);u(),h("ngIf",!e.checkIconTemplate),u(),h("ngIf",e.checkIconTemplate)}}function tTe(i,n){if(i&1&&(m(0,"div",47)(1,"div",48),I(2,eTe,3,2,"ng-container",16),_()()),i&2){let e=f(2).$implicit,t=f(2);h("ngClass",oe(3,Q9,t.disabled||t.isOptionDisabled(e))),u(),h("ngClass",oe(5,vxe,t.isSelected(e))),u(),h("ngIf",t.isSelected(e))}}function iTe(i,n){if(i&1&&(m(0,"span"),D(1),_()),i&2){let e=f(2).$implicit,t=f(2);u(),$(t.getOptionLabel(e))}}function nTe(i,n){i&1&&ue(0)}function rTe(i,n){if(i&1){let e=B();pe(0),m(1,"li",45),P("click",function(r){S(e);let o=f(),s=o.$implicit,a=o.index,l=f().options,c=f();return A(c.onOptionSelect(r,s,c.getOptionIndex(a,l)))})("dblclick",function(r){S(e);let o=f().$implicit,s=f(2);return A(s.onOptionDoubleClick(r,o))})("mousedown",function(r){S(e);let o=f().index,s=f().options,a=f();return A(a.onOptionMouseDown(r,a.getOptionIndex(o,s)))})("mouseenter",function(r){S(e);let o=f().index,s=f().options,a=f();return A(a.onOptionMouseEnter(r,a.getOptionIndex(o,s)))})("touchend",function(){S(e);let r=f(3);return A(r.onOptionTouchEnd())}),I(2,tTe,3,7,"div",46)(3,iTe,2,1,"span",16)(4,nTe,1,0,"ng-container",20),_(),he()}if(i&2){let e=f(),t=e.$implicit,r=e.index,o=f().options,s=f();u(),h("ngStyle",oe(12,hR,o.itemSize+"px"))("ngClass",zi(14,yxe,s.isSelected(t),s.focusedOptionIndex()===s.getOptionIndex(r,o),s.isOptionDisabled(t))),V("id",s.id+"_"+s.getOptionIndex(r,o))("aria-label",s.getOptionLabel(t))("aria-selected",s.isSelected(t))("aria-disabled",s.isOptionDisabled(t))("aria-setsize",s.ariaSetSize)("ariaPosInset",s.getAriaPosInset(s.getOptionIndex(r,o))),u(),h("ngIf",s.checkbox&&s.multiple),u(),h("ngIf",!s.itemTemplate),u(),h("ngTemplateOutlet",s.itemTemplate)("ngTemplateOutletContext",Je(18,Ixe,t,s.getOptionIndex(r,o)))}}function oTe(i,n){if(i&1&&I(0,Yxe,4,9,"ng-container",16)(1,rTe,5,21,"ng-container",16),i&2){let e=n.$implicit,t=f(2);h("ngIf",t.isOptionGroup(e)),u(),h("ngIf",!t.isOptionGroup(e))}}function sTe(i,n){if(i&1&&(pe(0),D(1),he()),i&2){let e=f(3);u(),J(" ",e.emptyFilterMessageText," ")}}function aTe(i,n){i&1&&ue(0,null,9)}function lTe(i,n){if(i&1&&(m(0,"li",49),I(1,sTe,2,1,"ng-container",22)(2,aTe,2,0,"ng-container",31),_()),i&2){let e=f(2);u(),h("ngIf",!e.emptyFilterTemplate&&!e.emptyTemplate)("ngIfElse",e.emptyFilter),u(),h("ngTemplateOutlet",e.emptyFilterTemplate||e.emptyTemplate)}}function cTe(i,n){if(i&1&&(pe(0),D(1),he()),i&2){let e=f(3);u(),J(" ",e.emptyMessage," ")}}function dTe(i,n){i&1&&ue(0,null,10)}function uTe(i,n){if(i&1&&(m(0,"li",49),I(1,cTe,2,1,"ng-container",22)(2,dTe,2,0,"ng-container",31),_()),i&2){let e=f(2);u(),h("ngIf",!e.emptyTemplate)("ngIfElse",e.empty),u(),h("ngTemplateOutlet",e.emptyTemplate)}}function pTe(i,n){if(i&1){let e=B();m(0,"ul",41,8),P("focus",function(r){S(e);let o=f();return A(o.onListFocus(r))})("blur",function(r){S(e);let o=f();return A(o.onListBlur(r))})("keydown",function(r){S(e);let o=f();return A(o.onListKeyDown(r))}),I(2,oTe,2,2,"ng-template",42)(3,lTe,3,3,"li",43)(4,uTe,3,3,"li",43),_()}if(i&2){let e=n.$implicit,t=n.options,r=f();h("tabindex",-1)("ngClass",t.contentStyleClass)("ngStyle",t.contentStyle),V("aria-multiselectable",!0)("aria-activedescendant",r.focused?r.focusedOptionId:void 0)("aria-label",r.ariaLabel)("aria-multiselectable",r.multiple)("aria-disabled",r.disabled),u(2),h("ngForOf",e),u(),h("ngIf",r.hasFilter()&&r.isEmpty()),u(),h("ngIf",!r.hasFilter()&&r.isEmpty())}}function hTe(i,n){i&1&&ue(0)}function fTe(i,n){if(i&1&&(m(0,"div",50),ii(1,1),I(2,hTe,1,0,"ng-container",20),_()),i&2){let e=f();u(2),h("ngTemplateOutlet",e.footerTemplate)("ngTemplateOutletContext",Je(2,Qw,e.modelValue(),e.visibleOptions()))}}function mTe(i,n){if(i&1&&(pe(0),D(1),he()),i&2){let e=f(2);u(),J(" ",e.emptyMessage," ")}}function gTe(i,n){if(i&1&&(pe(0),D(1),he()),i&2){let e=f(2);u(),J(" ",e.selectedMessageText," ")}}function _Te(i,n){if(i&1&&(m(0,"span",51),I(1,mTe,2,1,"ng-container",16)(2,gTe,2,1,"ng-container",16),_()),i&2){let e=f();u(),h("ngIf",e.hasEmptyMessage()),u(),h("ngIf",!e.hasEmptyMessage())}}var CTe={provide:nn,useExisting:zt(()=>fR),multi:!0},fR=(()=>{class i{el;cd;filterService;config;renderer;id;searchMessage;emptySelectionMessage;selectionMessage;autoOptionFocus=!0;ariaLabel;selectOnFocus;searchLocale;focusOnHover;filterMessage;filterFields;lazy=!1;virtualScroll;virtualScrollItemSize;virtualScrollOptions;scrollHeight="200px";tabindex=0;multiple;style;styleClass;listStyle;listStyleClass;readonly;disabled;checkbox=!1;filter=!1;filterBy;filterMatchMode="contains";filterLocale;metaKeySelection=!1;dataKey;showToggleAll=!0;optionLabel;optionValue;optionGroupChildren="items";optionGroupLabel="label";optionDisabled;ariaFilterLabel;filterPlaceHolder;emptyFilterMessage;emptyMessage;group;get options(){return this._options()}set options(e){this._options.set(e)}get filterValue(){return this._filterValue()}set filterValue(e){this._filterValue.set(e)}get selectAll(){return this._selectAll}set selectAll(e){this._selectAll=e}onChange=new Q;onClick=new Q;onDblClick=new Q;onFilter=new Q;onFocus=new Q;onBlur=new Q;onSelectAllChange=new Q;headerCheckboxViewChild;filterViewChild;lastHiddenFocusableElement;firstHiddenFocusableElement;scroller;listViewChild;wrapperViewChild;headerFacet;footerFacet;templates;itemTemplate;groupTemplate;headerTemplate;filterTemplate;footerTemplate;emptyFilterTemplate;emptyTemplate;filterIconTemplate;checkIconTemplate;_filterValue=Oi(null);_filteredOptions;filterOptions;filtered;value;onModelChange=()=>{};onModelTouched=()=>{};optionTouched;focus;headerCheckboxFocus;translationSubscription;focused;scrollerTabIndex="0";get containerClass(){return{"p-listbox p-component":!0,"p-disabled":this.disabled}}get focusedOptionId(){return this.focusedOptionIndex()!==-1?`${this.id}_${this.focusedOptionIndex()}`:null}get filterResultMessageText(){return fe.isNotEmpty(this.visibleOptions())?this.filterMessageText.replaceAll("{0}",this.visibleOptions().length):this.emptyFilterMessageText}get filterMessageText(){return this.filterMessage||this.config.translation.searchMessage||""}get searchMessageText(){return this.searchMessage||this.config.translation.searchMessage||""}get emptyFilterMessageText(){return this.emptyFilterMessage||this.config.translation.emptySearchMessage||this.config.translation.emptyFilterMessage||""}get selectionMessageText(){return this.selectionMessage||this.config.translation.selectionMessage||""}get emptySelectionMessageText(){return this.emptySelectionMessage||this.config.translation.emptySelectionMessage||""}get selectedMessageText(){return this.hasSelectedOption()?this.selectionMessageText.replaceAll("{0}",this.multiple?this.modelValue().length:"1"):this.emptySelectionMessageText}get ariaSetSize(){return this.visibleOptions().filter(e=>!this.isOptionGroup(e)).length}get virtualScrollerDisabled(){return!this.virtualScroll}get searchFields(){return this.filterFields||[this.optionLabel]}get toggleAllAriaLabel(){return this.config.translation.aria?this.config.translation.aria[this.allSelected()?"selectAll":"unselectAll"]:void 0}searchValue;searchTimeout;_selectAll=null;_options=Oi(null);startRangeIndex=Oi(-1);focusedOptionIndex=Oi(-1);modelValue=Oi(null);visibleOptions=Tr(()=>{let e=this.group?this.flatOptions(this._options()):this._options()||[],t=this._filterValue();return this.searchFields[0]===void 0?t?e.filter(r=>r.toString().toLocaleLowerCase(this.filterLocale).indexOf(t.toLocaleLowerCase(this.filterLocale).trim())!==-1):e:t?this.filterService.filter(e,this.searchFields,t,this.filterMatchMode,this.filterLocale):e});constructor(e,t,r,o,s){this.el=e,this.cd=t,this.filterService=r,this.config=o,this.renderer=s}ngOnInit(){this.id=this.id||yt(),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.cd.markForCheck()}),this.autoUpdateModel(),this.filterBy&&(this.filterOptions={filter:e=>this.onFilterChange(e),reset:()=>this.resetFilter()})}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":this.itemTemplate=e.template;break;case"group":this.groupTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"filter":this.filterTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"empty":this.emptyTemplate=e.template;break;case"emptyfilter":this.emptyFilterTemplate=e.template;break;case"filtericon":this.filterIconTemplate=e.template;break;case"checkicon":this.checkIconTemplate=e.template;break;default:this.itemTemplate=e.template;break}})}writeValue(e){this.value=e,this.modelValue.set(this.value),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}flatOptions(e){return(e||[]).reduce((t,r,o)=>{t.push({optionGroup:r,group:!0,index:o});let s=this.getOptionGroupChildren(r);return s&&s.forEach(a=>t.push(a)),t},[])}autoUpdateModel(){if(this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption()&&!this.multiple){let e=this.findFirstFocusedOptionIndex();this.focusedOptionIndex.set(e),this.onOptionSelect(null,this.visibleOptions()[this.focusedOptionIndex()])}}updateModel(e,t){this.value=e,this.modelValue.set(e),this.onModelChange(e),this.onChange.emit({originalEvent:t,value:this.value})}removeOption(e){return this.modelValue().filter(t=>!fe.equals(t,this.getOptionValue(e),this.equalityKey()))}onOptionSelect(e,t,r=-1){this.disabled||this.isOptionDisabled(t)||this.readonly||(e&&this.onClick.emit({originalEvent:e,option:t,value:this.value}),this.multiple?this.onOptionSelectMultiple(e,t):this.onOptionSelectSingle(e,t),this.optionTouched=!1,r!==-1&&this.focusedOptionIndex.set(r))}onOptionSelectMultiple(e,t){let r=this.isSelected(t),o=null;if(this.optionTouched?!1:this.metaKeySelection){let a=e.metaKey||e.ctrlKey;r?o=a?this.removeOption(t):[this.getOptionValue(t)]:(o=a?this.modelValue()||[]:[],o=[...o,this.getOptionValue(t)])}else o=r?this.removeOption(t):[...this.modelValue()||[],this.getOptionValue(t)];this.updateModel(o,e)}onOptionSelectSingle(e,t){let r=this.isSelected(t),o=!1,s=null;if(this.optionTouched?!1:this.metaKeySelection){let l=e.metaKey||e.ctrlKey;r?l&&(s=null,o=!0):(s=this.getOptionValue(t),o=!0)}else s=r?null:this.getOptionValue(t),o=!0;o&&this.updateModel(s,e)}onOptionSelectRange(e,t=-1,r=-1){if(t===-1&&(t=this.findNearestSelectedOptionIndex(r,!0)),r===-1&&(r=this.findNearestSelectedOptionIndex(t)),t!==-1&&r!==-1){let o=Math.min(t,r),s=Math.max(t,r),a=this.visibleOptions().slice(o,s+1).filter(l=>this.isValidOption(l)).map(l=>this.getOptionValue(l));this.updateModel(a,e)}}onToggleAll(e){if(!(this.disabled||this.readonly)){if(M.focus(this.headerCheckboxViewChild.nativeElement),this.selectAll!==null)this.onSelectAllChange.emit({originalEvent:e,checked:!this.allSelected()});else{let t=this.allSelected()?[]:this.visibleOptions().filter(r=>this.isValidOption(r)).map(r=>this.getOptionValue(r));this.updateModel(t,e)}e.preventDefault()}}allSelected(){return this.selectAll!==null?this.selectAll:fe.isNotEmpty(this.visibleOptions())&&this.visibleOptions().every(e=>this.isOptionGroup(e)||this.isOptionDisabled(e)||this.isSelected(e))}onOptionTouchEnd(){this.disabled||(this.optionTouched=!0)}onOptionMouseDown(e,t){this.changeFocusedOptionIndex(e,t)}onOptionMouseEnter(e,t){this.focusOnHover&&this.changeFocusedOptionIndex(e,t)}onOptionDoubleClick(e,t){this.disabled||this.isOptionDisabled(t)||this.readonly||this.onDblClick.emit({originalEvent:e,option:t,value:this.value})}onFirstHiddenFocus(e){M.focus(this.listViewChild.nativeElement);let t=M.getFirstFocusableElement(this.el.nativeElement,':not([data-p-hidden-focusable="true"])');this.lastHiddenFocusableElement.nativeElement.tabIndex=fe.isEmpty(t)?"-1":void 0,this.firstHiddenFocusableElement.nativeElement.tabIndex=-1}onLastHiddenFocus(e){if(e.relatedTarget===this.listViewChild.nativeElement){let r=M.getFirstFocusableElement(this.el.nativeElement,":not(.p-hidden-focusable)");M.focus(r),this.firstHiddenFocusableElement.nativeElement.tabIndex=void 0}else M.focus(this.firstHiddenFocusableElement.nativeElement);this.lastHiddenFocusableElement.nativeElement.tabIndex=-1}onFocusout(e){!this.el.nativeElement.contains(e.relatedTarget)&&this.lastHiddenFocusableElement&&this.firstHiddenFocusableElement&&(this.firstHiddenFocusableElement.nativeElement.tabIndex=this.lastHiddenFocusableElement.nativeElement.tabIndex=void 0,this.wrapperViewChild.nativeElement.tabIndex="0",this.scrollerTabIndex="0")}onListFocus(e){this.focused=!0;let t=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1;this.focusedOptionIndex.set(t),this.onFocus.emit(e),this.wrapperViewChild.nativeElement.tabIndex="-1",this.scrollerTabIndex="-1"}onListBlur(e){this.focused=!1,this.focusedOptionIndex.set(-1),this.startRangeIndex.set(-1),this.searchValue=""}onHeaderCheckboxFocus(e){this.headerCheckboxFocus=!0}onHeaderCheckboxBlur(){this.headerCheckboxFocus=!1}onHeaderCheckboxKeyDown(e){if(this.disabled){e.preventDefault();return}switch(e.code){case"Space":this.onToggleAll(e);break;case"Enter":this.onToggleAll(e);break;case"Tab":this.onHeaderCheckboxTabKeyDown(e);break;default:break}}onHeaderCheckboxTabKeyDown(e){M.focus(this.listViewChild.nativeElement),e.preventDefault()}onFilterChange(e){let t=e.target.value?.trim();this._filterValue.set(t),this.focusedOptionIndex.set(-1),this.startRangeIndex.set(-1),this.onFilter.emit({originalEvent:e,filter:this._filterValue()}),!this.virtualScrollerDisabled&&this.scroller.scrollToIndex(0)}onFilterFocus(e){this.wrapperViewChild.nativeElement.tabIndex="-1"}onFilterBlur(e){this.focusedOptionIndex.set(-1),this.startRangeIndex.set(-1)}onListKeyDown(e){let t=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Enter":case"Space":case"NumpadEnter":this.onSpaceKey(e);break;case"Tab":break;case"ShiftLeft":case"ShiftRight":this.onShiftKey();break;default:if(this.multiple&&e.code==="KeyA"&&t){let r=this.visibleOptions().filter(o=>this.isValidOption(o)).map(o=>this.getOptionValue(o));this.updateModel(r,e),e.preventDefault();break}!t&&fe.isPrintableCharacter(e.key)&&(this.searchOptions(e,e.key),e.preventDefault());break}}onFilterKeyDown(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":this.onEnterKey(e);break;case"ShiftLeft":case"ShiftRight":this.onShiftKey();break;default:break}}onArrowDownKey(e){let t=this.focusedOptionIndex()!==-1?this.findNextOptionIndex(this.focusedOptionIndex()):this.findFirstFocusedOptionIndex();this.multiple&&e.shiftKey&&this.onOptionSelectRange(e,this.startRangeIndex(),t),this.changeFocusedOptionIndex(e,t),e.preventDefault()}onArrowUpKey(e){let t=this.focusedOptionIndex()!==-1?this.findPrevOptionIndex(this.focusedOptionIndex()):this.findLastFocusedOptionIndex();this.multiple&&e.shiftKey&&this.onOptionSelectRange(e,t,this.startRangeIndex()),this.changeFocusedOptionIndex(e,t),e.preventDefault()}onArrowLeftKey(e,t=!1){t&&this.focusedOptionIndex.set(-1)}onHomeKey(e,t=!1){if(t)e.currentTarget.setSelectionRange(0,0),this.focusedOptionIndex.set(-1);else{let r=e.metaKey||e.ctrlKey,o=this.findFirstOptionIndex();this.multiple&&e.shiftKey&&r&&this.onOptionSelectRange(e,o,this.startRangeIndex()),this.changeFocusedOptionIndex(e,o)}e.preventDefault()}onEndKey(e,t=!1){if(t){let r=e.currentTarget,o=r.value.length;r.setSelectionRange(o,o),this.focusedOptionIndex.set(-1)}else{let r=e.metaKey||e.ctrlKey,o=this.findLastOptionIndex();this.multiple&&e.shiftKey&&r&&this.onOptionSelectRange(e,this.startRangeIndex(),o),this.changeFocusedOptionIndex(e,o)}e.preventDefault()}onPageDownKey(e){this.scrollInView(0),e.preventDefault()}onPageUpKey(e){this.scrollInView(this.visibleOptions().length-1),e.preventDefault()}onEnterKey(e){this.focusedOptionIndex()!==-1&&(this.multiple&&e.shiftKey?this.onOptionSelectRange(e,this.focusedOptionIndex()):this.onOptionSelect(e,this.visibleOptions()[this.focusedOptionIndex()])),e.preventDefault()}onSpaceKey(e){this.onEnterKey(e)}onShiftKey(){let e=this.focusedOptionIndex();this.startRangeIndex.set(e)}getOptionGroupChildren(e){return this.optionGroupChildren?fe.resolveFieldData(e,this.optionGroupChildren):e.items}getOptionGroupLabel(e){return this.optionGroupLabel?fe.resolveFieldData(e,this.optionGroupLabel):e&&e.label!==void 0?e.label:e}getOptionLabel(e){return this.optionLabel?fe.resolveFieldData(e,this.optionLabel):e.label!=null?e.label:e}getOptionIndex(e,t){return this.virtualScrollerDisabled?e:t&&t.getItemOptions(e).index}getOptionValue(e){return this.optionValue?fe.resolveFieldData(e,this.optionValue):!this.optionLabel&&e&&e.value!==void 0?e.value:e}getAriaPosInset(e){return(this.optionGroupLabel?e-this.visibleOptions().slice(0,e).filter(t=>this.isOptionGroup(t)).length:e)+1}hasSelectedOption(){return fe.isNotEmpty(this.modelValue())}isOptionGroup(e){return this.optionGroupLabel&&e.optionGroup&&e.group}changeFocusedOptionIndex(e,t){this.focusedOptionIndex()!==t&&(this.focusedOptionIndex.set(t),this.scrollInView(),this.selectOnFocus&&!this.multiple&&this.onOptionSelect(e,this.visibleOptions()[t]))}searchOptions(e,t){this.searchValue=(this.searchValue||"")+t;let r=-1,o=!1;return this.focusedOptionIndex()!==-1?(r=this.visibleOptions().slice(this.focusedOptionIndex()).findIndex(s=>this.isOptionMatched(s)),r=r===-1?this.visibleOptions().slice(0,this.focusedOptionIndex()).findIndex(s=>this.isOptionMatched(s)):r+this.focusedOptionIndex()):r=this.visibleOptions().findIndex(s=>this.isOptionMatched(s)),r!==-1&&(o=!0),r===-1&&this.focusedOptionIndex()===-1&&(r=this.findFirstFocusedOptionIndex()),r!==-1&&this.changeFocusedOptionIndex(e,r),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),o}isOptionMatched(e){return this.isValidOption(e)&&this.getOptionLabel(e).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))}scrollInView(e=-1){let t=e!==-1?`${this.id}_${e}`:this.focusedOptionId,r=M.findSingle(this.listViewChild.nativeElement,`li[id="${t}"]`);r?r.scrollIntoView&&r.scrollIntoView({block:"nearest",inline:"nearest"}):this.virtualScrollerDisabled||this.virtualScroll&&this.scroller.scrollToIndex(e!==-1?e:this.focusedOptionIndex())}findFirstOptionIndex(){return this.visibleOptions().findIndex(e=>this.isValidOption(e))}findLastOptionIndex(){return fe.findLastIndex(this.visibleOptions(),e=>this.isValidOption(e))}findFirstFocusedOptionIndex(){let e=this.findFirstSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e}findLastFocusedOptionIndex(){let e=this.findLastSelectedOptionIndex();return e<0?this.findLastOptionIndex():e}findLastSelectedOptionIndex(){return this.hasSelectedOption()?fe.findLastIndex(this.visibleOptions(),e=>this.isValidSelectedOption(e)):-1}findNextOptionIndex(e){let t=e<this.visibleOptions().length-1?this.visibleOptions().slice(e+1).findIndex(r=>this.isValidOption(r)):-1;return t>-1?t+e+1:e}findNextSelectedOptionIndex(e){let t=this.hasSelectedOption()&&e<this.visibleOptions().length-1?this.visibleOptions().slice(e+1).findIndex(r=>this.isValidSelectedOption(r)):-1;return t>-1?t+e+1:-1}findPrevSelectedOptionIndex(e){let t=this.hasSelectedOption()&&e>0?fe.findLastIndex(this.visibleOptions().slice(0,e),r=>this.isValidSelectedOption(r)):-1;return t>-1?t:-1}findFirstSelectedOptionIndex(){return this.hasSelectedOption()?this.visibleOptions().findIndex(e=>this.isValidSelectedOption(e)):-1}findPrevOptionIndex(e){let t=e>0?fe.findLastIndex(this.visibleOptions().slice(0,e),r=>this.isValidOption(r)):-1;return t>-1?t:e}findNearestSelectedOptionIndex(e,t=!1){let r=-1;return this.hasSelectedOption()&&(t?(r=this.findPrevSelectedOptionIndex(e),r=r===-1?this.findNextSelectedOptionIndex(e):r):(r=this.findNextSelectedOptionIndex(e),r=r===-1?this.findPrevSelectedOptionIndex(e):r)),r>-1?r:e}equalityKey(){return this.optionValue?null:this.dataKey}isValidSelectedOption(e){return this.isValidOption(e)&&this.isSelected(e)}isOptionDisabled(e){return this.optionDisabled?fe.resolveFieldData(e,this.optionDisabled):!1}isSelected(e){let t=this.getOptionValue(e);return this.multiple?(this.modelValue()||[]).some(r=>fe.equals(r,t,this.equalityKey())):fe.equals(this.modelValue(),t,this.equalityKey())}isValidOption(e){return e&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))}isEmpty(){return!this._options()?.length||!this.visibleOptions()?.length}hasEmptyMessage(){return!!this.emptyMessage}hasFilter(){return this._filterValue()&&this._filterValue().trim().length>0}resetFilter(){this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value=""),this._filterValue.set(null)}ngOnDestroy(){this.translationSubscription&&this.translationSubscription.unsubscribe()}static \u0275fac=function(t){return new(t||i)(b(ze),b(Ie),b(Jl),b(Vt),b(Ft))};static \u0275cmp=ie({type:i,selectors:[["p-listbox"]],contentQueries:function(t,r,o){if(t&1&&(ot(o,Xl,5),ot(o,Ds,5),ot(o,be,4)),t&2){let s;ee(s=te())&&(r.headerFacet=s.first),ee(s=te())&&(r.footerFacet=s.first),ee(s=te())&&(r.templates=s)}},viewQuery:function(t,r){if(t&1&&(de(axe,5),de(lxe,5),de(cxe,5),de(dxe,5),de(uxe,5),de(pxe,5),de(hxe,5)),t&2){let o;ee(o=te())&&(r.headerCheckboxViewChild=o.first),ee(o=te())&&(r.filterViewChild=o.first),ee(o=te())&&(r.lastHiddenFocusableElement=o.first),ee(o=te())&&(r.firstHiddenFocusableElement=o.first),ee(o=te())&&(r.scroller=o.first),ee(o=te())&&(r.listViewChild=o.first),ee(o=te())&&(r.wrapperViewChild=o.first)}},hostAttrs:[1,"p-element"],inputs:{id:"id",searchMessage:"searchMessage",emptySelectionMessage:"emptySelectionMessage",selectionMessage:"selectionMessage",autoOptionFocus:[2,"autoOptionFocus","autoOptionFocus",K],ariaLabel:"ariaLabel",selectOnFocus:[2,"selectOnFocus","selectOnFocus",K],searchLocale:[2,"searchLocale","searchLocale",K],focusOnHover:[2,"focusOnHover","focusOnHover",K],filterMessage:"filterMessage",filterFields:"filterFields",lazy:[2,"lazy","lazy",K],virtualScroll:[2,"virtualScroll","virtualScroll",K],virtualScrollItemSize:[2,"virtualScrollItemSize","virtualScrollItemSize",ke],virtualScrollOptions:"virtualScrollOptions",scrollHeight:"scrollHeight",tabindex:[2,"tabindex","tabindex",ke],multiple:[2,"multiple","multiple",K],style:"style",styleClass:"styleClass",listStyle:"listStyle",listStyleClass:"listStyleClass",readonly:[2,"readonly","readonly",K],disabled:[2,"disabled","disabled",K],checkbox:[2,"checkbox","checkbox",K],filter:[2,"filter","filter",K],filterBy:"filterBy",filterMatchMode:"filterMatchMode",filterLocale:"filterLocale",metaKeySelection:[2,"metaKeySelection","metaKeySelection",K],dataKey:"dataKey",showToggleAll:[2,"showToggleAll","showToggleAll",K],optionLabel:"optionLabel",optionValue:"optionValue",optionGroupChildren:"optionGroupChildren",optionGroupLabel:"optionGroupLabel",optionDisabled:"optionDisabled",ariaFilterLabel:"ariaFilterLabel",filterPlaceHolder:"filterPlaceHolder",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",group:[2,"group","group",K],options:"options",filterValue:"filterValue",selectAll:"selectAll"},outputs:{onChange:"onChange",onClick:"onClick",onDblClick:"onDblClick",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onSelectAllChange:"onSelectAllChange"},features:[Ze([CTe]),qe],ngContentSelectors:mxe,decls:15,vars:22,consts:[["firstHiddenFocusableElement",""],["wrapper",""],["buildInItems",""],["lastHiddenFocusableElement",""],["builtInFilterElement",""],["headerchkbox",""],["filterInput",""],["scroller",""],["list",""],["emptyFilter",""],["empty",""],[3,"focusout","ngClass","ngStyle"],["role","presentation",1,"p-hidden-accessible","p-hidden-focusable",3,"focus","tabindex"],["class","p-listbox-header",4,"ngIf"],[3,"ngClass","ngStyle"],[3,"items","style","itemSize","autoSize","lazy","options","tabindex","onLazyLoad",4,"ngIf"],[4,"ngIf"],["class","p-listbox-footer",4,"ngIf"],["role","status","aria-live","polite","class","p-hidden-accessible",4,"ngIf"],[1,"p-listbox-header"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-checkbox p-component",3,"ngClass","click","keydown",4,"ngIf"],[4,"ngIf","ngIfElse"],[1,"p-checkbox","p-component",3,"click","keydown","ngClass"],[1,"p-hidden-accessible"],["type","checkbox","readonly","readonly",3,"focus","blur","disabled"],["role","checkbox",1,"p-checkbox-box",3,"ngClass"],[3,"styleClass",4,"ngIf"],["class","p-checkbox-icon",4,"ngIf"],[3,"styleClass"],[1,"p-checkbox-icon"],[4,"ngTemplateOutlet"],["class","p-listbox-filter-container",4,"ngIf"],["role","status","attr.aria-live","polite",1,"p-hidden-accessible"],[1,"p-listbox-filter-container"],["type","text","role","searchbox",1,"p-listbox-filter","p-inputtext","p-component",3,"input","keydown","focus","blur","value","disabled","tabindex"],["class","p-listbox-filter-icon",4,"ngIf"],[1,"p-listbox-filter-icon"],[3,"onLazyLoad","items","itemSize","autoSize","lazy","options","tabindex"],["pTemplate","content"],["pTemplate","loader"],["role","listbox",1,"p-listbox-list",3,"focus","blur","keydown","tabindex","ngClass","ngStyle"],["ngFor","",3,"ngForOf"],["class","p-listbox-empty-message","role","option",4,"ngIf"],["role","option",1,"p-listbox-item-group",3,"ngStyle"],["pRipple","","role","option",1,"p-listbox-item",3,"click","dblclick","mousedown","mouseenter","touchend","ngStyle","ngClass"],["class","p-checkbox p-component",3,"ngClass",4,"ngIf"],[1,"p-checkbox","p-component",3,"ngClass"],[1,"p-checkbox-box",3,"ngClass"],["role","option",1,"p-listbox-empty-message"],[1,"p-listbox-footer"],["role","status","aria-live","polite",1,"p-hidden-accessible"]],template:function(t,r){if(t&1){let o=B();Fi(fxe),m(0,"div",11),P("focusout",function(a){return S(o),A(r.onFocusout(a))}),m(1,"span",12,0),P("focus",function(a){return S(o),A(r.onFirstHiddenFocus(a))}),_(),I(3,wxe,3,5,"div",13)(4,Vxe,5,3,"div",13),m(5,"div",14,1),I(7,zxe,4,11,"p-scroller",15)(8,Kxe,2,6,"ng-container",16)(9,pTe,5,11,"ng-template",null,2,Pt),_(),I(11,fTe,3,5,"div",17)(12,_Te,3,2,"span",18),m(13,"span",12,3),P("focus",function(a){return S(o),A(r.onLastHiddenFocus(a))}),_()()}t&2&&(le(r.styleClass),h("ngClass",r.containerClass)("ngStyle",r.style),V("id",r.id),u(),h("tabindex",r.disabled?-1:r.tabindex),V("data-p-hidden-focusable",!0),u(2),h("ngIf",r.headerFacet||r.headerTemplate),u(),h("ngIf",r.checkbox&&r.multiple&&r.showToggleAll||r.filter),u(),le(r.listStyleClass),Fn("max-height",r.virtualScroll?"auto":r.scrollHeight||"auto"),h("ngClass","p-listbox-list-wrapper")("ngStyle",r.listStyle),V("tabindex",!r.disabled&&"0"),u(2),h("ngIf",r.virtualScroll),u(),h("ngIf",!r.virtualScroll),u(3),h("ngIf",r.footerFacet||r.footerTemplate),u(),h("ngIf",r.isEmpty()),u(),h("tabindex",r.disabled?-1:r.tabindex),V("data-p-hidden-focusable",!0))},dependencies:()=>[Ge,tn,et,st,Ee,be,qi,Rs,La,fn],styles:[`@layer primeng{.p-listbox-list-wrapper{overflow:auto}.p-listbox-list{list-style-type:none;margin:0;padding:0}.p-listbox-item{cursor:pointer;position:relative;overflow:hidden;display:flex;align-items:center;-webkit-user-select:none;user-select:none}.p-listbox-header{display:flex;align-items:center}.p-listbox-filter-container{position:relative;flex:1 1 auto}.p-listbox-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-listbox-filter{width:100%}}
`],encapsulation:2,changeDetection:0})}return i})(),mR=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=Oe({type:i});static \u0275inj=Te({imports:[Ye,nt,Qi,Wr,La,fn,nt,Wr]})}return i})();var ITe=["inputtext"],vTe=["container"],bTe=(i,n,e,t)=>({"p-chips p-component p-input-wrapper":!0,"p-disabled":i,"p-focus":n,"p-inputwrapper-filled":e,"p-inputwrapper-focus":t}),wTe=i=>({"p-inputtext p-chips-multiple-container":!0,"p-variant-filled":i}),STe=i=>({"p-chips-clearable":i}),ATe=i=>({"p-chips-token":!0,"p-focus":i}),ETe=i=>({$implicit:i});function xTe(i,n){i&1&&ue(0)}function TTe(i,n){if(i&1&&(m(0,"span",12),D(1),_()),i&2){let e=f().$implicit,t=f();V("data-pc-section","label"),u(),$(t.field?t.resolveFieldData(e,t.field):e)}}function OTe(i,n){if(i&1){let e=B();m(0,"TimesCircleIcon",15),P("click",function(r){S(e);let o=f(2).index,s=f();return A(s.removeItem(r,o))}),_()}i&2&&(h("styleClass","p-chips-token-icon"),V("data-pc-section","removeTokenIcon")("aria-hidden",!0))}function DTe(i,n){}function RTe(i,n){i&1&&I(0,DTe,0,0,"ng-template")}function PTe(i,n){if(i&1){let e=B();m(0,"span",16),P("click",function(r){S(e);let o=f(2).index,s=f();return A(s.removeItem(r,o))}),I(1,RTe,1,0,null,17),_()}if(i&2){let e=f(3);V("data-pc-section","removeTokenIcon")("aria-hidden",!0),u(),h("ngTemplateOutlet",e.removeTokenIconTemplate)}}function kTe(i,n){if(i&1&&(pe(0),I(1,OTe,1,3,"TimesCircleIcon",13)(2,PTe,2,3,"span",14),he()),i&2){let e=f(2);u(),h("ngIf",!e.removeTokenIconTemplate),u(),h("ngIf",e.removeTokenIconTemplate)}}function FTe(i,n){if(i&1){let e=B();m(0,"li",9,2),P("click",function(r){let o=S(e).$implicit,s=f();return A(s.onItemClick(r,o))})("contextmenu",function(r){let o=S(e).$implicit,s=f();return A(s.onItemContextMenu(r,o))}),I(2,xTe,1,0,"ng-container",10)(3,TTe,2,2,"span",11)(4,kTe,3,2,"ng-container",8),_()}if(i&2){let e=n.$implicit,t=n.index,r=f();h("ngClass",oe(12,ATe,r.focusedIndex===t)),V("id",r.id+"_chips_item_"+t)("ariaLabel",e)("aria-selected",!0)("aria-setsize",r.value.length)("aria-posinset",t+1)("data-p-focused",r.focusedIndex===t)("data-pc-section","token"),u(2),h("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",oe(14,ETe,e)),u(),h("ngIf",!r.itemTemplate),u(),h("ngIf",!r.disabled)}}function LTe(i,n){if(i&1){let e=B();m(0,"TimesIcon",15),P("click",function(){S(e);let r=f(2);return A(r.clear())}),_()}i&2&&h("styleClass","p-chips-clear-icon")}function MTe(i,n){}function NTe(i,n){i&1&&I(0,MTe,0,0,"ng-template")}function VTe(i,n){if(i&1){let e=B();m(0,"span",19),P("click",function(){S(e);let r=f(2);return A(r.clear())}),I(1,NTe,1,0,null,17),_()}if(i&2){let e=f(2);u(),h("ngTemplateOutlet",e.clearIconTemplate)}}function BTe(i,n){if(i&1&&(m(0,"li"),I(1,LTe,1,1,"TimesIcon",13)(2,VTe,2,1,"span",18),_()),i&2){let e=f();u(),h("ngIf",!e.clearIconTemplate),u(),h("ngIf",e.clearIconTemplate)}}var UTe={provide:nn,useExisting:zt(()=>jTe),multi:!0},jTe=(()=>{class i{document;el;cd;config;style;styleClass;disabled;field;placeholder;max;maxLength;ariaLabel;ariaLabelledBy;tabindex;inputId;allowDuplicate=!0;caseSensitiveDuplication=!0;inputStyle;inputStyleClass;addOnTab;addOnBlur;separator;showClear=!1;autofocus;variant="outlined";onAdd=new Q;onRemove=new Q;onFocus=new Q;onBlur=new Q;onChipClick=new Q;onChipContextMenu=new Q;onClear=new Q;inputViewChild;containerViewChild;templates;itemTemplate;removeTokenIconTemplate;clearIconTemplate;value;onModelChange=()=>{};onModelTouched=()=>{};valueChanged;id=yt();focused;focusedIndex;filled;get focusedOptionId(){return this.focusedIndex!==null?`${this.id}_chips_item_${this.focusedIndex}`:null}get isMaxedOut(){return this.max&&this.value&&this.max===this.value.length}constructor(e,t,r,o){this.document=e,this.el=t,this.cd=r,this.config=o}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":this.itemTemplate=e.template;break;case"removetokenicon":this.removeTokenIconTemplate=e.template;break;case"clearicon":this.clearIconTemplate=e.template;break;default:this.itemTemplate=e.template;break}}),this.updateFilledState()}onWrapperClick(){this.inputViewChild?.nativeElement.focus()}onContainerFocus(){this.focused=!0}onContainerBlur(){this.focusedIndex=-1,this.focused=!1}onContainerKeyDown(e){switch(e.code){case"ArrowLeft":this.onArrowLeftKeyOn();break;case"ArrowRight":this.onArrowRightKeyOn();break;case"Backspace":this.onBackspaceKeyOn(e);break;case"Space":this.focusedIndex!==null&&this.value&&this.value.length>0&&this.onItemClick(e,this.value[this.focusedIndex]);break;default:break}}onArrowLeftKeyOn(){this.inputViewChild.nativeElement.value.length===0&&this.value&&this.value.length>0&&(this.focusedIndex=this.focusedIndex===null?this.value.length-1:this.focusedIndex-1,this.focusedIndex<0&&(this.focusedIndex=0))}onArrowRightKeyOn(){this.inputViewChild.nativeElement.value.length===0&&this.value&&this.value.length>0&&(this.focusedIndex===this.value.length-1?(this.focusedIndex=null,this.inputViewChild?.nativeElement.focus()):this.focusedIndex++)}onBackspaceKeyOn(e){this.focusedIndex!==null&&this.removeItem(e,this.focusedIndex)}onInput(){this.updateFilledState(),this.focusedIndex=null}onPaste(e){this.disabled||(this.separator&&((e.clipboardData||this.document.defaultView.clipboardData).getData("Text").split(this.separator).forEach(r=>{this.addItem(e,r,!0)}),this.inputViewChild.nativeElement.value=""),this.updateFilledState())}updateFilledState(){!this.value||this.value.length===0?this.filled=this.inputViewChild&&this.inputViewChild.nativeElement&&this.inputViewChild.nativeElement.value!="":this.filled=!0}onItemClick(e,t){this.onChipClick.emit({originalEvent:e,value:t})}onItemContextMenu(e,t){this.onChipContextMenu.emit({originalEvent:e,value:t})}writeValue(e){this.value=e,this.updateMaxedOut(),this.updateFilledState(),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}resolveFieldData(e,t){if(e&&t){if(t.indexOf(".")==-1)return e[t];{let s=t.split("."),a=e;for(var r=0,o=s.length;r<o;++r)a=a[s[r]];return a}}else return null}onInputFocus(e){this.focused=!0,this.focusedIndex=null,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1,this.focusedIndex=null,this.addOnBlur&&this.inputViewChild.nativeElement.value&&this.addItem(e,this.inputViewChild.nativeElement.value,!1),this.onModelTouched(),this.onBlur.emit(e)}removeItem(e,t){if(this.disabled)return;let r=this.value[t];this.value=this.value.filter((o,s)=>s!=t),this.focusedIndex=null,this.inputViewChild.nativeElement.focus(),this.onModelChange(this.value),this.onRemove.emit({originalEvent:e,value:r}),this.updateFilledState(),this.updateMaxedOut()}addItem(e,t,r){if(this.value=this.value||[],t&&t.trim().length){let o=this.caseSensitiveDuplication?this.value.includes(t):this.value.some(s=>s.toLowerCase()===t.toLowerCase());(this.allowDuplicate||!o)&&!this.isMaxedOut&&(this.value=[...this.value,t],this.onModelChange(this.value),this.onAdd.emit({originalEvent:e,value:t}))}this.updateFilledState(),this.updateMaxedOut(),this.inputViewChild.nativeElement.value="",r&&e.preventDefault()}clear(){this.value=null,this.updateFilledState(),this.onModelChange(this.value),this.updateMaxedOut(),this.onClear.emit()}onKeyDown(e){let t=e.target.value;switch(e.code){case"Backspace":t.length===0&&this.value&&this.value.length>0&&(this.focusedIndex!==null?this.removeItem(e,this.focusedIndex):this.removeItem(e,this.value.length-1));break;case"Enter":case"NumpadEnter":t&&t.trim().length&&!this.isMaxedOut&&this.addItem(e,t,!0);break;case"Tab":this.addOnTab&&t&&t.trim().length&&!this.isMaxedOut&&(this.addItem(e,t,!0),e.preventDefault());break;case"ArrowLeft":t.length===0&&this.value&&this.value.length>0&&this.containerViewChild?.nativeElement.focus();break;case"ArrowRight":e.stopPropagation();break;default:this.separator&&(this.separator===e.key||e.key.match(this.separator))&&this.addItem(e,t,!0);break}}updateMaxedOut(){this.inputViewChild&&this.inputViewChild.nativeElement&&(this.isMaxedOut?(this.inputViewChild.nativeElement.blur(),this.inputViewChild.nativeElement.disabled=!0):(this.disabled&&this.inputViewChild.nativeElement.blur(),this.inputViewChild.nativeElement.disabled=this.disabled||!1))}static \u0275fac=function(t){return new(t||i)(b(_t),b(ze),b(Ie),b(Vt))};static \u0275cmp=ie({type:i,selectors:[["p-chips"]],contentQueries:function(t,r,o){if(t&1&&ot(o,be,4),t&2){let s;ee(s=te())&&(r.templates=s)}},viewQuery:function(t,r){if(t&1&&(de(ITe,5),de(vTe,5)),t&2){let o;ee(o=te())&&(r.inputViewChild=o.first),ee(o=te())&&(r.containerViewChild=o.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(t,r){t&2&&yn("p-inputwrapper-filled",r.filled)("p-inputwrapper-focus",r.focused)("p-chips-clearable",r.showClear)},inputs:{style:"style",styleClass:"styleClass",disabled:[2,"disabled","disabled",K],field:"field",placeholder:"placeholder",max:[2,"max","max",ke],maxLength:"maxLength",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",tabindex:[2,"tabindex","tabindex",ke],inputId:"inputId",allowDuplicate:[2,"allowDuplicate","allowDuplicate",K],caseSensitiveDuplication:[2,"caseSensitiveDuplication","caseSensitiveDuplication",K],inputStyle:"inputStyle",inputStyleClass:"inputStyleClass",addOnTab:[2,"addOnTab","addOnTab",K],addOnBlur:[2,"addOnBlur","addOnBlur",K],separator:"separator",showClear:[2,"showClear","showClear",K],autofocus:[2,"autofocus","autofocus",K],variant:"variant"},outputs:{onAdd:"onAdd",onRemove:"onRemove",onFocus:"onFocus",onBlur:"onBlur",onChipClick:"onChipClick",onChipContextMenu:"onChipContextMenu",onClear:"onClear"},features:[Ze([UTe]),qe],decls:8,vars:34,consts:[["container",""],["inputtext",""],["token",""],[3,"ngClass","ngStyle"],["tabindex","-1","role","listbox",3,"click","focus","blur","keydown","ngClass"],["role","option",3,"ngClass","click","contextmenu",4,"ngFor","ngForOf"],["role","option",1,"p-chips-input-token",3,"ngClass"],["type","text","pAutoFocus","",3,"keydown","input","paste","focus","blur","disabled","ngStyle","autofocus"],[4,"ngIf"],["role","option",3,"click","contextmenu","ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-chips-token-label",4,"ngIf"],[1,"p-chips-token-label"],[3,"styleClass","click",4,"ngIf"],["class","p-chips-token-icon",3,"click",4,"ngIf"],[3,"click","styleClass"],[1,"p-chips-token-icon",3,"click"],[4,"ngTemplateOutlet"],["class","p-chips-clear-icon",3,"click",4,"ngIf"],[1,"p-chips-clear-icon",3,"click"]],template:function(t,r){if(t&1){let o=B();m(0,"div",3)(1,"ul",4,0),P("click",function(){return S(o),A(r.onWrapperClick())})("focus",function(){return S(o),A(r.onContainerFocus())})("blur",function(){return S(o),A(r.onContainerBlur())})("keydown",function(a){return S(o),A(r.onContainerKeyDown(a))}),I(3,FTe,5,16,"li",5),m(4,"li",6)(5,"input",7,1),P("keydown",function(a){return S(o),A(r.onKeyDown(a))})("input",function(){return S(o),A(r.onInput())})("paste",function(a){return S(o),A(r.onPaste(a))})("focus",function(a){return S(o),A(r.onInputFocus(a))})("blur",function(a){return S(o),A(r.onInputBlur(a))}),_()(),I(7,BTe,3,2,"li",8),_()()}t&2&&(le(r.styleClass),h("ngClass",dr(25,bTe,r.disabled,r.focused,r.value&&r.value.length||(r.inputViewChild==null?null:r.inputViewChild.nativeElement.value)&&(r.inputViewChild==null?null:r.inputViewChild.nativeElement.value.length),r.focused))("ngStyle",r.style),V("data-pc-name","chips")("data-pc-section","root"),u(),h("ngClass",oe(30,wTe,r.variant==="filled"||r.config.inputStyle()==="filled")),V("aria-labelledby",r.ariaLabelledBy)("aria-label",r.ariaLabel)("aria-activedescendant",r.focused?r.focusedOptionId:void 0)("aria-orientation","horizontal")("data-pc-section","container"),u(2),h("ngForOf",r.value),u(),h("ngClass",oe(32,STe,r.showClear&&!r.disabled)),V("data-pc-section","inputToken"),u(),le(r.inputStyleClass),h("disabled",r.disabled||r.isMaxedOut)("ngStyle",r.inputStyle)("autofocus",r.autofocus),V("id",r.inputId)("maxlength",r.maxLength)("placeholder",r.value&&r.value.length?null:r.placeholder)("tabindex",r.tabindex),u(2),h("ngIf",r.value!=null&&r.filled&&!r.disabled&&r.showClear))},dependencies:()=>[Ge,tn,et,st,Ee,Mn,ka,Li],styles:[`@layer primeng{.p-chips{display:inline-flex}.p-chips-multiple-container{margin:0;padding:0;list-style-type:none;cursor:text;overflow:hidden;display:flex;align-items:center;flex-wrap:wrap}.p-chips-token{cursor:default;display:inline-flex;align-items:center;flex:0 0 auto;max-width:100%}.p-chips-token-label{min-width:0%;overflow:auto}.p-chips-token-label::-webkit-scrollbar{display:none}.p-chips-input-token{flex:1 1 auto;display:inline-flex}.p-chips-token-icon{cursor:pointer}.p-chips-input-token input{border:0 none;outline:0 none;background-color:transparent;margin:0;padding:0;box-shadow:none;border-radius:0;width:100%}.p-fluid .p-chips{display:flex}.p-chips-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-chips-clearable .p-inputtext{position:relative}}
`],encapsulation:2,changeDetection:0})}return i})(),gR=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=Oe({type:i});static \u0275inj=Te({imports:[Ye,Oa,nt,Qn,ka,Li,Oa,nt]})}return i})();function M0(i){return i+.5|0}var Uu=(i,n,e)=>Math.max(Math.min(i,e),n);function F0(i){return Uu(M0(i*2.55),0,255)}function ju(i){return Uu(M0(i*255),0,255)}function vd(i){return Uu(M0(i/2.55)/100,0,1)}function ej(i){return Uu(M0(i*100),0,100)}var qa={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},CR=[..."0123456789ABCDEF"],HTe=i=>CR[i&15],GTe=i=>CR[(i&240)>>4]+CR[i&15],Zw=i=>(i&240)>>4===(i&15),zTe=i=>Zw(i.r)&&Zw(i.g)&&Zw(i.b)&&Zw(i.a);function WTe(i){var n=i.length,e;return i[0]==="#"&&(n===4||n===5?e={r:255&qa[i[1]]*17,g:255&qa[i[2]]*17,b:255&qa[i[3]]*17,a:n===5?qa[i[4]]*17:255}:(n===7||n===9)&&(e={r:qa[i[1]]<<4|qa[i[2]],g:qa[i[3]]<<4|qa[i[4]],b:qa[i[5]]<<4|qa[i[6]],a:n===9?qa[i[7]]<<4|qa[i[8]]:255})),e}var KTe=(i,n)=>i<255?n(i):"";function $Te(i){var n=zTe(i)?HTe:GTe;return i?"#"+n(i.r)+n(i.g)+n(i.b)+KTe(i.a,n):void 0}var qTe=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function rj(i,n,e){let t=n*Math.min(e,1-e),r=(o,s=(o+i/30)%12)=>e-t*Math.max(Math.min(s-3,9-s,1),-1);return[r(0),r(8),r(4)]}function YTe(i,n,e){let t=(r,o=(r+i/60)%6)=>e-e*n*Math.max(Math.min(o,4-o,1),0);return[t(5),t(3),t(1)]}function JTe(i,n,e){let t=rj(i,1,.5),r;for(n+e>1&&(r=1/(n+e),n*=r,e*=r),r=0;r<3;r++)t[r]*=1-n-e,t[r]+=n;return t}function XTe(i,n,e,t,r){return i===r?(n-e)/t+(n<e?6:0):n===r?(e-i)/t+2:(i-n)/t+4}function yR(i){let e=i.r/255,t=i.g/255,r=i.b/255,o=Math.max(e,t,r),s=Math.min(e,t,r),a=(o+s)/2,l,c,d;return o!==s&&(d=o-s,c=a>.5?d/(2-o-s):d/(o+s),l=XTe(e,t,r,d,o),l=l*60+.5),[l|0,c||0,a]}function IR(i,n,e,t){return(Array.isArray(n)?i(n[0],n[1],n[2]):i(n,e,t)).map(ju)}function vR(i,n,e){return IR(rj,i,n,e)}function QTe(i,n,e){return IR(JTe,i,n,e)}function ZTe(i,n,e){return IR(YTe,i,n,e)}function oj(i){return(i%360+360)%360}function e2e(i){let n=qTe.exec(i),e=255,t;if(!n)return;n[5]!==t&&(e=n[6]?F0(+n[5]):ju(+n[5]));let r=oj(+n[2]),o=+n[3]/100,s=+n[4]/100;return n[1]==="hwb"?t=QTe(r,o,s):n[1]==="hsv"?t=ZTe(r,o,s):t=vR(r,o,s),{r:t[0],g:t[1],b:t[2],a:e}}function t2e(i,n){var e=yR(i);e[0]=oj(e[0]+n),e=vR(e),i.r=e[0],i.g=e[1],i.b=e[2]}function i2e(i){if(!i)return;let n=yR(i),e=n[0],t=ej(n[1]),r=ej(n[2]);return i.a<255?`hsla(${e}, ${t}%, ${r}%, ${vd(i.a)})`:`hsl(${e}, ${t}%, ${r}%)`}var tj={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},ij={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function n2e(){let i={},n=Object.keys(ij),e=Object.keys(tj),t,r,o,s,a;for(t=0;t<n.length;t++){for(s=a=n[t],r=0;r<e.length;r++)o=e[r],a=a.replace(o,tj[o]);o=parseInt(ij[s],16),i[a]=[o>>16&255,o>>8&255,o&255]}return i}var e1;function r2e(i){e1||(e1=n2e(),e1.transparent=[0,0,0,0]);let n=e1[i.toLowerCase()];return n&&{r:n[0],g:n[1],b:n[2],a:n.length===4?n[3]:255}}var o2e=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function s2e(i){let n=o2e.exec(i),e=255,t,r,o;if(n){if(n[7]!==t){let s=+n[7];e=n[8]?F0(s):Uu(s*255,0,255)}return t=+n[1],r=+n[3],o=+n[5],t=255&(n[2]?F0(t):Uu(t,0,255)),r=255&(n[4]?F0(r):Uu(r,0,255)),o=255&(n[6]?F0(o):Uu(o,0,255)),{r:t,g:r,b:o,a:e}}}function a2e(i){return i&&(i.a<255?`rgba(${i.r}, ${i.g}, ${i.b}, ${vd(i.a)})`:`rgb(${i.r}, ${i.g}, ${i.b})`)}var _R=i=>i<=.0031308?i*12.92:Math.pow(i,1/2.4)*1.055-.055,Dm=i=>i<=.04045?i/12.92:Math.pow((i+.055)/1.055,2.4);function l2e(i,n,e){let t=Dm(vd(i.r)),r=Dm(vd(i.g)),o=Dm(vd(i.b));return{r:ju(_R(t+e*(Dm(vd(n.r))-t))),g:ju(_R(r+e*(Dm(vd(n.g))-r))),b:ju(_R(o+e*(Dm(vd(n.b))-o))),a:i.a+e*(n.a-i.a)}}function t1(i,n,e){if(i){let t=yR(i);t[n]=Math.max(0,Math.min(t[n]+t[n]*e,n===0?360:1)),t=vR(t),i.r=t[0],i.g=t[1],i.b=t[2]}}function sj(i,n){return i&&Object.assign(n||{},i)}function nj(i){var n={r:0,g:0,b:0,a:255};return Array.isArray(i)?i.length>=3&&(n={r:i[0],g:i[1],b:i[2],a:255},i.length>3&&(n.a=ju(i[3]))):(n=sj(i,{r:0,g:0,b:0,a:1}),n.a=ju(n.a)),n}function c2e(i){return i.charAt(0)==="r"?s2e(i):e2e(i)}var L0=class i{constructor(n){if(n instanceof i)return n;let e=typeof n,t;e==="object"?t=nj(n):e==="string"&&(t=WTe(n)||r2e(n)||c2e(n)),this._rgb=t,this._valid=!!t}get valid(){return this._valid}get rgb(){var n=sj(this._rgb);return n&&(n.a=vd(n.a)),n}set rgb(n){this._rgb=nj(n)}rgbString(){return this._valid?a2e(this._rgb):void 0}hexString(){return this._valid?$Te(this._rgb):void 0}hslString(){return this._valid?i2e(this._rgb):void 0}mix(n,e){if(n){let t=this.rgb,r=n.rgb,o,s=e===o?.5:e,a=2*s-1,l=t.a-r.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;o=1-c,t.r=255&c*t.r+o*r.r+.5,t.g=255&c*t.g+o*r.g+.5,t.b=255&c*t.b+o*r.b+.5,t.a=s*t.a+(1-s)*r.a,this.rgb=t}return this}interpolate(n,e){return n&&(this._rgb=l2e(this._rgb,n._rgb,e)),this}clone(){return new i(this.rgb)}alpha(n){return this._rgb.a=ju(n),this}clearer(n){let e=this._rgb;return e.a*=1-n,this}greyscale(){let n=this._rgb,e=M0(n.r*.3+n.g*.59+n.b*.11);return n.r=n.g=n.b=e,this}opaquer(n){let e=this._rgb;return e.a*=1+n,this}negate(){let n=this._rgb;return n.r=255-n.r,n.g=255-n.g,n.b=255-n.b,this}lighten(n){return t1(this._rgb,2,n),this}darken(n){return t1(this._rgb,2,-n),this}saturate(n){return t1(this._rgb,1,n),this}desaturate(n){return t1(this._rgb,1,-n),this}rotate(n){return t2e(this._rgb,n),this}};function gc(){}var _j=(()=>{let i=0;return()=>i++})();function un(i){return i==null}function ar(i){if(Array.isArray&&Array.isArray(i))return!0;let n=Object.prototype.toString.call(i);return n.slice(0,7)==="[object"&&n.slice(-6)==="Array]"}function sn(i){return i!==null&&Object.prototype.toString.call(i)==="[object Object]"}function Rr(i){return(typeof i=="number"||i instanceof Number)&&isFinite(+i)}function qs(i,n){return Rr(i)?i:n}function Pi(i,n){return typeof i>"u"?n:i}var Cj=(i,n)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100:+i/n,AR=(i,n)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100*n:+i;function Yn(i,n,e){if(i&&typeof i.call=="function")return i.apply(e,n)}function kn(i,n,e,t){let r,o,s;if(ar(i))if(o=i.length,t)for(r=o-1;r>=0;r--)n.call(e,i[r],r);else for(r=0;r<o;r++)n.call(e,i[r],r);else if(sn(i))for(s=Object.keys(i),o=s.length,r=0;r<o;r++)n.call(e,i[s[r]],s[r])}function B0(i,n){let e,t,r,o;if(!i||!n||i.length!==n.length)return!1;for(e=0,t=i.length;e<t;++e)if(r=i[e],o=n[e],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function o1(i){if(ar(i))return i.map(o1);if(sn(i)){let n=Object.create(null),e=Object.keys(i),t=e.length,r=0;for(;r<t;++r)n[e[r]]=o1(i[e[r]]);return n}return i}function yj(i){return["__proto__","prototype","constructor"].indexOf(i)===-1}function d2e(i,n,e,t){if(!yj(i))return;let r=n[i],o=e[i];sn(r)&&sn(o)?Pm(r,o,t):n[i]=o1(o)}function Pm(i,n,e){let t=ar(n)?n:[n],r=t.length;if(!sn(i))return i;e=e||{};let o=e.merger||d2e,s;for(let a=0;a<r;++a){if(s=t[a],!sn(s))continue;let l=Object.keys(s);for(let c=0,d=l.length;c<d;++c)o(l[c],i,s,e)}return i}function Fm(i,n){return Pm(i,n,{merger:u2e})}function u2e(i,n,e){if(!yj(i))return;let t=n[i],r=e[i];sn(t)&&sn(r)?Fm(t,r):Object.prototype.hasOwnProperty.call(n,i)||(n[i]=o1(r))}var aj={"":i=>i,x:i=>i.x,y:i=>i.y};function p2e(i){let n=i.split("."),e=[],t="";for(let r of n)t+=r,t.endsWith("\\")?t=t.slice(0,-1)+".":(e.push(t),t="");return e}function h2e(i){let n=p2e(i);return e=>{for(let t of n){if(t==="")break;e=e&&e[t]}return e}}function Sd(i,n){return(aj[n]||(aj[n]=h2e(n)))(i)}function c1(i){return i.charAt(0).toUpperCase()+i.slice(1)}var Lm=i=>typeof i<"u",bd=i=>typeof i=="function",ER=(i,n)=>{if(i.size!==n.size)return!1;for(let e of i)if(!n.has(e))return!1;return!0};function Ij(i){return i.type==="mouseup"||i.type==="click"||i.type==="contextmenu"}var lr=Math.PI,cr=2*lr,f2e=cr+lr,s1=Number.POSITIVE_INFINITY,m2e=lr/180,Br=lr/2,ah=lr/4,lj=lr*2/3,wd=Math.log10,El=Math.sign;function Mm(i,n,e){return Math.abs(i-n)<e}function xR(i){let n=Math.round(i);i=Mm(i,n,i/1e3)?n:i;let e=Math.pow(10,Math.floor(wd(i))),t=i/e;return(t<=1?1:t<=2?2:t<=5?5:10)*e}function vj(i){let n=[],e=Math.sqrt(i),t;for(t=1;t<e;t++)i%t===0&&(n.push(t),n.push(i/t));return e===(e|0)&&n.push(e),n.sort((r,o)=>r-o).pop(),n}function dh(i){return!isNaN(parseFloat(i))&&isFinite(i)}function bj(i,n){let e=Math.round(i);return e-n<=i&&e+n>=i}function TR(i,n,e){let t,r,o;for(t=0,r=i.length;t<r;t++)o=i[t][e],isNaN(o)||(n.min=Math.min(n.min,o),n.max=Math.max(n.max,o))}function Ya(i){return i*(lr/180)}function d1(i){return i*(180/lr)}function OR(i){if(!Rr(i))return;let n=1,e=0;for(;Math.round(i*n)/n!==i;)n*=10,e++;return e}function DR(i,n){let e=n.x-i.x,t=n.y-i.y,r=Math.sqrt(e*e+t*t),o=Math.atan2(t,e);return o<-.5*lr&&(o+=cr),{angle:o,distance:r}}function a1(i,n){return Math.sqrt(Math.pow(n.x-i.x,2)+Math.pow(n.y-i.y,2))}function g2e(i,n){return(i-n+f2e)%cr-lr}function $s(i){return(i%cr+cr)%cr}function Nm(i,n,e,t){let r=$s(i),o=$s(n),s=$s(e),a=$s(o-r),l=$s(s-r),c=$s(r-o),d=$s(r-s);return r===o||r===s||t&&o===s||a>l&&c<d}function yo(i,n,e){return Math.max(n,Math.min(e,i))}function wj(i){return yo(i,-32768,32767)}function _c(i,n,e,t=1e-6){return i>=Math.min(n,e)-t&&i<=Math.max(n,e)+t}function u1(i,n,e){e=e||(s=>i[s]<n);let t=i.length-1,r=0,o;for(;t-r>1;)o=r+t>>1,e(o)?r=o:t=o;return{lo:r,hi:t}}var fc=(i,n,e,t)=>u1(i,e,t?r=>{let o=i[r][n];return o<e||o===e&&i[r+1][n]===e}:r=>i[r][n]<e),Sj=(i,n,e)=>u1(i,e,t=>i[t][n]>=e);function Aj(i,n,e){let t=0,r=i.length;for(;t<r&&i[t]<n;)t++;for(;r>t&&i[r-1]>e;)r--;return t>0||r<i.length?i.slice(t,r):i}var Ej=["push","pop","shift","splice","unshift"];function xj(i,n){if(i._chartjs){i._chartjs.listeners.push(n);return}Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[n]}}),Ej.forEach(e=>{let t="_onData"+c1(e),r=i[e];Object.defineProperty(i,e,{configurable:!0,enumerable:!1,value(...o){let s=r.apply(this,o);return i._chartjs.listeners.forEach(a=>{typeof a[t]=="function"&&a[t](...o)}),s}})})}function RR(i,n){let e=i._chartjs;if(!e)return;let t=e.listeners,r=t.indexOf(n);r!==-1&&t.splice(r,1),!(t.length>0)&&(Ej.forEach(o=>{delete i[o]}),delete i._chartjs)}function PR(i){let n=new Set(i);return n.size===i.length?i:Array.from(n)}var kR=function(){return typeof window>"u"?function(i){return i()}:window.requestAnimationFrame}();function FR(i,n){let e=[],t=!1;return function(...r){e=r,t||(t=!0,kR.call(window,()=>{t=!1,i.apply(n,e)}))}}function Tj(i,n){let e;return function(...t){return n?(clearTimeout(e),e=setTimeout(i,n,t)):i.apply(this,t),n}}var p1=i=>i==="start"?"left":i==="end"?"right":"center",qo=(i,n,e)=>i==="start"?n:i==="end"?e:(n+e)/2,Oj=(i,n,e,t)=>i===(t?"left":"right")?e:i==="center"?(n+e)/2:n;function LR(i,n,e){let t=n.length,r=0,o=t;if(i._sorted){let{iScale:s,_parsed:a}=i,l=s.axis,{min:c,max:d,minDefined:p,maxDefined:g}=s.getUserBounds();p&&(r=yo(Math.min(fc(a,l,c).lo,e?t:fc(n,l,s.getPixelForValue(c)).lo),0,t-1)),g?o=yo(Math.max(fc(a,s.axis,d,!0).hi+1,e?0:fc(n,l,s.getPixelForValue(d),!0).hi+1),r,t)-r:o=t-r}return{start:r,count:o}}function MR(i){let{xScale:n,yScale:e,_scaleRanges:t}=i,r={xmin:n.min,xmax:n.max,ymin:e.min,ymax:e.max};if(!t)return i._scaleRanges=r,!0;let o=t.xmin!==n.min||t.xmax!==n.max||t.ymin!==e.min||t.ymax!==e.max;return Object.assign(t,r),o}var i1=i=>i===0||i===1,cj=(i,n,e)=>-(Math.pow(2,10*(i-=1))*Math.sin((i-n)*cr/e)),dj=(i,n,e)=>Math.pow(2,-10*i)*Math.sin((i-n)*cr/e)+1,Rm={linear:i=>i,easeInQuad:i=>i*i,easeOutQuad:i=>-i*(i-2),easeInOutQuad:i=>(i/=.5)<1?.5*i*i:-.5*(--i*(i-2)-1),easeInCubic:i=>i*i*i,easeOutCubic:i=>(i-=1)*i*i+1,easeInOutCubic:i=>(i/=.5)<1?.5*i*i*i:.5*((i-=2)*i*i+2),easeInQuart:i=>i*i*i*i,easeOutQuart:i=>-((i-=1)*i*i*i-1),easeInOutQuart:i=>(i/=.5)<1?.5*i*i*i*i:-.5*((i-=2)*i*i*i-2),easeInQuint:i=>i*i*i*i*i,easeOutQuint:i=>(i-=1)*i*i*i*i+1,easeInOutQuint:i=>(i/=.5)<1?.5*i*i*i*i*i:.5*((i-=2)*i*i*i*i+2),easeInSine:i=>-Math.cos(i*Br)+1,easeOutSine:i=>Math.sin(i*Br),easeInOutSine:i=>-.5*(Math.cos(lr*i)-1),easeInExpo:i=>i===0?0:Math.pow(2,10*(i-1)),easeOutExpo:i=>i===1?1:-Math.pow(2,-10*i)+1,easeInOutExpo:i=>i1(i)?i:i<.5?.5*Math.pow(2,10*(i*2-1)):.5*(-Math.pow(2,-10*(i*2-1))+2),easeInCirc:i=>i>=1?i:-(Math.sqrt(1-i*i)-1),easeOutCirc:i=>Math.sqrt(1-(i-=1)*i),easeInOutCirc:i=>(i/=.5)<1?-.5*(Math.sqrt(1-i*i)-1):.5*(Math.sqrt(1-(i-=2)*i)+1),easeInElastic:i=>i1(i)?i:cj(i,.075,.3),easeOutElastic:i=>i1(i)?i:dj(i,.075,.3),easeInOutElastic(i){return i1(i)?i:i<.5?.5*cj(i*2,.1125,.45):.5+.5*dj(i*2-1,.1125,.45)},easeInBack(i){return i*i*((1.70158+1)*i-1.70158)},easeOutBack(i){return(i-=1)*i*((1.70158+1)*i+1.70158)+1},easeInOutBack(i){let n=1.70158;return(i/=.5)<1?.5*(i*i*(((n*=1.525)+1)*i-n)):.5*((i-=2)*i*(((n*=1.525)+1)*i+n)+2)},easeInBounce:i=>1-Rm.easeOutBounce(1-i),easeOutBounce(i){return i<1/2.75?7.5625*i*i:i<2/2.75?7.5625*(i-=1.5/2.75)*i+.75:i<2.5/2.75?7.5625*(i-=2.25/2.75)*i+.9375:7.5625*(i-=2.625/2.75)*i+.984375},easeInOutBounce:i=>i<.5?Rm.easeInBounce(i*2)*.5:Rm.easeOutBounce(i*2-1)*.5+.5};function NR(i){if(i&&typeof i=="object"){let n=i.toString();return n==="[object CanvasPattern]"||n==="[object CanvasGradient]"}return!1}function VR(i){return NR(i)?i:new L0(i)}function bR(i){return NR(i)?i:new L0(i).saturate(.5).darken(.1).hexString()}var _2e=["x","y","borderWidth","radius","tension"],C2e=["color","borderColor","backgroundColor"];function y2e(i){i.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),i.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:n=>n!=="onProgress"&&n!=="onComplete"&&n!=="fn"}),i.set("animations",{colors:{type:"color",properties:C2e},numbers:{type:"number",properties:_2e}}),i.describe("animations",{_fallback:"animation"}),i.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:n=>n|0}}}})}function I2e(i){i.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var uj=new Map;function v2e(i,n){n=n||{};let e=i+JSON.stringify(n),t=uj.get(e);return t||(t=new Intl.NumberFormat(i,n),uj.set(e,t)),t}function Vm(i,n,e){return v2e(n,e).format(i)}var Dj={values(i){return ar(i)?i:""+i},numeric(i,n,e){if(i===0)return"0";let t=this.chart.options.locale,r,o=i;if(e.length>1){let c=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(c<1e-4||c>1e15)&&(r="scientific"),o=b2e(i,e)}let s=wd(Math.abs(o)),a=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Vm(i,t,l)},logarithmic(i,n,e){if(i===0)return"0";let t=e[n].significand||i/Math.pow(10,Math.floor(wd(i)));return[1,2,3,5,10,15].includes(t)||n>.8*e.length?Dj.numeric.call(this,i,n,e):""}};function b2e(i,n){let e=n.length>3?n[2].value-n[1].value:n[1].value-n[0].value;return Math.abs(e)>=1&&i!==Math.floor(i)&&(e=i-Math.floor(i)),e}var U0={formatters:Dj};function w2e(i){i.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(n,e)=>e.lineWidth,tickColor:(n,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:U0.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),i.route("scale.ticks","color","","color"),i.route("scale.grid","color","","borderColor"),i.route("scale.border","color","","borderColor"),i.route("scale.title","color","","color"),i.describe("scale",{_fallback:!1,_scriptable:n=>!n.startsWith("before")&&!n.startsWith("after")&&n!=="callback"&&n!=="parser",_indexable:n=>n!=="borderDash"&&n!=="tickBorderDash"&&n!=="dash"}),i.describe("scales",{_fallback:"scale"}),i.describe("scale.ticks",{_scriptable:n=>n!=="backdropPadding"&&n!=="callback",_indexable:n=>n!=="backdropPadding"})}var Gu=Object.create(null),h1=Object.create(null);function N0(i,n){if(!n)return i;let e=n.split(".");for(let t=0,r=e.length;t<r;++t){let o=e[t];i=i[o]||(i[o]=Object.create(null))}return i}function wR(i,n,e){return typeof n=="string"?Pm(N0(i,n),e):Pm(N0(i,""),n)}var SR=class{constructor(n,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(t,r)=>bR(r.backgroundColor),this.hoverBorderColor=(t,r)=>bR(r.borderColor),this.hoverColor=(t,r)=>bR(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(n),this.apply(e)}set(n,e){return wR(this,n,e)}get(n){return N0(this,n)}describe(n,e){return wR(h1,n,e)}override(n,e){return wR(Gu,n,e)}route(n,e,t,r){let o=N0(this,n),s=N0(this,t),a="_"+e;Object.defineProperties(o,{[a]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){let l=this[a],c=s[r];return sn(l)?Object.assign({},c,l):Pi(l,c)},set(l){this[a]=l}}})}apply(n){n.forEach(e=>e(this))}},hr=new SR({_scriptable:i=>!i.startsWith("on"),_indexable:i=>i!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[y2e,I2e,w2e]);function S2e(i){return!i||un(i.size)||un(i.family)?null:(i.style?i.style+" ":"")+(i.weight?i.weight+" ":"")+i.size+"px "+i.family}function V0(i,n,e,t,r){let o=n[r];return o||(o=n[r]=i.measureText(r).width,e.push(r)),o>t&&(t=o),t}function Rj(i,n,e,t){t=t||{};let r=t.data=t.data||{},o=t.garbageCollect=t.garbageCollect||[];t.font!==n&&(r=t.data={},o=t.garbageCollect=[],t.font=n),i.save(),i.font=n;let s=0,a=e.length,l,c,d,p,g;for(l=0;l<a;l++)if(p=e[l],p!=null&&!ar(p))s=V0(i,r,o,s,p);else if(ar(p))for(c=0,d=p.length;c<d;c++)g=p[c],g!=null&&!ar(g)&&(s=V0(i,r,o,s,g));i.restore();let C=o.length/2;if(C>e.length){for(l=0;l<C;l++)delete r[o[l]];o.splice(0,C)}return s}function zu(i,n,e){let t=i.currentDevicePixelRatio,r=e!==0?Math.max(e/2,.5):0;return Math.round((n-r)*t)/t+r}function BR(i,n){!n&&!i||(n=n||i.getContext("2d"),n.save(),n.resetTransform(),n.clearRect(0,0,i.width,i.height),n.restore())}function f1(i,n,e,t){UR(i,n,e,t,null)}function UR(i,n,e,t,r){let o,s,a,l,c,d,p,g,C=n.pointStyle,y=n.rotation,v=n.radius,w=(y||0)*m2e;if(C&&typeof C=="object"&&(o=C.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){i.save(),i.translate(e,t),i.rotate(w),i.drawImage(C,-C.width/2,-C.height/2,C.width,C.height),i.restore();return}if(!(isNaN(v)||v<=0)){switch(i.beginPath(),C){default:r?i.ellipse(e,t,r/2,v,0,0,cr):i.arc(e,t,v,0,cr),i.closePath();break;case"triangle":d=r?r/2:v,i.moveTo(e+Math.sin(w)*d,t-Math.cos(w)*v),w+=lj,i.lineTo(e+Math.sin(w)*d,t-Math.cos(w)*v),w+=lj,i.lineTo(e+Math.sin(w)*d,t-Math.cos(w)*v),i.closePath();break;case"rectRounded":c=v*.516,l=v-c,s=Math.cos(w+ah)*l,p=Math.cos(w+ah)*(r?r/2-c:l),a=Math.sin(w+ah)*l,g=Math.sin(w+ah)*(r?r/2-c:l),i.arc(e-p,t-a,c,w-lr,w-Br),i.arc(e+g,t-s,c,w-Br,w),i.arc(e+p,t+a,c,w,w+Br),i.arc(e-g,t+s,c,w+Br,w+lr),i.closePath();break;case"rect":if(!y){l=Math.SQRT1_2*v,d=r?r/2:l,i.rect(e-d,t-l,2*d,2*l);break}w+=ah;case"rectRot":p=Math.cos(w)*(r?r/2:v),s=Math.cos(w)*v,a=Math.sin(w)*v,g=Math.sin(w)*(r?r/2:v),i.moveTo(e-p,t-a),i.lineTo(e+g,t-s),i.lineTo(e+p,t+a),i.lineTo(e-g,t+s),i.closePath();break;case"crossRot":w+=ah;case"cross":p=Math.cos(w)*(r?r/2:v),s=Math.cos(w)*v,a=Math.sin(w)*v,g=Math.sin(w)*(r?r/2:v),i.moveTo(e-p,t-a),i.lineTo(e+p,t+a),i.moveTo(e+g,t-s),i.lineTo(e-g,t+s);break;case"star":p=Math.cos(w)*(r?r/2:v),s=Math.cos(w)*v,a=Math.sin(w)*v,g=Math.sin(w)*(r?r/2:v),i.moveTo(e-p,t-a),i.lineTo(e+p,t+a),i.moveTo(e+g,t-s),i.lineTo(e-g,t+s),w+=ah,p=Math.cos(w)*(r?r/2:v),s=Math.cos(w)*v,a=Math.sin(w)*v,g=Math.sin(w)*(r?r/2:v),i.moveTo(e-p,t-a),i.lineTo(e+p,t+a),i.moveTo(e+g,t-s),i.lineTo(e-g,t+s);break;case"line":s=r?r/2:Math.cos(w)*v,a=Math.sin(w)*v,i.moveTo(e-s,t-a),i.lineTo(e+s,t+a);break;case"dash":i.moveTo(e,t),i.lineTo(e+Math.cos(w)*(r?r/2:v),t+Math.sin(w)*v);break;case!1:i.closePath();break}i.fill(),n.borderWidth>0&&i.stroke()}}function mc(i,n,e){return e=e||.5,!n||i&&i.x>n.left-e&&i.x<n.right+e&&i.y>n.top-e&&i.y<n.bottom+e}function j0(i,n){i.save(),i.beginPath(),i.rect(n.left,n.top,n.right-n.left,n.bottom-n.top),i.clip()}function H0(i){i.restore()}function Pj(i,n,e,t,r){if(!n)return i.lineTo(e.x,e.y);if(r==="middle"){let o=(n.x+e.x)/2;i.lineTo(o,n.y),i.lineTo(o,e.y)}else r==="after"!=!!t?i.lineTo(n.x,e.y):i.lineTo(e.x,n.y);i.lineTo(e.x,e.y)}function kj(i,n,e,t){if(!n)return i.lineTo(e.x,e.y);i.bezierCurveTo(t?n.cp1x:n.cp2x,t?n.cp1y:n.cp2y,t?e.cp2x:e.cp1x,t?e.cp2y:e.cp1y,e.x,e.y)}function A2e(i,n){n.translation&&i.translate(n.translation[0],n.translation[1]),un(n.rotation)||i.rotate(n.rotation),n.color&&(i.fillStyle=n.color),n.textAlign&&(i.textAlign=n.textAlign),n.textBaseline&&(i.textBaseline=n.textBaseline)}function E2e(i,n,e,t,r){if(r.strikethrough||r.underline){let o=i.measureText(t),s=n-o.actualBoundingBoxLeft,a=n+o.actualBoundingBoxRight,l=e-o.actualBoundingBoxAscent,c=e+o.actualBoundingBoxDescent,d=r.strikethrough?(l+c)/2:c;i.strokeStyle=i.fillStyle,i.beginPath(),i.lineWidth=r.decorationWidth||2,i.moveTo(s,d),i.lineTo(a,d),i.stroke()}}function x2e(i,n){let e=i.fillStyle;i.fillStyle=n.color,i.fillRect(n.left,n.top,n.width,n.height),i.fillStyle=e}function Wu(i,n,e,t,r,o={}){let s=ar(n)?n:[n],a=o.strokeWidth>0&&o.strokeColor!=="",l,c;for(i.save(),i.font=r.string,A2e(i,o),l=0;l<s.length;++l)c=s[l],o.backdrop&&x2e(i,o.backdrop),a&&(o.strokeColor&&(i.strokeStyle=o.strokeColor),un(o.strokeWidth)||(i.lineWidth=o.strokeWidth),i.strokeText(c,e,t,o.maxWidth)),i.fillText(c,e,t,o.maxWidth),E2e(i,e,t,c,o),t+=Number(r.lineHeight);i.restore()}function Bm(i,n){let{x:e,y:t,w:r,h:o,radius:s}=n;i.arc(e+s.topLeft,t+s.topLeft,s.topLeft,1.5*lr,lr,!0),i.lineTo(e,t+o-s.bottomLeft),i.arc(e+s.bottomLeft,t+o-s.bottomLeft,s.bottomLeft,lr,Br,!0),i.lineTo(e+r-s.bottomRight,t+o),i.arc(e+r-s.bottomRight,t+o-s.bottomRight,s.bottomRight,Br,0,!0),i.lineTo(e+r,t+s.topRight),i.arc(e+r-s.topRight,t+s.topRight,s.topRight,0,-Br,!0),i.lineTo(e+s.topLeft,t)}var T2e=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,O2e=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function D2e(i,n){let e=(""+i).match(T2e);if(!e||e[1]==="normal")return n*1.2;switch(i=+e[2],e[3]){case"px":return i;case"%":i/=100;break}return n*i}var R2e=i=>+i||0;function m1(i,n){let e={},t=sn(n),r=t?Object.keys(n):n,o=sn(i)?t?s=>Pi(i[s],i[n[s]]):s=>i[s]:()=>i;for(let s of r)e[s]=R2e(o(s));return e}function jR(i){return m1(i,{top:"y",right:"x",bottom:"y",left:"x"})}function Ku(i){return m1(i,["topLeft","topRight","bottomLeft","bottomRight"])}function Yo(i){let n=jR(i);return n.width=n.left+n.right,n.height=n.top+n.bottom,n}function so(i,n){i=i||{},n=n||hr.font;let e=Pi(i.size,n.size);typeof e=="string"&&(e=parseInt(e,10));let t=Pi(i.style,n.style);t&&!(""+t).match(O2e)&&(console.warn('Invalid font style specified: "'+t+'"'),t=void 0);let r={family:Pi(i.family,n.family),lineHeight:D2e(Pi(i.lineHeight,n.lineHeight),e),size:e,style:t,weight:Pi(i.weight,n.weight),string:""};return r.string=S2e(r),r}function Um(i,n,e,t){let r=!0,o,s,a;for(o=0,s=i.length;o<s;++o)if(a=i[o],a!==void 0&&(n!==void 0&&typeof a=="function"&&(a=a(n),r=!1),e!==void 0&&ar(a)&&(a=a[e%a.length],r=!1),a!==void 0))return t&&!r&&(t.cacheable=!1),a}function Fj(i,n,e){let{min:t,max:r}=i,o=AR(n,(r-t)/2),s=(a,l)=>e&&a===0?0:a+l;return{min:s(t,-Math.abs(o)),max:s(r,o)}}function Ad(i,n){return Object.assign(Object.create(i),n)}function g1(i,n=[""],e,t,r=()=>i[0]){let o=e||i;typeof t>"u"&&(t=Nj("_fallback",i));let s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:i,_rootScopes:o,_fallback:t,_getTarget:r,override:a=>g1([a,...i],n,o,t)};return new Proxy(s,{deleteProperty(a,l){return delete a[l],delete a._keys,delete i[0][l],!0},get(a,l){return Lj(a,l,()=>B2e(l,n,i,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(i[0])},has(a,l){return hj(a).includes(l)},ownKeys(a){return hj(a)},set(a,l,c){let d=a._storage||(a._storage=r());return a[l]=d[l]=c,delete a._keys,!0}})}function ch(i,n,e,t){let r={_cacheable:!1,_proxy:i,_context:n,_subProxy:e,_stack:new Set,_descriptors:HR(i,t),setContext:o=>ch(i,o,e,t),override:o=>ch(i.override(o),n,e,t)};return new Proxy(r,{deleteProperty(o,s){return delete o[s],delete i[s],!0},get(o,s,a){return Lj(o,s,()=>k2e(o,s,a))},getOwnPropertyDescriptor(o,s){return o._descriptors.allKeys?Reflect.has(i,s)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(i,s)},getPrototypeOf(){return Reflect.getPrototypeOf(i)},has(o,s){return Reflect.has(i,s)},ownKeys(){return Reflect.ownKeys(i)},set(o,s,a){return i[s]=a,delete o[s],!0}})}function HR(i,n={scriptable:!0,indexable:!0}){let{_scriptable:e=n.scriptable,_indexable:t=n.indexable,_allKeys:r=n.allKeys}=i;return{allKeys:r,scriptable:e,indexable:t,isScriptable:bd(e)?e:()=>e,isIndexable:bd(t)?t:()=>t}}var P2e=(i,n)=>i?i+c1(n):n,GR=(i,n)=>sn(n)&&i!=="adapters"&&(Object.getPrototypeOf(n)===null||n.constructor===Object);function Lj(i,n,e){if(Object.prototype.hasOwnProperty.call(i,n)||n==="constructor")return i[n];let t=e();return i[n]=t,t}function k2e(i,n,e){let{_proxy:t,_context:r,_subProxy:o,_descriptors:s}=i,a=t[n];return bd(a)&&s.isScriptable(n)&&(a=F2e(n,a,i,e)),ar(a)&&a.length&&(a=L2e(n,a,i,s.isIndexable)),GR(n,a)&&(a=ch(a,r,o&&o[n],s)),a}function F2e(i,n,e,t){let{_proxy:r,_context:o,_subProxy:s,_stack:a}=e;if(a.has(i))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+i);a.add(i);let l=n(o,s||t);return a.delete(i),GR(i,l)&&(l=zR(r._scopes,r,i,l)),l}function L2e(i,n,e,t){let{_proxy:r,_context:o,_subProxy:s,_descriptors:a}=e;if(typeof o.index<"u"&&t(i))return n[o.index%n.length];if(sn(n[0])){let l=n,c=r._scopes.filter(d=>d!==l);n=[];for(let d of l){let p=zR(c,r,i,d);n.push(ch(p,o,s&&s[i],a))}}return n}function Mj(i,n,e){return bd(i)?i(n,e):i}var M2e=(i,n)=>i===!0?n:typeof i=="string"?Sd(n,i):void 0;function N2e(i,n,e,t,r){for(let o of n){let s=M2e(e,o);if(s){i.add(s);let a=Mj(s._fallback,e,r);if(typeof a<"u"&&a!==e&&a!==t)return a}else if(s===!1&&typeof t<"u"&&e!==t)return null}return!1}function zR(i,n,e,t){let r=n._rootScopes,o=Mj(n._fallback,e,t),s=[...i,...r],a=new Set;a.add(t);let l=pj(a,s,e,o||e,t);return l===null||typeof o<"u"&&o!==e&&(l=pj(a,s,o,l,t),l===null)?!1:g1(Array.from(a),[""],r,o,()=>V2e(n,e,t))}function pj(i,n,e,t,r){for(;e;)e=N2e(i,n,e,t,r);return e}function V2e(i,n,e){let t=i._getTarget();n in t||(t[n]={});let r=t[n];return ar(r)&&sn(e)?e:r||{}}function B2e(i,n,e,t){let r;for(let o of n)if(r=Nj(P2e(o,i),e),typeof r<"u")return GR(i,r)?zR(e,t,i,r):r}function Nj(i,n){for(let e of n){if(!e)continue;let t=e[i];if(typeof t<"u")return t}}function hj(i){let n=i._keys;return n||(n=i._keys=U2e(i._scopes)),n}function U2e(i){let n=new Set;for(let e of i)for(let t of Object.keys(e).filter(r=>!r.startsWith("_")))n.add(t);return Array.from(n)}function WR(i,n,e,t){let{iScale:r}=i,{key:o="r"}=this._parsing,s=new Array(t),a,l,c,d;for(a=0,l=t;a<l;++a)c=a+e,d=n[c],s[a]={r:r.parse(Sd(d,o),c)};return s}var j2e=Number.EPSILON||1e-14,km=(i,n)=>n<i.length&&!i[n].skip&&i[n],Vj=i=>i==="x"?"y":"x";function H2e(i,n,e,t){let r=i.skip?n:i,o=n,s=e.skip?n:e,a=a1(o,r),l=a1(s,o),c=a/(a+l),d=l/(a+l);c=isNaN(c)?0:c,d=isNaN(d)?0:d;let p=t*c,g=t*d;return{previous:{x:o.x-p*(s.x-r.x),y:o.y-p*(s.y-r.y)},next:{x:o.x+g*(s.x-r.x),y:o.y+g*(s.y-r.y)}}}function G2e(i,n,e){let t=i.length,r,o,s,a,l,c=km(i,0);for(let d=0;d<t-1;++d)if(l=c,c=km(i,d+1),!(!l||!c)){if(Mm(n[d],0,j2e)){e[d]=e[d+1]=0;continue}r=e[d]/n[d],o=e[d+1]/n[d],a=Math.pow(r,2)+Math.pow(o,2),!(a<=9)&&(s=3/Math.sqrt(a),e[d]=r*s*n[d],e[d+1]=o*s*n[d])}}function z2e(i,n,e="x"){let t=Vj(e),r=i.length,o,s,a,l=km(i,0);for(let c=0;c<r;++c){if(s=a,a=l,l=km(i,c+1),!a)continue;let d=a[e],p=a[t];s&&(o=(d-s[e])/3,a[`cp1${e}`]=d-o,a[`cp1${t}`]=p-o*n[c]),l&&(o=(l[e]-d)/3,a[`cp2${e}`]=d+o,a[`cp2${t}`]=p+o*n[c])}}function W2e(i,n="x"){let e=Vj(n),t=i.length,r=Array(t).fill(0),o=Array(t),s,a,l,c=km(i,0);for(s=0;s<t;++s)if(a=l,l=c,c=km(i,s+1),!!l){if(c){let d=c[n]-l[n];r[s]=d!==0?(c[e]-l[e])/d:0}o[s]=a?c?El(r[s-1])!==El(r[s])?0:(r[s-1]+r[s])/2:r[s-1]:r[s]}G2e(i,r,o),z2e(i,o,n)}function n1(i,n,e){return Math.max(Math.min(i,e),n)}function K2e(i,n){let e,t,r,o,s,a=mc(i[0],n);for(e=0,t=i.length;e<t;++e)s=o,o=a,a=e<t-1&&mc(i[e+1],n),o&&(r=i[e],s&&(r.cp1x=n1(r.cp1x,n.left,n.right),r.cp1y=n1(r.cp1y,n.top,n.bottom)),a&&(r.cp2x=n1(r.cp2x,n.left,n.right),r.cp2y=n1(r.cp2y,n.top,n.bottom)))}function Bj(i,n,e,t,r){let o,s,a,l;if(n.spanGaps&&(i=i.filter(c=>!c.skip)),n.cubicInterpolationMode==="monotone")W2e(i,r);else{let c=t?i[i.length-1]:i[0];for(o=0,s=i.length;o<s;++o)a=i[o],l=H2e(c,a,i[Math.min(o+1,s-(t?0:1))%s],n.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}n.capBezierPoints&&K2e(i,e)}function _1(){return typeof window<"u"&&typeof document<"u"}function C1(i){let n=i.parentNode;return n&&n.toString()==="[object ShadowRoot]"&&(n=n.host),n}function l1(i,n,e){let t;return typeof i=="string"?(t=parseInt(i,10),i.indexOf("%")!==-1&&(t=t/100*n.parentNode[e])):t=i,t}var y1=i=>i.ownerDocument.defaultView.getComputedStyle(i,null);function $2e(i,n){return y1(i).getPropertyValue(n)}var q2e=["top","right","bottom","left"];function lh(i,n,e){let t={};e=e?"-"+e:"";for(let r=0;r<4;r++){let o=q2e[r];t[o]=parseFloat(i[n+"-"+o+e])||0}return t.width=t.left+t.right,t.height=t.top+t.bottom,t}var Y2e=(i,n,e)=>(i>0||n>0)&&(!e||!e.shadowRoot);function J2e(i,n){let e=i.touches,t=e&&e.length?e[0]:i,{offsetX:r,offsetY:o}=t,s=!1,a,l;if(Y2e(r,o,i.target))a=r,l=o;else{let c=n.getBoundingClientRect();a=t.clientX-c.left,l=t.clientY-c.top,s=!0}return{x:a,y:l,box:s}}function $u(i,n){if("native"in i)return i;let{canvas:e,currentDevicePixelRatio:t}=n,r=y1(e),o=r.boxSizing==="border-box",s=lh(r,"padding"),a=lh(r,"border","width"),{x:l,y:c,box:d}=J2e(i,e),p=s.left+(d&&a.left),g=s.top+(d&&a.top),{width:C,height:y}=n;return o&&(C-=s.width+a.width,y-=s.height+a.height),{x:Math.round((l-p)/C*e.width/t),y:Math.round((c-g)/y*e.height/t)}}function X2e(i,n,e){let t,r;if(n===void 0||e===void 0){let o=i&&C1(i);if(!o)n=i.clientWidth,e=i.clientHeight;else{let s=o.getBoundingClientRect(),a=y1(o),l=lh(a,"border","width"),c=lh(a,"padding");n=s.width-c.width-l.width,e=s.height-c.height-l.height,t=l1(a.maxWidth,o,"clientWidth"),r=l1(a.maxHeight,o,"clientHeight")}}return{width:n,height:e,maxWidth:t||s1,maxHeight:r||s1}}var r1=i=>Math.round(i*10)/10;function Uj(i,n,e,t){let r=y1(i),o=lh(r,"margin"),s=l1(r.maxWidth,i,"clientWidth")||s1,a=l1(r.maxHeight,i,"clientHeight")||s1,l=X2e(i,n,e),{width:c,height:d}=l;if(r.boxSizing==="content-box"){let g=lh(r,"border","width"),C=lh(r,"padding");c-=C.width+g.width,d-=C.height+g.height}return c=Math.max(0,c-o.width),d=Math.max(0,t?c/t:d-o.height),c=r1(Math.min(c,s,l.maxWidth)),d=r1(Math.min(d,a,l.maxHeight)),c&&!d&&(d=r1(c/2)),(n!==void 0||e!==void 0)&&t&&l.height&&d>l.height&&(d=l.height,c=r1(Math.floor(d*t))),{width:c,height:d}}function KR(i,n,e){let t=n||1,r=Math.floor(i.height*t),o=Math.floor(i.width*t);i.height=Math.floor(i.height),i.width=Math.floor(i.width);let s=i.canvas;return s.style&&(e||!s.style.height&&!s.style.width)&&(s.style.height=`${i.height}px`,s.style.width=`${i.width}px`),i.currentDevicePixelRatio!==t||s.height!==r||s.width!==o?(i.currentDevicePixelRatio=t,s.height=r,s.width=o,i.ctx.setTransform(t,0,0,t,0,0),!0):!1}var jj=function(){let i=!1;try{let n={get passive(){return i=!0,!1}};_1()&&(window.addEventListener("test",null,n),window.removeEventListener("test",null,n))}catch{}return i}();function $R(i,n){let e=$2e(i,n),t=e&&e.match(/^(\d+)(\.\d+)?px$/);return t?+t[1]:void 0}function Hu(i,n,e,t){return{x:i.x+e*(n.x-i.x),y:i.y+e*(n.y-i.y)}}function Hj(i,n,e,t){return{x:i.x+e*(n.x-i.x),y:t==="middle"?e<.5?i.y:n.y:t==="after"?e<1?i.y:n.y:e>0?n.y:i.y}}function Gj(i,n,e,t){let r={x:i.cp2x,y:i.cp2y},o={x:n.cp1x,y:n.cp1y},s=Hu(i,r,e),a=Hu(r,o,e),l=Hu(o,n,e),c=Hu(s,a,e),d=Hu(a,l,e);return Hu(c,d,e)}var Q2e=function(i,n){return{x(e){return i+i+n-e},setWidth(e){n=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,t){return e-t},leftForLtr(e,t){return e-t}}},Z2e=function(){return{x(i){return i},setWidth(i){},textAlign(i){return i},xPlus(i,n){return i+n},leftForLtr(i,n){return i}}};function uh(i,n,e){return i?Q2e(n,e):Z2e()}function qR(i,n){let e,t;(n==="ltr"||n==="rtl")&&(e=i.canvas.style,t=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",n,"important"),i.prevTextDirection=t)}function YR(i,n){n!==void 0&&(delete i.prevTextDirection,i.canvas.style.setProperty("direction",n[0],n[1]))}function zj(i){return i==="angle"?{between:Nm,compare:g2e,normalize:$s}:{between:_c,compare:(n,e)=>n-e,normalize:n=>n}}function fj({start:i,end:n,count:e,loop:t,style:r}){return{start:i%e,end:n%e,loop:t&&(n-i+1)%e===0,style:r}}function eOe(i,n,e){let{property:t,start:r,end:o}=e,{between:s,normalize:a}=zj(t),l=n.length,{start:c,end:d,loop:p}=i,g,C;if(p){for(c+=l,d+=l,g=0,C=l;g<C&&s(a(n[c%l][t]),r,o);++g)c--,d--;c%=l,d%=l}return d<c&&(d+=l),{start:c,end:d,loop:p,style:i.style}}function JR(i,n,e){if(!e)return[i];let{property:t,start:r,end:o}=e,s=n.length,{compare:a,between:l,normalize:c}=zj(t),{start:d,end:p,loop:g,style:C}=eOe(i,n,e),y=[],v=!1,w=null,E,T,F,G=()=>l(r,F,E)&&a(r,F)!==0,z=()=>a(o,E)===0||l(o,F,E),X=()=>v||G(),ne=()=>!v||z();for(let Y=d,se=d;Y<=p;++Y)T=n[Y%s],!T.skip&&(E=c(T[t]),E!==F&&(v=l(E,r,o),w===null&&X()&&(w=a(E,r)===0?Y:se),w!==null&&ne()&&(y.push(fj({start:w,end:Y,loop:g,count:s,style:C})),w=null),se=Y,F=E));return w!==null&&y.push(fj({start:w,end:p,loop:g,count:s,style:C})),y}function XR(i,n){let e=[],t=i.segments;for(let r=0;r<t.length;r++){let o=JR(t[r],i.points,n);o.length&&e.push(...o)}return e}function tOe(i,n,e,t){let r=0,o=n-1;if(e&&!t)for(;r<n&&!i[r].skip;)r++;for(;r<n&&i[r].skip;)r++;for(r%=n,e&&(o+=r);o>r&&i[o%n].skip;)o--;return o%=n,{start:r,end:o}}function iOe(i,n,e,t){let r=i.length,o=[],s=n,a=i[n],l;for(l=n+1;l<=e;++l){let c=i[l%r];c.skip||c.stop?a.skip||(t=!1,o.push({start:n%r,end:(l-1)%r,loop:t}),n=s=c.stop?l:null):(s=l,a.skip&&(n=l)),a=c}return s!==null&&o.push({start:n%r,end:s%r,loop:t}),o}function Wj(i,n){let e=i.points,t=i.options.spanGaps,r=e.length;if(!r)return[];let o=!!i._loop,{start:s,end:a}=tOe(e,r,o,t);if(t===!0)return mj(i,[{start:s,end:a,loop:o}],e,n);let l=a<s?a+r:a,c=!!i._fullLoop&&s===0&&a===r-1;return mj(i,iOe(e,s,l,c),e,n)}function mj(i,n,e,t){return!t||!t.setContext||!e?n:nOe(i,n,e,t)}function nOe(i,n,e,t){let r=i._chart.getContext(),o=gj(i.options),{_datasetIndex:s,options:{spanGaps:a}}=i,l=e.length,c=[],d=o,p=n[0].start,g=p;function C(y,v,w,E){let T=a?-1:1;if(y!==v){for(y+=l;e[y%l].skip;)y-=T;for(;e[v%l].skip;)v+=T;y%l!==v%l&&(c.push({start:y%l,end:v%l,loop:w,style:E}),d=E,p=v%l)}}for(let y of n){p=a?p:y.start;let v=e[p%l],w;for(g=p+1;g<=y.end;g++){let E=e[g%l];w=gj(t.setContext(Ad(r,{type:"segment",p0:v,p1:E,p0DataIndex:(g-1)%l,p1DataIndex:g%l,datasetIndex:s}))),rOe(w,d)&&C(p,g-1,y.loop,d),v=E,d=w}p<g-1&&C(p,g-1,y.loop,d)}return c}function gj(i){return{backgroundColor:i.backgroundColor,borderCapStyle:i.borderCapStyle,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderJoinStyle:i.borderJoinStyle,borderWidth:i.borderWidth,borderColor:i.borderColor}}function rOe(i,n){if(!n)return!1;let e=[],t=function(r,o){return NR(o)?(e.includes(o)||e.push(o),e.indexOf(o)):o};return JSON.stringify(i,t)!==JSON.stringify(n,t)}var lP=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(n,e,t,r){let o=e.listeners[r],s=e.duration;o.forEach(a=>a({chart:n,initial:e.initial,numSteps:s,currentStep:Math.min(t-e.start,s)}))}_refresh(){this._request||(this._running=!0,this._request=kR.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(n=Date.now()){let e=0;this._charts.forEach((t,r)=>{if(!t.running||!t.items.length)return;let o=t.items,s=o.length-1,a=!1,l;for(;s>=0;--s)l=o[s],l._active?(l._total>t.duration&&(t.duration=l._total),l.tick(n),a=!0):(o[s]=o[o.length-1],o.pop());a&&(r.draw(),this._notify(r,t,n,"progress")),o.length||(t.running=!1,this._notify(r,t,n,"complete"),t.initial=!1),e+=o.length}),this._lastDate=n,e===0&&(this._running=!1)}_getAnims(n){let e=this._charts,t=e.get(n);return t||(t={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(n,t)),t}listen(n,e,t){this._getAnims(n).listeners[e].push(t)}add(n,e){!e||!e.length||this._getAnims(n).items.push(...e)}has(n){return this._getAnims(n).items.length>0}start(n){let e=this._charts.get(n);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((t,r)=>Math.max(t,r._duration),0),this._refresh())}running(n){if(!this._running)return!1;let e=this._charts.get(n);return!(!e||!e.running||!e.items.length)}stop(n){let e=this._charts.get(n);if(!e||!e.items.length)return;let t=e.items,r=t.length-1;for(;r>=0;--r)t[r].cancel();e.items=[],this._notify(n,e,Date.now(),"complete")}remove(n){return this._charts.delete(n)}},Ed=new lP,Kj="transparent",oOe={boolean(i,n,e){return e>.5?n:i},color(i,n,e){let t=VR(i||Kj),r=t.valid&&VR(n||Kj);return r&&r.valid?r.mix(t,e).hexString():n},number(i,n,e){return i+(n-i)*e}},cP=class{constructor(n,e,t,r){let o=e[t];r=Um([n.to,r,o,n.from]);let s=Um([n.from,o,r]);this._active=!0,this._fn=n.fn||oOe[n.type||typeof s],this._easing=Rm[n.easing]||Rm.linear,this._start=Math.floor(Date.now()+(n.delay||0)),this._duration=this._total=Math.floor(n.duration),this._loop=!!n.loop,this._target=e,this._prop=t,this._from=s,this._to=r,this._promises=void 0}active(){return this._active}update(n,e,t){if(this._active){this._notify(!1);let r=this._target[this._prop],o=t-this._start,s=this._duration-o;this._start=t,this._duration=Math.floor(Math.max(s,n.duration)),this._total+=o,this._loop=!!n.loop,this._to=Um([n.to,e,r,n.from]),this._from=Um([n.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(n){let e=n-this._start,t=this._duration,r=this._prop,o=this._from,s=this._loop,a=this._to,l;if(this._active=o!==a&&(s||e<t),!this._active){this._target[r]=a,this._notify(!0);return}if(e<0){this._target[r]=o;return}l=e/t%2,l=s&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[r]=this._fn(o,a,l)}wait(){let n=this._promises||(this._promises=[]);return new Promise((e,t)=>{n.push({res:e,rej:t})})}_notify(n){let e=n?"res":"rej",t=this._promises||[];for(let r=0;r<t.length;r++)t[r][e]()}},O1=class{constructor(n,e){this._chart=n,this._properties=new Map,this.configure(e)}configure(n){if(!sn(n))return;let e=Object.keys(hr.animation),t=this._properties;Object.getOwnPropertyNames(n).forEach(r=>{let o=n[r];if(!sn(o))return;let s={};for(let a of e)s[a]=o[a];(ar(o.properties)&&o.properties||[r]).forEach(a=>{(a===r||!t.has(a))&&t.set(a,s)})})}_animateOptions(n,e){let t=e.options,r=aOe(n,t);if(!r)return[];let o=this._createAnimations(r,t);return t.$shared&&sOe(n.options.$animations,t).then(()=>{n.options=t},()=>{}),o}_createAnimations(n,e){let t=this._properties,r=[],o=n.$animations||(n.$animations={}),s=Object.keys(e),a=Date.now(),l;for(l=s.length-1;l>=0;--l){let c=s[l];if(c.charAt(0)==="$")continue;if(c==="options"){r.push(...this._animateOptions(n,e));continue}let d=e[c],p=o[c],g=t.get(c);if(p)if(g&&p.active()){p.update(g,d,a);continue}else p.cancel();if(!g||!g.duration){n[c]=d;continue}o[c]=p=new cP(g,n,c,d),r.push(p)}return r}update(n,e){if(this._properties.size===0){Object.assign(n,e);return}let t=this._createAnimations(n,e);if(t.length)return Ed.add(this._chart,t),!0}};function sOe(i,n){let e=[],t=Object.keys(n);for(let r=0;r<t.length;r++){let o=i[t[r]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function aOe(i,n){if(!n)return;let e=i.options;if(!e){i.options=n;return}return e.$shared&&(i.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function $j(i,n){let e=i&&i.options||{},t=e.reverse,r=e.min===void 0?n:0,o=e.max===void 0?n:0;return{start:t?o:r,end:t?r:o}}function lOe(i,n,e){if(e===!1)return!1;let t=$j(i,e),r=$j(n,e);return{top:r.end,right:t.end,bottom:r.start,left:t.start}}function cOe(i){let n,e,t,r;return sn(i)?(n=i.top,e=i.right,t=i.bottom,r=i.left):n=e=t=r=i,{top:n,right:e,bottom:t,left:r,disabled:i===!1}}function KH(i,n){let e=[],t=i._getSortedDatasetMetas(n),r,o;for(r=0,o=t.length;r<o;++r)e.push(t[r].index);return e}function qj(i,n,e,t={}){let r=i.keys,o=t.mode==="single",s,a,l,c;if(n===null)return;let d=!1;for(s=0,a=r.length;s<a;++s){if(l=+r[s],l===e){if(d=!0,t.all)continue;break}c=i.values[l],Rr(c)&&(o||n===0||El(n)===El(c))&&(n+=c)}return!d&&!t.all?0:n}function dOe(i,n){let{iScale:e,vScale:t}=n,r=e.axis==="x"?"x":"y",o=t.axis==="x"?"x":"y",s=Object.keys(i),a=new Array(s.length),l,c,d;for(l=0,c=s.length;l<c;++l)d=s[l],a[l]={[r]:d,[o]:i[d]};return a}function QR(i,n){let e=i&&i.options.stacked;return e||e===void 0&&n.stack!==void 0}function uOe(i,n,e){return`${i.id}.${n.id}.${e.stack||e.type}`}function pOe(i){let{min:n,max:e,minDefined:t,maxDefined:r}=i.getUserBounds();return{min:t?n:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}function hOe(i,n,e){let t=i[n]||(i[n]={});return t[e]||(t[e]={})}function Yj(i,n,e,t){for(let r of n.getMatchingVisibleMetas(t).reverse()){let o=i[r.index];if(e&&o>0||!e&&o<0)return r.index}return null}function Jj(i,n){let{chart:e,_cachedMeta:t}=i,r=e._stacks||(e._stacks={}),{iScale:o,vScale:s,index:a}=t,l=o.axis,c=s.axis,d=uOe(o,s,t),p=n.length,g;for(let C=0;C<p;++C){let y=n[C],{[l]:v,[c]:w}=y,E=y._stacks||(y._stacks={});g=E[c]=hOe(r,d,v),g[a]=w,g._top=Yj(g,s,!0,t.type),g._bottom=Yj(g,s,!1,t.type);let T=g._visualValues||(g._visualValues={});T[a]=w}}function ZR(i,n){let e=i.scales;return Object.keys(e).filter(t=>e[t].axis===n).shift()}function fOe(i,n){return Ad(i,{active:!1,dataset:void 0,datasetIndex:n,index:n,mode:"default",type:"dataset"})}function mOe(i,n,e){return Ad(i,{active:!1,dataIndex:n,parsed:void 0,raw:void 0,element:e,index:n,mode:"default",type:"data"})}function G0(i,n){let e=i.controller.index,t=i.vScale&&i.vScale.axis;if(t){n=n||i._parsed;for(let r of n){let o=r._stacks;if(!o||o[t]===void 0||o[t][e]===void 0)return;delete o[t][e],o[t]._visualValues!==void 0&&o[t]._visualValues[e]!==void 0&&delete o[t]._visualValues[e]}}}var eP=i=>i==="reset"||i==="none",Xj=(i,n)=>n?i:Object.assign({},i),gOe=(i,n,e)=>i&&!n.hidden&&n._stacked&&{keys:KH(e,!0),values:null},Yu=(()=>{class i{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=QR(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&G0(this._cachedMeta),this.index=e}linkScales(){let e=this.chart,t=this._cachedMeta,r=this.getDataset(),o=(g,C,y,v)=>g==="x"?C:g==="r"?v:y,s=t.xAxisID=Pi(r.xAxisID,ZR(e,"x")),a=t.yAxisID=Pi(r.yAxisID,ZR(e,"y")),l=t.rAxisID=Pi(r.rAxisID,ZR(e,"r")),c=t.indexAxis,d=t.iAxisID=o(c,s,a,l),p=t.vAxisID=o(c,a,s,l);t.xScale=this.getScaleForId(s),t.yScale=this.getScaleForId(a),t.rScale=this.getScaleForId(l),t.iScale=this.getScaleForId(d),t.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){let t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){let e=this._cachedMeta;this._data&&RR(this._data,this),e._stacked&&G0(e)}_dataCheck(){let e=this.getDataset(),t=e.data||(e.data=[]),r=this._data;if(sn(t)){let o=this._cachedMeta;this._data=dOe(t,o)}else if(r!==t){if(r){RR(r,this);let o=this._cachedMeta;G0(o),o._parsed=[]}t&&Object.isExtensible(t)&&xj(t,this),this._syncList=[],this._data=t}}addElements(){let e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){let t=this._cachedMeta,r=this.getDataset(),o=!1;this._dataCheck();let s=t._stacked;t._stacked=QR(t.vScale,t),t.stack!==r.stack&&(o=!0,G0(t),t.stack=r.stack),this._resyncElements(e),(o||s!==t._stacked)&&(Jj(this,t._parsed),t._stacked=QR(t.vScale,t))}configure(){let e=this.chart.config,t=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){let{_cachedMeta:r,_data:o}=this,{iScale:s,_stacked:a}=r,l=s.axis,c=e===0&&t===o.length?!0:r._sorted,d=e>0&&r._parsed[e-1],p,g,C;if(this._parsing===!1)r._parsed=o,r._sorted=!0,C=o;else{ar(o[e])?C=this.parseArrayData(r,o,e,t):sn(o[e])?C=this.parseObjectData(r,o,e,t):C=this.parsePrimitiveData(r,o,e,t);let y=()=>g[l]===null||d&&g[l]<d[l];for(p=0;p<t;++p)r._parsed[p+e]=g=C[p],c&&(y()&&(c=!1),d=g);r._sorted=c}a&&Jj(this,C)}parsePrimitiveData(e,t,r,o){let{iScale:s,vScale:a}=e,l=s.axis,c=a.axis,d=s.getLabels(),p=s===a,g=new Array(o),C,y,v;for(C=0,y=o;C<y;++C)v=C+r,g[C]={[l]:p||s.parse(d[v],v),[c]:a.parse(t[v],v)};return g}parseArrayData(e,t,r,o){let{xScale:s,yScale:a}=e,l=new Array(o),c,d,p,g;for(c=0,d=o;c<d;++c)p=c+r,g=t[p],l[c]={x:s.parse(g[0],p),y:a.parse(g[1],p)};return l}parseObjectData(e,t,r,o){let{xScale:s,yScale:a}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=new Array(o),p,g,C,y;for(p=0,g=o;p<g;++p)C=p+r,y=t[C],d[p]={x:s.parse(Sd(y,l),C),y:a.parse(Sd(y,c),C)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,r){let o=this.chart,s=this._cachedMeta,a=t[e.axis],l={keys:KH(o,!0),values:t._stacks[e.axis]._visualValues};return qj(l,a,s.index,{mode:r})}updateRangeFromParsed(e,t,r,o){let s=r[t.axis],a=s===null?NaN:s,l=o&&r._stacks[t.axis];o&&l&&(o.values=l,a=qj(o,s,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,t){let r=this._cachedMeta,o=r._parsed,s=r._sorted&&e===r.iScale,a=o.length,l=this._getOtherScale(e),c=gOe(t,r,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:g}=pOe(l),C,y;function v(){y=o[C];let w=y[l.axis];return!Rr(y[e.axis])||p>w||g<w}for(C=0;C<a&&!(!v()&&(this.updateRangeFromParsed(d,e,y,c),s));++C);if(s){for(C=a-1;C>=0;--C)if(!v()){this.updateRangeFromParsed(d,e,y,c);break}}return d}getAllParsedValues(e){let t=this._cachedMeta._parsed,r=[],o,s,a;for(o=0,s=t.length;o<s;++o)a=t[o][e.axis],Rr(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(e){let t=this._cachedMeta,r=t.iScale,o=t.vScale,s=this.getParsed(e);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:o?""+o.getLabelForValue(s[o.axis]):""}}_update(e){let t=this._cachedMeta;this.update(e||"default"),t._clip=cOe(Pi(this.options.clip,lOe(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){let e=this._ctx,t=this.chart,r=this._cachedMeta,o=r.data||[],s=t.chartArea,a=[],l=this._drawStart||0,c=this._drawCount||o.length-l,d=this.options.drawActiveElementsOnTop,p;for(r.dataset&&r.dataset.draw(e,s,l,c),p=l;p<l+c;++p){let g=o[p];g.hidden||(g.active&&d?a.push(g):g.draw(e,s))}for(p=0;p<a.length;++p)a[p].draw(e,s)}getStyle(e,t){let r=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,t,r){let o=this.getDataset(),s;if(e>=0&&e<this._cachedMeta.data.length){let a=this._cachedMeta.data[e];s=a.$context||(a.$context=mOe(this.getContext(),e,a)),s.parsed=this.getParsed(e),s.raw=o.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=fOe(this.chart.getContext(),this.index)),s.dataset=o,s.index=s.datasetIndex=this.index;return s.active=!!t,s.mode=r,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",r){let o=t==="active",s=this._cachedDataOpts,a=e+"-"+t,l=s[a],c=this.enableOptionSharing&&Lm(r);if(l)return Xj(l,c);let d=this.chart.config,p=d.datasetElementScopeKeys(this._type,e),g=o?[`${e}Hover`,"hover",e,""]:[e,""],C=d.getOptionScopes(this.getDataset(),p),y=Object.keys(hr.elements[e]),v=()=>this.getContext(r,o,t),w=d.resolveNamedOptions(C,y,v,g);return w.$shared&&(w.$shared=c,s[a]=Object.freeze(Xj(w,c))),w}_resolveAnimations(e,t,r){let o=this.chart,s=this._cachedDataOpts,a=`animation-${t}`,l=s[a];if(l)return l;let c;if(o.options.animation!==!1){let p=this.chart.config,g=p.datasetAnimationScopeKeys(this._type,t),C=p.getOptionScopes(this.getDataset(),g);c=p.createResolver(C,this.getContext(e,r,t))}let d=new O1(o,c&&c.animations);return c&&c._cacheable&&(s[a]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||eP(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){let r=this.resolveDataElementOptions(e,t),o=this._sharedOptions,s=this.getSharedOptions(r),a=this.includeOptions(t,s)||s!==o;return this.updateSharedOptions(s,t,r),{sharedOptions:s,includeOptions:a}}updateElement(e,t,r,o){eP(o)?Object.assign(e,r):this._resolveAnimations(t,o).update(e,r)}updateSharedOptions(e,t,r){e&&!eP(t)&&this._resolveAnimations(void 0,t).update(e,r)}_setStyle(e,t,r,o){e.active=o;let s=this.getStyle(t,o);this._resolveAnimations(t,r,o).update(e,{options:!o&&this.getSharedOptions(s)||s})}removeHoverStyle(e,t,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,t,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){let t=this._data,r=this._cachedMeta.data;for(let[l,c,d]of this._syncList)this[l](c,d);this._syncList=[];let o=r.length,s=t.length,a=Math.min(s,o);a&&this.parse(0,a),s>o?this._insertElements(o,s-o,e):s<o&&this._removeElements(s,o-s)}_insertElements(e,t,r=!0){let o=this._cachedMeta,s=o.data,a=e+t,l,c=d=>{for(d.length+=t,l=d.length-1;l>=a;l--)d[l]=d[l-t]};for(c(s),l=e;l<a;++l)s[l]=new this.dataElementType;this._parsing&&c(o._parsed),this.parse(e,t),r&&this.updateElements(s,e,t,"reset")}updateElements(e,t,r,o){}_removeElements(e,t){let r=this._cachedMeta;if(this._parsing){let o=r._parsed.splice(e,t);r._stacked&&G0(r,o)}r.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{let[t,r,o]=e;this[t](r,o)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){let e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);let r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return i})();function _Oe(i,n){if(!i._cache.$bar){let e=i.getMatchingVisibleMetas(n),t=[];for(let r=0,o=e.length;r<o;r++)t=t.concat(e[r].controller.getAllParsedValues(i));i._cache.$bar=PR(t.sort((r,o)=>r-o))}return i._cache.$bar}function COe(i){let n=i.iScale,e=_Oe(n,i.type),t=n._length,r,o,s,a,l=()=>{s===32767||s===-32768||(Lm(a)&&(t=Math.min(t,Math.abs(s-a)||t)),a=s)};for(r=0,o=e.length;r<o;++r)s=n.getPixelForValue(e[r]),l();for(a=void 0,r=0,o=n.ticks.length;r<o;++r)s=n.getPixelForTick(r),l();return t}function yOe(i,n,e,t){let r=e.barThickness,o,s;return un(r)?(o=n.min*e.categoryPercentage,s=e.barPercentage):(o=r*t,s=1),{chunk:o/t,ratio:s,start:n.pixels[i]-o/2}}function IOe(i,n,e,t){let r=n.pixels,o=r[i],s=i>0?r[i-1]:null,a=i<r.length-1?r[i+1]:null,l=e.categoryPercentage;s===null&&(s=o-(a===null?n.end-n.start:a-o)),a===null&&(a=o+o-s);let c=o-(o-Math.min(s,a))/2*l;return{chunk:Math.abs(a-s)/2*l/t,ratio:e.barPercentage,start:c}}function vOe(i,n,e,t){let r=e.parse(i[0],t),o=e.parse(i[1],t),s=Math.min(r,o),a=Math.max(r,o),l=s,c=a;Math.abs(s)>Math.abs(a)&&(l=a,c=s),n[e.axis]=c,n._custom={barStart:l,barEnd:c,start:r,end:o,min:s,max:a}}function $H(i,n,e,t){return ar(i)?vOe(i,n,e,t):n[e.axis]=e.parse(i,t),n}function Qj(i,n,e,t){let r=i.iScale,o=i.vScale,s=r.getLabels(),a=r===o,l=[],c,d,p,g;for(c=e,d=e+t;c<d;++c)g=n[c],p={},p[r.axis]=a||r.parse(s[c],c),l.push($H(g,p,o,c));return l}function tP(i){return i&&i.barStart!==void 0&&i.barEnd!==void 0}function bOe(i,n,e){return i!==0?El(i):(n.isHorizontal()?1:-1)*(n.min>=e?1:-1)}function wOe(i){let n,e,t,r,o;return i.horizontal?(n=i.base>i.x,e="left",t="right"):(n=i.base<i.y,e="bottom",t="top"),n?(r="end",o="start"):(r="start",o="end"),{start:e,end:t,reverse:n,top:r,bottom:o}}function SOe(i,n,e,t){let r=n.borderSkipped,o={};if(!r){i.borderSkipped=o;return}if(r===!0){i.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:s,end:a,reverse:l,top:c,bottom:d}=wOe(i);r==="middle"&&e&&(i.enableBorderRadius=!0,(e._top||0)===t?r=c:(e._bottom||0)===t?r=d:(o[Zj(d,s,a,l)]=!0,r=c)),o[Zj(r,s,a,l)]=!0,i.borderSkipped=o}function Zj(i,n,e,t){return t?(i=AOe(i,n,e),i=eH(i,e,n)):i=eH(i,n,e),i}function AOe(i,n,e){return i===n?e:i===e?n:i}function eH(i,n,e){return i==="start"?n:i==="end"?e:i}function EOe(i,{inflateAmount:n},e){i.inflateAmount=n==="auto"?e===1?.33:0:n}var xOe=(()=>{class i extends Yu{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,t,r,o){return Qj(e,t,r,o)}parseArrayData(e,t,r,o){return Qj(e,t,r,o)}parseObjectData(e,t,r,o){let{iScale:s,vScale:a}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=s.axis==="x"?l:c,p=a.axis==="x"?l:c,g=[],C,y,v,w;for(C=r,y=r+o;C<y;++C)w=t[C],v={},v[s.axis]=s.parse(Sd(w,d),C),g.push($H(Sd(w,p),v,a,C));return g}updateRangeFromParsed(e,t,r,o){super.updateRangeFromParsed(e,t,r,o);let s=r._custom;s&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){let t=this._cachedMeta,{iScale:r,vScale:o}=t,s=this.getParsed(e),a=s._custom,l=tP(a)?"["+a.start+", "+a.end+"]":""+o.getLabelForValue(s[o.axis]);return{label:""+r.getLabelForValue(s[r.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();let e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){let t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,r,o){let s=o==="reset",{index:a,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),d=l.isHorizontal(),p=this._getRuler(),{sharedOptions:g,includeOptions:C}=this._getSharedOptions(t,o);for(let y=t;y<t+r;y++){let v=this.getParsed(y),w=s||un(v[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(y),E=this._calculateBarIndexPixels(y,p),T=(v._stacks||{})[l.axis],F={horizontal:d,base:w.base,enableBorderRadius:!T||tP(v._custom)||a===T._top||a===T._bottom,x:d?w.head:E.center,y:d?E.center:w.head,height:d?E.size:Math.abs(w.size),width:d?Math.abs(w.size):E.size};C&&(F.options=g||this.resolveDataElementOptions(y,e[y].active?"active":o));let G=F.options||e[y].options;SOe(F,G,T,a),EOe(F,G,p.ratio),this.updateElement(e[y],y,F,o)}}_getStacks(e,t){let{iScale:r}=this._cachedMeta,o=r.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),s=r.options.stacked,a=[],l=this._cachedMeta.controller.getParsed(t),c=l&&l[r.axis],d=p=>{let g=p._parsed.find(y=>y[r.axis]===c),C=g&&g[p.vScale.axis];if(un(C)||isNaN(C))return!0};for(let p of o)if(!(t!==void 0&&d(p))&&((s===!1||a.indexOf(p.stack)===-1||s===void 0&&p.stack===void 0)&&a.push(p.stack),p.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,r){let o=this._getStacks(e,r),s=t!==void 0?o.indexOf(t):-1;return s===-1?o.length-1:s}_getRuler(){let e=this.options,t=this._cachedMeta,r=t.iScale,o=[],s,a;for(s=0,a=t.data.length;s<a;++s)o.push(r.getPixelForValue(this.getParsed(s)[r.axis],s));let l=e.barThickness;return{min:l||COe(t),pixels:o,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){let{_cachedMeta:{vScale:t,_stacked:r,index:o},options:{base:s,minBarLength:a}}=this,l=s||0,c=this.getParsed(e),d=c._custom,p=tP(d),g=c[t.axis],C=0,y=r?this.applyStack(t,c,r):g,v,w;y!==g&&(C=y-g,y=g),p&&(g=d.barStart,y=d.barEnd-d.barStart,g!==0&&El(g)!==El(d.barEnd)&&(C=0),C+=g);let E=!un(s)&&!p?s:C,T=t.getPixelForValue(E);if(this.chart.getDataVisibility(e)?v=t.getPixelForValue(C+y):v=T,w=v-T,Math.abs(w)<a){w=bOe(w,t,l)*a,g===l&&(T-=w/2);let F=t.getPixelForDecimal(0),G=t.getPixelForDecimal(1),z=Math.min(F,G),X=Math.max(F,G);T=Math.max(Math.min(T,X),z),v=T+w,r&&!p&&(c._stacks[t.axis]._visualValues[o]=t.getValueForPixel(v)-t.getValueForPixel(T))}if(T===t.getPixelForValue(l)){let F=El(w)*t.getLineWidthForValue(l)/2;T+=F,w-=F}return{size:w,base:T,head:v,center:v+w/2}}_calculateBarIndexPixels(e,t){let r=t.scale,o=this.options,s=o.skipNull,a=Pi(o.maxBarThickness,1/0),l,c;if(t.grouped){let d=s?this._getStackCount(e):t.stackCount,p=o.barThickness==="flex"?IOe(e,t,o,d):yOe(e,t,o,d),g=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0);l=p.start+p.chunk*g+p.chunk/2,c=Math.min(a,p.chunk*p.ratio)}else l=r.getPixelForValue(this.getParsed(e)[r.axis],e),c=Math.min(a,t.min*t.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){let e=this._cachedMeta,t=e.vScale,r=e.data,o=r.length,s=0;for(;s<o;++s)this.getParsed(s)[t.axis]!==null&&!r[s].hidden&&r[s].draw(this._ctx)}}return i})(),TOe=(()=>{class i extends Yu{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,r,o){let s=super.parsePrimitiveData(e,t,r,o);for(let a=0;a<s.length;a++)s[a]._custom=this.resolveDataElementOptions(a+r).radius;return s}parseArrayData(e,t,r,o){let s=super.parseArrayData(e,t,r,o);for(let a=0;a<s.length;a++){let l=t[r+a];s[a]._custom=Pi(l[2],this.resolveDataElementOptions(a+r).radius)}return s}parseObjectData(e,t,r,o){let s=super.parseObjectData(e,t,r,o);for(let a=0;a<s.length;a++){let l=t[r+a];s[a]._custom=Pi(l&&l.r&&+l.r,this.resolveDataElementOptions(a+r).radius)}return s}getMaxOverflow(){let e=this._cachedMeta.data,t=0;for(let r=e.length-1;r>=0;--r)t=Math.max(t,e[r].size(this.resolveDataElementOptions(r))/2);return t>0&&t}getLabelAndValue(e){let t=this._cachedMeta,r=this.chart.data.labels||[],{xScale:o,yScale:s}=t,a=this.getParsed(e),l=o.getLabelForValue(a.x),c=s.getLabelForValue(a.y),d=a._custom;return{label:r[e]||"",value:"("+l+", "+c+(d?", "+d:"")+")"}}update(e){let t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,r,o){let s=o==="reset",{iScale:a,vScale:l}=this._cachedMeta,{sharedOptions:c,includeOptions:d}=this._getSharedOptions(t,o),p=a.axis,g=l.axis;for(let C=t;C<t+r;C++){let y=e[C],v=!s&&this.getParsed(C),w={},E=w[p]=s?a.getPixelForDecimal(.5):a.getPixelForValue(v[p]),T=w[g]=s?l.getBasePixel():l.getPixelForValue(v[g]);w.skip=isNaN(E)||isNaN(T),d&&(w.options=c||this.resolveDataElementOptions(C,y.active?"active":o),s&&(w.options.radius=0)),this.updateElement(y,C,w,o)}}resolveDataElementOptions(e,t){let r=this.getParsed(e),o=super.resolveDataElementOptions(e,t);o.$shared&&(o=Object.assign({},o,{$shared:!1}));let s=o.radius;return t!=="active"&&(o.radius=0),o.radius+=Pi(r&&r._custom,s),o}}return i})();function OOe(i,n,e){let t=1,r=1,o=0,s=0;if(n<cr){let a=i,l=a+n,c=Math.cos(a),d=Math.sin(a),p=Math.cos(l),g=Math.sin(l),C=(F,G,z)=>Nm(F,a,l,!0)?1:Math.max(G,G*e,z,z*e),y=(F,G,z)=>Nm(F,a,l,!0)?-1:Math.min(G,G*e,z,z*e),v=C(0,c,p),w=C(Br,d,g),E=y(lr,c,p),T=y(lr+Br,d,g);t=(v-E)/2,r=(w-T)/2,o=-(v+E)/2,s=-(w+T)/2}return{ratioX:t,ratioY:r,offsetX:o,offsetY:s}}var OP=(()=>{class i extends Yu{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let t=e.data;if(t.labels.length&&t.datasets.length){let{labels:{pointStyle:r,color:o}}=e.legend.options;return t.labels.map((s,a)=>{let c=e.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:o,lineWidth:c.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,t,r){r.chart.toggleDataVisibility(t.index),r.chart.update()}}}};constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){let r=this.getDataset().data,o=this._cachedMeta;if(this._parsing===!1)o._parsed=r;else{let s=c=>+r[c];if(sn(r[e])){let{key:c="value"}=this._parsing;s=d=>+Sd(r[d],c)}let a,l;for(a=e,l=e+t;a<l;++a)o._parsed[a]=s(a)}}_getRotation(){return Ya(this.options.rotation-90)}_getCircumference(){return Ya(this.options.circumference)}_getRotationExtents(){let e=cr,t=-cr;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){let o=this.chart.getDatasetMeta(r).controller,s=o._getRotation(),a=o._getCircumference();e=Math.min(e,s),t=Math.max(t,s+a)}return{rotation:e,circumference:t-e}}update(e){let t=this.chart,{chartArea:r}=t,o=this._cachedMeta,s=o.data,a=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,l=Math.max((Math.min(r.width,r.height)-a)/2,0),c=Math.min(Cj(this.options.cutout,l),1),d=this._getRingWeight(this.index),{circumference:p,rotation:g}=this._getRotationExtents(),{ratioX:C,ratioY:y,offsetX:v,offsetY:w}=OOe(g,p,c),E=(r.width-a)/C,T=(r.height-a)/y,F=Math.max(Math.min(E,T)/2,0),G=AR(this.options.radius,F),z=Math.max(G*c,0),X=(G-z)/this._getVisibleDatasetWeightTotal();this.offsetX=v*G,this.offsetY=w*G,o.total=this.calculateTotal(),this.outerRadius=G-X*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-X*d,0),this.updateElements(s,0,s.length,e)}_circumference(e,t){let r=this.options,o=this._cachedMeta,s=this._getCircumference();return t&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||o._parsed[e]===null||o.data[e].hidden?0:this.calculateCircumference(o._parsed[e]*s/cr)}updateElements(e,t,r,o){let s=o==="reset",a=this.chart,l=a.chartArea,d=a.options.animation,p=(l.left+l.right)/2,g=(l.top+l.bottom)/2,C=s&&d.animateScale,y=C?0:this.innerRadius,v=C?0:this.outerRadius,{sharedOptions:w,includeOptions:E}=this._getSharedOptions(t,o),T=this._getRotation(),F;for(F=0;F<t;++F)T+=this._circumference(F,s);for(F=t;F<t+r;++F){let G=this._circumference(F,s),z=e[F],X={x:p+this.offsetX,y:g+this.offsetY,startAngle:T,endAngle:T+G,circumference:G,outerRadius:v,innerRadius:y};E&&(X.options=w||this.resolveDataElementOptions(F,z.active?"active":o)),T+=G,this.updateElement(z,F,X,o)}}calculateTotal(){let e=this._cachedMeta,t=e.data,r=0,o;for(o=0;o<t.length;o++){let s=e._parsed[o];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(o)&&!t[o].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(e){let t=this._cachedMeta.total;return t>0&&!isNaN(e)?cr*(Math.abs(e)/t):0}getLabelAndValue(e){let t=this._cachedMeta,r=this.chart,o=r.data.labels||[],s=Vm(t._parsed[e],r.options.locale);return{label:o[e]||"",value:s}}getMaxBorderWidth(e){let t=0,r=this.chart,o,s,a,l,c;if(!e){for(o=0,s=r.data.datasets.length;o<s;++o)if(r.isDatasetVisible(o)){a=r.getDatasetMeta(o),e=a.data,l=a.controller;break}}if(!e)return 0;for(o=0,s=e.length;o<s;++o)c=l.resolveDataElementOptions(o),c.borderAlign!=="inner"&&(t=Math.max(t,c.borderWidth||0,c.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let r=0,o=e.length;r<o;++r){let s=this.resolveDataElementOptions(r);t=Math.max(t,s.offset||0,s.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(t+=this._getRingWeight(r));return t}_getRingWeight(e){return Math.max(Pi(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return i})(),DOe=(()=>{class i extends Yu{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){let t=this._cachedMeta,{dataset:r,data:o=[],_dataset:s}=t,a=this.chart._animationsDisabled,{start:l,count:c}=LR(t,o,a);this._drawStart=l,this._drawCount=c,MR(t)&&(l=0,c=o.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=o;let d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(r,void 0,{animated:!a,options:d},e),this.updateElements(o,l,c,e)}updateElements(e,t,r,o){let s=o==="reset",{iScale:a,vScale:l,_stacked:c,_dataset:d}=this._cachedMeta,{sharedOptions:p,includeOptions:g}=this._getSharedOptions(t,o),C=a.axis,y=l.axis,{spanGaps:v,segment:w}=this.options,E=dh(v)?v:Number.POSITIVE_INFINITY,T=this.chart._animationsDisabled||s||o==="none",F=t+r,G=e.length,z=t>0&&this.getParsed(t-1);for(let X=0;X<G;++X){let ne=e[X],Y=T?ne:{};if(X<t||X>=F){Y.skip=!0;continue}let se=this.getParsed(X),ye=un(se[y]),Ce=Y[C]=a.getPixelForValue(se[C],X),we=Y[y]=s||ye?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,se,c):se[y],X);Y.skip=isNaN(Ce)||isNaN(we)||ye,Y.stop=X>0&&Math.abs(se[C]-z[C])>E,w&&(Y.parsed=se,Y.raw=d.data[X]),g&&(Y.options=p||this.resolveDataElementOptions(X,ne.active?"active":o)),T||this.updateElement(ne,X,Y,o),z=se}}getMaxOverflow(){let e=this._cachedMeta,t=e.dataset,r=t.options&&t.options.borderWidth||0,o=e.data||[];if(!o.length)return r;let s=o[0].size(this.resolveDataElementOptions(0)),a=o[o.length-1].size(this.resolveDataElementOptions(o.length-1));return Math.max(r,s,a)/2}draw(){let e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}return i})(),qH=(()=>{class i extends Yu{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let t=e.data;if(t.labels.length&&t.datasets.length){let{labels:{pointStyle:r,color:o}}=e.legend.options;return t.labels.map((s,a)=>{let c=e.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:o,lineWidth:c.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,t,r){r.chart.toggleDataVisibility(t.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){let t=this._cachedMeta,r=this.chart,o=r.data.labels||[],s=Vm(t._parsed[e].r,r.options.locale);return{label:o[e]||"",value:s}}parseObjectData(e,t,r,o){return WR.bind(this)(e,t,r,o)}update(e){let t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){let e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((r,o)=>{let s=this.getParsed(o).r;!isNaN(s)&&this.chart.getDataVisibility(o)&&(s<t.min&&(t.min=s),s>t.max&&(t.max=s))}),t}_updateRadius(){let e=this.chart,t=e.chartArea,r=e.options,o=Math.min(t.right-t.left,t.bottom-t.top),s=Math.max(o/2,0),a=Math.max(r.cutoutPercentage?s/100*r.cutoutPercentage:1,0),l=(s-a)/e.getVisibleDatasetCount();this.outerRadius=s-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(e,t,r,o){let s=o==="reset",a=this.chart,c=a.options.animation,d=this._cachedMeta.rScale,p=d.xCenter,g=d.yCenter,C=d.getIndexAngle(0)-.5*lr,y=C,v,w=360/this.countVisibleElements();for(v=0;v<t;++v)y+=this._computeAngle(v,o,w);for(v=t;v<t+r;v++){let E=e[v],T=y,F=y+this._computeAngle(v,o,w),G=a.getDataVisibility(v)?d.getDistanceFromCenterForValue(this.getParsed(v).r):0;y=F,s&&(c.animateScale&&(G=0),c.animateRotate&&(T=F=C));let z={x:p,y:g,innerRadius:0,outerRadius:G,startAngle:T,endAngle:F,options:this.resolveDataElementOptions(v,E.active?"active":o)};this.updateElement(E,v,z,o)}}countVisibleElements(){let e=this._cachedMeta,t=0;return e.data.forEach((r,o)=>{!isNaN(this.getParsed(o).r)&&this.chart.getDataVisibility(o)&&t++}),t}_computeAngle(e,t,r){return this.chart.getDataVisibility(e)?Ya(this.resolveDataElementOptions(e,t).angle||r):0}}return i})(),ROe=(()=>{class i extends OP{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}return i})(),POe=(()=>{class i extends Yu{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){let t=this._cachedMeta.vScale,r=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(r[t.axis])}}parseObjectData(e,t,r,o){return WR.bind(this)(e,t,r,o)}update(e){let t=this._cachedMeta,r=t.dataset,o=t.data||[],s=t.iScale.getLabels();if(r.points=o,e!=="resize"){let a=this.resolveDatasetElementOptions(e);this.options.showLine||(a.borderWidth=0);let l={_loop:!0,_fullLoop:s.length===o.length,options:a};this.updateElement(r,void 0,l,e)}this.updateElements(o,0,o.length,e)}updateElements(e,t,r,o){let s=this._cachedMeta.rScale,a=o==="reset";for(let l=t;l<t+r;l++){let c=e[l],d=this.resolveDataElementOptions(l,c.active?"active":o),p=s.getPointPositionForValue(l,this.getParsed(l).r),g=a?s.xCenter:p.x,C=a?s.yCenter:p.y,y={x:g,y:C,angle:p.angle,skip:isNaN(g)||isNaN(C),options:d};this.updateElement(c,l,y,o)}}}return i})(),kOe=(()=>{class i extends Yu{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){let t=this._cachedMeta,r=this.chart.data.labels||[],{xScale:o,yScale:s}=t,a=this.getParsed(e),l=o.getLabelForValue(a.x),c=s.getLabelForValue(a.y);return{label:r[e]||"",value:"("+l+", "+c+")"}}update(e){let t=this._cachedMeta,{data:r=[]}=t,o=this.chart._animationsDisabled,{start:s,count:a}=LR(t,r,o);if(this._drawStart=s,this._drawCount=a,MR(t)&&(s=0,a=r.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:l,_dataset:c}=t;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!c._decimated,l.points=r;let d=this.resolveDatasetElementOptions(e);d.segment=this.options.segment,this.updateElement(l,void 0,{animated:!o,options:d},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(r,s,a,e)}addElements(){let{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,r,o){let s=o==="reset",{iScale:a,vScale:l,_stacked:c,_dataset:d}=this._cachedMeta,p=this.resolveDataElementOptions(t,o),g=this.getSharedOptions(p),C=this.includeOptions(o,g),y=a.axis,v=l.axis,{spanGaps:w,segment:E}=this.options,T=dh(w)?w:Number.POSITIVE_INFINITY,F=this.chart._animationsDisabled||s||o==="none",G=t>0&&this.getParsed(t-1);for(let z=t;z<t+r;++z){let X=e[z],ne=this.getParsed(z),Y=F?X:{},se=un(ne[v]),ye=Y[y]=a.getPixelForValue(ne[y],z),Ce=Y[v]=s||se?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,ne,c):ne[v],z);Y.skip=isNaN(ye)||isNaN(Ce)||se,Y.stop=z>0&&Math.abs(ne[y]-G[y])>T,E&&(Y.parsed=ne,Y.raw=d.data[z]),C&&(Y.options=g||this.resolveDataElementOptions(z,X.active?"active":o)),F||this.updateElement(X,z,Y,o),G=ne}this.updateSharedOptions(g,o,p)}getMaxOverflow(){let e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let l=0;for(let c=t.length-1;c>=0;--c)l=Math.max(l,t[c].size(this.resolveDataElementOptions(c))/2);return l>0&&l}let r=e.dataset,o=r.options&&r.options.borderWidth||0;if(!t.length)return o;let s=t[0].size(this.resolveDataElementOptions(0)),a=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(o,s,a)/2}}return i})(),FOe=Object.freeze({__proto__:null,BarController:xOe,BubbleController:TOe,DoughnutController:OP,LineController:DOe,PieController:ROe,PolarAreaController:qH,RadarController:POe,ScatterController:kOe});function ph(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var dP=class i{static override(n){Object.assign(i.prototype,n)}options;constructor(n){this.options=n||{}}init(){}formats(){return ph()}parse(){return ph()}format(){return ph()}add(){return ph()}diff(){return ph()}startOf(){return ph()}endOf(){return ph()}},LOe={_date:dP};function MOe(i,n,e,t){let{controller:r,data:o,_sorted:s}=i,a=r._cachedMeta.iScale;if(a&&n===a.axis&&n!=="r"&&s&&o.length){let l=a._reversePixels?Sj:fc;if(t){if(r._sharedOptions){let c=o[0],d=typeof c.getRange=="function"&&c.getRange(n);if(d){let p=l(o,n,e-d),g=l(o,n,e+d);return{lo:p.lo,hi:g.hi}}}}else return l(o,n,e)}return{lo:0,hi:o.length-1}}function Z0(i,n,e,t,r){let o=i.getSortedVisibleDatasetMetas(),s=e[n];for(let a=0,l=o.length;a<l;++a){let{index:c,data:d}=o[a],{lo:p,hi:g}=MOe(o[a],n,s,r);for(let C=p;C<=g;++C){let y=d[C];y.skip||t(y,c,C)}}}function NOe(i){let n=i.indexOf("x")!==-1,e=i.indexOf("y")!==-1;return function(t,r){let o=n?Math.abs(t.x-r.x):0,s=e?Math.abs(t.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(s,2))}}function iP(i,n,e,t,r){let o=[];return!r&&!i.isPointInArea(n)||Z0(i,e,n,function(a,l,c){!r&&!mc(a,i.chartArea,0)||a.inRange(n.x,n.y,t)&&o.push({element:a,datasetIndex:l,index:c})},!0),o}function VOe(i,n,e,t){let r=[];function o(s,a,l){let{startAngle:c,endAngle:d}=s.getProps(["startAngle","endAngle"],t),{angle:p}=DR(s,{x:n.x,y:n.y});Nm(p,c,d)&&r.push({element:s,datasetIndex:a,index:l})}return Z0(i,e,n,o),r}function BOe(i,n,e,t,r,o){let s=[],a=NOe(e),l=Number.POSITIVE_INFINITY;function c(d,p,g){let C=d.inRange(n.x,n.y,r);if(t&&!C)return;let y=d.getCenterPoint(r);if(!(!!o||i.isPointInArea(y))&&!C)return;let w=a(n,y);w<l?(s=[{element:d,datasetIndex:p,index:g}],l=w):w===l&&s.push({element:d,datasetIndex:p,index:g})}return Z0(i,e,n,c),s}function nP(i,n,e,t,r,o){return!o&&!i.isPointInArea(n)?[]:e==="r"&&!t?VOe(i,n,e,r):BOe(i,n,e,t,r,o)}function tH(i,n,e,t,r){let o=[],s=e==="x"?"inXRange":"inYRange",a=!1;return Z0(i,e,n,(l,c,d)=>{l[s]&&l[s](n[e],r)&&(o.push({element:l,datasetIndex:c,index:d}),a=a||l.inRange(n.x,n.y,r))}),t&&!a?[]:o}var UOe={evaluateInteractionItems:Z0,modes:{index(i,n,e,t){let r=$u(n,i),o=e.axis||"x",s=e.includeInvisible||!1,a=e.intersect?iP(i,r,o,t,s):nP(i,r,o,!1,t,s),l=[];return a.length?(i.getSortedVisibleDatasetMetas().forEach(c=>{let d=a[0].index,p=c.data[d];p&&!p.skip&&l.push({element:p,datasetIndex:c.index,index:d})}),l):[]},dataset(i,n,e,t){let r=$u(n,i),o=e.axis||"xy",s=e.includeInvisible||!1,a=e.intersect?iP(i,r,o,t,s):nP(i,r,o,!1,t,s);if(a.length>0){let l=a[0].datasetIndex,c=i.getDatasetMeta(l).data;a=[];for(let d=0;d<c.length;++d)a.push({element:c[d],datasetIndex:l,index:d})}return a},point(i,n,e,t){let r=$u(n,i),o=e.axis||"xy",s=e.includeInvisible||!1;return iP(i,r,o,t,s)},nearest(i,n,e,t){let r=$u(n,i),o=e.axis||"xy",s=e.includeInvisible||!1;return nP(i,r,o,e.intersect,t,s)},x(i,n,e,t){let r=$u(n,i);return tH(i,r,"x",e.intersect,t)},y(i,n,e,t){let r=$u(n,i);return tH(i,r,"y",e.intersect,t)}}},YH=["left","top","right","bottom"];function z0(i,n){return i.filter(e=>e.pos===n)}function iH(i,n){return i.filter(e=>YH.indexOf(e.pos)===-1&&e.box.axis===n)}function W0(i,n){return i.sort((e,t)=>{let r=n?t:e,o=n?e:t;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function jOe(i){let n=[],e,t,r,o,s,a;for(e=0,t=(i||[]).length;e<t;++e)r=i[e],{position:o,options:{stack:s,stackWeight:a=1}}=r,n.push({index:e,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:s&&o+s,stackWeight:a});return n}function HOe(i){let n={};for(let e of i){let{stack:t,pos:r,stackWeight:o}=e;if(!t||!YH.includes(r))continue;let s=n[t]||(n[t]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=o}return n}function GOe(i,n){let e=HOe(i),{vBoxMaxWidth:t,hBoxMaxHeight:r}=n,o,s,a;for(o=0,s=i.length;o<s;++o){a=i[o];let{fullSize:l}=a.box,c=e[a.stack],d=c&&a.stackWeight/c.weight;a.horizontal?(a.width=d?d*t:l&&n.availableWidth,a.height=r):(a.width=t,a.height=d?d*r:l&&n.availableHeight)}return e}function zOe(i){let n=jOe(i),e=W0(n.filter(c=>c.box.fullSize),!0),t=W0(z0(n,"left"),!0),r=W0(z0(n,"right")),o=W0(z0(n,"top"),!0),s=W0(z0(n,"bottom")),a=iH(n,"x"),l=iH(n,"y");return{fullSize:e,leftAndTop:t.concat(o),rightAndBottom:r.concat(l).concat(s).concat(a),chartArea:z0(n,"chartArea"),vertical:t.concat(r).concat(l),horizontal:o.concat(s).concat(a)}}function nH(i,n,e,t){return Math.max(i[e],n[e])+Math.max(i[t],n[t])}function JH(i,n){i.top=Math.max(i.top,n.top),i.left=Math.max(i.left,n.left),i.bottom=Math.max(i.bottom,n.bottom),i.right=Math.max(i.right,n.right)}function WOe(i,n,e,t){let{pos:r,box:o}=e,s=i.maxPadding;if(!sn(r)){e.size&&(i[r]-=e.size);let p=t[e.stack]||{size:0,count:1};p.size=Math.max(p.size,e.horizontal?o.height:o.width),e.size=p.size/p.count,i[r]+=e.size}o.getPadding&&JH(s,o.getPadding());let a=Math.max(0,n.outerWidth-nH(s,i,"left","right")),l=Math.max(0,n.outerHeight-nH(s,i,"top","bottom")),c=a!==i.w,d=l!==i.h;return i.w=a,i.h=l,e.horizontal?{same:c,other:d}:{same:d,other:c}}function KOe(i){let n=i.maxPadding;function e(t){let r=Math.max(n[t]-i[t],0);return i[t]+=r,r}i.y+=e("top"),i.x+=e("left"),e("right"),e("bottom")}function $Oe(i,n){let e=n.maxPadding;function t(r){let o={left:0,top:0,right:0,bottom:0};return r.forEach(s=>{o[s]=Math.max(n[s],e[s])}),o}return t(i?["left","right"]:["top","bottom"])}function q0(i,n,e,t){let r=[],o,s,a,l,c,d;for(o=0,s=i.length,c=0;o<s;++o){a=i[o],l=a.box,l.update(a.width||n.w,a.height||n.h,$Oe(a.horizontal,n));let{same:p,other:g}=WOe(n,e,a,t);c|=p&&r.length,d=d||g,l.fullSize||r.push(a)}return c&&q0(r,n,e,t)||d}function I1(i,n,e,t,r){i.top=e,i.left=n,i.right=n+t,i.bottom=e+r,i.width=t,i.height=r}function rH(i,n,e,t){let r=e.padding,{x:o,y:s}=n;for(let a of i){let l=a.box,c=t[a.stack]||{count:1,placed:0,weight:1},d=a.stackWeight/c.weight||1;if(a.horizontal){let p=n.w*d,g=c.size||l.height;Lm(c.start)&&(s=c.start),l.fullSize?I1(l,r.left,s,e.outerWidth-r.right-r.left,g):I1(l,n.left+c.placed,s,p,g),c.start=s,c.placed+=p,s=l.bottom}else{let p=n.h*d,g=c.size||l.width;Lm(c.start)&&(o=c.start),l.fullSize?I1(l,o,r.top,g,e.outerHeight-r.bottom-r.top):I1(l,o,n.top+c.placed,g,p),c.start=o,c.placed+=p,o=l.right}}n.x=o,n.y=s}var as={addBox(i,n){i.boxes||(i.boxes=[]),n.fullSize=n.fullSize||!1,n.position=n.position||"top",n.weight=n.weight||0,n._layers=n._layers||function(){return[{z:0,draw(e){n.draw(e)}}]},i.boxes.push(n)},removeBox(i,n){let e=i.boxes?i.boxes.indexOf(n):-1;e!==-1&&i.boxes.splice(e,1)},configure(i,n,e){n.fullSize=e.fullSize,n.position=e.position,n.weight=e.weight},update(i,n,e,t){if(!i)return;let r=Yo(i.options.layout.padding),o=Math.max(n-r.width,0),s=Math.max(e-r.height,0),a=zOe(i.boxes),l=a.vertical,c=a.horizontal;kn(i.boxes,v=>{typeof v.beforeLayout=="function"&&v.beforeLayout()});let d=l.reduce((v,w)=>w.box.options&&w.box.options.display===!1?v:v+1,0)||1,p=Object.freeze({outerWidth:n,outerHeight:e,padding:r,availableWidth:o,availableHeight:s,vBoxMaxWidth:o/2/d,hBoxMaxHeight:s/2}),g=Object.assign({},r);JH(g,Yo(t));let C=Object.assign({maxPadding:g,w:o,h:s,x:r.left,y:r.top},r),y=GOe(l.concat(c),p);q0(a.fullSize,C,p,y),q0(l,C,p,y),q0(c,C,p,y)&&q0(l,C,p,y),KOe(C),rH(a.leftAndTop,C,p,y),C.x+=C.w,C.y+=C.h,rH(a.rightAndBottom,C,p,y),i.chartArea={left:C.left,top:C.top,right:C.left+C.w,bottom:C.top+C.h,height:C.h,width:C.w},kn(a.chartArea,v=>{let w=v.box;Object.assign(w,i.chartArea),w.update(C.w,C.h,{left:0,top:0,right:0,bottom:0})})}},D1=class{acquireContext(n,e){}releaseContext(n){return!1}addEventListener(n,e,t){}removeEventListener(n,e,t){}getDevicePixelRatio(){return 1}getMaximumSize(n,e,t,r){return e=Math.max(0,e||n.width),t=t||n.height,{width:e,height:Math.max(0,r?Math.floor(e/r):t)}}isAttached(n){return!0}updateConfig(n){}},uP=class extends D1{acquireContext(n){return n&&n.getContext&&n.getContext("2d")||null}updateConfig(n){n.options.animation=!1}},x1="$chartjs",qOe={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},oH=i=>i===null||i==="";function YOe(i,n){let e=i.style,t=i.getAttribute("height"),r=i.getAttribute("width");if(i[x1]={initial:{height:t,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",oH(r)){let o=$R(i,"width");o!==void 0&&(i.width=o)}if(oH(t))if(i.style.height==="")i.height=i.width/(n||2);else{let o=$R(i,"height");o!==void 0&&(i.height=o)}return i}var XH=jj?{passive:!0}:!1;function JOe(i,n,e){i&&i.addEventListener(n,e,XH)}function XOe(i,n,e){i&&i.canvas&&i.canvas.removeEventListener(n,e,XH)}function QOe(i,n){let e=qOe[i.type]||i.type,{x:t,y:r}=$u(i,n);return{type:e,chart:n,native:i,x:t!==void 0?t:null,y:r!==void 0?r:null}}function R1(i,n){for(let e of i)if(e===n||e.contains(n))return!0}function ZOe(i,n,e){let t=i.canvas,r=new MutationObserver(o=>{let s=!1;for(let a of o)s=s||R1(a.addedNodes,t),s=s&&!R1(a.removedNodes,t);s&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function eDe(i,n,e){let t=i.canvas,r=new MutationObserver(o=>{let s=!1;for(let a of o)s=s||R1(a.removedNodes,t),s=s&&!R1(a.addedNodes,t);s&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}var J0=new Map,sH=0;function QH(){let i=window.devicePixelRatio;i!==sH&&(sH=i,J0.forEach((n,e)=>{e.currentDevicePixelRatio!==i&&n()}))}function tDe(i,n){J0.size||window.addEventListener("resize",QH),J0.set(i,n)}function iDe(i){J0.delete(i),J0.size||window.removeEventListener("resize",QH)}function nDe(i,n,e){let t=i.canvas,r=t&&C1(t);if(!r)return;let o=FR((a,l)=>{let c=r.clientWidth;e(a,l),c<r.clientWidth&&e()},window),s=new ResizeObserver(a=>{let l=a[0],c=l.contentRect.width,d=l.contentRect.height;c===0&&d===0||o(c,d)});return s.observe(r),tDe(i,o),s}function rP(i,n,e){e&&e.disconnect(),n==="resize"&&iDe(i)}function rDe(i,n,e){let t=i.canvas,r=FR(o=>{i.ctx!==null&&e(QOe(o,i))},i);return JOe(t,n,r),r}var pP=class extends D1{acquireContext(n,e){let t=n&&n.getContext&&n.getContext("2d");return t&&t.canvas===n?(YOe(n,e),t):null}releaseContext(n){let e=n.canvas;if(!e[x1])return!1;let t=e[x1].initial;["height","width"].forEach(o=>{let s=t[o];un(s)?e.removeAttribute(o):e.setAttribute(o,s)});let r=t.style||{};return Object.keys(r).forEach(o=>{e.style[o]=r[o]}),e.width=e.width,delete e[x1],!0}addEventListener(n,e,t){this.removeEventListener(n,e);let r=n.$proxies||(n.$proxies={}),s={attach:ZOe,detach:eDe,resize:nDe}[e]||rDe;r[e]=s(n,e,t)}removeEventListener(n,e){let t=n.$proxies||(n.$proxies={}),r=t[e];if(!r)return;({attach:rP,detach:rP,resize:rP}[e]||XOe)(n,e,r),t[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(n,e,t,r){return Uj(n,e,t,r)}isAttached(n){let e=n&&C1(n);return!!(e&&e.isConnected)}};function oDe(i){return!_1()||typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas?uP:pP}var xl=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(n){let{x:e,y:t}=this.getProps(["x","y"],n);return{x:e,y:t}}hasValue(){return dh(this.x)&&dh(this.y)}getProps(n,e){let t=this.$animations;if(!e||!t)return this;let r={};return n.forEach(o=>{r[o]=t[o]&&t[o].active()?t[o]._to:this[o]}),r}};function sDe(i,n){let e=i.options.ticks,t=aDe(i),r=Math.min(e.maxTicksLimit||t,t),o=e.major.enabled?cDe(n):[],s=o.length,a=o[0],l=o[s-1],c=[];if(s>r)return dDe(n,c,o,s/r),c;let d=lDe(o,n,r);if(s>0){let p,g,C=s>1?Math.round((l-a)/(s-1)):null;for(v1(n,c,d,un(C)?0:a-C,a),p=0,g=s-1;p<g;p++)v1(n,c,d,o[p],o[p+1]);return v1(n,c,d,l,un(C)?n.length:l+C),c}return v1(n,c,d),c}function aDe(i){let n=i.options.offset,e=i._tickSize(),t=i._length/e+(n?0:1),r=i._maxLength/e;return Math.floor(Math.min(t,r))}function lDe(i,n,e){let t=uDe(i),r=n.length/e;if(!t)return Math.max(r,1);let o=vj(t);for(let s=0,a=o.length-1;s<a;s++){let l=o[s];if(l>r)return l}return Math.max(r,1)}function cDe(i){let n=[],e,t;for(e=0,t=i.length;e<t;e++)i[e].major&&n.push(e);return n}function dDe(i,n,e,t){let r=0,o=e[0],s;for(t=Math.ceil(t),s=0;s<i.length;s++)s===o&&(n.push(i[s]),r++,o=e[r*t])}function v1(i,n,e,t,r){let o=Pi(t,0),s=Math.min(Pi(r,i.length),i.length),a=0,l,c,d;for(e=Math.ceil(e),r&&(l=r-t,e=l/Math.floor(l/e)),d=o;d<0;)a++,d=Math.round(o+a*e);for(c=Math.max(o,0);c<s;c++)c===d&&(n.push(i[c]),a++,d=Math.round(o+a*e))}function uDe(i){let n=i.length,e,t;if(n<2)return!1;for(t=i[0],e=1;e<n;++e)if(i[e]-i[e-1]!==t)return!1;return t}var pDe=i=>i==="left"?"right":i==="right"?"left":i,aH=(i,n,e)=>n==="top"||n==="left"?i[n]+e:i[n]-e,lH=(i,n)=>Math.min(n||i,i);function cH(i,n){let e=[],t=i.length/n,r=i.length,o=0;for(;o<r;o+=t)e.push(i[Math.floor(o)]);return e}function hDe(i,n,e){let t=i.ticks.length,r=Math.min(n,t-1),o=i._startPixel,s=i._endPixel,a=1e-6,l=i.getPixelForTick(r),c;if(!(e&&(t===1?c=Math.max(l-o,s-l):n===0?c=(i.getPixelForTick(1)-l)/2:c=(l-i.getPixelForTick(r-1))/2,l+=r<n?c:-c,l<o-a||l>s+a)))return l}function fDe(i,n){kn(i,e=>{let t=e.gc,r=t.length/2,o;if(r>n){for(o=0;o<r;++o)delete e.data[t[o]];t.splice(0,r)}})}function K0(i){return i.drawTicks?i.tickLength:0}function dH(i,n){if(!i.display)return 0;let e=so(i.font,n),t=Yo(i.padding);return(ar(i.text)?i.text.length:1)*e.lineHeight+t.height}function mDe(i,n){return Ad(i,{scale:n,type:"scale"})}function gDe(i,n,e){return Ad(i,{tick:e,index:n,type:"tick"})}function _De(i,n,e){let t=p1(i);return(e&&n!=="right"||!e&&n==="right")&&(t=pDe(t)),t}function CDe(i,n,e,t){let{top:r,left:o,bottom:s,right:a,chart:l}=i,{chartArea:c,scales:d}=l,p=0,g,C,y,v=s-r,w=a-o;if(i.isHorizontal()){if(C=qo(t,o,a),sn(e)){let E=Object.keys(e)[0],T=e[E];y=d[E].getPixelForValue(T)+v-n}else e==="center"?y=(c.bottom+c.top)/2+v-n:y=aH(i,e,n);g=a-o}else{if(sn(e)){let E=Object.keys(e)[0],T=e[E];C=d[E].getPixelForValue(T)-w+n}else e==="center"?C=(c.left+c.right)/2-w+n:C=aH(i,e,n);y=qo(t,s,r),p=e==="left"?-Br:Br}return{titleX:C,titleY:y,maxWidth:g,rotation:p}}var fh=class i extends xl{constructor(n){super(),this.id=n.id,this.type=n.type,this.options=void 0,this.ctx=n.ctx,this.chart=n.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(n){this.options=n.setContext(this.getContext()),this.axis=n.axis,this._userMin=this.parse(n.min),this._userMax=this.parse(n.max),this._suggestedMin=this.parse(n.suggestedMin),this._suggestedMax=this.parse(n.suggestedMax)}parse(n,e){return n}getUserBounds(){let{_userMin:n,_userMax:e,_suggestedMin:t,_suggestedMax:r}=this;return n=qs(n,Number.POSITIVE_INFINITY),e=qs(e,Number.NEGATIVE_INFINITY),t=qs(t,Number.POSITIVE_INFINITY),r=qs(r,Number.NEGATIVE_INFINITY),{min:qs(n,t),max:qs(e,r),minDefined:Rr(n),maxDefined:Rr(e)}}getMinMax(n){let{min:e,max:t,minDefined:r,maxDefined:o}=this.getUserBounds(),s;if(r&&o)return{min:e,max:t};let a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)s=a[l].controller.getMinMax(this,n),r||(e=Math.min(e,s.min)),o||(t=Math.max(t,s.max));return e=o&&e>t?t:e,t=r&&e>t?e:t,{min:qs(e,qs(t,e)),max:qs(t,qs(e,t))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let n=this.chart.data;return this.options.labels||(this.isHorizontal()?n.xLabels:n.yLabels)||n.labels||[]}getLabelItems(n=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(n))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Yn(this.options.beforeUpdate,[this])}update(n,e,t){let{beginAtZero:r,grace:o,ticks:s}=this.options,a=s.sampleSize;this.beforeUpdate(),this.maxWidth=n,this.maxHeight=e,this._margins=t=Object.assign({left:0,right:0,top:0,bottom:0},t),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+t.left+t.right:this.height+t.top+t.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Fj(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let l=a<this.ticks.length;this._convertTicksToLabels(l?cH(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||s.source==="auto")&&(this.ticks=sDe(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let n=this.options.reverse,e,t;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,n=!n),this._startPixel=e,this._endPixel=t,this._reversePixels=n,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Yn(this.options.afterUpdate,[this])}beforeSetDimensions(){Yn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Yn(this.options.afterSetDimensions,[this])}_callHooks(n){this.chart.notifyPlugins(n,this.getContext()),Yn(this.options[n],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Yn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(n){let e=this.options.ticks,t,r,o;for(t=0,r=n.length;t<r;t++)o=n[t],o.label=Yn(e.callback,[o.value,t,n],this)}afterTickToLabelConversion(){Yn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Yn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let n=this.options,e=n.ticks,t=lH(this.ticks.length,n.ticks.maxTicksLimit),r=e.minRotation||0,o=e.maxRotation,s=r,a,l,c;if(!this._isVisible()||!e.display||r>=o||t<=1||!this.isHorizontal()){this.labelRotation=r;return}let d=this._getLabelSizes(),p=d.widest.width,g=d.highest.height,C=yo(this.chart.width-p,0,this.maxWidth);a=n.offset?this.maxWidth/t:C/(t-1),p+6>a&&(a=C/(t-(n.offset?.5:1)),l=this.maxHeight-K0(n.grid)-e.padding-dH(n.title,this.chart.options.font),c=Math.sqrt(p*p+g*g),s=d1(Math.min(Math.asin(yo((d.highest.height+6)/a,-1,1)),Math.asin(yo(l/c,-1,1))-Math.asin(yo(g/c,-1,1)))),s=Math.max(r,Math.min(o,s))),this.labelRotation=s}afterCalculateLabelRotation(){Yn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Yn(this.options.beforeFit,[this])}fit(){let n={width:0,height:0},{chart:e,options:{ticks:t,title:r,grid:o}}=this,s=this._isVisible(),a=this.isHorizontal();if(s){let l=dH(r,e.options.font);if(a?(n.width=this.maxWidth,n.height=K0(o)+l):(n.height=this.maxHeight,n.width=K0(o)+l),t.display&&this.ticks.length){let{first:c,last:d,widest:p,highest:g}=this._getLabelSizes(),C=t.padding*2,y=Ya(this.labelRotation),v=Math.cos(y),w=Math.sin(y);if(a){let E=t.mirror?0:w*p.width+v*g.height;n.height=Math.min(this.maxHeight,n.height+E+C)}else{let E=t.mirror?0:v*p.width+w*g.height;n.width=Math.min(this.maxWidth,n.width+E+C)}this._calculatePadding(c,d,w,v)}}this._handleMargins(),a?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=n.height):(this.width=n.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(n,e,t,r){let{ticks:{align:o,padding:s},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){let d=this.getPixelForTick(0)-this.left,p=this.right-this.getPixelForTick(this.ticks.length-1),g=0,C=0;l?c?(g=r*n.width,C=t*e.height):(g=t*n.height,C=r*e.width):o==="start"?C=e.width:o==="end"?g=n.width:o!=="inner"&&(g=n.width/2,C=e.width/2),this.paddingLeft=Math.max((g-d+s)*this.width/(this.width-d),0),this.paddingRight=Math.max((C-p+s)*this.width/(this.width-p),0)}else{let d=e.height/2,p=n.height/2;o==="start"?(d=0,p=n.height):o==="end"&&(d=e.height,p=0),this.paddingTop=d+s,this.paddingBottom=p+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Yn(this.options.afterFit,[this])}isHorizontal(){let{axis:n,position:e}=this.options;return e==="top"||e==="bottom"||n==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(n){this.beforeTickToLabelConversion(),this.generateTickLabels(n);let e,t;for(e=0,t=n.length;e<t;e++)un(n[e].label)&&(n.splice(e,1),t--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let n=this._labelSizes;if(!n){let e=this.options.ticks.sampleSize,t=this.ticks;e<t.length&&(t=cH(t,e)),this._labelSizes=n=this._computeLabelSizes(t,t.length,this.options.ticks.maxTicksLimit)}return n}_computeLabelSizes(n,e,t){let{ctx:r,_longestTextCache:o}=this,s=[],a=[],l=Math.floor(e/lH(e,t)),c=0,d=0,p,g,C,y,v,w,E,T,F,G,z;for(p=0;p<e;p+=l){if(y=n[p].label,v=this._resolveTickFontOptions(p),r.font=w=v.string,E=o[w]=o[w]||{data:{},gc:[]},T=v.lineHeight,F=G=0,!un(y)&&!ar(y))F=V0(r,E.data,E.gc,F,y),G=T;else if(ar(y))for(g=0,C=y.length;g<C;++g)z=y[g],!un(z)&&!ar(z)&&(F=V0(r,E.data,E.gc,F,z),G+=T);s.push(F),a.push(G),c=Math.max(F,c),d=Math.max(G,d)}fDe(o,e);let X=s.indexOf(c),ne=a.indexOf(d),Y=se=>({width:s[se]||0,height:a[se]||0});return{first:Y(0),last:Y(e-1),widest:Y(X),highest:Y(ne),widths:s,heights:a}}getLabelForValue(n){return n}getPixelForValue(n,e){return NaN}getValueForPixel(n){}getPixelForTick(n){let e=this.ticks;return n<0||n>e.length-1?null:this.getPixelForValue(e[n].value)}getPixelForDecimal(n){this._reversePixels&&(n=1-n);let e=this._startPixel+n*this._length;return wj(this._alignToPixels?zu(this.chart,e,0):e)}getDecimalForPixel(n){let e=(n-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:n,max:e}=this;return n<0&&e<0?e:n>0&&e>0?n:0}getContext(n){let e=this.ticks||[];if(n>=0&&n<e.length){let t=e[n];return t.$context||(t.$context=gDe(this.getContext(),n,t))}return this.$context||(this.$context=mDe(this.chart.getContext(),this))}_tickSize(){let n=this.options.ticks,e=Ya(this.labelRotation),t=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),o=this._getLabelSizes(),s=n.autoSkipPadding||0,a=o?o.widest.width+s:0,l=o?o.highest.height+s:0;return this.isHorizontal()?l*t>a*r?a/t:l/r:l*r<a*t?l/t:a/r}_isVisible(){let n=this.options.display;return n!=="auto"?!!n:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(n){let e=this.axis,t=this.chart,r=this.options,{grid:o,position:s,border:a}=r,l=o.offset,c=this.isHorizontal(),p=this.ticks.length+(l?1:0),g=K0(o),C=[],y=a.setContext(this.getContext()),v=y.display?y.width:0,w=v/2,E=function(Ot){return zu(t,Ot,v)},T,F,G,z,X,ne,Y,se,ye,Ce,we,Be;if(s==="top")T=E(this.bottom),ne=this.bottom-g,se=T-w,Ce=E(n.top)+w,Be=n.bottom;else if(s==="bottom")T=E(this.top),Ce=n.top,Be=E(n.bottom)-w,ne=T+w,se=this.top+g;else if(s==="left")T=E(this.right),X=this.right-g,Y=T-w,ye=E(n.left)+w,we=n.right;else if(s==="right")T=E(this.left),ye=n.left,we=E(n.right)-w,X=T+w,Y=this.left+g;else if(e==="x"){if(s==="center")T=E((n.top+n.bottom)/2+.5);else if(sn(s)){let Ot=Object.keys(s)[0],di=s[Ot];T=E(this.chart.scales[Ot].getPixelForValue(di))}Ce=n.top,Be=n.bottom,ne=T+w,se=ne+g}else if(e==="y"){if(s==="center")T=E((n.left+n.right)/2);else if(sn(s)){let Ot=Object.keys(s)[0],di=s[Ot];T=E(this.chart.scales[Ot].getPixelForValue(di))}X=T-w,Y=X-g,ye=n.left,we=n.right}let Fe=Pi(r.ticks.maxTicksLimit,p),Qe=Math.max(1,Math.ceil(p/Fe));for(F=0;F<p;F+=Qe){let Ot=this.getContext(F),di=o.setContext(Ot),xi=a.setContext(Ot),Ni=di.lineWidth,Gt=di.color,Gi=xi.dash||[],oi=xi.dashOffset,li=di.tickWidth,Nt=di.tickColor,ti=di.tickBorderDash||[],pi=di.tickBorderDashOffset;G=hDe(this,F,l),G!==void 0&&(z=zu(t,G,Ni),c?X=Y=ye=we=z:ne=se=Ce=Be=z,C.push({tx1:X,ty1:ne,tx2:Y,ty2:se,x1:ye,y1:Ce,x2:we,y2:Be,width:Ni,color:Gt,borderDash:Gi,borderDashOffset:oi,tickWidth:li,tickColor:Nt,tickBorderDash:ti,tickBorderDashOffset:pi}))}return this._ticksLength=p,this._borderValue=T,C}_computeLabelItems(n){let e=this.axis,t=this.options,{position:r,ticks:o}=t,s=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:d,mirror:p}=o,g=K0(t.grid),C=g+d,y=p?-d:C,v=-Ya(this.labelRotation),w=[],E,T,F,G,z,X,ne,Y,se,ye,Ce,we,Be="middle";if(r==="top")X=this.bottom-y,ne=this._getXAxisLabelAlignment();else if(r==="bottom")X=this.top+y,ne=this._getXAxisLabelAlignment();else if(r==="left"){let Qe=this._getYAxisLabelAlignment(g);ne=Qe.textAlign,z=Qe.x}else if(r==="right"){let Qe=this._getYAxisLabelAlignment(g);ne=Qe.textAlign,z=Qe.x}else if(e==="x"){if(r==="center")X=(n.top+n.bottom)/2+C;else if(sn(r)){let Qe=Object.keys(r)[0],Ot=r[Qe];X=this.chart.scales[Qe].getPixelForValue(Ot)+C}ne=this._getXAxisLabelAlignment()}else if(e==="y"){if(r==="center")z=(n.left+n.right)/2-C;else if(sn(r)){let Qe=Object.keys(r)[0],Ot=r[Qe];z=this.chart.scales[Qe].getPixelForValue(Ot)}ne=this._getYAxisLabelAlignment(g).textAlign}e==="y"&&(l==="start"?Be="top":l==="end"&&(Be="bottom"));let Fe=this._getLabelSizes();for(E=0,T=a.length;E<T;++E){F=a[E],G=F.label;let Qe=o.setContext(this.getContext(E));Y=this.getPixelForTick(E)+o.labelOffset,se=this._resolveTickFontOptions(E),ye=se.lineHeight,Ce=ar(G)?G.length:1;let Ot=Ce/2,di=Qe.color,xi=Qe.textStrokeColor,Ni=Qe.textStrokeWidth,Gt=ne;s?(z=Y,ne==="inner"&&(E===T-1?Gt=this.options.reverse?"left":"right":E===0?Gt=this.options.reverse?"right":"left":Gt="center"),r==="top"?c==="near"||v!==0?we=-Ce*ye+ye/2:c==="center"?we=-Fe.highest.height/2-Ot*ye+ye:we=-Fe.highest.height+ye/2:c==="near"||v!==0?we=ye/2:c==="center"?we=Fe.highest.height/2-Ot*ye:we=Fe.highest.height-Ce*ye,p&&(we*=-1),v!==0&&!Qe.showLabelBackdrop&&(z+=ye/2*Math.sin(v))):(X=Y,we=(1-Ce)*ye/2);let Gi;if(Qe.showLabelBackdrop){let oi=Yo(Qe.backdropPadding),li=Fe.heights[E],Nt=Fe.widths[E],ti=we-oi.top,pi=0-oi.left;switch(Be){case"middle":ti-=li/2;break;case"bottom":ti-=li;break}switch(ne){case"center":pi-=Nt/2;break;case"right":pi-=Nt;break;case"inner":E===T-1?pi-=Nt:E>0&&(pi-=Nt/2);break}Gi={left:pi,top:ti,width:Nt+oi.width,height:li+oi.height,color:Qe.backdropColor}}w.push({label:G,font:se,textOffset:we,options:{rotation:v,color:di,strokeColor:xi,strokeWidth:Ni,textAlign:Gt,textBaseline:Be,translation:[z,X],backdrop:Gi}})}return w}_getXAxisLabelAlignment(){let{position:n,ticks:e}=this.options;if(-Ya(this.labelRotation))return n==="top"?"left":"right";let r="center";return e.align==="start"?r="left":e.align==="end"?r="right":e.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(n){let{position:e,ticks:{crossAlign:t,mirror:r,padding:o}}=this.options,s=this._getLabelSizes(),a=n+o,l=s.widest.width,c,d;return e==="left"?r?(d=this.right+o,t==="near"?c="left":t==="center"?(c="center",d+=l/2):(c="right",d+=l)):(d=this.right-a,t==="near"?c="right":t==="center"?(c="center",d-=l/2):(c="left",d=this.left)):e==="right"?r?(d=this.left+o,t==="near"?c="right":t==="center"?(c="center",d-=l/2):(c="left",d-=l)):(d=this.left+a,t==="near"?c="left":t==="center"?(c="center",d+=l/2):(c="right",d=this.right)):c="right",{textAlign:c,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;let n=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:n.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:n.width}}drawBackground(){let{ctx:n,options:{backgroundColor:e},left:t,top:r,width:o,height:s}=this;e&&(n.save(),n.fillStyle=e,n.fillRect(t,r,o,s),n.restore())}getLineWidthForValue(n){let e=this.options.grid;if(!this._isVisible()||!e.display)return 0;let r=this.ticks.findIndex(o=>o.value===n);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(n){let e=this.options.grid,t=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(n)),o,s,a=(l,c,d)=>{!d.width||!d.color||(t.save(),t.lineWidth=d.width,t.strokeStyle=d.color,t.setLineDash(d.borderDash||[]),t.lineDashOffset=d.borderDashOffset,t.beginPath(),t.moveTo(l.x,l.y),t.lineTo(c.x,c.y),t.stroke(),t.restore())};if(e.display)for(o=0,s=r.length;o<s;++o){let l=r[o];e.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),e.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){let{chart:n,ctx:e,options:{border:t,grid:r}}=this,o=t.setContext(this.getContext()),s=t.display?o.width:0;if(!s)return;let a=r.setContext(this.getContext(0)).lineWidth,l=this._borderValue,c,d,p,g;this.isHorizontal()?(c=zu(n,this.left,s)-s/2,d=zu(n,this.right,a)+a/2,p=g=l):(p=zu(n,this.top,s)-s/2,g=zu(n,this.bottom,a)+a/2,c=d=l),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(c,p),e.lineTo(d,g),e.stroke(),e.restore()}drawLabels(n){if(!this.options.ticks.display)return;let t=this.ctx,r=this._computeLabelArea();r&&j0(t,r);let o=this.getLabelItems(n);for(let s of o){let a=s.options,l=s.font,c=s.label,d=s.textOffset;Wu(t,c,0,d,l,a)}r&&H0(t)}drawTitle(){let{ctx:n,options:{position:e,title:t,reverse:r}}=this;if(!t.display)return;let o=so(t.font),s=Yo(t.padding),a=t.align,l=o.lineHeight/2;e==="bottom"||e==="center"||sn(e)?(l+=s.bottom,ar(t.text)&&(l+=o.lineHeight*(t.text.length-1))):l+=s.top;let{titleX:c,titleY:d,maxWidth:p,rotation:g}=CDe(this,l,e,a);Wu(n,t.text,0,0,o,{color:t.color,maxWidth:p,rotation:g,textAlign:_De(a,e,r),textBaseline:"middle",translation:[c,d]})}draw(n){this._isVisible()&&(this.drawBackground(),this.drawGrid(n),this.drawBorder(),this.drawTitle(),this.drawLabels(n))}_layers(){let n=this.options,e=n.ticks&&n.ticks.z||0,t=Pi(n.grid&&n.grid.z,-1),r=Pi(n.border&&n.border.z,0);return!this._isVisible()||this.draw!==i.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:t,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(n){let e=this.chart.getSortedVisibleDatasetMetas(),t=this.axis+"AxisID",r=[],o,s;for(o=0,s=e.length;o<s;++o){let a=e[o];a[t]===this.id&&(!n||a.type===n)&&r.push(a)}return r}_resolveTickFontOptions(n){let e=this.options.ticks.setContext(this.getContext(n));return so(e.font)}_maxDigits(){let n=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/n}},Hm=class{constructor(n,e,t){this.type=n,this.scope=e,this.override=t,this.items=Object.create(null)}isForType(n){return Object.prototype.isPrototypeOf.call(this.type.prototype,n.prototype)}register(n){let e=Object.getPrototypeOf(n),t;vDe(e)&&(t=this.register(e));let r=this.items,o=n.id,s=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+n);return o in r||(r[o]=n,yDe(n,s,t),this.override&&hr.override(n.id,n.overrides)),s}get(n){return this.items[n]}unregister(n){let e=this.items,t=n.id,r=this.scope;t in e&&delete e[t],r&&t in hr[r]&&(delete hr[r][t],this.override&&delete Gu[t])}};function yDe(i,n,e){let t=Pm(Object.create(null),[e?hr.get(e):{},hr.get(n),i.defaults]);hr.set(n,t),i.defaultRoutes&&IDe(n,i.defaultRoutes),i.descriptors&&hr.describe(n,i.descriptors)}function IDe(i,n){Object.keys(n).forEach(e=>{let t=e.split("."),r=t.pop(),o=[i].concat(t).join("."),s=n[e].split("."),a=s.pop(),l=s.join(".");hr.route(o,r,l,a)})}function vDe(i){return"id"in i&&"defaults"in i}var hP=class{constructor(){this.controllers=new Hm(Yu,"datasets",!0),this.elements=new Hm(xl,"elements"),this.plugins=new Hm(Object,"plugins"),this.scales=new Hm(fh,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...n){this._each("register",n)}remove(...n){this._each("unregister",n)}addControllers(...n){this._each("register",n,this.controllers)}addElements(...n){this._each("register",n,this.elements)}addPlugins(...n){this._each("register",n,this.plugins)}addScales(...n){this._each("register",n,this.scales)}getController(n){return this._get(n,this.controllers,"controller")}getElement(n){return this._get(n,this.elements,"element")}getPlugin(n){return this._get(n,this.plugins,"plugin")}getScale(n){return this._get(n,this.scales,"scale")}removeControllers(...n){this._each("unregister",n,this.controllers)}removeElements(...n){this._each("unregister",n,this.elements)}removePlugins(...n){this._each("unregister",n,this.plugins)}removeScales(...n){this._each("unregister",n,this.scales)}_each(n,e,t){[...e].forEach(r=>{let o=t||this._getRegistryForType(r);t||o.isForType(r)||o===this.plugins&&r.id?this._exec(n,o,r):kn(r,s=>{let a=t||this._getRegistryForType(s);this._exec(n,a,s)})})}_exec(n,e,t){let r=c1(n);Yn(t["before"+r],[],t),e[n](t),Yn(t["after"+r],[],t)}_getRegistryForType(n){for(let e=0;e<this._typedRegistries.length;e++){let t=this._typedRegistries[e];if(t.isForType(n))return t}return this.plugins}_get(n,e,t){let r=e.get(n);if(r===void 0)throw new Error('"'+n+'" is not a registered '+t+".");return r}},yc=new hP,fP=class{constructor(){this._init=[]}notify(n,e,t,r){e==="beforeInit"&&(this._init=this._createDescriptors(n,!0),this._notify(this._init,n,"install"));let o=r?this._descriptors(n).filter(r):this._descriptors(n),s=this._notify(o,n,e,t);return e==="afterDestroy"&&(this._notify(o,n,"stop"),this._notify(this._init,n,"uninstall")),s}_notify(n,e,t,r){r=r||{};for(let o of n){let s=o.plugin,a=s[t],l=[e,r,o.options];if(Yn(a,l,s)===!1&&r.cancelable)return!1}return!0}invalidate(){un(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(n){if(this._cache)return this._cache;let e=this._cache=this._createDescriptors(n);return this._notifyStateChanges(n),e}_createDescriptors(n,e){let t=n&&n.config,r=Pi(t.options&&t.options.plugins,{}),o=bDe(t);return r===!1&&!e?[]:SDe(n,o,r,e)}_notifyStateChanges(n){let e=this._oldCache||[],t=this._cache,r=(o,s)=>o.filter(a=>!s.some(l=>a.plugin.id===l.plugin.id));this._notify(r(e,t),n,"stop"),this._notify(r(t,e),n,"start")}};function bDe(i){let n={},e=[],t=Object.keys(yc.plugins.items);for(let o=0;o<t.length;o++)e.push(yc.getPlugin(t[o]));let r=i.plugins||[];for(let o=0;o<r.length;o++){let s=r[o];e.indexOf(s)===-1&&(e.push(s),n[s.id]=!0)}return{plugins:e,localIds:n}}function wDe(i,n){return!n&&i===!1?null:i===!0?{}:i}function SDe(i,{plugins:n,localIds:e},t,r){let o=[],s=i.getContext();for(let a of n){let l=a.id,c=wDe(t[l],r);c!==null&&o.push({plugin:a,options:ADe(i.config,{plugin:a,local:e[l]},c,s)})}return o}function ADe(i,{plugin:n,local:e},t,r){let o=i.pluginScopeKeys(n),s=i.getOptionScopes(t,o);return e&&n.defaults&&s.push(n.defaults),i.createResolver(s,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function mP(i,n){let e=hr.datasets[i]||{};return((n.datasets||{})[i]||{}).indexAxis||n.indexAxis||e.indexAxis||"x"}function EDe(i,n){let e=i;return i==="_index_"?e=n:i==="_value_"&&(e=n==="x"?"y":"x"),e}function xDe(i,n){return i===n?"_index_":"_value_"}function uH(i){if(i==="x"||i==="y"||i==="r")return i}function TDe(i){if(i==="top"||i==="bottom")return"x";if(i==="left"||i==="right")return"y"}function gP(i,...n){if(uH(i))return i;for(let e of n){let t=e.axis||TDe(e.position)||i.length>1&&uH(i[0].toLowerCase());if(t)return t}throw new Error(`Cannot determine type of '${i}' axis. Please provide 'axis' or 'position' option.`)}function pH(i,n,e){if(e[n+"AxisID"]===i)return{axis:n}}function ODe(i,n){if(n.data&&n.data.datasets){let e=n.data.datasets.filter(t=>t.xAxisID===i||t.yAxisID===i);if(e.length)return pH(i,"x",e[0])||pH(i,"y",e[0])}return{}}function DDe(i,n){let e=Gu[i.type]||{scales:{}},t=n.scales||{},r=mP(i.type,n),o=Object.create(null);return Object.keys(t).forEach(s=>{let a=t[s];if(!sn(a))return console.error(`Invalid scale configuration for scale: ${s}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${s}`);let l=gP(s,a,ODe(s,i),hr.scales[a.type]),c=xDe(l,r),d=e.scales||{};o[s]=Fm(Object.create(null),[{axis:l},a,d[l],d[c]])}),i.data.datasets.forEach(s=>{let a=s.type||i.type,l=s.indexAxis||mP(a,n),d=(Gu[a]||{}).scales||{};Object.keys(d).forEach(p=>{let g=EDe(p,l),C=s[g+"AxisID"]||g;o[C]=o[C]||Object.create(null),Fm(o[C],[{axis:g},t[C],d[p]])})}),Object.keys(o).forEach(s=>{let a=o[s];Fm(a,[hr.scales[a.type],hr.scale])}),o}function ZH(i){let n=i.options||(i.options={});n.plugins=Pi(n.plugins,{}),n.scales=DDe(i,n)}function eG(i){return i=i||{},i.datasets=i.datasets||[],i.labels=i.labels||[],i}function RDe(i){return i=i||{},i.data=eG(i.data),ZH(i),i}var hH=new Map,tG=new Set;function b1(i,n){let e=hH.get(i);return e||(e=n(),hH.set(i,e),tG.add(e)),e}var $0=(i,n,e)=>{let t=Sd(n,e);t!==void 0&&i.add(t)},_P=class{constructor(n){this._config=RDe(n),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(n){this._config.type=n}get data(){return this._config.data}set data(n){this._config.data=eG(n)}get options(){return this._config.options}set options(n){this._config.options=n}get plugins(){return this._config.plugins}update(){let n=this._config;this.clearCache(),ZH(n)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(n){return b1(n,()=>[[`datasets.${n}`,""]])}datasetAnimationScopeKeys(n,e){return b1(`${n}.transition.${e}`,()=>[[`datasets.${n}.transitions.${e}`,`transitions.${e}`],[`datasets.${n}`,""]])}datasetElementScopeKeys(n,e){return b1(`${n}-${e}`,()=>[[`datasets.${n}.elements.${e}`,`datasets.${n}`,`elements.${e}`,""]])}pluginScopeKeys(n){let e=n.id,t=this.type;return b1(`${t}-plugin-${e}`,()=>[[`plugins.${e}`,...n.additionalOptionScopes||[]]])}_cachedScopes(n,e){let t=this._scopeCache,r=t.get(n);return(!r||e)&&(r=new Map,t.set(n,r)),r}getOptionScopes(n,e,t){let{options:r,type:o}=this,s=this._cachedScopes(n,t),a=s.get(e);if(a)return a;let l=new Set;e.forEach(d=>{n&&(l.add(n),d.forEach(p=>$0(l,n,p))),d.forEach(p=>$0(l,r,p)),d.forEach(p=>$0(l,Gu[o]||{},p)),d.forEach(p=>$0(l,hr,p)),d.forEach(p=>$0(l,h1,p))});let c=Array.from(l);return c.length===0&&c.push(Object.create(null)),tG.has(e)&&s.set(e,c),c}chartOptionScopes(){let{options:n,type:e}=this;return[n,Gu[e]||{},hr.datasets[e]||{},{type:e},hr,h1]}resolveNamedOptions(n,e,t,r=[""]){let o={$shared:!0},{resolver:s,subPrefixes:a}=fH(this._resolverCache,n,r),l=s;if(kDe(s,e)){o.$shared=!1,t=bd(t)?t():t;let c=this.createResolver(n,t,a);l=ch(s,t,c)}for(let c of e)o[c]=l[c];return o}createResolver(n,e,t=[""],r){let{resolver:o}=fH(this._resolverCache,n,t);return sn(e)?ch(o,e,void 0,r):o}};function fH(i,n,e){let t=i.get(n);t||(t=new Map,i.set(n,t));let r=e.join(),o=t.get(r);return o||(o={resolver:g1(n,e),subPrefixes:e.filter(a=>!a.toLowerCase().includes("hover"))},t.set(r,o)),o}var PDe=i=>sn(i)&&Object.getOwnPropertyNames(i).some(n=>bd(i[n]));function kDe(i,n){let{isScriptable:e,isIndexable:t}=HR(i);for(let r of n){let o=e(r),s=t(r),a=(s||o)&&i[r];if(o&&(bd(a)||PDe(a))||s&&ar(a))return!0}return!1}var FDe="4.4.7",LDe=["top","bottom","left","right","chartArea"];function mH(i,n){return i==="top"||i==="bottom"||LDe.indexOf(i)===-1&&n==="x"}function gH(i,n){return function(e,t){return e[i]===t[i]?e[n]-t[n]:e[i]-t[i]}}function _H(i){let n=i.chart,e=n.options.animation;n.notifyPlugins("afterRender"),Yn(e&&e.onComplete,[i],n)}function MDe(i){let n=i.chart,e=n.options.animation;Yn(e&&e.onProgress,[i],n)}function iG(i){return _1()&&typeof i=="string"?i=document.getElementById(i):i&&i.length&&(i=i[0]),i&&i.canvas&&(i=i.canvas),i}var T1={},CH=i=>{let n=iG(i);return Object.values(T1).filter(e=>e.canvas===n).pop()};function NDe(i,n,e){let t=Object.keys(i);for(let r of t){let o=+r;if(o>=n){let s=i[r];delete i[r],(e>0||o>n)&&(i[o+e]=s)}}}function VDe(i,n,e,t){return!e||i.type==="mouseout"?null:t?n:i}function w1(i,n,e){return i.options.clip?i[e]:n[e]}function BDe(i,n){let{xScale:e,yScale:t}=i;return e&&t?{left:w1(e,n,"left"),right:w1(e,n,"right"),top:w1(t,n,"top"),bottom:w1(t,n,"bottom")}:n}var L1=(()=>{class i{static defaults=hr;static instances=T1;static overrides=Gu;static registry=yc;static version=FDe;static getChart=CH;static register(...e){yc.add(...e),yH()}static unregister(...e){yc.remove(...e),yH()}constructor(e,t){let r=this.config=new _P(t),o=iG(e),s=CH(o);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");let a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||oDe(o)),this.platform.updateConfig(r);let l=this.platform.acquireContext(o,a.aspectRatio),c=l&&l.canvas,d=c&&c.height,p=c&&c.width;if(this.id=_j(),this.ctx=l,this.canvas=c,this.width=p,this.height=d,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new fP,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Tj(g=>this.update(g),a.resizeDelay||0),this._dataChanges=[],T1[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}Ed.listen(this,"complete",_H),Ed.listen(this,"progress",MDe),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:e,maintainAspectRatio:t},width:r,height:o,_aspectRatio:s}=this;return un(e)?t&&s?s:o?r/o:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return yc}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():KR(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return BR(this.canvas,this.ctx),this}stop(){return Ed.stop(this),this}resize(e,t){Ed.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){let r=this.options,o=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(o,e,t,s),l=r.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,KR(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),Yn(r.onResize,[this,a],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){let t=this.options.scales||{};kn(t,(r,o)=>{r.id=o})}buildOrUpdateScales(){let e=this.options,t=e.scales,r=this.scales,o=Object.keys(r).reduce((a,l)=>(a[l]=!1,a),{}),s=[];t&&(s=s.concat(Object.keys(t).map(a=>{let l=t[a],c=gP(a,l),d=c==="r",p=c==="x";return{options:l,dposition:d?"chartArea":p?"bottom":"left",dtype:d?"radialLinear":p?"category":"linear"}}))),kn(s,a=>{let l=a.options,c=l.id,d=gP(c,l),p=Pi(l.type,a.dtype);(l.position===void 0||mH(l.position,d)!==mH(a.dposition))&&(l.position=a.dposition),o[c]=!0;let g=null;if(c in r&&r[c].type===p)g=r[c];else{let C=yc.getScale(p);g=new C({id:c,type:p,ctx:this.ctx,chart:this}),r[g.id]=g}g.init(l,e)}),kn(o,(a,l)=>{a||delete r[l]}),kn(r,a=>{as.configure(this,a,a.options),as.addBox(this,a)})}_updateMetasets(){let e=this._metasets,t=this.data.datasets.length,r=e.length;if(e.sort((o,s)=>o.index-s.index),r>t){for(let o=t;o<r;++o)this._destroyDatasetMeta(o);e.splice(t,r-t)}this._sortedMetasets=e.slice(0).sort(gH("order","index"))}_removeUnreferencedMetasets(){let{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((r,o)=>{t.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){let e=[],t=this.data.datasets,r,o;for(this._removeUnreferencedMetasets(),r=0,o=t.length;r<o;r++){let s=t[r],a=this.getDatasetMeta(r),l=s.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(r),a=this.getDatasetMeta(r)),a.type=l,a.indexAxis=s.indexAxis||mP(l,this.options),a.order=s.order||0,a.index=r,a.label=""+s.label,a.visible=this.isDatasetVisible(r),a.controller)a.controller.updateIndex(r),a.controller.linkScales();else{let c=yc.getController(l),{datasetElementType:d,dataElementType:p}=hr.datasets[l];Object.assign(c,{dataElementType:yc.getElement(p),datasetElementType:d&&yc.getElement(d)}),a.controller=new c(this,r),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){kn(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){let t=this.config;t.update();let r=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;let s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let d=0,p=this.data.datasets.length;d<p;d++){let{controller:g}=this.getDatasetMeta(d),C=!o&&s.indexOf(g)===-1;g.buildOrUpdateElements(C),a=Math.max(+g.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),o||kn(s,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(gH("z","_idx"));let{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){kn(this.scales,e=>{as.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let e=this.options,t=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!ER(t,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(let{method:r,start:o,count:s}of t){let a=r==="_removeElements"?-s:s;NDe(e,o,a)}}_getUniformDataChanges(){let e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];let t=this.data.datasets.length,r=s=>new Set(e.filter(a=>a[0]===s).map((a,l)=>l+","+a.splice(1).join(","))),o=r(0);for(let s=1;s<t;s++)if(!ER(o,r(s)))return;return Array.from(o).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;as.update(this,this.width,this.height,e);let t=this.chartArea,r=t.width<=0||t.height<=0;this._layers=[],kn(this.boxes,o=>{r&&o.position==="chartArea"||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,s)=>{o._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,r=this.data.datasets.length;t<r;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,r=this.data.datasets.length;t<r;++t)this._updateDataset(t,bd(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){let r=this.getDatasetMeta(e),o={meta:r,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",o)!==!1&&(r.controller._update(t),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ed.has(this)?this.attached&&!Ed.running(this)&&Ed.start(this):(this.draw(),_H({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){let{width:r,height:o}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,o)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){let t=this._sortedMetasets,r=[],o,s;for(o=0,s=t.length;o<s;++o){let a=t[o];(!e||a.visible)&&r.push(a)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){let t=this.ctx,r=e._clip,o=!r.disabled,s=BDe(e,this.chartArea),a={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",a)!==!1&&(o&&j0(t,{left:r.left===!1?0:s.left-r.left,right:r.right===!1?this.width:s.right+r.right,top:r.top===!1?0:s.top-r.top,bottom:r.bottom===!1?this.height:s.bottom+r.bottom}),e.controller.draw(),o&&H0(t),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(e){return mc(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,r,o){let s=UOe.modes[t];return typeof s=="function"?s(this,e,r,o):[]}getDatasetMeta(e){let t=this.data.datasets[e],r=this._metasets,o=r.filter(s=>s&&s._dataset===t).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},r.push(o)),o}getContext(){return this.$context||(this.$context=Ad(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){let t=this.data.datasets[e];if(!t)return!1;let r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!t.hidden}setDatasetVisibility(e,t){let r=this.getDatasetMeta(e);r.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,r){let o=r?"show":"hide",s=this.getDatasetMeta(e),a=s.controller._resolveAnimations(void 0,o);Lm(t)?(s.data[t].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),a.update(s,{visible:r}),this.update(l=>l.datasetIndex===e?o:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){let t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Ed.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),BR(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete T1[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let e=this._listeners,t=this.platform,r=(s,a)=>{t.addEventListener(this,s,a),e[s]=a},o=(s,a,l)=>{s.offsetX=a,s.offsetY=l,this._eventHandler(s)};kn(this.options.events,s=>r(s,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let e=this._responsiveListeners,t=this.platform,r=(c,d)=>{t.addEventListener(this,c,d),e[c]=d},o=(c,d)=>{e[c]&&(t.removeEventListener(this,c,d),delete e[c])},s=(c,d)=>{this.canvas&&this.resize(c,d)},a,l=()=>{o("attach",l),this.attached=!0,this.resize(),r("resize",s),r("detach",a)};a=()=>{this.attached=!1,o("resize",s),this._stop(),this._resize(0,0),r("attach",l)},t.isAttached(this.canvas)?l():a()}unbindEvents(){kn(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},kn(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,r){let o=r?"set":"remove",s,a,l,c;for(t==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+o+"DatasetHoverStyle"]()),l=0,c=e.length;l<c;++l){a=e[l];let d=a&&this.getDatasetMeta(a.datasetIndex).controller;d&&d[o+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){let t=this._active||[],r=e.map(({datasetIndex:s,index:a})=>{let l=this.getDatasetMeta(s);if(!l)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:l.data[a],index:a}});!B0(r,t)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,t))}notifyPlugins(e,t,r){return this._plugins.notify(this,e,t,r)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,r){let o=this.options.hover,s=(c,d)=>c.filter(p=>!d.some(g=>p.datasetIndex===g.datasetIndex&&p.index===g.index)),a=s(t,e),l=r?e:s(e,t);a.length&&this.updateHoverStyle(a,o.mode,!1),l.length&&o.mode&&this.updateHoverStyle(l,o.mode,!0)}_eventHandler(e,t){let r={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},o=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,o)===!1)return;let s=this._handleEvent(e,t,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,o),(s||r.changed)&&this.render(),this}_handleEvent(e,t,r){let{_active:o=[],options:s}=this,a=t,l=this._getActiveElements(e,o,r,a),c=Ij(e),d=VDe(e,this._lastEvent,r,c);r&&(this._lastEvent=null,Yn(s.onHover,[e,l,this],this),c&&Yn(s.onClick,[e,l,this],this));let p=!B0(l,o);return(p||t)&&(this._active=l,this._updateHoverStyles(l,o,t)),this._lastEvent=d,p}_getActiveElements(e,t,r,o){if(e.type==="mouseout")return[];if(!r)return t;let s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,o)}}return i})();function yH(){return kn(L1.instances,i=>i._plugins.invalidate())}function UDe(i,n,e){let{startAngle:t,pixelMargin:r,x:o,y:s,outerRadius:a,innerRadius:l}=n,c=r/a;i.beginPath(),i.arc(o,s,a,t-c,e+c),l>r?(c=r/l,i.arc(o,s,l,e+c,t-c,!0)):i.arc(o,s,r,e+Br,t-Br),i.closePath(),i.clip()}function jDe(i){return m1(i,["outerStart","outerEnd","innerStart","innerEnd"])}function HDe(i,n,e,t){let r=jDe(i.options.borderRadius),o=(e-n)/2,s=Math.min(o,t*n/2),a=l=>{let c=(e-Math.min(o,l))*t/2;return yo(l,0,Math.min(o,c))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:yo(r.innerStart,0,s),innerEnd:yo(r.innerEnd,0,s)}}function jm(i,n,e,t){return{x:e+i*Math.cos(n),y:t+i*Math.sin(n)}}function P1(i,n,e,t,r,o){let{x:s,y:a,startAngle:l,pixelMargin:c,innerRadius:d}=n,p=Math.max(n.outerRadius+t+e-c,0),g=d>0?d+t+e+c:0,C=0,y=r-l;if(t){let Qe=d>0?d-t:0,Ot=p>0?p-t:0,di=(Qe+Ot)/2,xi=di!==0?y*di/(di+t):y;C=(y-xi)/2}let v=Math.max(.001,y*p-e/lr)/p,w=(y-v)/2,E=l+w+C,T=r-w-C,{outerStart:F,outerEnd:G,innerStart:z,innerEnd:X}=HDe(n,g,p,T-E),ne=p-F,Y=p-G,se=E+F/ne,ye=T-G/Y,Ce=g+z,we=g+X,Be=E+z/Ce,Fe=T-X/we;if(i.beginPath(),o){let Qe=(se+ye)/2;if(i.arc(s,a,p,se,Qe),i.arc(s,a,p,Qe,ye),G>0){let Ni=jm(Y,ye,s,a);i.arc(Ni.x,Ni.y,G,ye,T+Br)}let Ot=jm(we,T,s,a);if(i.lineTo(Ot.x,Ot.y),X>0){let Ni=jm(we,Fe,s,a);i.arc(Ni.x,Ni.y,X,T+Br,Fe+Math.PI)}let di=(T-X/g+(E+z/g))/2;if(i.arc(s,a,g,T-X/g,di,!0),i.arc(s,a,g,di,E+z/g,!0),z>0){let Ni=jm(Ce,Be,s,a);i.arc(Ni.x,Ni.y,z,Be+Math.PI,E-Br)}let xi=jm(ne,E,s,a);if(i.lineTo(xi.x,xi.y),F>0){let Ni=jm(ne,se,s,a);i.arc(Ni.x,Ni.y,F,E-Br,se)}}else{i.moveTo(s,a);let Qe=Math.cos(se)*p+s,Ot=Math.sin(se)*p+a;i.lineTo(Qe,Ot);let di=Math.cos(ye)*p+s,xi=Math.sin(ye)*p+a;i.lineTo(di,xi)}i.closePath()}function GDe(i,n,e,t,r){let{fullCircles:o,startAngle:s,circumference:a}=n,l=n.endAngle;if(o){P1(i,n,e,t,l,r);for(let c=0;c<o;++c)i.fill();isNaN(a)||(l=s+(a%cr||cr))}return P1(i,n,e,t,l,r),i.fill(),l}function zDe(i,n,e,t,r){let{fullCircles:o,startAngle:s,circumference:a,options:l}=n,{borderWidth:c,borderJoinStyle:d,borderDash:p,borderDashOffset:g}=l,C=l.borderAlign==="inner";if(!c)return;i.setLineDash(p||[]),i.lineDashOffset=g,C?(i.lineWidth=c*2,i.lineJoin=d||"round"):(i.lineWidth=c,i.lineJoin=d||"bevel");let y=n.endAngle;if(o){P1(i,n,e,t,y,r);for(let v=0;v<o;++v)i.stroke();isNaN(a)||(y=s+(a%cr||cr))}C&&UDe(i,n,y),o||(P1(i,n,e,t,y,r),i.stroke())}var CP=class extends xl{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:n=>n!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(n){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,e,t){let r=this.getProps(["x","y"],t),{angle:o,distance:s}=DR(r,{x:n,y:e}),{startAngle:a,endAngle:l,innerRadius:c,outerRadius:d,circumference:p}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],t),g=(this.options.spacing+this.options.borderWidth)/2,C=Pi(p,l-a),y=Nm(o,a,l)&&a!==l,v=C>=cr||y,w=_c(s,c+g,d+g);return v&&w}getCenterPoint(n){let{x:e,y:t,startAngle:r,endAngle:o,innerRadius:s,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:l,spacing:c}=this.options,d=(r+o)/2,p=(s+a+c+l)/2;return{x:e+Math.cos(d)*p,y:t+Math.sin(d)*p}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){let{options:e,circumference:t}=this,r=(e.offset||0)/4,o=(e.spacing||0)/2,s=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=t>cr?Math.floor(t/cr):0,t===0||this.innerRadius<0||this.outerRadius<0)return;n.save();let a=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(a)*r,Math.sin(a)*r);let l=1-Math.sin(Math.min(lr,t||0)),c=r*l;n.fillStyle=e.backgroundColor,n.strokeStyle=e.borderColor,GDe(n,this,c,o,s),zDe(n,this,c,o,s),n.restore()}};function nG(i,n,e=n){i.lineCap=Pi(e.borderCapStyle,n.borderCapStyle),i.setLineDash(Pi(e.borderDash,n.borderDash)),i.lineDashOffset=Pi(e.borderDashOffset,n.borderDashOffset),i.lineJoin=Pi(e.borderJoinStyle,n.borderJoinStyle),i.lineWidth=Pi(e.borderWidth,n.borderWidth),i.strokeStyle=Pi(e.borderColor,n.borderColor)}function WDe(i,n,e){i.lineTo(e.x,e.y)}function KDe(i){return i.stepped?Pj:i.tension||i.cubicInterpolationMode==="monotone"?kj:WDe}function rG(i,n,e={}){let t=i.length,{start:r=0,end:o=t-1}=e,{start:s,end:a}=n,l=Math.max(r,s),c=Math.min(o,a),d=r<s&&o<s||r>a&&o>a;return{count:t,start:l,loop:n.loop,ilen:c<l&&!d?t+c-l:c-l}}function $De(i,n,e,t){let{points:r,options:o}=n,{count:s,start:a,loop:l,ilen:c}=rG(r,e,t),d=KDe(o),{move:p=!0,reverse:g}=t||{},C,y,v;for(C=0;C<=c;++C)y=r[(a+(g?c-C:C))%s],!y.skip&&(p?(i.moveTo(y.x,y.y),p=!1):d(i,v,y,g,o.stepped),v=y);return l&&(y=r[(a+(g?c:0))%s],d(i,v,y,g,o.stepped)),!!l}function qDe(i,n,e,t){let r=n.points,{count:o,start:s,ilen:a}=rG(r,e,t),{move:l=!0,reverse:c}=t||{},d=0,p=0,g,C,y,v,w,E,T=G=>(s+(c?a-G:G))%o,F=()=>{v!==w&&(i.lineTo(d,w),i.lineTo(d,v),i.lineTo(d,E))};for(l&&(C=r[T(0)],i.moveTo(C.x,C.y)),g=0;g<=a;++g){if(C=r[T(g)],C.skip)continue;let G=C.x,z=C.y,X=G|0;X===y?(z<v?v=z:z>w&&(w=z),d=(p*d+G)/++p):(F(),i.lineTo(G,z),y=X,p=0,v=w=z),E=z}F()}function yP(i){let n=i.options,e=n.borderDash&&n.borderDash.length;return!i._decimated&&!i._loop&&!n.tension&&n.cubicInterpolationMode!=="monotone"&&!n.stepped&&!e?qDe:$De}function YDe(i){return i.stepped?Hj:i.tension||i.cubicInterpolationMode==="monotone"?Gj:Hu}function JDe(i,n,e,t){let r=n._path;r||(r=n._path=new Path2D,n.path(r,e,t)&&r.closePath()),nG(i,n.options),i.stroke(r)}function XDe(i,n,e,t){let{segments:r,options:o}=n,s=yP(n);for(let a of r)nG(i,o,a.style),i.beginPath(),s(i,n,a,{start:e,end:e+t-1})&&i.closePath(),i.stroke()}var QDe=typeof Path2D=="function";function ZDe(i,n,e,t){QDe&&!n.options.segment?JDe(i,n,e,t):XDe(i,n,e,t)}var M1=(()=>{class i extends xl{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){let r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){let o=r.spanGaps?this._loop:this._fullLoop;Bj(this._points,r,e,o,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Wj(this,this.options.segment))}first(){let e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){let e=this.segments,t=this.points,r=e.length;return r&&t[e[r-1].end]}interpolate(e,t){let r=this.options,o=e[t],s=this.points,a=XR(this,{property:t,start:o,end:o});if(!a.length)return;let l=[],c=YDe(r),d,p;for(d=0,p=a.length;d<p;++d){let{start:g,end:C}=a[d],y=s[g],v=s[C];if(y===v){l.push(y);continue}let w=Math.abs((o-y[t])/(v[t]-y[t])),E=c(y,v,w,r.stepped);E[t]=e[t],l.push(E)}return l.length===1?l[0]:l}pathSegment(e,t,r){return yP(this)(e,this,t,r)}path(e,t,r){let o=this.segments,s=yP(this),a=this._loop;t=t||0,r=r||this.points.length-t;for(let l of o)a&=s(e,this,l,{start:t,end:t+r-1});return!!a}draw(e,t,r,o){let s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),ZDe(e,this,r,o),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return i})();function IH(i,n,e,t){let r=i.options,{[e]:o}=i.getProps([e],t);return Math.abs(n-o)<r.radius+r.hitRadius}var eRe=(()=>{class i extends xl{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,r){let o=this.options,{x:s,y:a}=this.getProps(["x","y"],r);return Math.pow(e-s,2)+Math.pow(t-a,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(e,t){return IH(this,e,"x",t)}inYRange(e,t){return IH(this,e,"y",t)}getCenterPoint(e){let{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}size(e){e=e||this.options||{};let t=e.radius||0;t=Math.max(t,t&&e.hoverRadius||0);let r=t&&e.borderWidth||0;return(t+r)*2}draw(e,t){let r=this.options;this.skip||r.radius<.1||!mc(this,t,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,f1(e,r,this.x,this.y))}getRange(){let e=this.options||{};return e.radius+e.hitRadius}}return i})();function oG(i,n){let{x:e,y:t,base:r,width:o,height:s}=i.getProps(["x","y","base","width","height"],n),a,l,c,d,p;return i.horizontal?(p=s/2,a=Math.min(e,r),l=Math.max(e,r),c=t-p,d=t+p):(p=o/2,a=e-p,l=e+p,c=Math.min(t,r),d=Math.max(t,r)),{left:a,top:c,right:l,bottom:d}}function qu(i,n,e,t){return i?0:yo(n,e,t)}function tRe(i,n,e){let t=i.options.borderWidth,r=i.borderSkipped,o=jR(t);return{t:qu(r.top,o.top,0,e),r:qu(r.right,o.right,0,n),b:qu(r.bottom,o.bottom,0,e),l:qu(r.left,o.left,0,n)}}function iRe(i,n,e){let{enableBorderRadius:t}=i.getProps(["enableBorderRadius"]),r=i.options.borderRadius,o=Ku(r),s=Math.min(n,e),a=i.borderSkipped,l=t||sn(r);return{topLeft:qu(!l||a.top||a.left,o.topLeft,0,s),topRight:qu(!l||a.top||a.right,o.topRight,0,s),bottomLeft:qu(!l||a.bottom||a.left,o.bottomLeft,0,s),bottomRight:qu(!l||a.bottom||a.right,o.bottomRight,0,s)}}function nRe(i){let n=oG(i),e=n.right-n.left,t=n.bottom-n.top,r=tRe(i,e/2,t/2),o=iRe(i,e/2,t/2);return{outer:{x:n.left,y:n.top,w:e,h:t,radius:o},inner:{x:n.left+r.l,y:n.top+r.t,w:e-r.l-r.r,h:t-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}function oP(i,n,e,t){let r=n===null,o=e===null,a=i&&!(r&&o)&&oG(i,t);return a&&(r||_c(n,a.left,a.right))&&(o||_c(e,a.top,a.bottom))}function rRe(i){return i.topLeft||i.topRight||i.bottomLeft||i.bottomRight}function oRe(i,n){i.rect(n.x,n.y,n.w,n.h)}function sP(i,n,e={}){let t=i.x!==e.x?-n:0,r=i.y!==e.y?-n:0,o=(i.x+i.w!==e.x+e.w?n:0)-t,s=(i.y+i.h!==e.y+e.h?n:0)-r;return{x:i.x+t,y:i.y+r,w:i.w+o,h:i.h+s,radius:i.radius}}var IP=class extends xl{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(n){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,n&&Object.assign(this,n)}draw(n){let{inflateAmount:e,options:{borderColor:t,backgroundColor:r}}=this,{inner:o,outer:s}=nRe(this),a=rRe(s.radius)?Bm:oRe;n.save(),(s.w!==o.w||s.h!==o.h)&&(n.beginPath(),a(n,sP(s,e,o)),n.clip(),a(n,sP(o,-e,s)),n.fillStyle=t,n.fill("evenodd")),n.beginPath(),a(n,sP(o,e)),n.fillStyle=r,n.fill(),n.restore()}inRange(n,e,t){return oP(this,n,e,t)}inXRange(n,e){return oP(this,n,null,e)}inYRange(n,e){return oP(this,null,n,e)}getCenterPoint(n){let{x:e,y:t,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],n);return{x:o?(e+r)/2:e,y:o?t:(t+r)/2}}getRange(n){return n==="x"?this.width/2:this.height/2}},sRe=Object.freeze({__proto__:null,ArcElement:CP,BarElement:IP,LineElement:M1,PointElement:eRe}),vP=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],vH=vP.map(i=>i.replace("rgb(","rgba(").replace(")",", 0.5)"));function sG(i){return vP[i%vP.length]}function aG(i){return vH[i%vH.length]}function aRe(i,n){return i.borderColor=sG(n),i.backgroundColor=aG(n),++n}function lRe(i,n){return i.backgroundColor=i.data.map(()=>sG(n++)),n}function cRe(i,n){return i.backgroundColor=i.data.map(()=>aG(n++)),n}function dRe(i){let n=0;return(e,t)=>{let r=i.getDatasetMeta(t).controller;r instanceof OP?n=lRe(e,n):r instanceof qH?n=cRe(e,n):r&&(n=aRe(e,n))}}function bH(i){let n;for(n in i)if(i[n].borderColor||i[n].backgroundColor)return!0;return!1}function uRe(i){return i&&(i.borderColor||i.backgroundColor)}function pRe(){return hr.borderColor!=="rgba(0,0,0,0.1)"||hr.backgroundColor!=="rgba(0,0,0,0.1)"}var hRe={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(i,n,e){if(!e.enabled)return;let{data:{datasets:t},options:r}=i.config,{elements:o}=r,s=bH(t)||uRe(r)||o&&bH(o)||pRe();if(!e.forceOverride&&s)return;let a=dRe(i);t.forEach(a)}};function fRe(i,n,e,t,r){let o=r.samples||t;if(o>=e)return i.slice(n,n+e);let s=[],a=(e-2)/(o-2),l=0,c=n+e-1,d=n,p,g,C,y,v;for(s[l++]=i[d],p=0;p<o-2;p++){let w=0,E=0,T,F=Math.floor((p+1)*a)+1+n,G=Math.min(Math.floor((p+2)*a)+1,e)+n,z=G-F;for(T=F;T<G;T++)w+=i[T].x,E+=i[T].y;w/=z,E/=z;let X=Math.floor(p*a)+1+n,ne=Math.min(Math.floor((p+1)*a)+1,e)+n,{x:Y,y:se}=i[d];for(C=y=-1,T=X;T<ne;T++)y=.5*Math.abs((Y-w)*(i[T].y-se)-(Y-i[T].x)*(E-se)),y>C&&(C=y,g=i[T],v=T);s[l++]=g,d=v}return s[l++]=i[c],s}function mRe(i,n,e,t){let r=0,o=0,s,a,l,c,d,p,g,C,y,v,w=[],E=n+e-1,T=i[n].x,G=i[E].x-T;for(s=n;s<n+e;++s){a=i[s],l=(a.x-T)/G*t,c=a.y;let z=l|0;if(z===d)c<y?(y=c,p=s):c>v&&(v=c,g=s),r=(o*r+a.x)/++o;else{let X=s-1;if(!un(p)&&!un(g)){let ne=Math.min(p,g),Y=Math.max(p,g);ne!==C&&ne!==X&&w.push(Pe(re({},i[ne]),{x:r})),Y!==C&&Y!==X&&w.push(Pe(re({},i[Y]),{x:r}))}s>0&&X!==C&&w.push(i[X]),w.push(a),d=z,o=0,y=v=c,p=g=C=s}}return w}function lG(i){if(i._decimated){let n=i._data;delete i._decimated,delete i._data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,writable:!0,value:n})}}function wH(i){i.data.datasets.forEach(n=>{lG(n)})}function gRe(i,n){let e=n.length,t=0,r,{iScale:o}=i,{min:s,max:a,minDefined:l,maxDefined:c}=o.getUserBounds();return l&&(t=yo(fc(n,o.axis,s).lo,0,e-1)),c?r=yo(fc(n,o.axis,a).hi+1,t,e)-t:r=e-t,{start:t,count:r}}var _Re={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(i,n,e)=>{if(!e.enabled){wH(i);return}let t=i.width;i.data.datasets.forEach((r,o)=>{let{_data:s,indexAxis:a}=r,l=i.getDatasetMeta(o),c=s||r.data;if(Um([a,i.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;let d=i.scales[l.xAxisID];if(d.type!=="linear"&&d.type!=="time"||i.options.parsing)return;let{start:p,count:g}=gRe(l,c),C=e.threshold||4*t;if(g<=C){lG(r);return}un(s)&&(r._data=c,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(v){this._data=v}}));let y;switch(e.algorithm){case"lttb":y=fRe(c,p,g,t,e);break;case"min-max":y=mRe(c,p,g,t);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}r._decimated=y})},destroy(i){wH(i)}};function CRe(i,n,e){let t=i.segments,r=i.points,o=n.points,s=[];for(let a of t){let{start:l,end:c}=a;c=DP(l,c,r);let d=bP(e,r[l],r[c],a.loop);if(!n.segments){s.push({source:a,target:d,start:r[l],end:r[c]});continue}let p=XR(n,d);for(let g of p){let C=bP(e,o[g.start],o[g.end],g.loop),y=JR(a,r,C);for(let v of y)s.push({source:v,target:g,start:{[e]:SH(d,C,"start",Math.max)},end:{[e]:SH(d,C,"end",Math.min)}})}}return s}function bP(i,n,e,t){if(t)return;let r=n[i],o=e[i];return i==="angle"&&(r=$s(r),o=$s(o)),{property:i,start:r,end:o}}function yRe(i,n){let{x:e=null,y:t=null}=i||{},r=n.points,o=[];return n.segments.forEach(({start:s,end:a})=>{a=DP(s,a,r);let l=r[s],c=r[a];t!==null?(o.push({x:l.x,y:t}),o.push({x:c.x,y:t})):e!==null&&(o.push({x:e,y:l.y}),o.push({x:e,y:c.y}))}),o}function DP(i,n,e){for(;n>i;n--){let t=e[n];if(!isNaN(t.x)&&!isNaN(t.y))break}return n}function SH(i,n,e,t){return i&&n?t(i[e],n[e]):i?i[e]:n?n[e]:0}function cG(i,n){let e=[],t=!1;return ar(i)?(t=!0,e=i):e=yRe(i,n),e.length?new M1({points:e,options:{tension:0},_loop:t,_fullLoop:t}):null}function AH(i){return i&&i.fill!==!1}function IRe(i,n,e){let r=i[n].fill,o=[n],s;if(!e)return r;for(;r!==!1&&o.indexOf(r)===-1;){if(!Rr(r))return r;if(s=i[r],!s)return!1;if(s.visible)return r;o.push(r),r=s.fill}return!1}function vRe(i,n,e){let t=ARe(i);if(sn(t))return isNaN(t.value)?!1:t;let r=parseFloat(t);return Rr(r)&&Math.floor(r)===r?bRe(t[0],n,r,e):["origin","start","end","stack","shape"].indexOf(t)>=0&&t}function bRe(i,n,e,t){return(i==="-"||i==="+")&&(e=n+e),e===n||e<0||e>=t?!1:e}function wRe(i,n){let e=null;return i==="start"?e=n.bottom:i==="end"?e=n.top:sn(i)?e=n.getPixelForValue(i.value):n.getBasePixel&&(e=n.getBasePixel()),e}function SRe(i,n,e){let t;return i==="start"?t=e:i==="end"?t=n.options.reverse?n.min:n.max:sn(i)?t=i.value:t=n.getBaseValue(),t}function ARe(i){let n=i.options,e=n.fill,t=Pi(e&&e.target,e);return t===void 0&&(t=!!n.backgroundColor),t===!1||t===null?!1:t===!0?"origin":t}function ERe(i){let{scale:n,index:e,line:t}=i,r=[],o=t.segments,s=t.points,a=xRe(n,e);a.push(cG({x:null,y:n.bottom},t));for(let l=0;l<o.length;l++){let c=o[l];for(let d=c.start;d<=c.end;d++)TRe(r,s[d],a)}return new M1({points:r,options:{}})}function xRe(i,n){let e=[],t=i.getMatchingVisibleMetas("line");for(let r=0;r<t.length;r++){let o=t[r];if(o.index===n)break;o.hidden||e.unshift(o.dataset)}return e}function TRe(i,n,e){let t=[];for(let r=0;r<e.length;r++){let o=e[r],{first:s,last:a,point:l}=ORe(o,n,"x");if(!(!l||s&&a)){if(s)t.unshift(l);else if(i.push(l),!a)break}}i.push(...t)}function ORe(i,n,e){let t=i.interpolate(n,e);if(!t)return{};let r=t[e],o=i.segments,s=i.points,a=!1,l=!1;for(let c=0;c<o.length;c++){let d=o[c],p=s[d.start][e],g=s[d.end][e];if(_c(r,p,g)){a=r===p,l=r===g;break}}return{first:a,last:l,point:t}}var k1=class{constructor(n){this.x=n.x,this.y=n.y,this.radius=n.radius}pathSegment(n,e,t){let{x:r,y:o,radius:s}=this;return e=e||{start:0,end:cr},n.arc(r,o,s,e.end,e.start,!0),!t.bounds}interpolate(n){let{x:e,y:t,radius:r}=this,o=n.angle;return{x:e+Math.cos(o)*r,y:t+Math.sin(o)*r,angle:o}}};function DRe(i){let{chart:n,fill:e,line:t}=i;if(Rr(e))return RRe(n,e);if(e==="stack")return ERe(i);if(e==="shape")return!0;let r=PRe(i);return r instanceof k1?r:cG(r,t)}function RRe(i,n){let e=i.getDatasetMeta(n);return e&&i.isDatasetVisible(n)?e.dataset:null}function PRe(i){return(i.scale||{}).getPointPositionForValue?FRe(i):kRe(i)}function kRe(i){let{scale:n={},fill:e}=i,t=wRe(e,n);if(Rr(t)){let r=n.isHorizontal();return{x:r?t:null,y:r?null:t}}return null}function FRe(i){let{scale:n,fill:e}=i,t=n.options,r=n.getLabels().length,o=t.reverse?n.max:n.min,s=SRe(e,n,o),a=[];if(t.grid.circular){let l=n.getPointPositionForValue(0,o);return new k1({x:l.x,y:l.y,radius:n.getDistanceFromCenterForValue(s)})}for(let l=0;l<r;++l)a.push(n.getPointPositionForValue(l,s));return a}function aP(i,n,e){let t=DRe(n),{line:r,scale:o,axis:s}=n,a=r.options,l=a.fill,c=a.backgroundColor,{above:d=c,below:p=c}=l||{};t&&r.points.length&&(j0(i,e),LRe(i,{line:r,target:t,above:d,below:p,area:e,scale:o,axis:s}),H0(i))}function LRe(i,n){let{line:e,target:t,above:r,below:o,area:s,scale:a}=n,l=e._loop?"angle":n.axis;i.save(),l==="x"&&o!==r&&(EH(i,t,s.top),xH(i,{line:e,target:t,color:r,scale:a,property:l}),i.restore(),i.save(),EH(i,t,s.bottom)),xH(i,{line:e,target:t,color:o,scale:a,property:l}),i.restore()}function EH(i,n,e){let{segments:t,points:r}=n,o=!0,s=!1;i.beginPath();for(let a of t){let{start:l,end:c}=a,d=r[l],p=r[DP(l,c,r)];o?(i.moveTo(d.x,d.y),o=!1):(i.lineTo(d.x,e),i.lineTo(d.x,d.y)),s=!!n.pathSegment(i,a,{move:s}),s?i.closePath():i.lineTo(p.x,e)}i.lineTo(n.first().x,e),i.closePath(),i.clip()}function xH(i,n){let{line:e,target:t,property:r,color:o,scale:s}=n,a=CRe(e,t,r);for(let{source:l,target:c,start:d,end:p}of a){let{style:{backgroundColor:g=o}={}}=l,C=t!==!0;i.save(),i.fillStyle=g,MRe(i,s,C&&bP(r,d,p)),i.beginPath();let y=!!e.pathSegment(i,l),v;if(C){y?i.closePath():TH(i,t,p,r);let w=!!t.pathSegment(i,c,{move:y,reverse:!0});v=y&&w,v||TH(i,t,d,r)}i.closePath(),i.fill(v?"evenodd":"nonzero"),i.restore()}}function MRe(i,n,e){let{top:t,bottom:r}=n.chart.chartArea,{property:o,start:s,end:a}=e||{};o==="x"&&(i.beginPath(),i.rect(s,t,a-s,r-t),i.clip())}function TH(i,n,e,t){let r=n.interpolate(e,t);r&&i.lineTo(r.x,r.y)}var NRe={id:"filler",afterDatasetsUpdate(i,n,e){let t=(i.data.datasets||[]).length,r=[],o,s,a,l;for(s=0;s<t;++s)o=i.getDatasetMeta(s),a=o.dataset,l=null,a&&a.options&&a instanceof M1&&(l={visible:i.isDatasetVisible(s),index:s,fill:vRe(a,s,t),chart:i,axis:o.controller.options.indexAxis,scale:o.vScale,line:a}),o.$filler=l,r.push(l);for(s=0;s<t;++s)l=r[s],!(!l||l.fill===!1)&&(l.fill=IRe(r,s,e.propagate))},beforeDraw(i,n,e){let t=e.drawTime==="beforeDraw",r=i.getSortedVisibleDatasetMetas(),o=i.chartArea;for(let s=r.length-1;s>=0;--s){let a=r[s].$filler;a&&(a.line.updateControlPoints(o,a.axis),t&&a.fill&&aP(i.ctx,a,o))}},beforeDatasetsDraw(i,n,e){if(e.drawTime!=="beforeDatasetsDraw")return;let t=i.getSortedVisibleDatasetMetas();for(let r=t.length-1;r>=0;--r){let o=t[r].$filler;AH(o)&&aP(i.ctx,o,i.chartArea)}},beforeDatasetDraw(i,n,e){let t=n.meta.$filler;!AH(t)||e.drawTime!=="beforeDatasetDraw"||aP(i.ctx,t,i.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},OH=(i,n)=>{let{boxHeight:e=n,boxWidth:t=n}=i;return i.usePointStyle&&(e=Math.min(e,n),t=i.pointStyleWidth||Math.min(t,n)),{boxWidth:t,boxHeight:e,itemHeight:Math.max(n,e)}},VRe=(i,n)=>i!==null&&n!==null&&i.datasetIndex===n.datasetIndex&&i.index===n.index,F1=class extends xl{constructor(n){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=n.chart,this.options=n.options,this.ctx=n.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(n,e,t){this.maxWidth=n,this.maxHeight=e,this._margins=t,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let n=this.options.labels||{},e=Yn(n.generateLabels,[this.chart],this)||[];n.filter&&(e=e.filter(t=>n.filter(t,this.chart.data))),n.sort&&(e=e.sort((t,r)=>n.sort(t,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){let{options:n,ctx:e}=this;if(!n.display){this.width=this.height=0;return}let t=n.labels,r=so(t.font),o=r.size,s=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=OH(t,o),c,d;e.font=r.string,this.isHorizontal()?(c=this.maxWidth,d=this._fitRows(s,o,a,l)+10):(d=this.maxHeight,c=this._fitCols(s,r,a,l)+10),this.width=Math.min(c,n.maxWidth||this.maxWidth),this.height=Math.min(d,n.maxHeight||this.maxHeight)}_fitRows(n,e,t,r){let{ctx:o,maxWidth:s,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],d=r+a,p=n;o.textAlign="left",o.textBaseline="middle";let g=-1,C=-d;return this.legendItems.forEach((y,v)=>{let w=t+e/2+o.measureText(y.text).width;(v===0||c[c.length-1]+w+2*a>s)&&(p+=d,c[c.length-(v>0?0:1)]=0,C+=d,g++),l[v]={left:0,top:C,row:g,width:w,height:r},c[c.length-1]+=w+a}),p}_fitCols(n,e,t,r){let{ctx:o,maxHeight:s,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],d=s-n,p=a,g=0,C=0,y=0,v=0;return this.legendItems.forEach((w,E)=>{let{itemWidth:T,itemHeight:F}=BRe(t,e,o,w,r);E>0&&C+F+2*a>d&&(p+=g+a,c.push({width:g,height:C}),y+=g+a,v++,g=C=0),l[E]={left:y,top:C,col:v,width:T,height:F},g=Math.max(g,T),C+=F+a}),p+=g,c.push({width:g,height:C}),p}adjustHitBoxes(){if(!this.options.display)return;let n=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:t,labels:{padding:r},rtl:o}}=this,s=uh(o,this.left,this.width);if(this.isHorizontal()){let a=0,l=qo(t,this.left+r,this.right-this.lineWidths[a]);for(let c of e)a!==c.row&&(a=c.row,l=qo(t,this.left+r,this.right-this.lineWidths[a])),c.top+=this.top+n+r,c.left=s.leftForLtr(s.x(l),c.width),l+=c.width+r}else{let a=0,l=qo(t,this.top+n+r,this.bottom-this.columnSizes[a].height);for(let c of e)c.col!==a&&(a=c.col,l=qo(t,this.top+n+r,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+r,c.left=s.leftForLtr(s.x(c.left),c.width),l+=c.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let n=this.ctx;j0(n,this),this._draw(),H0(n)}}_draw(){let{options:n,columnSizes:e,lineWidths:t,ctx:r}=this,{align:o,labels:s}=n,a=hr.color,l=uh(n.rtl,this.left,this.width),c=so(s.font),{padding:d}=s,p=c.size,g=p/2,C;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=c.string;let{boxWidth:y,boxHeight:v,itemHeight:w}=OH(s,p),E=function(X,ne,Y){if(isNaN(y)||y<=0||isNaN(v)||v<0)return;r.save();let se=Pi(Y.lineWidth,1);if(r.fillStyle=Pi(Y.fillStyle,a),r.lineCap=Pi(Y.lineCap,"butt"),r.lineDashOffset=Pi(Y.lineDashOffset,0),r.lineJoin=Pi(Y.lineJoin,"miter"),r.lineWidth=se,r.strokeStyle=Pi(Y.strokeStyle,a),r.setLineDash(Pi(Y.lineDash,[])),s.usePointStyle){let ye={radius:v*Math.SQRT2/2,pointStyle:Y.pointStyle,rotation:Y.rotation,borderWidth:se},Ce=l.xPlus(X,y/2),we=ne+g;UR(r,ye,Ce,we,s.pointStyleWidth&&y)}else{let ye=ne+Math.max((p-v)/2,0),Ce=l.leftForLtr(X,y),we=Ku(Y.borderRadius);r.beginPath(),Object.values(we).some(Be=>Be!==0)?Bm(r,{x:Ce,y:ye,w:y,h:v,radius:we}):r.rect(Ce,ye,y,v),r.fill(),se!==0&&r.stroke()}r.restore()},T=function(X,ne,Y){Wu(r,Y.text,X,ne+w/2,c,{strikethrough:Y.hidden,textAlign:l.textAlign(Y.textAlign)})},F=this.isHorizontal(),G=this._computeTitleHeight();F?C={x:qo(o,this.left+d,this.right-t[0]),y:this.top+d+G,line:0}:C={x:this.left+d,y:qo(o,this.top+G+d,this.bottom-e[0].height),line:0},qR(this.ctx,n.textDirection);let z=w+d;this.legendItems.forEach((X,ne)=>{r.strokeStyle=X.fontColor,r.fillStyle=X.fontColor;let Y=r.measureText(X.text).width,se=l.textAlign(X.textAlign||(X.textAlign=s.textAlign)),ye=y+g+Y,Ce=C.x,we=C.y;l.setWidth(this.width),F?ne>0&&Ce+ye+d>this.right&&(we=C.y+=z,C.line++,Ce=C.x=qo(o,this.left+d,this.right-t[C.line])):ne>0&&we+z>this.bottom&&(Ce=C.x=Ce+e[C.line].width+d,C.line++,we=C.y=qo(o,this.top+G+d,this.bottom-e[C.line].height));let Be=l.x(Ce);if(E(Be,we,X),Ce=Oj(se,Ce+y+g,F?Ce+ye:this.right,n.rtl),T(l.x(Ce),we,X),F)C.x+=ye+d;else if(typeof X.text!="string"){let Fe=c.lineHeight;C.y+=dG(X,Fe)+d}else C.y+=z}),YR(this.ctx,n.textDirection)}drawTitle(){let n=this.options,e=n.title,t=so(e.font),r=Yo(e.padding);if(!e.display)return;let o=uh(n.rtl,this.left,this.width),s=this.ctx,a=e.position,l=t.size/2,c=r.top+l,d,p=this.left,g=this.width;if(this.isHorizontal())g=Math.max(...this.lineWidths),d=this.top+c,p=qo(n.align,p,this.right-g);else{let y=this.columnSizes.reduce((v,w)=>Math.max(v,w.height),0);d=c+qo(n.align,this.top,this.bottom-y-n.labels.padding-this._computeTitleHeight())}let C=qo(a,p,p+g);s.textAlign=o.textAlign(p1(a)),s.textBaseline="middle",s.strokeStyle=e.color,s.fillStyle=e.color,s.font=t.string,Wu(s,e.text,C,d,t)}_computeTitleHeight(){let n=this.options.title,e=so(n.font),t=Yo(n.padding);return n.display?e.lineHeight+t.height:0}_getLegendItemAt(n,e){let t,r,o;if(_c(n,this.left,this.right)&&_c(e,this.top,this.bottom)){for(o=this.legendHitBoxes,t=0;t<o.length;++t)if(r=o[t],_c(n,r.left,r.left+r.width)&&_c(e,r.top,r.top+r.height))return this.legendItems[t]}return null}handleEvent(n){let e=this.options;if(!HRe(n.type,e))return;let t=this._getLegendItemAt(n.x,n.y);if(n.type==="mousemove"||n.type==="mouseout"){let r=this._hoveredItem,o=VRe(r,t);r&&!o&&Yn(e.onLeave,[n,r,this],this),this._hoveredItem=t,t&&!o&&Yn(e.onHover,[n,t,this],this)}else t&&Yn(e.onClick,[n,t,this],this)}};function BRe(i,n,e,t,r){let o=URe(t,i,n,e),s=jRe(r,t,n.lineHeight);return{itemWidth:o,itemHeight:s}}function URe(i,n,e,t){let r=i.text;return r&&typeof r!="string"&&(r=r.reduce((o,s)=>o.length>s.length?o:s)),n+e.size/2+t.measureText(r).width}function jRe(i,n,e){let t=i;return typeof n.text!="string"&&(t=dG(n,e)),t}function dG(i,n){let e=i.text?i.text.length:0;return n*e}function HRe(i,n){return!!((i==="mousemove"||i==="mouseout")&&(n.onHover||n.onLeave)||n.onClick&&(i==="click"||i==="mouseup"))}var GRe={id:"legend",_element:F1,start(i,n,e){let t=i.legend=new F1({ctx:i.ctx,options:e,chart:i});as.configure(i,t,e),as.addBox(i,t)},stop(i){as.removeBox(i,i.legend),delete i.legend},beforeUpdate(i,n,e){let t=i.legend;as.configure(i,t,e),t.options=e},afterUpdate(i){let n=i.legend;n.buildLabels(),n.adjustHitBoxes()},afterEvent(i,n){n.replay||i.legend.handleEvent(n.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(i,n,e){let t=n.datasetIndex,r=e.chart;r.isDatasetVisible(t)?(r.hide(t),n.hidden=!0):(r.show(t),n.hidden=!1)},onHover:null,onLeave:null,labels:{color:i=>i.chart.options.color,boxWidth:40,padding:10,generateLabels(i){let n=i.data.datasets,{labels:{usePointStyle:e,pointStyle:t,textAlign:r,color:o,useBorderRadius:s,borderRadius:a}}=i.legend.options;return i._getSortedDatasetMetas().map(l=>{let c=l.controller.getStyle(e?0:void 0),d=Yo(c.borderWidth);return{text:n[l.index].label,fillStyle:c.backgroundColor,fontColor:o,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:c.borderColor,pointStyle:t||c.pointStyle,rotation:c.rotation,textAlign:r||c.textAlign,borderRadius:s&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:i=>i.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:i=>!i.startsWith("on"),labels:{_scriptable:i=>!["generateLabels","filter","sort"].includes(i)}}},X0=class extends xl{constructor(n){super(),this.chart=n.chart,this.options=n.options,this.ctx=n.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(n,e){let t=this.options;if(this.left=0,this.top=0,!t.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=n,this.height=this.bottom=e;let r=ar(t.text)?t.text.length:1;this._padding=Yo(t.padding);let o=r*so(t.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){let n=this.options.position;return n==="top"||n==="bottom"}_drawArgs(n){let{top:e,left:t,bottom:r,right:o,options:s}=this,a=s.align,l=0,c,d,p;return this.isHorizontal()?(d=qo(a,t,o),p=e+n,c=o-t):(s.position==="left"?(d=t+n,p=qo(a,r,e),l=lr*-.5):(d=o-n,p=qo(a,e,r),l=lr*.5),c=r-e),{titleX:d,titleY:p,maxWidth:c,rotation:l}}draw(){let n=this.ctx,e=this.options;if(!e.display)return;let t=so(e.font),o=t.lineHeight/2+this._padding.top,{titleX:s,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(o);Wu(n,e.text,0,0,t,{color:e.color,maxWidth:l,rotation:c,textAlign:p1(e.align),textBaseline:"middle",translation:[s,a]})}};function zRe(i,n){let e=new X0({ctx:i.ctx,options:n,chart:i});as.configure(i,e,n),as.addBox(i,e),i.titleBlock=e}var WRe={id:"title",_element:X0,start(i,n,e){zRe(i,e)},stop(i){let n=i.titleBlock;as.removeBox(i,n),delete i.titleBlock},beforeUpdate(i,n,e){let t=i.titleBlock;as.configure(i,t,e),t.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},S1=new WeakMap,KRe={id:"subtitle",start(i,n,e){let t=new X0({ctx:i.ctx,options:e,chart:i});as.configure(i,t,e),as.addBox(i,t),S1.set(i,t)},stop(i){as.removeBox(i,S1.get(i)),S1.delete(i)},beforeUpdate(i,n,e){let t=S1.get(i);as.configure(i,t,e),t.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},Y0={average(i){if(!i.length)return!1;let n,e,t=new Set,r=0,o=0;for(n=0,e=i.length;n<e;++n){let a=i[n].element;if(a&&a.hasValue()){let l=a.tooltipPosition();t.add(l.x),r+=l.y,++o}}return o===0||t.size===0?!1:{x:[...t].reduce((a,l)=>a+l)/t.size,y:r/o}},nearest(i,n){if(!i.length)return!1;let e=n.x,t=n.y,r=Number.POSITIVE_INFINITY,o,s,a;for(o=0,s=i.length;o<s;++o){let l=i[o].element;if(l&&l.hasValue()){let c=l.getCenterPoint(),d=a1(n,c);d<r&&(r=d,a=l)}}if(a){let l=a.tooltipPosition();e=l.x,t=l.y}return{x:e,y:t}}};function Cc(i,n){return n&&(ar(n)?Array.prototype.push.apply(i,n):i.push(n)),i}function xd(i){return(typeof i=="string"||i instanceof String)&&i.indexOf(`
`)>-1?i.split(`
`):i}function $Re(i,n){let{element:e,datasetIndex:t,index:r}=n,o=i.getDatasetMeta(t).controller,{label:s,value:a}=o.getLabelAndValue(r);return{chart:i,label:s,parsed:o.getParsed(r),raw:i.data.datasets[t].data[r],formattedValue:a,dataset:o.getDataset(),dataIndex:r,datasetIndex:t,element:e}}function DH(i,n){let e=i.chart.ctx,{body:t,footer:r,title:o}=i,{boxWidth:s,boxHeight:a}=n,l=so(n.bodyFont),c=so(n.titleFont),d=so(n.footerFont),p=o.length,g=r.length,C=t.length,y=Yo(n.padding),v=y.height,w=0,E=t.reduce((G,z)=>G+z.before.length+z.lines.length+z.after.length,0);if(E+=i.beforeBody.length+i.afterBody.length,p&&(v+=p*c.lineHeight+(p-1)*n.titleSpacing+n.titleMarginBottom),E){let G=n.displayColors?Math.max(a,l.lineHeight):l.lineHeight;v+=C*G+(E-C)*l.lineHeight+(E-1)*n.bodySpacing}g&&(v+=n.footerMarginTop+g*d.lineHeight+(g-1)*n.footerSpacing);let T=0,F=function(G){w=Math.max(w,e.measureText(G).width+T)};return e.save(),e.font=c.string,kn(i.title,F),e.font=l.string,kn(i.beforeBody.concat(i.afterBody),F),T=n.displayColors?s+2+n.boxPadding:0,kn(t,G=>{kn(G.before,F),kn(G.lines,F),kn(G.after,F)}),T=0,e.font=d.string,kn(i.footer,F),e.restore(),w+=y.width,{width:w,height:v}}function qRe(i,n){let{y:e,height:t}=n;return e<t/2?"top":e>i.height-t/2?"bottom":"center"}function YRe(i,n,e,t){let{x:r,width:o}=t,s=e.caretSize+e.caretPadding;if(i==="left"&&r+o+s>n.width||i==="right"&&r-o-s<0)return!0}function JRe(i,n,e,t){let{x:r,width:o}=e,{width:s,chartArea:{left:a,right:l}}=i,c="center";return t==="center"?c=r<=(a+l)/2?"left":"right":r<=o/2?c="left":r>=s-o/2&&(c="right"),YRe(c,i,n,e)&&(c="center"),c}function RH(i,n,e){let t=e.yAlign||n.yAlign||qRe(i,e);return{xAlign:e.xAlign||n.xAlign||JRe(i,n,e,t),yAlign:t}}function XRe(i,n){let{x:e,width:t}=i;return n==="right"?e-=t:n==="center"&&(e-=t/2),e}function QRe(i,n,e){let{y:t,height:r}=i;return n==="top"?t+=e:n==="bottom"?t-=r+e:t-=r/2,t}function PH(i,n,e,t){let{caretSize:r,caretPadding:o,cornerRadius:s}=i,{xAlign:a,yAlign:l}=e,c=r+o,{topLeft:d,topRight:p,bottomLeft:g,bottomRight:C}=Ku(s),y=XRe(n,a),v=QRe(n,l,c);return l==="center"?a==="left"?y+=c:a==="right"&&(y-=c):a==="left"?y-=Math.max(d,g)+r:a==="right"&&(y+=Math.max(p,C)+r),{x:yo(y,0,t.width-n.width),y:yo(v,0,t.height-n.height)}}function A1(i,n,e){let t=Yo(e.padding);return n==="center"?i.x+i.width/2:n==="right"?i.x+i.width-t.right:i.x+t.left}function kH(i){return Cc([],xd(i))}function ZRe(i,n,e){return Ad(i,{tooltip:n,tooltipItems:e,type:"tooltip"})}function FH(i,n){let e=n&&n.dataset&&n.dataset.tooltip&&n.dataset.tooltip.callbacks;return e?i.override(e):i}var uG={beforeTitle:gc,title(i){if(i.length>0){let n=i[0],e=n.chart.data.labels,t=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return n.dataset.label||"";if(n.label)return n.label;if(t>0&&n.dataIndex<t)return e[n.dataIndex]}return""},afterTitle:gc,beforeBody:gc,beforeLabel:gc,label(i){if(this&&this.options&&this.options.mode==="dataset")return i.label+": "+i.formattedValue||i.formattedValue;let n=i.dataset.label||"";n&&(n+=": ");let e=i.formattedValue;return un(e)||(n+=e),n},labelColor(i){let e=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(i){let e=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:gc,afterBody:gc,beforeFooter:gc,footer:gc,afterFooter:gc};function Ys(i,n,e,t){let r=i[n].call(e,t);return typeof r>"u"?uG[n].call(e,t):r}var LH=(()=>{class i extends xl{static positioners=Y0;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let e=this._cachedAnimations;if(e)return e;let t=this.chart,r=this.options.setContext(this.getContext()),o=r.enabled&&t.options.animation&&r.animations,s=new O1(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=ZRe(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){let{callbacks:r}=t,o=Ys(r,"beforeTitle",this,e),s=Ys(r,"title",this,e),a=Ys(r,"afterTitle",this,e),l=[];return l=Cc(l,xd(o)),l=Cc(l,xd(s)),l=Cc(l,xd(a)),l}getBeforeBody(e,t){return kH(Ys(t.callbacks,"beforeBody",this,e))}getBody(e,t){let{callbacks:r}=t,o=[];return kn(e,s=>{let a={before:[],lines:[],after:[]},l=FH(r,s);Cc(a.before,xd(Ys(l,"beforeLabel",this,s))),Cc(a.lines,Ys(l,"label",this,s)),Cc(a.after,xd(Ys(l,"afterLabel",this,s))),o.push(a)}),o}getAfterBody(e,t){return kH(Ys(t.callbacks,"afterBody",this,e))}getFooter(e,t){let{callbacks:r}=t,o=Ys(r,"beforeFooter",this,e),s=Ys(r,"footer",this,e),a=Ys(r,"afterFooter",this,e),l=[];return l=Cc(l,xd(o)),l=Cc(l,xd(s)),l=Cc(l,xd(a)),l}_createItems(e){let t=this._active,r=this.chart.data,o=[],s=[],a=[],l=[],c,d;for(c=0,d=t.length;c<d;++c)l.push($Re(this.chart,t[c]));return e.filter&&(l=l.filter((p,g,C)=>e.filter(p,g,C,r))),e.itemSort&&(l=l.sort((p,g)=>e.itemSort(p,g,r))),kn(l,p=>{let g=FH(e.callbacks,p);o.push(Ys(g,"labelColor",this,p)),s.push(Ys(g,"labelPointStyle",this,p)),a.push(Ys(g,"labelTextColor",this,p))}),this.labelColors=o,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=l,l}update(e,t){let r=this.options.setContext(this.getContext()),o=this._active,s,a=[];if(!o.length)this.opacity!==0&&(s={opacity:0});else{let l=Y0[r.position].call(this,o,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);let c=this._size=DH(this,r),d=Object.assign({},l,c),p=RH(this.chart,r,d),g=PH(r,d,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,s={opacity:1,x:g.x,y:g.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,r,o){let s=this.getCaretPosition(e,r,o);t.lineTo(s.x1,s.y1),t.lineTo(s.x2,s.y2),t.lineTo(s.x3,s.y3)}getCaretPosition(e,t,r){let{xAlign:o,yAlign:s}=this,{caretSize:a,cornerRadius:l}=r,{topLeft:c,topRight:d,bottomLeft:p,bottomRight:g}=Ku(l),{x:C,y}=e,{width:v,height:w}=t,E,T,F,G,z,X;return s==="center"?(z=y+w/2,o==="left"?(E=C,T=E-a,G=z+a,X=z-a):(E=C+v,T=E+a,G=z-a,X=z+a),F=E):(o==="left"?T=C+Math.max(c,p)+a:o==="right"?T=C+v-Math.max(d,g)-a:T=this.caretX,s==="top"?(G=y,z=G-a,E=T-a,F=T+a):(G=y+w,z=G+a,E=T+a,F=T-a),X=G),{x1:E,x2:T,x3:F,y1:G,y2:z,y3:X}}drawTitle(e,t,r){let o=this.title,s=o.length,a,l,c;if(s){let d=uh(r.rtl,this.x,this.width);for(e.x=A1(this,r.titleAlign,r),t.textAlign=d.textAlign(r.titleAlign),t.textBaseline="middle",a=so(r.titleFont),l=r.titleSpacing,t.fillStyle=r.titleColor,t.font=a.string,c=0;c<s;++c)t.fillText(o[c],d.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+l,c+1===s&&(e.y+=r.titleMarginBottom-l)}}_drawColorBox(e,t,r,o,s){let a=this.labelColors[r],l=this.labelPointStyles[r],{boxHeight:c,boxWidth:d}=s,p=so(s.bodyFont),g=A1(this,"left",s),C=o.x(g),y=c<p.lineHeight?(p.lineHeight-c)/2:0,v=t.y+y;if(s.usePointStyle){let w={radius:Math.min(d,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},E=o.leftForLtr(C,d)+d/2,T=v+c/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,f1(e,w,E,T),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,f1(e,w,E,T)}else{e.lineWidth=sn(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;let w=o.leftForLtr(C,d),E=o.leftForLtr(o.xPlus(C,1),d-2),T=Ku(a.borderRadius);Object.values(T).some(F=>F!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,Bm(e,{x:w,y:v,w:d,h:c,radius:T}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),Bm(e,{x:E,y:v+1,w:d-2,h:c-2,radius:T}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(w,v,d,c),e.strokeRect(w,v,d,c),e.fillStyle=a.backgroundColor,e.fillRect(E,v+1,d-2,c-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,t,r){let{body:o}=this,{bodySpacing:s,bodyAlign:a,displayColors:l,boxHeight:c,boxWidth:d,boxPadding:p}=r,g=so(r.bodyFont),C=g.lineHeight,y=0,v=uh(r.rtl,this.x,this.width),w=function(se){t.fillText(se,v.x(e.x+y),e.y+C/2),e.y+=C+s},E=v.textAlign(a),T,F,G,z,X,ne,Y;for(t.textAlign=a,t.textBaseline="middle",t.font=g.string,e.x=A1(this,E,r),t.fillStyle=r.bodyColor,kn(this.beforeBody,w),y=l&&E!=="right"?a==="center"?d/2+p:d+2+p:0,z=0,ne=o.length;z<ne;++z){for(T=o[z],F=this.labelTextColors[z],t.fillStyle=F,kn(T.before,w),G=T.lines,l&&G.length&&(this._drawColorBox(t,e,z,v,r),C=Math.max(g.lineHeight,c)),X=0,Y=G.length;X<Y;++X)w(G[X]),C=g.lineHeight;kn(T.after,w)}y=0,C=g.lineHeight,kn(this.afterBody,w),e.y-=s}drawFooter(e,t,r){let o=this.footer,s=o.length,a,l;if(s){let c=uh(r.rtl,this.x,this.width);for(e.x=A1(this,r.footerAlign,r),e.y+=r.footerMarginTop,t.textAlign=c.textAlign(r.footerAlign),t.textBaseline="middle",a=so(r.footerFont),t.fillStyle=r.footerColor,t.font=a.string,l=0;l<s;++l)t.fillText(o[l],c.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+r.footerSpacing}}drawBackground(e,t,r,o){let{xAlign:s,yAlign:a}=this,{x:l,y:c}=e,{width:d,height:p}=r,{topLeft:g,topRight:C,bottomLeft:y,bottomRight:v}=Ku(o.cornerRadius);t.fillStyle=o.backgroundColor,t.strokeStyle=o.borderColor,t.lineWidth=o.borderWidth,t.beginPath(),t.moveTo(l+g,c),a==="top"&&this.drawCaret(e,t,r,o),t.lineTo(l+d-C,c),t.quadraticCurveTo(l+d,c,l+d,c+C),a==="center"&&s==="right"&&this.drawCaret(e,t,r,o),t.lineTo(l+d,c+p-v),t.quadraticCurveTo(l+d,c+p,l+d-v,c+p),a==="bottom"&&this.drawCaret(e,t,r,o),t.lineTo(l+y,c+p),t.quadraticCurveTo(l,c+p,l,c+p-y),a==="center"&&s==="left"&&this.drawCaret(e,t,r,o),t.lineTo(l,c+g),t.quadraticCurveTo(l,c,l+g,c),t.closePath(),t.fill(),o.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){let t=this.chart,r=this.$animations,o=r&&r.x,s=r&&r.y;if(o||s){let a=Y0[e.position].call(this,this._active,this._eventPosition);if(!a)return;let l=this._size=DH(this,e),c=Object.assign({},a,this._size),d=RH(t,e,c),p=PH(e,c,d,t);(o._to!==p.x||s._to!==p.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(e){let t=this.options.setContext(this.getContext()),r=this.opacity;if(!r)return;this._updateAnimationTarget(t);let o={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;let a=Yo(t.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&l&&(e.save(),e.globalAlpha=r,this.drawBackground(s,e,o,t),qR(e,t.textDirection),s.y+=a.top,this.drawTitle(s,e,t),this.drawBody(s,e,t),this.drawFooter(s,e,t),YR(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){let r=this._active,o=e.map(({datasetIndex:l,index:c})=>{let d=this.chart.getDatasetMeta(l);if(!d)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:d.data[c],index:c}}),s=!B0(r,o),a=this._positionChanged(o,t);(s||a)&&(this._active=o,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,r=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let o=this.options,s=this._active||[],a=this._getActiveElements(e,s,t,r),l=this._positionChanged(a,e),c=t||!B0(a,s)||l;return c&&(this._active=a,(o.enabled||o.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),c}_getActiveElements(e,t,r,o){let s=this.options;if(e.type==="mouseout")return[];if(!o)return t.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);let a=this.chart.getElementsAtEventForMode(e,s.mode,s,r);return s.reverse&&a.reverse(),a}_positionChanged(e,t){let{caretX:r,caretY:o,options:s}=this,a=Y0[s.position].call(this,e,t);return a!==!1&&(r!==a.x||o!==a.y)}}return i})(),ePe={id:"tooltip",_element:LH,positioners:Y0,afterInit(i,n,e){e&&(i.tooltip=new LH({chart:i,options:e}))},beforeUpdate(i,n,e){i.tooltip&&i.tooltip.initialize(e)},reset(i,n,e){i.tooltip&&i.tooltip.initialize(e)},afterDraw(i){let n=i.tooltip;if(n&&n._willRender()){let e={tooltip:n};if(i.notifyPlugins("beforeTooltipDraw",Pe(re({},e),{cancelable:!0}))===!1)return;n.draw(i.ctx),i.notifyPlugins("afterTooltipDraw",e)}},afterEvent(i,n){if(i.tooltip){let e=n.replay;i.tooltip.handleEvent(n.event,e,n.inChartArea)&&(n.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(i,n)=>n.bodyFont.size,boxWidth:(i,n)=>n.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:uG},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:i=>i!=="filter"&&i!=="itemSort"&&i!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},tPe=Object.freeze({__proto__:null,Colors:hRe,Decimation:_Re,Filler:NRe,Legend:GRe,SubTitle:KRe,Title:WRe,Tooltip:ePe}),iPe=(i,n,e,t)=>(typeof n=="string"?(e=i.push(n)-1,t.unshift({index:e,label:n})):isNaN(n)&&(e=null),e);function nPe(i,n,e,t){let r=i.indexOf(n);if(r===-1)return iPe(i,n,e,t);let o=i.lastIndexOf(n);return r!==o?e:r}var rPe=(i,n)=>i===null?null:yo(Math.round(i),0,n);function MH(i){let n=this.getLabels();return i>=0&&i<n.length?n[i]:i}var oPe=(()=>{class i extends fh{static id="category";static defaults={ticks:{callback:MH}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){let t=this._addedLabels;if(t.length){let r=this.getLabels();for(let{index:o,label:s}of t)r[o]===s&&r.splice(o,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(un(e))return null;let r=this.getLabels();return t=isFinite(t)&&r[t]===e?t:nPe(r,e,Pi(t,e),this._addedLabels),rPe(t,r.length-1)}determineDataLimits(){let{minDefined:e,maxDefined:t}=this.getUserBounds(),{min:r,max:o}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),t||(o=this.getLabels().length-1)),this.min=r,this.max=o}buildTicks(){let e=this.min,t=this.max,r=this.options.offset,o=[],s=this.getLabels();s=e===0&&t===s.length-1?s:s.slice(e,t+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let a=e;a<=t;a++)o.push({value:a});return o}getLabelForValue(e){return MH.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){let t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}return i})();function sPe(i,n){let e=[],{bounds:r,step:o,min:s,max:a,precision:l,count:c,maxTicks:d,maxDigits:p,includeBounds:g}=i,C=o||1,y=d-1,{min:v,max:w}=n,E=!un(s),T=!un(a),F=!un(c),G=(w-v)/(p+1),z=xR((w-v)/y/C)*C,X,ne,Y,se;if(z<1e-14&&!E&&!T)return[{value:v},{value:w}];se=Math.ceil(w/z)-Math.floor(v/z),se>y&&(z=xR(se*z/y/C)*C),un(l)||(X=Math.pow(10,l),z=Math.ceil(z*X)/X),r==="ticks"?(ne=Math.floor(v/z)*z,Y=Math.ceil(w/z)*z):(ne=v,Y=w),E&&T&&o&&bj((a-s)/o,z/1e3)?(se=Math.round(Math.min((a-s)/z,d)),z=(a-s)/se,ne=s,Y=a):F?(ne=E?s:ne,Y=T?a:Y,se=c-1,z=(Y-ne)/se):(se=(Y-ne)/z,Mm(se,Math.round(se),z/1e3)?se=Math.round(se):se=Math.ceil(se));let ye=Math.max(OR(z),OR(ne));X=Math.pow(10,un(l)?ye:l),ne=Math.round(ne*X)/X,Y=Math.round(Y*X)/X;let Ce=0;for(E&&(g&&ne!==s?(e.push({value:s}),ne<s&&Ce++,Mm(Math.round((ne+Ce*z)*X)/X,s,NH(s,G,i))&&Ce++):ne<s&&Ce++);Ce<se;++Ce){let we=Math.round((ne+Ce*z)*X)/X;if(T&&we>a)break;e.push({value:we})}return T&&g&&Y!==a?e.length&&Mm(e[e.length-1].value,a,NH(a,G,i))?e[e.length-1].value=a:e.push({value:a}):(!T||Y===a)&&e.push({value:Y}),e}function NH(i,n,{horizontal:e,minRotation:t}){let r=Ya(t),o=(e?Math.sin(r):Math.cos(r))||.001,s=.75*n*(""+i).length;return Math.min(n/o,s)}var Gm=class extends fh{constructor(n){super(n),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(n,e){return un(n)||(typeof n=="number"||n instanceof Number)&&!isFinite(+n)?null:+n}handleTickRangeOptions(){let{beginAtZero:n}=this.options,{minDefined:e,maxDefined:t}=this.getUserBounds(),{min:r,max:o}=this,s=l=>r=e?r:l,a=l=>o=t?o:l;if(n){let l=El(r),c=El(o);l<0&&c<0?a(0):l>0&&c>0&&s(0)}if(r===o){let l=o===0?1:Math.abs(o*.05);a(o+l),n||s(r-l)}this.min=r,this.max=o}getTickLimit(){let n=this.options.ticks,{maxTicksLimit:e,stepSize:t}=n,r;return t?(r=Math.ceil(this.max/t)-Math.floor(this.min/t)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${t} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let n=this.options,e=n.ticks,t=this.getTickLimit();t=Math.max(2,t);let r={maxTicks:t,bounds:n.bounds,min:n.min,max:n.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},o=this._range||this,s=sPe(r,o);return n.bounds==="ticks"&&TR(s,this,"value"),n.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}configure(){let n=this.ticks,e=this.min,t=this.max;if(super.configure(),this.options.offset&&n.length){let r=(t-e)/Math.max(n.length-1,1)/2;e-=r,t+=r}this._startValue=e,this._endValue=t,this._valueRange=t-e}getLabelForValue(n){return Vm(n,this.chart.options.locale,this.options.ticks.format)}},wP=class extends Gm{static id="linear";static defaults={ticks:{callback:U0.formatters.numeric}};determineDataLimits(){let{min:n,max:e}=this.getMinMax(!0);this.min=Rr(n)?n:0,this.max=Rr(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){let n=this.isHorizontal(),e=n?this.width:this.height,t=Ya(this.options.ticks.minRotation),r=(n?Math.sin(t):Math.cos(t))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/r))}getPixelForValue(n){return n===null?NaN:this.getPixelForDecimal((n-this._startValue)/this._valueRange)}getValueForPixel(n){return this._startValue+this.getDecimalForPixel(n)*this._valueRange}},Q0=i=>Math.floor(wd(i)),hh=(i,n)=>Math.pow(10,Q0(i)+n);function VH(i){return i/Math.pow(10,Q0(i))===1}function BH(i,n,e){let t=Math.pow(10,e),r=Math.floor(i/t);return Math.ceil(n/t)-r}function aPe(i,n){let e=n-i,t=Q0(e);for(;BH(i,n,t)>10;)t++;for(;BH(i,n,t)<10;)t--;return Math.min(t,Q0(i))}function lPe(i,{min:n,max:e}){n=qs(i.min,n);let t=[],r=Q0(n),o=aPe(n,e),s=o<0?Math.pow(10,Math.abs(o)):1,a=Math.pow(10,o),l=r>o?Math.pow(10,r):0,c=Math.round((n-l)*s)/s,d=Math.floor((n-l)/a/10)*a*10,p=Math.floor((c-d)/Math.pow(10,o)),g=qs(i.min,Math.round((l+d+p*Math.pow(10,o))*s)/s);for(;g<e;)t.push({value:g,major:VH(g),significand:p}),p>=10?p=p<15?15:20:p++,p>=20&&(o++,p=2,s=o>=0?1:s),g=Math.round((l+d+p*Math.pow(10,o))*s)/s;let C=qs(i.max,g);return t.push({value:C,major:VH(C),significand:p}),t}var SP=class extends fh{static id="logarithmic";static defaults={ticks:{callback:U0.formatters.logarithmic,major:{enabled:!0}}};constructor(n){super(n),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(n,e){let t=Gm.prototype.parse.apply(this,[n,e]);if(t===0){this._zero=!0;return}return Rr(t)&&t>0?t:null}determineDataLimits(){let{min:n,max:e}=this.getMinMax(!0);this.min=Rr(n)?Math.max(0,n):null,this.max=Rr(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Rr(this._userMin)&&(this.min=n===hh(this.min,0)?hh(this.min,-1):hh(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:n,maxDefined:e}=this.getUserBounds(),t=this.min,r=this.max,o=a=>t=n?t:a,s=a=>r=e?r:a;t===r&&(t<=0?(o(1),s(10)):(o(hh(t,-1)),s(hh(r,1)))),t<=0&&o(hh(r,-1)),r<=0&&s(hh(t,1)),this.min=t,this.max=r}buildTicks(){let n=this.options,e={min:this._userMin,max:this._userMax},t=lPe(e,this);return n.bounds==="ticks"&&TR(t,this,"value"),n.reverse?(t.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),t}getLabelForValue(n){return n===void 0?"0":Vm(n,this.chart.options.locale,this.options.ticks.format)}configure(){let n=this.min;super.configure(),this._startValue=wd(n),this._valueRange=wd(this.max)-wd(n)}getPixelForValue(n){return(n===void 0||n===0)&&(n=this.min),n===null||isNaN(n)?NaN:this.getPixelForDecimal(n===this.min?0:(wd(n)-this._startValue)/this._valueRange)}getValueForPixel(n){let e=this.getDecimalForPixel(n);return Math.pow(10,this._startValue+e*this._valueRange)}};function AP(i){let n=i.ticks;if(n.display&&i.display){let e=Yo(n.backdropPadding);return Pi(n.font&&n.font.size,hr.font.size)+e.height}return 0}function cPe(i,n,e){return e=ar(e)?e:[e],{w:Rj(i,n.string,e),h:e.length*n.lineHeight}}function UH(i,n,e,t,r){return i===t||i===r?{start:n-e/2,end:n+e/2}:i<t||i>r?{start:n-e,end:n}:{start:n,end:n+e}}function dPe(i){let n={l:i.left+i._padding.left,r:i.right-i._padding.right,t:i.top+i._padding.top,b:i.bottom-i._padding.bottom},e=Object.assign({},n),t=[],r=[],o=i._pointLabels.length,s=i.options.pointLabels,a=s.centerPointLabels?lr/o:0;for(let l=0;l<o;l++){let c=s.setContext(i.getPointLabelContext(l));r[l]=c.padding;let d=i.getPointPosition(l,i.drawingArea+r[l],a),p=so(c.font),g=cPe(i.ctx,p,i._pointLabels[l]);t[l]=g;let C=$s(i.getIndexAngle(l)+a),y=Math.round(d1(C)),v=UH(y,d.x,g.w,0,180),w=UH(y,d.y,g.h,90,270);uPe(e,n,C,v,w)}i.setCenterPoint(n.l-e.l,e.r-n.r,n.t-e.t,e.b-n.b),i._pointLabelItems=fPe(i,t,r)}function uPe(i,n,e,t,r){let o=Math.abs(Math.sin(e)),s=Math.abs(Math.cos(e)),a=0,l=0;t.start<n.l?(a=(n.l-t.start)/o,i.l=Math.min(i.l,n.l-a)):t.end>n.r&&(a=(t.end-n.r)/o,i.r=Math.max(i.r,n.r+a)),r.start<n.t?(l=(n.t-r.start)/s,i.t=Math.min(i.t,n.t-l)):r.end>n.b&&(l=(r.end-n.b)/s,i.b=Math.max(i.b,n.b+l))}function pPe(i,n,e){let t=i.drawingArea,{extra:r,additionalAngle:o,padding:s,size:a}=e,l=i.getPointPosition(n,t+r+s,o),c=Math.round(d1($s(l.angle+Br))),d=_Pe(l.y,a.h,c),p=mPe(c),g=gPe(l.x,a.w,p);return{visible:!0,x:l.x,y:d,textAlign:p,left:g,top:d,right:g+a.w,bottom:d+a.h}}function hPe(i,n){if(!n)return!0;let{left:e,top:t,right:r,bottom:o}=i;return!(mc({x:e,y:t},n)||mc({x:e,y:o},n)||mc({x:r,y:t},n)||mc({x:r,y:o},n))}function fPe(i,n,e){let t=[],r=i._pointLabels.length,o=i.options,{centerPointLabels:s,display:a}=o.pointLabels,l={extra:AP(o)/2,additionalAngle:s?lr/r:0},c;for(let d=0;d<r;d++){l.padding=e[d],l.size=n[d];let p=pPe(i,d,l);t.push(p),a==="auto"&&(p.visible=hPe(p,c),p.visible&&(c=p))}return t}function mPe(i){return i===0||i===180?"center":i<180?"left":"right"}function gPe(i,n,e){return e==="right"?i-=n:e==="center"&&(i-=n/2),i}function _Pe(i,n,e){return e===90||e===270?i-=n/2:(e>270||e<90)&&(i-=n),i}function CPe(i,n,e){let{left:t,top:r,right:o,bottom:s}=e,{backdropColor:a}=n;if(!un(a)){let l=Ku(n.borderRadius),c=Yo(n.backdropPadding);i.fillStyle=a;let d=t-c.left,p=r-c.top,g=o-t+c.width,C=s-r+c.height;Object.values(l).some(y=>y!==0)?(i.beginPath(),Bm(i,{x:d,y:p,w:g,h:C,radius:l}),i.fill()):i.fillRect(d,p,g,C)}}function yPe(i,n){let{ctx:e,options:{pointLabels:t}}=i;for(let r=n-1;r>=0;r--){let o=i._pointLabelItems[r];if(!o.visible)continue;let s=t.setContext(i.getPointLabelContext(r));CPe(e,s,o);let a=so(s.font),{x:l,y:c,textAlign:d}=o;Wu(e,i._pointLabels[r],l,c+a.lineHeight/2,a,{color:s.color,textAlign:d,textBaseline:"middle"})}}function pG(i,n,e,t){let{ctx:r}=i;if(e)r.arc(i.xCenter,i.yCenter,n,0,cr);else{let o=i.getPointPosition(0,n);r.moveTo(o.x,o.y);for(let s=1;s<t;s++)o=i.getPointPosition(s,n),r.lineTo(o.x,o.y)}}function IPe(i,n,e,t,r){let o=i.ctx,s=n.circular,{color:a,lineWidth:l}=n;!s&&!t||!a||!l||e<0||(o.save(),o.strokeStyle=a,o.lineWidth=l,o.setLineDash(r.dash||[]),o.lineDashOffset=r.dashOffset,o.beginPath(),pG(i,e,s,t),o.closePath(),o.stroke(),o.restore())}function vPe(i,n,e){return Ad(i,{label:e,index:n,type:"pointLabel"})}var EP=class extends Gm{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:U0.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(n){return n},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(n){super(n),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let n=this._padding=Yo(AP(this.options)/2),e=this.width=this.maxWidth-n.width,t=this.height=this.maxHeight-n.height;this.xCenter=Math.floor(this.left+e/2+n.left),this.yCenter=Math.floor(this.top+t/2+n.top),this.drawingArea=Math.floor(Math.min(e,t)/2)}determineDataLimits(){let{min:n,max:e}=this.getMinMax(!1);this.min=Rr(n)&&!isNaN(n)?n:0,this.max=Rr(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/AP(this.options))}generateTickLabels(n){Gm.prototype.generateTickLabels.call(this,n),this._pointLabels=this.getLabels().map((e,t)=>{let r=Yn(this.options.pointLabels.callback,[e,t],this);return r||r===0?r:""}).filter((e,t)=>this.chart.getDataVisibility(t))}fit(){let n=this.options;n.display&&n.pointLabels.display?dPe(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(n,e,t,r){this.xCenter+=Math.floor((n-e)/2),this.yCenter+=Math.floor((t-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(n,e,t,r))}getIndexAngle(n){let e=cr/(this._pointLabels.length||1),t=this.options.startAngle||0;return $s(n*e+Ya(t))}getDistanceFromCenterForValue(n){if(un(n))return NaN;let e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-n)*e:(n-this.min)*e}getValueForDistanceFromCenter(n){if(un(n))return NaN;let e=n/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(n){let e=this._pointLabels||[];if(n>=0&&n<e.length){let t=e[n];return vPe(this.getContext(),n,t)}}getPointPosition(n,e,t=0){let r=this.getIndexAngle(n)-Br+t;return{x:Math.cos(r)*e+this.xCenter,y:Math.sin(r)*e+this.yCenter,angle:r}}getPointPositionForValue(n,e){return this.getPointPosition(n,this.getDistanceFromCenterForValue(e))}getBasePosition(n){return this.getPointPositionForValue(n||0,this.getBaseValue())}getPointLabelPosition(n){let{left:e,top:t,right:r,bottom:o}=this._pointLabelItems[n];return{left:e,top:t,right:r,bottom:o}}drawBackground(){let{backgroundColor:n,grid:{circular:e}}=this.options;if(n){let t=this.ctx;t.save(),t.beginPath(),pG(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),t.closePath(),t.fillStyle=n,t.fill(),t.restore()}}drawGrid(){let n=this.ctx,e=this.options,{angleLines:t,grid:r,border:o}=e,s=this._pointLabels.length,a,l,c;if(e.pointLabels.display&&yPe(this,s),r.display&&this.ticks.forEach((d,p)=>{if(p!==0||p===0&&this.min<0){l=this.getDistanceFromCenterForValue(d.value);let g=this.getContext(p),C=r.setContext(g),y=o.setContext(g);IPe(this,C,l,s,y)}}),t.display){for(n.save(),a=s-1;a>=0;a--){let d=t.setContext(this.getPointLabelContext(a)),{color:p,lineWidth:g}=d;!g||!p||(n.lineWidth=g,n.strokeStyle=p,n.setLineDash(d.borderDash),n.lineDashOffset=d.borderDashOffset,l=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),c=this.getPointPosition(a,l),n.beginPath(),n.moveTo(this.xCenter,this.yCenter),n.lineTo(c.x,c.y),n.stroke())}n.restore()}}drawBorder(){}drawLabels(){let n=this.ctx,e=this.options,t=e.ticks;if(!t.display)return;let r=this.getIndexAngle(0),o,s;n.save(),n.translate(this.xCenter,this.yCenter),n.rotate(r),n.textAlign="center",n.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!e.reverse)return;let c=t.setContext(this.getContext(l)),d=so(c.font);if(o=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){n.font=d.string,s=n.measureText(a.label).width,n.fillStyle=c.backdropColor;let p=Yo(c.backdropPadding);n.fillRect(-s/2-p.left,-o-d.size/2-p.top,s+p.width,d.size+p.height)}Wu(n,a.label,0,-o,d,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),n.restore()}drawTitle(){}},N1={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Js=Object.keys(N1);function jH(i,n){return i-n}function HH(i,n){if(un(n))return null;let e=i._adapter,{parser:t,round:r,isoWeekday:o}=i._parseOpts,s=n;return typeof t=="function"&&(s=t(s)),Rr(s)||(s=typeof t=="string"?e.parse(s,t):e.parse(s)),s===null?null:(r&&(s=r==="week"&&(dh(o)||o===!0)?e.startOf(s,"isoWeek",o):e.startOf(s,r)),+s)}function GH(i,n,e,t){let r=Js.length;for(let o=Js.indexOf(i);o<r-1;++o){let s=N1[Js[o]],a=s.steps?s.steps:Number.MAX_SAFE_INTEGER;if(s.common&&Math.ceil((e-n)/(a*s.size))<=t)return Js[o]}return Js[r-1]}function bPe(i,n,e,t,r){for(let o=Js.length-1;o>=Js.indexOf(e);o--){let s=Js[o];if(N1[s].common&&i._adapter.diff(r,t,s)>=n-1)return s}return Js[e?Js.indexOf(e):0]}function wPe(i){for(let n=Js.indexOf(i)+1,e=Js.length;n<e;++n)if(N1[Js[n]].common)return Js[n]}function zH(i,n,e){if(!e)i[n]=!0;else if(e.length){let{lo:t,hi:r}=u1(e,n),o=e[t]>=n?e[t]:e[r];i[o]=!0}}function SPe(i,n,e,t){let r=i._adapter,o=+r.startOf(n[0].value,t),s=n[n.length-1].value,a,l;for(a=o;a<=s;a=+r.add(a,1,t))l=e[a],l>=0&&(n[l].major=!0);return n}function WH(i,n,e){let t=[],r={},o=n.length,s,a;for(s=0;s<o;++s)a=n[s],r[a]=s,t.push({value:a,major:!1});return o===0||!e?t:SPe(i,t,r,e)}var xP=(()=>{class i extends fh{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){let r=e.time||(e.time={}),o=this._adapter=new LOe._date(e.adapters.date);o.init(t),Fm(r.displayFormats,o.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:HH(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let e=this.options,t=this._adapter,r=e.time.unit||"day",{min:o,max:s,minDefined:a,maxDefined:l}=this.getUserBounds();function c(d){!a&&!isNaN(d.min)&&(o=Math.min(o,d.min)),!l&&!isNaN(d.max)&&(s=Math.max(s,d.max))}(!a||!l)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),o=Rr(o)&&!isNaN(o)?o:+t.startOf(Date.now(),r),s=Rr(s)&&!isNaN(s)?s:+t.endOf(Date.now(),r)+1,this.min=Math.min(o,s-1),this.max=Math.max(o+1,s)}_getLabelBounds(){let e=this.getLabelTimestamps(),t=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],r=e[e.length-1]),{min:t,max:r}}buildTicks(){let e=this.options,t=e.time,r=e.ticks,o=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);let s=this.min,a=this.max,l=Aj(o,s,a);return this._unit=t.unit||(r.autoSkip?GH(t.minUnit,this.min,this.max,this._getLabelCapacity(s)):bPe(this,l.length,t.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:wPe(this._unit),this.initOffsets(o),e.reverse&&l.reverse(),WH(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,r=0,o,s;this.options.offset&&e.length&&(o=this.getDecimalForValue(e[0]),e.length===1?t=1-o:t=(this.getDecimalForValue(e[1])-o)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?r=s:r=(s-this.getDecimalForValue(e[e.length-2]))/2);let a=e.length<3?.5:.25;t=yo(t,0,a),r=yo(r,0,a),this._offsets={start:t,end:r,factor:1/(t+1+r)}}_generate(){let e=this._adapter,t=this.min,r=this.max,o=this.options,s=o.time,a=s.unit||GH(s.minUnit,t,r,this._getLabelCapacity(t)),l=Pi(o.ticks.stepSize,1),c=a==="week"?s.isoWeekday:!1,d=dh(c)||c===!0,p={},g=t,C,y;if(d&&(g=+e.startOf(g,"isoWeek",c)),g=+e.startOf(g,d?"day":a),e.diff(r,t,a)>1e5*l)throw new Error(t+" and "+r+" are too far apart with stepSize of "+l+" "+a);let v=o.ticks.source==="data"&&this.getDataTimestamps();for(C=g,y=0;C<r;C=+e.add(C,l,a),y++)zH(p,C,v);return(C===r||o.bounds==="ticks"||y===1)&&zH(p,C,v),Object.keys(p).sort(jH).map(w=>+w)}getLabelForValue(e){let t=this._adapter,r=this.options.time;return r.tooltipFormat?t.format(e,r.tooltipFormat):t.format(e,r.displayFormats.datetime)}format(e,t){let o=this.options.time.displayFormats,s=this._unit,a=t||o[s];return this._adapter.format(e,a)}_tickFormatFunction(e,t,r,o){let s=this.options,a=s.ticks.callback;if(a)return Yn(a,[e,t,r],this);let l=s.time.displayFormats,c=this._unit,d=this._majorUnit,p=c&&l[c],g=d&&l[d],C=r[t],y=d&&g&&C&&C.major;return this._adapter.format(e,o||(y?g:p))}generateTickLabels(e){let t,r,o;for(t=0,r=e.length;t<r;++t)o=e[t],o.label=this._tickFormatFunction(o.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){let t=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+r)*t.factor)}getValueForPixel(e){let t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){let t=this.options.ticks,r=this.ctx.measureText(e).width,o=Ya(this.isHorizontal()?t.maxRotation:t.minRotation),s=Math.cos(o),a=Math.sin(o),l=this._resolveTickFontOptions(0).size;return{w:r*s+l*a,h:r*a+l*s}}_getLabelCapacity(e){let t=this.options.time,r=t.displayFormats,o=r[t.unit]||r.millisecond,s=this._tickFormatFunction(e,0,WH(this,[e],this._majorUnit),o),a=this._getLabelSize(s),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],t,r;if(e.length)return e;let o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(t=0,r=o.length;t<r;++t)e=e.concat(o[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){let e=this._cache.labels||[],t,r;if(e.length)return e;let o=this.getLabels();for(t=0,r=o.length;t<r;++t)e.push(HH(this,o[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return PR(e.sort(jH))}}return i})();function E1(i,n,e){let t=0,r=i.length-1,o,s,a,l;e?(n>=i[t].pos&&n<=i[r].pos&&({lo:t,hi:r}=fc(i,"pos",n)),{pos:o,time:a}=i[t],{pos:s,time:l}=i[r]):(n>=i[t].time&&n<=i[r].time&&({lo:t,hi:r}=fc(i,"time",n)),{time:o,pos:a}=i[t],{time:s,pos:l}=i[r]);let c=s-o;return c?a+(l-a)*(n-o)/c:a}var TP=class extends xP{static id="timeseries";static defaults=xP.defaults;constructor(n){super(n),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let n=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(n);this._minPos=E1(e,this.min),this._tableRange=E1(e,this.max)-this._minPos,super.initOffsets(n)}buildLookupTable(n){let{min:e,max:t}=this,r=[],o=[],s,a,l,c,d;for(s=0,a=n.length;s<a;++s)c=n[s],c>=e&&c<=t&&r.push(c);if(r.length<2)return[{time:e,pos:0},{time:t,pos:1}];for(s=0,a=r.length;s<a;++s)d=r[s+1],l=r[s-1],c=r[s],Math.round((d+l)/2)!==c&&o.push({time:c,pos:s/(a-1)});return o}_generate(){let n=this.min,e=this.max,t=super.getDataTimestamps();return(!t.includes(n)||!t.length)&&t.splice(0,0,n),(!t.includes(e)||t.length===1)&&t.push(e),t.sort((r,o)=>r-o)}_getTimestampsForTable(){let n=this._cache.all||[];if(n.length)return n;let e=this.getDataTimestamps(),t=this.getLabelTimestamps();return e.length&&t.length?n=this.normalize(e.concat(t)):n=e.length?e:t,n=this._cache.all=n,n}getDecimalForValue(n){return(E1(this._table,n)-this._minPos)/this._tableRange}getValueForPixel(n){let e=this._offsets,t=this.getDecimalForPixel(n)/e.factor-e.end;return E1(this._table,t*this._tableRange+this._minPos,!0)}},APe=Object.freeze({__proto__:null,CategoryScale:oPe,LinearScale:wP,LogarithmicScale:SP,RadialLinearScale:EP,TimeScale:xP,TimeSeriesScale:TP}),hG=[FOe,sRe,tPe,APe];L1.register(...hG);var fG=L1;var EPe=(i,n)=>({position:"relative",width:i,height:n}),xPe=(i,n)=>({width:i,height:n}),V1=(()=>{class i{platformId;el;zone;type;plugins=[];width;height;responsive=!0;ariaLabel;ariaLabelledBy;get data(){return this._data}set data(e){this._data=e,this.reinit()}get options(){return this._options}set options(e){this._options=e,this.reinit()}onDataSelect=new Q;isBrowser=!1;initialized;_data;_options={};chart;constructor(e,t,r){this.platformId=e,this.el=t,this.zone=r}ngAfterViewInit(){this.initChart(),this.initialized=!0}onCanvasClick(e){if(this.chart){let t=this.chart.getElementsAtEventForMode(e,"nearest",{intersect:!0},!1),r=this.chart.getElementsAtEventForMode(e,"dataset",{intersect:!0},!1);t&&t[0]&&r&&this.onDataSelect.emit({originalEvent:e,element:t[0],dataset:r})}}initChart(){if(ht(this.platformId)){let e=this.options||{};e.responsive=this.responsive,e.responsive&&(this.height||this.width)&&(e.maintainAspectRatio=!1),this.zone.runOutsideAngular(()=>{this.chart=new fG(this.el.nativeElement.children[0].children[0],{type:this.type,data:this.data,options:this.options,plugins:this.plugins})})}}getCanvas(){return this.el.nativeElement.children[0].children[0]}getBase64Image(){return this.chart.toBase64Image()}generateLegend(){if(this.chart)return this.chart.generateLegend()}refresh(){this.chart&&this.chart.update()}reinit(){this.chart&&(this.chart.destroy(),this.initChart())}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.initialized=!1,this.chart=null)}static \u0275fac=function(t){return new(t||i)(b(qt),b(ze),b(xt))};static \u0275cmp=ie({type:i,selectors:[["p-chart"]],hostAttrs:[1,"p-element"],inputs:{type:"type",plugins:"plugins",width:"width",height:"height",responsive:[2,"responsive","responsive",K],ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",data:"data",options:"options"},outputs:{onDataSelect:"onDataSelect"},features:[qe],decls:2,vars:10,consts:[[3,"ngStyle"],["role","img",3,"click","ngStyle"]],template:function(t,r){t&1&&(m(0,"div",0)(1,"canvas",1),P("click",function(s){return r.onCanvasClick(s)}),_()()),t&2&&(h("ngStyle",Je(4,EPe,r.responsive&&!r.width?null:r.width,r.responsive&&!r.height?null:r.height)),u(),h("ngStyle",Je(7,xPe,r.responsive&&!r.width?null:r.width,r.responsive&&!r.height?null:r.height)),V("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledBy))},dependencies:[Ee],encapsulation:2,changeDetection:0})}return i})(),RP=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=Oe({type:i});static \u0275inj=Te({imports:[Ye]})}return i})();var TPe=["*"];function OPe(i,n){i&1&&ue(0)}function DPe(i,n){if(i&1&&(m(0,"div",4),I(1,OPe,1,0,"ng-container",5),_()),i&2){let e=f();V("data-pc-section","start"),u(),h("ngTemplateOutlet",e.startTemplate)}}function RPe(i,n){i&1&&ue(0)}function PPe(i,n){if(i&1&&(m(0,"div",6),I(1,RPe,1,0,"ng-container",5),_()),i&2){let e=f();V("data-pc-section","center"),u(),h("ngTemplateOutlet",e.centerTemplate)}}function kPe(i,n){i&1&&ue(0)}function FPe(i,n){if(i&1&&(m(0,"div",7),I(1,kPe,1,0,"ng-container",5),_()),i&2){let e=f();V("data-pc-section","end"),u(),h("ngTemplateOutlet",e.endTemplate)}}var gG=(()=>{class i{el;style;styleClass;ariaLabelledBy;templates;startTemplate;endTemplate;centerTemplate;constructor(e){this.el=e}getBlockableElement(){return this.el.nativeElement.children[0]}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"start":case"left":this.startTemplate=e.template;break;case"end":case"right":this.endTemplate=e.template;break;case"center":this.centerTemplate=e.template;break}})}static \u0275fac=function(t){return new(t||i)(b(ze))};static \u0275cmp=ie({type:i,selectors:[["p-toolbar"]],contentQueries:function(t,r,o){if(t&1&&ot(o,be,4),t&2){let s;ee(s=te())&&(r.templates=s)}},hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",ariaLabelledBy:"ariaLabelledBy"},ngContentSelectors:TPe,decls:5,vars:9,consts:[["role","toolbar",3,"ngClass","ngStyle"],["class","p-toolbar-group-left p-toolbar-group-start",4,"ngIf"],["class","p-toolbar-group-center",4,"ngIf"],["class","p-toolbar-group-right p-toolbar-group-end",4,"ngIf"],[1,"p-toolbar-group-left","p-toolbar-group-start"],[4,"ngTemplateOutlet"],[1,"p-toolbar-group-center"],[1,"p-toolbar-group-right","p-toolbar-group-end"]],template:function(t,r){t&1&&(Fi(),m(0,"div",0),ii(1),I(2,DPe,2,2,"div",1)(3,PPe,2,2,"div",2)(4,FPe,2,2,"div",3),_()),t&2&&(le(r.styleClass),h("ngClass","p-toolbar p-component")("ngStyle",r.style),V("aria-labelledby",r.ariaLabelledBy)("data-pc-name","toolbar"),u(2),h("ngIf",r.startTemplate),u(),h("ngIf",r.centerTemplate),u(),h("ngIf",r.endTemplate))},dependencies:[Ge,et,st,Ee],styles:[`@layer primeng{.p-toolbar{display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap}.p-toolbar-group-start,.p-toolbar-group-center,.p-toolbar-group-end,.p-toolbar-group-left,.p-toolbar-group-right{display:flex;align-items:center}}
`],encapsulation:2,changeDetection:0})}return i})(),PP=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=Oe({type:i});static \u0275inj=Te({imports:[Ye,nt,nt]})}return i})();var MPe=["sublist"],NPe=(i,n)=>({"p-submenu-list":i,"p-tieredmenu-root-list":n}),_G=i=>({"p-menuitem-link":!0,"p-disabled":i}),VPe=()=>({exact:!1}),BPe=(i,n)=>({$implicit:i,hasSubmenu:n});function UPe(i,n){if(i&1&&O(0,"li",7),i&2){let e=f().$implicit,t=f();h("ngStyle",t.getItemProp(e,"style"))("ngClass",t.getSeparatorItemClass(e)),V("id",t.getItemId(e))("data-pc-section","separator")}}function jPe(i,n){if(i&1&&O(0,"span",18),i&2){let e=f(4).$implicit,t=f();h("ngClass",t.getItemProp(e,"icon"))("ngStyle",t.getItemProp(e,"iconStyle")),V("data-pc-section","icon")("tabindex",-1)}}function HPe(i,n){if(i&1&&(m(0,"span",19),D(1),_()),i&2){let e=f(4).$implicit,t=f();V("data-pc-section","label"),u(),J(" ",t.getItemLabel(e)," ")}}function GPe(i,n){if(i&1&&O(0,"span",20),i&2){let e=f(4).$implicit,t=f();h("innerHTML",t.getItemLabel(e),Xi),V("data-pc-section","label")}}function zPe(i,n){if(i&1&&(m(0,"span",21),D(1),_()),i&2){let e=f(4).$implicit,t=f();h("ngClass",t.getItemProp(e,"badgeStyleClass")),u(),$(t.getItemProp(e,"badge"))}}function WPe(i,n){i&1&&O(0,"AngleRightIcon",24),i&2&&(h("styleClass","p-submenu-icon"),V("data-pc-section","submenuicon")("aria-hidden",!0))}function KPe(i,n){}function $Pe(i,n){i&1&&I(0,KPe,0,0,"ng-template",25),i&2&&h("data-pc-section","submenuicon")("aria-hidden",!0)}function qPe(i,n){if(i&1&&(pe(0),I(1,WPe,1,3,"AngleRightIcon",22)(2,$Pe,1,2,null,23),he()),i&2){let e=f(5);u(),h("ngIf",!e.tieredMenu.submenuIconTemplate),u(),h("ngTemplateOutlet",e.tieredMenu.submenuIconTemplate)}}function YPe(i,n){if(i&1&&(m(0,"a",14),I(1,jPe,1,4,"span",15)(2,HPe,2,2,"span",16)(3,GPe,1,2,"ng-template",null,2,Pt)(5,zPe,2,2,"span",17)(6,qPe,3,2,"ng-container",10),_()),i&2){let e=We(4),t=f(3).$implicit,r=f();h("target",r.getItemProp(t,"target"))("ngClass",oe(11,_G,r.getItemProp(t,"disabled"))),V("href",r.getItemProp(t,"url"),Uo)("data-automationid",r.getItemProp(t,"automationId"))("data-pc-section","action")("tabindex",-1),u(),h("ngIf",r.getItemProp(t,"icon")),u(),h("ngIf",r.getItemProp(t,"escape"))("ngIfElse",e),u(3),h("ngIf",r.getItemProp(t,"badge")),u(),h("ngIf",r.isItemGroup(t))}}function JPe(i,n){if(i&1&&O(0,"span",18),i&2){let e=f(4).$implicit,t=f();h("ngClass",t.getItemProp(e,"icon"))("ngStyle",t.getItemProp(e,"iconStyle")),V("data-pc-section","icon")("aria-hidden",!0)("tabindex",-1)}}function XPe(i,n){if(i&1&&(m(0,"span",19),D(1),_()),i&2){let e=f(4).$implicit,t=f();V("data-pc-section","label"),u(),J(" ",t.getItemLabel(e)," ")}}function QPe(i,n){if(i&1&&O(0,"span",20),i&2){let e=f(4).$implicit,t=f();h("innerHTML",t.getItemLabel(e),Xi),V("data-pc-section","label")}}function ZPe(i,n){if(i&1&&(m(0,"span",21),D(1),_()),i&2){let e=f(4).$implicit,t=f();h("ngClass",t.getItemProp(e,"badgeStyleClass")),u(),$(t.getItemProp(e,"badge"))}}function eke(i,n){i&1&&O(0,"AngleRightIcon",24),i&2&&(h("styleClass","p-submenu-icon"),V("data-pc-section","submenuicon")("aria-hidden",!0))}function tke(i,n){}function ike(i,n){i&1&&I(0,tke,0,0,"ng-template",25),i&2&&h("data-pc-section","submenuicon")("aria-hidden",!0)}function nke(i,n){if(i&1&&(pe(0),I(1,eke,1,3,"AngleRightIcon",22)(2,ike,1,2,null,23),he()),i&2){let e=f(5);u(),h("ngIf",!e.tieredMenu.submenuIconTemplate),u(),h("ngTemplateOutlet",e.tieredMenu.submenuIconTemplate)}}function rke(i,n){if(i&1&&(m(0,"a",26),I(1,JPe,1,5,"span",15)(2,XPe,2,2,"span",16)(3,QPe,1,2,"ng-template",null,2,Pt)(5,ZPe,2,2,"span",17)(6,nke,3,2,"ng-container",10),_()),i&2){let e=We(4),t=f(3).$implicit,r=f();h("routerLink",r.getItemProp(t,"routerLink"))("queryParams",r.getItemProp(t,"queryParams"))("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",r.getItemProp(t,"routerLinkActiveOptions")||Ae(20,VPe))("target",r.getItemProp(t,"target"))("ngClass",oe(21,_G,r.getItemProp(t,"disabled")))("fragment",r.getItemProp(t,"fragment"))("queryParamsHandling",r.getItemProp(t,"queryParamsHandling"))("preserveFragment",r.getItemProp(t,"preserveFragment"))("skipLocationChange",r.getItemProp(t,"skipLocationChange"))("replaceUrl",r.getItemProp(t,"replaceUrl"))("state",r.getItemProp(t,"state")),V("data-automationid",r.getItemProp(t,"automationId"))("tabindex",-1)("data-pc-section","action"),u(),h("ngIf",r.getItemProp(t,"icon")),u(),h("ngIf",r.getItemProp(t,"escape"))("ngIfElse",e),u(3),h("ngIf",r.getItemProp(t,"badge")),u(),h("ngIf",r.isItemGroup(t))}}function oke(i,n){if(i&1&&(pe(0),I(1,YPe,7,13,"a",12)(2,rke,7,23,"a",13),he()),i&2){let e=f(2).$implicit,t=f();u(),h("ngIf",!t.getItemProp(e,"routerLink")),u(),h("ngIf",t.getItemProp(e,"routerLink"))}}function ske(i,n){}function ake(i,n){i&1&&I(0,ske,0,0,"ng-template")}function lke(i,n){if(i&1&&(pe(0),I(1,ake,1,0,null,27),he()),i&2){let e=f(2).$implicit,t=f();u(),h("ngTemplateOutlet",t.itemTemplate)("ngTemplateOutletContext",Je(2,BPe,e.item,t.getItemProp(e,"items")))}}function cke(i,n){if(i&1){let e=B();m(0,"p-tieredMenuSub",28),P("itemClick",function(r){S(e);let o=f(3);return A(o.itemClick.emit(r))})("itemMouseEnter",function(r){S(e);let o=f(3);return A(o.onItemMouseEnter(r))}),_()}if(i&2){let e=f(2).$implicit,t=f();h("items",e.items)("itemTemplate",t.itemTemplate)("autoDisplay",t.autoDisplay)("menuId",t.menuId)("activeItemPath",t.activeItemPath())("focusedItemId",t.focusedItemId)("ariaLabelledBy",t.getItemId(e))("level",t.level+1)}}function dke(i,n){if(i&1){let e=B();m(0,"li",8,1)(2,"div",9),P("click",function(r){S(e);let o=f().$implicit,s=f();return A(s.onItemClick(r,o))})("mouseenter",function(r){S(e);let o=f().$implicit,s=f();return A(s.onItemMouseEnter({$event:r,processedItem:o}))}),I(3,oke,3,2,"ng-container",10)(4,lke,2,5,"ng-container",10),_(),I(5,cke,1,8,"p-tieredMenuSub",11),_()}if(i&2){let e=f(),t=e.$implicit,r=e.index,o=f();le(o.getItemProp(t,"styleClass")),h("ngStyle",o.getItemProp(t,"style"))("ngClass",o.getItemClass(t))("pTooltip",o.getItemProp(t,"tooltip"))("tooltipOptions",o.getItemProp(t,"tooltipOptions")),V("id",o.getItemId(t))("data-pc-section","menuitem")("data-p-highlight",o.isItemActive(t))("data-p-focused",o.isItemFocused(t))("data-p-disabled",o.isItemDisabled(t))("aria-label",o.getItemLabel(t))("aria-disabled",o.isItemDisabled(t)||void 0)("aria-haspopup",o.isItemGroup(t)&&!o.getItemProp(t,"to")?"menu":void 0)("aria-expanded",o.isItemGroup(t)?o.isItemActive(t):void 0)("aria-setsize",o.getAriaSetSize())("aria-posinset",o.getAriaPosInset(r)),u(2),V("data-pc-section","content"),u(),h("ngIf",!o.itemTemplate),u(),h("ngIf",o.itemTemplate),u(),h("ngIf",o.isItemVisible(t)&&o.isItemGroup(t))}}function uke(i,n){if(i&1&&I(0,UPe,1,4,"li",5)(1,dke,6,21,"li",6),i&2){let e=n.$implicit,t=f();h("ngIf",t.isItemVisible(e)&&t.getItemProp(e,"separator")),u(),h("ngIf",t.isItemVisible(e)&&!t.getItemProp(e,"separator"))}}var pke=["rootmenu"],hke=["container"],fke=i=>({"p-tieredmenu p-component":!0,"p-tieredmenu-overlay":i}),mke=(i,n)=>({showTransitionParams:i,hideTransitionParams:n}),gke=i=>({value:"visible",params:i});function _ke(i,n){if(i&1){let e=B();m(0,"div",3,0),P("click",function(r){S(e);let o=f();return A(o.onOverlayClick(r))})("@overlayAnimation.start",function(r){S(e);let o=f();return A(o.onOverlayAnimationStart(r))})("@overlayAnimation.done",function(r){S(e);let o=f();return A(o.onOverlayAnimationEnd(r))}),m(2,"p-tieredMenuSub",4,1),P("itemClick",function(r){S(e);let o=f();return A(o.onItemClick(r))})("menuFocus",function(r){S(e);let o=f();return A(o.onMenuFocus(r))})("menuBlur",function(r){S(e);let o=f();return A(o.onMenuBlur(r))})("menuKeydown",function(r){S(e);let o=f();return A(o.onKeyDown(r))})("itemMouseEnter",function(r){S(e);let o=f();return A(o.onItemMouseEnter(r))}),_()()}if(i&2){let e=f();le(e.styleClass),h("id",e.id)("ngClass",oe(22,fke,e.popup))("ngStyle",e.style)("@overlayAnimation",oe(27,gke,Je(24,mke,e.showTransitionOptions,e.hideTransitionOptions)))("@.disabled",e.popup!==!0),V("data-pc-section","root")("data-pc-name","tieredmenu"),u(2),h("root",!0)("items",e.processedItems)("itemTemplate",e.itemTemplate)("menuId",e.id)("tabindex",e.disabled?-1:e.tabindex)("ariaLabel",e.ariaLabel)("ariaLabelledBy",e.ariaLabelledBy)("baseZIndex",e.baseZIndex)("autoZIndex",e.autoZIndex)("autoDisplay",e.autoDisplay)("popup",e.popup)("focusedItemId",e.focused?e.focusedItemId:void 0)("activeItemPath",e.activeItemPath())}}var Cke=(()=>{class i{el;renderer;tieredMenu;items;itemTemplate;root=!1;autoDisplay;autoZIndex=!0;baseZIndex=0;popup;menuId;ariaLabel;ariaLabelledBy;level=0;focusedItemId;activeItemPath=bM([]);tabindex=0;itemClick=new Q;itemMouseEnter=new Q;menuFocus=new Q;menuBlur=new Q;menuKeydown=new Q;sublistViewChild;constructor(e,t,r){this.el=e,this.renderer=t,this.tieredMenu=r,Fc(()=>{let o=this.activeItemPath();fe.isNotEmpty(o)&&this.positionSubmenu()})}positionSubmenu(){if(ht(this.tieredMenu.platformId)){let e=this.sublistViewChild&&this.sublistViewChild.nativeElement;if(e){let t=e.parentElement.parentElement,r=M.getOffset(t),o=M.getViewport(),s=e.offsetParent?e.offsetWidth:M.getOuterWidth(e),a=M.getOuterWidth(t.children[0]),l="p-submenu-list-flipped";parseInt(r.left,10)+a+s>o.width-M.calculateScrollbarWidth()?M.addClass(e,l):M.hasClass(e,l)&&M.removeClass(e,l)}}}getItemProp(e,t,r=null){return e&&e.item?fe.getItemValue(e.item[t],r):void 0}getItemId(e){return e.item?.id??`${this.menuId}_${e.key}`}getItemKey(e){return this.getItemId(e)}getItemClass(e){return Pe(re({},this.getItemProp(e,"class")),{"p-menuitem":!0,"p-highlight":this.isItemActive(e),"p-menuitem-active":this.isItemActive(e),"p-focus":this.isItemFocused(e),"p-disabled":this.isItemDisabled(e)})}getItemLabel(e){return this.getItemProp(e,"label")}getSeparatorItemClass(e){return Pe(re({},this.getItemProp(e,"class")),{"p-menuitem-separator":!0})}getAriaSetSize(){return this.items.filter(e=>this.isItemVisible(e)&&!this.getItemProp(e,"separator")).length}getAriaPosInset(e){return e-this.items.slice(0,e).filter(t=>{let r=this.isItemVisible(t),o=r&&this.getItemProp(t,"separator");return!r||o}).length+1}isItemVisible(e){return this.getItemProp(e,"visible")!==!1}isItemActive(e){if(this.activeItemPath())return this.activeItemPath().some(t=>t.key===e.key)}isItemDisabled(e){return this.getItemProp(e,"disabled")}isItemFocused(e){return this.focusedItemId===this.getItemId(e)}isItemGroup(e){return fe.isNotEmpty(e.items)}onItemMouseEnter(e){if(this.autoDisplay){let{event:t,processedItem:r}=e;this.itemMouseEnter.emit({originalEvent:t,processedItem:r})}}onItemClick(e,t){this.getItemProp(t,"command",{originalEvent:e,item:t.item}),this.itemClick.emit({originalEvent:e,processedItem:t,isFocus:!0})}static \u0275fac=function(t){return new(t||i)(b(ze),b(Ft),b(zt(()=>kP)))};static \u0275cmp=ie({type:i,selectors:[["p-tieredMenuSub"]],viewQuery:function(t,r){if(t&1&&de(MPe,7),t&2){let o;ee(o=te())&&(r.sublistViewChild=o.first)}},hostAttrs:[1,"p-element"],inputs:{items:"items",itemTemplate:"itemTemplate",root:[2,"root","root",K],autoDisplay:[2,"autoDisplay","autoDisplay",K],autoZIndex:[2,"autoZIndex","autoZIndex",K],baseZIndex:[2,"baseZIndex","baseZIndex",ke],popup:[2,"popup","popup",K],menuId:"menuId",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",level:[2,"level","level",ke],focusedItemId:"focusedItemId",activeItemPath:[1,"activeItemPath"],tabindex:[2,"tabindex","tabindex",ke]},outputs:{itemClick:"itemClick",itemMouseEnter:"itemMouseEnter",menuFocus:"menuFocus",menuBlur:"menuBlur",menuKeydown:"menuKeydown"},features:[qe],decls:3,vars:12,consts:[["sublist",""],["listItem",""],["htmlLabel",""],["role","menu",3,"keydown","focus","blur","ngClass","id","tabindex"],["ngFor","",3,"ngForOf"],["role","separator",3,"ngStyle","ngClass",4,"ngIf"],["role","menuitem",3,"ngStyle","ngClass","class","pTooltip","tooltipOptions",4,"ngIf"],["role","separator",3,"ngStyle","ngClass"],["role","menuitem",3,"ngStyle","ngClass","pTooltip","tooltipOptions"],[1,"p-menuitem-content",3,"click","mouseenter"],[4,"ngIf"],[3,"items","itemTemplate","autoDisplay","menuId","activeItemPath","focusedItemId","ariaLabelledBy","level","itemClick","itemMouseEnter",4,"ngIf"],["pRipple","",3,"target","ngClass",4,"ngIf"],["pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state",4,"ngIf"],["pRipple","",3,"target","ngClass"],["class","p-menuitem-icon",3,"ngClass","ngStyle",4,"ngIf"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],["class","p-menuitem-badge",3,"ngClass",4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass","ngStyle"],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[1,"p-menuitem-badge",3,"ngClass"],[3,"styleClass",4,"ngIf"],[4,"ngTemplateOutlet"],[3,"styleClass"],[3,"data-pc-section","aria-hidden"],["pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"itemClick","itemMouseEnter","items","itemTemplate","autoDisplay","menuId","activeItemPath","focusedItemId","ariaLabelledBy","level"]],template:function(t,r){if(t&1){let o=B();m(0,"ul",3,0),P("keydown",function(a){return S(o),A(r.menuKeydown.emit(a))})("focus",function(a){return S(o),A(r.menuFocus.emit(a))})("blur",function(a){return S(o),A(r.menuBlur.emit(a))}),I(2,uke,2,2,"ng-template",4),_()}t&2&&(h("ngClass",Je(9,NPe,!r.root,r.root))("id",r.menuId+"_list")("tabindex",r.tabindex),V("aria-label",r.ariaLabel)("aria-labelledBy",r.ariaLabelledBy)("aria-activedescendant",r.focusedItemId)("aria-orientation","vertical")("data-pc-section","menu"),u(2),h("ngForOf",r.items))},dependencies:()=>[Ge,tn,et,st,Ee,au,Nf,qi,Zn,ru,i],encapsulation:2})}return i})(),kP=(()=>{class i{document;platformId;el;renderer;cd;config;overlayService;set model(e){this._model=e,this._processedItems=this.createProcessedItems(this._model||[])}get model(){return this._model}popup;style;styleClass;appendTo;autoZIndex=!0;baseZIndex=0;autoDisplay=!0;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";id;ariaLabel;ariaLabelledBy;disabled=!1;tabindex=0;onShow=new Q;onHide=new Q;templates;rootmenu;containerViewChild;submenuIconTemplate;itemTemplate;container;outsideClickListener;resizeListener;scrollHandler;target;relatedTarget;visible;relativeAlign;dirty=!1;focused=!1;activeItemPath=Oi([]);number=Oi(0);focusedItemInfo=Oi({index:-1,level:0,parentKey:"",item:null});searchValue="";searchTimeout;_processedItems;_model;get visibleItems(){let e=this.activeItemPath().find(t=>t.key===this.focusedItemInfo().parentKey);return e?e.items:this.processedItems}get processedItems(){return(!this._processedItems||!this._processedItems.length)&&(this._processedItems=this.createProcessedItems(this.model||[])),this._processedItems}get focusedItemId(){let e=this.focusedItemInfo();return e.item?.id?e.item.id:e.index!==-1?`${this.id}${fe.isNotEmpty(e.parentKey)?"_"+e.parentKey:""}_${e.index}`:null}constructor(e,t,r,o,s,a,l){this.document=e,this.platformId=t,this.el=r,this.renderer=o,this.cd=s,this.config=a,this.overlayService=l,Fc(()=>{let c=this.activeItemPath();fe.isNotEmpty(c)?(this.bindOutsideClickListener(),this.bindResizeListener()):(this.unbindOutsideClickListener(),this.unbindResizeListener())})}ngOnInit(){this.id=this.id||yt()}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"submenuicon":this.submenuIconTemplate=e.template;break;case"item":this.itemTemplate=e.template;break;default:this.itemTemplate=e.template;break}})}createProcessedItems(e,t=0,r={},o=""){let s=[];return e&&e.forEach((a,l)=>{let c=(o!==""?o+"_":"")+l,d={item:a,index:l,level:t,key:c,parent:r,parentKey:o};d.items=this.createProcessedItems(a.items,t+1,d,c),s.push(d)}),s}getItemProp(e,t){return e?fe.getItemValue(e[t]):void 0}getProccessedItemLabel(e){return e?this.getItemLabel(e.item):void 0}getItemLabel(e){return this.getItemProp(e,"label")}isProcessedItemGroup(e){return e&&fe.isNotEmpty(e.items)}isSelected(e){return this.activeItemPath().some(t=>t.key===e.key)}isValidSelectedItem(e){return this.isValidItem(e)&&this.isSelected(e)}isValidItem(e){return!!e&&!this.isItemDisabled(e.item)&&!this.isItemSeparator(e.item)&&this.isItemVisible(e.item)}isItemDisabled(e){return this.getItemProp(e,"disabled")}isItemVisible(e){return this.getItemProp(e,"visible")!==!1}isItemSeparator(e){return this.getItemProp(e,"separator")}isItemMatched(e){return this.isValidItem(e)&&this.getProccessedItemLabel(e).toLocaleLowerCase().startsWith(this.searchValue.toLocaleLowerCase())}isProccessedItemGroup(e){return e&&fe.isNotEmpty(e.items)}onOverlayClick(e){this.popup&&this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}onItemClick(e){let{originalEvent:t,processedItem:r}=e,o=this.isProcessedItemGroup(r),s=fe.isEmpty(r.parent);if(this.isSelected(r)){let{index:l,key:c,level:d,parentKey:p,item:g}=r;this.activeItemPath.set(this.activeItemPath().filter(C=>c!==C.key&&c.startsWith(C.key))),this.focusedItemInfo.set({index:l,level:d,parentKey:p,item:g}),this.dirty=!0,M.focus(this.rootmenu.sublistViewChild.nativeElement)}else if(o)this.onItemChange(e);else{let l=s?r:this.activeItemPath().find(c=>c.parentKey==="");this.hide(t),this.changeFocusedItemIndex(t,l?l.index:-1),M.focus(this.rootmenu.sublistViewChild.nativeElement)}}onItemMouseEnter(e){M.isTouchDevice()?this.onItemChange({event:e,processedItem:e.processedItem,focus:this.autoDisplay}):(this.autoDisplay&&(this.dirty=!0),this.dirty&&this.onItemChange(e))}onKeyDown(e){let t=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"ArrowLeft":this.onArrowLeftKey(e);break;case"ArrowRight":this.onArrowRightKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"Space":this.onSpaceKey(e);break;case"Enter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"PageDown":case"PageUp":case"Backspace":case"ShiftLeft":case"ShiftRight":break;default:!t&&fe.isPrintableCharacter(e.key)&&this.searchItems(e,e.key);break}}onArrowDownKey(e){let t=this.focusedItemInfo().index!==-1?this.findNextItemIndex(this.focusedItemInfo().index):this.findFirstFocusedItemIndex();this.changeFocusedItemIndex(e,t),e.preventDefault()}onArrowRightKey(e){let t=this.visibleItems[this.focusedItemInfo().index],r=this.isProccessedItemGroup(t),o=t?.item;r&&(this.onItemChange({originalEvent:e,processedItem:t}),this.focusedItemInfo.set({index:-1,parentKey:t.key,item:o}),this.searchValue="",this.onArrowDownKey(e)),e.preventDefault()}onArrowUpKey(e){if(e.altKey){if(this.focusedItemInfo().index!==-1){let t=this.visibleItems[this.focusedItemInfo().index];!this.isProccessedItemGroup(t)&&this.onItemChange({originalEvent:e,processedItem:t})}this.popup&&this.hide(e,!0),e.preventDefault()}else{let t=this.focusedItemInfo().index!==-1?this.findPrevItemIndex(this.focusedItemInfo().index):this.findLastFocusedItemIndex();this.changeFocusedItemIndex(e,t),e.preventDefault()}}onArrowLeftKey(e){let t=this.visibleItems[this.focusedItemInfo().index],r=this.activeItemPath().find(a=>a.key===t.parentKey);fe.isEmpty(t.parent)||(this.focusedItemInfo.set({index:-1,parentKey:r?r.parentKey:"",item:t.item}),this.searchValue="",this.onArrowDownKey(e));let s=this.activeItemPath().filter(a=>a.parentKey!==this.focusedItemInfo().parentKey);this.activeItemPath.set(s),e.preventDefault()}onHomeKey(e){this.changeFocusedItemIndex(e,this.findFirstItemIndex()),e.preventDefault()}onEndKey(e){this.changeFocusedItemIndex(e,this.findLastItemIndex()),e.preventDefault()}onSpaceKey(e){this.onEnterKey(e)}onEscapeKey(e){this.hide(e,!0),this.focusedItemInfo().index=this.findFirstFocusedItemIndex(),e.preventDefault()}onTabKey(e){if(this.focusedItemInfo().index!==-1){let t=this.visibleItems[this.focusedItemInfo().index];!this.isProccessedItemGroup(t)&&this.onItemChange({originalEvent:e,processedItem:t})}this.hide()}onEnterKey(e){if(this.focusedItemInfo().index!==-1){let t=M.findSingle(this.rootmenu.el.nativeElement,`li[id="${`${this.focusedItemId}`}"]`),r=t&&M.findSingle(t,'a[data-pc-section="action"]');if(r?r.click():t&&t.click(),!this.popup){let o=this.visibleItems[this.focusedItemInfo().index];!this.isProccessedItemGroup(o)&&(this.focusedItemInfo().index=this.findFirstFocusedItemIndex())}}e.preventDefault()}onItemChange(e){let{processedItem:t,isFocus:r}=e;if(fe.isEmpty(t))return;let{index:o,key:s,level:a,parentKey:l,items:c,item:d}=t,p=fe.isNotEmpty(c),g=this.activeItemPath().filter(C=>C.parentKey!==l&&C.parentKey!==s);p&&g.push(t),this.focusedItemInfo.set({index:o,level:a,parentKey:l,item:d}),this.activeItemPath.set(g),p&&(this.dirty=!0),r&&M.focus(this.rootmenu.sublistViewChild.nativeElement)}onMenuFocus(e){this.focused=!0,this.focusedItemInfo().index===-1&&this.popup}onMenuBlur(e){this.focused=!1,this.focusedItemInfo.set({index:-1,level:0,parentKey:"",item:null}),this.searchValue="",this.dirty=!1}onOverlayAnimationStart(e){switch(e.toState){case"visible":this.popup&&(this.container=e.element,this.moveOnTop(),this.onShow.emit({}),this.appendOverlay(),this.alignOverlay(),this.bindOutsideClickListener(),this.bindResizeListener(),this.bindScrollListener(),M.focus(this.rootmenu.sublistViewChild.nativeElement),this.scrollInView());break;case"void":this.onOverlayHide(),this.onHide.emit({});break}}alignOverlay(){this.relativeAlign?M.relativePosition(this.container,this.target):M.absolutePosition(this.container,this.target)}onOverlayAnimationEnd(e){switch(e.toState){case"void":hi.clear(e.element);break}}appendOverlay(){this.appendTo&&(this.appendTo==="body"?this.renderer.appendChild(this.document.body,this.container):M.appendChild(this.container,this.appendTo))}restoreOverlayAppend(){this.container&&this.appendTo&&this.renderer.appendChild(this.el.nativeElement,this.container)}moveOnTop(){this.autoZIndex&&hi.set("menu",this.container,this.baseZIndex+this.config.zIndex.menu)}hide(e,t){this.popup&&(this.onHide.emit({}),this.visible=!1),this.activeItemPath.set([]),this.focusedItemInfo.set({index:-1,level:0,parentKey:""}),t&&M.focus(this.relatedTarget||this.target||this.rootmenu.sublistViewChild.nativeElement),this.dirty=!1}toggle(e){this.visible?this.hide(e,!0):this.show(e)}show(e,t){this.popup&&(this.visible=!0,this.target=this.target||e.currentTarget,this.relatedTarget=e.relatedTarget||null,this.relativeAlign=e?.relativeAlign||null),this.focusedItemInfo.set({index:-1,level:0,parentKey:""}),t&&M.focus(this.rootmenu.sublistViewChild.nativeElement),this.cd.markForCheck()}searchItems(e,t){this.searchValue=(this.searchValue||"")+t;let r=-1,o=!1;return this.focusedItemInfo().index!==-1?(r=this.visibleItems.slice(this.focusedItemInfo().index).findIndex(s=>this.isItemMatched(s)),r=r===-1?this.visibleItems.slice(0,this.focusedItemInfo().index).findIndex(s=>this.isItemMatched(s)):r+this.focusedItemInfo().index):r=this.visibleItems.findIndex(s=>this.isItemMatched(s)),r!==-1&&(o=!0),r===-1&&this.focusedItemInfo().index===-1&&(r=this.findFirstFocusedItemIndex()),r!==-1&&this.changeFocusedItemIndex(e,r),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),o}findLastFocusedItemIndex(){let e=this.findSelectedItemIndex();return e<0?this.findLastItemIndex():e}findLastItemIndex(){return fe.findLastIndex(this.visibleItems,e=>this.isValidItem(e))}findPrevItemIndex(e){let t=e>0?fe.findLastIndex(this.visibleItems.slice(0,e),r=>this.isValidItem(r)):-1;return t>-1?t:e}findNextItemIndex(e){let t=e<this.visibleItems.length-1?this.visibleItems.slice(e+1).findIndex(r=>this.isValidItem(r)):-1;return t>-1?t+e+1:e}findFirstFocusedItemIndex(){let e=this.findSelectedItemIndex();return e<0?this.findFirstItemIndex():e}findFirstItemIndex(){return this.visibleItems.findIndex(e=>this.isValidItem(e))}findSelectedItemIndex(){return this.visibleItems.findIndex(e=>this.isValidSelectedItem(e))}changeFocusedItemIndex(e,t){if(this.focusedItemInfo().index!==t){let r=this.focusedItemInfo();this.focusedItemInfo.set(Pe(re({},r),{item:this.visibleItems[t].item,index:t})),this.scrollInView()}}scrollInView(e=-1){let t=e!==-1?`${this.id}_${e}`:this.focusedItemId,r=M.findSingle(this.rootmenu.el.nativeElement,`li[id="${t}"]`);r&&r.scrollIntoView&&r.scrollIntoView({block:"nearest",inline:"nearest"})}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new Zr(this.target,e=>{this.visible&&this.hide(e,!0)})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&(this.scrollHandler.unbindScrollListener(),this.scrollHandler=null)}bindResizeListener(){ht(this.platformId)&&(this.resizeListener||(this.resizeListener=this.renderer.listen(this.document.defaultView,"resize",e=>{M.isTouchDevice()||this.hide(e,!0)})))}bindOutsideClickListener(){ht(this.platformId)&&(this.outsideClickListener||(this.outsideClickListener=this.renderer.listen(this.document,"click",e=>{let t=this.containerViewChild&&!this.containerViewChild.nativeElement.contains(e.target),r=this.popup?!(this.target&&(this.target===e.target||this.target.contains(e.target))):!0;t&&r&&this.hide()})))}unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)}unbindResizeListener(){this.resizeListener&&(this.resizeListener(),this.resizeListener=null)}onOverlayHide(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.unbindScrollListener(),this.cd.destroyed||(this.target=null)}ngOnDestroy(){this.popup&&(this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.container&&this.autoZIndex&&hi.clear(this.container),this.restoreOverlayAppend(),this.onOverlayHide())}static \u0275fac=function(t){return new(t||i)(b(_t),b(qt),b(ze),b(Ft),b(Ie),b(Vt),b(Ao))};static \u0275cmp=ie({type:i,selectors:[["p-tieredMenu"]],contentQueries:function(t,r,o){if(t&1&&ot(o,be,4),t&2){let s;ee(s=te())&&(r.templates=s)}},viewQuery:function(t,r){if(t&1&&(de(pke,5),de(hke,5)),t&2){let o;ee(o=te())&&(r.rootmenu=o.first),ee(o=te())&&(r.containerViewChild=o.first)}},hostAttrs:[1,"p-element"],inputs:{model:"model",popup:[2,"popup","popup",K],style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:[2,"autoZIndex","autoZIndex",K],baseZIndex:[2,"baseZIndex","baseZIndex",ke],autoDisplay:[2,"autoDisplay","autoDisplay",K],showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",id:"id",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",disabled:[2,"disabled","disabled",K],tabindex:[2,"tabindex","tabindex",ke]},outputs:{onShow:"onShow",onHide:"onHide"},features:[qe],decls:1,vars:1,consts:[["container",""],["rootmenu",""],[3,"id","ngClass","class","ngStyle","click",4,"ngIf"],[3,"click","id","ngClass","ngStyle"],[3,"itemClick","menuFocus","menuBlur","menuKeydown","itemMouseEnter","root","items","itemTemplate","menuId","tabindex","ariaLabel","ariaLabelledBy","baseZIndex","autoZIndex","autoDisplay","popup","focusedItemId","activeItemPath"]],template:function(t,r){t&1&&I(0,_ke,4,29,"div",2),t&2&&h("ngIf",!r.popup||r.visible)},dependencies:[Ge,et,Ee,Cke],styles:[`@layer primeng{.p-tieredmenu-overlay{position:absolute;top:0;left:0}.p-tieredmenu ul{margin:0;padding:0;list-style:none}.p-tieredmenu .p-submenu-list{position:absolute;min-width:100%;z-index:1;display:none}.p-tieredmenu .p-menuitem-link{cursor:pointer;display:flex;align-items:center;text-decoration:none;overflow:hidden;position:relative}.p-tieredmenu .p-menuitem-text{line-height:1}.p-tieredmenu .p-menuitem{position:relative}.p-tieredmenu .p-menuitem-link .p-submenu-icon:not(svg){margin-left:auto}.p-tieredmenu .p-menuitem-link .p-icon-wrapper{margin-left:auto}.p-tieredmenu .p-menuitem-active>p-tieredmenusub>.p-submenu-list{display:block;left:100%;top:0}.p-tieredmenu .p-menuitem-active>p-tieredmenusub>.p-submenu-list.p-submenu-list-flipped{left:-100%}}
`],encapsulation:2,data:{animation:[hn("overlayAnimation",[Xt(":enter",[jt({opacity:0,transform:"scaleY(0.8)"}),Jt("{{showTransitionParams}}")]),Xt(":leave",[Jt("{{hideTransitionParams}}",jt({opacity:0}))])])]},changeDetection:0})}return i})(),FP=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=Oe({type:i});static \u0275inj=Te({imports:[Ye,Na,Qi,zr,ru,nt,Na,zr,nt]})}return i})();var Ike=["container"],vke=["defaultbtn"],bke=["menu"];function wke(i,n){i&1&&ue(0)}function Ske(i,n){if(i&1){let e=B();pe(0),m(1,"button",10),P("click",function(r){S(e);let o=f();return A(o.onDefaultButtonClick(r))}),I(2,wke,1,0,"ng-container",8),_(),he()}if(i&2){let e=f();u(),h("severity",e.severity)("text",e.text)("outlined",e.outlined)("size",e.size)("icon",e.icon)("iconPos",e.iconPos)("disabled",e.disabled)("ariaLabel",(e.buttonProps==null?null:e.buttonProps.ariaLabel)||e.label)("autofocus",e.autofocus)("pTooltip",e.tooltip)("tooltipOptions",e.tooltipOptions),V("tabindex",e.tabindex),u(),h("ngTemplateOutlet",e.contentTemplate)}}function Ake(i,n){if(i&1){let e=B();m(0,"button",11,3),P("click",function(r){S(e);let o=f();return A(o.onDefaultButtonClick(r))}),_()}if(i&2){let e=f();h("severity",e.severity)("text",e.text)("outlined",e.outlined)("size",e.size)("icon",e.icon)("iconPos",e.iconPos)("label",e.label)("disabled",e.buttonDisabled)("ariaLabel",e.buttonProps==null?null:e.buttonProps.ariaLabel)("autofocus",e.autofocus)("pTooltip",e.tooltip)("tooltipOptions",e.tooltipOptions),V("tabindex",e.tabindex)}}function Eke(i,n){i&1&&O(0,"ChevronDownIcon")}function xke(i,n){}function Tke(i,n){i&1&&I(0,xke,0,0,"ng-template")}var CG=(()=>{class i{model;severity;raised=!1;rounded=!1;text=!1;outlined=!1;size=null;plain=!1;icon;iconPos="left";label;tooltip;tooltipOptions;style;styleClass;menuStyle;menuStyleClass;appendTo;dir;expandAriaLabel;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";buttonProps;menuButtonProps;autofocus;set disabled(e){this._disabled=e,this._buttonDisabled=e,this.menuButtonDisabled=e}get disabled(){return this._disabled}tabindex;set menuButtonDisabled(e){this.disabled?this._menuButtonDisabled=this.disabled:this._menuButtonDisabled=e}get menuButtonDisabled(){return this._menuButtonDisabled}set buttonDisabled(e){this.disabled?this.buttonDisabled=this.disabled:this._buttonDisabled=e}get buttonDisabled(){return this._buttonDisabled}onClick=new Q;onMenuHide=new Q;onMenuShow=new Q;onDropdownClick=new Q;containerViewChild;buttonViewChild;menu;templates;contentTemplate;dropdownIconTemplate;ariaId;isExpanded=Oi(!1);_disabled;_buttonDisabled;_menuButtonDisabled;ngOnInit(){this.ariaId=yt()}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;case"dropdownicon":this.dropdownIconTemplate=e.template;break;default:this.contentTemplate=e.template;break}})}get containerClass(){let e={"p-splitbutton p-component":!0,"p-button-raised":this.raised,"p-button-rounded":this.rounded,"p-button-outlined":this.outlined,"p-button-text":this.text,"p-button-plain":this.plain,[`p-button-${this.size==="small"?"sm":"lg"}`]:this.size};return re({},e)}onDefaultButtonClick(e){this.onClick.emit(e),this.menu.hide()}onDropdownButtonClick(e){this.onDropdownClick.emit(e),this.menu?.toggle({currentTarget:this.containerViewChild?.nativeElement,relativeAlign:this.appendTo==null})}onDropdownButtonKeydown(e){(e.code==="ArrowDown"||e.code==="ArrowUp")&&(this.onDropdownButtonClick(),e.preventDefault())}onHide(){this.isExpanded.set(!1),this.onMenuHide.emit()}onShow(){this.isExpanded.set(!0),this.onMenuShow.emit()}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=ie({type:i,selectors:[["p-splitButton"]],contentQueries:function(t,r,o){if(t&1&&ot(o,be,4),t&2){let s;ee(s=te())&&(r.templates=s)}},viewQuery:function(t,r){if(t&1&&(de(Ike,5),de(vke,5),de(bke,5)),t&2){let o;ee(o=te())&&(r.containerViewChild=o.first),ee(o=te())&&(r.buttonViewChild=o.first),ee(o=te())&&(r.menu=o.first)}},hostAttrs:[1,"p-element"],inputs:{model:"model",severity:"severity",raised:[2,"raised","raised",K],rounded:[2,"rounded","rounded",K],text:[2,"text","text",K],outlined:[2,"outlined","outlined",K],size:"size",plain:[2,"plain","plain",K],icon:"icon",iconPos:"iconPos",label:"label",tooltip:"tooltip",tooltipOptions:"tooltipOptions",style:"style",styleClass:"styleClass",menuStyle:"menuStyle",menuStyleClass:"menuStyleClass",appendTo:"appendTo",dir:"dir",expandAriaLabel:"expandAriaLabel",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",buttonProps:"buttonProps",menuButtonProps:"menuButtonProps",autofocus:[2,"autofocus","autofocus",K],disabled:[2,"disabled","disabled",K],tabindex:[2,"tabindex","tabindex",ke],menuButtonDisabled:"menuButtonDisabled",buttonDisabled:"buttonDisabled"},outputs:{onClick:"onClick",onMenuHide:"onMenuHide",onMenuShow:"onMenuShow",onDropdownClick:"onDropdownClick"},features:[qe],decls:10,vars:26,consts:[["container",""],["defaultButton",""],["menu",""],["defaultbtn",""],[3,"ngClass","ngStyle"],[4,"ngIf","ngIfElse"],["type","button","pButton","",1,"p-splitbutton-menubutton","p-button-icon-only",3,"click","keydown","size","severity","text","outlined","disabled","ariaLabel"],[4,"ngIf"],[4,"ngTemplateOutlet"],[3,"onHide","onShow","id","popup","model","styleClass","appendTo","showTransitionOptions","hideTransitionOptions"],["type","button","pButton","","pAutoFocus","",1,"p-splitbutton-defaultbutton",3,"click","severity","text","outlined","size","icon","iconPos","disabled","ariaLabel","autofocus","pTooltip","tooltipOptions"],["type","button","pButton","","pAutoFocus","",1,"p-splitbutton-defaultbutton",3,"click","severity","text","outlined","size","icon","iconPos","label","disabled","ariaLabel","autofocus","pTooltip","tooltipOptions"]],template:function(t,r){if(t&1){let o=B();m(0,"div",4,0),I(2,Ske,3,13,"ng-container",5)(3,Ake,2,13,"ng-template",null,1,Pt),m(5,"button",6),P("click",function(a){return S(o),A(r.onDropdownButtonClick(a))})("keydown",function(a){return S(o),A(r.onDropdownButtonKeydown(a))}),I(6,Eke,1,0,"ChevronDownIcon",7)(7,Tke,1,0,null,8),_(),m(8,"p-tieredMenu",9,2),P("onHide",function(){return S(o),A(r.onHide())})("onShow",function(){return S(o),A(r.onShow())}),_()()}if(t&2){let o=We(4);le(r.styleClass),h("ngClass",r.containerClass)("ngStyle",r.style),u(2),h("ngIf",r.contentTemplate)("ngIfElse",o),u(3),h("size",r.size)("severity",r.severity)("text",r.text)("outlined",r.outlined)("disabled",r.menuButtonDisabled)("ariaLabel",(r.menuButtonProps==null?null:r.menuButtonProps.ariaLabel)||r.expandAriaLabel),V("aria-haspopup",(r.menuButtonProps==null?null:r.menuButtonProps.ariaHasPopup)||!0)("aria-expanded",(r.menuButtonProps==null?null:r.menuButtonProps.ariaExpanded)||r.isExpanded())("aria-controls",(r.menuButtonProps==null?null:r.menuButtonProps.ariaControls)||r.ariaId),u(),h("ngIf",!r.dropdownIconTemplate),u(),h("ngTemplateOutlet",r.dropdownIconTemplate),u(),dt(r.menuStyle),h("id",r.ariaId)("popup",!0)("model",r.model)("styleClass",r.menuStyleClass)("appendTo",r.appendTo)("showTransitionOptions",r.showTransitionOptions)("hideTransitionOptions",r.hideTransitionOptions)}},dependencies:()=>[Ge,et,st,Ee,mt,kP,Zn,Mn,To],styles:[`@layer primeng{.p-splitbutton{display:inline-flex;position:relative}.p-splitbutton .p-splitbutton-defaultbutton,.p-splitbutton.p-button-rounded>.p-splitbutton-defaultbutton.p-button,.p-splitbutton.p-button-outlined>.p-splitbutton-defaultbutton.p-button{flex:1 1 auto;border-top-right-radius:0;border-bottom-right-radius:0;border-right:0 none}.p-splitbutton-menubutton,.p-splitbutton.p-button-rounded>.p-splitbutton-menubutton.p-button,.p-splitbutton.p-button-outlined>.p-splitbutton-menubutton.p-button{display:flex;align-items:center;justify-content:center;border-top-left-radius:0;border-bottom-left-radius:0}.p-splitbutton .p-menu{min-width:100%}.p-fluid .p-splitbutton{display:flex}}
`],encapsulation:2,changeDetection:0})}return i})(),LP=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=Oe({type:i});static \u0275inj=Te({imports:[Ye,Gr,FP,Qn,To,Gr,FP]})}return i})();var eC=i=>({height:i}),Dke=(i,n)=>({"p-multiselect-item":!0,"p-disabled":i,"p-focus":n}),Rke=i=>({"p-variant-filled":i}),Pke=i=>({"p-highlight":i}),B1=i=>({$implicit:i});function kke(i,n){i&1&&O(0,"CheckIcon",7),i&2&&(h("styleClass","p-checkbox-icon"),V("aria-hidden",!0))}function Fke(i,n){}function Lke(i,n){i&1&&I(0,Fke,0,0,"ng-template")}function Mke(i,n){if(i&1&&(m(0,"span",8),I(1,Lke,1,0,null,9),_()),i&2){let e=f(2);V("aria-hidden",!0),u(),h("ngTemplateOutlet",e.checkIconTemplate)}}function Nke(i,n){}function Vke(i,n){i&1&&I(0,Nke,0,0,"ng-template")}function Bke(i,n){if(i&1&&(m(0,"span",8),I(1,Vke,1,0,null,4),_()),i&2){let e=f(2);V("aria-hidden",!0),u(),h("ngTemplateOutlet",e.itemCheckboxIconTemplate)("ngTemplateOutletContext",oe(3,B1,e.selected))}}function Uke(i,n){if(i&1&&(pe(0),I(1,kke,1,2,"CheckIcon",5)(2,Mke,2,2,"span",6)(3,Bke,2,5,"span",6),he()),i&2){let e=f();u(),h("ngIf",!e.checkIconTemplate&&!e.itemCheckboxIconTemplate),u(),h("ngIf",e.checkIconTemplate),u(),h("ngIf",e.itemCheckboxIconTemplate)}}function jke(i,n){if(i&1&&(m(0,"span"),D(1),_()),i&2){let e,t=f();u(),$((e=t.label)!==null&&e!==void 0?e:"empty")}}function Hke(i,n){i&1&&ue(0)}var Gke=["container"],zke=["overlay"],Wke=["filterInput"],Kke=["focusInput"],$ke=["items"],qke=["scroller"],Yke=["lastHiddenFocusableEl"],Jke=["firstHiddenFocusableEl"],Xke=["headerCheckbox"],Qke=[[["p-header"]],[["p-footer"]]],Zke=["p-header","p-footer"],eFe=(i,n)=>({$implicit:i,removeChip:n}),tFe=i=>({"p-disabled":i}),iFe=i=>({"max-height":i}),yG=i=>({options:i}),nFe=(i,n)=>({"p-variant-filled":i,"p-checkbox-disabled":n}),rFe=(i,n,e)=>({"p-highlight":i,"p-focus":n,"p-disabled":e}),oFe=(i,n)=>({$implicit:i,partialSelected:n}),IG=(i,n)=>({$implicit:i,options:n}),sFe=()=>({});function aFe(i,n){if(i&1&&(pe(0),D(1),he()),i&2){let e=f(2);u(),$(e.label()||"empty")}}function lFe(i,n){if(i&1){let e=B();m(0,"TimesCircleIcon",31),P("click",function(){S(e);let r=f(2).$implicit,o=f(3);return A(o.removeOption(r,o.event))})("keydown",function(r){S(e);let o=f(2).$implicit,s=f(3);return A(s.onremoveTokenIconKeyDown(r,o))}),_()}if(i&2){let e=f(2).$implicit,t=f(3);h("ngClass",oe(5,tFe,t.isOptionDisabled(e)))("styleClass","p-multiselect-token-icon"),V("tabindex",0)("data-pc-section","clearicon")("aria-hidden",!0)}}function cFe(i,n){i&1&&ue(0)}function dFe(i,n){if(i&1){let e=B();m(0,"span",32),P("click",function(){S(e);let r=f(2).$implicit,o=f(3);return A(o.removeOption(r,o.event))})("keydown",function(r){S(e);let o=f(2).$implicit,s=f(3);return A(s.onremoveTokenIconKeyDown(r,o))}),I(1,cFe,1,0,"ng-container",33),_()}if(i&2){let e=f(5);V("tabindex",0)("data-pc-section","clearicon")("aria-hidden",!0),u(),h("ngTemplateOutlet",e.removeTokenIconTemplate)}}function uFe(i,n){if(i&1&&(pe(0),I(1,lFe,1,7,"TimesCircleIcon",29)(2,dFe,2,4,"span",30),he()),i&2){let e=f(4);u(),h("ngIf",!e.removeTokenIconTemplate),u(),h("ngIf",e.removeTokenIconTemplate)}}function pFe(i,n){if(i&1&&(m(0,"div",27,4)(2,"span",28),D(3),_(),I(4,uFe,3,2,"ng-container",20),_()),i&2){let e=n.$implicit,t=f(3);u(3),$(t.getLabelByValue(e)),u(),h("ngIf",!t.disabled)}}function hFe(i,n){if(i&1&&(pe(0),D(1),he()),i&2){let e=f(3);u(),$(e.placeholder()||e.defaultLabel||"empty")}}function fFe(i,n){if(i&1&&(pe(0),I(1,pFe,5,2,"div",26)(2,hFe,2,1,"ng-container",20),he()),i&2){let e=f(2);u(),h("ngForOf",e.chipSelectedItems()),u(),h("ngIf",!e.modelValue()||e.modelValue().length===0)}}function mFe(i,n){if(i&1&&(pe(0),I(1,aFe,2,1,"ng-container",20)(2,fFe,3,2,"ng-container",20),he()),i&2){let e=f();u(),h("ngIf",e.display==="comma"),u(),h("ngIf",e.display==="chip")}}function gFe(i,n){i&1&&ue(0)}function _Fe(i,n){if(i&1){let e=B();m(0,"TimesIcon",36),P("click",function(r){S(e);let o=f(2);return A(o.clear(r))}),_()}i&2&&(h("styleClass","p-multiselect-clear-icon"),V("data-pc-section","clearicon")("aria-hidden",!0))}function CFe(i,n){}function yFe(i,n){i&1&&I(0,CFe,0,0,"ng-template")}function IFe(i,n){if(i&1){let e=B();m(0,"span",37),P("click",function(r){S(e);let o=f(2);return A(o.clear(r))}),I(1,yFe,1,0,null,33),_()}if(i&2){let e=f(2);V("data-pc-section","clearicon")("aria-hidden",!0),u(),h("ngTemplateOutlet",e.clearIconTemplate)}}function vFe(i,n){if(i&1&&(pe(0),I(1,_Fe,1,3,"TimesIcon",34)(2,IFe,2,3,"span",35),he()),i&2){let e=f();u(),h("ngIf",!e.clearIconTemplate),u(),h("ngIf",e.clearIconTemplate)}}function bFe(i,n){i&1&&ue(0)}function wFe(i,n){if(i&1&&(pe(0),I(1,bFe,1,0,"ng-container",33),he()),i&2){let e=f(2);u(),h("ngTemplateOutlet",e.loadingIconTemplate)}}function SFe(i,n){if(i&1&&O(0,"span",40),i&2){let e=f(3);h("ngClass","p-multiselect-trigger-icon pi-spin "+e.loadingIcon)}}function AFe(i,n){i&1&&O(0,"span",41),i&2&&le("p-multiselect-trigger-icon pi pi-spinner pi-spin")}function EFe(i,n){if(i&1&&(pe(0),I(1,SFe,1,1,"span",38)(2,AFe,1,2,"span",39),he()),i&2){let e=f(2);u(),h("ngIf",e.loadingIcon),u(),h("ngIf",!e.loadingIcon)}}function xFe(i,n){if(i&1&&(pe(0),I(1,wFe,2,1,"ng-container",20)(2,EFe,3,2,"ng-container",20),he()),i&2){let e=f();u(),h("ngIf",e.loadingIconTemplate),u(),h("ngIf",!e.loadingIconTemplate)}}function TFe(i,n){if(i&1&&O(0,"span",45),i&2){let e=f(3);h("ngClass",e.dropdownIcon),V("data-pc-section","triggericon")("aria-hidden",!0)}}function OFe(i,n){i&1&&O(0,"ChevronDownIcon",46),i&2&&(h("styleClass","p-multiselect-trigger-icon"),V("data-pc-section","triggericon")("aria-hidden",!0))}function DFe(i,n){if(i&1&&(pe(0),I(1,TFe,1,3,"span",43)(2,OFe,1,3,"ChevronDownIcon",44),he()),i&2){let e=f(2);u(),h("ngIf",e.dropdownIcon),u(),h("ngIf",!e.dropdownIcon)}}function RFe(i,n){}function PFe(i,n){i&1&&I(0,RFe,0,0,"ng-template")}function kFe(i,n){if(i&1&&(m(0,"span",47),I(1,PFe,1,0,null,33),_()),i&2){let e=f(2);V("data-pc-section","triggericon")("aria-hidden",!0),u(),h("ngTemplateOutlet",e.dropdownIconTemplate)}}function FFe(i,n){if(i&1&&I(0,DFe,3,2,"ng-container",20)(1,kFe,2,3,"span",42),i&2){let e=f();h("ngIf",!e.dropdownIconTemplate),u(),h("ngIf",e.dropdownIconTemplate)}}function LFe(i,n){i&1&&ue(0)}function MFe(i,n){i&1&&ue(0)}function NFe(i,n){if(i&1&&(pe(0),I(1,MFe,1,0,"ng-container",21),he()),i&2){let e=f(3);u(),h("ngTemplateOutlet",e.filterTemplate)("ngTemplateOutletContext",oe(2,yG,e.filterOptions))}}function VFe(i,n){i&1&&O(0,"CheckIcon",46),i&2&&(h("styleClass","p-checkbox-icon"),V("aria-hidden",!0))}function BFe(i,n){if(i&1&&(pe(0),I(1,VFe,1,2,"CheckIcon",44),he()),i&2){let e=f(6);u(),h("ngIf",e.allSelected())}}function UFe(i,n){}function jFe(i,n){i&1&&I(0,UFe,0,0,"ng-template")}function HFe(i,n){if(i&1&&(m(0,"span",63),I(1,jFe,1,0,null,21),_()),i&2){let e=f(6);V("aria-hidden",!0),u(),h("ngTemplateOutlet",e.checkIconTemplate)("ngTemplateOutletContext",oe(3,B1,e.allSelected()))}}function GFe(i,n){}function zFe(i,n){i&1&&I(0,GFe,0,0,"ng-template")}function WFe(i,n){if(i&1&&(m(0,"span",63),I(1,zFe,1,0,null,21),_()),i&2){let e=f(6);V("aria-hidden",!0),u(),h("ngTemplateOutlet",e.headerCheckboxIconTemplate)("ngTemplateOutletContext",Je(3,oFe,e.allSelected(),e.partialSelected()))}}function KFe(i,n){if(i&1&&(pe(0),I(1,BFe,2,1,"ng-container",20)(2,HFe,2,5,"span",62)(3,WFe,2,6,"span",62),he()),i&2){let e=f(5);u(),h("ngIf",!e.checkIconTemplate&&!e.headerCheckboxIconTemplate),u(),h("ngIf",e.checkIconTemplate),u(),h("ngIf",e.headerCheckboxIconTemplate)}}function $Fe(i,n){if(i&1){let e=B();m(0,"div",59),P("click",function(r){S(e);let o=f(4);return A(o.onToggleAll(r))})("keydown",function(r){S(e);let o=f(4);return A(o.onHeaderCheckboxKeyDown(r))}),m(1,"div",16)(2,"input",60,9),P("focus",function(){S(e);let r=f(4);return A(r.onHeaderCheckboxFocus())})("blur",function(){S(e);let r=f(4);return A(r.onHeaderCheckboxBlur())}),_()(),m(4,"div",61),I(5,KFe,4,3,"ng-container",20),_()()}if(i&2){let e=f(4);h("ngClass",Je(10,nFe,e.variant==="filled"||e.config.inputStyle()==="filled",e.disabled||e.toggleAllDisabled)),u(),V("data-p-hidden-accessible",!0),u(),h("readonly",e.readonly)("disabled",e.disabled||e.toggleAllDisabled),V("checked",e.allSelected())("aria-label",e.toggleAllAriaLabel),u(2),h("ngClass",zi(13,rFe,e.allSelected(),e.headerCheckboxFocus,e.disabled||e.toggleAllDisabled)),V("aria-label",e.toggleAllAriaLabel)("aria-checked",e.allSelected()),u(),h("ngIf",e.allSelected()||e.partialSelected())}}function qFe(i,n){i&1&&O(0,"SearchIcon",46),i&2&&h("styleClass","p-multiselect-filter-icon")}function YFe(i,n){}function JFe(i,n){i&1&&I(0,YFe,0,0,"ng-template")}function XFe(i,n){if(i&1&&(m(0,"span",67),I(1,JFe,1,0,null,33),_()),i&2){let e=f(5);u(),h("ngTemplateOutlet",e.filterIconTemplate)}}function QFe(i,n){if(i&1){let e=B();m(0,"div",64)(1,"input",65,10),P("input",function(r){S(e);let o=f(4);return A(o.onFilterInputChange(r))})("keydown",function(r){S(e);let o=f(4);return A(o.onFilterKeyDown(r))})("click",function(r){S(e);let o=f(4);return A(o.onInputClick(r))})("blur",function(r){S(e);let o=f(4);return A(o.onFilterBlur(r))}),_(),I(3,qFe,1,1,"SearchIcon",44)(4,XFe,2,1,"span",66),_()}if(i&2){let e=f(4);u(),h("value",e._filterValue()||"")("disabled",e.disabled),V("autocomplete",e.autocomplete)("placeholder",e.filterPlaceHolder)("aria-owns",e.id+"_list")("aria-activedescendant",e.focusedOptionId)("placeholder",e.filterPlaceHolder)("aria-label",e.ariaFilterLabel),u(2),h("ngIf",!e.filterIconTemplate),u(),h("ngIf",e.filterIconTemplate)}}function ZFe(i,n){i&1&&O(0,"TimesIcon",46),i&2&&h("styleClass","p-multiselect-close-icon")}function eLe(i,n){}function tLe(i,n){i&1&&I(0,eLe,0,0,"ng-template")}function iLe(i,n){if(i&1&&(m(0,"span",68),I(1,tLe,1,0,null,33),_()),i&2){let e=f(4);u(),h("ngTemplateOutlet",e.closeIconTemplate)}}function nLe(i,n){if(i&1){let e=B();I(0,$Fe,6,17,"div",55)(1,QFe,5,10,"div",56),m(2,"button",57),P("click",function(r){S(e);let o=f(3);return A(o.close(r))}),I(3,ZFe,1,1,"TimesIcon",44)(4,iLe,2,1,"span",58),_()}if(i&2){let e=f(3);h("ngIf",e.isSelectionAllDisabled()),u(),h("ngIf",e.filter),u(),V("aria-label",e.closeAriaLabel),u(),h("ngIf",!e.closeIconTemplate),u(),h("ngIf",e.closeIconTemplate)}}function rLe(i,n){if(i&1&&(m(0,"div",54),ii(1),I(2,LFe,1,0,"ng-container",33)(3,NFe,2,4,"ng-container",23)(4,nLe,5,5,"ng-template",null,8,Pt),_()),i&2){let e=We(5),t=f(2);u(2),h("ngTemplateOutlet",t.headerTemplate),u(),h("ngIf",t.filterTemplate)("ngIfElse",e)}}function oLe(i,n){i&1&&ue(0)}function sLe(i,n){if(i&1&&I(0,oLe,1,0,"ng-container",21),i&2){let e=n.$implicit,t=n.options;f(2);let r=We(8);h("ngTemplateOutlet",r)("ngTemplateOutletContext",Je(2,IG,e,t))}}function aLe(i,n){i&1&&ue(0)}function lLe(i,n){if(i&1&&I(0,aLe,1,0,"ng-container",21),i&2){let e=n.options,t=f(4);h("ngTemplateOutlet",t.loaderTemplate)("ngTemplateOutletContext",oe(2,yG,e))}}function cLe(i,n){i&1&&(pe(0),I(1,lLe,1,4,"ng-template",70),he())}function dLe(i,n){if(i&1){let e=B();m(0,"p-scroller",69,11),P("onLazyLoad",function(r){S(e);let o=f(2);return A(o.onLazyLoad.emit(r))}),I(2,sLe,1,5,"ng-template",25)(3,cLe,2,0,"ng-container",20),_()}if(i&2){let e=f(2);dt(oe(9,eC,e.scrollHeight)),h("items",e.visibleOptions())("itemSize",e.virtualScrollItemSize||e._itemSize)("autoSize",!0)("tabindex",-1)("lazy",e.lazy)("options",e.virtualScrollOptions),u(3),h("ngIf",e.loaderTemplate)}}function uLe(i,n){i&1&&ue(0)}function pLe(i,n){if(i&1&&(pe(0),I(1,uLe,1,0,"ng-container",21),he()),i&2){f();let e=We(8),t=f();u(),h("ngTemplateOutlet",e)("ngTemplateOutletContext",Je(3,IG,t.visibleOptions(),Ae(2,sFe)))}}function hLe(i,n){if(i&1&&(m(0,"span"),D(1),_()),i&2){let e=f(2).$implicit,t=f(3);u(),$(t.getOptionGroupLabel(e.optionGroup))}}function fLe(i,n){i&1&&ue(0)}function mLe(i,n){if(i&1&&(pe(0),m(1,"li",74),I(2,hLe,2,1,"span",20)(3,fLe,1,0,"ng-container",21),_(),he()),i&2){let e=f(),t=e.$implicit,r=e.index,o=f().options,s=f(2);u(),h("ngStyle",oe(5,eC,o.itemSize+"px")),V("id",s.id+"_"+s.getOptionIndex(r,o)),u(),h("ngIf",!s.groupTemplate),u(),h("ngTemplateOutlet",s.groupTemplate)("ngTemplateOutletContext",oe(7,B1,t.optionGroup))}}function gLe(i,n){if(i&1){let e=B();pe(0),m(1,"p-multiSelectItem",75),P("onClick",function(r){S(e);let o=f().index,s=f().options,a=f(2);return A(a.onOptionSelect(r,!1,a.getOptionIndex(o,s)))})("onMouseEnter",function(r){S(e);let o=f().index,s=f().options,a=f(2);return A(a.onOptionMouseEnter(r,a.getOptionIndex(o,s)))}),_(),he()}if(i&2){let e=f(),t=e.$implicit,r=e.index,o=f().options,s=f(2);u(),h("id",s.id+"_"+s.getOptionIndex(r,o))("option",t)("selected",s.isSelected(t))("label",s.getOptionLabel(t))("disabled",s.isOptionDisabled(t))("template",s.itemTemplate)("checkIconTemplate",s.checkIconTemplate)("itemCheckboxIconTemplate",s.itemCheckboxIconTemplate)("itemSize",o.itemSize)("focused",s.focusedOptionIndex()===s.getOptionIndex(r,o))("ariaPosInset",s.getAriaPosInset(s.getOptionIndex(r,o)))("ariaSetSize",s.ariaSetSize)}}function _Le(i,n){if(i&1&&I(0,mLe,4,9,"ng-container",20)(1,gLe,2,12,"ng-container",20),i&2){let e=n.$implicit,t=f(3);h("ngIf",t.isOptionGroup(e)),u(),h("ngIf",!t.isOptionGroup(e))}}function CLe(i,n){if(i&1&&(pe(0),D(1),he()),i&2){let e=f(4);u(),J(" ",e.emptyFilterMessageLabel," ")}}function yLe(i,n){i&1&&ue(0,null,13)}function ILe(i,n){if(i&1&&(m(0,"li",76),I(1,CLe,2,1,"ng-container",23)(2,yLe,2,0,"ng-container",33),_()),i&2){let e=f().options,t=f(2);h("ngStyle",oe(4,eC,e.itemSize+"px")),u(),h("ngIf",!t.emptyFilterTemplate&&!t.emptyTemplate)("ngIfElse",t.emptyFilter),u(),h("ngTemplateOutlet",t.emptyFilterTemplate||t.emptyTemplate)}}function vLe(i,n){if(i&1&&(pe(0),D(1),he()),i&2){let e=f(4);u(),J(" ",e.emptyMessageLabel," ")}}function bLe(i,n){i&1&&ue(0,null,14)}function wLe(i,n){if(i&1&&(m(0,"li",76),I(1,vLe,2,1,"ng-container",23)(2,bLe,2,0,"ng-container",33),_()),i&2){let e=f().options,t=f(2);h("ngStyle",oe(4,eC,e.itemSize+"px")),u(),h("ngIf",!t.emptyTemplate)("ngIfElse",t.empty),u(),h("ngTemplateOutlet",t.emptyTemplate)}}function SLe(i,n){if(i&1&&(m(0,"ul",71,12),I(2,_Le,2,2,"ng-template",72)(3,ILe,3,6,"li",73)(4,wLe,3,6,"li",73),_()),i&2){let e=n.$implicit,t=n.options,r=f(2);h("ngClass",t.contentStyleClass)("ngStyle",t.contentStyle),V("aria-label",r.listLabel),u(2),h("ngForOf",e),u(),h("ngIf",r.hasFilter()&&r.isEmpty()),u(),h("ngIf",!r.hasFilter()&&r.isEmpty())}}function ALe(i,n){i&1&&ue(0)}function ELe(i,n){if(i&1&&(m(0,"div",77),ii(1,1),I(2,ALe,1,0,"ng-container",33),_()),i&2){let e=f(2);u(2),h("ngTemplateOutlet",e.footerTemplate)}}function xLe(i,n){if(i&1){let e=B();m(0,"div",48)(1,"span",49,5),P("focus",function(r){S(e);let o=f();return A(o.onFirstHiddenFocus(r))}),_(),I(3,rLe,6,3,"div",50),m(4,"div",51),I(5,dLe,4,11,"p-scroller",52)(6,pLe,2,6,"ng-container",20)(7,SLe,5,6,"ng-template",null,6,Pt),_(),I(9,ELe,3,1,"div",53),m(10,"span",49,7),P("focus",function(r){S(e);let o=f();return A(o.onLastHiddenFocus(r))}),_()()}if(i&2){let e=f();le(e.panelStyleClass),h("ngClass","p-multiselect-panel p-component")("ngStyle",e.panelStyle),V("id",e.id+"_list"),u(),V("tabindex",0)("data-p-hidden-accessible",!0)("data-p-hidden-focusable",!0),u(2),h("ngIf",e.showHeader),u(),h("ngStyle",oe(16,iFe,e.virtualScroll?"auto":e.scrollHeight||"auto")),u(),h("ngIf",e.virtualScroll),u(),h("ngIf",!e.virtualScroll),u(3),h("ngIf",e.footerFacet||e.footerTemplate),u(),V("tabindex",0)("data-p-hidden-accessible",!0)("data-p-hidden-focusable",!0)}}var TLe={provide:nn,useExisting:zt(()=>MP),multi:!0},OLe=(()=>{class i{config;id;option;selected;label;disabled;itemSize;focused;ariaPosInset;ariaSetSize;template;checkIconTemplate;itemCheckboxIconTemplate;onClick=new Q;onMouseEnter=new Q;constructor(e){this.config=e}onOptionClick(e){this.onClick.emit({originalEvent:e,option:this.option,selected:this.selected}),e.stopPropagation()}onOptionMouseEnter(e){this.onMouseEnter.emit({originalEvent:e,option:this.option,selected:this.selected})}static \u0275fac=function(t){return new(t||i)(b(Vt))};static \u0275cmp=ie({type:i,selectors:[["p-multiSelectItem"]],hostAttrs:[1,"p-element"],inputs:{id:"id",option:"option",selected:[2,"selected","selected",K],label:"label",disabled:[2,"disabled","disabled",K],itemSize:[2,"itemSize","itemSize",ke],focused:[2,"focused","focused",K],ariaPosInset:"ariaPosInset",ariaSetSize:"ariaSetSize",template:"template",checkIconTemplate:"checkIconTemplate",itemCheckboxIconTemplate:"itemCheckboxIconTemplate"},outputs:{onClick:"onClick",onMouseEnter:"onMouseEnter"},features:[qe],decls:6,vars:28,consts:[["pRipple","","role","option",1,"p-multiselect-item",3,"click","mouseenter","ngStyle","ngClass","id"],[1,"p-checkbox","p-component",3,"ngClass"],[1,"p-checkbox-box",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"styleClass",4,"ngIf"],["class","p-checkbox-icon",4,"ngIf"],[3,"styleClass"],[1,"p-checkbox-icon"],[4,"ngTemplateOutlet"]],template:function(t,r){t&1&&(m(0,"li",0),P("click",function(s){return r.onOptionClick(s)})("mouseenter",function(s){return r.onOptionMouseEnter(s)}),m(1,"div",1)(2,"div",2),I(3,Uke,4,3,"ng-container",3),_()(),I(4,jke,2,1,"span",3)(5,Hke,1,0,"ng-container",4),_()),t&2&&(h("ngStyle",oe(17,eC,r.itemSize+"px"))("ngClass",Je(19,Dke,r.disabled,r.focused))("id",r.id),V("aria-label",r.label)("aria-setsize",r.ariaSetSize)("aria-posinset",r.ariaPosInset)("aria-selected",r.selected)("data-p-focused",r.focused)("data-p-highlight",r.selected)("data-p-disabled",r.disabled)("aria-checked",r.selected),u(),h("ngClass",oe(22,Rke,r.config.inputStyle()==="filled")),u(),h("ngClass",oe(24,Pke,r.selected)),u(),h("ngIf",r.selected),u(),h("ngIf",!r.template),u(),h("ngTemplateOutlet",r.template)("ngTemplateOutletContext",oe(26,B1,r.option)))},dependencies:()=>[Ge,et,st,Ee,qi,fn],encapsulation:2})}return i})(),MP=(()=>{class i{el;renderer;cd;zone;filterService;config;overlayService;id;ariaLabel;style;styleClass;panelStyle;panelStyleClass;inputId;disabled;readonly;group;filter=!0;filterPlaceHolder;filterLocale;overlayVisible;tabindex=0;variant="outlined";appendTo;dataKey;name;ariaLabelledBy;set displaySelectedLabel(e){this._displaySelectedLabel=e}get displaySelectedLabel(){return this._displaySelectedLabel}set maxSelectedLabels(e){this._maxSelectedLabels=e}get maxSelectedLabels(){return this._maxSelectedLabels}selectionLimit;selectedItemsLabel;showToggleAll=!0;emptyFilterMessage="";emptyMessage="";resetFilterOnHide=!1;dropdownIcon;optionLabel;optionValue;optionDisabled;optionGroupLabel="label";optionGroupChildren="items";showHeader=!0;filterBy;scrollHeight="200px";lazy=!1;virtualScroll;loading=!1;virtualScrollItemSize;loadingIcon;virtualScrollOptions;overlayOptions;ariaFilterLabel;filterMatchMode="contains";tooltip="";tooltipPosition="right";tooltipPositionStyle="absolute";tooltipStyleClass;autofocusFilter=!0;display="comma";autocomplete="off";showClear=!1;autofocus;get autoZIndex(){return this._autoZIndex}set autoZIndex(e){this._autoZIndex=e,console.warn("The autoZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}get baseZIndex(){return this._baseZIndex}set baseZIndex(e){this._baseZIndex=e,console.warn("The baseZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}get showTransitionOptions(){return this._showTransitionOptions}set showTransitionOptions(e){this._showTransitionOptions=e,console.warn("The showTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}get hideTransitionOptions(){return this._hideTransitionOptions}set hideTransitionOptions(e){this._hideTransitionOptions=e,console.warn("The hideTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}set defaultLabel(e){this._defaultLabel=e,console.warn("defaultLabel property is deprecated since 16.6.0, use placeholder instead")}get defaultLabel(){return this._defaultLabel}set placeholder(e){this._placeholder.set(e)}get placeholder(){return this._placeholder.asReadonly()}get options(){return this._options()}set options(e){fe.deepEquals(this._options(),e)||this._options.set(e)}get filterValue(){return this._filterValue()}set filterValue(e){this._filterValue.set(e)}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=e,console.warn("The itemSize property is deprecated, use virtualScrollItemSize property instead.")}get selectAll(){return this._selectAll}set selectAll(e){this._selectAll=e}focusOnHover=!1;filterFields;selectOnFocus=!1;autoOptionFocus=!0;onChange=new Q;onFilter=new Q;onFocus=new Q;onBlur=new Q;onClick=new Q;onClear=new Q;onPanelShow=new Q;onPanelHide=new Q;onLazyLoad=new Q;onRemove=new Q;onSelectAllChange=new Q;containerViewChild;overlayViewChild;filterInputChild;focusInputViewChild;itemsViewChild;scroller;lastHiddenFocusableElementOnOverlay;firstHiddenFocusableElementOnOverlay;headerCheckboxViewChild;footerFacet;headerFacet;templates;searchValue;searchTimeout;_selectAll=null;_autoZIndex;_baseZIndex;_showTransitionOptions;_hideTransitionOptions;_defaultLabel;_placeholder=Oi(void 0);_itemSize;_selectionLimit;_disableTooltip=!1;value;_filteredOptions;onModelChange=()=>{};onModelTouched=()=>{};valuesAsString;focus;filtered;itemTemplate;groupTemplate;loaderTemplate;headerTemplate;filterTemplate;footerTemplate;emptyFilterTemplate;emptyTemplate;selectedItemsTemplate;checkIconTemplate;loadingIconTemplate;filterIconTemplate;removeTokenIconTemplate;closeIconTemplate;clearIconTemplate;dropdownIconTemplate;itemCheckboxIconTemplate;headerCheckboxIconTemplate;headerCheckboxFocus;filterOptions;preventModelTouched;preventDocumentDefault;focused=!1;itemsWrapper;_displaySelectedLabel=!0;_maxSelectedLabels=3;modelValue=Oi(null);_filterValue=Oi(null);_options=Oi(null);startRangeIndex=Oi(-1);focusedOptionIndex=Oi(-1);selectedOptions;clickInProgress=!1;get containerClass(){return{"p-multiselect p-component p-inputwrapper":!0,"p-disabled":this.disabled,"p-multiselect-clearable":this.showClear&&!this.disabled,"p-multiselect-chip":this.display==="chip","p-focus":this.focused,"p-variant-filled":this.variant==="filled"||this.config.inputStyle()==="filled"}}get inputClass(){return{"p-multiselect-label p-inputtext":!0,"p-placeholder":(this.placeholder()||this.defaultLabel)&&(this.label()===this.placeholder()||this.label()===this.defaultLabel),"p-multiselect-label-empty":!this.selectedItemsTemplate&&(this.label()==="p-emptylabel"||this.label().length===0)}}get panelClass(){return{"p-multiselect-panel p-component":!0,"p-input-filled":this.config.inputStyle()==="filled","p-ripple-disabled":this.config.ripple===!1}}get labelClass(){return{"p-multiselect-label":!0,"p-placeholder":this.label()===this.placeholder()||this.label()===this.defaultLabel,"p-multiselect-label-empty":!this.placeholder()&&!this.defaultLabel&&(!this.modelValue()||this.modelValue().length===0)}}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(bi.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(bi.EMPTY_FILTER_MESSAGE)}get filled(){return typeof this.modelValue()=="string"?!!this.modelValue():fe.isNotEmpty(this.modelValue())}get isVisibleClearIcon(){return this.modelValue()!=null&&this.modelValue()!==""&&fe.isNotEmpty(this.modelValue())&&this.showClear&&!this.disabled&&this.filled}get toggleAllAriaLabel(){return this.config.translation.aria?this.config.translation.aria[this.allSelected()?"selectAll":"unselectAll"]:void 0}get closeAriaLabel(){return this.config.translation.aria?this.config.translation.aria.close:void 0}get listLabel(){return this.config.getTranslation(bi.ARIA).listLabel}getAllVisibleAndNonVisibleOptions(){return this.group?this.flatOptions(this.options):this.options||[]}visibleOptions=Tr(()=>{let e=this.getAllVisibleAndNonVisibleOptions(),t=fe.isArray(e)&&fe.isObject(e[0]);if(this._filterValue()){let r;if(t?r=this.filterService.filter(e,this.searchFields(),this._filterValue(),this.filterMatchMode,this.filterLocale):r=e.filter(o=>o.toString().toLocaleLowerCase().includes(this._filterValue().toLocaleLowerCase())),this.group){let o=this.options||[],s=[];return o.forEach(a=>{let c=this.getOptionGroupChildren(a).filter(d=>r.includes(d));c.length>0&&s.push(Pe(re({},a),{[typeof this.optionGroupChildren=="string"?this.optionGroupChildren:"items"]:[...c]}))}),this.flatOptions(s)}return r}return e});label=Tr(()=>{let e,t=this.modelValue();if(t&&t.length&&this.displaySelectedLabel){if(fe.isNotEmpty(this.maxSelectedLabels)&&t.length>this.maxSelectedLabels)return this.getSelectedItemsLabel();e="";for(let r=0;r<t.length;r++)r!==0&&(e+=", "),e+=this.getLabelByValue(t[r])}else e=this.placeholder()||this.defaultLabel||"";return e});chipSelectedItems=Tr(()=>fe.isNotEmpty(this.maxSelectedLabels)&&this.modelValue()&&this.modelValue().length>this.maxSelectedLabels?this.modelValue().slice(0,this.maxSelectedLabels):this.modelValue());constructor(e,t,r,o,s,a,l){this.el=e,this.renderer=t,this.cd=r,this.zone=o,this.filterService=s,this.config=a,this.overlayService=l,Fc(()=>{let c=this.modelValue(),d=this.visibleOptions();d&&fe.isNotEmpty(d)&&(this.optionValue&&this.optionLabel&&c?this.selectedOptions=d.filter(p=>c.includes(p[this.optionLabel])||c.includes(p[this.optionValue])):this.selectedOptions=c,this.cd.markForCheck())})}ngOnInit(){this.id=this.id||yt(),this.autoUpdateModel(),this.filterBy&&(this.filterOptions={filter:e=>this.onFilterInputChange(e),reset:()=>this.resetFilter()})}maxSelectionLimitReached(){return fe.isNotEmpty(this.selectionLimit)&&this.modelValue()&&this.modelValue().length===this.selectionLimit}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":this.itemTemplate=e.template;break;case"group":this.groupTemplate=e.template;break;case"selectedItems":this.selectedItemsTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"filter":this.filterTemplate=e.template;break;case"emptyfilter":this.emptyFilterTemplate=e.template;break;case"empty":this.emptyTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"loader":this.loaderTemplate=e.template;break;case"checkicon":this.checkIconTemplate=e.template,console.warn("checkicon is deprecated and will removed in v18. Use itemcheckboxicon or headercheckboxicon templates instead.");break;case"headercheckboxicon":this.headerCheckboxIconTemplate=e.template;break;case"loadingicon":this.loadingIconTemplate=e.template;break;case"filtericon":this.filterIconTemplate=e.template;break;case"removetokenicon":this.removeTokenIconTemplate=e.template;break;case"closeicon":this.closeIconTemplate=e.template;break;case"clearicon":this.clearIconTemplate=e.template;break;case"dropdownicon":this.dropdownIconTemplate=e.template;break;case"itemcheckboxicon":this.itemCheckboxIconTemplate=e.template;break;default:this.itemTemplate=e.template;break}})}ngAfterViewInit(){this.overlayVisible&&this.show()}ngAfterViewChecked(){this.filtered&&(this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.overlayViewChild?.alignOverlay()},1)}),this.filtered=!1)}flatOptions(e){return(e||[]).reduce((t,r,o)=>{t.push({optionGroup:r,group:!0,index:o});let s=this.getOptionGroupChildren(r);return s&&s.forEach(a=>t.push(a)),t},[])}autoUpdateModel(){if(this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption()){this.focusedOptionIndex.set(this.findFirstFocusedOptionIndex());let e=this.getOptionValue(this.visibleOptions()[this.focusedOptionIndex()]);this.onOptionSelect({originalEvent:null,option:[e]})}}updateModel(e,t){this.value=e,this.onModelChange(e),this.modelValue.set(e)}onInputClick(e){e.stopPropagation(),e.preventDefault(),this.focusedOptionIndex.set(-1)}onOptionSelect(e,t=!1,r=-1){let{originalEvent:o,option:s}=e;if(this.disabled||this.isOptionDisabled(s))return;let a=this.isSelected(s),l=null;a?(l=this.modelValue().filter(c=>!fe.equals(c,this.getOptionValue(s),this.equalityKey())),this.onRemove.emit({newValue:this.value,removed:this.getOptionValue(s)})):l=[...this.modelValue()||[],this.getOptionValue(s)],this.updateModel(l,o),r!==-1&&this.focusedOptionIndex.set(r),t&&M.focus(this.focusInputViewChild?.nativeElement),this.onChange.emit({originalEvent:Pe(re({},e),{selected:!e.selected}),value:l,itemValue:s})}findSelectedOptionIndex(){return this.hasSelectedOption()?this.visibleOptions().findIndex(e=>this.isValidSelectedOption(e)):-1}onOptionSelectRange(e,t=-1,r=-1){if(t===-1&&(t=this.findNearestSelectedOptionIndex(r,!0)),r===-1&&(r=this.findNearestSelectedOptionIndex(t)),t!==-1&&r!==-1){let o=Math.min(t,r),s=Math.max(t,r),a=this.visibleOptions().slice(o,s+1).filter(l=>this.isValidOption(l)).map(l=>this.getOptionValue(l));this.updateModel(a,e)}}searchFields(){return(this.filterBy||this.optionLabel||"label").split(",")}findNearestSelectedOptionIndex(e,t=!1){let r=-1;return this.hasSelectedOption()&&(t?(r=this.findPrevSelectedOptionIndex(e),r=r===-1?this.findNextSelectedOptionIndex(e):r):(r=this.findNextSelectedOptionIndex(e),r=r===-1?this.findPrevSelectedOptionIndex(e):r)),r>-1?r:e}findPrevSelectedOptionIndex(e){let t=this.hasSelectedOption()&&e>0?fe.findLastIndex(this.visibleOptions().slice(0,e),r=>this.isValidSelectedOption(r)):-1;return t>-1?t:-1}findFirstFocusedOptionIndex(){let e=this.findFirstSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e}findFirstOptionIndex(){return this.visibleOptions().findIndex(e=>this.isValidOption(e))}findFirstSelectedOptionIndex(){return this.hasSelectedOption()?this.visibleOptions().findIndex(e=>this.isValidSelectedOption(e)):-1}findNextSelectedOptionIndex(e){let t=this.hasSelectedOption()&&e<this.visibleOptions().length-1?this.visibleOptions().slice(e+1).findIndex(r=>this.isValidSelectedOption(r)):-1;return t>-1?t+e+1:-1}equalityKey(){return this.optionValue?null:this.dataKey}hasSelectedOption(){return fe.isNotEmpty(this.modelValue())}isSelectionAllDisabled(){return this.showToggleAll&&fe.isEmpty(this.selectionLimit)}isValidSelectedOption(e){return this.isValidOption(e)&&this.isSelected(e)}isOptionGroup(e){return(this.group||this.optionGroupLabel)&&e.optionGroup&&e.group}isValidOption(e){return e&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))}isOptionDisabled(e){return this.maxSelectionLimitReached()&&!this.isSelected(e)?!0:this.optionDisabled?fe.resolveFieldData(e,this.optionDisabled):e&&e.disabled!==void 0?e.disabled:!1}isSelected(e){let t=this.getOptionValue(e);return(this.modelValue()||[]).some(r=>fe.equals(r,t,this.equalityKey()))}isOptionMatched(e){return this.isValidOption(e)&&this.getOptionLabel(e).toString().toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))}isEmpty(){return!this._options()||this.visibleOptions()&&this.visibleOptions().length===0}getOptionIndex(e,t){return this.virtualScrollerDisabled?e:t&&t.getItemOptions(e).index}getAriaPosInset(e){return(this.optionGroupLabel?e-this.visibleOptions().slice(0,e).filter(t=>this.isOptionGroup(t)).length:e)+1}get ariaSetSize(){return this.visibleOptions().filter(e=>!this.isOptionGroup(e)).length}getLabelByValue(e){let r=(this.group?this.flatOptions(this._options()):this._options()||[]).find(o=>!this.isOptionGroup(o)&&fe.equals(this.getOptionValue(o),e,this.equalityKey()));return r?this.getOptionLabel(r):null}getSelectedItemsLabel(){let e=/{(.*?)}/,t=this.selectedItemsLabel?this.selectedItemsLabel:this.config.getTranslation(bi.SELECTION_MESSAGE);return e.test(t)?t.replace(t.match(e)[0],this.modelValue().length+""):t}getOptionLabel(e){return this.optionLabel?fe.resolveFieldData(e,this.optionLabel):e&&e.label!=null?e.label:e}getOptionValue(e){return this.optionValue?fe.resolveFieldData(e,this.optionValue):!this.optionValue&&e&&e.value!==void 0?e.value:e}getOptionGroupLabel(e){return this.optionGroupLabel?fe.resolveFieldData(e,this.optionGroupLabel):e&&e.label!=null?e.label:e}getOptionGroupChildren(e){return this.optionGroupChildren?fe.resolveFieldData(e,this.optionGroupChildren):e.items}onKeyDown(e){if(this.disabled){e.preventDefault();return}let t=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Enter":case"Space":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"ShiftLeft":case"ShiftRight":this.onShiftKey();break;default:if(e.code==="KeyA"&&t){let r=this.visibleOptions().filter(o=>this.isValidOption(o)).map(o=>this.getOptionValue(o));this.updateModel(r,e),e.preventDefault();break}!t&&fe.isPrintableCharacter(e.key)&&(!this.overlayVisible&&this.show(),this.searchOptions(e,e.key),e.preventDefault());break}}onFilterKeyDown(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e,!0);break;default:break}}onArrowLeftKey(e,t=!1){t&&this.focusedOptionIndex.set(-1)}onArrowDownKey(e){let t=this.focusedOptionIndex()!==-1?this.findNextOptionIndex(this.focusedOptionIndex()):this.findFirstFocusedOptionIndex();e.shiftKey&&this.onOptionSelectRange(e,this.startRangeIndex(),t),this.changeFocusedOptionIndex(e,t),!this.overlayVisible&&this.show(),e.preventDefault(),e.stopPropagation()}onArrowUpKey(e,t=!1){if(e.altKey&&!t)this.focusedOptionIndex()!==-1&&this.onOptionSelect(e,this.visibleOptions()[this.focusedOptionIndex()]),this.overlayVisible&&this.hide(),e.preventDefault();else{let r=this.focusedOptionIndex()!==-1?this.findPrevOptionIndex(this.focusedOptionIndex()):this.findLastFocusedOptionIndex();e.shiftKey&&this.onOptionSelectRange(e,r,this.startRangeIndex()),this.changeFocusedOptionIndex(e,r),!this.overlayVisible&&this.show(),e.preventDefault()}e.stopPropagation()}onHomeKey(e,t=!1){let{currentTarget:r}=e;if(t){let o=r.value.length;r.setSelectionRange(0,e.shiftKey?o:0),this.focusedOptionIndex.set(-1)}else{let o=e.metaKey||e.ctrlKey,s=this.findFirstOptionIndex();e.shiftKey&&o&&this.onOptionSelectRange(e,s,this.startRangeIndex()),this.changeFocusedOptionIndex(e,s),!this.overlayVisible&&this.show()}e.preventDefault()}onEndKey(e,t=!1){let{currentTarget:r}=e;if(t){let o=r.value.length;r.setSelectionRange(e.shiftKey?0:o,o),this.focusedOptionIndex.set(-1)}else{let o=e.metaKey||e.ctrlKey,s=this.findLastFocusedOptionIndex();e.shiftKey&&o&&this.onOptionSelectRange(e,this.startRangeIndex(),s),this.changeFocusedOptionIndex(e,s),!this.overlayVisible&&this.show()}e.preventDefault()}onPageDownKey(e){this.scrollInView(this.visibleOptions().length-1),e.preventDefault()}onPageUpKey(e){this.scrollInView(0),e.preventDefault()}onEnterKey(e){this.overlayVisible?this.focusedOptionIndex()!==-1&&(e.shiftKey?this.onOptionSelectRange(e,this.focusedOptionIndex()):this.onOptionSelect({originalEvent:e,option:this.visibleOptions()[this.focusedOptionIndex()]})):this.onArrowDownKey(e),e.preventDefault()}onEscapeKey(e){this.overlayVisible&&this.hide(!0),e.preventDefault()}onDeleteKey(e){this.showClear&&(this.clear(e),e.preventDefault())}onTabKey(e,t=!1){t||(this.overlayVisible&&this.hasFocusableElements()?(M.focus(e.shiftKey?this.lastHiddenFocusableElementOnOverlay.nativeElement:this.firstHiddenFocusableElementOnOverlay.nativeElement),e.preventDefault()):(this.focusedOptionIndex()!==-1&&this.onOptionSelect({originalEvent:e,option:this.visibleOptions()[this.focusedOptionIndex()]}),this.overlayVisible&&this.hide(this.filter)))}onShiftKey(){this.startRangeIndex.set(this.focusedOptionIndex())}onContainerClick(e){if(!(this.disabled||this.loading||this.readonly||e.target.isSameNode(this.focusInputViewChild?.nativeElement))){if(e.target.tagName==="INPUT"||e.target.getAttribute("data-pc-section")==="clearicon"||e.target.closest('[data-pc-section="clearicon"]')){e.preventDefault();return}else if(!this.overlayViewChild||!this.overlayViewChild.el.nativeElement.contains(e.target)){if(this.clickInProgress)return;this.clickInProgress=!0,setTimeout(()=>{this.clickInProgress=!1},150),this.overlayVisible?this.hide(!0):this.show(!0)}this.focusInputViewChild?.nativeElement.focus({preventScroll:!0}),this.onClick.emit(e),this.cd.detectChanges()}}onFirstHiddenFocus(e){let t=e.relatedTarget===this.focusInputViewChild?.nativeElement?M.getFirstFocusableElement(this.overlayViewChild?.overlayViewChild?.nativeElement,':not([data-p-hidden-focusable="true"])'):this.focusInputViewChild?.nativeElement;M.focus(t)}onInputFocus(e){this.focused=!0;let t=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.overlayVisible&&this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1;this.focusedOptionIndex.set(t),this.overlayVisible&&this.scrollInView(this.focusedOptionIndex()),this.onFocus.emit({originalEvent:e})}onInputBlur(e){this.focused=!1,this.onBlur.emit({originalEvent:e}),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}onFilterInputChange(e){let t=e.target.value;this._filterValue.set(t),this.focusedOptionIndex.set(-1),this.onFilter.emit({originalEvent:e,filter:this._filterValue()}),!this.virtualScrollerDisabled&&this.scroller.scrollToIndex(0),setTimeout(()=>{this.overlayViewChild.alignOverlay()})}onLastHiddenFocus(e){let t=e.relatedTarget===this.focusInputViewChild?.nativeElement?M.getLastFocusableElement(this.overlayViewChild?.overlayViewChild?.nativeElement,':not([data-p-hidden-focusable="true"])'):this.focusInputViewChild?.nativeElement;M.focus(t)}onOptionMouseEnter(e,t){this.focusOnHover&&this.changeFocusedOptionIndex(e,t)}onHeaderCheckboxKeyDown(e){if(this.disabled){e.preventDefault();return}switch(e.code){case"Space":this.onToggleAll(e);break;case"Enter":this.onToggleAll(e);break;default:break}}onremoveTokenIconKeyDown(e,t){if(this.disabled){e.preventDefault();return}switch(e.code){case"Space":case"Enter":case"NumpadEnter":this.removeOption(t,e);break;default:break}e.preventDefault(),e.stopPropagation()}onFilterBlur(e){this.focusedOptionIndex.set(-1)}onHeaderCheckboxFocus(){this.headerCheckboxFocus=!0}onHeaderCheckboxBlur(){this.headerCheckboxFocus=!1}onToggleAll(e){if(!(this.disabled||this.readonly)){if(this.selectAll!=null)this.onSelectAllChange.emit({originalEvent:e,checked:!this.allSelected()});else{let t=this.getAllVisibleAndNonVisibleOptions().filter(a=>this.isSelected(a)&&(this.optionDisabled?fe.resolveFieldData(a,this.optionDisabled):a&&a.disabled!==void 0?a.disabled:!1)),r=this.allSelected()?this.visibleOptions().filter(a=>!this.isValidOption(a)&&this.isSelected(a)):this.visibleOptions().filter(a=>this.isSelected(a)||this.isValidOption(a)),o=[...t,...r].map(a=>this.getOptionValue(a)),s=[...new Set(o)];this.updateModel(s,e),(!s.length||s.length===this.getAllVisibleAndNonVisibleOptions().length)&&this.onSelectAllChange.emit({originalEvent:e,checked:!!s.length})}this.partialSelected()&&(this.selectedOptions=null,this.cd.markForCheck()),this.onChange.emit({originalEvent:e,value:this.value}),M.focus(this.headerCheckboxViewChild?.nativeElement),this.headerCheckboxFocus=!0,e.preventDefault(),e.stopPropagation()}}changeFocusedOptionIndex(e,t){this.focusedOptionIndex()!==t&&(this.focusedOptionIndex.set(t),this.scrollInView())}get virtualScrollerDisabled(){return!this.virtualScroll}scrollInView(e=-1){let t=e!==-1?`${this.id}_${e}`:this.focusedOptionId;if(this.itemsViewChild&&this.itemsViewChild.nativeElement){let r=M.findSingle(this.itemsViewChild.nativeElement,`li[id="${t}"]`);r?r.scrollIntoView&&r.scrollIntoView({block:"nearest",inline:"nearest"}):this.virtualScrollerDisabled||setTimeout(()=>{this.virtualScroll&&this.scroller?.scrollToIndex(e!==-1?e:this.focusedOptionIndex())},0)}}get focusedOptionId(){return this.focusedOptionIndex()!==-1?`${this.id}_${this.focusedOptionIndex()}`:null}writeValue(e){this.value=e,!fe.isEmpty(this.selectionLimit)&&fe.isEmpty(this.value)?this.modelValue.set([]):this.modelValue.set(this.value),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}allSelected(){return this.selectAll!==null?this.selectAll:fe.isNotEmpty(this.visibleOptions())&&this.visibleOptions().every(e=>this.isOptionGroup(e)||this.isOptionDisabled(e)||this.isSelected(e))}partialSelected(){return this.selectedOptions&&this.selectedOptions.length>0&&this.selectedOptions.length<this.options.length}show(e){this.overlayVisible=!0;let t=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1;this.focusedOptionIndex.set(t),e&&M.focus(this.focusInputViewChild?.nativeElement),this.cd.markForCheck()}hide(e){this.overlayVisible=!1,this.focusedOptionIndex.set(-1),this.filter&&this.resetFilterOnHide&&this.resetFilter(),this.overlayOptions?.mode==="modal"&&M.unblockBodyScroll(),e&&M.focus(this.focusInputViewChild?.nativeElement),this.onPanelHide.emit(),this.cd.markForCheck()}onOverlayAnimationStart(e){switch(e.toState){case"visible":if(this.itemsWrapper=M.findSingle(this.overlayViewChild?.overlayViewChild?.nativeElement,this.virtualScroll?".p-scroller":".p-multiselect-items-wrapper"),this.virtualScroll&&this.scroller?.setContentEl(this.itemsViewChild?.nativeElement),this._options()&&this._options().length)if(this.virtualScroll){let t=fe.isNotEmpty(this.modelValue())?this.focusedOptionIndex():-1;t!==-1&&this.scroller?.scrollToIndex(t)}else{let t=M.findSingle(this.itemsWrapper,'[data-p-highlight="true"]');t&&t.scrollIntoView({block:"nearest",inline:"nearest"})}this.filterInputChild&&this.filterInputChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterInputChild.nativeElement.focus()),this.onPanelShow.emit();break;case"void":this.itemsWrapper=null,this.onModelTouched();break}}resetFilter(){this.filterInputChild&&this.filterInputChild.nativeElement&&(this.filterInputChild.nativeElement.value=""),this._filterValue.set(null),this._filteredOptions=null}close(e){this.hide(),e.preventDefault(),e.stopPropagation()}clear(e){this.value=null,this.updateModel(null,e),this.selectedOptions=null,this.onClear.emit(),this._disableTooltip=!0,e.stopPropagation()}labelContainerMouseLeave(){this._disableTooltip&&(this._disableTooltip=!1)}removeOption(e,t){let r=this.modelValue().filter(o=>!fe.equals(o,e,this.equalityKey()));this.updateModel(r,t),this.onChange.emit({originalEvent:t,value:r,itemValue:e}),this.onClear.emit(),t&&t.stopPropagation()}findNextItem(e){let t=e.nextElementSibling;return t?M.hasClass(t.children[0],"p-disabled")||M.isHidden(t.children[0])||M.hasClass(t,"p-multiselect-item-group")?this.findNextItem(t):t.children[0]:null}findPrevItem(e){let t=e.previousElementSibling;return t?M.hasClass(t.children[0],"p-disabled")||M.isHidden(t.children[0])||M.hasClass(t,"p-multiselect-item-group")?this.findPrevItem(t):t.children[0]:null}findNextOptionIndex(e){let t=e<this.visibleOptions().length-1?this.visibleOptions().slice(e+1).findIndex(r=>this.isValidOption(r)):-1;return t>-1?t+e+1:e}findPrevOptionIndex(e){let t=e>0?fe.findLastIndex(this.visibleOptions().slice(0,e),r=>this.isValidOption(r)):-1;return t>-1?t:e}findLastSelectedOptionIndex(){return this.hasSelectedOption()?fe.findLastIndex(this.visibleOptions(),e=>this.isValidSelectedOption(e)):-1}findLastFocusedOptionIndex(){let e=this.findLastSelectedOptionIndex();return e<0?this.findLastOptionIndex():e}findLastOptionIndex(){return fe.findLastIndex(this.visibleOptions(),e=>this.isValidOption(e))}searchOptions(e,t){this.searchValue=(this.searchValue||"")+t;let r=-1,o=!1;return this.focusedOptionIndex()!==-1?(r=this.visibleOptions().slice(this.focusedOptionIndex()).findIndex(s=>this.isOptionMatched(s)),r=r===-1?this.visibleOptions().slice(0,this.focusedOptionIndex()).findIndex(s=>this.isOptionMatched(s)):r+this.focusedOptionIndex()):r=this.visibleOptions().findIndex(s=>this.isOptionMatched(s)),r!==-1&&(o=!0),r===-1&&this.focusedOptionIndex()===-1&&(r=this.findFirstFocusedOptionIndex()),r!==-1&&this.changeFocusedOptionIndex(e,r),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),o}activateFilter(){if(this.hasFilter()&&this._options)if(this.group){let e=[];for(let t of this.options){let r=this.filterService.filter(this.getOptionGroupChildren(t),this.searchFields(),this.filterValue,this.filterMatchMode,this.filterLocale);r&&r.length&&e.push(Pe(re({},t),{[this.optionGroupChildren]:r}))}this._filteredOptions=e}else this._filteredOptions=this.filterService.filter(this.options,this.searchFields(),this.filterValue,this.filterMatchMode,this.filterLocale);else this._filteredOptions=null}hasFocusableElements(){return M.getFocusableElements(this.overlayViewChild.overlayViewChild.nativeElement,':not([data-p-hidden-focusable="true"])').length>0}hasFilter(){return this._filterValue()&&this._filterValue().trim().length>0}static \u0275fac=function(t){return new(t||i)(b(ze),b(Ft),b(Ie),b(xt),b(Jl),b(Vt),b(Ao))};static \u0275cmp=ie({type:i,selectors:[["p-multiSelect"]],contentQueries:function(t,r,o){if(t&1&&(ot(o,Ds,5),ot(o,Xl,5),ot(o,be,4)),t&2){let s;ee(s=te())&&(r.footerFacet=s.first),ee(s=te())&&(r.headerFacet=s.first),ee(s=te())&&(r.templates=s)}},viewQuery:function(t,r){if(t&1&&(de(Gke,5),de(zke,5),de(Wke,5),de(Kke,5),de($ke,5),de(qke,5),de(Yke,5),de(Jke,5),de(Xke,5)),t&2){let o;ee(o=te())&&(r.containerViewChild=o.first),ee(o=te())&&(r.overlayViewChild=o.first),ee(o=te())&&(r.filterInputChild=o.first),ee(o=te())&&(r.focusInputViewChild=o.first),ee(o=te())&&(r.itemsViewChild=o.first),ee(o=te())&&(r.scroller=o.first),ee(o=te())&&(r.lastHiddenFocusableElementOnOverlay=o.first),ee(o=te())&&(r.firstHiddenFocusableElementOnOverlay=o.first),ee(o=te())&&(r.headerCheckboxViewChild=o.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(t,r){t&2&&yn("p-inputwrapper-focus",r.focused||r.overlayVisible)("p-inputwrapper-filled",r.filled)},inputs:{id:"id",ariaLabel:"ariaLabel",style:"style",styleClass:"styleClass",panelStyle:"panelStyle",panelStyleClass:"panelStyleClass",inputId:"inputId",disabled:[2,"disabled","disabled",K],readonly:[2,"readonly","readonly",K],group:[2,"group","group",K],filter:[2,"filter","filter",K],filterPlaceHolder:"filterPlaceHolder",filterLocale:"filterLocale",overlayVisible:[2,"overlayVisible","overlayVisible",K],tabindex:[2,"tabindex","tabindex",ke],variant:"variant",appendTo:"appendTo",dataKey:"dataKey",name:"name",ariaLabelledBy:"ariaLabelledBy",displaySelectedLabel:"displaySelectedLabel",maxSelectedLabels:"maxSelectedLabels",selectionLimit:[2,"selectionLimit","selectionLimit",e=>ke(e,null)],selectedItemsLabel:"selectedItemsLabel",showToggleAll:[2,"showToggleAll","showToggleAll",K],emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",resetFilterOnHide:[2,"resetFilterOnHide","resetFilterOnHide",K],dropdownIcon:"dropdownIcon",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",showHeader:[2,"showHeader","showHeader",K],filterBy:"filterBy",scrollHeight:"scrollHeight",lazy:[2,"lazy","lazy",K],virtualScroll:[2,"virtualScroll","virtualScroll",K],loading:[2,"loading","loading",K],virtualScrollItemSize:[2,"virtualScrollItemSize","virtualScrollItemSize",ke],loadingIcon:"loadingIcon",virtualScrollOptions:"virtualScrollOptions",overlayOptions:"overlayOptions",ariaFilterLabel:"ariaFilterLabel",filterMatchMode:"filterMatchMode",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",autofocusFilter:[2,"autofocusFilter","autofocusFilter",K],display:"display",autocomplete:"autocomplete",showClear:[2,"showClear","showClear",K],autofocus:[2,"autofocus","autofocus",K],autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",defaultLabel:"defaultLabel",placeholder:"placeholder",options:"options",filterValue:"filterValue",itemSize:"itemSize",selectAll:"selectAll",focusOnHover:[2,"focusOnHover","focusOnHover",K],filterFields:"filterFields",selectOnFocus:[2,"selectOnFocus","selectOnFocus",K],autoOptionFocus:[2,"autoOptionFocus","autoOptionFocus",K]},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onClear:"onClear",onPanelShow:"onPanelShow",onPanelHide:"onPanelHide",onLazyLoad:"onLazyLoad",onRemove:"onRemove",onSelectAllChange:"onSelectAllChange"},features:[Ze([TLe]),qe],ngContentSelectors:Zke,decls:17,vars:44,consts:[["container",""],["focusInput",""],["elseBlock",""],["overlay",""],["token",""],["firstHiddenFocusableEl",""],["buildInItems",""],["lastHiddenFocusableEl",""],["builtInFilterElement",""],["headerCheckbox",""],["filterInput",""],["scroller",""],["items",""],["emptyFilter",""],["empty",""],[3,"click","ngClass","ngStyle"],[1,"p-hidden-accessible"],["role","combobox","pAutoFocus","",3,"focus","blur","keydown","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass","autofocus"],[1,"p-multiselect-label-container",3,"mouseleave","pTooltip","tooltipDisabled","tooltipPosition","positionStyle","tooltipStyleClass"],[3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-multiselect-trigger"],[4,"ngIf","ngIfElse"],[3,"visibleChange","onAnimationStart","onHide","visible","options","target","appendTo","autoZIndex","baseZIndex","showTransitionOptions","hideTransitionOptions"],["pTemplate","content"],["class","p-multiselect-token",4,"ngFor","ngForOf"],[1,"p-multiselect-token"],[1,"p-multiselect-token-label"],[3,"ngClass","styleClass","click","keydown",4,"ngIf"],["class","p-multiselect-token-icon",3,"click","keydown",4,"ngIf"],[3,"click","keydown","ngClass","styleClass"],[1,"p-multiselect-token-icon",3,"click","keydown"],[4,"ngTemplateOutlet"],[3,"styleClass","click",4,"ngIf"],["class","p-multiselect-clear-icon",3,"click",4,"ngIf"],[3,"click","styleClass"],[1,"p-multiselect-clear-icon",3,"click"],["aria-hidden","true",3,"ngClass",4,"ngIf"],["aria-hidden","true",3,"class",4,"ngIf"],["aria-hidden","true",3,"ngClass"],["aria-hidden","true"],["class","p-multiselect-trigger-icon",4,"ngIf"],["class","p-multiselect-trigger-icon",3,"ngClass",4,"ngIf"],[3,"styleClass",4,"ngIf"],[1,"p-multiselect-trigger-icon",3,"ngClass"],[3,"styleClass"],[1,"p-multiselect-trigger-icon"],[3,"ngClass","ngStyle"],["role","presentation",1,"p-hidden-accessible","p-hidden-focusable",3,"focus"],["class","p-multiselect-header",4,"ngIf"],[1,"p-multiselect-items-wrapper",3,"ngStyle"],[3,"items","style","itemSize","autoSize","tabindex","lazy","options","onLazyLoad",4,"ngIf"],["class","p-multiselect-footer",4,"ngIf"],[1,"p-multiselect-header"],["class","p-checkbox p-component",3,"ngClass","click","keydown",4,"ngIf"],["class","p-multiselect-filter-container",4,"ngIf"],["type","button","pRipple","",1,"p-multiselect-close","p-link","p-button-icon-only",3,"click"],["class","p-multiselect-close-icon",4,"ngIf"],[1,"p-checkbox","p-component",3,"click","keydown","ngClass"],["type","checkbox",3,"focus","blur","readonly","disabled"],["role","checkbox",1,"p-checkbox-box",3,"ngClass"],["class","p-checkbox-icon",4,"ngIf"],[1,"p-checkbox-icon"],[1,"p-multiselect-filter-container"],["type","text","role","searchbox","role","searchbox",1,"p-multiselect-filter","p-inputtext","p-component",3,"input","keydown","click","blur","value","disabled"],["class","p-multiselect-filter-icon",4,"ngIf"],[1,"p-multiselect-filter-icon"],[1,"p-multiselect-close-icon"],[3,"onLazyLoad","items","itemSize","autoSize","tabindex","lazy","options"],["pTemplate","loader"],["role","listbox","aria-multiselectable","true",1,"p-multiselect-items","p-component",3,"ngClass","ngStyle"],["ngFor","",3,"ngForOf"],["class","p-multiselect-empty-message","role","option",3,"ngStyle",4,"ngIf"],["role","option",1,"p-multiselect-item-group",3,"ngStyle"],[3,"onClick","onMouseEnter","id","option","selected","label","disabled","template","checkIconTemplate","itemCheckboxIconTemplate","itemSize","focused","ariaPosInset","ariaSetSize"],["role","option",1,"p-multiselect-empty-message",3,"ngStyle"],[1,"p-multiselect-footer"]],template:function(t,r){if(t&1){let o=B();Fi(Qke),m(0,"div",15,0),P("click",function(a){return S(o),A(r.onContainerClick(a))}),m(2,"div",16)(3,"input",17,1),P("focus",function(a){return S(o),A(r.onInputFocus(a))})("blur",function(a){return S(o),A(r.onInputBlur(a))})("keydown",function(a){return S(o),A(r.onKeyDown(a))}),_()(),m(5,"div",18),P("mouseleave",function(){return S(o),A(r.labelContainerMouseLeave())}),m(6,"div",19),I(7,mFe,3,2,"ng-container",20)(8,gFe,1,0,"ng-container",21),_(),I(9,vFe,3,2,"ng-container",20),_(),m(10,"div",22),I(11,xFe,3,2,"ng-container",23)(12,FFe,2,2,"ng-template",null,2,Pt),_(),m(14,"p-overlay",24,3),Ve("visibleChange",function(a){return S(o),Ue(r.overlayVisible,a)||(r.overlayVisible=a),A(a)}),P("onAnimationStart",function(a){return S(o),A(r.onOverlayAnimationStart(a))})("onHide",function(){return S(o),A(r.hide())}),I(16,xLe,12,18,"ng-template",25),_()()}if(t&2){let o,s=We(13);le(r.styleClass),h("ngClass",r.containerClass)("ngStyle",r.style),V("id",r.id),u(2),V("data-p-hidden-accessible",!0),u(),h("pTooltip",r.tooltip)("tooltipPosition",r.tooltipPosition)("positionStyle",r.tooltipPositionStyle)("tooltipStyleClass",r.tooltipStyleClass)("autofocus",r.autofocus),V("aria-disabled",r.disabled)("id",r.inputId)("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledBy)("aria-haspopup","listbox")("aria-expanded",(o=r.overlayVisible)!==null&&o!==void 0?o:!1)("aria-controls",r.overlayVisible?r.id+"_list":null)("tabindex",r.disabled?-1:r.tabindex)("aria-activedescendant",r.focused?r.focusedOptionId:void 0)("value",r.label()||"empty"),u(2),h("pTooltip",r.tooltip)("tooltipDisabled",r._disableTooltip)("tooltipPosition",r.tooltipPosition)("positionStyle",r.tooltipPositionStyle)("tooltipStyleClass",r.tooltipStyleClass),u(),h("ngClass",r.labelClass),u(),h("ngIf",!r.selectedItemsTemplate),u(),h("ngTemplateOutlet",r.selectedItemsTemplate)("ngTemplateOutletContext",Je(41,eFe,r.selectedOptions,r.removeOption.bind(r))),u(),h("ngIf",r.isVisibleClearIcon),u(2),h("ngIf",r.loading)("ngIfElse",s),u(3),Ne("visible",r.overlayVisible),h("options",r.overlayOptions)("target","@parent")("appendTo",r.appendTo)("autoZIndex",r.autoZIndex)("baseZIndex",r.baseZIndex)("showTransitionOptions",r.showTransitionOptions)("hideTransitionOptions",r.hideTransitionOptions)}},dependencies:()=>[Ge,tn,et,st,Ee,n_,be,Zn,qi,Rs,Mn,fn,La,ka,Li,To,OLe],styles:[`@layer primeng{.p-multiselect{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-multiselect-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-multiselect-label-container{overflow:hidden;flex:1 1 auto;cursor:pointer;display:flex}.p-multiselect-label{display:block;white-space:nowrap;cursor:pointer;overflow:hidden;text-overflow:ellipsis}.p-multiselect-label-empty{overflow:hidden;visibility:hidden}.p-multiselect-token{cursor:default;display:inline-flex;align-items:center;flex:0 0 auto}.p-multiselect-token-icon{cursor:pointer}.p-multiselect-token-label{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:100px}.p-multiselect-items-wrapper{overflow:auto}.p-multiselect-items{margin:0;padding:0;list-style-type:none}.p-multiselect-item{cursor:pointer;display:flex;align-items:center;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-multiselect-header{display:flex;align-items:center;justify-content:space-between}.p-multiselect-filter-container{position:relative;flex:1 1 auto}.p-multiselect-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-multiselect-filter-container .p-inputtext{width:100%}.p-multiselect-close{display:flex;align-items:center;justify-content:center;flex-shrink:0;overflow:hidden;position:relative}.p-fluid .p-multiselect{display:flex}.p-multiselect-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-multiselect-clearable{position:relative}}
`],encapsulation:2,changeDetection:0})}return i})(),NP=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=Oe({type:i});static \u0275inj=Te({imports:[Ye,If,nt,zr,Qi,Wr,Qn,fn,La,ka,Li,To,fn,ya,If,nt,Wr]})}return i})();var RLe=["input"],PLe=(i,n,e,t)=>({"p-radiobutton p-component":!0,"p-radiobutton-checked":i,"p-radiobutton-disabled":n,"p-radiobutton-focused":e,"p-variant-filled":t}),kLe=(i,n,e)=>({"p-radiobutton-box":!0,"p-highlight":i,"p-disabled":n,"p-focus":e}),FLe=(i,n,e)=>({"p-radiobutton-label":!0,"p-radiobutton-label-active":i,"p-disabled":n,"p-radiobutton-label-focus":e});function LLe(i,n){if(i&1){let e=B();m(0,"label",7),P("click",function(r){S(e);let o=f();return A(o.select(r))}),D(1),_()}if(i&2){let e=f(),t=We(3);le(e.labelStyleClass),h("ngClass",zi(6,FLe,t.checked,e.disabled,e.focused)),V("for",e.inputId)("data-pc-section","label"),u(),$(e.label)}}var MLe={provide:nn,useExisting:zt(()=>tC),multi:!0},NLe=(()=>{class i{accessors=[];add(e,t){this.accessors.push([e,t])}remove(e){this.accessors=this.accessors.filter(t=>t[1]!==e)}select(e){this.accessors.forEach(t=>{this.isSameGroup(t,e)&&t[1]!==e&&t[1].writeValue(e.value)})}isSameGroup(e,t){return e[0].control?e[0].control.root===t.control.control.root&&e[1].name===t.name:!1}static \u0275fac=function(t){return new(t||i)};static \u0275prov=_e({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),tC=(()=>{class i{cd;injector;registry;config;value;formControlName;name;disabled;label;variant="outlined";tabindex;inputId;ariaLabelledBy;ariaLabel;style;styleClass;labelStyleClass;autofocus;onClick=new Q;onFocus=new Q;onBlur=new Q;inputViewChild;onModelChange=()=>{};onModelTouched=()=>{};checked;focused;control;constructor(e,t,r,o){this.cd=e,this.injector=t,this.registry=r,this.config=o}ngOnInit(){this.control=this.injector.get(jo),this.checkName(),this.registry.add(this.control,this)}handleClick(e,t,r){this.disabled||(this.select(e),r&&t.focus())}select(e){this.disabled||(this.inputViewChild.nativeElement.checked=!0,this.checked=!0,this.onModelChange(this.value),this.registry.select(this),this.onClick.emit({originalEvent:e,value:this.value}))}writeValue(e){this.checked=e==this.value,this.inputViewChild&&this.inputViewChild.nativeElement&&(this.inputViewChild.nativeElement.checked=this.checked),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1,this.onModelTouched(),this.onBlur.emit(e)}focus(){this.inputViewChild.nativeElement.focus()}ngOnDestroy(){this.registry.remove(this)}checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this.throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}throwNameError(){throw new Error(`
          If you define both a name and a formControlName attribute on your radio button, their values
          must match. Ex: <p-radioButton formControlName="food" name="food"></p-radioButton>
        `)}static \u0275fac=function(t){return new(t||i)(b(Ie),b(Er),b(NLe),b(Vt))};static \u0275cmp=ie({type:i,selectors:[["p-radioButton"]],viewQuery:function(t,r){if(t&1&&de(RLe,5),t&2){let o;ee(o=te())&&(r.inputViewChild=o.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",formControlName:"formControlName",name:"name",disabled:[2,"disabled","disabled",K],label:"label",variant:"variant",tabindex:[2,"tabindex","tabindex",ke],inputId:"inputId",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass",autofocus:[2,"autofocus","autofocus",K]},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},features:[Ze([MLe]),qe],decls:7,vars:30,consts:[["input",""],[3,"click","ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","radio","pAutoFocus","",3,"focus","blur","checked","disabled","value","autofocus"],[3,"ngClass"],[1,"p-radiobutton-icon"],[3,"class","ngClass","click",4,"ngIf"],[3,"click","ngClass"]],template:function(t,r){if(t&1){let o=B();m(0,"div",1),P("click",function(a){S(o);let l=We(3);return A(r.handleClick(a,l,!0))}),m(1,"div",2)(2,"input",3,0),P("focus",function(a){return S(o),A(r.onInputFocus(a))})("blur",function(a){return S(o),A(r.onInputBlur(a))}),_()(),m(4,"div",4),O(5,"span",5),_()(),I(6,LLe,2,10,"label",6)}t&2&&(le(r.styleClass),h("ngStyle",r.style)("ngClass",dr(21,PLe,r.checked,r.disabled,r.focused,r.variant==="filled"||r.config.inputStyle()==="filled")),V("data-pc-name","radiobutton")("data-pc-section","root"),u(),V("data-pc-section","hiddenInputWrapper"),u(),h("checked",r.checked)("disabled",r.disabled)("value",r.value)("autofocus",r.autofocus),V("id",r.inputId)("name",r.name)("aria-labelledby",r.ariaLabelledBy)("aria-label",r.ariaLabel)("tabindex",r.tabindex)("data-pc-section","hiddenInput"),u(2),h("ngClass",zi(26,kLe,r.checked,r.disabled,r.focused)),V("data-pc-section","input"),u(),V("data-pc-section","icon"),u(),h("ngIf",r.label))},dependencies:[Ge,et,Ee,Mn],encapsulation:2,changeDetection:0})}return i})(),VP=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=Oe({type:i});static \u0275inj=Te({imports:[Ye,Qn]})}return i})();var BP=(()=>{class i extends St{pathId;ngOnInit(){this.pathId="url(#"+yt()+")"}static \u0275fac=(()=>{let e;return function(r){return(e||(e=tt(i)))(r||i)}})();static \u0275cmp=ie({type:i,selectors:[["UploadIcon"]],standalone:!0,features:[ve,lt],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M6.58942 9.82197C6.70165 9.93405 6.85328 9.99793 7.012 10C7.17071 9.99793 7.32234 9.93405 7.43458 9.82197C7.54681 9.7099 7.61079 9.55849 7.61286 9.4V2.04798L9.79204 4.22402C9.84752 4.28011 9.91365 4.32457 9.98657 4.35479C10.0595 4.38502 10.1377 4.40039 10.2167 4.40002C10.2956 4.40039 10.3738 4.38502 10.4467 4.35479C10.5197 4.32457 10.5858 4.28011 10.6413 4.22402C10.7538 4.11152 10.817 3.95902 10.817 3.80002C10.817 3.64102 10.7538 3.48852 10.6413 3.37602L7.45127 0.190618C7.44656 0.185584 7.44176 0.180622 7.43687 0.175736C7.32419 0.063214 7.17136 0 7.012 0C6.85264 0 6.69981 0.063214 6.58712 0.175736C6.58181 0.181045 6.5766 0.186443 6.5715 0.191927L3.38282 3.37602C3.27669 3.48976 3.2189 3.6402 3.22165 3.79564C3.2244 3.95108 3.28746 4.09939 3.39755 4.20932C3.50764 4.31925 3.65616 4.38222 3.81182 4.38496C3.96749 4.3877 4.11814 4.33001 4.23204 4.22402L6.41113 2.04807V9.4C6.41321 9.55849 6.47718 9.7099 6.58942 9.82197ZM11.9952 14H2.02883C1.751 13.9887 1.47813 13.9228 1.22584 13.8061C0.973545 13.6894 0.746779 13.5241 0.558517 13.3197C0.370254 13.1154 0.22419 12.876 0.128681 12.6152C0.0331723 12.3545 -0.00990605 12.0775 0.0019109 11.8V9.40005C0.0019109 9.24092 0.065216 9.08831 0.1779 8.97579C0.290584 8.86326 0.443416 8.80005 0.602775 8.80005C0.762134 8.80005 0.914966 8.86326 1.02765 8.97579C1.14033 9.08831 1.20364 9.24092 1.20364 9.40005V11.8C1.18295 12.0376 1.25463 12.274 1.40379 12.4602C1.55296 12.6463 1.76817 12.7681 2.00479 12.8H11.9952C12.2318 12.7681 12.447 12.6463 12.5962 12.4602C12.7453 12.274 12.817 12.0376 12.7963 11.8V9.40005C12.7963 9.24092 12.8596 9.08831 12.9723 8.97579C13.085 8.86326 13.2378 8.80005 13.3972 8.80005C13.5565 8.80005 13.7094 8.86326 13.8221 8.97579C13.9347 9.08831 13.998 9.24092 13.998 9.40005V11.8C14.022 12.3563 13.8251 12.8996 13.45 13.3116C13.0749 13.7236 12.552 13.971 11.9952 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,r){t&1&&(It(),m(0,"svg",0)(1,"g"),O(2,"path",1),_(),m(3,"defs")(4,"clipPath",2),O(5,"rect",3),_()()()),t&2&&(le(r.getClassNames()),V("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),u(),V("clip-path",r.pathId),u(3),h("id",r.pathId))},encapsulation:2})}return i})();var VLe=["advancedfileinput"],BLe=["basicfileinput"],ULe=["content"],jLe=(i,n,e,t,r)=>({$implicit:i,uploadedFiles:n,chooseCallback:e,clearCallback:t,uploadCallback:r}),HLe=(i,n,e,t,r,o,s,a)=>({$implicit:i,uploadedFiles:n,chooseCallback:e,clearCallback:t,removeUploadedFileCallback:r,removeFileCallback:o,progress:s,messages:a}),GLe=(i,n)=>({"p-focus":i,"p-disabled":n}),zLe=(i,n,e,t)=>({"p-button p-component p-fileupload-choose":!0,"p-button-icon-only":i,"p-fileupload-choose-selected":n,"p-focus":e,"p-disabled":t});function WLe(i,n){if(i&1&&O(0,"span",21),i&2){let e=f(3);le(e.chooseIcon),h("ngClass","p-button-icon p-button-icon-left"),V("aria-label",!0)("data-pc-section","chooseicon")}}function KLe(i,n){i&1&&O(0,"PlusIcon",24),i&2&&(h("styleClass","p-button-icon p-button-icon-left"),V("aria-label",!0)("data-pc-section","chooseicon"))}function $Le(i,n){}function qLe(i,n){i&1&&I(0,$Le,0,0,"ng-template")}function YLe(i,n){if(i&1&&(m(0,"span",25),I(1,qLe,1,0,null,11),_()),i&2){let e=f(4);V("aria-label",!0)("data-pc-section","chooseicon"),u(),h("ngTemplateOutlet",e.chooseIconTemplate)}}function JLe(i,n){if(i&1&&(pe(0),I(1,KLe,1,3,"PlusIcon",22)(2,YLe,2,3,"span",23),he()),i&2){let e=f(3);u(),h("ngIf",!e.chooseIconTemplate),u(),h("ngIf",e.chooseIconTemplate)}}function XLe(i,n){if(i&1&&O(0,"span",28),i&2){let e=f(4);h("ngClass",e.uploadIcon),V("aria-hidden",!0)}}function QLe(i,n){i&1&&O(0,"UploadIcon",24),i&2&&h("styleClass","p-button-icon p-button-icon-left")}function ZLe(i,n){}function eMe(i,n){i&1&&I(0,ZLe,0,0,"ng-template")}function tMe(i,n){if(i&1&&(m(0,"span",25),I(1,eMe,1,0,null,11),_()),i&2){let e=f(5);V("aria-hidden",!0),u(),h("ngTemplateOutlet",e.uploadIconTemplate)}}function iMe(i,n){if(i&1&&(pe(0),I(1,QLe,1,1,"UploadIcon",22)(2,tMe,2,2,"span",23),he()),i&2){let e=f(4);u(),h("ngIf",!e.uploadIconTemplate),u(),h("ngIf",e.uploadIconTemplate)}}function nMe(i,n){if(i&1){let e=B();m(0,"p-button",26),P("onClick",function(){S(e);let r=f(3);return A(r.upload())}),I(1,XLe,1,2,"span",27)(2,iMe,3,2,"ng-container",9),_()}if(i&2){let e=f(3);h("label",e.uploadButtonLabel)("disabled",!e.hasFiles()||e.isFileLimitExceeded())("styleClass",e.uploadStyleClass),u(),h("ngIf",e.uploadIcon),u(),h("ngIf",!e.uploadIcon)}}function rMe(i,n){if(i&1&&O(0,"span",28),i&2){let e=f(4);h("ngClass",e.cancelIcon)}}function oMe(i,n){i&1&&O(0,"TimesIcon",24),i&2&&(h("styleClass","p-button-icon p-button-icon-left"),V("aria-hidden",!0))}function sMe(i,n){}function aMe(i,n){i&1&&I(0,sMe,0,0,"ng-template")}function lMe(i,n){if(i&1&&(m(0,"span",25),I(1,aMe,1,0,null,11),_()),i&2){let e=f(5);V("aria-hidden",!0),u(),h("ngTemplateOutlet",e.cancelIconTemplate)}}function cMe(i,n){if(i&1&&(pe(0),I(1,oMe,1,2,"TimesIcon",22)(2,lMe,2,2,"span",23),he()),i&2){let e=f(4);u(),h("ngIf",!e.cancelIconTemplate),u(),h("ngIf",e.cancelIconTemplate)}}function dMe(i,n){if(i&1){let e=B();m(0,"p-button",26),P("onClick",function(){S(e);let r=f(3);return A(r.clear())}),I(1,rMe,1,1,"span",27)(2,cMe,3,2,"ng-container",9),_()}if(i&2){let e=f(3);h("label",e.cancelButtonLabel)("disabled",!e.hasFiles()||e.uploading)("styleClass",e.cancelStyleClass),u(),h("ngIf",e.cancelIcon),u(),h("ngIf",!e.cancelIcon)}}function uMe(i,n){if(i&1){let e=B();pe(0),m(1,"span",17),P("focus",function(){S(e);let r=f(2);return A(r.onFocus())})("blur",function(){S(e);let r=f(2);return A(r.onBlur())})("click",function(){S(e);let r=f(2);return A(r.choose())})("keydown.enter",function(){S(e);let r=f(2);return A(r.choose())}),m(2,"input",7,0),P("change",function(r){S(e);let o=f(2);return A(o.onFileSelect(r))}),_(),I(4,WLe,1,5,"span",18)(5,JLe,3,2,"ng-container",9),m(6,"span",19),D(7),_()(),I(8,nMe,3,5,"p-button",20)(9,dMe,3,5,"p-button",20),he()}if(i&2){let e=f(2);u(),le(e.chooseStyleClass),h("ngClass",Je(16,GLe,e.focus,e.disabled||e.isChooseDisabled())),V("data-pc-section","choosebutton"),u(),h("multiple",e.multiple)("accept",e.accept)("disabled",e.disabled||e.isChooseDisabled()),V("aria-label",e.browseFilesLabel)("title","")("data-pc-section","input"),u(2),h("ngIf",e.chooseIcon),u(),h("ngIf",!e.chooseIcon),u(),V("data-pc-section","choosebuttonlabel"),u(),$(e.chooseButtonLabel),u(),h("ngIf",!e.auto&&e.showUploadButton),u(),h("ngIf",!e.auto&&e.showCancelButton)}}function pMe(i,n){i&1&&ue(0)}function hMe(i,n){i&1&&ue(0)}function fMe(i,n){if(i&1&&O(0,"p-progressBar",29),i&2){let e=f(2);h("value",e.progress)("showValue",!1)}}function mMe(i,n){if(i&1){let e=B();m(0,"div")(1,"img",35),P("error",function(r){S(e);let o=f(5);return A(o.imageError(r))}),_()()}if(i&2){let e=f().$implicit,t=f(4);u(),h("src",e.objectURL,Uo)("width",t.previewWidth)}}function gMe(i,n){i&1&&O(0,"TimesIcon")}function _Me(i,n){}function CMe(i,n){i&1&&I(0,_Me,0,0,"ng-template")}function yMe(i,n){if(i&1){let e=B();m(0,"div",32),I(1,mMe,2,2,"div",9),m(2,"div",33),D(3),_(),m(4,"div"),D(5),_(),m(6,"div")(7,"button",34),P("click",function(r){let o=S(e).index,s=f(4);return A(s.remove(r,o))}),I(8,gMe,1,0,"TimesIcon",9)(9,CMe,1,0,null,11),_()()()}if(i&2){let e=n.$implicit,t=f(4);u(),h("ngIf",t.isImage(e)),u(2),$(e.name),u(2),$(t.formatSize(e.size)),u(2),le(t.removeStyleClass),h("disabled",t.uploading),u(),h("ngIf",!t.cancelIconTemplate),u(),h("ngTemplateOutlet",t.cancelIconTemplate)}}function IMe(i,n){if(i&1&&(m(0,"div"),I(1,yMe,10,8,"div",31),_()),i&2){let e=f(3);u(),h("ngForOf",e.files)}}function vMe(i,n){}function bMe(i,n){if(i&1&&(m(0,"div"),I(1,vMe,0,0,"ng-template",36),_()),i&2){let e=f(3);u(),h("ngForOf",e.files)("ngForTemplate",e.fileTemplate)}}function wMe(i,n){if(i&1&&(m(0,"div",30),I(1,IMe,2,1,"div",9)(2,bMe,2,2,"div",9),_()),i&2){let e=f(2);u(),h("ngIf",!e.fileTemplate),u(),h("ngIf",e.fileTemplate)}}function SMe(i,n){i&1&&ue(0)}function AMe(i,n){i&1&&ue(0)}function EMe(i,n){if(i&1&&(m(0,"div",37),I(1,AMe,1,0,"ng-container",11),_()),i&2){let e=f(2);u(),h("ngTemplateOutlet",e.emptyTemplate)}}function xMe(i,n){if(i&1){let e=B();m(0,"div",6)(1,"input",7,0),P("change",function(r){S(e);let o=f();return A(o.onFileSelect(r))}),_(),m(3,"div",8),I(4,uMe,10,19,"ng-container",9)(5,pMe,1,0,"ng-container",10)(6,hMe,1,0,"ng-container",11),_(),m(7,"div",12,1),P("dragenter",function(r){S(e);let o=f();return A(o.onDragEnter(r))})("dragleave",function(r){S(e);let o=f();return A(o.onDragLeave(r))})("drop",function(r){S(e);let o=f();return A(o.onDrop(r))}),I(9,fMe,1,2,"p-progressBar",13),O(10,"p-messages",14),I(11,wMe,3,2,"div",15)(12,SMe,1,0,"ng-container",10)(13,EMe,2,1,"div",16),_()()}if(i&2){let e=f();le(e.styleClass),h("ngClass","p-fileupload p-fileupload-advanced p-component")("ngStyle",e.style),V("data-pc-name","fileupload")("data-pc-section","root"),u(),Fn("display","none"),h("multiple",e.multiple)("accept",e.accept)("disabled",e.disabled||e.isChooseDisabled()),V("aria-label",e.browseFilesLabel)("title","")("data-pc-section","input"),u(2),V("data-pc-section","buttonbar"),u(),h("ngIf",!e.headerTemplate),u(),h("ngTemplateOutlet",e.headerTemplate)("ngTemplateOutletContext",zl(27,jLe,e.files,e.uploadedFiles,e.choose.bind(e),e.clear.bind(e),e.upload.bind(e))),u(),h("ngTemplateOutlet",e.toolbarTemplate),u(),V("data-pc-section","content"),u(2),h("ngIf",e.hasFiles()),u(),h("value",e.msgs)("enableService",!1),u(),h("ngIf",e.hasFiles()),u(),h("ngTemplateOutlet",e.contentTemplate)("ngTemplateOutletContext",qN(33,HLe,e.files,e.uploadedFiles,e.choose.bind(e),e.clear.bind(e),e.removeUploadedFile.bind(e),e.remove.bind(e),e.progress,e.msgs)),u(),h("ngIf",e.emptyTemplate&&!e.hasFiles()&&!e.hasUploadedFiles())}}function TMe(i,n){if(i&1&&O(0,"span",28),i&2){let e=f(3);h("ngClass",e.uploadIcon)}}function OMe(i,n){i&1&&O(0,"UploadIcon",24),i&2&&h("styleClass","p-button-icon p-button-icon-left")}function DMe(i,n){}function RMe(i,n){i&1&&I(0,DMe,0,0,"ng-template")}function PMe(i,n){if(i&1&&(m(0,"span",25),I(1,RMe,1,0,null,11),_()),i&2){let e=f(4);u(),h("ngTemplateOutlet",e.uploadIconTemplate)}}function kMe(i,n){if(i&1&&(pe(0),I(1,OMe,1,1,"UploadIcon",22)(2,PMe,2,1,"span",23),he()),i&2){let e=f(3);u(),h("ngIf",!e.uploadIconTemplate),u(),h("ngIf",e.uploadIconTemplate)}}function FMe(i,n){if(i&1&&(pe(0),I(1,TMe,1,1,"span",27)(2,kMe,3,2,"ng-container",9),he()),i&2){let e=f(2);u(),h("ngIf",e.uploadIcon),u(),h("ngIf",!e.uploadIcon)}}function LMe(i,n){if(i&1&&O(0,"span",44),i&2){let e=f(3);h("ngClass",e.chooseIcon)}}function MMe(i,n){i&1&&O(0,"PlusIcon",24),i&2&&(h("styleClass","p-button-icon p-button-icon-left pi"),V("aria-hidden",!0)("data-pc-section","uploadicon"))}function NMe(i,n){}function VMe(i,n){i&1&&I(0,NMe,0,0,"ng-template")}function BMe(i,n){if(i&1&&(m(0,"span",46),I(1,VMe,1,0,null,11),_()),i&2){let e=f(4);V("aria-hidden",!0)("data-pc-section","uploadicon"),u(),h("ngTemplateOutlet",e.chooseIconTemplate)}}function UMe(i,n){if(i&1&&(pe(0),I(1,MMe,1,3,"PlusIcon",22)(2,BMe,2,3,"span",45),he()),i&2){let e=f(3);u(),h("ngIf",!e.chooseIconTemplate),u(),h("ngIf",e.chooseIconTemplate)}}function jMe(i,n){if(i&1&&I(0,LMe,1,1,"span",43)(1,UMe,3,2,"ng-container",9),i&2){let e=f(2);h("ngIf",e.chooseIcon),u(),h("ngIf",!e.chooseIcon)}}function HMe(i,n){if(i&1&&(m(0,"span",19),D(1),_()),i&2){let e=f(2);V("data-pc-section","label"),u(),$(e.basicButtonLabel)}}function GMe(i,n){if(i&1){let e=B();m(0,"input",47,3),P("change",function(r){S(e);let o=f(2);return A(o.onFileSelect(r))})("focus",function(){S(e);let r=f(2);return A(r.onFocus())})("blur",function(){S(e);let r=f(2);return A(r.onBlur())}),_()}if(i&2){let e=f(2);h("accept",e.accept)("multiple",e.multiple)("disabled",e.disabled),V("aria-label",e.browseFilesLabel)("data-pc-section","input")}}function zMe(i,n){if(i&1){let e=B();m(0,"div",38),O(1,"p-messages",14),m(2,"span",39),P("click",function(){S(e);let r=f();return A(r.onBasicUploaderClick())})("keydown",function(r){S(e);let o=f();return A(o.onBasicKeydown(r))}),I(3,FMe,3,2,"ng-container",40)(4,jMe,2,2,"ng-template",null,2,Pt)(6,HMe,2,2,"span",41)(7,GMe,2,5,"input",42),_()()}if(i&2){let e=We(5),t=f();V("data-pc-name","fileupload"),u(),h("value",t.msgs)("enableService",!1),u(),le(t.styleClass),h("ngClass",dr(12,zLe,!t.basicButtonLabel,t.hasFiles(),t.focus,t.disabled))("ngStyle",t.style),V("data-pc-section","choosebutton"),u(),h("ngIf",t.hasFiles()&&!t.auto)("ngIfElse",e),u(3),h("ngIf",t.basicButtonLabel),u(),h("ngIf",!t.hasFiles())}}var U1=(()=>{class i{document;platformId;locale;renderer;el;sanitizer;zone;http;cd;config;name;url;method="post";multiple;accept;disabled;auto;withCredentials;maxFileSize;invalidFileSizeMessageSummary="{0}: Invalid file size, ";invalidFileSizeMessageDetail="maximum upload size is {0}.";invalidFileTypeMessageSummary="{0}: Invalid file type, ";invalidFileTypeMessageDetail="allowed file types: {0}.";invalidFileLimitMessageDetail="limit is {0} at most.";invalidFileLimitMessageSummary="Maximum number of files exceeded, ";style;styleClass;previewWidth=50;chooseLabel;uploadLabel;cancelLabel;chooseIcon;uploadIcon;cancelIcon;showUploadButton=!0;showCancelButton=!0;mode="advanced";headers;customUpload;fileLimit;uploadStyleClass;cancelStyleClass;removeStyleClass;chooseStyleClass;onBeforeUpload=new Q;onSend=new Q;onUpload=new Q;onError=new Q;onClear=new Q;onRemove=new Q;onSelect=new Q;onProgress=new Q;uploadHandler=new Q;onImageError=new Q;onRemoveUploadedFile=new Q;templates;advancedFileInput;basicFileInput;content;set files(e){this._files=[];for(let t=0;t<e.length;t++){let r=e[t];this.validate(r)&&(this.isImage(r)&&(r.objectURL=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(e[t]))),this._files.push(e[t]))}}get files(){return this._files}get basicButtonLabel(){return this.auto||!this.hasFiles()?this.chooseLabel:this.uploadLabel??this.files[0].name}_files=[];progress=0;dragHighlight;msgs;fileTemplate;headerTemplate;contentTemplate;toolbarTemplate;chooseIconTemplate;uploadIconTemplate;cancelIconTemplate;emptyTemplate;uploadedFileCount=0;focus;uploading;duplicateIEEvent;translationSubscription;dragOverListener;uploadedFiles=[];fileUploadSubcription;formatter;constructor(e,t,r,o,s,a,l,c,d,p){this.document=e,this.platformId=t,this.locale=r,this.renderer=o,this.el=s,this.sanitizer=a,this.zone=l,this.http=c,this.cd=d,this.config=p,this.formatter=new Intl.NumberFormat(this.locale,{maximumFractionDigits:3})}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"header":this.headerTemplate=e.template;break;case"file":this.fileTemplate=e.template;break;case"content":this.contentTemplate=e.template;break;case"toolbar":this.toolbarTemplate=e.template;break;case"chooseicon":this.chooseIconTemplate=e.template;break;case"uploadicon":this.uploadIconTemplate=e.template;break;case"cancelicon":this.cancelIconTemplate=e.template;break;case"empty":this.emptyTemplate=e.template;break;default:this.fileTemplate=e.template;break}})}ngOnInit(){this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.cd.markForCheck()})}ngAfterViewInit(){ht(this.platformId)&&this.mode==="advanced"&&this.zone.runOutsideAngular(()=>{this.content&&(this.dragOverListener=this.renderer.listen(this.content.nativeElement,"dragover",this.onDragOver.bind(this)))})}getTranslation(e){return this.config.getTranslation(e)}choose(){this.advancedFileInput?.nativeElement.click()}onFileSelect(e){if(e.type!=="drop"&&this.isIE11()&&this.duplicateIEEvent){this.duplicateIEEvent=!1;return}this.msgs=[],this.multiple||(this.files=[]);let t=e.dataTransfer?e.dataTransfer.files:e.target.files;for(let r=0;r<t.length;r++){let o=t[r];this.isFileSelected(o)||this.validate(o)&&(this.isImage(o)&&(o.objectURL=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(t[r]))),this.files.push(t[r]))}this.onSelect.emit({originalEvent:e,files:t,currentFiles:this.files}),this.checkFileLimit(t),this.hasFiles()&&this.auto&&(this.mode!=="advanced"||!this.isFileLimitExceeded())&&this.upload(),e.type!=="drop"&&this.isIE11()?this.clearIEInput():this.clearInputElement()}isFileSelected(e){for(let t of this.files)if(t.name+t.type+t.size===e.name+e.type+e.size)return!0;return!1}isIE11(){if(ht(this.platformId))return!!this.document.defaultView.MSInputMethodContext&&!!this.document.documentMode}validate(e){return this.msgs=this.msgs||[],this.accept&&!this.isFileTypeValid(e)?(this.msgs.push({severity:"error",summary:this.invalidFileTypeMessageSummary.replace("{0}",e.name),detail:this.invalidFileTypeMessageDetail.replace("{0}",this.accept)}),!1):this.maxFileSize&&e.size>this.maxFileSize?(this.msgs.push({severity:"error",summary:this.invalidFileSizeMessageSummary.replace("{0}",e.name),detail:this.invalidFileSizeMessageDetail.replace("{0}",this.formatSize(this.maxFileSize))}),!1):!0}isFileTypeValid(e){let t=this.accept?.split(",").map(r=>r.trim());for(let r of t)if(this.isWildcard(r)?this.getTypeClass(e.type)===this.getTypeClass(r):e.type==r||this.getFileExtension(e).toLowerCase()===r.toLowerCase())return!0;return!1}getTypeClass(e){return e.substring(0,e.indexOf("/"))}isWildcard(e){return e.indexOf("*")!==-1}getFileExtension(e){return"."+e.name.split(".").pop()}isImage(e){return/^image\//.test(e.type)}onImageLoad(e){window.URL.revokeObjectURL(e.src)}upload(){if(this.customUpload)this.fileLimit&&(this.uploadedFileCount+=this.files.length),this.uploadHandler.emit({files:this.files}),this.cd.markForCheck();else{this.uploading=!0,this.msgs=[];let e=new FormData;this.onBeforeUpload.emit({formData:e});for(let t=0;t<this.files.length;t++)e.append(this.name,this.files[t],this.files[t].name);this.cancelUploadRequest(),this.fileUploadSubcription=this.http.request(this.method,this.url,{body:e,headers:this.headers,reportProgress:!0,observe:"events",withCredentials:this.withCredentials}).subscribe(t=>{switch(t.type){case xa.Sent:this.onSend.emit({originalEvent:t,formData:e});break;case xa.Response:this.uploading=!1,this.progress=0,t.status>=200&&t.status<300?(this.fileLimit&&(this.uploadedFileCount+=this.files.length),this.onUpload.emit({originalEvent:t,files:this.files})):this.onError.emit({files:this.files}),this.uploadedFiles.push(...this.files),this.clear();break;case xa.UploadProgress:{t.loaded&&(this.progress=Math.round(t.loaded*100/t.total)),this.onProgress.emit({originalEvent:t,progress:this.progress});break}}this.cd.markForCheck()},t=>{this.uploading=!1,this.onError.emit({files:this.files,error:t})})}}clear(){this.files=[],this.uploadedFileCount=0,this.cancelUploadRequest(),this.onClear.emit(),this.clearInputElement(),this.cd.markForCheck()}remove(e,t){this.cancelUploadRequest(),this.clearInputElement(),this.onRemove.emit({originalEvent:e,file:this.files[t]}),this.files.splice(t,1),this.checkFileLimit(this.files)}removeUploadedFile(e){let t=this.uploadedFiles.splice(e,1)[0];this.uploadedFiles=[...this.uploadedFiles],this.onRemoveUploadedFile.emit({file:t,files:this.uploadedFiles})}cancelUploadRequest(){this.fileUploadSubcription&&(this.fileUploadSubcription.unsubscribe(),this.fileUploadSubcription=void 0)}isFileLimitExceeded(){let t=this.auto?this.files.length:this.files.length+this.uploadedFileCount;return this.fileLimit&&this.fileLimit<=t&&this.focus&&(this.focus=!1),this.fileLimit&&this.fileLimit<t}isChooseDisabled(){return this.auto?this.fileLimit&&this.fileLimit<=this.files.length:this.fileLimit&&this.fileLimit<=this.files.length+this.uploadedFileCount}checkFileLimit(e){this.msgs??=[];let t=this.msgs.length>0&&this.fileLimit<e.length;(this.isFileLimitExceeded()||t)&&this.msgs.push({severity:"error",summary:this.invalidFileLimitMessageSummary.replace("{0}",this.fileLimit.toString()),detail:this.invalidFileLimitMessageDetail.replace("{0}",this.fileLimit.toString())})}clearInputElement(){this.advancedFileInput&&this.advancedFileInput.nativeElement&&(this.advancedFileInput.nativeElement.value=""),this.basicFileInput&&this.basicFileInput.nativeElement&&(this.basicFileInput.nativeElement.value="")}clearIEInput(){this.advancedFileInput&&this.advancedFileInput.nativeElement&&(this.duplicateIEEvent=!0,this.advancedFileInput.nativeElement.value="")}hasFiles(){return this.files&&this.files.length>0}hasUploadedFiles(){return this.uploadedFiles&&this.uploadedFiles.length>0}onDragEnter(e){this.disabled||(e.stopPropagation(),e.preventDefault())}onDragOver(e){this.disabled||(M.addClass(this.content?.nativeElement,"p-fileupload-highlight"),this.dragHighlight=!0,e.stopPropagation(),e.preventDefault())}onDragLeave(e){this.disabled||M.removeClass(this.content?.nativeElement,"p-fileupload-highlight")}onDrop(e){if(!this.disabled){M.removeClass(this.content?.nativeElement,"p-fileupload-highlight"),e.stopPropagation(),e.preventDefault();let t=e.dataTransfer?e.dataTransfer.files:e.target.files;(this.multiple||t&&t.length===1)&&this.onFileSelect(e)}}onFocus(){this.focus=!0}onBlur(){this.focus=!1}formatSize(e){let r=this.getTranslation(bi.FILE_SIZE_TYPES);if(e===0)return`0 ${r[0]}`;let o=Math.floor(Math.log(e)/Math.log(1024));return`${this.formatter.format(e/Math.pow(1024,o))} ${r[o]}`}onBasicUploaderClick(){this.hasFiles()?this.upload():this.basicFileInput?.nativeElement.click()}onBasicKeydown(e){switch(e.code){case"Space":case"Enter":this.onBasicUploaderClick(),e.preventDefault();break}}imageError(e){this.onImageError.emit(e)}getBlockableElement(){return this.el.nativeElement.children[0]}get chooseButtonLabel(){return this.chooseLabel||this.config.getTranslation(bi.CHOOSE)}get uploadButtonLabel(){return this.uploadLabel||this.config.getTranslation(bi.UPLOAD)}get cancelButtonLabel(){return this.cancelLabel||this.config.getTranslation(bi.CANCEL)}get browseFilesLabel(){return this.config.getTranslation(bi.ARIA)[bi.BROWSE_FILES]}ngOnDestroy(){this.content&&this.content.nativeElement&&this.dragOverListener&&(this.dragOverListener(),this.dragOverListener=null),this.translationSubscription&&this.translationSubscription.unsubscribe()}static \u0275fac=function(t){return new(t||i)(b(_t),b(qt),b(Op),b(Ft),b(ze),b(pl),b(xt),b(Yt),b(Ie),b(Vt))};static \u0275cmp=ie({type:i,selectors:[["p-fileUpload"]],contentQueries:function(t,r,o){if(t&1&&ot(o,be,4),t&2){let s;ee(s=te())&&(r.templates=s)}},viewQuery:function(t,r){if(t&1&&(de(VLe,5),de(BLe,5),de(ULe,5)),t&2){let o;ee(o=te())&&(r.advancedFileInput=o.first),ee(o=te())&&(r.basicFileInput=o.first),ee(o=te())&&(r.content=o.first)}},hostAttrs:[1,"p-element"],inputs:{name:"name",url:"url",method:"method",multiple:[2,"multiple","multiple",K],accept:"accept",disabled:[2,"disabled","disabled",K],auto:[2,"auto","auto",K],withCredentials:[2,"withCredentials","withCredentials",K],maxFileSize:[2,"maxFileSize","maxFileSize",ke],invalidFileSizeMessageSummary:"invalidFileSizeMessageSummary",invalidFileSizeMessageDetail:"invalidFileSizeMessageDetail",invalidFileTypeMessageSummary:"invalidFileTypeMessageSummary",invalidFileTypeMessageDetail:"invalidFileTypeMessageDetail",invalidFileLimitMessageDetail:"invalidFileLimitMessageDetail",invalidFileLimitMessageSummary:"invalidFileLimitMessageSummary",style:"style",styleClass:"styleClass",previewWidth:[2,"previewWidth","previewWidth",ke],chooseLabel:"chooseLabel",uploadLabel:"uploadLabel",cancelLabel:"cancelLabel",chooseIcon:"chooseIcon",uploadIcon:"uploadIcon",cancelIcon:"cancelIcon",showUploadButton:[2,"showUploadButton","showUploadButton",K],showCancelButton:[2,"showCancelButton","showCancelButton",K],mode:"mode",headers:"headers",customUpload:[2,"customUpload","customUpload",K],fileLimit:[2,"fileLimit","fileLimit",e=>ke(e,null)],uploadStyleClass:"uploadStyleClass",cancelStyleClass:"cancelStyleClass",removeStyleClass:"removeStyleClass",chooseStyleClass:"chooseStyleClass",files:"files"},outputs:{onBeforeUpload:"onBeforeUpload",onSend:"onSend",onUpload:"onUpload",onError:"onError",onClear:"onClear",onRemove:"onRemove",onSelect:"onSelect",onProgress:"onProgress",uploadHandler:"uploadHandler",onImageError:"onImageError",onRemoveUploadedFile:"onRemoveUploadedFile"},features:[qe],decls:2,vars:2,consts:[["advancedfileinput",""],["content",""],["chooseSection",""],["basicfileinput",""],[3,"ngClass","ngStyle","class",4,"ngIf"],["class","p-fileupload p-fileupload-basic p-component",4,"ngIf"],[3,"ngClass","ngStyle"],["type","file",3,"change","multiple","accept","disabled"],[1,"p-fileupload-buttonbar"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngTemplateOutlet"],[1,"p-fileupload-content",3,"dragenter","dragleave","drop"],[3,"value","showValue",4,"ngIf"],[3,"value","enableService"],["class","p-fileupload-files",4,"ngIf"],["class","p-fileupload-empty",4,"ngIf"],["pRipple","","tabindex","0",1,"p-button","p-component","p-fileupload-choose",3,"focus","blur","click","keydown.enter","ngClass"],[3,"ngClass","class",4,"ngIf"],[1,"p-button-label"],["type","button",3,"label","disabled","styleClass","onClick",4,"ngIf"],[3,"ngClass"],[3,"styleClass",4,"ngIf"],["class","p-button-icon p-button-icon-left",4,"ngIf"],[3,"styleClass"],[1,"p-button-icon","p-button-icon-left"],["type","button",3,"onClick","label","disabled","styleClass"],["class","p-button-icon p-button-icon-left",3,"ngClass",4,"ngIf"],[1,"p-button-icon","p-button-icon-left",3,"ngClass"],[3,"value","showValue"],[1,"p-fileupload-files"],["class","p-fileupload-row",4,"ngFor","ngForOf"],[1,"p-fileupload-row"],[1,"p-fileupload-filename"],["type","button","pButton","",1,"p-button-icon-only",3,"click","disabled"],[3,"error","src","width"],["ngFor","",3,"ngForOf","ngForTemplate"],[1,"p-fileupload-empty"],[1,"p-fileupload","p-fileupload-basic","p-component"],["tabindex","0","pRipple","",3,"click","keydown","ngClass","ngStyle"],[4,"ngIf","ngIfElse"],["class","p-button-label",4,"ngIf"],["type","file",3,"accept","multiple","disabled","change","focus","blur",4,"ngIf"],["class","p-button-icon p-button-icon-left pi",3,"ngClass",4,"ngIf"],[1,"p-button-icon","p-button-icon-left","pi",3,"ngClass"],["class","p-button-icon p-button-icon-left pi",4,"ngIf"],[1,"p-button-icon","p-button-icon-left","pi"],["type","file",3,"change","focus","blur","accept","multiple","disabled"]],template:function(t,r){t&1&&I(0,xMe,14,42,"div",4)(1,zMe,8,17,"div",5),t&2&&(h("ngIf",r.mode==="advanced"),u(),h("ngIf",r.mode==="basic"))},dependencies:()=>[Ge,tn,et,st,Ee,mt,vT,Vv,Jw,qi,Ps,BP,Li],styles:[`@layer primeng{.p-fileupload-content{position:relative}.p-fileupload-row{display:flex;align-items:center}.p-fileupload-row>div{flex:1 1 auto;width:25%}.p-fileupload-row>div:last-child{text-align:right}.p-fileupload-content .p-progressbar{width:100%;position:absolute;top:0;left:0}.p-button.p-fileupload-choose{position:relative;overflow:hidden}.p-button.p-fileupload-choose input[type=file],.p-fileupload-choose.p-fileupload-choose-selected input[type=file]{display:none}.p-fluid .p-fileupload .p-button{width:auto}.p-fileupload-filename{word-break:break-all}}
`],encapsulation:2,changeDetection:0})}return i})(),UP=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=Oe({type:i});static \u0275inj=Te({imports:[Ye,nt,Gr,N2,Om,Qi,Ps,BP,Li,nt,Gr,N2,Om]})}return i})();var WMe=["*",[["p-header"]],[["p-footer"]]],KMe=["*","p-header","p-footer"];function $Me(i,n){i&1&&ue(0)}function qMe(i,n){if(i&1&&(m(0,"div",8),ii(1,1),I(2,$Me,1,0,"ng-container",6),_()),i&2){let e=f();u(2),h("ngTemplateOutlet",e.headerTemplate)}}function YMe(i,n){i&1&&ue(0)}function JMe(i,n){if(i&1&&(m(0,"div",9),D(1),I(2,YMe,1,0,"ng-container",6),_()),i&2){let e=f();u(),J(" ",e.header," "),u(),h("ngTemplateOutlet",e.titleTemplate)}}function XMe(i,n){i&1&&ue(0)}function QMe(i,n){if(i&1&&(m(0,"div",10),D(1),I(2,XMe,1,0,"ng-container",6),_()),i&2){let e=f();u(),J(" ",e.subheader," "),u(),h("ngTemplateOutlet",e.subtitleTemplate)}}function ZMe(i,n){i&1&&ue(0)}function eNe(i,n){i&1&&ue(0)}function tNe(i,n){if(i&1&&(m(0,"div",11),ii(1,2),I(2,eNe,1,0,"ng-container",6),_()),i&2){let e=f();u(2),h("ngTemplateOutlet",e.footerTemplate)}}var wG=(()=>{class i{el;header;subheader;set style(e){fe.equals(this._style(),e)||this._style.set(e)}styleClass;headerFacet;footerFacet;templates;headerTemplate;titleTemplate;subtitleTemplate;contentTemplate;footerTemplate;_style=Oi(null);constructor(e){this.el=e}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"header":this.headerTemplate=e.template;break;case"title":this.titleTemplate=e.template;break;case"subtitle":this.subtitleTemplate=e.template;break;case"content":this.contentTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;default:this.contentTemplate=e.template;break}})}getBlockableElement(){return this.el.nativeElement.children[0]}static \u0275fac=function(t){return new(t||i)(b(ze))};static \u0275cmp=ie({type:i,selectors:[["p-card"]],contentQueries:function(t,r,o){if(t&1&&(ot(o,Xl,5),ot(o,Ds,5),ot(o,be,4)),t&2){let s;ee(s=te())&&(r.headerFacet=s.first),ee(s=te())&&(r.footerFacet=s.first),ee(s=te())&&(r.templates=s)}},hostAttrs:[1,"p-element"],inputs:{header:"header",subheader:"subheader",style:"style",styleClass:"styleClass"},ngContentSelectors:KMe,decls:9,vars:10,consts:[[3,"ngClass","ngStyle"],["class","p-card-header",4,"ngIf"],[1,"p-card-body"],["class","p-card-title",4,"ngIf"],["class","p-card-subtitle",4,"ngIf"],[1,"p-card-content"],[4,"ngTemplateOutlet"],["class","p-card-footer",4,"ngIf"],[1,"p-card-header"],[1,"p-card-title"],[1,"p-card-subtitle"],[1,"p-card-footer"]],template:function(t,r){t&1&&(Fi(WMe),m(0,"div",0),I(1,qMe,3,1,"div",1),m(2,"div",2),I(3,JMe,3,2,"div",3)(4,QMe,3,2,"div",4),m(5,"div",5),ii(6),I(7,ZMe,1,0,"ng-container",6),_(),I(8,tNe,3,1,"div",7),_()()),t&2&&(le(r.styleClass),h("ngClass","p-card p-component")("ngStyle",r._style()),V("data-pc-name","card"),u(),h("ngIf",r.headerFacet||r.headerTemplate),u(2),h("ngIf",r.header||r.titleTemplate),u(),h("ngIf",r.subheader||r.subtitleTemplate),u(3),h("ngTemplateOutlet",r.contentTemplate),u(),h("ngIf",r.footerFacet||r.footerTemplate))},dependencies:[Ge,et,st,Ee],styles:[`@layer primeng{.p-card-header img{width:100%}}
`],encapsulation:2,changeDetection:0})}return i})(),jP=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=Oe({type:i});static \u0275inj=Te({imports:[Ye,nt]})}return i})();var nNe=["input"],rNe=(i,n,e)=>({"p-inputswitch p-component":!0,"p-inputswitch-checked":i,"p-disabled":n,"p-focus":e}),oNe={provide:nn,useExisting:zt(()=>sNe),multi:!0},sNe=(()=>{class i{cd;style;styleClass;tabindex;inputId;name;disabled;readonly;trueValue=!0;falseValue=!1;ariaLabel;ariaLabelledBy;autofocus;onChange=new Q;input;modelValue=!1;focused=!1;onModelChange=()=>{};onModelTouched=()=>{};constructor(e){this.cd=e}onClick(e){!this.disabled&&!this.readonly&&(this.modelValue=this.checked()?this.falseValue:this.trueValue,this.onModelChange(this.modelValue),this.onChange.emit({originalEvent:e,checked:this.modelValue}),this.input.nativeElement.focus())}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}writeValue(e){this.modelValue=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}checked(){return this.modelValue===this.trueValue}static \u0275fac=function(t){return new(t||i)(b(Ie))};static \u0275cmp=ie({type:i,selectors:[["p-inputSwitch"]],viewQuery:function(t,r){if(t&1&&de(nNe,5),t&2){let o;ee(o=te())&&(r.input=o.first)}},hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",tabindex:[2,"tabindex","tabindex",ke],inputId:"inputId",name:"name",disabled:[2,"disabled","disabled",K],readonly:[2,"readonly","readonly",K],trueValue:"trueValue",falseValue:"falseValue",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",autofocus:[2,"autofocus","autofocus",K]},outputs:{onChange:"onChange"},features:[Ze([oNe]),qe],decls:5,vars:23,consts:[["input",""],[3,"click","ngClass","ngStyle"],[1,"p-hidden-accessible"],["type","checkbox","role","switch","pAutoFocus","",3,"focus","blur","checked","disabled","autofocus"],[1,"p-inputswitch-slider"]],template:function(t,r){if(t&1){let o=B();m(0,"div",1),P("click",function(a){return S(o),A(r.onClick(a))}),m(1,"div",2)(2,"input",3,0),P("focus",function(){return S(o),A(r.onFocus())})("blur",function(){return S(o),A(r.onBlur())}),_()(),O(4,"span",4),_()}t&2&&(le(r.styleClass),h("ngClass",zi(19,rNe,r.checked(),r.disabled,r.focused))("ngStyle",r.style),V("data-pc-name","inputswitch")("data-pc-section","root"),u(),V("data-pc-section","hiddenInputWrapper")("data-p-hidden-accessible",!0),u(),h("checked",r.checked())("disabled",r.disabled)("autofocus",r.autofocus),V("id",r.inputId)("aria-checked",r.checked())("aria-labelledby",r.ariaLabelledBy)("aria-label",r.ariaLabel)("name",r.name)("tabindex",r.tabindex)("data-pc-section","hiddenInput"),u(2),V("data-pc-section","slider"))},dependencies:[Ge,Ee,Mn],styles:[`@layer primeng{.p-inputswitch{position:relative;display:inline-block;-webkit-user-select:none;user-select:none}.p-inputswitch-slider{position:absolute;cursor:pointer;inset:0;border:1px solid transparent}.p-inputswitch-slider:before{position:absolute;content:"";top:50%}}
`],encapsulation:2,changeDetection:0})}return i})(),SG=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=Oe({type:i});static \u0275inj=Te({imports:[Ye,Qn]})}return i})();var aNe=["container"],lNe=["resizeHelper"],cNe=["reorderIndicatorUp"],dNe=["reorderIndicatorDown"],uNe=["table"],pNe=["scrollableView"],hNe=["scrollableFrozenView"],fNe=(i,n,e,t,r)=>({"p-treetable p-component":!0,"p-treetable-hoverable-rows":i,"p-treetable-auto-layout":n,"p-treetable-resizable":e,"p-treetable-resizable-fit":t,"p-treetable-flex-scrollable":r}),Td=i=>({$implicit:i}),mNe=(i,n)=>({left:i,width:n}),gNe=i=>({width:i}),GP=()=>({display:"none"});function _Ne(i,n){if(i&1&&O(0,"i"),i&2){let e=f(2);le("p-treetable-loading-icon pi-spin "+e.loadingIcon)}}function CNe(i,n){i&1&&O(0,"SpinnerIcon",24),i&2&&h("spin",!0)("styleClass","p-treetable-loading-icon")}function yNe(i,n){}function INe(i,n){i&1&&I(0,yNe,0,0,"ng-template")}function vNe(i,n){if(i&1&&(m(0,"span",25),I(1,INe,1,0,null,26),_()),i&2){let e=f(3);u(),h("ngTemplateOutlet",e.loadingIconTemplate)}}function bNe(i,n){if(i&1&&(pe(0),I(1,CNe,1,2,"SpinnerIcon",22)(2,vNe,2,1,"span",23),he()),i&2){let e=f(2);u(),h("ngIf",!e.loadingIconTemplate),u(),h("ngIf",e.loadingIconTemplate)}}function wNe(i,n){if(i&1&&(m(0,"div",18)(1,"div",19),I(2,_Ne,1,2,"i",20)(3,bNe,3,2,"ng-container",21),_()()),i&2){let e=f();u(2),h("ngIf",e.loadingIcon),u(),h("ngIf",!e.loadingIcon)}}function SNe(i,n){i&1&&ue(0)}function ANe(i,n){if(i&1&&(m(0,"div",27),I(1,SNe,1,0,"ng-container",26),_()),i&2){let e=f();u(),h("ngTemplateOutlet",e.captionTemplate)}}function ENe(i,n){i&1&&ue(0)}function xNe(i,n){if(i&1&&I(0,ENe,1,0,"ng-container",26),i&2){let e=f(3);h("ngTemplateOutlet",e.paginatorFirstPageLinkIconTemplate)}}function TNe(i,n){i&1&&I(0,xNe,1,1,"ng-template",29)}function ONe(i,n){i&1&&ue(0)}function DNe(i,n){if(i&1&&I(0,ONe,1,0,"ng-container",26),i&2){let e=f(3);h("ngTemplateOutlet",e.paginatorPreviousPageLinkIconTemplate)}}function RNe(i,n){i&1&&I(0,DNe,1,1,"ng-template",30)}function PNe(i,n){i&1&&ue(0)}function kNe(i,n){if(i&1&&I(0,PNe,1,0,"ng-container",26),i&2){let e=f(3);h("ngTemplateOutlet",e.paginatorLastPageLinkIconTemplate)}}function FNe(i,n){i&1&&I(0,kNe,1,1,"ng-template",31)}function LNe(i,n){i&1&&ue(0)}function MNe(i,n){if(i&1&&I(0,LNe,1,0,"ng-container",26),i&2){let e=f(3);h("ngTemplateOutlet",e.paginatorNextPageLinkIconTemplate)}}function NNe(i,n){i&1&&I(0,MNe,1,1,"ng-template",32)}function VNe(i,n){if(i&1){let e=B();m(0,"p-paginator",28),P("onPageChange",function(r){S(e);let o=f();return A(o.onPageChange(r))}),I(1,TNe,1,0,null,21)(2,RNe,1,0,null,21)(3,FNe,1,0,null,21)(4,NNe,1,0,null,21),_()}if(i&2){let e=f();h("rows",e.rows)("first",e.first)("totalRecords",e.totalRecords)("pageLinkSize",e.pageLinks)("alwaysShow",e.alwaysShowPaginator)("rowsPerPageOptions",e.rowsPerPageOptions)("templateLeft",e.paginatorLeftTemplate)("templateRight",e.paginatorRightTemplate)("dropdownAppendTo",e.paginatorDropdownAppendTo)("currentPageReportTemplate",e.currentPageReportTemplate)("showFirstLastIcon",e.showFirstLastIcon)("dropdownItemTemplate",e.paginatorDropdownItemTemplate)("showCurrentPageReport",e.showCurrentPageReport)("showJumpToPageDropdown",e.showJumpToPageDropdown)("showPageLinks",e.showPageLinks)("styleClass",e.paginatorStyleClass)("locale",e.paginatorLocale),u(),h("ngIf",e.paginatorFirstPageLinkIconTemplate),u(),h("ngIf",e.paginatorPreviousPageLinkIconTemplate),u(),h("ngIf",e.paginatorLastPageLinkIconTemplate),u(),h("ngIf",e.paginatorNextPageLinkIconTemplate)}}function BNe(i,n){i&1&&ue(0)}function UNe(i,n){i&1&&ue(0)}function jNe(i,n){i&1&&ue(0)}function HNe(i,n){if(i&1&&(m(0,"div",33)(1,"table",34,1),I(3,BNe,1,0,"ng-container",35),m(4,"thead",36),I(5,UNe,1,0,"ng-container",35),_(),O(6,"tbody",37),m(7,"tfoot",38),I(8,jNe,1,0,"ng-container",35),_()()()),i&2){let e=f();u(),h("ngClass",e.tableStyleClass)("ngStyle",e.tableStyle),u(2),h("ngTemplateOutlet",e.colGroupTemplate)("ngTemplateOutletContext",oe(10,Td,e.columns)),u(2),h("ngTemplateOutlet",e.headerTemplate)("ngTemplateOutletContext",oe(12,Td,e.columns)),u(),h("pTreeTableBody",e.columns)("pTreeTableBodyTemplate",e.bodyTemplate),u(2),h("ngTemplateOutlet",e.footerTemplate)("ngTemplateOutletContext",oe(14,Td,e.columns))}}function GNe(i,n){if(i&1&&O(0,"div",42,3),i&2){let e=f(2);h("ttScrollableView",e.frozenColumns)("frozen",!0)("ngStyle",oe(4,gNe,e.frozenWidth))("scrollHeight",e.scrollHeight)}}function zNe(i,n){if(i&1&&(m(0,"div",39),I(1,GNe,2,6,"div",40),O(2,"div",41,2),_()),i&2){let e=f();u(),h("ngIf",e.frozenColumns||e.frozenBodyTemplate),u(),h("ttScrollableView",e.columns)("frozen",!1)("scrollHeight",e.scrollHeight)("ngStyle",Je(5,mNe,e.frozenWidth,"calc(100% - "+e.frozenWidth+")"))}}function WNe(i,n){i&1&&ue(0)}function KNe(i,n){if(i&1&&I(0,WNe,1,0,"ng-container",26),i&2){let e=f(3);h("ngTemplateOutlet",e.paginatorFirstPageLinkIconTemplate)}}function $Ne(i,n){i&1&&I(0,KNe,1,1,"ng-template",29)}function qNe(i,n){i&1&&ue(0)}function YNe(i,n){if(i&1&&I(0,qNe,1,0,"ng-container",26),i&2){let e=f(3);h("ngTemplateOutlet",e.paginatorPreviousPageLinkIconTemplate)}}function JNe(i,n){i&1&&I(0,YNe,1,1,"ng-template",30)}function XNe(i,n){i&1&&ue(0)}function QNe(i,n){if(i&1&&I(0,XNe,1,0,"ng-container",26),i&2){let e=f(3);h("ngTemplateOutlet",e.paginatorLastPageLinkIconTemplate)}}function ZNe(i,n){i&1&&I(0,QNe,1,1,"ng-template",31)}function e3e(i,n){i&1&&ue(0)}function t3e(i,n){if(i&1&&I(0,e3e,1,0,"ng-container",26),i&2){let e=f(3);h("ngTemplateOutlet",e.paginatorNextPageLinkIconTemplate)}}function i3e(i,n){i&1&&I(0,t3e,1,1,"ng-template",32)}function n3e(i,n){if(i&1){let e=B();m(0,"p-paginator",43),P("onPageChange",function(r){S(e);let o=f();return A(o.onPageChange(r))}),I(1,$Ne,1,0,null,21)(2,JNe,1,0,null,21)(3,ZNe,1,0,null,21)(4,i3e,1,0,null,21),_()}if(i&2){let e=f();h("rows",e.rows)("first",e.first)("totalRecords",e.totalRecords)("pageLinkSize",e.pageLinks)("alwaysShow",e.alwaysShowPaginator)("rowsPerPageOptions",e.rowsPerPageOptions)("templateLeft",e.paginatorLeftTemplate)("templateRight",e.paginatorRightTemplate)("dropdownAppendTo",e.paginatorDropdownAppendTo)("currentPageReportTemplate",e.currentPageReportTemplate)("showFirstLastIcon",e.showFirstLastIcon)("dropdownItemTemplate",e.paginatorDropdownItemTemplate)("showCurrentPageReport",e.showCurrentPageReport)("showJumpToPageDropdown",e.showJumpToPageDropdown)("showPageLinks",e.showPageLinks)("styleClass",e.paginatorStyleClass)("locale",e.paginatorLocale),u(),h("ngIf",e.paginatorFirstPageLinkIconTemplate),u(),h("ngIf",e.paginatorPreviousPageLinkIconTemplate),u(),h("ngIf",e.paginatorLastPageLinkIconTemplate),u(),h("ngIf",e.paginatorNextPageLinkIconTemplate)}}function r3e(i,n){i&1&&ue(0)}function o3e(i,n){if(i&1&&(m(0,"div",44),I(1,r3e,1,0,"ng-container",26),_()),i&2){let e=f();u(),h("ngTemplateOutlet",e.summaryTemplate)}}function s3e(i,n){i&1&&O(0,"div",45,4),i&2&&h("ngStyle",Ae(1,GP))}function a3e(i,n){i&1&&O(0,"ArrowDownIcon")}function l3e(i,n){}function c3e(i,n){i&1&&I(0,l3e,0,0,"ng-template")}function d3e(i,n){if(i&1&&(m(0,"span",46,5),I(2,a3e,1,0,"ArrowDownIcon",21)(3,c3e,1,0,null,26),_()),i&2){let e=f();h("ngStyle",Ae(3,GP)),u(2),h("ngIf",!e.reorderIndicatorUpIconTemplate),u(),h("ngTemplateOutlet",e.reorderIndicatorUpIconTemplate)}}function u3e(i,n){i&1&&O(0,"ArrowUpIcon")}function p3e(i,n){}function h3e(i,n){i&1&&I(0,p3e,0,0,"ng-template")}function f3e(i,n){if(i&1&&(m(0,"span",47,6),I(2,u3e,1,0,"ArrowUpIcon",21)(3,h3e,1,0,null,26),_()),i&2){let e=f();h("ngStyle",Ae(3,GP)),u(2),h("ngIf",!e.reorderIndicatorDownIconTemplate),u(),h("ngTemplateOutlet",e.reorderIndicatorDownIconTemplate)}}var m3e=["pTreeTableBody",""],g3e=(i,n,e,t)=>({$implicit:i,node:n,rowData:e,columns:t}),_3e=(i,n)=>({$implicit:i,frozen:n});function C3e(i,n){i&1&&ue(0)}function y3e(i,n){if(i&1&&(pe(0),I(1,C3e,1,0,"ng-container",2),he()),i&2){let e=f().$implicit,t=f();u(),h("ngTemplateOutlet",t.template)("ngTemplateOutletContext",dr(2,g3e,e,e.node,e.node.data,t.columns))}}function I3e(i,n){if(i&1&&I(0,y3e,2,7,"ng-container",1),i&2){let e=n.$implicit;h("ngIf",e.visible)}}function v3e(i,n){i&1&&ue(0)}function b3e(i,n){if(i&1&&(pe(0),I(1,v3e,1,0,"ng-container",2),he()),i&2){let e=f();u(),h("ngTemplateOutlet",e.tt.emptyMessageTemplate)("ngTemplateOutletContext",Je(2,_3e,e.columns,e.frozen))}}var w3e=["scrollHeader"],S3e=["scrollHeaderBox"],A3e=["scrollBody"],E3e=["scrollTable"],x3e=["loadingTable"],T3e=["scrollFooter"],O3e=["scrollFooterBox"],D3e=["scrollableAligner"],R3e=["scroller"],P3e=["ttScrollableView",""],k3e=i=>({height:i}),AG=(i,n)=>({$implicit:i,options:n}),F3e=i=>({options:i}),L3e=(i,n)=>({"max-height":i,"overflow-y":n}),M3e=()=>({}),N3e=()=>({"background-color":"transparent"});function V3e(i,n){i&1&&ue(0)}function B3e(i,n){i&1&&ue(0)}function U3e(i,n){i&1&&ue(0)}function j3e(i,n){if(i&1&&I(0,U3e,1,0,"ng-container",12),i&2){let e=n.$implicit,t=n.options;f(2);let r=We(11);h("ngTemplateOutlet",r)("ngTemplateOutletContext",Je(2,AG,e,t))}}function H3e(i,n){i&1&&ue(0)}function G3e(i,n){if(i&1&&I(0,H3e,1,0,"ng-container",12),i&2){let e=n.options,t=f(3);h("ngTemplateOutlet",t.loaderTemplate)("ngTemplateOutletContext",oe(2,F3e,e))}}function z3e(i,n){i&1&&(pe(0),I(1,G3e,1,4,"ng-template",19),he())}function W3e(i,n){if(i&1){let e=B();m(0,"p-scroller",17,3),P("onLazyLoad",function(r){S(e);let o=f();return A(o.tt.onLazyItemLoad(r))}),I(2,j3e,1,5,"ng-template",18)(3,z3e,2,0,"ng-container",15),_()}if(i&2){let e=f();dt(oe(8,k3e,e.tt.scrollHeight!=="flex"?e.tt.scrollHeight:void 0)),h("items",e.tt.serializedValue)("scrollHeight",e.scrollHeight!=="flex"?void 0:"100%")("itemSize",e.tt.virtualScrollItemSize||e.tt._virtualRowHeight)("lazy",e.tt.lazy)("options",e.tt.virtualScrollOptions),u(3),h("ngIf",e.loaderTemplate)}}function K3e(i,n){i&1&&ue(0)}function $3e(i,n){if(i&1&&(pe(0),m(1,"div",20,4),I(3,K3e,1,0,"ng-container",12),_(),he()),i&2){let e=f(),t=We(11);u(),h("ngStyle",Je(3,L3e,e.tt.scrollHeight!=="flex"?e.scrollHeight:void 0,!e.frozen&&e.tt.scrollHeight?"scroll":void 0)),u(2),h("ngTemplateOutlet",t)("ngTemplateOutletContext",Je(7,AG,e.serializedValue,Ae(6,M3e)))}}function q3e(i,n){i&1&&ue(0)}function Y3e(i,n){i&1&&O(0,"div",24,6),i&2&&h("ngStyle",Ae(1,N3e))}function J3e(i,n){if(i&1&&(m(0,"table",21,5),I(2,q3e,1,0,"ng-container",12),O(3,"tbody",22),_(),I(4,Y3e,2,2,"div",23)),i&2){let e=n.$implicit,t=n.options,r=f();le(r.tt.tableStyleClass),h("ngClass",t.contentStyleClass)("ngStyle",r.getMergedTableStyles(t.contentStyle)),u(2),h("ngTemplateOutlet",r.frozen&&r.tt.frozenColGroupTemplate||r.tt.colGroupTemplate)("ngTemplateOutletContext",oe(11,Td,r.columns)),u(),h("pTreeTableBody",r.columns)("pTreeTableBodyTemplate",r.frozen&&r.tt.frozenBodyTemplate||r.tt.bodyTemplate)("serializedNodes",e)("frozen",r.frozen),u(),h("ngIf",r.frozen)}}function X3e(i,n){i&1&&ue(0)}function Q3e(i,n){i&1&&ue(0)}function Z3e(i,n){if(i&1&&(m(0,"div",25,7)(2,"div",26,8)(4,"table",27),I(5,X3e,1,0,"ng-container",12),m(6,"tfoot",28),I(7,Q3e,1,0,"ng-container",12),_()()()()),i&2){let e=f();u(4),h("ngClass",e.tt.tableStyleClass)("ngStyle",e.tt.tableStyle),u(),h("ngTemplateOutlet",e.frozen&&e.tt.frozenColGroupTemplate||e.tt.colGroupTemplate)("ngTemplateOutletContext",oe(6,Td,e.columns)),u(2),h("ngTemplateOutlet",e.frozen&&e.tt.frozenFooterTemplate||e.tt.footerTemplate)("ngTemplateOutletContext",oe(8,Td,e.columns))}}var e4e=(i,n)=>({visibility:i,"margin-left":n});function t4e(i,n){i&1&&O(0,"ChevronDownIcon"),i&2&&V("aria-hidden",!0)}function i4e(i,n){i&1&&O(0,"ChevronRightIcon"),i&2&&V("aria-hidden",!0)}function n4e(i,n){if(i&1&&(pe(0),I(1,t4e,1,1,"ChevronDownIcon",1)(2,i4e,1,1,"ChevronRightIcon",1),he()),i&2){let e=f();u(),h("ngIf",e.rowNode.node.expanded),u(),h("ngIf",!e.rowNode.node.expanded)}}function r4e(i,n){}function o4e(i,n){i&1&&I(0,r4e,0,0,"ng-template")}var HP=(()=>{class i{sortSource=new Re;selectionSource=new Re;contextMenuSource=new Re;uiUpdateSource=new Re;totalRecordsSource=new Re;sortSource$=this.sortSource.asObservable();selectionSource$=this.selectionSource.asObservable();contextMenuSource$=this.contextMenuSource.asObservable();uiUpdateSource$=this.uiUpdateSource.asObservable();totalRecordsSource$=this.totalRecordsSource.asObservable();onSort(e){this.sortSource.next(e)}onSelectionChange(){this.selectionSource.next(null)}onContextMenu(e){this.contextMenuSource.next(e)}onUIUpdate(e){this.uiUpdateSource.next(e)}onTotalRecordsChange(e){this.totalRecordsSource.next(e)}static \u0275fac=function(t){return new(t||i)};static \u0275prov=_e({token:i,factory:i.\u0275fac})}return i})(),iC=(()=>{class i{document;renderer;el;cd;zone;tableService;filterService;config;columns;style;styleClass;tableStyle;tableStyleClass;autoLayout;lazy=!1;lazyLoadOnInit=!0;paginator;rows;first=0;pageLinks=5;rowsPerPageOptions;alwaysShowPaginator=!0;paginatorPosition="bottom";paginatorStyleClass;paginatorDropdownAppendTo;currentPageReportTemplate="{currentPage} of {totalPages}";showCurrentPageReport;showJumpToPageDropdown;showFirstLastIcon=!0;showPageLinks=!0;defaultSortOrder=1;sortMode="single";resetPageOnSort=!0;customSort;selectionMode;contextMenuSelection;contextMenuSelectionMode="separate";dataKey;metaKeySelection=!1;compareSelectionBy="deepEquals";rowHover;loading;loadingIcon;showLoader=!0;scrollable;scrollHeight;virtualScroll;virtualScrollItemSize;virtualScrollOptions;virtualScrollDelay=150;frozenWidth;frozenColumns;resizableColumns;columnResizeMode="fit";reorderableColumns;contextMenu;rowTrackBy=(e,t)=>t;filters={};globalFilterFields;filterDelay=300;filterMode="lenient";filterLocale;paginatorLocale;get totalRecords(){return this._totalRecords}set totalRecords(e){this._totalRecords=e,this.tableService.onTotalRecordsChange(this._totalRecords)}get sortField(){return this._sortField}set sortField(e){this._sortField=e}get sortOrder(){return this._sortOrder}set sortOrder(e){this._sortOrder=e}get multiSortMeta(){return this._multiSortMeta}set multiSortMeta(e){this._multiSortMeta=e}get selection(){return this._selection}set selection(e){this._selection=e}get value(){return this._value}set value(e){this._value=e}get virtualRowHeight(){return this._virtualRowHeight}set virtualRowHeight(e){this._virtualRowHeight=e,console.warn("The virtualRowHeight property is deprecated, use virtualScrollItemSize property instead.")}get selectionKeys(){return this._selectionKeys}set selectionKeys(e){this._selectionKeys=e,this.selectionKeysChange.emit(this._selectionKeys)}selectionChange=new Q;contextMenuSelectionChange=new Q;onFilter=new Q;onNodeExpand=new Q;onNodeCollapse=new Q;onPage=new Q;onSort=new Q;onLazyLoad=new Q;sortFunction=new Q;onColResize=new Q;onColReorder=new Q;onNodeSelect=new Q;onNodeUnselect=new Q;onContextMenuSelect=new Q;onHeaderCheckboxToggle=new Q;onEditInit=new Q;onEditComplete=new Q;onEditCancel=new Q;selectionKeysChange=new Q;containerViewChild;resizeHelperViewChild;reorderIndicatorUpViewChild;reorderIndicatorDownViewChild;tableViewChild;scrollableViewChild;scrollableFrozenViewChild;templates;_value=[];_virtualRowHeight=28;_selectionKeys;serializedValue;_totalRecords=0;_multiSortMeta;_sortField;_sortOrder=1;filteredNodes;filterTimeout;colGroupTemplate;captionTemplate;headerTemplate;bodyTemplate;footerTemplate;summaryTemplate;emptyMessageTemplate;paginatorLeftTemplate;paginatorRightTemplate;paginatorDropdownItemTemplate;frozenHeaderTemplate;frozenBodyTemplate;frozenFooterTemplate;frozenColGroupTemplate;loadingIconTemplate;reorderIndicatorUpIconTemplate;reorderIndicatorDownIconTemplate;sortIconTemplate;checkboxIconTemplate;headerCheckboxIconTemplate;togglerIconTemplate;paginatorFirstPageLinkIconTemplate;paginatorLastPageLinkIconTemplate;paginatorPreviousPageLinkIconTemplate;paginatorNextPageLinkIconTemplate;lastResizerHelperX;reorderIconWidth;reorderIconHeight;draggedColumn;dropPosition;preventSelectionSetterPropagation;_selection;selectedKeys={};rowTouched;editingCell;editingCellData;editingCellField;editingCellClick;documentEditListener;initialized;toggleRowIndex;ngOnInit(){this.lazy&&this.lazyLoadOnInit&&!this.virtualScroll&&this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"caption":this.captionTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"body":this.bodyTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"summary":this.summaryTemplate=e.template;break;case"colgroup":this.colGroupTemplate=e.template;break;case"emptymessage":this.emptyMessageTemplate=e.template;break;case"paginatorleft":this.paginatorLeftTemplate=e.template;break;case"paginatorright":this.paginatorRightTemplate=e.template;break;case"paginatordropdownitem":this.paginatorDropdownItemTemplate=e.template;break;case"frozenheader":this.frozenHeaderTemplate=e.template;break;case"frozenbody":this.frozenBodyTemplate=e.template;break;case"frozenfooter":this.frozenFooterTemplate=e.template;break;case"frozencolgroup":this.frozenColGroupTemplate=e.template;break;case"loadingicon":this.loadingIconTemplate=e.template;break;case"reorderindicatorupicon":this.reorderIndicatorUpIconTemplate=e.template;break;case"reorderindicatordownicon":this.reorderIndicatorDownIconTemplate=e.template;break;case"sorticon":this.sortIconTemplate=e.template;break;case"checkboxicon":this.checkboxIconTemplate=e.template;break;case"headercheckboxicon":this.headerCheckboxIconTemplate=e.template;break;case"togglericon":this.togglerIconTemplate=e.template;break;case"paginatorfirstpagelinkicon":this.paginatorFirstPageLinkIconTemplate=e.template;break;case"paginatorlastpagelinkicon":this.paginatorLastPageLinkIconTemplate=e.template;break;case"paginatorpreviouspagelinkicon":this.paginatorPreviousPageLinkIconTemplate=e.template;break;case"paginatornextpagelinkicon":this.paginatorNextPageLinkIconTemplate=e.template;break}})}constructor(e,t,r,o,s,a,l,c){this.document=e,this.renderer=t,this.el=r,this.cd=o,this.zone=s,this.tableService=a,this.filterService=l,this.config=c}ngOnChanges(e){e.value&&(this._value=e.value.currentValue,this.lazy||(this.totalRecords=this._value?this._value.length:0,this.sortMode=="single"&&this.sortField?this.sortSingle():this.sortMode=="multiple"&&this.multiSortMeta?this.sortMultiple():this.hasFilter()&&this._filter()),this.updateSerializedValue(),this.tableService.onUIUpdate(this.value)),e.sortField&&(this._sortField=e.sortField.currentValue,(!this.lazy||this.initialized)&&this.sortMode==="single"&&this.sortSingle()),e.sortOrder&&(this._sortOrder=e.sortOrder.currentValue,(!this.lazy||this.initialized)&&this.sortMode==="single"&&this.sortSingle()),e.multiSortMeta&&(this._multiSortMeta=e.multiSortMeta.currentValue,this.sortMode==="multiple"&&this.sortMultiple()),e.selection&&(this._selection=e.selection.currentValue,this.preventSelectionSetterPropagation||(this.updateselectedKeys(),this.tableService.onSelectionChange()),this.preventSelectionSetterPropagation=!1)}updateSerializedValue(){this.serializedValue=[],this.paginator?this.serializePageNodes():this.serializeNodes(null,this.filteredNodes||this.value,0,!0)}serializeNodes(e,t,r,o){if(t&&t.length)for(let s of t){s.parent=e;let a={node:s,parent:e,level:r,visible:o&&(e?e.expanded:!0)};this.serializedValue.push(a),a.visible&&s.expanded&&this.serializeNodes(s,s.children,r+1,a.visible)}}serializePageNodes(){let e=this.filteredNodes||this.value;if(this.serializedValue=[],e&&e.length){let t=this.lazy?0:this.first;for(let r=t;r<t+this.rows;r++){let o=e[r];o&&(this.serializedValue.push({node:o,parent:null,level:0,visible:!0}),this.serializeNodes(o,o.children,1,!0))}}}updateselectedKeys(){if(this.dataKey&&this._selection)if(this.selectedKeys={},Array.isArray(this._selection))for(let e of this._selection)this.selectedKeys[String(fe.resolveFieldData(e.data,this.dataKey))]=1;else this.selectedKeys[String(fe.resolveFieldData(this._selection.data,this.dataKey))]=1}onPageChange(e){this.first=e.first,this.rows=e.rows,this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.serializePageNodes(),this.onPage.emit({first:this.first,rows:this.rows}),this.tableService.onUIUpdate(this.value),this.scrollable&&this.resetScrollTop()}sort(e){let t=e.originalEvent;if(this.sortMode==="single"&&(this._sortOrder=this.sortField===e.field?this.sortOrder*-1:this.defaultSortOrder,this._sortField=e.field,this.sortSingle(),this.resetPageOnSort&&this.scrollable&&this.resetScrollTop()),this.sortMode==="multiple"){let r=t.metaKey||t.ctrlKey,o=this.getSortMeta(e.field);o?r?o.order=o.order*-1:(this._multiSortMeta=[{field:e.field,order:o.order*-1}],this.resetPageOnSort&&this.scrollable&&this.resetScrollTop()):((!r||!this.multiSortMeta)&&(this._multiSortMeta=[],this.resetPageOnSort&&this.scrollable&&this.resetScrollTop()),this.multiSortMeta.push({field:e.field,order:this.defaultSortOrder})),this.sortMultiple()}}sortSingle(){if(this.sortField&&this.sortOrder){this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.sortNodes(this.value),this.hasFilter()&&this._filter());let e={field:this.sortField,order:this.sortOrder};this.onSort.emit(e),this.tableService.onSort(e),this.updateSerializedValue()}}sortNodes(e){if(!(!e||e.length===0)){this.customSort?this.sortFunction.emit({data:e,mode:this.sortMode,field:this.sortField,order:this.sortOrder}):e.sort((t,r)=>{let o=fe.resolveFieldData(t.data,this.sortField),s=fe.resolveFieldData(r.data,this.sortField),a=null;return o==null&&s!=null?a=-1:o!=null&&s==null?a=1:o==null&&s==null?a=0:typeof o=="string"&&typeof s=="string"?a=o.localeCompare(s,void 0,{numeric:!0}):a=o<s?-1:o>s?1:0,this.sortOrder*a});for(let t of e)this.sortNodes(t.children)}}sortMultiple(){this.multiSortMeta&&(this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.sortMultipleNodes(this.value),this.hasFilter()&&this._filter()),this.onSort.emit({multisortmeta:this.multiSortMeta}),this.updateSerializedValue(),this.tableService.onSort(this.multiSortMeta))}sortMultipleNodes(e){if(!(!e||e.length===0)){this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,multiSortMeta:this.multiSortMeta}):e.sort((t,r)=>this.multisortField(t,r,this.multiSortMeta,0));for(let t of e)this.sortMultipleNodes(t.children)}}multisortField(e,t,r,o){if(fe.isEmpty(this.multiSortMeta)||fe.isEmpty(r[o]))return 0;let s=fe.resolveFieldData(e.data,r[o].field),a=fe.resolveFieldData(t.data,r[o].field),l=null;if(s==null&&a!=null?l=-1:s!=null&&a==null?l=1:s==null&&a==null&&(l=0),typeof s=="string"||s instanceof String){if(s.localeCompare&&s!=a)return r[o].order*s.localeCompare(a,void 0,{numeric:!0})}else l=s<a?-1:1;return s==a?r.length-1>o?this.multisortField(e,t,r,o+1):0:r[o].order*l}getSortMeta(e){if(this.multiSortMeta&&this.multiSortMeta.length){for(let t=0;t<this.multiSortMeta.length;t++)if(this.multiSortMeta[t].field===e)return this.multiSortMeta[t]}return null}isSorted(e){if(this.sortMode==="single")return this.sortField&&this.sortField===e;if(this.sortMode==="multiple"){let t=!1;if(this.multiSortMeta){for(let r=0;r<this.multiSortMeta.length;r++)if(this.multiSortMeta[r].field==e){t=!0;break}}return t}}createLazyLoadMetadata(){return{first:this.first,rows:this.rows,sortField:this.sortField,sortOrder:this.sortOrder,filters:this.filters,globalFilter:this.filters&&this.filters.global?this.filters.global.value:null,multiSortMeta:this.multiSortMeta,forceUpdate:()=>this.cd.detectChanges()}}onLazyItemLoad(e){this.onLazyLoad.emit(Pe(re(re({},this.createLazyLoadMetadata()),e),{rows:e.last-e.first}))}resetScrollTop(){this.virtualScroll?this.scrollToVirtualIndex(0):this.scrollTo({top:0})}scrollToVirtualIndex(e){this.scrollableViewChild&&this.scrollableViewChild.scrollToVirtualIndex(e),this.scrollableFrozenViewChild&&this.scrollableViewChild.scrollToVirtualIndex(e)}scrollTo(e){this.scrollableViewChild&&this.scrollableViewChild.scrollTo(e),this.scrollableFrozenViewChild&&this.scrollableViewChild.scrollTo(e)}isEmpty(){let e=this.filteredNodes||this.value;return e==null||e.length==0}getBlockableElement(){return this.el.nativeElement.children[0]}onColumnResizeBegin(e){let t=M.getOffset(this.containerViewChild?.nativeElement).left;this.lastResizerHelperX=e.pageX-t+this.containerViewChild?.nativeElement.scrollLeft,e.preventDefault()}onColumnResize(e){let t=M.getOffset(this.containerViewChild?.nativeElement).left;M.addClass(this.containerViewChild?.nativeElement,"p-unselectable-text"),this.resizeHelperViewChild.nativeElement.style.height=this.containerViewChild?.nativeElement.offsetHeight+"px",this.resizeHelperViewChild.nativeElement.style.top="0px",this.resizeHelperViewChild.nativeElement.style.left=e.pageX-t+this.containerViewChild?.nativeElement.scrollLeft+"px",this.resizeHelperViewChild.nativeElement.style.display="block"}onColumnResizeEnd(e,t){let r=this.resizeHelperViewChild.nativeElement.offsetLeft-this.lastResizerHelperX,o=t.offsetWidth,s=o+r,a=t.style.minWidth||15;if(o+r>parseInt(a)){if(this.columnResizeMode==="fit"){let l=t.nextElementSibling;for(;!l.offsetParent;)l=l.nextElementSibling;if(l){let c=l.offsetWidth-r,d=l.style.minWidth||15;if(s>15&&c>parseInt(d))if(this.scrollable){let p=this.findParentScrollableView(t),g=M.findSingle(p,".p-treetable-scrollable-body table")||M.findSingle(p,".p-scroller-viewport table"),C=M.findSingle(p,"table.p-treetable-scrollable-header-table"),y=M.findSingle(p,"table.p-treetable-scrollable-footer-table"),v=M.index(t);this.resizeColGroup(C,v,s,c),this.resizeColGroup(g,v,s,c),this.resizeColGroup(y,v,s,c)}else t.style.width=s+"px",l&&(l.style.width=c+"px")}}else if(this.columnResizeMode==="expand")if(this.scrollable){let l=this.findParentScrollableView(t),c=M.findSingle(l,".p-treetable-scrollable-body")||M.findSingle(l,".p-scroller-viewport"),d=M.findSingle(l,".p-treetable-scrollable-header"),p=M.findSingle(l,".p-treetable-scrollable-footer"),g=M.findSingle(l,".p-treetable-scrollable-body table")||M.findSingle(l,".p-scroller-viewport table"),C=M.findSingle(l,"table.p-treetable-scrollable-header-table"),y=M.findSingle(l,"table.p-treetable-scrollable-footer-table"),v=M.index(t),w=t?g.offsetWidth+r:s,E=t?C.offsetWidth+r:s,T=this.containerViewChild?.nativeElement.offsetWidth>=w,F=(G,z,X,ne)=>{G&&z&&(G.style.width=ne?X+M.calculateScrollbarWidth(c)+"px":"auto",z.style.width=X+"px")};F(c,g,w,T),F(d,C,E,T),F(p,y,E,T),this.resizeColGroup(C,v,s,null),this.resizeColGroup(g,v,s,null),this.resizeColGroup(y,v,s,null)}else{this.tableViewChild.nativeElement.style.width=this.tableViewChild?.nativeElement.offsetWidth+r+"px",t.style.width=s+"px";let l=this.tableViewChild?.nativeElement.style.width;this.containerViewChild.nativeElement.style.width=l+"px"}this.onColResize.emit({element:t,delta:r})}this.resizeHelperViewChild.nativeElement.style.display="none",M.removeClass(this.containerViewChild?.nativeElement,"p-unselectable-text")}findParentScrollableView(e){if(e){let t=e.parentElement;for(;t&&!M.hasClass(t,"p-treetable-scrollable-view");)t=t.parentElement;return t}else return null}resizeColGroup(e,t,r,o){if(e){let s=e.children[0].nodeName==="COLGROUP"?e.children[0]:null;if(s){let a=s.children[t],l=a.nextElementSibling;a.style.width=r+"px",l&&o&&(l.style.width=o+"px")}else throw"Scrollable tables require a colgroup to support resizable columns"}}onColumnDragStart(e,t){this.reorderIconWidth=M.getHiddenElementOuterWidth(this.reorderIndicatorUpViewChild?.nativeElement),this.reorderIconHeight=M.getHiddenElementOuterHeight(this.reorderIndicatorDownViewChild?.nativeElement),this.draggedColumn=t,e.dataTransfer.setData("text","b")}onColumnDragEnter(e,t){if(this.reorderableColumns&&this.draggedColumn&&t){e.preventDefault();let r=M.getOffset(this.containerViewChild?.nativeElement),o=M.getOffset(t);if(this.draggedColumn!=t){let s=o.left-r.left,a=r.top-o.top,l=o.left+t.offsetWidth/2;this.reorderIndicatorUpViewChild.nativeElement.style.top=o.top-r.top-(this.reorderIconHeight-1)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.top=o.top-r.top+t.offsetHeight+"px",e.pageX>l?(this.reorderIndicatorUpViewChild.nativeElement.style.left=s+t.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=s+t.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=1):(this.reorderIndicatorUpViewChild.nativeElement.style.left=s-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=s-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=-1),this.reorderIndicatorUpViewChild.nativeElement.style.display="block",this.reorderIndicatorDownViewChild.nativeElement.style.display="block"}else e.dataTransfer.dropEffect="none"}}onColumnDragLeave(e){this.reorderableColumns&&this.draggedColumn&&(e.preventDefault(),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none")}onColumnDrop(e,t){if(e.preventDefault(),this.draggedColumn){let r=M.indexWithinGroup(this.draggedColumn,"ttreorderablecolumn"),o=M.indexWithinGroup(t,"ttreorderablecolumn"),s=r!=o;s&&(o-r==1&&this.dropPosition===-1||r-o==1&&this.dropPosition===1)&&(s=!1),s&&o<r&&this.dropPosition===1&&(o=o+1),s&&o>r&&this.dropPosition===-1&&(o=o-1),s&&(fe.reorderArray(this.columns,r,o),this.onColReorder.emit({dragIndex:r,dropIndex:o,columns:this.columns})),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none",this.draggedColumn.draggable=!1,this.draggedColumn=null,this.dropPosition=null}}handleRowClick(e){let t=e.originalEvent.target.nodeName;if(!(t=="INPUT"||t=="BUTTON"||t=="A"||M.hasClass(e.originalEvent.target,"p-clickable"))){if(this.selectionMode){this.preventSelectionSetterPropagation=!0;let r=e.rowNode,o=this.isSelected(r.node),s=this.rowTouched?!1:this.metaKeySelection,a=this.dataKey?String(fe.resolveFieldData(r.node.data,this.dataKey)):null;if(s){let l=e.originalEvent,c=l.metaKey||l.ctrlKey;if(o&&c){if(this.isSingleSelectionMode())this._selection=null,this.selectedKeys={},this.selectionChange.emit(null);else{let d=this.findIndexInSelection(r.node);this._selection=this.selection.filter((p,g)=>g!=d),this.selectionChange.emit(this.selection),a&&delete this.selectedKeys[a]}this.onNodeUnselect.emit({originalEvent:e.originalEvent,node:r.node,type:"row"})}else this.isSingleSelectionMode()?(this._selection=r.node,this.selectionChange.emit(r.node),a&&(this.selectedKeys={},this.selectedKeys[a]=1)):this.isMultipleSelectionMode()&&(c?this._selection=this.selection||[]:(this._selection=[],this.selectedKeys={}),this._selection=[...this.selection,r.node],this.selectionChange.emit(this.selection),a&&(this.selectedKeys[a]=1)),this.onNodeSelect.emit({originalEvent:e.originalEvent,node:r.node,type:"row",index:e.rowIndex})}else if(this.selectionMode==="single")o?(this._selection=null,this.selectedKeys={},this.selectionChange.emit(this.selection),this.onNodeUnselect.emit({originalEvent:e.originalEvent,node:r.node,type:"row"})):(this._selection=r.node,this.selectionChange.emit(this.selection),this.onNodeSelect.emit({originalEvent:e.originalEvent,node:r.node,type:"row",index:e.rowIndex}),a&&(this.selectedKeys={},this.selectedKeys[a]=1));else if(this.selectionMode==="multiple")if(o){let l=this.findIndexInSelection(r.node);this._selection=this.selection.filter((c,d)=>d!=l),this.selectionChange.emit(this.selection),this.onNodeUnselect.emit({originalEvent:e.originalEvent,node:r.node,type:"row"}),a&&delete this.selectedKeys[a]}else this._selection=this.selection?[...this.selection,r.node]:[r.node],this.selectionChange.emit(this.selection),this.onNodeSelect.emit({originalEvent:e.originalEvent,node:r.node,type:"row",index:e.rowIndex}),a&&(this.selectedKeys[a]=1);this.tableService.onSelectionChange()}this.rowTouched=!1}}handleRowTouchEnd(e){this.rowTouched=!0}handleRowRightClick(e){if(this.contextMenu){let t=e.rowNode.node;if(this.contextMenuSelectionMode==="separate")this.contextMenuSelection=t,this.contextMenuSelectionChange.emit(t),this.onContextMenuSelect.emit({originalEvent:e.originalEvent,node:t}),this.contextMenu.show(e.originalEvent),this.tableService.onContextMenu(t);else if(this.contextMenuSelectionMode==="joint"){this.preventSelectionSetterPropagation=!0;let r=this.isSelected(t),o=this.dataKey?String(fe.resolveFieldData(t.data,this.dataKey)):null;r||(this.isSingleSelectionMode()?(this.selection=t,this.selectionChange.emit(t)):this.isMultipleSelectionMode()&&(this.selection=[t],this.selectionChange.emit(this.selection)),o&&(this.selectedKeys[o]=1)),this.contextMenu.show(e.originalEvent),this.onContextMenuSelect.emit({originalEvent:e.originalEvent,node:t})}}}toggleNodeWithCheckbox(e){this.selection=this.selection||[],this.preventSelectionSetterPropagation=!0;let t=e.rowNode.node;this.isSelected(t)?(this.propagateSelectionDown(t,!1),e.rowNode.parent&&this.propagateSelectionUp(t.parent,!1),this.selectionChange.emit(this.selection),this.onNodeUnselect.emit({originalEvent:e,node:t})):(this.propagateSelectionDown(t,!0),e.rowNode.parent&&this.propagateSelectionUp(t.parent,!0),this.selectionChange.emit(this.selection),this.onNodeSelect.emit({originalEvent:e,node:t})),this.tableService.onSelectionChange()}toggleNodesWithCheckbox(e,t){let r=this.filteredNodes||this.value;this._selection=t&&r?r.slice():[],this.toggleAll(t),t||(this._selection=[],this.selectedKeys={}),this.preventSelectionSetterPropagation=!0,this.selectionChange.emit(this._selection),this.tableService.onSelectionChange(),this.onHeaderCheckboxToggle.emit({originalEvent:e,checked:t})}toggleAll(e){let t=this.filteredNodes||this.value;if(this.selectionKeys){if(t&&t.length){for(let r of t)this.propagateDown(r,e);this.selectionKeysChange.emit(this.selectionKeys)}}else if(t&&t.length)for(let r of t)this.propagateSelectionDown(r,e)}propagateSelectionUp(e,t){if(e.children&&e.children.length){let o=0,s=!1,a=this.dataKey?String(fe.resolveFieldData(e.data,this.dataKey)):null;for(let l of e.children)this.isSelected(l)?o++:l.partialSelected&&(s=!0);if(t&&o==e.children.length)this._selection=[...this.selection||[],e],e.partialSelected=!1,a&&(this.selectedKeys[a]=1);else{if(!t){let l=this.findIndexInSelection(e);l>=0&&(this._selection=this.selection.filter((c,d)=>d!=l),a&&delete this.selectedKeys[a])}s||o>0&&o!=e.children.length?e.partialSelected=!0:e.partialSelected=!1}}let r=e.parent;e.checked=t,r&&this.propagateSelectionUp(r,t)}propagateSelectionDown(e,t){let r=this.findIndexInSelection(e),o=this.dataKey?String(fe.resolveFieldData(e.data,this.dataKey)):null;if(t&&r==-1?(this._selection=[...this.selection||[],e],o&&(this.selectedKeys[o]=1)):!t&&r>-1&&(this._selection=this.selection.filter((s,a)=>a!=r),o&&delete this.selectedKeys[o]),e.partialSelected=!1,e.checked=t,e.children&&e.children.length)for(let s of e.children)this.propagateSelectionDown(s,t)}isSelected(e){return e&&this.selection?this.dataKey?e.hasOwnProperty("checked")?e.checked:this.selectedKeys[fe.resolveFieldData(e.data,this.dataKey)]!==void 0:Array.isArray(this.selection)?this.findIndexInSelection(e)>-1:this.equals(e,this.selection):!1}isNodeSelected(e){return this.selectionMode&&this.selectionKeys?this.selectionKeys[this.nodeKey(e)]?.checked===!0:!1}isNodePartialSelected(e){return this.selectionMode&&this.selectionKeys?this.selectionKeys[this.nodeKey(e)]?.partialChecked===!0:!1}nodeKey(e){return fe.resolveFieldData(e,this.dataKey)||fe.resolveFieldData(e?.data,this.dataKey)}toggleCheckbox(e){let{rowNode:t,check:r,originalEvent:o}=e,s=t.node;this.selectionKeys?(this.propagateDown(s,r),s.parent&&this.propagateUp(s.parent,r),this.selectionKeysChange.emit(this.selectionKeys)):this.toggleNodeWithCheckbox({originalEvent:o,rowNode:t}),this.tableService.onSelectionChange()}propagateDown(e,t){if(t?this.selectionKeys[this.nodeKey(e)]={checked:!0,partialChecked:!1}:delete this.selectionKeys[this.nodeKey(e)],e.children&&e.children.length)for(let r of e.children)this.propagateDown(r,t)}propagateUp(e,t){let r=0,o=!1;for(let a of e.children)this.selectionKeys[this.nodeKey(a)]&&this.selectionKeys[this.nodeKey(a)].checked?r++:this.selectionKeys[this.nodeKey(a)]&&this.selectionKeys[this.nodeKey(a)].partialChecked&&(o=!0);t&&r===e.children.length?this.selectionKeys[this.nodeKey(e)]={checked:!0,partialChecked:!1}:(t||delete this.selectionKeys[this.nodeKey(e)],o||r>0&&r!==e.children.length?this.selectionKeys[this.nodeKey(e)]={checked:!1,partialChecked:!0}:this.selectionKeys[this.nodeKey(e)]={checked:!1,partialChecked:!1});let s=e.parent;s&&this.propagateUp(s,t)}findIndexInSelection(e){let t=-1;if(this.selection&&this.selection.length){for(let r=0;r<this.selection.length;r++)if(this.equals(e,this.selection[r])){t=r;break}}return t}isSingleSelectionMode(){return this.selectionMode==="single"}isMultipleSelectionMode(){return this.selectionMode==="multiple"}equals(e,t){return this.compareSelectionBy==="equals"?fe.equals(e,t):fe.equals(e.data,t.data,this.dataKey)}filter(e,t,r){this.filterTimeout&&clearTimeout(this.filterTimeout),this.isFilterBlank(e)?this.filters[t]&&delete this.filters[t]:this.filters[t]={value:e,matchMode:r},this.filterTimeout=setTimeout(()=>{this._filter(),this.filterTimeout=null},this.filterDelay)}filterGlobal(e,t){this.filter(e,"global",t)}isFilterBlank(e){return e!=null?!!(typeof e=="string"&&e.trim().length==0||Array.isArray(e)&&e.length==0):!0}_filter(){if(this.lazy)this.onLazyLoad.emit(this.createLazyLoadMetadata());else{if(!this.value)return;if(!this.hasFilter())this.filteredNodes=null,this.paginator&&(this.totalRecords=this.value?this.value.length:0);else{let t;if(this.filters.global){if(!this.columns&&!this.globalFilterFields)throw new Error("Global filtering requires dynamic columns or globalFilterFields to be defined.");t=this.globalFilterFields||this.columns}this.filteredNodes=[];let r=this.filterMode==="strict",o=!1;for(let s of this.value){let a=re({},s),l=!0,c=!1,d;for(let g in this.filters)if(this.filters.hasOwnProperty(g)&&g!=="global"){let C=this.filters[g],y=g,v=C.value,w=C.matchMode||"startsWith",E=this.filterService.filters[w];if(d={filterField:y,filterValue:v,filterConstraint:E,isStrictMode:r},(r&&!(this.findFilteredNodes(a,d)||this.isFilterMatched(a,d))||!r&&!(this.isFilterMatched(a,d)||this.findFilteredNodes(a,d)))&&(l=!1),!l)break}if(this.filters.global&&!c&&t){let g=re({},a),C,y=this.filters.global.value,v=this.filterService.filters[this.filters.global.matchMode];d={filterField:C,filterValue:y,filterConstraint:v,isStrictMode:r,globalFilterFieldsArray:t},(r&&(this.findFilteredNodes(g,d)||this.isFilterMatched(g,d))||!r&&(this.isFilterMatched(g,d)||this.findFilteredNodes(g,d)))&&(c=!0,a=g)}let p=l;this.filters.global&&(p=l&&c),p&&this.filteredNodes.push(a),o=o||!l||c||l&&this.filteredNodes.length>0||!c&&this.filteredNodes.length===0}o||(this.filteredNodes=null),this.paginator&&(this.totalRecords=this.filteredNodes?this.filteredNodes.length:this.value?this.value.length:0)}this.cd.markForCheck()}this.first=0;let e=this.filteredNodes||this.value;this.onFilter.emit({filters:this.filters,filteredValue:e}),this.tableService.onUIUpdate(e),this.updateSerializedValue(),this.scrollable&&this.resetScrollTop()}findFilteredNodes(e,t){if(e){let r=!1;if(e.children){let o=[...e.children];e.children=[];for(let s of o){let a=re({},s);this.isFilterMatched(a,t)&&(r=!0,e.children.push(a))}}if(r)return!0}}isFilterMatched(e,t){let{filterField:r,filterValue:o,filterConstraint:s,isStrictMode:a,globalFilterFieldsArray:l}=t,c=!1,d=p=>s(fe.resolveFieldData(e.data,p),o,this.filterLocale);return c=l?.length?l.some(p=>d(p.field||p)):d(r),(!c||a&&!this.isNodeLeaf(e))&&(c=this.findFilteredNodes(e,{filterField:r,filterValue:o,filterConstraint:s,isStrictMode:a,globalFilterFieldsArray:l})||c),c}isNodeLeaf(e){return e.leaf===!1?!1:!(e.children&&e.children.length)}hasFilter(){let e=!0;for(let t in this.filters)if(this.filters.hasOwnProperty(t)){e=!1;break}return!e}reset(){this._sortField=null,this._sortOrder=1,this._multiSortMeta=null,this.tableService.onSort(null),this.filteredNodes=null,this.filters={},this.first=0,this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.totalRecords=this._value?this._value.length:0}updateEditingCell(e,t,r){this.editingCell=e,this.editingCellData=t,this.editingCellField=r,this.bindDocumentEditListener()}isEditingCellValid(){return this.editingCell&&M.find(this.editingCell,".ng-invalid.ng-dirty").length===0}bindDocumentEditListener(){this.documentEditListener||(this.documentEditListener=this.renderer.listen(this.document,"click",e=>{this.editingCell&&!this.editingCellClick&&this.isEditingCellValid()&&(M.removeClass(this.editingCell,"p-cell-editing"),this.editingCell=null,this.onEditComplete.emit({field:this.editingCellField,data:this.editingCellData}),this.editingCellField=null,this.editingCellData=null,this.unbindDocumentEditListener()),this.editingCellClick=!1}))}unbindDocumentEditListener(){this.documentEditListener&&(this.documentEditListener(),this.documentEditListener=null)}ngOnDestroy(){this.unbindDocumentEditListener(),this.editingCell=null,this.editingCellField=null,this.editingCellData=null,this.initialized=null}static \u0275fac=function(t){return new(t||i)(b(_t),b(Ft),b(ze),b(Ie),b(xt),b(HP),b(Jl),b(Vt))};static \u0275cmp=ie({type:i,selectors:[["p-treeTable"]],contentQueries:function(t,r,o){if(t&1&&ot(o,be,4),t&2){let s;ee(s=te())&&(r.templates=s)}},viewQuery:function(t,r){if(t&1&&(de(aNe,5),de(lNe,5),de(cNe,5),de(dNe,5),de(uNe,5),de(pNe,5),de(hNe,5)),t&2){let o;ee(o=te())&&(r.containerViewChild=o.first),ee(o=te())&&(r.resizeHelperViewChild=o.first),ee(o=te())&&(r.reorderIndicatorUpViewChild=o.first),ee(o=te())&&(r.reorderIndicatorDownViewChild=o.first),ee(o=te())&&(r.tableViewChild=o.first),ee(o=te())&&(r.scrollableViewChild=o.first),ee(o=te())&&(r.scrollableFrozenViewChild=o.first)}},hostAttrs:[1,"p-element"],inputs:{columns:"columns",style:"style",styleClass:"styleClass",tableStyle:"tableStyle",tableStyleClass:"tableStyleClass",autoLayout:[2,"autoLayout","autoLayout",K],lazy:[2,"lazy","lazy",K],lazyLoadOnInit:[2,"lazyLoadOnInit","lazyLoadOnInit",K],paginator:[2,"paginator","paginator",K],rows:[2,"rows","rows",ke],first:[2,"first","first",ke],pageLinks:[2,"pageLinks","pageLinks",ke],rowsPerPageOptions:"rowsPerPageOptions",alwaysShowPaginator:[2,"alwaysShowPaginator","alwaysShowPaginator",K],paginatorPosition:"paginatorPosition",paginatorStyleClass:"paginatorStyleClass",paginatorDropdownAppendTo:"paginatorDropdownAppendTo",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:[2,"showCurrentPageReport","showCurrentPageReport",K],showJumpToPageDropdown:[2,"showJumpToPageDropdown","showJumpToPageDropdown",K],showFirstLastIcon:[2,"showFirstLastIcon","showFirstLastIcon",K],showPageLinks:[2,"showPageLinks","showPageLinks",K],defaultSortOrder:[2,"defaultSortOrder","defaultSortOrder",ke],sortMode:"sortMode",resetPageOnSort:[2,"resetPageOnSort","resetPageOnSort",K],customSort:[2,"customSort","customSort",K],selectionMode:"selectionMode",contextMenuSelection:"contextMenuSelection",contextMenuSelectionMode:"contextMenuSelectionMode",dataKey:"dataKey",metaKeySelection:[2,"metaKeySelection","metaKeySelection",K],compareSelectionBy:"compareSelectionBy",rowHover:[2,"rowHover","rowHover",K],loading:[2,"loading","loading",K],loadingIcon:"loadingIcon",showLoader:[2,"showLoader","showLoader",K],scrollable:[2,"scrollable","scrollable",K],scrollHeight:"scrollHeight",virtualScroll:[2,"virtualScroll","virtualScroll",K],virtualScrollItemSize:[2,"virtualScrollItemSize","virtualScrollItemSize",ke],virtualScrollOptions:"virtualScrollOptions",virtualScrollDelay:[2,"virtualScrollDelay","virtualScrollDelay",ke],frozenWidth:"frozenWidth",frozenColumns:"frozenColumns",resizableColumns:[2,"resizableColumns","resizableColumns",K],columnResizeMode:"columnResizeMode",reorderableColumns:[2,"reorderableColumns","reorderableColumns",K],contextMenu:"contextMenu",rowTrackBy:"rowTrackBy",filters:"filters",globalFilterFields:"globalFilterFields",filterDelay:[2,"filterDelay","filterDelay",ke],filterMode:"filterMode",filterLocale:"filterLocale",paginatorLocale:"paginatorLocale",totalRecords:"totalRecords",sortField:"sortField",sortOrder:"sortOrder",multiSortMeta:"multiSortMeta",selection:"selection",value:"value",virtualRowHeight:"virtualRowHeight",selectionKeys:"selectionKeys"},outputs:{selectionChange:"selectionChange",contextMenuSelectionChange:"contextMenuSelectionChange",onFilter:"onFilter",onNodeExpand:"onNodeExpand",onNodeCollapse:"onNodeCollapse",onPage:"onPage",onSort:"onSort",onLazyLoad:"onLazyLoad",sortFunction:"sortFunction",onColResize:"onColResize",onColReorder:"onColReorder",onNodeSelect:"onNodeSelect",onNodeUnselect:"onNodeUnselect",onContextMenuSelect:"onContextMenuSelect",onHeaderCheckboxToggle:"onHeaderCheckboxToggle",onEditInit:"onEditInit",onEditComplete:"onEditComplete",onEditCancel:"onEditCancel",selectionKeysChange:"selectionKeysChange"},features:[Ze([HP]),qe,en],decls:12,vars:20,consts:[["container",""],["table",""],["scrollableView",""],["scrollableFrozenView",""],["resizeHelper",""],["reorderIndicatorUp",""],["reorderIndicatorDown",""],["data-scrollselectors",".p-treetable-scrollable-body",3,"ngStyle","ngClass"],["class","p-treetable-loading",4,"ngIf"],["class","p-treetable-header",4,"ngIf"],["styleClass","p-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","styleClass","locale","onPageChange",4,"ngIf"],["class","p-treetable-wrapper",4,"ngIf"],["class","p-treetable-scrollable-wrapper",4,"ngIf"],["styleClass","p-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","styleClass","locale","onPageChange",4,"ngIf"],["class","p-treetable-footer",4,"ngIf"],["class","p-column-resizer-helper",3,"ngStyle",4,"ngIf"],["class","p-treetable-reorder-indicator-up",3,"ngStyle",4,"ngIf"],["class","p-treetable-reorder-indicator-down",3,"ngStyle",4,"ngIf"],[1,"p-treetable-loading"],[1,"p-treetable-loading-overlay","p-component-overlay"],[3,"class",4,"ngIf"],[4,"ngIf"],[3,"spin","styleClass",4,"ngIf"],["class","p-treetable-loading-icon",4,"ngIf"],[3,"spin","styleClass"],[1,"p-treetable-loading-icon"],[4,"ngTemplateOutlet"],[1,"p-treetable-header"],["styleClass","p-paginator-top",3,"onPageChange","rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","styleClass","locale"],["pTemplate","firstpagelinkicon"],["pTemplate","previouspagelinkicon"],["pTemplate","lastpagelinkicon"],["pTemplate","nextpagelinkicon"],[1,"p-treetable-wrapper"],["role","table",3,"ngClass","ngStyle"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["role","rowgroup",1,"p-treetable-thead"],["role","rowgroup",1,"p-treetable-tbody",3,"pTreeTableBody","pTreeTableBodyTemplate"],["role","rowgroup",1,"p-treetable-tfoot"],[1,"p-treetable-scrollable-wrapper"],["class","p-treetable-scrollable-view p-treetable-frozen-view",3,"ttScrollableView","frozen","ngStyle","scrollHeight",4,"ngIf"],[1,"p-treetable-scrollable-view",3,"ttScrollableView","frozen","scrollHeight","ngStyle"],[1,"p-treetable-scrollable-view","p-treetable-frozen-view",3,"ttScrollableView","frozen","ngStyle","scrollHeight"],["styleClass","p-paginator-bottom",3,"onPageChange","rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","styleClass","locale"],[1,"p-treetable-footer"],[1,"p-column-resizer-helper",3,"ngStyle"],[1,"p-treetable-reorder-indicator-up",3,"ngStyle"],[1,"p-treetable-reorder-indicator-down",3,"ngStyle"]],template:function(t,r){t&1&&(m(0,"div",7,0),I(2,wNe,4,2,"div",8)(3,ANe,2,1,"div",9)(4,VNe,5,21,"p-paginator",10)(5,HNe,9,16,"div",11)(6,zNe,4,8,"div",12)(7,n3e,5,21,"p-paginator",13)(8,o3e,2,1,"div",14)(9,s3e,2,2,"div",15)(10,d3e,4,4,"span",16)(11,f3e,4,4,"span",17),_()),t&2&&(le(r.styleClass),h("ngStyle",r.style)("ngClass",zl(14,fNe,r.rowHover||r.selectionMode==="single"||r.selectionMode==="multiple",r.autoLayout,r.resizableColumns,r.resizableColumns&&r.columnResizeMode==="fit",r.scrollable&&r.scrollHeight==="flex")),u(2),h("ngIf",r.loading&&r.showLoader),u(),h("ngIf",r.captionTemplate),u(),h("ngIf",r.paginator&&(r.paginatorPosition==="top"||r.paginatorPosition=="both")),u(),h("ngIf",!r.scrollable),u(),h("ngIf",r.scrollable),u(),h("ngIf",r.paginator&&(r.paginatorPosition==="bottom"||r.paginatorPosition=="both")),u(),h("ngIf",r.summaryTemplate),u(),h("ngIf",r.resizableColumns),u(),h("ngIf",r.reorderableColumns),u(),h("ngIf",r.reorderableColumns))},dependencies:()=>[Ge,et,st,Ee,lv,be,gs,vf,bf,s4e,EG],styles:[`@layer primeng{.p-treetable{position:relative}.p-treetable table{border-collapse:collapse;width:100%;table-layout:fixed}.p-treetable .p-sortable-column{cursor:pointer;-webkit-user-select:none;user-select:none}.p-treetable .p-sortable-column .p-column-title,.p-treetable .p-sortable-column .p-sortable-column-icon,.p-treetable .p-sortable-column .p-sortable-column-badge{vertical-align:middle}.p-treetable .p-sortable-column .p-sortable-column-badge{display:inline-flex;align-items:center;justify-content:center}.p-treetable-auto-layout>.p-treetable-wrapper{overflow-x:auto}.p-treetable-auto-layout>.p-treetable-wrapper>table{table-layout:auto}.p-treetable-hoverable-rows .p-treetable-tbody>tr{cursor:pointer}.p-treetable-toggler{cursor:pointer;-webkit-user-select:none;user-select:none;display:inline-flex;align-items:center;justify-content:center;vertical-align:middle;overflow:hidden;position:relative}p-treetabletoggler+p-treetablecheckbox .p-checkbox{vertical-align:middle}p-treetabletoggler+p-treetablecheckbox+span{vertical-align:middle}.p-treetable-scrollable-wrapper{position:relative}.p-treetable-scrollable-header,.p-treetable-scrollable-footer{overflow:hidden;flex-shrink:0}.p-treetable-scrollable-body{overflow:auto;position:relative}.p-treetable-scrollable-body>table>.p-treetable-tbody>tr:first-child>td{border-top:0 none}.p-treetable-virtual-table{position:absolute}.p-treetable-frozen-view .p-treetable-scrollable-body{overflow:hidden}.p-treetable-frozen-view>.p-treetable-scrollable-body>table>.p-treetable-tbody>tr>td:last-child{border-right:0 none}.p-treetable-unfrozen-view{position:absolute;top:0}.p-treetable-flex-scrollable,.p-treetable-flex-scrollable .p-treetable-scrollable-wrapper,.p-treetable-flex-scrollable .p-treetable-scrollable-view{display:flex;flex-direction:column;flex:1;height:100%}.p-treetable-flex-scrollable .p-treetable-virtual-scrollable-body{flex:1}.p-treetable-resizable>.p-treetable-wrapper{overflow-x:auto}.p-treetable-resizable .p-treetable-thead>tr>th,.p-treetable-resizable .p-treetable-tfoot>tr>td,.p-treetable-resizable .p-treetable-tbody>tr>td{overflow:hidden}.p-treetable-resizable .p-resizable-column{background-clip:padding-box;position:relative}.p-treetable-resizable-fit .p-resizable-column:last-child .p-column-resizer{display:none}.p-treetable .p-column-resizer{display:block;position:absolute!important;top:0;right:0;margin:0;width:.5rem;height:100%;padding:0;cursor:col-resize;border:1px solid transparent}.p-treetable .p-column-resizer-helper{width:1px;position:absolute;z-index:10;display:none}.p-treetable .p-row-editor-init,.p-treetable .p-row-editor-save,.p-treetable .p-row-editor-cancel,.p-treetable .p-row-toggler{display:inline-flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-treetable-reorder-indicator-up,.p-treetable-reorder-indicator-down{position:absolute;display:none}[ttReorderableColumn]{cursor:move}.p-treetable .p-treetable-loading-overlay{position:absolute;display:flex;align-items:center;justify-content:center;z-index:2}.p-treetable .p-scroller-loading{transform:none!important;min-height:0;position:sticky;top:0;left:0}}
`],encapsulation:2})}return i})(),EG=(()=>{class i{tt;treeTableService;cd;columns;template;frozen;serializedNodes;scrollerOptions;subscription;constructor(e,t,r){this.tt=e,this.treeTableService=t,this.cd=r,this.subscription=this.tt.tableService.uiUpdateSource$.subscribe(()=>{this.tt.virtualScroll&&this.cd.detectChanges()})}getScrollerOption(e,t){return this.tt.virtualScroll?(t=t||this.scrollerOptions,t?t[e]:null):null}getRowIndex(e){let t=this.getScrollerOption("getItemOptions");return t?t(e).index:e}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}static \u0275fac=function(t){return new(t||i)(b(iC),b(HP),b(Ie))};static \u0275cmp=ie({type:i,selectors:[["","pTreeTableBody",""]],hostAttrs:[1,"p-element"],inputs:{columns:[0,"pTreeTableBody","columns"],template:[0,"pTreeTableBodyTemplate","template"],frozen:[2,"frozen","frozen",K],serializedNodes:"serializedNodes",scrollerOptions:"scrollerOptions"},features:[qe],attrs:m3e,decls:2,vars:3,consts:[["ngFor","",3,"ngForOf","ngForTrackBy"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,r){t&1&&I(0,I3e,1,1,"ng-template",0)(1,b3e,2,5,"ng-container",1),t&2&&(h("ngForOf",r.serializedNodes||r.tt.serializedValue)("ngForTrackBy",r.tt.rowTrackBy),u(),h("ngIf",r.tt.isEmpty()))},dependencies:[tn,et,st],encapsulation:2})}return i})(),s4e=(()=>{class i{platformId;renderer;tt;el;zone;columns;frozen;scrollHeaderViewChild;scrollHeaderBoxViewChild;scrollBodyViewChild;scrollTableViewChild;scrollLoadingTableViewChild;scrollFooterViewChild;scrollFooterBoxViewChild;scrollableAlignerViewChild;scroller;headerScrollListener;bodyScrollListener;footerScrollListener;frozenSiblingBody;totalRecordsSubscription;_scrollHeight;preventBodyScrollPropagation;getMergedTableStyles(e){return re(re({},this.tt.tableStyle),e)}get scrollHeight(){return this._scrollHeight}set scrollHeight(e){this._scrollHeight=e,e!=null&&(e.includes("%")||e.includes("calc"))&&console.log('Percentage scroll height calculation is removed in favor of the more performant CSS based flex mode, use scrollHeight="flex" instead.')}constructor(e,t,r,o,s){this.platformId=e,this.renderer=t,this.tt=r,this.el=o,this.zone=s}ngAfterViewInit(){if(ht(this.platformId)){if(this.frozen)this.scrollableAlignerViewChild&&this.scrollableAlignerViewChild.nativeElement&&(this.scrollableAlignerViewChild.nativeElement.style.height=M.calculateScrollbarHeight()+"px");else{(this.tt.frozenColumns||this.tt.frozenBodyTemplate)&&M.addClass(this.el.nativeElement,"p-treetable-unfrozen-view");let e=this.el.nativeElement.previousElementSibling;e&&(this.tt.virtualScroll?this.frozenSiblingBody=M.findSingle(e,".p-scroller-viewport"):this.frozenSiblingBody=M.findSingle(e,".p-treetable-scrollable-body"));let t=M.calculateScrollbarWidth();this.scrollHeaderBoxViewChild.nativeElement.style.paddingRight=t+"px",this.scrollFooterBoxViewChild&&this.scrollFooterBoxViewChild.nativeElement&&(this.scrollFooterBoxViewChild.nativeElement.style.paddingRight=t+"px")}this.bindEvents()}}bindEvents(){ht(this.platformId)&&this.zone.runOutsideAngular(()=>{this.scrollHeaderViewChild&&this.scrollHeaderViewChild.nativeElement&&(this.headerScrollListener=this.renderer.listen(this.scrollHeaderBoxViewChild?.nativeElement,"scroll",this.onHeaderScroll.bind(this))),this.scrollFooterViewChild&&this.scrollFooterViewChild.nativeElement&&(this.footerScrollListener=this.renderer.listen(this.scrollFooterViewChild.nativeElement,"scroll",this.onFooterScroll.bind(this))),this.frozen||(this.tt.virtualScroll?this.bodyScrollListener=this.renderer.listen((this.scroller?.getElementRef()).nativeElement,"scroll",this.onBodyScroll.bind(this)):this.bodyScrollListener=this.renderer.listen(this.scrollBodyViewChild?.nativeElement,"scroll",this.onBodyScroll.bind(this)))})}unbindEvents(){ht(this.platformId)&&(this.scrollHeaderViewChild&&this.scrollHeaderViewChild.nativeElement&&this.headerScrollListener&&(this.headerScrollListener(),this.headerScrollListener=null),this.scrollFooterViewChild&&this.scrollFooterViewChild.nativeElement&&this.footerScrollListener&&(this.footerScrollListener(),this.footerScrollListener=null),this.scrollBodyViewChild&&this.scrollBodyViewChild.nativeElement&&this.bodyScrollListener&&(this.bodyScrollListener(),this.bodyScrollListener=null),this.scroller&&this.scroller.getElementRef()&&this.bodyScrollListener&&(this.bodyScrollListener(),this.bodyScrollListener=null))}onHeaderScroll(){let e=this.scrollHeaderViewChild?.nativeElement.scrollLeft;this.scrollBodyViewChild.nativeElement.scrollLeft=e,this.scrollFooterViewChild&&this.scrollFooterViewChild.nativeElement&&(this.scrollFooterViewChild.nativeElement.scrollLeft=e),this.preventBodyScrollPropagation=!0}onFooterScroll(){let e=this.scrollFooterViewChild?.nativeElement.scrollLeft;this.scrollBodyViewChild.nativeElement.scrollLeft=e,this.scrollHeaderViewChild&&this.scrollHeaderViewChild.nativeElement&&(this.scrollHeaderViewChild.nativeElement.scrollLeft=e),this.preventBodyScrollPropagation=!0}onBodyScroll(e){if(this.preventBodyScrollPropagation){this.preventBodyScrollPropagation=!1;return}this.scrollHeaderViewChild&&this.scrollHeaderViewChild.nativeElement&&(this.scrollHeaderBoxViewChild.nativeElement.style.marginLeft=-1*e.target.scrollLeft+"px"),this.scrollFooterViewChild&&this.scrollFooterViewChild.nativeElement&&(this.scrollFooterBoxViewChild.nativeElement.style.marginLeft=-1*e.target.scrollLeft+"px"),this.frozenSiblingBody&&(this.frozenSiblingBody.scrollTop=e.target.scrollTop)}scrollToVirtualIndex(e){this.scroller&&this.scroller.scrollToIndex(e)}scrollTo(e){this.scroller?this.scroller.scrollTo(e):this.scrollBodyViewChild?.nativeElement.scrollTo?this.scrollBodyViewChild.nativeElement.scrollTo(e):(this.scrollBodyViewChild.nativeElement.scrollLeft=e.left,this.scrollBodyViewChild.nativeElement.scrollTop=e.top)}ngOnDestroy(){this.unbindEvents(),this.frozenSiblingBody=null}static \u0275fac=function(t){return new(t||i)(b(qt),b(Ft),b(iC),b(ze),b(xt))};static \u0275cmp=ie({type:i,selectors:[["","ttScrollableView",""]],viewQuery:function(t,r){if(t&1&&(de(w3e,5),de(S3e,5),de(A3e,5),de(E3e,5),de(x3e,5),de(T3e,5),de(O3e,5),de(D3e,5),de(R3e,5)),t&2){let o;ee(o=te())&&(r.scrollHeaderViewChild=o.first),ee(o=te())&&(r.scrollHeaderBoxViewChild=o.first),ee(o=te())&&(r.scrollBodyViewChild=o.first),ee(o=te())&&(r.scrollTableViewChild=o.first),ee(o=te())&&(r.scrollLoadingTableViewChild=o.first),ee(o=te())&&(r.scrollFooterViewChild=o.first),ee(o=te())&&(r.scrollFooterBoxViewChild=o.first),ee(o=te())&&(r.scrollableAlignerViewChild=o.first),ee(o=te())&&(r.scroller=o.first)}},hostAttrs:[1,"p-element"],inputs:{columns:[0,"ttScrollableView","columns"],frozen:[2,"frozen","frozen",K],scrollHeight:"scrollHeight"},features:[qe],attrs:P3e,decls:13,vars:13,consts:[["scrollHeader",""],["scrollHeaderBox",""],["buildInItems",""],["scroller",""],["scrollBody",""],["scrollTable",""],["scrollableAligner",""],["scrollFooter",""],["scrollFooterBox",""],[1,"p-treetable-scrollable-header"],[1,"p-treetable-scrollable-header-box"],[1,"p-treetable-scrollable-header-table",3,"ngClass","ngStyle"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["role","rowgroup",1,"p-treetable-thead"],["styleClass","p-treetable-scrollable-body",3,"items","style","scrollHeight","itemSize","lazy","options","onLazyLoad",4,"ngIf"],[4,"ngIf"],["class","p-treetable-scrollable-footer",4,"ngIf"],["styleClass","p-treetable-scrollable-body",3,"onLazyLoad","items","scrollHeight","itemSize","lazy","options"],["pTemplate","content"],["pTemplate","loader"],[1,"p-treetable-scrollable-body",3,"ngStyle"],["role","table",3,"ngClass","ngStyle"],["role","rowgroup",1,"p-treetable-tbody",3,"pTreeTableBody","pTreeTableBodyTemplate","serializedNodes","frozen"],[3,"ngStyle",4,"ngIf"],[3,"ngStyle"],[1,"p-treetable-scrollable-footer"],[1,"p-treetable-scrollable-footer-box"],[1,"p-treetable-scrollable-footer-table",3,"ngClass","ngStyle"],["role","rowgroup",1,"p-treetable-tfoot"]],template:function(t,r){t&1&&(m(0,"div",9,0)(2,"div",10,1)(4,"table",11),I(5,V3e,1,0,"ng-container",12),m(6,"thead",13),I(7,B3e,1,0,"ng-container",12),_()()()(),I(8,W3e,4,10,"p-scroller",14)(9,$3e,4,10,"ng-container",15)(10,J3e,5,13,"ng-template",null,2,Pt)(12,Z3e,8,10,"div",16)),t&2&&(u(4),h("ngClass",r.tt.tableStyleClass)("ngStyle",r.tt.tableStyle),u(),h("ngTemplateOutlet",r.frozen&&r.tt.frozenColGroupTemplate||r.tt.colGroupTemplate)("ngTemplateOutletContext",oe(9,Td,r.columns)),u(2),h("ngTemplateOutlet",r.frozen&&r.tt.frozenHeaderTemplate||r.tt.headerTemplate)("ngTemplateOutletContext",oe(11,Td,r.columns)),u(),h("ngIf",r.tt.virtualScroll),u(),h("ngIf",!r.tt.virtualScroll),u(3),h("ngIf",r.tt.footerTemplate))},dependencies:[Ge,et,st,Ee,be,Rs,EG],encapsulation:2})}return i})();var xG=(()=>{class i{tt;config;rowNode;constructor(e,t){this.tt=e,this.config=t}get toggleButtonAriaLabel(){return this.config.translation?this.rowNode.expanded?this.config.translation.aria.collapseRow:this.config.translation.aria.expandRow:void 0}onClick(e){this.rowNode.node.expanded=!this.rowNode.node.expanded,this.rowNode.node.expanded?this.tt.onNodeExpand.emit({originalEvent:e,node:this.rowNode.node}):this.tt.onNodeCollapse.emit({originalEvent:e,node:this.rowNode.node}),this.tt.updateSerializedValue(),this.tt.tableService.onUIUpdate(this.tt.value),e.preventDefault()}static \u0275fac=function(t){return new(t||i)(b(iC),b(Vt))};static \u0275cmp=ie({type:i,selectors:[["p-treeTableToggler"]],hostAttrs:[1,"p-element"],inputs:{rowNode:"rowNode"},decls:3,vars:12,consts:[["type","button","tabindex","-1","pRipple","",1,"p-treetable-toggler","p-link",3,"click","ngStyle"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,r){t&1&&(m(0,"button",0),P("click",function(s){return r.onClick(s)}),I(1,n4e,3,2,"ng-container",1)(2,o4e,1,0,null,2),_()),t&2&&(h("ngStyle",Je(7,e4e,r.rowNode.node.leaf===!1||r.rowNode.node.children&&r.rowNode.node.children.length?"visible":"hidden",r.rowNode.level*16+"px")),V("data-pc-section","rowtoggler")("data-pc-group-section","rowactionbutton")("aria-label",r.toggleButtonAriaLabel),u(),h("ngIf",!r.tt.togglerIconTemplate),u(),h("ngTemplateOutlet",r.tt.togglerIconTemplate)("ngTemplateOutletContext",oe(10,Td,r.rowNode.node.expanded)))},dependencies:()=>[et,st,Ee,qi,To,Fa],encapsulation:2})}return i})(),TG=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=Oe({type:i});static \u0275inj=Te({imports:[Ye,cv,Qi,Wr,gs,vf,bf,c_,u_,d_,fn,ya,To,Fa,nt,Wr]})}return i})();var l4e=["list"],c4e=i=>({"p-steps p-component":!0,"p-readonly":i}),d4e=(i,n)=>({"p-highlight p-steps-current":i,"p-disabled":n}),u4e=()=>({exact:!1});function p4e(i,n){if(i&1&&(m(0,"span",12),D(1),_()),i&2){let e=f(2).$implicit;u(),J(" ",e.label,"")}}function h4e(i,n){if(i&1&&O(0,"span",13),i&2){let e=f(2).$implicit;h("innerHTML",e.label,Xi)}}function f4e(i,n){if(i&1){let e=B();m(0,"a",9),P("click",function(r){S(e);let o=f(),s=o.$implicit,a=o.index,l=f();return A(l.onItemClick(r,s,a))})("keydown",function(r){S(e);let o=f(),s=o.$implicit,a=o.index,l=f();return A(l.onItemKeydown(r,s,a))}),m(1,"span",10),D(2),_(),I(3,p4e,2,1,"span",11)(4,h4e,1,1,"ng-template",null,3,Pt),_()}if(i&2){let e=We(5),t=f(),r=t.$implicit,o=t.index,s=f();h("routerLink",r.routerLink)("queryParams",r.queryParams)("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",r.routerLinkActiveOptions||Ae(17,u4e))("target",r.target)("fragment",r.fragment)("queryParamsHandling",r.queryParamsHandling)("preserveFragment",r.preserveFragment)("skipLocationChange",r.skipLocationChange)("replaceUrl",r.replaceUrl)("state",r.state),V("tabindex",s.getItemTabIndex(r,o))("aria-disabled",r.disabled||s.readonly&&o!==s.activeIndex)("aria-current",o===s.activeIndex?"step":null),u(2),$(o+1),u(),h("ngIf",r.escape!==!1)("ngIfElse",e)}}function m4e(i,n){if(i&1&&(m(0,"span",12),D(1),_()),i&2){let e=f(2).$implicit;u(),$(e.label)}}function g4e(i,n){if(i&1&&O(0,"span",13),i&2){let e=f(2).$implicit;h("innerHTML",e.label,Xi)}}function _4e(i,n){if(i&1){let e=B();m(0,"a",14),P("click",function(r){S(e);let o=f(),s=o.$implicit,a=o.index,l=f();return A(l.onItemClick(r,s,a))})("keydown",function(r){S(e);let o=f(),s=o.$implicit,a=o.index,l=f();return A(l.onItemKeydown(r,s,a))}),m(1,"span",10),D(2),_(),I(3,m4e,2,1,"span",11)(4,g4e,1,1,"ng-template",null,4,Pt),_()}if(i&2){let e=We(5),t=f(),r=t.$implicit,o=t.index,s=f();h("target",r.target),V("href",r.url,Uo)("tabindex",s.getItemTabIndex(r,o))("aria-disabled",r.disabled||s.readonly&&o!==s.activeIndex)("aria-current",o===s.activeIndex?"step":null),u(2),J("",o+1," "),u(),h("ngIf",r.escape!==!1)("ngIfElse",e)}}function C4e(i,n){if(i&1&&(m(0,"li",7,1),I(2,f4e,6,18,"a",8)(3,_4e,6,8,"ng-template",null,2,Pt),_()),i&2){let e=n.$implicit,t=n.index,r=We(4),o=f();le(e.styleClass),h("ngStyle",e.style)("tooltipOptions",e.tooltipOptions)("ngClass",Je(10,d4e,o.isActive(e,t),e.disabled||o.readonly&&!o.isActive(e,t))),V("aria-current",o.isActive(e,t)?"step":void 0)("id",e.id)("data-pc-section","menuitem"),u(2),h("ngIf",o.isClickableRouterLink(e))("ngIfElse",r)}}var CRt=(()=>{class i{router;route;cd;activeIndex=0;model;readonly=!0;style;styleClass;exact=!0;activeIndexChange=new Q;listViewChild;constructor(e,t,r){this.router=e,this.route=t,this.cd=r}subscription;ngOnInit(){this.subscription=this.router.events.subscribe(()=>this.cd.markForCheck())}onItemClick(e,t,r){if(this.readonly||t.disabled){e.preventDefault();return}this.activeIndexChange.emit(r),!t.url&&!t.routerLink&&e.preventDefault(),t.command&&t.command({originalEvent:e,item:t,index:r})}onItemKeydown(e,t,r){switch(e.code){case"ArrowRight":{this.navigateToNextItem(e.target),e.preventDefault();break}case"ArrowLeft":{this.navigateToPrevItem(e.target),e.preventDefault();break}case"Home":{this.navigateToFirstItem(e.target),e.preventDefault();break}case"End":{this.navigateToLastItem(e.target),e.preventDefault();break}case"Tab":if(r!==this.activeIndex){let o=M.find(this.listViewChild.nativeElement,'[data-pc-section="menuitem"]');o[r].children[0].tabIndex="-1",o[this.activeIndex].children[0].tabIndex="0"}break;case"Enter":case"Space":{this.onItemClick(e,t,r),e.preventDefault();break}default:break}}navigateToNextItem(e){let t=this.findNextItem(e);t&&this.setFocusToMenuitem(e,t)}navigateToPrevItem(e){let t=this.findPrevItem(e);t&&this.setFocusToMenuitem(e,t)}navigateToFirstItem(e){let t=this.findFirstItem();t&&this.setFocusToMenuitem(e,t)}navigateToLastItem(e){let t=this.findLastItem();t&&this.setFocusToMenuitem(e,t)}findNextItem(e){let t=e.parentElement.nextElementSibling;return t?t.children[0]:null}findPrevItem(e){let t=e.parentElement.previousElementSibling;return t?t.children[0]:null}findFirstItem(){let e=M.findSingle(this.listViewChild.nativeElement,'[data-pc-section="menuitem"]');return e?e.children[0]:null}findLastItem(){let e=M.find(this.listViewChild.nativeElement,'[data-pc-section="menuitem"]');return e?e[e.length-1].children[0]:null}setFocusToMenuitem(e,t){e.tabIndex="-1",t.tabIndex="0",t.focus()}isClickableRouterLink(e){return e.routerLink&&!this.readonly&&!e.disabled}isActive(e,t){if(e.routerLink){let r=Array.isArray(e.routerLink)?e.routerLink:[e.routerLink];return this.router.isActive(this.router.createUrlTree(r,{relativeTo:this.route}).toString(),!1)}return t===this.activeIndex}getItemTabIndex(e,t){return e.disabled?"-1":!e.disabled&&this.activeIndex===t?e.tabindex||"0":e.tabindex??"-1"}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}static \u0275fac=function(t){return new(t||i)(b(ct),b(Wc),b(Ie))};static \u0275cmp=ie({type:i,selectors:[["p-steps"]],viewQuery:function(t,r){if(t&1&&de(l4e,5),t&2){let o;ee(o=te())&&(r.listViewChild=o.first)}},hostAttrs:[1,"p-element"],inputs:{activeIndex:[2,"activeIndex","activeIndex",ke],model:"model",readonly:[2,"readonly","readonly",K],style:"style",styleClass:"styleClass",exact:[2,"exact","exact",K]},outputs:{activeIndexChange:"activeIndexChange"},features:[qe],decls:4,vars:9,consts:[["list",""],["menuitem",""],["elseBlock",""],["htmlLabel",""],["htmlRouteLabel",""],[3,"ngClass","ngStyle"],["class","p-steps-item","pTooltip","",3,"ngStyle","class","tooltipOptions","ngClass",4,"ngFor","ngForOf"],["pTooltip","",1,"p-steps-item",3,"ngStyle","tooltipOptions","ngClass"],["role","link","class","p-menuitem-link",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click","keydown",4,"ngIf","ngIfElse"],["role","link",1,"p-menuitem-link",3,"click","keydown","routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state"],[1,"p-steps-number"],["class","p-steps-title",4,"ngIf","ngIfElse"],[1,"p-steps-title"],[1,"p-steps-title",3,"innerHTML"],["role","link",1,"p-menuitem-link",3,"click","keydown","target"]],template:function(t,r){t&1&&(m(0,"nav",5)(1,"ul",null,0),I(3,C4e,5,13,"li",6),_()()),t&2&&(le(r.styleClass),h("ngClass",oe(7,c4e,r.readonly))("ngStyle",r.style),V("data-pc-name","steps"),u(),V("data-pc-section","menu"),u(2),h("ngForOf",r.model))},dependencies:[Ge,tn,et,Ee,au,Nf,Zn],styles:[`@layer primeng{.p-steps{position:relative}.p-steps ul{padding:0;margin:0;list-style-type:none;display:flex}.p-steps-item{position:relative;display:flex;justify-content:center;flex:1 1 auto}.p-steps-item .p-menuitem-link{display:inline-flex;flex-direction:column;align-items:center;overflow:hidden;text-decoration:none}.p-steps.p-steps-readonly .p-steps-item{cursor:auto}.p-steps-item.p-steps-current .p-menuitem-link{cursor:default}.p-steps-title{white-space:nowrap}.p-steps-number{display:flex;align-items:center;justify-content:center}.p-steps-title{display:block}}
`],encapsulation:2,changeDetection:0})}return i})(),OG=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=Oe({type:i});static \u0275inj=Te({imports:[Ye,Na,zr,Na,zr]})}return i})();var DG=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=Oe({type:i});static \u0275inj=Te({imports:[Ye,Na,Qi,zr,ru,nt,Na,zr,nt]})}return i})();var y4e=["container"],I4e=["input"],v4e=["colorSelector"],b4e=["colorHandle"],w4e=["hue"],S4e=["hueHandle"],A4e=(i,n)=>({"p-colorpicker p-component":!0,"p-colorpicker-overlay":i,"p-colorpicker-dragging":n}),E4e=i=>({"p-disabled":i}),x4e=(i,n)=>({"p-colorpicker-panel":!0,"p-colorpicker-overlay-panel":i,"p-disabled":n}),T4e=(i,n)=>({showTransitionParams:i,hideTransitionParams:n}),O4e=i=>({value:"visible",params:i});function D4e(i,n){if(i&1){let e=B();m(0,"input",9,1),P("click",function(){S(e);let r=f();return A(r.onInputClick())})("keydown",function(r){S(e);let o=f();return A(o.onInputKeydown(r))})("focus",function(){S(e);let r=f();return A(r.onInputFocus())}),_()}if(i&2){let e=f();Fn("background-color",e.inputBgColor),h("ngClass",oe(9,E4e,e.disabled))("disabled",e.disabled)("autofocus",e.autofocus),V("tabindex",e.tabindex)("id",e.inputId)("data-pc-section","input")("aria-label",e.ariaLabel)}}function R4e(i,n){if(i&1){let e=B();m(0,"div",10),P("click",function(r){S(e);let o=f();return A(o.onOverlayClick(r))})("@overlayAnimation.start",function(r){S(e);let o=f();return A(o.onOverlayAnimationStart(r))})("@overlayAnimation.done",function(r){S(e);let o=f();return A(o.onOverlayAnimationEnd(r))}),m(1,"div",11)(2,"div",12,2),P("touchstart",function(r){S(e);let o=f();return A(o.onColorDragStart(r))})("touchmove",function(r){S(e);let o=f();return A(o.onDrag(r))})("touchend",function(){S(e);let r=f();return A(r.onDragEnd())})("mousedown",function(r){S(e);let o=f();return A(o.onColorMousedown(r))}),m(4,"div",13),O(5,"div",14,3),_()(),m(7,"div",15,4),P("mousedown",function(r){S(e);let o=f();return A(o.onHueMousedown(r))})("touchstart",function(r){S(e);let o=f();return A(o.onHueDragStart(r))})("touchmove",function(r){S(e);let o=f();return A(o.onDrag(r))})("touchend",function(){S(e);let r=f();return A(r.onDragEnd())}),O(9,"div",16,5),_()()()}if(i&2){let e=f();h("ngClass",Je(10,x4e,!e.inline,e.disabled))("@overlayAnimation",oe(16,O4e,Je(13,T4e,e.showTransitionOptions,e.hideTransitionOptions)))("@.disabled",e.inline===!0),V("data-pc-section","panel"),u(),V("data-pc-section","content"),u(),V("data-pc-section","selector"),u(2),V("data-pc-section","color"),u(),V("data-pc-section","colorHandle"),u(2),V("data-pc-section","hue"),u(2),V("data-pc-section","hueHandle")}}var P4e={provide:nn,useExisting:zt(()=>zP),multi:!0},zP=(()=>{class i{document;platformId;el;renderer;cd;config;overlayService;style;styleClass;inline;format="hex";appendTo;disabled;tabindex;inputId;autoZIndex=!0;baseZIndex=0;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";autofocus;onChange=new Q;onShow=new Q;onHide=new Q;containerViewChild;inputViewChild;value={h:0,s:100,b:100};inputBgColor;shown;overlayVisible;defaultColor="ff0000";onModelChange=()=>{};onModelTouched=()=>{};documentClickListener;documentResizeListener;documentMousemoveListener;documentMouseupListener;documentHueMoveListener;scrollHandler;selfClick;colorDragging;hueDragging;overlay;colorSelectorViewChild;colorHandleViewChild;hueViewChild;hueHandleViewChild;window;constructor(e,t,r,o,s,a,l){this.document=e,this.platformId=t,this.el=r,this.renderer=o,this.cd=s,this.config=a,this.overlayService=l,this.window=this.document.defaultView}set colorSelector(e){this.colorSelectorViewChild=e}set colorHandle(e){this.colorHandleViewChild=e}set hue(e){this.hueViewChild=e}set hueHandle(e){this.hueHandleViewChild=e}get ariaLabel(){return this.config?.getTranslation(bi.ARIA)[bi.SELECT_COLOR]}onHueMousedown(e){this.disabled||(this.bindDocumentMousemoveListener(),this.bindDocumentMouseupListener(),this.hueDragging=!0,this.pickHue(e))}onHueDragStart(e){this.disabled||(this.hueDragging=!0,this.pickHue(e,e.changedTouches[0]))}onColorDragStart(e){this.disabled||(this.colorDragging=!0,this.pickColor(e,e.changedTouches[0]))}pickHue(e,t){let r=t?t.pageY:e.pageY,o=this.hueViewChild?.nativeElement.getBoundingClientRect().top+(this.document.defaultView.pageYOffset||this.document.documentElement.scrollTop||this.document.body.scrollTop||0);this.value=this.validateHSB({h:Math.floor(360*(150-Math.max(0,Math.min(150,r-o)))/150),s:this.value.s,b:this.value.b}),this.updateColorSelector(),this.updateUI(),this.updateModel(),this.onChange.emit({originalEvent:e,value:this.getValueToUpdate()})}onColorMousedown(e){this.disabled||(this.bindDocumentMousemoveListener(),this.bindDocumentMouseupListener(),this.colorDragging=!0,this.pickColor(e))}onDrag(e){this.colorDragging&&(this.pickColor(e,e.changedTouches[0]),e.preventDefault()),this.hueDragging&&(this.pickHue(e,e.changedTouches[0]),e.preventDefault())}onDragEnd(){this.colorDragging=!1,this.hueDragging=!1,this.unbindDocumentMousemoveListener(),this.unbindDocumentMouseupListener()}pickColor(e,t){let r=t?t.pageX:e.pageX,o=t?t.pageY:e.pageY,s=this.colorSelectorViewChild?.nativeElement.getBoundingClientRect(),a=s.top+(this.document.defaultView.pageYOffset||this.document.documentElement.scrollTop||this.document.body.scrollTop||0),l=s.left+this.document.body.scrollLeft,c=Math.floor(100*Math.max(0,Math.min(150,r-l))/150),d=Math.floor(100*(150-Math.max(0,Math.min(150,o-a)))/150);this.value=this.validateHSB({h:this.value.h,s:c,b:d}),this.updateUI(),this.updateModel(),this.onChange.emit({originalEvent:e,value:this.getValueToUpdate()})}getValueToUpdate(){let e;switch(this.format){case"hex":e="#"+this.HSBtoHEX(this.value);break;case"rgb":e=this.HSBtoRGB(this.value);break;case"hsb":e=this.value;break}return e}updateModel(){this.onModelChange(this.getValueToUpdate()),this.cd.markForCheck()}writeValue(e){if(e)switch(this.format){case"hex":this.value=this.HEXtoHSB(e);break;case"rgb":this.value=this.RGBtoHSB(e);break;case"hsb":this.value=e;break}else this.value=this.HEXtoHSB(this.defaultColor);setTimeout(()=>{this.updateColorSelector(),this.updateUI(),this.cd.markForCheck()})}updateColorSelector(){if(this.colorSelectorViewChild){let e={};e.s=100,e.b=100,e.h=this.value.h,this.colorSelectorViewChild.nativeElement.style.backgroundColor="#"+this.HSBtoHEX(e)}}updateUI(){this.colorHandleViewChild&&this.hueHandleViewChild?.nativeElement&&(this.colorHandleViewChild.nativeElement.style.left=Math.floor(150*this.value.s/100)+"px",this.colorHandleViewChild.nativeElement.style.top=Math.floor(150*(100-this.value.b)/100)+"px",this.hueHandleViewChild.nativeElement.style.top=Math.floor(150-150*this.value.h/360)+"px"),this.inputBgColor="#"+this.HSBtoHEX(this.value)}onInputFocus(){this.onModelTouched()}show(){this.overlayVisible=!0,this.cd.markForCheck()}onOverlayAnimationStart(e){switch(e.toState){case"visible":this.inline||(this.overlay=e.element,this.appendOverlay(),this.autoZIndex&&hi.set("overlay",this.overlay,this.config.zIndex.overlay),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.updateColorSelector(),this.updateUI());break;case"void":this.onOverlayHide();break}}onOverlayAnimationEnd(e){switch(e.toState){case"visible":this.inline||this.onShow.emit({});break;case"void":this.autoZIndex&&hi.clear(e.element),this.onHide.emit({});break}}appendOverlay(){this.appendTo&&(this.appendTo==="body"?this.renderer.appendChild(this.document.body,this.overlay):M.appendChild(this.overlay,this.appendTo))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.renderer.appendChild(this.el.nativeElement,this.overlay)}alignOverlay(){this.appendTo?M.absolutePosition(this.overlay,this.inputViewChild?.nativeElement):M.relativePosition(this.overlay,this.inputViewChild?.nativeElement)}hide(){this.overlayVisible=!1,this.cd.markForCheck()}onInputClick(){this.selfClick=!0,this.togglePanel()}togglePanel(){this.overlayVisible?this.hide():this.show()}onInputKeydown(e){switch(e.code){case"Space":this.togglePanel(),e.preventDefault();break;case"Escape":case"Tab":this.hide();break;default:break}}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement}),this.selfClick=!0}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}bindDocumentClickListener(){if(!this.documentClickListener){let e=this.el?this.el.nativeElement.ownerDocument:"document";this.documentClickListener=this.renderer.listen(e,"click",()=>{this.selfClick||(this.overlayVisible=!1,this.unbindDocumentClickListener()),this.selfClick=!1,this.cd.markForCheck()})}}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentMousemoveListener(){if(!this.documentMousemoveListener){let e=this.el?this.el.nativeElement.ownerDocument:"document";this.documentMousemoveListener=this.renderer.listen(e,"mousemove",t=>{this.colorDragging&&this.pickColor(t),this.hueDragging&&this.pickHue(t)})}}unbindDocumentMousemoveListener(){this.documentMousemoveListener&&(this.documentMousemoveListener(),this.documentMousemoveListener=null)}bindDocumentMouseupListener(){if(!this.documentMouseupListener){let e=this.el?this.el.nativeElement.ownerDocument:"document";this.documentMouseupListener=this.renderer.listen(e,"mouseup",()=>{this.colorDragging=!1,this.hueDragging=!1,this.unbindDocumentMousemoveListener(),this.unbindDocumentMouseupListener()})}}unbindDocumentMouseupListener(){this.documentMouseupListener&&(this.documentMouseupListener(),this.documentMouseupListener=null)}bindDocumentResizeListener(){ht(this.platformId)&&(this.documentResizeListener=this.renderer.listen(this.window,"resize",this.onWindowResize.bind(this)))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}onWindowResize(){this.overlayVisible&&!M.isTouchDevice()&&this.hide()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new Zr(this.containerViewChild?.nativeElement,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}validateHSB(e){return{h:Math.min(360,Math.max(0,e.h)),s:Math.min(100,Math.max(0,e.s)),b:Math.min(100,Math.max(0,e.b))}}validateRGB(e){return{r:Math.min(255,Math.max(0,e.r)),g:Math.min(255,Math.max(0,e.g)),b:Math.min(255,Math.max(0,e.b))}}validateHEX(e){var t=6-e.length;if(t>0){for(var r=[],o=0;o<t;o++)r.push("0");r.push(e),e=r.join("")}return e}HEXtoRGB(e){let t=parseInt(e.indexOf("#")>-1?e.substring(1):e,16);return{r:t>>16,g:(t&65280)>>8,b:t&255}}HEXtoHSB(e){return this.RGBtoHSB(this.HEXtoRGB(e))}RGBtoHSB(e){var t={h:0,s:0,b:0},r=Math.min(e.r,e.g,e.b),o=Math.max(e.r,e.g,e.b),s=o-r;return t.b=o,t.s=o!=0?255*s/o:0,t.s!=0?e.r==o?t.h=(e.g-e.b)/s:e.g==o?t.h=2+(e.b-e.r)/s:t.h=4+(e.r-e.g)/s:t.h=-1,t.h*=60,t.h<0&&(t.h+=360),t.s*=100/255,t.b*=100/255,t}HSBtoRGB(e){var t={r:0,g:0,b:0};let r=e.h,o=e.s*255/100,s=e.b*255/100;if(o==0)t={r:s,g:s,b:s};else{let a=s,l=(255-o)*s/255,c=(a-l)*(r%60)/60;r==360&&(r=0),r<60?(t.r=a,t.b=l,t.g=l+c):r<120?(t.g=a,t.b=l,t.r=a-c):r<180?(t.g=a,t.r=l,t.b=l+c):r<240?(t.b=a,t.r=l,t.g=a-c):r<300?(t.b=a,t.g=l,t.r=l+c):r<360?(t.r=a,t.g=l,t.b=a-c):(t.r=0,t.g=0,t.b=0)}return{r:Math.round(t.r),g:Math.round(t.g),b:Math.round(t.b)}}RGBtoHEX(e){var t=[e.r.toString(16),e.g.toString(16),e.b.toString(16)];for(var r in t)t[r].length==1&&(t[r]="0"+t[r]);return t.join("")}HSBtoHEX(e){return this.RGBtoHEX(this.HSBtoRGB(e))}onOverlayHide(){this.unbindScrollListener(),this.unbindDocumentResizeListener(),this.unbindDocumentClickListener(),this.overlay=null}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&this.autoZIndex&&hi.clear(this.overlay),this.restoreOverlayAppend(),this.onOverlayHide()}static \u0275fac=function(t){return new(t||i)(b(_t),b(qt),b(ze),b(Ft),b(Ie),b(Vt),b(Ao))};static \u0275cmp=ie({type:i,selectors:[["p-colorPicker"]],viewQuery:function(t,r){if(t&1&&(de(y4e,5),de(I4e,5),de(v4e,5),de(b4e,5),de(w4e,5),de(S4e,5)),t&2){let o;ee(o=te())&&(r.containerViewChild=o.first),ee(o=te())&&(r.inputViewChild=o.first),ee(o=te())&&(r.colorSelector=o.first),ee(o=te())&&(r.colorHandle=o.first),ee(o=te())&&(r.hue=o.first),ee(o=te())&&(r.hueHandle=o.first)}},hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",inline:[2,"inline","inline",K],format:"format",appendTo:"appendTo",disabled:[2,"disabled","disabled",K],tabindex:"tabindex",inputId:"inputId",autoZIndex:[2,"autoZIndex","autoZIndex",K],baseZIndex:[2,"baseZIndex","baseZIndex",ke],showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",autofocus:[2,"autofocus","autofocus",K]},outputs:{onChange:"onChange",onShow:"onShow",onHide:"onHide"},features:[Ze([P4e]),qe],decls:4,vars:11,consts:[["container",""],["input",""],["colorSelector",""],["colorHandle",""],["hue",""],["hueHandle",""],[3,"ngStyle","ngClass"],["type","text","class","p-colorpicker-preview p-inputtext","readonly","readonly","pAutoFocus","",3,"ngClass","disabled","backgroundColor","autofocus","click","keydown","focus",4,"ngIf"],[3,"ngClass","click",4,"ngIf"],["type","text","readonly","readonly","pAutoFocus","",1,"p-colorpicker-preview","p-inputtext",3,"click","keydown","focus","ngClass","disabled","autofocus"],[3,"click","ngClass"],[1,"p-colorpicker-content"],[1,"p-colorpicker-color-selector",3,"touchstart","touchmove","touchend","mousedown"],[1,"p-colorpicker-color"],[1,"p-colorpicker-color-handle"],[1,"p-colorpicker-hue",3,"mousedown","touchstart","touchmove","touchend"],[1,"p-colorpicker-hue-handle"]],template:function(t,r){t&1&&(m(0,"div",6,0),I(2,D4e,2,11,"input",7)(3,R4e,11,18,"div",8),_()),t&2&&(le(r.styleClass),h("ngStyle",r.style)("ngClass",Je(8,A4e,!r.inline,r.colorDragging||r.hueDragging)),V("data-pc-name","colorpicker")("data-pc-section","root"),u(2),h("ngIf",!r.inline),u(),h("ngIf",r.inline||r.overlayVisible))},dependencies:[Ge,et,Ee,Mn],styles:[`@layer primeng{.p-colorpicker{display:inline-block}.p-colorpicker-dragging{cursor:pointer}.p-colorpicker-overlay{position:relative}.p-colorpicker-panel{position:relative;width:193px;height:166px}.p-colorpicker-overlay-panel{position:absolute;top:0;left:0}.p-colorpicker-preview{cursor:pointer}.p-colorpicker-panel .p-colorpicker-content{position:relative}.p-colorpicker-panel .p-colorpicker-color-selector{width:150px;height:150px;top:8px;left:8px;position:absolute}.p-colorpicker-panel .p-colorpicker-color{width:150px;height:150px}.p-colorpicker-panel .p-colorpicker-color-handle{position:absolute;top:0;left:150px;border-radius:100%;width:10px;height:10px;border-width:1px;border-style:solid;margin:-5px 0 0 -5px;cursor:pointer;opacity:.85}.p-colorpicker-panel .p-colorpicker-hue{width:17px;height:150px;top:8px;left:167px;position:absolute;opacity:.85}.p-colorpicker-panel .p-colorpicker-hue-handle{position:absolute;top:150px;left:0;width:21px;margin-left:-2px;margin-top:-5px;height:10px;border-width:2px;border-style:solid;opacity:.85;cursor:pointer}}
`],encapsulation:2,data:{animation:[hn("overlayAnimation",[Xt(":enter",[jt({opacity:0,transform:"scaleY(0.8)"}),Jt("{{showTransitionParams}}")]),Xt(":leave",[Jt("{{hideTransitionParams}}",jt({opacity:0}))])])]},changeDetection:0})}return i})(),RG=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=Oe({type:i});static \u0275inj=Te({imports:[Ye,Qn]})}return i})();var F4e=["mask"],L4e=["content"],M4e=["footer"],N4e=["titlebar"],V4e=(i,n,e,t,r,o,s,a,l)=>({"p-dialog-mask":!0,"p-component-overlay p-component-overlay-enter p-dialog-mask-scrollblocker":i,"p-dialog-left":n,"p-dialog-right":e,"p-dialog-top":t,"p-dialog-bottom":r,"p-dialog-top-left":o,"p-dialog-top-right":s,"p-dialog-bottom-left":a,"p-dialog-bottom-right":l}),B4e=(i,n,e,t)=>({"p-dialog p-dynamic-dialog p-component":!0,"p-dialog-rtl":i,"p-dialog-resizable":n,"p-dialog-draggable":e,"p-dialog-maximized":t}),U4e=(i,n)=>({transform:i,transition:n}),j4e=i=>({value:"visible",params:i}),H4e=()=>({"p-dialog-header-icon p-dialog-header-maximize p-link":!0});function G4e(i,n){if(i&1){let e=B();m(0,"div",14),P("mousedown",function(r){S(e);let o=f(2);return A(o.initResize(r))}),_()}}function z4e(i,n){i&1&&ue(0)}function W4e(i,n){if(i&1&&O(0,"span",23),i&2){let e=f(5);h("ngClass",e.maximized?e.minimizeIcon:e.maximizeIcon)}}function K4e(i,n){i&1&&O(0,"WindowMaximizeIcon",24),i&2&&h("styleClass","p-dialog-header-maximize-icon")}function $4e(i,n){i&1&&O(0,"WindowMinimizeIcon",24),i&2&&h("styleClass","p-dialog-header-maximize-icon")}function q4e(i,n){i&1&&ue(0)}function Y4e(i,n){i&1&&ue(0)}function J4e(i,n){if(i&1){let e=B();m(0,"button",20),P("click",function(){S(e);let r=f(4);return A(r.maximize())})("keydown.enter",function(){S(e);let r=f(4);return A(r.maximize())}),I(1,W4e,1,1,"span",21)(2,K4e,1,1,"WindowMaximizeIcon",22)(3,$4e,1,1,"WindowMinimizeIcon",22)(4,q4e,1,0,"ng-container",12)(5,Y4e,1,0,"ng-container",12),_()}if(i&2){let e=f(4);h("ngClass",Ae(6,H4e)),u(),h("ngIf",!e.maximizeIconTemplate||!e.minimizeIconTemplate),u(),h("ngIf",!e.maximized&&!e.maximizeIcon&&!e.maximizeIconTemplate),u(),h("ngIf",e.maximized&&!e.minimizeIcon&&!e.minimizeIconTemplate),u(),h("ngComponentOutlet",e.maximizeIconTemplate),u(),h("ngComponentOutlet",e.minimizeIconTemplate)}}function X4e(i,n){i&1&&O(0,"TimesIcon",24),i&2&&h("styleClass","p-dialog-header-close-icon")}function Q4e(i,n){i&1&&ue(0)}function Z4e(i,n){if(i&1){let e=B();m(0,"button",25),P("click",function(){S(e);let r=f(4);return A(r.hide())})("keydown.enter",function(){S(e);let r=f(4);return A(r.hide())}),I(1,X4e,1,1,"TimesIcon",22)(2,Q4e,1,0,"ng-container",12),_()}if(i&2){let e=f(4);h("ngClass","p-dialog-header-icon p-dialog-header-maximize p-link"),V("aria-label",e.closeAriaLabel),u(),h("ngIf",!e.closeIconTemplate),u(),h("ngComponentOutlet",e.closeIconTemplate)}}function e5e(i,n){if(i&1&&(pe(0),m(1,"span",16),D(2),_(),m(3,"div",17),I(4,J4e,6,7,"button",18)(5,Z4e,3,4,"button",19),_(),he()),i&2){let e=f(3);u(),h("id",e.ariaLabelledBy),u(),$(e.config.header),u(2),h("ngIf",e.config.maximizable),u(),h("ngIf",e.config.closable!==!1)}}function t5e(i,n){if(i&1){let e=B();m(0,"div",15,3),P("mousedown",function(r){S(e);let o=f(2);return A(o.initDrag(r))}),I(2,z4e,1,0,"ng-container",12)(3,e5e,6,4,"ng-container",11),_()}if(i&2){let e=f(2);u(2),h("ngComponentOutlet",e.headerTemplate),u(),h("ngIf",!e.headerTemplate)}}function i5e(i,n){}function n5e(i,n){i&1&&I(0,i5e,0,0,"ng-template",26)}function r5e(i,n){i&1&&ue(0)}function o5e(i,n){if(i&1&&(pe(0),D(1),he()),i&2){let e=f(3);u(),J(" ",e.config.footer," ")}}function s5e(i,n){i&1&&ue(0)}function a5e(i,n){if(i&1&&(m(0,"div",27,4),I(2,o5e,2,1,"ng-container",11)(3,s5e,1,0,"ng-container",12),_()),i&2){let e=f(2);u(2),h("ngIf",!e.footerTemplate),u(),h("ngComponentOutlet",e.footerTemplate)}}function l5e(i,n){if(i&1){let e=B();m(0,"div",7,1),P("@animation.start",function(r){S(e);let o=f();return A(o.onAnimationStart(r))})("@animation.done",function(r){S(e);let o=f();return A(o.onAnimationEnd(r))}),I(2,G4e,1,0,"div",8)(3,t5e,4,2,"div",9),m(4,"div",10,2),I(6,n5e,1,0,null,11)(7,r5e,1,0,"ng-container",12),_(),I(8,a5e,4,2,"div",13),_()}if(i&2){let e=f();le(e.config.styleClass),h("ngClass",dr(14,B4e,e.config.rtl,e.config.resizable,e.config.draggable,e.maximized))("ngStyle",e.containerStyle)("@animation",oe(22,j4e,Je(19,U4e,e.transformOptions,e.config.transitionOptions||"150ms cubic-bezier(0, 0, 0.2, 1)")))("pFocusTrapDisabled",e.config.focusTrap===!1),V("aria-labelledby",e.ariaLabelledBy)("aria-modal",!0),u(2),h("ngIf",e.config.resizable),u(),h("ngIf",e.config.showHeader!==!1),u(),h("ngStyle",e.config.contentStyle),u(2),h("ngIf",!e.contentTemplate),u(),h("ngComponentOutlet",e.contentTemplate),u(),h("ngIf",e.config.footer||e.footerTemplate)}}var PG=(()=>{class i{viewContainerRef;constructor(e){this.viewContainerRef=e}static \u0275fac=function(t){return new(t||i)(b(fo))};static \u0275dir=gt({type:i,selectors:[["","pDynamicDialogContent",""]],hostAttrs:[1,"p-element"]})}return i})(),Ju=class{data;header;ariaLabelledBy;footer;width;height;closeOnEscape;focusOnShow=!0;focusOnClose=!0;focusTrap=!0;baseZIndex;autoZIndex;dismissableMask;rtl;style;contentStyle;styleClass;transitionOptions;closable;showHeader;modal;maskStyleClass;resizable;draggable;keepInViewport;minX;minY;maximizable;maximizeIcon;minimizeIcon;position;closeAriaLabel;appendTo;duplicate;breakpoints;templates},Tl=class{constructor(){}close(n){this._onClose.next(n),setTimeout(()=>{this._onClose.complete()},1e3)}destroy(){this._onDestroy.next(null)}dragStart(n){this._onDragStart.next(n)}dragEnd(n){this._onDragEnd.next(n)}resizeInit(n){this._onResizeInit.next(n)}resizeEnd(n){this._onResizeEnd.next(n)}maximize(n){this._onMaximize.next(n)}_onClose=new Re;onClose=this._onClose.asObservable();_onDestroy=new Re;onDestroy=this._onDestroy.asObservable();_onDragStart=new Re;onDragStart=this._onDragStart.asObservable();_onDragEnd=new Re;onDragEnd=this._onDragEnd.asObservable();_onResizeInit=new Re;onResizeInit=this._onResizeInit.asObservable();_onResizeEnd=new Re;onResizeEnd=this._onResizeEnd.asObservable();_onMaximize=new Re;onMaximize=this._onMaximize.asObservable();onChildComponentLoaded=new Re},c5e=Ra([jt({transform:"{{transform}}",opacity:0}),Jt("{{transition}}",jt({transform:"none",opacity:1}))]),d5e=Ra([Jt("{{transition}}",jt({transform:"{{transform}}",opacity:0}))]),u5e=(()=>{class i{document;platformId;cd;renderer;config;dialogRef;zone;primeNGConfig;parentDialog;visible=!0;componentRef;mask;resizing;dragging;maximized;_style={};originalStyle;lastPageX;lastPageY;ariaLabelledBy;id=yt();styleElement;insertionPoint;maskViewChild;contentViewChild;footerViewChild;headerViewChild;childComponentType;container;wrapper;documentKeydownListener;documentEscapeListener;maskClickListener;transformOptions="scale(0.7)";documentResizeListener;documentResizeEndListener;documentDragListener;documentDragEndListener;get minX(){return this.config.minX?this.config.minX:0}get minY(){return this.config.minY?this.config.minY:0}get keepInViewport(){return this.config.keepInViewport}get maximizable(){return this.config.maximizable}get maximizeIcon(){return this.config.maximizeIcon}get minimizeIcon(){return this.config.minimizeIcon}get style(){return this._style}get position(){return this.config.position}get closeAriaLabel(){return this.primeNGConfig.getTranslation(bi.ARIA).close}set style(e){e&&(this._style=re({},e),this.originalStyle=e)}get parent(){let e=Array.from(this.document.getElementsByClassName("p-dialog"));if(e.length>1)return e.pop()}get parentContent(){let e=Array.from(this.document.getElementsByClassName("p-dialog"));if(e.length>0){let t=e[e.length-1].querySelector(".p-dialog-content");if(t)return Array.isArray(t)?t[0]:t}}get header(){return this.config.header}get data(){return this.config.data}get breakpoints(){return this.config.breakpoints}get footerTemplate(){return this.config?.templates?.footer}get headerTemplate(){return this.config?.templates?.header}get contentTemplate(){return this.config?.templates?.content}get minimizeIconTemplate(){return this.config?.templates?.minimizeicon}get maximizeIconTemplate(){return this.config?.templates?.maximizeicon}get closeIconTemplate(){return this.config?.templates?.closeicon}get dynamicDialogCount(){return this.document.querySelectorAll("p-dynamicdialog")?.length}get containerStyle(){return Pe(re({},this.config.style),{width:this.config.width,height:this.config.height})}constructor(e,t,r,o,s,a,l,c,d){this.document=e,this.platformId=t,this.cd=r,this.renderer=o,this.config=s,this.dialogRef=a,this.zone=l,this.primeNGConfig=c,this.parentDialog=d}ngOnInit(){this.breakpoints&&this.createStyle()}createStyle(){if(ht(this.platformId)&&!this.styleElement){this.styleElement=this.renderer.createElement("style"),this.styleElement.type="text/css",M.setAttribute(this.styleElement,"nonce",this.primeNGConfig?.csp()?.nonce),this.renderer.appendChild(this.document.head,this.styleElement);let e="";for(let t in this.breakpoints)e+=`
                        @media screen and (max-width: ${t}) {
                            .p-dialog[${this.id}]:not(.p-dialog-maximized) {
                                width: ${this.breakpoints[t]} !important;
                            }
                        }
                    `;this.renderer.setProperty(this.styleElement,"innerHTML",e)}}destroyStyle(){this.styleElement&&(this.renderer.removeChild(this.document.head,this.styleElement),this.styleElement=null)}ngAfterViewInit(){this.loadChildComponent(this.childComponentType),this.ariaLabelledBy=this.getAriaLabelledBy(),this.cd.detectChanges()}getAriaLabelledBy(){return this.header!==null?yt()+"_header":null}loadChildComponent(e){let t=this.insertionPoint?.viewContainerRef;t?.clear(),this.componentRef=t?.createComponent(e),this.dialogRef.onChildComponentLoaded.next(this.componentRef.instance)}moveOnTop(){this.config.autoZIndex!==!1&&(hi.set("modal",this.container,(this.config.baseZIndex||0)+this.primeNGConfig.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}onAnimationStart(e){switch(e.toState){case"visible":this.container=e.element,this.wrapper=this.container.parentElement,this.moveOnTop(),this.parent&&this.unbindGlobalListeners(),this.bindGlobalListeners(),this.container?.setAttribute(this.id,""),this.config.modal!==!1&&this.enableModality(),this.config.focusOnShow!==!1&&this.focus();break;case"void":this.wrapper&&this.config.modal!==!1&&M.addClass(this.wrapper,"p-component-overlay-leave");break}}onAnimationEnd(e){e.toState==="void"&&(this.parentContent&&this.config.focusOnClose!==!1&&this.focus(this.parentContent),this.onContainerDestroy(),this.dialogRef.destroy())}onContainerDestroy(){this.unbindGlobalListeners(),this.container&&this.config.autoZIndex!==!1&&hi.clear(this.container),this.config.modal!==!1&&this.disableModality(),this.container=null}close(){this.visible=!1,this.cd.markForCheck()}hide(){this.dialogRef&&this.dialogRef.close()}enableModality(){this.config.dismissableMask&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",e=>{this.wrapper&&this.wrapper.isSameNode(e.target)&&this.hide()})),this.dynamicDialogCount===1&&M.addClass(this.document.body,"p-overflow-hidden")}disableModality(){this.wrapper&&(this.config.dismissableMask&&this.unbindMaskClickListener(),this.dynamicDialogCount===1&&M.removeClass(this.document.body,"p-overflow-hidden"),this.cd.destroyed||this.cd.detectChanges())}focus(e=this.contentViewChild.nativeElement){if(!M.getFocusableElements(e).length)return;let r=M.getFocusableElement(e,"[autofocus]");if(r){this.zone.runOutsideAngular(()=>{setTimeout(()=>r.focus(),5)});return}let o=M.getFocusableElement(e);o?this.zone.runOutsideAngular(()=>{setTimeout(()=>o.focus(),5)}):this.footerViewChild?this.focus(this.footerViewChild.nativeElement):!o&&this.headerViewChild&&this.focus(this.headerViewChild.nativeElement)}maximize(){this.maximized=!this.maximized,this.maximized?M.addClass(this.document.body,"p-overflow-hidden"):M.removeClass(this.document.body,"p-overflow-hidden"),this.dialogRef.maximize({maximized:this.maximized})}initResize(e){this.config.resizable&&(this.documentResizeListener||this.bindDocumentResizeListeners(),this.resizing=!0,this.lastPageX=e.pageX,this.lastPageY=e.pageY,M.addClass(this.document.body,"p-unselectable-text"),this.dialogRef.resizeInit(e))}onResize(e){if(this.resizing){let t=e.pageX-this.lastPageX,r=e.pageY-this.lastPageY,o=M.getOuterWidth(this.container),s=M.getOuterHeight(this.container),a=M.getOuterHeight(this.contentViewChild.nativeElement),l=o+t,c=s+r,d=this.container.style.minWidth,p=this.container.style.minHeight,g=this.container.getBoundingClientRect(),C=M.getViewport();(!parseInt(this.container.style.top)||!parseInt(this.container.style.left))&&(l+=t,c+=r),(!d||l>parseInt(d))&&g.left+l<C.width&&(this._style.width=l+"px",this.container.style.width=this._style.width),(!p||c>parseInt(p))&&g.top+c<C.height&&(this.contentViewChild.nativeElement.style.height=a+c-s+"px",this._style.height&&(this._style.height=c+"px",this.container.style.height=this._style.height)),this.lastPageX=e.pageX,this.lastPageY=e.pageY}}resizeEnd(e){this.resizing&&(this.resizing=!1,M.removeClass(this.document.body,"p-unselectable-text"),this.dialogRef.resizeEnd(e))}initDrag(e){M.hasClass(e.target,"p-dialog-header-icon")||M.hasClass(e.target.parentElement,"p-dialog-header-icon")||this.config.draggable&&(this.dragging=!0,this.lastPageX=e.pageX,this.lastPageY=e.pageY,this.container.style.margin="0",M.addClass(this.document.body,"p-unselectable-text"),this.dialogRef.dragStart(e))}onDrag(e){if(this.dragging){let t=M.getOuterWidth(this.container),r=M.getOuterHeight(this.container),o=e.pageX-this.lastPageX,s=e.pageY-this.lastPageY,a=this.container.getBoundingClientRect(),l=a.left+o,c=a.top+s,d=M.getViewport();this.container.style.position="fixed",this.keepInViewport?(l>=this.minX&&l+t<d.width&&(this._style.left=l+"px",this.lastPageX=e.pageX,this.container.style.left=l+"px"),c>=this.minY&&c+r<d.height&&(this._style.top=c+"px",this.lastPageY=e.pageY,this.container.style.top=c+"px")):(this.lastPageX=e.pageX,this.container.style.left=l+"px",this.lastPageY=e.pageY,this.container.style.top=c+"px")}}endDrag(e){this.dragging&&(this.dragging=!1,M.removeClass(this.document.body,"p-unselectable-text"),this.dialogRef.dragEnd(e),this.cd.detectChanges())}resetPosition(){this.container.style.position="",this.container.style.left="",this.container.style.top="",this.container.style.margin=""}bindDocumentDragListener(){ht(this.platformId)&&this.zone.runOutsideAngular(()=>{this.documentDragListener=this.renderer.listen(this.document,"mousemove",this.onDrag.bind(this))})}bindDocumentDragEndListener(){ht(this.platformId)&&this.zone.runOutsideAngular(()=>{this.documentDragEndListener=this.renderer.listen(this.document,"mouseup",this.endDrag.bind(this))})}unbindDocumentDragEndListener(){this.documentDragEndListener&&(this.documentDragEndListener(),this.documentDragListener=null)}unbindDocumentDragListener(){this.documentDragListener&&(this.documentDragListener(),this.documentDragListener=null)}bindDocumentResizeListeners(){ht(this.platformId)&&this.zone.runOutsideAngular(()=>{this.documentResizeListener=this.renderer.listen(this.document,"mousemove",this.onResize.bind(this)),this.documentResizeEndListener=this.renderer.listen(this.document,"mouseup",this.resizeEnd.bind(this))})}unbindDocumentResizeListeners(){this.documentResizeListener&&this.documentResizeEndListener&&(this.documentResizeListener(),this.documentResizeEndListener(),this.documentResizeListener=null,this.documentResizeEndListener=null)}bindGlobalListeners(){this.config.closeOnEscape!==!1&&this.bindDocumentEscapeListener(),this.config.resizable&&this.bindDocumentResizeListeners(),this.config.draggable&&(this.bindDocumentDragListener(),this.bindDocumentDragEndListener())}unbindGlobalListeners(){this.unbindDocumentEscapeListener(),this.unbindDocumentResizeListeners(),this.unbindDocumentDragListener(),this.unbindDocumentDragEndListener()}bindDocumentEscapeListener(){let e=this.maskViewChild?this.maskViewChild.nativeElement.ownerDocument:"document";this.documentEscapeListener=this.renderer.listen(e,"keydown",t=>{t.which==27&&parseInt(this.container.style.zIndex)==hi.getCurrent()&&this.hide()})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}ngOnDestroy(){this.onContainerDestroy(),this.componentRef&&this.componentRef.destroy(),this.destroyStyle()}static \u0275fac=function(t){return new(t||i)(b(_t),b(qt),b(Ie),b(Ft),b(Ju),b(Tl),b(xt),b(Vt),b(i,12))};static \u0275cmp=ie({type:i,selectors:[["p-dynamicDialog"]],viewQuery:function(t,r){if(t&1&&(de(PG,5),de(F4e,5),de(L4e,5),de(M4e,5),de(N4e,5)),t&2){let o;ee(o=te())&&(r.insertionPoint=o.first),ee(o=te())&&(r.maskViewChild=o.first),ee(o=te())&&(r.contentViewChild=o.first),ee(o=te())&&(r.footerViewChild=o.first),ee(o=te())&&(r.headerViewChild=o.first)}},hostAttrs:[1,"p-element"],decls:3,vars:14,consts:[["mask",""],["container",""],["content",""],["titlebar",""],["footer",""],[3,"ngClass"],["role","dialog","pFocusTrap","",3,"ngClass","ngStyle","class","pFocusTrapDisabled",4,"ngIf"],["role","dialog","pFocusTrap","",3,"ngClass","ngStyle","pFocusTrapDisabled"],["class","p-resizable-handle",3,"mousedown",4,"ngIf"],["class","p-dialog-header",3,"mousedown",4,"ngIf"],[1,"p-dialog-content",3,"ngStyle"],[4,"ngIf"],[4,"ngComponentOutlet"],["class","p-dialog-footer",4,"ngIf"],[1,"p-resizable-handle",3,"mousedown"],[1,"p-dialog-header",3,"mousedown"],[1,"p-dialog-title",3,"id"],[1,"p-dialog-header-icons"],["type","button","tabindex","-1","pRipple","",3,"ngClass","click","keydown.enter",4,"ngIf"],["type","button","role","button",3,"ngClass","click","keydown.enter",4,"ngIf"],["type","button","tabindex","-1","pRipple","",3,"click","keydown.enter","ngClass"],["class","p-dialog-header-maximize-icon",3,"ngClass",4,"ngIf"],[3,"styleClass",4,"ngIf"],[1,"p-dialog-header-maximize-icon",3,"ngClass"],[3,"styleClass"],["type","button","role","button",3,"click","keydown.enter","ngClass"],["pDynamicDialogContent",""],[1,"p-dialog-footer"]],template:function(t,r){t&1&&(m(0,"div",5,0),I(2,l5e,9,24,"div",6),_()),t&2&&(le(r.config.maskStyleClass),h("ngClass",Tp(4,V4e,[r.config.modal!==!1,r.position==="left",r.position==="right",r.position==="top",r.position==="bottom",r.position==="topleft"||r.position==="top-left",r.position==="topright"||r.position==="top-right",r.position==="bottomleft"||r.position==="bottom-left",r.position==="bottomright"||r.position==="bottom-right"])),u(2),h("ngIf",r.visible))},dependencies:()=>[Ge,A3,et,Ee,mf,gf,Li,nv,PG],styles:[`@layer primeng{.p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none}.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;pointer-events:auto;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-draggable .p-dialog-header{cursor:move}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-top .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog{margin:.75rem;transform:translateZ(0)}.p-dialog-maximized{-webkit-transition:none;transition:none;transform:none;width:100vw!important;height:100vh!important;top:0!important;left:0!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start;align-items:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}}
`],encapsulation:2,data:{animation:[hn("animation",[Xt("void => visible",[Pa(c5e)]),Xt("visible => void",[Pa(d5e)])])]}})}return i})(),kG=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=Oe({type:i});static \u0275inj=Te({imports:[Ye,mf,gf,Li,nt,rv,nt]})}return i})(),WP=class{_parentInjector;_additionalTokens;constructor(n,e){this._parentInjector=n,this._additionalTokens=e}get(n,e,t){let r=this._additionalTokens.get(n);return r||this._parentInjector.get(n,e)}},Xu=(()=>{class i{appRef;injector;document;dialogComponentRefMap=new Map;constructor(e,t,r){this.appRef=e,this.injector=t,this.document=r}open(e,t){if(!this.duplicationPermission(e,t))return null;let r=this.appendDialogComponentToBody(t,e);return this.dialogComponentRefMap.get(r).instance.childComponentType=e,r}getInstance(e){return this.dialogComponentRefMap.get(e).instance}appendDialogComponentToBody(e,t){let r=new WeakMap;r.set(Ju,e);let o=new Tl;r.set(Tl,o);let s=o.onClose.subscribe(()=>{this.dialogComponentRefMap.get(o).instance.close()}),a=o.onDestroy.subscribe(()=>{this.removeDialogComponentFromBody(o),a.unsubscribe(),s.unsubscribe()}),l=s3(u5e,{environmentInjector:this.appRef.injector,elementInjector:new WP(this.injector,r)});this.appRef.attachView(l.hostView);let c=l.hostView.rootNodes[0];return!e.appendTo||e.appendTo==="body"?this.document.body.appendChild(c):M.appendChild(c,e.appendTo),this.dialogComponentRefMap.set(o,l),o}removeDialogComponentFromBody(e){if(!e||!this.dialogComponentRefMap.has(e))return;let t=this.dialogComponentRefMap.get(e);this.appRef.detachView(t.hostView),t.destroy(),this.dialogComponentRefMap.delete(e)}duplicationPermission(e,t){if(t.duplicate)return!0;let r=!0;for(let[o,s]of this.dialogComponentRefMap)if(s.instance.childComponentType===e){r=!1;break}return r}static \u0275fac=function(t){return new(t||i)(ce(dl),ce(Er),ce(_t))};static \u0275prov=_e({token:i,factory:i.\u0275fac})}return i})();var p5e=["scroller"],h5e=[[["p-header"]],[["p-footer"]]],f5e=["p-header","p-footer"],FG=i=>({height:i}),m5e=(i,n)=>({$implicit:i,options:n});function g5e(i,n){i&1&&ue(0)}function _5e(i,n){if(i&1&&(m(0,"div",8),ii(1),I(2,g5e,1,0,"ng-container",9),_()),i&2){let e=f();u(2),h("ngTemplateOutlet",e.headerTemplate)}}function C5e(i,n){i&1&&ue(0)}function y5e(i,n){if(i&1&&(m(0,"div",10),I(1,C5e,1,0,"ng-container",11),_()),i&2){let e=n.$implicit,t=n.options,r=f();h("ngStyle",oe(3,FG,r.itemSize+"px")),u(),h("ngTemplateOutlet",e?r.itemTemplate:r.loadingItemTemplate)("ngTemplateOutletContext",Je(5,m5e,e,t))}}function I5e(i,n){i&1&&ue(0)}function v5e(i,n){if(i&1&&(m(0,"div",12),ii(1,1),I(2,I5e,1,0,"ng-container",9),_()),i&2){let e=f();V("data-pc-section","footer"),u(2),h("ngTemplateOutlet",e.footerTemplate)}}var j1=(()=>{class i{el;cd;value;itemSize;style;styleClass;scrollHeight;lazy;options;delay=250;onLazyLoad=new Q;header;footer;templates;scroller;itemTemplate;headerTemplate;footerTemplate;loadingItemTemplate;virtualScrollTimeout;constructor(e,t){this.el=e,this.cd=t}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":this.itemTemplate=e.template;break;case"loadingItem":this.loadingItemTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;default:this.itemTemplate=e.template;break}})}onLazyItemLoad(e){this.virtualScrollTimeout&&clearTimeout(this.virtualScrollTimeout),this.virtualScrollTimeout=setTimeout(()=>{this.onLazyLoad.emit(Pe(re({},e),{rows:e.last-e.first,forceUpdate:()=>this.cd.detectChanges()}))},this.delay)}getBlockableElement(){return this.el.nativeElement.children[0]}scrollToIndex(e,t){this.scroller?.scrollToIndex(e,t)}static \u0275fac=function(t){return new(t||i)(b(ze),b(Ie))};static \u0275cmp=ie({type:i,selectors:[["p-virtualScroller"]],contentQueries:function(t,r,o){if(t&1&&(ot(o,Xl,5),ot(o,Ds,5),ot(o,be,4)),t&2){let s;ee(s=te())&&(r.header=s.first),ee(s=te())&&(r.footer=s.first),ee(s=te())&&(r.templates=s)}},viewQuery:function(t,r){if(t&1&&de(p5e,5),t&2){let o;ee(o=te())&&(r.scroller=o.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",itemSize:[2,"itemSize","itemSize",ke],style:"style",styleClass:"styleClass",scrollHeight:"scrollHeight",lazy:[2,"lazy","lazy",K],options:"options",delay:[2,"delay","delay",ke]},outputs:{onLazyLoad:"onLazyLoad"},features:[qe],ngContentSelectors:f5e,decls:8,vars:17,consts:[["content",""],["scroller",""],[3,"ngClass","ngStyle"],["class","p-virtualscroller-header",4,"ngIf"],[1,"p-virtualscroller-content"],["styleClass","p-virtualscroller-list",3,"onLazyLoad","items","itemSize","lazy","options"],["pTemplate","item"],["class","p-virtualscroller-footer",4,"ngIf"],[1,"p-virtualscroller-header"],[4,"ngTemplateOutlet"],[1,"p-virtualscroller-item",3,"ngStyle"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-virtualscroller-footer"]],template:function(t,r){if(t&1){let o=B();Fi(h5e),m(0,"div",2),I(1,_5e,3,1,"div",3),m(2,"div",4,0)(4,"p-scroller",5,1),P("onLazyLoad",function(a){return S(o),A(r.onLazyItemLoad(a))}),I(6,y5e,2,8,"ng-template",6),_()(),I(7,v5e,3,2,"div",7),_()}t&2&&(le(r.styleClass),h("ngClass","p-virtualscroller p-component")("ngStyle",r.style),V("data-pc-name","virtualscroller")("data-pc-section","root"),u(),h("ngIf",r.header||r.headerTemplate),u(),V("data-pc-section","content"),u(2),dt(oe(15,FG,r.scrollHeight)),h("items",r.value)("itemSize",r.itemSize)("lazy",r.lazy)("options",r.options),u(3),h("ngIf",r.footer||r.footerTemplate))},dependencies:[Ge,et,st,Ee,be,Rs],encapsulation:2})}return i})(),LG=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=Oe({type:i});static \u0275inj=Te({imports:[Ye,nt,Wr,nt,Wr]})}return i})();var H1=(()=>{class i{constructor(e,t){this.dialogRef=e,this.router=t,this.alive=!0,this.router.events.pipe(kt(()=>this.alive)).subscribe(r=>{r instanceof _s&&this.dialogRef.close()})}ngOnInit(){}ngOnDestroy(){this.alive=!1}addMessageToLog(e,t){this.log&&this.log.addNewText(e,t)}static{this.\u0275fac=function(t){return new(t||i)(b(Tl),b(ct))}}static{this.\u0275cmp=ie({type:i,selectors:[["sts-fwc-dynamic-panel"]],decls:2,vars:0,template:function(t,r){t&1&&(m(0,"p"),D(1,"fwc-dynamic-panel works!"),_())}})}}return i})();var Qu=(()=>{class i extends Mi{constructor(e){super(e),this.httpClient=e}getDhcpPolicy(e,t){let r=`${ge.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/dhcpRules`;return this.httpClient.get(r).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIErrorNew))}getDhcpPolicyGrid(e,t,r){let o=`${ge.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/dhcpRules/grid/${r}`;return this.httpClient.get(o).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIErrorNew))}newPolicyDhcpRule(e,t,r){let o=`${ge.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/dhcpRules`;return this.httpClient.post(o,r).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIErrorNew))}updateDhcpPolicyRule(e,t,r,o){let s=`${ge.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/dhcpRules/${r}`;return this.httpClient.put(s,o).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIErrorNew))}moveObjectBetweenPositions(e,t,r){let o=`${ge.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/dhcpRules/moveFrom`;return this.httpClient.put(o,r).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIErrorNew))}updateDhcpPolicyRules(e,t,r,o){let s=r.map(c=>`rules[]=${c}`).join("&"),a=`${ge.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/dhcpRules/bulkUpdate?${s}`,l={active:o.active,style:o.style,group:o.group};return this.httpClient.put(a,l).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIErrorNew))}deleteDhcpPolicyRule(e,t,r){let o=`${ge.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/dhcpRules/${r}`;return this.httpClient.delete(o).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIErrorNew))}deleteDhcpPolicyRules(e,t,r){let o=r.map(a=>`rules[]=${a}`).join("&"),s=`${ge.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/dhcpRules/bulkRemove?${o}`;return this.httpClient.delete(s).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIErrorNew))}manageDhcpPolicyRules(e,t,r,o,s,a){let l="copy",c=this.httpClient.post,d=o<0?"above":"below";a===ur.CUT&&(l="move",c=this.httpClient.put);let p=`${ge.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/dhcpRules/${l}`,g={to:r,offset:d,rules:s};return c.call(this.httpClient,p,g).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIErrorNew))}compileDhcpPolicyRules(e,t,r){let o;if(r){let s=r.map(a=>`rules[]=${a}`).join("&");o=`${ge.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/dhcpRules/compile?${s}`}else o=`${ge.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/dhcpRules/compile`;return this.httpClient.get(o).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIErrorNew))}getDhcpGroup(e,t,r){let o=`${ge.settings.fwcAppURL}/fwclouds/${e}/firewalls/${t}/system/dhcpGroups/${r}`;return this.httpClient.get(o).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIErrorNew))}checkGroupRestrictions(e){let{fwcloud:t,firewall:r,id:o}=e,s=`${ge.settings.fwcAppURL}/fwclouds/${t}/firewalls/${r}/system/dhcpGroups/${o}/restricted`;return this.httpClient.get(s).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIErrorNew))}newDhcpPolicyRuleGroup(e,t,r,o,s){let a=`${ge.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/dhcpGroups`,l={name:r,comment:o,rules:s};return this.httpClient.post(a,l).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIErrorNew))}updateDhcpPolicyRuleGroup(e,t,r,o){let s=`${ge.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/dhcpGroups/${r}`;return this.httpClient.put(s,o).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIErrorNew))}deleteDhcpPolicyRulesGroup(e,t,r){let o=`${ge.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/dhcpGroups/${r}`;return this.httpClient.delete(o).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIErrorNew))}installConfig(e,t,r,o){let s=`${ge.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/dhcpRules/install?channel_id=${r}`;return this.httpClient.put(s,JSON.stringify(o)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}static{this.\u0275fac=function(t){return new(t||i)(ce(Yt))}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var LPt=hn("fundido",[Xt(":enter",[jt({opacity:0,transform:"translateY(12%)"}),Jt("380ms linear")])]),z1=hn("fundidoIn",[Xt(":enter",[jt({opacity:0}),Jt("250ms linear")]),Xt("* => void",Jt("250ms linear"))]),MG=hn("fundidoInOut",[Lr("void",jt({opacity:0,transform:"translateY(12%)"})),Lr("active, newItemAdded",jt({opacity:1})),Xt("void => *",Jt("300ms")),Xt("* => void",Jt("300ms"))]),w5e=hn("delayFundidoInOut",[Lr("void",jt({opacity:0,transform:"translateY(12%)"})),Lr("active, newItemAdded",jt({opacity:1})),Xt("void => *",[H4("div",[G4(1e3,[jt({opacity:0}),Jt("0.3s",jt({opacity:1}))])])]),Xt("* => void",Jt("300ms"))]),MPt=hn("zoomInOut",[Lr("void",jt({opacity:0,transform:"scale(0.1, 0.1)"})),Lr("active",jt({opacity:1,transform:"scale(1, 1)"})),Xt("void => *",Jt("300ms")),Xt("* => void",Jt("300ms"))]),NPt=hn("itemFundidoOut",[Lr("void",jt({opacity:0})),Lr("active, newItemAdded",jt({opacity:1})),Xt("void => active",Jt("300ms")),Xt("void => newItemAdded",Jt("300ms")),Xt("* => void",Jt("300ms"))]);var NG=250,Wi=(()=>{class i{constructor(e){this.translate=e}transform(e){let t="",r;if(e)if(e.error&&typeof e.error=="object"?r=e.error:e.error&&typeof e.error=="string"?(r=e.error,r==="IP version mismatch"&&(t=this.translate.instant("ITEM_PANEL.ERRORS.INVALID_IP_VERSION.TEXT"))):e.message&&typeof e.message=="string"&&e.status===500?(r=e.message,r==="IP version mismatch"&&(t=this.translate.instant("ITEM_PANEL.ERRORS.INVALID_IP_VERSION.TEXT"))):r=e,typeof e=="string")t=r;else if(this.isFwcAPIError(r)){let o=`API_ERROR.${r.fwcErr}`,s=this.translate.instant(o);if(s===o){if(t=r.msg||"",this.isServerError(t)){let a=JSON.parse(t);t=this.translate.instant("API_ERROR."+a.code)}}else t=s}else if(this.isEmptyError(r))t=this.translate.instant("API_ERROR.500");else if(this.isFwcAPIErrorNew(r))t=r.message;else if(this.isUnknownFormatError(r)){if(t=null,r.errors){let o=r.errors;for(let s in o)Array.isArray(o[s])&&(s==="id"&&o[s].length&&(t=o[s][0]),o[s].find(a=>a==="ipObjGroupId must not be empty")?t=this.translate.instant("ROUTING.POLICY.ERROR_EMPTY_GROUP"):o[s].find(a=>a==="ipObj must contain at least one address")&&(t=this.translate.instant("ROUTING.POLICY.ERROR_EMPTY_HOST")))}if(r.data&&!t){let o=`API_ERROR.${r.status}`,s=this.translate.instant(o);s===o?t=r.error||"":t=s}}else t=r;return t=t.length>NG?t.substr(0,NG)+"...":t,t}isFwcAPIError(e){return e&&e.fwcErr!=null}isFwcAPIErrorNew(e){return e&&e.status!=null&&e.response!=null&&e.message!=null}isUnknownFormatError(e){return e&&e.status!=null&&e.data!=null}isEmptyError(e){return e&&e.status===void 0&&e.error===void 0&&e.data&&Object.keys(e.data).length===0}isServerError(e){try{let t=JSON.parse(e);return t.errno!=null&&t.code!=null}catch{return!1}}static{this.\u0275fac=function(t){return new(t||i)(b(Xe,16))}}static{this.\u0275pipe=Jn({name:"fwcError",type:i,pure:!0})}}return i})();var S5e=["tooltipElem"],A5e=(i,n,e)=>({top:i,left:n,visibility:e}),E5e=()=>({width:"1.7rem",height:"1.7rem"});function x5e(i,n){i&1&&(m(0,"div",2),O(1,"p-progressSpinner"),_()),i&2&&(u(),dt(Ae(2,E5e)))}function T5e(i,n){if(i&1&&(m(0,"span"),O(1,"i"),_()),i&2){let e=f(2);u(),ra("flag-icon flag-icon-",e.CountryId,"")}}function O5e(i,n){if(i&1&&(m(0,"span"),O(1,"i"),_()),i&2){let e=f(2);u(),le(e.pipeFwcIcon.transform(e.objectInfo.type,e.ContinentId))}}function D5e(i,n){if(i&1&&(m(0,"span"),D(1),R(2,"translate"),_()),i&2){let e=f(2);u(),Ts(" ",e.objectInfo.nodes.length," ",k(2,2,"INFO_TT.NODES"),"")}}function R5e(i,n){if(i&1){let e=B();m(0,"div",3)(1,"h6"),O(2,"i",4),D(3),R(4,"translate"),m(5,"span",5)(6,"i",6),P("click",function(){S(e);let r=f();return A(r.showTooltip=!1)}),_()()(),m(7,"div",7),I(8,T5e,2,3,"span")(9,O5e,2,3,"span"),O(10,"i",8),R(11,"fwcIcon"),D(12,"\xA0\xA0"),m(13,"strong"),D(14),_(),D(15," ("),m(16,"i"),D(17),R(18,"translate"),_(),D(19,")"),O(20,"span",9),I(21,D5e,3,4,"span"),_(),O(22,"div",10),_()}if(i&2){let e=f();u(3),J("\xA0",k(4,10,"ITEM_PANEL.HEADER.OBJ_INFO")," "),u(5),q(e.objectInfo.type==e.ObjectTypes.OBJ_COUNTRIE?8:-1),u(),q(e.objectInfo.type==e.ObjectTypes.OBJ_CONTINENT?9:-1),u(),ra("fwcIcon ",k(11,12,e.objectInfo.type),""),u(4),$(e.objectInfo.name),u(3),$(k(18,14,"GLOBALS.DB_OBJECT_NAMES."+e.objectInfo.type)),u(4),q(e.objectInfo.nodes?21:-1),u(),ae("innerHTML",e.objectInfo.infoHTML,Xi)}}function P5e(i,n){if(i&1){let e=B();m(0,"div")(1,"h6"),O(2,"i",11),D(3,"\xA0Error: "),m(4,"span",5)(5,"i",6),P("click",function(){S(e);let r=f();return A(r.showTooltip=!1)}),_()()(),O(6,"br"),m(7,"p"),D(8),_()()}if(i&2){let e=f();u(8),J(" ",e.objectError," ")}}var ZPt=(()=>{class i{constructor(e,t,r,o,s,a,l,c,d,p,g,C,y,v,w,E){this.appOptionsService=e,this.fwcObjectService=t,this.fwcInterfaceService=r,this.itemSelectedService=o,this.fwcObjectTypeService=s,this.fwcUserService=a,this.fwcFirewallService=l,this.fwcPolicyService=c,this.fwcMarkService=d,this.fwcVpnService=p,this.fwcErrorPipe=g,this.fwcRoutingTableService=C,this.fwcDhcpPolicyService=y,this.translate=v,this.pipeFwcIcon=w,this.cd=E,this.loadingData=!1,this.OBJECT_TYPES=[],this.showTooltip=!1,this.positionTooltip=!1,this.TOOLTIP_HEIGHT=350,this.TOOLTIP_MIN_WIDTH=250,this.TOOLTIP_GAP=8,this.alive=!0,this.ObjectTypes=L}ngOnInit(){this.itemSelectedService.getObjectInfo().pipe(kt(()=>this.alive)).subscribe(e=>{if(!e||!this.appOptionsService.enableInfoTooltip)return;let t=e.obj,r=e.event;this.objectInfo=void 0,this.objectError=void 0,t&&r?(this.loadingData=!0,this.tooltipX=r.clientX,this.tooltipY=r.clientY,this.targetElement=e.targetElement?e.targetElement:r.target,this.showTooltipDialog(),t._fwcShowRestrictions?this.fwcPolicyService.getPolicyRuleFull(t.firewall_id,t.rule_type,t.rule_id,this.fwcUserService.getActualFwSelectedCloud()).pipe(kt(()=>this.alive)).subscribe(o=>{},o=>{}):this.getObjectInfo(t.objId,t.objType,t.objParentId,t.fwId,t.clusterId).then(o=>{this.loadingData=!1,this.objectInfo=o,this.showTooltipDialog()}).catch(o=>{this.loadingData=!1,this.objectError=this.fwcErrorPipe.transform(o)})):(this.showTooltip=!1,this.positionTooltip=!1)}),this.fwcObjectTypeService.getObjectTypes().subscribe(e=>{if(this.OBJECT_TYPES=[],e.data){for(let t of e.data)this.OBJECT_TYPES[t.id]=t.type;this.OBJECT_TYPES[L.OBJ_CLUSTER_NODE]="CLUSTER_NODE"}},e=>{ge.error("ERROR getting object types",e),this.OBJECT_TYPES=[]})}ngOnDestroy(){this.alive=!1}showTooltipDialog(){this.cd.destroyed||this.cd.detectChanges(),this.placeTooltipDialog(),this.showTooltip=!0}placeTooltipOld(){if(this.tooltipElem){let e=this.tooltipElem.nativeElement.clientWidth,t=this.tooltipElem.nativeElement.clientHeight,r=window.innerWidth,o=window.innerHeight;this.tooltipX+e>=r-(this.TOOLTIP_GAP+3)&&(this.tooltipX=this.tooltipX-e-this.TOOLTIP_GAP),this.tooltipY+t>=o-(this.TOOLTIP_GAP+3)?this.tooltipY=this.tooltipY-t-this.TOOLTIP_GAP:this.tooltipY+=this.TOOLTIP_GAP}}placeTooltipDialog(){if(this.tooltipElem&&this.targetElement){let e=this.tooltipElem.nativeElement.clientWidth,t=this.tooltipElem.nativeElement.clientHeight,r=window.innerWidth,o=window.innerHeight,s=this.targetElement.getBoundingClientRect();this.tooltipX=this.tooltipY=void 0,s.top-t-this.TOOLTIP_GAP>0?this.tooltipY=s.top-t-this.TOOLTIP_GAP:this.tooltipY=s.bottom+this.TOOLTIP_GAP,s.left+e+this.TOOLTIP_GAP<r&&(this.tooltipX=s.left)}}getObjectInfo(e,t,r,o,s){return new Promise((l,c)=>{let d;switch(t=+t,t){case L.OBJ_FIREWALL:this.fwcFirewallService.getFirewall(e,this.fwcUserService.getActualFwSelectedCloud()).subscribe(w=>{let E;if(w.data){let T;E=w.data,E.type=L.OBJ_FIREWALL,E.cluster&&(E.type=L.OBJ_CLUSTER_NODE),T=this.buildInfoTableHeader(E.id);let F="-";E.compiled_at&&(F=E.compiled_at),T+=`<tr><td colspan="2"><p class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.COMPILED_AT")}</p><p>${F}<p></td></tr>`;let G="-";E.installed_at&&(G=E.installed_at),T+=`<tr><td colspan="2"><p class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.INSTALLED_AT")}</p><p>${G}<p></td></tr>`,E.comment&&(T+=`<tr><td colspan="2"><p class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.COMMENTS")}</p><p>${E.comment}<p></td></tr>`),T+="</table>",E.infoHTML=T}else return c(this.translate.instant("GLOBALS.ERRORS.NO_INFO"));l(E)},w=>{c(w)});break;case L.OBJ_CLUSTER:this.fwcFirewallService.getCluster(e,this.fwcUserService.getActualFwSelectedCloud()).subscribe(w=>{let E;if(w.data){let T;E=w.data,E.type=L.OBJ_CLUSTER,T=this.buildInfoTableHeader(E.id),E.comment&&(T+=`<tr><td colspan="2"><span class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.COMMENTS")}</span><br>${E.comment}</td></tr>`),T+="</table>",E.infoHTML=T}else{c(this.translate.instant("GLOBALS.ERRORS.NO_INFO"));return}l(E)},w=>{c(w)});break;case L.OBJ_INTERFACE_FIREWALL:case L.OBJ_INTERFACE_HOST:let p;t==L.OBJ_INTERFACE_HOST?(d=this.fwcInterfaceService.getInterfaceHost.bind(this.fwcInterfaceService),p=r):(d=this.fwcInterfaceService.getInterface.bind(this.fwcInterfaceService),p=o??r),d(p,e,this.fwcUserService.getActualFwSelectedCloud()).subscribe(w=>{let E;if(w.data){let T,F;E=w.data,T=this.buildInfoTableHeader(E.id),F=+E.type,F==L.OBJ_INTERFACE_FIREWALL?E.cluster_id!==null&&E.cluster_id!==void 0?T+=`<tr><td class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(L.OBJ_CLUSTER)}'></i> Cluster</td><td><strong>${E.cluster_name} (${E.cluster_id})</strong></td></tr>`:T+=`<tr><td class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(L.OBJ_FIREWALL)}'></i> Firewall</td><td><strong>${E.firewall_name} (${E.firewall_id})</strong></td></tr>`:T+=`<tr><td class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(L.OBJ_HOST)}'></i> Host</td><td><strong>${E.host_name} (${E.host_id})</strong></td></tr>`,T+=`<tr><td class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.LABEL")}</td><td><strong>${E.labelName?E.labelName:""}</strong></td></tr>`,T+=`<tr><td class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.MAC")}</td><td><strong>${E.mac?E.mac:""}</strong></td></tr>`,E.comment&&(T+=`<tr><td colspan="2"><span class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.COMMENTS")}</span><br>${E.comment}</td></tr>`),T+="</table>",E.infoHTML=T}else{c(this.translate.instant("GLOBALS.ERRORS.NO_INFO"));return}l(E)},w=>{c(w)});break;case L.OBJ_GROUP:case L.OBJ_SERVICE_GROUP:this.fwcObjectService.getObjectGroup(e,this.fwcUserService.getActualFwSelectedCloud()).subscribe(w=>{let E;if(w.data){let T;if(E=w.data,T=this.buildInfoTableHeader(E.id),E.ipobjs&&E.ipobjs.length){T+=`<tr><td colspan="2"><span class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.IP_OBJS")}</span><ul class='fitUlGroup'>`;for(let F=0;F<E.ipobjs.length;F++){let G=new Rn().transform(E.ipobjs[F].type,"","fwcOrange");T+=`<li><i class='fwcIcon ${G}'></i> ${E.ipobjs[F].name} (Id: <strong>${E.ipobjs[F].id}</strong>)</li>`}T+="</ul></td></tr>"}else T+=`<tr><td colspan="2"><i>${this.translate.instant("ITEM_PANEL.FIELDS.GROUP_EMPTY")}</i></td></tr>`;E.comment&&(T+=`<tr><td colspan="2"><span class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.COMMENTS")}</span><br>${E.comment}</td></tr>`),T+="</table>",E.infoHTML=T}else{c(this.translate.instant("GLOBALS.ERRORS.NO_INFO"));return}l(E)},w=>{c(w)});break;case L.OBJ_CERT_CLI:case L.OBJ_CERT_SER:case L.OBJ_VPN_CONFIG_CLI:case L.OBJ_VPN_CONFIG_SER:case L.OBJ_CA:let g,C={fwcloud:this.fwcUserService.getActualFwSelectedCloud()};t==L.OBJ_CERT_CLI||t==L.OBJ_CERT_SER?(g=this.fwcVpnService.getCertificate.bind(this.fwcVpnService),C.crt=e):t==L.OBJ_VPN_CONFIG_CLI||t==L.OBJ_VPN_CONFIG_SER?(g=this.fwcVpnService.getConfigInfo.bind(this.fwcVpnService),C.openvpn=e):t==L.OBJ_CA&&(g=this.fwcVpnService.getCA.bind(this.fwcVpnService),C.ca=e),g(C).subscribe(w=>{let E;if(w.data){let T;E=w.data,E.type=t,T=this.buildInfoTableHeader(E.id);let F=this.translate.instant("VPN.PANEL.DAY_OPTS.0");if(E.days!==void 0&&(E.days%365||(E.days/=365,F=this.translate.instant("VPN.PANEL.DAY_OPTS.1"))),(t==L.OBJ_CERT_CLI||t==L.OBJ_CERT_SER)&&(E.name=E.cn,T+=`<tr><td class='fwcOrange'>${this.translate.instant("VPN.PANEL.FIELDS.DAYS_SHORT")}</td><td><strong>${E.days} ${F}</strong></td></tr>`),t==L.OBJ_VPN_CONFIG_CLI||t==L.OBJ_VPN_CONFIG_SER){let G=this.translate.instant("VPN.CONFIG.INSTALL.CONFIG_NOT_INSTALLED"),z=t==L.OBJ_VPN_CONFIG_CLI?this.translate.instant("GLOBALS.MSG_OBJ_TYPES.OBJ_ADDRESS"):this.translate.instant("GLOBALS.MSG_OBJ_TYPES.OBJ_NETWORK");if(T+=`<tr><td><span class='fwcOrange'>CN</span></td><td>${E.cn}</td></tr>`,E.cluster_id!==null&&E.cluster_id!==void 0?T+=`<tr><td class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(L.OBJ_CLUSTER)} fwcWhite'></i> Cluster</td><td><strong>${E.cluster_name} (${E.cluster_id})</strong></td></tr>`:E.firewall_id!==null&&E.firewall_id!==void 0&&(T+=`<tr><td class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(L.OBJ_FIREWALL)}'></i> Firewall</td><td><strong>${E.firewall_name} (${E.firewall_id})</strong></td></tr>`),T+=`<tr><td><span class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(L.OBJ_CA)}'></i> CA</span></td><td>${E.CA_cn}</td></tr>`,E.openvpn_server_cn&&(T+=`<tr><td><span class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(L.OBJ_VPN_CONFIG_SER)}'></i> ${this.translate.instant("GLOBALS.MSG_OBJ_TYPES.OBJ_OPENVPN_CONFIG_SER")}</span></td><td><strong>${E.openvpn_server_cn}</strong></td></tr>`),T+=`<tr><td><span class='fwcOrange'>${z}</span></td><td><strong>${E.address}</strong></td></tr>`,E.netmask&&(T+=`<tr><td><span class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.MASK")}</span></td><td><strong>${E.netmask}</strong></td></tr>`),!E.status&&E.installed_at){let ne=new Date(E.installed_at).toLocaleString();G=this.translate.instant("VPN.CONFIG.INSTALL.CONFIG_INSTALLED",{installDate:ne})}T+=`<tr><td colspan="2"><span class='fwcOrange'>${this.translate.instant("VPN.CONFIG.INSTALL.STATUS")}</span><br>${G}</td></tr>`}t==L.OBJ_CA&&(E.name=E.cn,T+=`<tr><td class='fwcOrange'>${this.translate.instant("VPN.PANEL.FIELDS.DAYS_SHORT")}</td><td><strong>${E.days} ${F}</strong></td></tr>`,E.status&&(T+=`<tr><td colspan="2">${this.translate.instant("VPN.PANEL.NEW.CA_CREATING_SHORT")}</td></tr>`)),E.comment&&(T+=`<tr><td colspan="2"><span class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.COMMENTS")}</span><br>${E.comment}</td></tr>`),T+="</table>",E.infoHTML=T}else c(this.translate.instant("GLOBALS.ERRORS.NO_INFO"));l(E)},w=>{c(w)});break;case L.OBJ_PREFIX_FOLDER:break;case L.OBJ_OPENVPN_PREFIX:let y={prefix:e,fwcloud:this.fwcUserService.getActualFwSelectedCloud()};this.fwcVpnService.getOpenVPNPrefixInfo(y).subscribe(w=>{let E;if(w.data){let T;E=w.data,T=this.buildInfoTableHeader(E.id),E.cluster_name!==null&&E.cluster_name!==void 0?T+=`<tr><td class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(L.OBJ_CLUSTER)} fwcWhite'></i> Cluster</td><td><strong>${E.cluster_name}</strong></td></tr>`:E.firewall_name!==null&&E.firewall_name!==void 0&&(T+=`<tr><td class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(L.OBJ_FIREWALL)}'></i> Firewall</td><td><strong>${E.firewall_name}</strong></td></tr>`),T+=`<tr><td class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(L.OBJ_CA)}'></i> ${this.translate.instant("VPN.CA_CN")}</td><td><strong>${E.ca_cn}</strong></td></tr>`,T+=`<tr><td class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(L.OBJ_VPN_CONFIG_SER)}'></i> ${this.translate.instant("VPN.CONFIG.CONFIG")}</td><td><strong>${E.cn}</strong></td></tr>`,E.openvpn_clients&&Array.isArray(E.openvpn_clients)&&E.openvpn_clients.length&&(T+=`<tr><td class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(L.OBJ_VPN_CONFIG_CLI)}'></i> ${this.translate.instant("VPN.CONFIG.CLIENT_CONFIGS")}</td></tr><tr><td colspan="2"><ul class='UlGroup'>`,E.openvpn_clients.forEach(F=>{T+=`<li>${F.cn} (${F.address})</li>`}),T+="</ul></td></tr>"),T+="</table>",E.type=t,E.infoHTML=T,l(E)}else c(this.translate.instant("GLOBALS.ERRORS.NO_INFO"))},w=>{c(w)});break;case L.OBJ_MARK:let v={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),mark:e};this.fwcMarkService.getMark(v).subscribe(w=>{let E;if(w.data){let T;E=w.data,E.type=L.OBJ_MARK,T=this.buildInfoTableHeader(E.id),T+=`<tr><td class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.MARK_CODE")}</td><td><strong>${E.code}</strong></td></tr>`,E.comment&&(T+=`<tr><td colspan="2"><span class='fwcOrange spanComments'>${this.translate.instant("ITEM_PANEL.FIELDS.COMMENTS")}</span><br>${E.comment}</td></tr>`),T+="</table>",E.infoHTML=T}else{c(this.translate.instant("GLOBALS.ERRORS.NO_INFO"));return}l(E)},w=>{c(w)});break;case L.OBJ_ROUTING_TABLE:this.fwcRoutingTableService.getRoutingTable(o,this.fwcUserService.getActualFwSelectedCloud(),e).subscribe(w=>{let E={};if(w.data){let T,F=w.data;E.type=L.OBJ_ROUTING_TABLE,E.name=F.name,T=this.buildInfoTableHeader(F.id),T+=`<tr><td class='fwcOrange'>${this.translate.instant("PANELS.ROUTING_TABLE_PANEL.FIELDS.NUMBER")}</td><td><strong>${F.number}</strong></td></tr>`,F.comment&&(T+=`<tr><td colspan="2"><span class='fwcOrange spanComments'>${this.translate.instant("ITEM_PANEL.FIELDS.COMMENTS")}</span><br>${F.comment}</td></tr>`),T+="</table>",E.infoHTML=T}else c(this.translate.instant("GLOBALS.ERRORS.NO_INFO"));l(E)},w=>{c(w)});break;case L.OBJ_DHCP_GROUP:this.fwcDhcpPolicyService.getDhcpGroup(this.fwcUserService.getActualFwSelectedCloud(),o,e).subscribe(w=>{let E={};if(w.data){let T,F=w.data;E.type=L.OBJ_DHCP_GROUP,E.name=F.name,T=this.buildInfoTableHeader(F.id),E.infoHTML=T}else c(this.translate.instant("GLOBALS.ERRORS.NO_INFO"));l(E)},w=>{c(w)});break;case L.OBJ_CONTINENT:this.fwcObjectService.getObjectGroup(e,this.fwcUserService.getActualFwSelectedCloud()).subscribe(w=>{let E;if(w.data){let T;E=w.data,this.ContinentId=w.data.name,E.name=this.translate.instant("NODE_TYPES."+w.data.name),T=this.buildInfoTableHeader(E.id),E.infoHTML=T}else{c(this.translate.instant("GLOBALS.ERRORS.NO_INFO"));return}l(E)},w=>{c(w)});break;default:this.fwcObjectService.getObject(e,this.fwcUserService.getActualFwSelectedCloud()).subscribe(w=>{let E;if(w.data){let T,F;switch(E=w.data,T=this.buildInfoTableHeader(E.id),F=+E.type,F){case L.OBJ_HOST:if(Array.isArray(E.interfaces)){let X;T+=`<tr><td colspan="2"><span class='fwcOrange'>Interfaces</span><ul class='fitUlGroup'>`;for(let ne=0;ne<E.interfaces.length;ne++){X=E.interfaces[ne];let Y=new Rn().transform(X.type);if(T+=`<li><i class='fwcIcon ${Y}'></i> ${X.name} (Id: <strong>${X.id}</strong>)</li>`,Array.isArray(X.ipobjs)){T+="<ul class='fitUl'>";for(let se=0;se<X.ipobjs.length;se++){let ye=new Rn().transform(X.ipobjs[se].type);T+=`<li><i class='fwcIcon ${ye}'></i> ${X.ipobjs[se].name} (Id: <strong>${X.ipobjs[se].id}</strong>)</li>`}T+="</ul>"}}T+="</ul></td></tr>"}break;case L.OBJ_ADDRESS:case L.OBJ_NETWORK:if(F==L.OBJ_ADDRESS){let X=E.host_id!==null&&E.host_id!==void 0?L.OBJ_INTERFACE_HOST:L.OBJ_INTERFACE_FIREWALL;T+=`<tr><td class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.IPV")}</td><td><strong>IPv${E.ip_version}</strong></td></tr>`,E.cluster_id!==null&&E.cluster_id!==void 0?T+=`<tr><td class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(L.OBJ_CLUSTER)} fwcWhite'></i> Cluster</td><td><strong>${E.cluster_name} (${E.cluster_id})</strong></td></tr>`:E.firewall_id!==null&&E.firewall_id!==void 0?T+=`<tr><td class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(L.OBJ_FIREWALL)}'></i> Firewall</td><td><strong>${E.firewall_name} (${E.firewall_id})</strong></td></tr>`:E.host_id!==null&&E.host_id!==void 0&&(T+=`<tr><td class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(L.OBJ_HOST)}'></i> Host</td><td><strong>${E.host_name} (${E.host_id})</strong></td></tr>`),E.if_id!==null&&E.if_id!==void 0&&(T+=`<tr><td class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(X)}'></i> ${this.translate.instant("GLOBALS.MSG_OBJ_TYPES.OBJ_INTERFACE_FIREWALL")}</td><td><strong>${E.if_name} (${E.if_id})</strong></td></tr>`)}T+=`<tr><td class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.ADDRESS")}</td><td><strong>${E.address}</strong></td></tr>`,T+=`<tr><td class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.MASK")}</td><td><strong>${E.netmask?E.netmask:""}</strong></td></tr>`;break;case L.OBJ_ADDRESS_RANGE:T+=`<tr><td class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.RANGE_S")}</td><td><strong>${E.range_start?E.range_start:""}</strong></td></tr>`,T+=`<tr><td class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.RANGE_E")}</td><td><strong>${E.range_end?E.range_end:""}</strong></td></tr>`;break;case L.OBJ_SERVICE_IP:T+=`<tr><td class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.PROT")}</td><td><strong>${E.protocol}</strong></td></tr>`;break;case L.OBJ_SERVICE_TCP:case L.OBJ_SERVICE_UDP:T+=`<tr><td class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.SRC_PORT")}</td><td><strong>${E.source_port_start?E.source_port_start:""}</strong></td></tr>`,T+=`<tr><td class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.PORT_E")}</td><td><strong>${E.source_port_end?E.source_port_end:""}</strong></td></tr>`,T+=`<tr><td class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.DEST_PORT")}</td><td><strong>${E.destination_port_start?E.destination_port_start:""}</strong></td></tr>`,T+=`<tr><td class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.PORT_E")}</td><td><strong>${E.destination_port_end?E.destination_port_end:""}</strong></td></tr>`;break;case L.OBJ_SERVICE_ICMP:let G=E.icmp_type?E.icmp_type==-1?"Any":E.icmp_type.toString():"",z=E.icmp_code?E.icmp_code==-1?"Any":E.icmp_code.toString():"";T+=`<tr><td class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.ICMP_TYPE")}</td><td><strong>${G}</strong></td></tr>`,T+=`<tr><td class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.ICMP_CODE")}</td><td><strong>${z}</strong></td></tr>`;break;case L.OBJ_COUNTRIE:this.CountryId=E.name.toLocaleLowerCase(),E.name=this.translate.instant("COUNTRIES."+E.name);break}E.comment&&(T+=`<tr><td colspan="2"><span class='fwcOrange spanComments'>${this.translate.instant("ITEM_PANEL.FIELDS.COMMENTS")}</span><br>${E.comment}</td></tr>`),T+="</table>",E.infoHTML=T}else{c(this.translate.instant("GLOBALS.ERRORS.NO_INFO"));return}l(E)},w=>{c(w)});break}})}buildInfoTableHeader(e){let t="<table class='fitTableInfo'>";return t+=`<tr><td class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.OBJ_ID")}</td><td><strong>${e}</strong></td></tr>`,t}onMouseEnter(){this.itemSelectedService.isFocused()}onMouseLeave(){this.itemSelectedService.isBlur()}static{this.\u0275fac=function(t){return new(t||i)(b(Bt),b(Ir),b(ro),b(At),b(yb),b(pt),b(Zt),b(Pn),b(Cb),b(os),b(Wi),b(rs),b(Qu),b(Xe),b(Rn),b(Ie))}}static{this.\u0275cmp=ie({type:i,selectors:[["sts-fwc-info-tooltip"]],viewQuery:function(t,r){if(t&1&&de(S5e,5),t&2){let o;ee(o=te())&&(r.tooltipElem=o.first)}},features:[Ze([Ir,ro,yb,Zt,os,Cb,Rn])],decls:5,vars:9,consts:[["tooltipElem",""],["id","fitTooltipDiv",1,"fitTooltipDiv--light",3,"mouseenter","mouseleave","ngStyle"],["id","fitDivLoader"],[1,"fitDivInfo"],[1,"fa","fa-info-circle","fwcOrange"],[1,"fitSpanClose"],[1,"fa","fa-lg","fa-times-circle",3,"click"],[1,"fitDivInfoTitle"],["aria-hidden","true"],[1,"spanSep"],[3,"innerHTML"],[1,"fa","fa-exclamation-circle","fwcRed"]],template:function(t,r){if(t&1){let o=B();m(0,"div",1,0),P("mouseenter",function(){return S(o),A(r.onMouseEnter())})("mouseleave",function(){return S(o),A(r.onMouseLeave())}),I(2,x5e,2,3,"div",2)(3,R5e,23,16,"div",3)(4,P5e,9,1,"div"),_()}t&2&&(h("ngStyle",zi(5,A5e,(r.tooltipY==null?null:r.tooltipY.toString())+"px",(r.tooltipX==null?null:r.tooltipX.toString())+"px",r.showTooltip?"visible":"hidden"))("@fundidoIn",void 0),u(2),q(r.loadingData?2:-1),u(),q(!r.loadingData&&r.objectInfo?3:-1),u(),q(!r.loadingData&&r.objectError?4:-1))},dependencies:[Ee,eo,vt,Rn],styles:[`:root{--lightColor: #eee;--darkColor: #222;--inputBackgroundColor: #eee;--inputBorderColor: #cacaca;--inputColor: #222;--surfaceBackgroundColor: white;--fixedWhiteColor: #eee;--fixedDarkColor: #333;--translucidColor: transparent;--menuBackground: url(/assets/img/fwc-fondo-menu.jpg);--mainBackground: url(/assets/img/fwc-fondo-home.jpg);--fwcBlue: #0069a7;--fwcBlueDarkened: #005e96;--fwcDarkBlue: #003351;--fwcDarkBlue2: #014071;--fwcLightBlue: #1779ba;--fwcPaleBlue: #689fe1;--fwcPaleBlue2: #cce2f8;--fwcPaleBlue3: #e6f1fd;--fwcBlueGradient1: #386ea0;--fwcBlueGradient2: #21517e;--fwcLightGreyGradient1: #f6f7f9;--fwcLightGreyGradient2: #ebedf0;--fwcOrange: #eb6400;--fwcPaleOrange: #e67e22;--fwcPaleOrange2: #ffcfa4;--fwcPaleOrange3: #fe7815;--fwcOrangeRed: #e74c3c;--fwcRed: #f00;--fwcRed2: #b40b00;--fwcPaleRed: #f77676;--fwcPaleRed2: #ffe1e1;--fwcTranslucidRed: rgba(255, 0, 0, .15);--fwcDarkGreen: #023008;--fwcGreen: #009900;--fwcLightGreen: #28ff28;--fwcPaleGreen: #c7e6c8;--fwcLime: #baf649;--fwcWhite: #eee;--fwcPaleWhite: #f5f5f5;--fwcPaleWhite2: #f4f4f4;--fwcDark: #222;--fwcLightDark: #1e1e1e;--fwcMidDark: #555;--fwcMidDark2: #333;--fwcPaleDark: #888;--fwcPaleDark2: #383838;--fwcGrey: #cacaca;--fwcGrey2: #cecece;--fwcGrey3: #eee;--fwcGrey4: #e5e5e5;--fwcGrey5: #c8c8c8;--fwcGrey6: #efefef;--fwcGrey7: #dedede;--fwcAccent: #ff4081;--fwcShadow: #bbb;--fwcSelected: #ddd;--fwcSelectedB: #0069a7;--fwcRulePink: #ef9a9a;--fwcRulePurple: #ce93d8;--fwcRuleBlue: #90caf9;--fwcRuleTeal: #80cbc4;--fwcRuleGreen: #a5d6a7;--fwcRuleYellow: #fff59d;--fwcRuleOrange: #ffcc80}div#fitDivLoader{text-align:center}div.fitOverlayPanel.p-overlaypanel{min-width:250px;max-width:450px;color:var(--fwcWhite);background-color:var(--fwcMidDark2);border-radius:.5rem}div.fitDivInfo{color:var(--fwcDark);line-height:1.5;font-size:.85rem}div.fitDivInfo h6{border-bottom:1px solid var(--fwcOrange);padding-bottom:.3rem;margin-bottom:.3rem}div.fitDivInfo .fitDivInfoTitle{white-space:nowrap;text-overflow:ellipsis;overflow:hidden;scrollbar-width:none}div.fitDivInfo table{width:100%;table-layout:fixed;margin-top:.3rem;border:0;background:none!important}div.fitDivInfo table tr,div.fitDivInfo table td{margin:0!important;padding:.3rem!important}div.fitDivInfo table td{white-space:nowrap;text-overflow:ellipsis;overflow-x:hidden}div.fitDivInfo table *{background:none!important}div.fitDivInfo spanComments{margin-bottom:.3rem}ul.fitUl{list-style-type:none;padding-left:1rem;margin-bottom:0}ul.fitUlGroup{list-style-type:none;padding-left:1rem;margin-bottom:0;height:120px;overflow-y:auto}ul.UlGroup{padding-left:1rem;margin-bottom:0;height:120px;overflow-y:auto}div#fitTooltipDiv{position:fixed;z-index:2000;padding:.7em;min-width:250px;max-width:450px;color:var(--fwcWhite);background-color:var(--fwcMidDark2);border:1px solid var(--fwcMidDark2);border-radius:.5rem;box-shadow:0 3px 1.2rem rgba(var(--fwcDark),.6)}div#fitTooltipDiv.fitTooltipDiv--light{color:var(--fwcDark)!important;background-color:var(--fwcWhite)!important;border:1px solid var(--fwcShadow)}div#fitTooltipDiv .fitSpanClose{float:right}div#fitTooltipDiv .fitSpanClose i{cursor:pointer}
`],encapsulation:2,data:{animation:[z1]}})}}return i})();var k5e=i=>({dialog_name:i});function F5e(i,n){if(i&1){let e=B();m(0,"i",5),P("click",function(){S(e);let r=f().$implicit,o=f(2);return A(o.restoreDialog(r))}),O(1,"img",6),_()}}function L5e(i,n){if(i&1){let e=B();m(0,"i",5),P("click",function(){S(e);let r=f().$implicit,o=f(2);return A(o.restoreDialog(r))}),O(1,"img",7),_()}}function M5e(i,n){if(i&1){let e=B();m(0,"i",5),P("click",function(){S(e);let r=f().$implicit,o=f(2);return A(o.restoreDialog(r))}),O(1,"img",8),_()}}function N5e(i,n){if(i&1){let e=B();m(0,"i",9),P("click",function(){S(e);let r=f().$implicit,o=f(2);return A(o.restoreDialog(r))}),_()}if(i&2){let e=f().$implicit;ra("",e.dialogIcon," dockIcon")}}function V5e(i,n){if(i&1&&(m(0,"div",1)(1,"div",2),R(2,"translate"),I(3,F5e,2,0,"i",3)(4,L5e,2,0,"i",3)(5,M5e,2,0,"i",3)(6,N5e,1,3,"i",4),_()()),i&2){let e=n.$implicit,t=f(2);h("@fundidoIn",void 0),u(),ae("pTooltip",Di(2,7,"ITEM_PANEL.RESTORE",oe(10,k5e,e.dialogName))),h("escape",!1),u(2),q(e.dialogUUID==="NGFW_PANEL"&&e.dialogIcon==="NTOPNG"?3:-1),u(),q(e.dialogUUID==="NGFW_PANEL"&&e.dialogIcon==="WEBSAFETYPROXY"?4:-1),u(),q(e.dialogUUID==="NGFW_PANEL"&&e.dialogIcon==="DNSSAFETY"?5:-1),u(),q(e.dialogUUID!=t.NGFW_PANEL?6:-1)}}function B5e(i,n){if(i&1&&(m(0,"div",0),jr(1,V5e,7,12,"div",1,Ur),_()),i&2){let e=f();u(),Hr(e.dialogPanels)}}var ckt=(()=>{class i{constructor(e,t){this.appDialogPanelsService=e,this.store=t,this.alive=!0,this.store.pipe(kt(()=>this.alive),zn(ec.selectMinimizedDialogs)).subscribe(r=>{this.dialogPanels=r})}restoreDialog(e,t){this.store.dispatch(gn.restoreDialog({dialogId:e.dialogId}))}ngOnDestroy(){this.alive=!1}static{this.\u0275fac=function(t){return new(t||i)(b(Mt),b(rt))}}static{this.\u0275cmp=ie({type:i,selectors:[["sts-fwc-panel-dock"]],decls:1,vars:1,consts:[[1,"divFwcDock"],[1,"divFwcDock--button"],["showDelay","500","tooltipPosition","top",3,"pTooltip","escape"],[1,"dockIcon"],[3,"class"],[1,"dockIcon",3,"click"],["height","90","width","90","src","assets/img/ntopng.png"],["height","90","width","90","src","assets/img/websafety.png"],["height","90","width","90","src","assets/img/dnssafety.png"],[3,"click"]],template:function(t,r){t&1&&I(0,B5e,3,0,"div",0),t&2&&q(r.dialogPanels!=null&&r.dialogPanels.length?0:-1)},dependencies:[Zn,vt],styles:['[_ngcontent-%COMP%]:root{--lightColor: #eee;--darkColor: #222;--inputBackgroundColor: #eee;--inputBorderColor: #cacaca;--inputColor: #222;--surfaceBackgroundColor: white;--fixedWhiteColor: #eee;--fixedDarkColor: #333;--translucidColor: transparent;--menuBackground: url(/assets/img/fwc-fondo-menu.jpg);--mainBackground: url(/assets/img/fwc-fondo-home.jpg);--fwcBlue: #0069a7;--fwcBlueDarkened: #005e96;--fwcDarkBlue: #003351;--fwcDarkBlue2: #014071;--fwcLightBlue: #1779ba;--fwcPaleBlue: #689fe1;--fwcPaleBlue2: #cce2f8;--fwcPaleBlue3: #e6f1fd;--fwcBlueGradient1: #386ea0;--fwcBlueGradient2: #21517e;--fwcLightGreyGradient1: #f6f7f9;--fwcLightGreyGradient2: #ebedf0;--fwcOrange: #eb6400;--fwcPaleOrange: #e67e22;--fwcPaleOrange2: #ffcfa4;--fwcPaleOrange3: #fe7815;--fwcOrangeRed: #e74c3c;--fwcRed: #f00;--fwcRed2: #b40b00;--fwcPaleRed: #f77676;--fwcPaleRed2: #ffe1e1;--fwcTranslucidRed: rgba(255, 0, 0, .15);--fwcDarkGreen: #023008;--fwcGreen: #009900;--fwcLightGreen: #28ff28;--fwcPaleGreen: #c7e6c8;--fwcLime: #baf649;--fwcWhite: #eee;--fwcPaleWhite: #f5f5f5;--fwcPaleWhite2: #f4f4f4;--fwcDark: #222;--fwcLightDark: #1e1e1e;--fwcMidDark: #555;--fwcMidDark2: #333;--fwcPaleDark: #888;--fwcPaleDark2: #383838;--fwcGrey: #cacaca;--fwcGrey2: #cecece;--fwcGrey3: #eee;--fwcGrey4: #e5e5e5;--fwcGrey5: #c8c8c8;--fwcGrey6: #efefef;--fwcGrey7: #dedede;--fwcAccent: #ff4081;--fwcShadow: #bbb;--fwcSelected: #ddd;--fwcSelectedB: #0069a7;--fwcRulePink: #ef9a9a;--fwcRulePurple: #ce93d8;--fwcRuleBlue: #90caf9;--fwcRuleTeal: #80cbc4;--fwcRuleGreen: #a5d6a7;--fwcRuleYellow: #fff59d;--fwcRuleOrange: #ffcc80}div.divFwcDock[_ngcontent-%COMP%]{position:absolute;bottom:.2rem;text-align:center;left:50%;transform:translate(-50%);-webkit-transform:translateX(-50%)}div.divFwcDock--button[_ngcontent-%COMP%]{display:inline-block;margin:0 .3rem}div.divFwcDock--button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:1px solid var(--fwcDarkBlue);border-radius:0!important;font-size:1.5rem!important;transition:all .25s}div.divFwcDock--button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{font-size:1.7rem!important}div.divFwcDock--button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span.p-button-icon-left[_ngcontent-%COMP%]{text-shadow:1px 1px rgba(0,0,0,.3)}div.divFwcDock--button[_ngcontent-%COMP%]   .dockIcon[_ngcontent-%COMP%]{font-size:3.5rem;cursor:pointer;transition:all .25s}div.divFwcDock--button[_ngcontent-%COMP%]   .dockIcon[_ngcontent-%COMP%]:before{font-weight:400;color:var(--fwcBlue)}div.divFwcDock--button[_ngcontent-%COMP%]   .dockIcon[_ngcontent-%COMP%]:hover{font-size:4rem!important}div.divFwcDock--button[_ngcontent-%COMP%]   .dockIcon[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:.5rem;width:100%;height:1rem;left:0;background:-webkit-radial-gradient(ellipse at 50% 50%,rgba(0,0,0,.5),rgba(97,97,97,0) 60%);background:radial-gradient(ellipse at 50% 50%,#00000080,#61616100 60%)}'],data:{animation:[z1]}})}}return i})();var W1=(()=>{class i{constructor(e){this.el=e}ngAfterViewInit(){}static{this.\u0275fac=function(t){return new(t||i)(b(ze))}}static{this.\u0275dir=gt({type:i,selectors:[["","appFocusable",""]]})}}return i})();var j5e=()=>({"max-width":"40rem"}),H5e=i=>({"flex-direction":i}),G5e=i=>({noColor:i}),KP=i=>({"background-color":i});function z5e(i,n){if(i&1&&(m(0,"h6",6),O(1,"i",7),D(2),_()),i&2){let e=f();u(2),J(" ",e.dialogData==null?null:e.dialogData.header,"")}}function W5e(i,n){if(i&1){let e=B();m(0,"input",17),P("blur",function(){S(e);let r=f(2).$implicit,o=f(2);return A(o.blurHandler(r))})("keydown.enter",function(r){S(e);let o=f(4);return A(o.checkDialog(r))})("keydown.esc",function(r){S(e);let o=f(4);return A(o.cancelDialog(r))})("keydown.tab",function(r){S(e);let o=f(4);return A(o.focusNext(r))})("keydown.shift.tab",function(r){S(e);let o=f(4);return A(o.focusNext(r))}),_()}if(i&2){let e=f(2),t=e.$implicit,r=e.$index;ae("id","input_"+r),h("type",t.type)("formControlName",t.name)("name",t.name)}}function K5e(i,n){if(i&1&&(m(0,"option",18),D(1),_()),i&2){let e=f(3).$implicit;h("ngValue",void 0),u(),$(e.placeholder)}}function $5e(i,n){if(i&1&&(m(0,"option",18),D(1),_()),i&2){let e=n.$implicit;h("ngValue",e.id),u(),J(" ",e.text," ")}}function q5e(i,n){if(i&1&&(m(0,"select",13),I(1,K5e,2,2,"option",18),jr(2,$5e,2,2,"option",18,Ur),_()),i&2){let e=f(2),t=e.$implicit,r=e.$index;ae("id","select_"+r),h("formControlName",t.name),u(),q(t.placeholder?1:-1),u(),Hr(t.options)}}function Y5e(i,n){if(i&1){let e=B();m(0,"textarea",19),P("keydown.tab",function(r){S(e);let o=f(4);return A(o.focusNext(r))})("keydown.shift.tab",function(r){S(e);let o=f(4);return A(o.focusNext(r))}),_()}if(i&2){let e=f(2),t=e.$implicit,r=e.$index;ae("id","textarea_"+r),h("formControlName",t.name)("name",t.name)}}function J5e(i,n){if(i&1&&(m(0,"div",8)(1,"div",10)(2,"span",11),I(3,W5e,1,4,"input",12)(4,q5e,4,3,"select",13)(5,Y5e,1,3,"textarea",14),m(6,"label",15),O(7,"i",8),D(8),_()()(),m(9,"p",16),D(10),R(11,"translate"),_()()),i&2){let e=f().$implicit,t=f(2);h("ngClass",e.halfSized?"col-6":"col-12"),u(3),q(e.type!=="textarea"&&e.type!=="hidden"&&e.type!=="select"?3:-1),u(),q(e.type==="select"?4:-1),u(),q(e.type==="textarea"?5:-1),u(),h("for",e.name),u(),h("ngClass",e.icon),u(),J(" \xA0 ",e.label," "),u(),h("hidden",t.formModel.get(e.name).valid||t.formModel.get(e.name).untouched),u(),$(k(11,9,"ITEM_PANEL.ERRORS.FIELD_FORMAT"))}}function X5e(i,n){if(i&1){let e=B();m(0,"button",29),P("click",function(){let r=S(e).$implicit,o=f(2).$implicit,s=f(2);return A(s.setColor(o.name,r))}),_()}if(i&2){let e=n.$implicit;h("ngStyle",oe(1,KP,e))}}function Q5e(i,n){if(i&1){let e=B();m(0,"button",31),P("click",function(){let r=S(e).$implicit,o=f(3).$implicit,s=f(2);return A(s.setColor(o.name,r))}),_()}if(i&2){let e=n.$implicit,t=f(5);h("ngStyle",oe(1,KP,e&&t.RulesStylesBg[e]?t.RulesStylesBg[e]:e))}}function Z5e(i,n){if(i&1&&(m(0,"div",23)(1,"label"),D(2),R(3,"translate"),_()(),m(4,"div",23),jr(5,Q5e,1,3,"button",30,Ur),_()),i&2){let e=f(4);u(2),$(k(3,1,"PANELS.INPUT_PANEL.COLORS_MOST_USED")),u(3),Hr(e.mostUsedColors)}}function eVe(i,n){if(i&1){let e=B();m(0,"div",20)(1,"p-colorPicker",21),P("onChange",function(r){S(e);let o=f().$implicit,s=f(2);return A(s.onChangePickerColor(o.name,r))}),_()(),m(2,"div",22)(3,"div",2)(4,"div",23)(5,"label"),D(6),R(7,"translate"),_()(),m(8,"div",23),jr(9,X5e,1,3,"button",24,Ur),_()(),I(11,Z5e,7,3),m(12,"div",23)(13,"div",10)(14,"span",25),O(15,"span",26),_(),m(16,"input",27),P("blur",function(){S(e);let r=f().$implicit,o=f(2);return A(o.blurHandler(r))})("keyup",function(r){S(e);let o=f().$implicit,s=f(2);return A(s.onSetManualColorHandler(o.name,r))}),_(),m(17,"button",28),R(18,"translate"),P("click",function(){S(e);let r=f().$implicit,o=f(2);return A(o.setColor(r.name,null))}),_()(),m(19,"p",16),D(20),R(21,"translate"),_()()()}if(i&2){let e=f(),t=e.$implicit,r=e.$index,o=f(2);u(),h("inline",!0)("formControlName",t.name),u(5),$(k(7,15,"PANELS.INPUT_PANEL.COLORS_STANDARD")),u(3),Hr(o.DefaultPaletteColors),u(2),q(o.mostUsedColors!=null&&o.mostUsedColors.length?11:-1),u(4),h("ngClass",oe(21,G5e,!o.formModel.get(t.name).value||!o.formModel.get(t.name).valid))("ngStyle",oe(23,KP,o.formModel.get(t.name).valid?o.formModel.get(t.name).value:"")),u(),ae("id","input_cp_"+r),h("placeholder",t.placeholder)("formControlName",t.name)("name",t.name),u(),h("pTooltip",k(18,17,"PANELS.INPUT_PANEL.NO_COLOR_TOOLTIP"))("showDelay",500)("disabled",o.formModel.get(t.name).invalid),u(2),h("hidden",o.formModel.get(t.name).valid||o.formModel.get(t.name).pristine),u(),$(k(21,19,"ITEM_PANEL.ERRORS.HEX_COLOR"))}}function tVe(i,n){i&1&&O(0,"div",3)}function iVe(i,n){if(i&1&&O(0,"input",9),i&2){let e=f().$implicit;h("formControlName",e.name)("name",e.name)}}function nVe(i,n){if(i&1&&I(0,J5e,12,11,"div",8)(1,eVe,22,25)(2,tVe,1,0,"div",3)(3,iVe,1,2,"input",9),i&2){let e=n.$implicit;q(e.type!=="hidden"&&e.type!=="button"&&e.type!=="separator"&&e.type!=="colorpicker"?0:-1),u(),q(e.type==="colorpicker"?1:-1),u(),q(e.type==="separator"?2:-1),u(),q(e.type==="hidden"?3:-1)}}function rVe(i,n){if(i&1&&(m(0,"form",4),jr(1,nVe,4,4,null,null,Ur),_()),i&2){let e=f();h("formGroup",e.formModel)("ngStyle",oe(2,H5e,e.dialogData.isClonePanel||e.dialogData.isSSHPanel?"column":"row")),u(),Hr(e.dialogData.formControls)}}function oVe(i,n){if(i&1){let e=B();m(0,"button",36),P("click",function(){S(e);let r=f().$implicit,o=f(2);return A(o.clickButton(r.name))}),_()}if(i&2){let e=f().$implicit;le(e.class),h("icon",e.icon)("label",e.label)("disabled",e.readonly)}}function sVe(i,n){if(i&1&&I(0,oVe,1,5,"button",35),i&2){let e=n.$implicit;q(e.type==="button"?0:-1)}}function aVe(i,n){if(i&1){let e=B();jr(0,sVe,1,1,null,null,Ur),O(2,"span",32),m(3,"button",33),R(4,"translate"),P("click",function(){S(e);let r=f();return A(r.cancelDialog())}),_(),m(5,"button",34),P("click",function(){S(e);let r=f();return A(r.acceptDialog())}),_()}if(i&2){let e=f();Hr(e.dialogData==null?null:e.dialogData.formControls),u(3),ae("label",k(4,2,"GLOBALS.MSG_BUTTONS.CANCEL")),u(2),h("disabled",!(e.formModel!=null&&e.formModel.valid))}}var Okt=(()=>{class i{constructor(e,t,r,o,s,a){this.inputDataService=e,this.cd=t,this.fwcUserService=r,this.fwcCloudService=o,this.utilService=s,this.translate=a,this.displayDialog=!1,this.modal=!0,this.dialogValues=new Q,this.DefaultPaletteColors=fV,this.RulesStylesBg=Mv}ngOnInit(){this.inputDataService.getInputData().subscribe(e=>{this.showDialog(e)})}ngAfterViewInit(){}blurHandler(e){let t=this.formModel.get(e.name);t.pristine&&t.markAsUntouched()}showDialog(e){return N(this,null,function*(){let t=!1;if(this.formModel=new mo({}),this.dialogData=e,e.modal==!1?this.modal=!1:this.modal=!0,this.onAccept=e.onAccept,e.formControls){let r=[],o=!1;e.isClonePanel=!!e.formControls.find(s=>s.label==="Firewall name"||s.label==="Address")||e.header==this.translate.instant("SNAPSHOTS_PANEL.MANAGE.DO_DIALOG.HEADER")||e.header==this.translate.instant("PANELS.DHCP_GROUP_PANEL.FIELDS.NAME"),e.isSSHPanel=!!e.formControls.find(s=>s.label==="SSH user");for(let s of e.formControls)this.formModel.addControl(s.name,new Se({value:s.value,disabled:s.readonly})),r=[],s.required&&r.push($e.required),s.regexp&&r.push($e.pattern(s.regexp)),s.type==="colorpicker"&&(r.push($e.pattern(/^#([A-Fa-f0-9]{6})$/)),o=!0),this.formModel.get(s.name).setValidators(r),s.type=="select"&&(s.options||(s.options=[]),s.options.forEach(a=>{a.default&&this.formModel.get(s.name).setValue(a.id)})),!t&&s.type!="hidden"&&(s.isFirst=!0,t=!0);if(o){this.mostUsedColors=[];try{let s=yield this.utilService.fwcAPICall(this.fwcCloudService.getCloudColors.bind(this.fwcCloudService),this.fwcUserService.getActualFwSelectedCloud());Array.isArray(s.data)&&(this.mostUsedColors=s.data.map(a=>a.color))}catch{}}}this.displayDialog=!0,setTimeout(()=>{if(this.recenterDialog(),this.dialogData&&this.dialogData.formControls)for(let r of this.dialogData.formControls)r.type==="colorpicker"&&r.value&&this.setColor(r.name,r.value)},1)})}recenterDialog(){try{this.cd.destroyed||this.cd.detectChanges(),this.inputDialog&&this.inputDialog.center()}catch{}}onShowDialog(){this.recenterDialog(),setTimeout(()=>{this.firstInputField&&this.firstInputField.el&&this.firstInputField.el.nativeElement.focus()},150)}onHideDialog(){this.dialogData=null,this.formModel=null}acceptDialog(){this.closeDialog(),this.onAccept&&this.onAccept(this.formModel.value)}cancelDialog(e){this.closeDialog(),this.onAccept(null)}closeDialog(){this.displayDialog=!1}checkDialog(e){if(this.formModel.valid)this.acceptDialog();else for(let t in this.formModel.controls)this.formModel.controls[t].markAsDirty()}focusNext(e){if(e){let t=[],r=e.shiftKey?-1:1,o=-1;if(this.focusableInputs.forEach((s,a)=>{s.el.nativeElement.id===e.target.id&&(o=a),t.push(s.el)}),o!==-1){let s=o<t.length-1?o+1:0;r===-1&&(s=o?o-1:t.length-1),t[s].nativeElement.focus()}e.stopPropagation(),e.preventDefault()}}clickButton(e){this.formModel.get(e).setValue(!0),this.acceptDialog()}setColor(e,t){let r=this.formModel.get(e);r&&(r.setValue(t&&Mv[t]?Mv[t]:t),r.markAsPristine(),this.cd.destroyed||this.cd.detectChanges())}onSetManualColorHandler(e,t){if(this.formModel.updateValueAndValidity(),t&&t.preventDefault(),this.formModel.valid){let r=this.formModel.get(e);r&&this.setColor(e,r.value)}else this.setColor(e,null)}onChangePickerColor(e,t){t.originalEvent.preventDefault(),this.onSetManualColorHandler(e)}static{this.\u0275fac=function(t){return new(t||i)(b(Ro),b(Ie),b(pt),b(Ls),b(Et),b(Xe))}}static{this.\u0275cmp=ie({type:i,selectors:[["sts-fwc-input-panel"]],viewQuery:function(t,r){if(t&1&&(de(ni,5),de(On,5),de(W1,5)),t&2){let o;ee(o=te())&&(r.inputDialog=o.first),ee(o=te())&&(r.firstInputField=o.first),ee(o=te())&&(r.focusableInputs=o)}},outputs:{dialogValues:"dialogValues"},features:[Ze([Ls])],decls:9,vars:9,consts:[["styleClass","dlgFwcDialog",3,"visibleChange","onShow","onHide","visible","modal","closable","resizable"],["pTemplate","header"],[1,"grid"],[1,"col-12"],["novalidate","",2,"width","100%","display","flex",3,"formGroup","ngStyle"],["pTemplate","footer"],[1,"dlgFwcDialog-header"],[1,"fa","fa-pencil","fwcOrange"],[3,"ngClass"],["type","hidden",3,"formControlName","name"],[1,"p-inputgroup"],[1,"p-float-label"],["appFocusable","","pInputText","",3,"type","formControlName","name","id"],["appFocusable","",1,"fwcSelect",3,"formControlName","id"],["appFocusable","","pInputTextarea","","rows","3",3,"formControlName","name","id"],[3,"for"],[1,"fwc-error",3,"hidden"],["appFocusable","","pInputText","",3,"blur","keydown.enter","keydown.esc","keydown.tab","keydown.shift.tab","type","formControlName","name","id"],[3,"ngValue"],["appFocusable","","pInputTextarea","","rows","3",3,"keydown.tab","keydown.shift.tab","formControlName","name","id"],[1,"col-6","fwc-centered"],[3,"onChange","inline","formControlName"],[1,"col-6"],[1,"col-12","grid","grid-nogutter","fwcDivPaddedB"],["label"," ","pButton","",1,"p-button-secondary",3,"ngStyle"],[1,"p-inputgroup-addon",2,"position","relative"],[1,"spanColorBlock",3,"ngClass","ngStyle"],["pInputText","","type","text",3,"blur","keyup","placeholder","formControlName","name","id"],["pButton","","type","button","icon","fa fa-trash",1,"p-button-danger",3,"click","pTooltip","showDelay","disabled"],["label"," ","pButton","",1,"p-button-secondary",3,"click","ngStyle"],["pButton","","label"," ",1,"p-button-secondary",3,"ngStyle"],["pButton","","label"," ",1,"p-button-secondary",3,"click","ngStyle"],[1,"spanSep"],["type","button","pButton","","icon","fa fa-ban",1,"p-button-danger",3,"click","label"],["type","button","pButton","","icon","pi pi-check","label","Ok",1,"p-button-info",3,"click","disabled"],["type","button","pButton","",3,"class","icon","label","disabled"],["type","button","pButton","",3,"click","icon","label","disabled"]],template:function(t,r){t&1&&(m(0,"p-dialog",0),Ve("visibleChange",function(s){return Ue(r.displayDialog,s)||(r.displayDialog=s),s}),P("onShow",function(){return r.onShowDialog()})("onHide",function(){return r.onHideDialog()}),I(1,z5e,3,1,"ng-template",1),m(2,"div",2)(3,"div",3)(4,"p"),D(5),_()(),O(6,"div",3),I(7,rVe,3,4,"form",4),_(),I(8,aVe,6,4,"ng-template",5),_()),t&2&&(dt(Ae(8,j5e)),Ne("visible",r.displayDialog),h("modal",r.modal)("closable",!1)("resizable",!0),u(5),J(" ",r.dialogData==null?null:r.dialogData.helpText," "),u(2),q(r.dialogData!=null&&r.dialogData.formControls?7:-1))},dependencies:[Ge,Ee,gr,Xd,Qd,pn,Yl,cn,mr,_r,Or,ni,be,mt,Zn,On,xo,zP,W1,vt],styles:[`.spanColorBlock{position:absolute;top:0;left:0;display:inline-block;height:100%;width:100%}.spanColorBlock.noColor{background:repeating-linear-gradient(-45deg,#eee,#eee 10px,#e5e5e5 10px 20px)}.dlgFwcDialog.p-dialog [class*=grid]{margin-bottom:0!important;margin-top:0!important}.p-dialog-content{color:#333;padding:.671em 1.3rem;font-family:Montserrat,Arial,sans-serif;font-size:.9rem;max-width:30vw}.p-float-label>label{left:.429rem;color:#9b9b9b;transition-duration:.2s}.p-float-label:first-child{margin-bottom:10px}
`],encapsulation:2})}}return i})();var lVe=["panelHint"];function cVe(i,n){if(i&1&&O(0,"img",3),i&2){let e=f();h("src",e.hint.imageURL,Uo)}}function dVe(i,n){i&1&&O(0,"i",4)}var Fkt=(()=>{class i{constructor(e,t){this.appHintsService=e,this.translate=t}ngOnInit(){this.appHintsService.getHintToShow().subscribe(e=>{if(e){let t,r;this.hint=e,e.target&&(t=e.target.nativeElement),e.event?r=e.event:r=document.createEvent("MouseEvent"),this.panelHint.show(r,t)}})}static{this.\u0275fac=function(t){return new(t||i)(b(Bv),b(Xe))}}static{this.\u0275cmp=ie({type:i,selectors:[["sts-fwc-hint"]],viewQuery:function(t,r){if(t&1&&de(lVe,5),t&2){let o;ee(o=te())&&(r.panelHint=o.first)}},decls:14,vars:11,consts:[["panelHint",""],["styleClass","fwcHintPnl"],[1,"hint--image"],[3,"src"],["aria-hidden","true",1,"fa","fa-4x","fa-lightbulb","fwcBlue"],[1,"hint--text"],[3,"innerHTML"],[1,"hint--buttons"],["pButton","","icon","fa fa-check",1,"p-button-primary",3,"click","label"]],template:function(t,r){if(t&1){let o=B();m(0,"p-overlayPanel",1,0)(2,"div",2),I(3,cVe,1,1,"img",3)(4,dVe,1,0,"i",4),_(),m(5,"div",5)(6,"h5"),D(7),R(8,"translate"),_(),O(9,"p",6),R(10,"translate"),_(),m(11,"div",7)(12,"button",8),R(13,"translate"),P("click",function(){S(o);let a=We(1);return A(a.hide())}),_()()()}t&2&&(u(3),q(r.hint!=null&&r.hint.imageURL?3:-1),u(),q(r.hint!=null&&r.hint.imageURL?-1:4),u(3),$(k(8,5,r.hint==null?null:r.hint.caption)),u(2),ae("innerHTML",k(10,7,r.hint==null?null:r.hint.description),Xi),u(3),ae("label",k(13,9,"GLOBALS.MSG_BUTTONS.UNDERSTAND")))},dependencies:[mt,Fp,vt],styles:[`:root{--lightColor: #eee;--darkColor: #222;--inputBackgroundColor: #eee;--inputBorderColor: #cacaca;--inputColor: #222;--surfaceBackgroundColor: white;--fixedWhiteColor: #eee;--fixedDarkColor: #333;--translucidColor: transparent;--menuBackground: url(/assets/img/fwc-fondo-menu.jpg);--mainBackground: url(/assets/img/fwc-fondo-home.jpg);--fwcBlue: #0069a7;--fwcBlueDarkened: #005e96;--fwcDarkBlue: #003351;--fwcDarkBlue2: #014071;--fwcLightBlue: #1779ba;--fwcPaleBlue: #689fe1;--fwcPaleBlue2: #cce2f8;--fwcPaleBlue3: #e6f1fd;--fwcBlueGradient1: #386ea0;--fwcBlueGradient2: #21517e;--fwcLightGreyGradient1: #f6f7f9;--fwcLightGreyGradient2: #ebedf0;--fwcOrange: #eb6400;--fwcPaleOrange: #e67e22;--fwcPaleOrange2: #ffcfa4;--fwcPaleOrange3: #fe7815;--fwcOrangeRed: #e74c3c;--fwcRed: #f00;--fwcRed2: #b40b00;--fwcPaleRed: #f77676;--fwcPaleRed2: #ffe1e1;--fwcTranslucidRed: rgba(255, 0, 0, .15);--fwcDarkGreen: #023008;--fwcGreen: #009900;--fwcLightGreen: #28ff28;--fwcPaleGreen: #c7e6c8;--fwcLime: #baf649;--fwcWhite: #eee;--fwcPaleWhite: #f5f5f5;--fwcPaleWhite2: #f4f4f4;--fwcDark: #222;--fwcLightDark: #1e1e1e;--fwcMidDark: #555;--fwcMidDark2: #333;--fwcPaleDark: #888;--fwcPaleDark2: #383838;--fwcGrey: #cacaca;--fwcGrey2: #cecece;--fwcGrey3: #eee;--fwcGrey4: #e5e5e5;--fwcGrey5: #c8c8c8;--fwcGrey6: #efefef;--fwcGrey7: #dedede;--fwcAccent: #ff4081;--fwcShadow: #bbb;--fwcSelected: #ddd;--fwcSelectedB: #0069a7;--fwcRulePink: #ef9a9a;--fwcRulePurple: #ce93d8;--fwcRuleBlue: #90caf9;--fwcRuleTeal: #80cbc4;--fwcRuleGreen: #a5d6a7;--fwcRuleYellow: #fff59d;--fwcRuleOrange: #ffcc80}.fwcHintPnl.no-fwclouds.p-overlaypanel{margin-top:.625em}.fwcHintPnl.p-overlaypanel{max-width:30rem;margin-top:14.5em;margin-left:1.25em}.fwcHintPnl.p-overlaypanel .hint--image{display:table-cell;vertical-align:top;padding-right:1rem}.fwcHintPnl.p-overlaypanel .hint--text{display:table-cell;vertical-align:top}.fwcHintPnl.p-overlaypanel .hint--text p{color:var(--fwcMidDark)}.fwcHintPnl.p-overlaypanel .hint--buttons{float:right;margin:.5em auto}
`],encapsulation:2})}}return i})();var Zu=(()=>{class i{constructor(e,t,r){this.fwcPolicyService=e,this.fwcUserService=t,this.store=r}goToObjectDependency(e){if((e.rule_id||e.route_id||e.routing_rule_id||e.dhcp_rule_id||e.haproxy_rule_id||e.keepalived_rule_id)&&e.firewall_id&&!e._fwItem){let t=e.rule_type,r=e.rule_id,o=e.obj_id,s=e.obj_type_id,a=[e.rule_position_id],l,c;e.route_id?(t=Mr.ROUTING_TABLE,r=e.route_id,l=e.table_id,c=e.table_name,o=null,s=null,a=[],e.gateway_id&&(o=e.gateway_id,s=e.gateway_type,a.push(Ui.GATEWAY_POSITION)),e.interface_id&&(o=e.interface_id,s=e.interface_type,a.push(Ui.INTERFACE_POSITION)),!e.gateway_id&&!e.interface_id&&(o=s=void 0,a.push(Ui.TO_POSITION))):e.routing_rule_id?(t=Mr.POLICY_ROUTING,r=e.routing_rule_id,e.routing_table_id?a=[is.ROUTING_TABLE_POSITION]:(o=e.ipobj_id,s=e.ipobj_type,a=[is.FROM_POSITION])):e.dhcp_rule_id?(e.dhcp_rule_type===2||e.dhcp_rule_rule_type===2?(t=Si[H.DHCP_FIXED_IP],e.interface_id?(o=e.interface_id,a=[ns.INTERFACE]):(o=e.dhcp_rule_router,a=[ns.IP])):(t=Si[H.DHCP],e.network_id&&(o=e.network_id,a.push(ns.NETWORK)),e.ipObj_id&&(o=e.ipObj_id,a.push(ns.DNS)),e.range_id&&(o=e.range_id,a.push(ns.RANGE)),e.router_id&&(o=e.router_id,a.push(ns.ROUTER))),r=e.dhcp_rule_id):e.haproxy_rule_id?(t=Si[H.HAPROXY],e.frontendIp_id&&(o=e.frontendIp_id,a.push(fa.FRONTEND_IP)),e.frontendPort_id&&(o=e.frontendPort_id,a.push(fa.FRONTEND_PORT)),e.backendIps_id&&(o=e.backendIps_id,a.push(fa.BACKEND_IPS)),e.backendPort_id&&(o=e.backendPort_id,a.push(fa.BACKEND_PORT)),r=e.haproxy_rule_id):e.keepalived_rule_id&&(t=Si[H.KEEPALIVED],e.interface_id&&(o=e.interface_id,a.push(Kc.INTERFACE)),e.keepalived_rule_virtualIps&&(o=e.keepalived_rule_virtualIps,a.push(Kc.VIRTUAL_IPS)),e.keepalived_rule_masterNode&&(o=e.keepalived_rule_masterNode,a.push(Kc.MASTER_NODE)),r=e.keepalived_rule_id);let d={};return d.fwcloud=this.fwcUserService.getActualFwSelectedCloud(),d._fwcPolicyType=t,d._fwcClusterId=e.cluster_id,d._fwcFwId=e.firewall_id,d._fwcFwName=e.cluster_name?e.cluster_name:e.firewall_name,d._fwcObjId=l,e.route_id?d._fwcPolicyName=c:e.dhcp_rule_id?e.dhcp_rule_type===2?d._fwcPolicyName="Fixed IPs":d._fwcPolicyName="DHCP":e.keepalived_rule_id?d._fwcPolicyName="Keepalived":e.haproxy_rule_id&&(d._fwcPolicyName="HAProxy"),d._fwcSelectRuleId=r,d._fwcSelectRulePositionIds=a,d._fwcSelectObjId=o,d._fwcSelectObjType=s,this.fwcPolicyService.setSelectedPolicy(d),!0}else{let t={};if(t._fwcSubObjId=e.obj_id,t._fwcSubObjType=e.obj_type_id,t.fwcloud=e.cloud_id||this.fwcUserService.getActualFwSelectedCloud(),e.group_id)t._fwcObjId=e.group_id,t._fwcObjType=e.group_type;else if(e.interface_id)t._fwcObjId=e.interface_id,t._fwcObjType=e.interface_type_id;else if(e.host_id)t._fwcObjId=e.host_id,t._fwcObjType=e.host_type;else if(e.openvpn)t._fwcObjId=e.id,t._fwcObjType=L.OBJ_VPN_CONFIG_CLI;else if(e.firewall_id&&e.obj_id&&!e.rule_id||e._fwItem)e.cluster_id?(t._fwcObjId=e.cluster_id,t._fwcObjType=L.OBJ_CLUSTER):(t._fwcObjId=e.firewall_id,t._fwcObjType=L.OBJ_FIREWALL),e._fwItem&&(t._fwcSubObjId=null,t._fwcSubObjType=null);else return;return this.store.dispatch(Nr.selectTreeItem({item:t})),!0}}static{this.\u0275fac=function(t){return new(t||i)(ce(Pn),ce(pt),ce(rt))}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac})}}return i})();var uVe=i=>({"p-state-highlight":i});function pVe(i,n){if(i&1){let e=B();m(0,"div",11),P("dblclick",function(r){let o=S(e).$implicit,s=f(3);return A(s.itemDblClickEvent(r,o))}),O(1,"span",12),_()}if(i&2){let e=n.$implicit;h("ngClass",oe(2,uVe,e.visited)),u(),ae("innerHTML",e.label,Xi)}}function hVe(i,n){if(i&1){let e=B();m(0,"p-tree",9),Ve("selectionChange",function(r){S(e);let o=f(2);return Ue(o.selectedRule,r)||(o.selectedRule=r),A(r)}),I(1,pVe,2,4,"ng-template",10),_()}if(i&2){let e=f(2);h("value",e.ruleItemsNodes),Ne("selection",e.selectedRule)}}function fVe(i,n){i&1&&(O(0,"p-message",6),R(1,"translate")),i&2&&ae("text",k(1,1,"WU.NOT_USED_RULE"))}function mVe(i,n){if(i&1){let e=B();m(0,"div",13),P("dblclick",function(r){let o=S(e).$implicit,s=f(3);return A(s.itemDblClickEvent(r,o))}),O(1,"span",12),_()}if(i&2){let e=n.$implicit;u(),ae("innerHTML",e.label,Xi)}}function gVe(i,n){if(i&1){let e=B();m(0,"p-tree",9),Ve("selectionChange",function(r){S(e);let o=f(2);return Ue(o.selectedObject,r)||(o.selectedObject=r),A(r)}),I(1,mVe,2,1,"ng-template",10),_()}if(i&2){let e=f(2);h("value",e.objectItemsNodes),Ne("selection",e.selectedObject)}}function _Ve(i,n){i&1&&(O(0,"p-message",6),R(1,"translate")),i&2&&ae("text",k(1,1,"WU.NOT_USED_OBJECT"))}function CVe(i,n){if(i&1&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"label")(4,"strong"),O(5,"i",3),_(),D(6),R(7,"translate"),R(8,"translate"),m(9,"span",4)(10,"strong"),D(11),_()()()(),I(12,hVe,2,2,"p-tree",5)(13,fVe,2,3,"p-message",6),_(),m(14,"div",7)(15,"div",2)(16,"label")(17,"strong"),O(18,"i",8),_(),D(19),R(20,"translate"),m(21,"span",4)(22,"strong"),D(23),_()()()(),I(24,gVe,2,2,"p-tree",5)(25,_Ve,2,3,"p-message",6),_()()),i&2){let e=f();u(6),Ts("\xA0",k(7,9,"WU.RULES"),"/",k(8,11,"WU.ROUTES"),"\xA0\xA0"),u(5),$(e.getTreeItemsNumber(e.ruleItemsNodes)),u(),q(e.ruleItemsNodes!=null&&e.ruleItemsNodes.length?12:-1),u(),q(e.ruleItemsNodes!=null&&e.ruleItemsNodes.length?-1:13),u(6),J("\xA0",k(20,13,"WU.OBJECTS"),"\xA0\xA0"),u(4),$(e.getTreeItemsNumber(e.objectItemsNodes)),u(),q(e.objectItemsNodes!=null&&e.objectItemsNodes.length?24:-1),u(),q(e.objectItemsNodes!=null&&e.objectItemsNodes.length?-1:25)}}var BG=(()=>{class i{set objectInfo(e){e&&(this._objectInfo=e,this.ruleItemsNodes=this.selectedRule=null,this.objectItemsNodes=this.selectedObject=null,this.parseInfo())}constructor(e,t,r,o,s,a,l,c){this.store=e,this.refService=t,this.fwcPolicyService=r,this.fwcPositionService=o,this.translate=s,this.fwcUserService=a,this.fwcWhereUsedFunctionalityService=l,this.pipeFwcIcon=c,this.ObjectTypes=L,this.contextMenuReference=null,this.selMode=1,this.onHideParent=new Q}ngOnInit(){}ngAfterViewInit(){let e=this;setTimeout(function(){let t=e.refService.getAppRef();e.contextMenuReference=t},1)}parseInfo(){let e,t,r;if(t=this._objectInfo,!!t&&(r=t.restrictions,!!r)){this.ruleItemsNodes=[],this.objectItemsNodes=[];for(let o of Object.keys(r)){let s=r[o];Array.isArray(s)&&s.length&&s[0]&&(s[0].rule_id!=null&&s[0].rule_type!=null||s[0].routing_rule_id!=null||s[0].route_id!=null||s[0].dhcp_rule_id!=null||s[0].keepalived_rule_id!=null||s[0].haproxy_rule_id!=null?this.ruleItemsNodes=this.buildRuleTreeNodes(o,s,this.ruleItemsNodes):(e=this.buildObjectTreeNodes(s,o),this.objectItemsNodes.push(e)))}}}getTreeItemsNumber(e){let t=0,r;if(e)for(r=e.slice(0);r.length;){let o=r.pop();o.children&&o.children.length?r.push(...o.children):t++}return t}itemDblClickEvent(e,t){let r;e.preventDefault(),e.stopPropagation(),this.clearVisitedStatus(),t?(r=t.data,t.visited=!0):e&&(r=e.value),r&&!this.readOnly&&this.fwcWhereUsedFunctionalityService.goToObjectDependency(r)&&this.onHideParent.emit(!0)}clearVisitedStatus(){let e=t=>{t.visited=!1,t.children&&t.children.forEach(e)};this.ruleItemsNodes.forEach(e)}buildRuleTreeNodes(e,t,r=[]){for(let o of t){let s=r.find(c=>!!(c.data&&c.data.firewall_id==o.firewall_id)),a,l;if(o.rule_id?o.rule_position_name?(a="WU.FOUND_IN_RULE",l={policy_name:o.rule_type_name,rule_id:o.rule_id,pos_name:o.rule_position_name}):(a="WU.FOUND_IN_RULE_NO_POS",l={policy_name:o.rule_type_name,rule_id:o.rule_id}):o.route_id?e==="IpobjInRouteAsGateway"?(a="WU.FOUND_IN_ROUTE_GATEWAY",l={route_id:o.route_id,table_name:o.table_name,table_number:o.table_number}):(a="WU.FOUND_IN_ROUTE",l={route_id:o.route_id,table_name:o.table_name,table_number:o.table_number}):o.routing_rule_id?(a="WU.FOUND_IN_ROUTING_RULE",l={routing_rule_id:o.routing_rule_id}):o.dhcp_rule_id&&(o.dhcp_rule_rule_type===2||o.dhcp_rule_type===2)?(a="WU.FOUND_IN_FIXED_DHCP_RULE",l={dhcp_rule_id:o.dhcp_rule_id,pos_name:o.rule_position_name}):o.dhcp_rule_id?(a="WU.FOUND_IN_REGULAR_DHCP_RULE",o.dhcp_rule_range&&(o.ipObj_id==null||o.ipObj_id==null)?o.range_id?(a="WU.FOUND_IN_REGULAR_DHCP_RULE_NO_POS",l={dhcp_rule_id:o.dhcp_rule_id}):l={dhcp_rule_id:o.dhcp_rule_id,pos_name:"Router"}:!o.dhcp_router&&o.ipObj_id!=null&&o.ipObj_id!=null?l={dhcp_rule_id:o.dhcp_rule_id,pos_name:"DNS"}:(a="WU.FOUND_IN_REGULAR_DHCP_RULE_NO_POS",l={dhcp_rule_id:o.dhcp_rule_id})):o.keepalived_rule_id?(a="WU.FOUND_IN_KEEPALIVED_RULE",l={keepalived_rule_id:o.keepalived_rule_id}):o.haproxy_rule_id&&(a="WU.FOUND_IN_HAPROXY_RULE",o.frontendIp_id?l={haproxy_rule_id:o.haproxy_rule_id,pos_name:"Frontend Ip"}:o.frontendPort_id?l={haproxy_rule_id:o.haproxy_rule_id,pos_name:"Frontend Port"}:o.backendIps_id?l={haproxy_rule_id:o.haproxy_rule_id,pos_name:"Backend Ip"}:o.backendPort_id&&(l={haproxy_rule_id:o.haproxy_rule_id,pos_name:"Backend Port"})),s){let c={};s.children||(s.children=[]),s.children.find(p=>p.data.rule_id!==void 0&&p.data.rule_id===o.rule_id&&p.data.rule_position_id!==void 0&&p.data.rule_position_id===o.rule_position_id&&p.data.dhcp_rule_id!==void 0&&p.data.dhcp_rule_id===o.dhcp_rule_id&&p.data.keepalived_rule_id!==void 0&&p.data.keepalived_rule_id===o.keepalived_rule_id&&p.data.haproxy_rule_id!==void 0&&p.data.haproxy_rule_id===o.haproxy_rule_id)||(c.label=this.translate.instant(a,l),c.data=Object.assign({},o),s.children.push(c))}else{let c={},d={},p,g;o.cluster_id!==void 0&&o.cluster_id!==null?(p=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.CLUSTER")+" <strong>"+o.cluster_name+"</strong>",g=L.OBJ_CLUSTER):(p=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.FIREWALL")+" <strong>"+o.firewall_name+"</strong>",g=L.OBJ_FIREWALL),c.label=p,c.icon=this.pipeFwcIcon.transform(g),c.children=[],c.data=Object.assign({},o),c.data._fwItem=!0,c.expanded=!0,d.label=this.translate.instant(a,l),d.data=Object.assign({},o),c.children.push(d),r.push(c)}}return r.length?r:null}buildObjectTreeNodes(e,t){let r,o=[],s;return r={label:"<strong>"+this.translate.instant("ITEM_PANEL.RESTR_KEYS."+t+".1")+"</strong>",icon:"",expanded:!0,children:[]},e.forEach(a=>{let l={};if(a){let c,d,p;a.group_id!=null?(c=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.OBJ_GROUP"),a.group_type==L.OBJ_CONTINENT?d=this.translate.instant("NODE_TYPES."+a.group_name):d=a.group_name,p=this.translate.instant("WU.FOUND_OBJECT",{type_name:c,obj_name:d}),s=this.pipeFwcIcon.transform(L.OBJ_GROUP)):a.cluster_id!=null&&a.openvpn==null?(c=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.CLUSTER"),d=a.cluster_name,p=this.translate.instant("WU.FOUND_OBJECT",{type_name:c,obj_name:d}),s=this.pipeFwcIcon.transform(L.OBJ_CLUSTER)):a.firewall_id!=null&&a.openvpn==null?(c=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.FIREWALL"),d=a.firewall_name,p=this.translate.instant("WU.FOUND_OBJECT",{type_name:c,obj_name:d}),s=this.pipeFwcIcon.transform(L.OBJ_FIREWALL)):a.interface_id!=null?(c=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.OBJ_INTERFACE_FIREWALL"),d=a.interface_name,p=this.translate.instant("WU.FOUND_OBJECT",{type_name:c,obj_name:d}),s=this.pipeFwcIcon.transform(L.OBJ_INTERFACE_FIREWALL)):a.host_id!=null?(c="Host",d=a.host_name,p=this.translate.instant("WU.FOUND_OBJECT",{type_name:c,obj_name:d}),s=this.pipeFwcIcon.transform(L.OBJ_HOST)):a.openvpn!=null&&(a.cluster_id!=null?p=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.CLUSTER")+" <code>"+a.cluster_name+"</code>":p=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.FIREWALL")+" <code>"+a.firewall_name+"</code>",p=this.translate.instant("WU.FOUND_IN_OPENVPN",{cn:a.cn,firewall_data:p}),s=this.pipeFwcIcon.transform(L.OBJ_VPN_CONFIG_CLI)),l.label=p,l.data=Object.assign({},a),o.push(l)}}),r.icon=s,r.children=o,r}static{this.\u0275fac=function(t){return new(t||i)(b(rt),b(Ba),b(Pn),b(Ab),b(Xe),b(pt),b(Zu),b(Rn))}}static{this.\u0275cmp=ie({type:i,selectors:[["sts-fwc-object-wu"]],inputs:{objectInfo:"objectInfo",readOnly:"readOnly"},outputs:{onHideParent:"onHideParent"},features:[Ze([Rn,Ab,Zu])],decls:1,vars:1,consts:[[1,"col-12","grid","grid-nogutter"],[1,"col-6",2,"width","48%","margin-right","10px"],[2,"margin-bottom","5px"],[1,"fwcMenuIcon","fwci-rule","fwcOrange"],[1,"fwcBlueBg","fwcBadge"],["selectionMode","single","styleClass","treeSelector treeWU",3,"value","selection"],["severity","warn",3,"text"],[1,"col-6",2,"width","48%"],[1,"fwcMenuIcon","fwci-ipobjects","fwcOrange"],["selectionMode","single","styleClass","treeSelector treeWU",3,"selectionChange","value","selection"],["pTemplate","default"],[1,"noselect",3,"dblclick","ngClass"],[3,"innerHTML"],[1,"noselect",3,"dblclick"]],template:function(t,r){t&1&&I(0,CVe,26,15,"div",0),t&2&&q(r._objectInfo?0:-1)},dependencies:[Ge,be,ov,$a,vt],styles:[`:root{--lightColor: #eee;--darkColor: #222;--inputBackgroundColor: #eee;--inputBorderColor: #cacaca;--inputColor: #222;--surfaceBackgroundColor: white;--fixedWhiteColor: #eee;--fixedDarkColor: #333;--translucidColor: transparent;--menuBackground: url(/assets/img/fwc-fondo-menu.jpg);--mainBackground: url(/assets/img/fwc-fondo-home.jpg);--fwcBlue: #0069a7;--fwcBlueDarkened: #005e96;--fwcDarkBlue: #003351;--fwcDarkBlue2: #014071;--fwcLightBlue: #1779ba;--fwcPaleBlue: #689fe1;--fwcPaleBlue2: #cce2f8;--fwcPaleBlue3: #e6f1fd;--fwcBlueGradient1: #386ea0;--fwcBlueGradient2: #21517e;--fwcLightGreyGradient1: #f6f7f9;--fwcLightGreyGradient2: #ebedf0;--fwcOrange: #eb6400;--fwcPaleOrange: #e67e22;--fwcPaleOrange2: #ffcfa4;--fwcPaleOrange3: #fe7815;--fwcOrangeRed: #e74c3c;--fwcRed: #f00;--fwcRed2: #b40b00;--fwcPaleRed: #f77676;--fwcPaleRed2: #ffe1e1;--fwcTranslucidRed: rgba(255, 0, 0, .15);--fwcDarkGreen: #023008;--fwcGreen: #009900;--fwcLightGreen: #28ff28;--fwcPaleGreen: #c7e6c8;--fwcLime: #baf649;--fwcWhite: #eee;--fwcPaleWhite: #f5f5f5;--fwcPaleWhite2: #f4f4f4;--fwcDark: #222;--fwcLightDark: #1e1e1e;--fwcMidDark: #555;--fwcMidDark2: #333;--fwcPaleDark: #888;--fwcPaleDark2: #383838;--fwcGrey: #cacaca;--fwcGrey2: #cecece;--fwcGrey3: #eee;--fwcGrey4: #e5e5e5;--fwcGrey5: #c8c8c8;--fwcGrey6: #efefef;--fwcGrey7: #dedede;--fwcAccent: #ff4081;--fwcShadow: #bbb;--fwcSelected: #ddd;--fwcSelectedB: #0069a7;--fwcRulePink: #ef9a9a;--fwcRulePurple: #ce93d8;--fwcRuleBlue: #90caf9;--fwcRuleTeal: #80cbc4;--fwcRuleGreen: #a5d6a7;--fwcRuleYellow: #fff59d;--fwcRuleOrange: #ffcc80}.divWUPanel{min-width:100%}.divWUPanel .col-6{width:100%}.divWUPanel label{text-align:left!important;font-family:arial!important;color:var(--fwcBlue)}.p-tree .p-tree-container .p-treenode .p-treenode-content.p-highlight span{background-color:var(--fwcPaleBlue3)!important;width:fit-content!important}.p-state-highlight{background-color:var(--fwcPaleBlue3)!important;color:var(--fwcDark)!important}
`],encapsulation:2})}}return i})();var IVe=()=>({"max-height":"20em",overflow:"auto",width:"100%"});function vVe(i,n){if(i&1){let e=B();m(0,"div",5),P("dblclick",function(r){let o=S(e).$implicit,s=f(2);return A(s.itemDblClickEvent(r,o))}),O(1,"span",6),_()}if(i&2){let e=n.$implicit;u(),ae("innerHTML",e.label,Xi)}}function bVe(i,n){if(i&1){let e=B();m(0,"p-tree",3),Ve("selectionChange",function(r){S(e);let o=f();return Ue(o.selectedObject,r)||(o.selectedObject=r),A(r)}),I(1,vVe,2,1,"ng-template",4),_()}if(i&2){let e=f();dt(Ae(4,IVe)),h("value",e.dependenciesTree),Ne("selection",e.selectedObject)}}function wVe(i,n){if(i&1){let e=B();m(0,"div",2)(1,"button",7),R(2,"translate"),P("click",function(){S(e);let r=f();return A(r.handleRefreshClick())}),_()()}i&2&&(u(),ae("label",k(2,1,"POLICY_GRID.RELOAD")))}var UG=(()=>{class i{set dependencies(e){e&&(this.dependenciesTree=this.buildDependencyTree(e))}constructor(e,t,r,o,s,a){this.store=e,this.translate=t,this.fwcPolicyService=r,this.fwcUserService=o,this.fwcWhereUsedFunctionalityService=s,this.pipeFwcIcon=a,this.showRefreshButton=!1,this.onHideParent=new Q,this.onRefreshRestrictions=new Q,this.selectedObject=null}ngOnInit(){}buildDependencyTree(e){let t=[],r,o,s;e._fwcRestrictedObject&&(o=e._fwcRestrictedObject._fwcObjId,s=e._fwcRestrictedObject._fwcObjType,delete e._fwcRestrictedObject);for(let a of Object.keys(e)){let l=e[a];Array.isArray(l)?l.length&&l[0]&&(l[0].rule_id!=null&&l[0].rule_type!=null||l[0].routing_rule_id!=null||l[0].route_id!=null||l[0].dhcp_rule_id!=null||l[0].keepalived_rule_id!=null||l[0].haproxy_rule_id!=null?(r=this.buildRuleDependencyTreeNodes(l,a,o,s),t.push(r)):l[0].group_id!=null&&l[0].group_name?(r=this.buildGroupDependencyTreeNodes(l,a,o,s),t.push(r)):l[0].openvpn!=null&&(r=this.buildOpenVPNDependencyTreeNodes(l,a,o,s),t.push(r))):t.push({label:this.translate.instant("ITEM_PANEL.RESTR_KEYS."+a+".0"),icon:"fa fa-ban fwcBlue",children:[]})}return t}itemDblClickEvent(e,t){let r=t.data;r&&!this.readOnly&&this.fwcWhereUsedFunctionalityService.goToObjectDependency(r)&&this.onHideParent.emit(!0)}buildRuleDependencyTreeNodes(e,t,r,o){let s,a=[];s={label:"<strong>"+this.translate.instant("ITEM_PANEL.RESTR_KEYS."+t+".0")+"</strong>",icon:"fwci-rule fwcBlue",expanded:!0,children:[]};for(let l of e){let c=a.find(p=>!!(p.data&&p.data.firewall_id==l.firewall_id)),d={};if(l)if(c)this.setRuleNodeInfo(d,l,r,o),d.data=Object.assign({},l),c.children||(c.children=[]),c.children.push(d);else{let p={},g,C;l.cluster_id!==void 0&&l.cluster_id!==null?(g=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.CLUSTER")+" <code>"+l.cluster_name+"</code>",C=L.OBJ_CLUSTER):(g=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.FIREWALL")+" <code>"+l.firewall_name+"</code>",C=L.OBJ_FIREWALL),d.label=g,d.icon=this.pipeFwcIcon.transform(C),d.children=[],d.data=Object.assign({},l),d.data._fwItem=!0,d.expanded=!0,this.setRuleNodeInfo(p,l,r,o),p.data=Object.assign({},l),d.children.push(p),a.push(d)}}return s.children=a,s}buildGroupDependencyTreeNodes(e,t,r,o){let s,a=[],l,c;return s={label:"<strong>"+this.translate.instant("ITEM_PANEL.RESTR_KEYS."+t+".0")+"</strong>",icon:"fwci-objectgroups fwcBlue",expanded:!0,children:[]},e.forEach(d=>{let p={};l=this.translate.instant("WU.FOUND_IN_GROUP",{group_name:d.group_name}),c=this.pipeFwcIcon.transform(L.OBJ_GROUP),d.obj_type_id&&d.obj_name&&(c=this.pipeFwcIcon.transform(d.obj_type_id),l+=` > <code>${d.obj_name}</code>`),d&&(p.label=l,p.icon=c,p.data=Object.assign({},d),a.push(p))}),s.children=a,s}buildOpenVPNDependencyTreeNodes(e,t,r,o){let s,a=[],l,c;return s={label:"<strong>"+this.translate.instant("ITEM_PANEL.RESTR_KEYS."+t+".0")+"</strong>",icon:"fwci2-openvpn fwcBlue",expanded:!0,children:[]},e.forEach(d=>{let p={};d&&(d.cluster_id!==void 0&&d.cluster_id!==null?l=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.CLUSTER")+" <code>"+d.cluster_name+"</code>":l=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.FIREWALL")+" <code>"+d.firewall_name+"</code>",c=this.pipeFwcIcon.transform(L.OBJ_VPN_CONFIG_CLI),d.obj_type_id&&d.obj_name&&(c=this.pipeFwcIcon.transform(d.obj_type_id),l+=` > <code>${d.obj_name}</code>`),p.label=this.translate.instant("WU.FOUND_IN_OPENVPN",{cn:d.cn,firewall_data:l}),p.icon=c,p.data=Object.assign({},d),a.push(p))}),s.children=a,s}setRuleNodeInfo(e,t,r,o){let s,a,l,c;t.rule_id?t.rule_position_name?(l="WU.FOUND_IN_RULE",c={policy_name:t.rule_type_name,rule_id:t.rule_id,pos_name:t.rule_position_name}):(l="WU.FOUND_IN_RULE_NO_POS",c={policy_name:t.rule_type_name,rule_id:t.rule_id},t.rule_position_name=this.translate.instant("POLICY_GRID.RULES.ACTION")):t.route_id?(l="WU.FOUND_IN_ROUTE",c={route_id:t.route_id,table_name:t.table_name,table_number:t.table_number}):t.routing_rule_id?(l="WU.FOUND_IN_ROUTING_RULE",c={routing_rule_id:t.routing_rule_id}):t.dhcp_rule_id&&t.dhcp_rule_type===2?(l="WU.FOUND_IN_FIXED_DHCP_RULE",c={dhcp_rule_id:t.dhcp_rule_id}):t.dhcp_rule_id?(l="WU.FOUND_IN_REGULAR_DHCP_RULE",t.dhcp_router&&(t.ipObj_id==null||t.ipObj_id==null)?c={dhcp_rule_id:t.dhcp_rule_id,pos_name:"Router"}:!t.dhcp_router&&(t.ipObj_id!=null||t.ipObj_id!=null)?c={dhcp_rule_id:t.dhcp_rule_id,pos_name:"DNS"}:(l="WU.FOUND_IN_REGULAR_DHCP_RULE_NO_POS",c={dhcp_rule_id:t.dhcp_rule_id})):t.keepalived_rule_id?(l="WU.FOUND_IN_KEEPALIVED_RULE",c={keepalived_rule_id:t.keepalived_rule_id}):t.haproxy_rule_id&&(l="WU.FOUND_IN_HAPROXY_RULE",t.frontendIp_id?c={haproxy_rule_id:t.haproxy_rule_id,pos_name:"Frontend Ip"}:t.frontendPort_id?c={haproxy_rule_id:t.haproxy_rule_id,pos_name:"Frontend Port"}:t.backendIps_id?c={haproxy_rule_id:t.haproxy_rule_id,pos_name:"Backend Ip"}:t.backendPort_id&&(c={haproxy_rule_id:t.haproxy_rule_id,pos_name:"Backend Port"})),s=this.translate.instant(l,c),r!==void 0&&o!==void 0&&(r!=t.obj_id||o!=t.obj_type_id)&&t.obj_name&&(s+=` > <code>${t.obj_name}</code>`),a=this.pipeFwcIcon.transform(t.obj_type_id),e.label=s,e.icon=a}handleRefreshClick(){this.onRefreshRestrictions.emit()}static{this.\u0275fac=function(t){return new(t||i)(b(rt),b(Xe),b(Pn),b(pt),b(Zu),b(Rn))}}static{this.\u0275cmp=ie({type:i,selectors:[["sts-fwc-object-restrictions"]],inputs:{dependencies:"dependencies",readOnly:"readOnly",showRefreshButton:"showRefreshButton"},outputs:{onHideParent:"onHideParent",onRefreshRestrictions:"onRefreshRestrictions"},features:[Ze([Rn,Zu])],decls:5,vars:5,consts:[[1,"fwcBlue"],["selectionMode","single","styleClass","treeSelector treeWU",3,"value","selection","style"],[1,"vertTopPad"],["selectionMode","single","styleClass","treeSelector treeWU",3,"selectionChange","value","selection"],["pTemplate","default"],[1,"noselect",3,"dblclick"],[3,"innerHTML"],["type","button","pButton","","icon","fa fa-refresh",1,"p-button-primary",3,"click","label"]],template:function(t,r){t&1&&(m(0,"h5",0),D(1),R(2,"translate"),_(),I(3,bVe,2,5,"p-tree",1)(4,wVe,3,3,"div",2)),t&2&&(u(),$(k(2,3,"ITEM_PANEL.RESTR.RESTRICTIONS")),u(2),q(r.dependenciesTree?3:-1),u(),q(r.showRefreshButton?4:-1))},dependencies:[be,mt,$a,vt]})}}return i})();var AVe=["divDlgContainer"],ei=(()=>{class i{constructor(e,t,r,o,s,a){this.appDialogPanelsService=e,this.appOptionsService=t,this.itemSelectedService=r,this.cd=o,this.store=s,this.router=a,this.displayDialog=!1,this.dialogMinified=!1,this.alive=!0,this.router.events.pipe(kt(()=>this.alive)).subscribe(l=>{l instanceof _s&&(this.hideDialog(),this.dynamicComponentRef&&this.dynamicComponentRef.destroy())}),this.store.pipe(kt(()=>this.alive),zn(ec.selectVisibleDialogsIds)).subscribe(l=>{!this.displayDialog&&l.includes(this.dialogId)&&this.restoreDialog()})}ngOnInit(){}createDialog(e,t,r){if(isNaN(this.dialogId)){this.title=e,this.icon=t,this.dialogUUID=r;let o=this.appDialogPanelsService.createDialog(e,t,r);this.dialogId=o.dialogId,this.store.dispatch(gn.addDialog({dialog:o}))}}minimizeDialog(e){this.displayDialog=!1,this.dialogMinified=!0,this.store.dispatch(gn.minimizeDialog({dialogId:this.dialogId})),e&&this.itemSelectedService.setLastMinifiedDialogId(this.dialogId)}showHelp(){this.appOptionsService.showHelp(this.helpSection)}restoreDialog(){this.displayDialog||this.showDialog()}showDialog(){this.displayDialog=!0,this.dialogMinified=!1,this.store.dispatch(gn.restoreDialog({dialogId:this.dialogId})),this.refreshDialog()}hideDialog(){this.displayDialog=this.dialogMinified=!1,this.store.dispatch(gn.hideDialog({dialogId:this.dialogId})),this.dynamicComponentRef&&this.dynamicComponentRef.destroy()}recenterDialog(){try{this.refreshDialog(),this.dialog&&this.dialog.center()}catch{}}ngOnDestroy(){this.alive=!1,this.store.dispatch(gn.removeDialog({dialogId:this.dialogId}))}preventDrop(e){return e.preventDefault(),!1}refreshDialog(){this.cd.destroyed||this.cd.detectChanges()}setDynamicComponentRef(e){this.dynamicComponentRef=e}addMessageToLog(e,t){this.log&&this.log.addNewText(e,t)}static{this.\u0275fac=function(t){return new(t||i)(b(Mt),b(Bt),b(At),b(Ie),b(rt),b(ct))}}static{this.\u0275cmp=ie({type:i,selectors:[["sts-fwc-basic-panel"]],viewQuery:function(t,r){if(t&1&&(de(ni,5),de(AVe,5)),t&2){let o;ee(o=te())&&(r.dialog=o.first),ee(o=te())&&(r.divDlgContainer=o.first)}},decls:0,vars:0,template:function(t,r){}})}}return i})();var K1=class{constructor(){this.pk=null,this.vector=null,this.passkey=window.crypto.getRandomValues(new Uint8Array(32)),this.generatePublicKey(),this.vector=window.crypto.getRandomValues(new Uint8Array(16))}createRandomString(n){let e="";for(;e.length<n;e+=Math.random().toString(36).substr(2));return e.substr(0,n)}convertStringToArrayBufferView(n){let e;if(n){e=new Uint8Array(n.length);for(let t=0;t<n.length;t++)e[t]=n.charCodeAt(t)}return e}convertArrayBufferViewtoString(n){let e="";if(n)for(let t=0;t<n.byteLength;t++)e+=String.fromCharCode(n[t]);return e}generatePublicKey(){let n;return n=new Promise((e,t)=>{window.crypto.subtle?window.crypto.subtle.digest({name:"SHA-256"},this.passkey).then(r=>{let o={name:"AES-CBC"};window.crypto.subtle.importKey("raw",r,o,!1,["encrypt","decrypt"]).then(s=>{this.pk=s,e(s)},s=>{e(null)})}):(this.pk="CAN't USE CLIENT ENCRYPTION ON NON-HTTPS CONNECTIONS",e(null))}),n}encryptData(n){let e;return e=new Promise((t,r)=>{if(this.vector&&this.pk){let o;window.crypto.subtle?window.crypto.subtle.encrypt({name:"AES-CBC",iv:this.vector},this.pk,this.convertStringToArrayBufferView(n)).then(s=>{o=new Uint8Array(s),t(o)},s=>{t(null)}):t(this.convertStringToArrayBufferView(n))}}),e}decryptData(n){return N(this,null,function*(){let e;return e=new Promise((t,r)=>{if(this.vector&&this.pk){let o;window.crypto.subtle?window.crypto.subtle.decrypt({name:"AES-CBC",iv:this.vector},this.pk,n).then(s=>{o=new Uint8Array(s),t(this.convertArrayBufferViewtoString(o))},s=>{t(null)}):t(this.convertArrayBufferViewtoString(n))}}),e})}};var EVe=()=>({width:"100%","max-height":"20em",overflow:"auto"}),$P=i=>({display:i}),xVe=()=>["cn","realAddress"],TVe=i=>({"font-weight":i});function OVe(i,n){i&1&&(m(0,"div",4)(1,"div"),O(2,"i",16),m(3,"span"),D(4),R(5,"translate"),_()()()),i&2&&(u(4),$(k(5,1,"VPN.STATUS.DATA")))}function DVe(i,n){if(i&1&&(m(0,"div",5),O(1,"sts-fwc-message",17),_()),i&2){let e=f();u(),h("message",e.errorMessage)}}function RVe(i,n){i&1&&(m(0,"div",6)(1,"div"),O(2,"p-progressSpinner"),_()())}function PVe(i,n){if(i&1&&(m(0,"span"),D(1),_()),i&2){let e=f(2);u(),J(" (",e._configObj==null?null:e._configObj.cluster_name,") ")}}function kVe(i,n){if(i&1&&D(0),i&2){let e=f(2);J(" (",e._configObj==null?null:e._configObj.firewall_name,") ")}}function FVe(i,n){if(i&1){let e=B();m(0,"div",18)(1,"h6",19),O(2,"i",20),D(3),R(4,"translate"),m(5,"strong"),D(6),_(),I(7,PVe,2,1,"span")(8,kVe,1,1),_()(),m(9,"div",21)(10,"i",22),P("click",function(){S(e);let r=f();return A(r.onVpnStatusClose())}),_()()}if(i&2){let e=f();u(3),J(" ",k(4,3,"VPN.STATUS.PANEL_TITLE_FULL")," "),u(3),J("'",e._configObj==null?null:e._configObj._fwcObjName,"'"),u(),q(e._configObj!=null&&e._configObj.cluster_id?7:8)}}function LVe(i,n){i&1&&(m(0,"tr")(1,"th",36),D(2),R(3,"translate"),_(),m(4,"th",37),D(5),R(6,"translate"),_(),m(7,"th",37),D(8),R(9,"translate"),_(),m(10,"th",38),D(11),R(12,"translate"),O(13,"p-sortIcon",39),_(),m(14,"th",40),D(15),R(16,"translate"),O(17,"p-sortIcon",41),_(),m(18,"th",42),D(19),R(20,"translate"),O(21,"p-sortIcon",43),_()()),i&2&&(u(2),J(" ",k(3,6,"VPN.STATUS.FIELDS.CN")," "),u(3),J(" ",k(6,8,"VPN.STATUS.FIELDS.VIRTUAL_ADDRESS")," "),u(3),J(" ",k(9,10,"VPN.STATUS.FIELDS.REAL_ADDRESS")," "),u(3),J(" ",k(12,12,"VPN.STATUS.FIELDS.RECEIVED")," "),u(4),J(" ",k(16,14,"VPN.STATUS.FIELDS.SENT")," "),u(4),J(" ",k(20,16,"VPN.STATUS.FIELDS.CONNECTED_SINCE")," "))}function MVe(i,n){if(i&1&&(m(0,"tr",44)(1,"td"),D(2),_(),m(3,"td"),D(4),_(),m(5,"td"),D(6),_(),m(7,"td",45),D(8),R(9,"number"),_(),m(10,"td",45),D(11),R(12,"number"),_(),m(13,"td"),D(14),R(15,"date"),_()()),i&2){let e=n.$implicit;h("pSelectableRow",e),u(2),$(e.cn),u(2),$(e.virtualAddress),u(2),$(e.realAddress),u(2),J(" ",Di(9,7,e.bytesReceived,"1.2-2")," "),u(3),J(" ",Di(12,10,e.bytesSent,"1.2-2")," "),u(3),J(" ",Di(15,13,e.connectedSince,"d/M/y hh:mm")," ")}}function NVe(i,n){if(i&1&&(m(0,"div"),O(1,"sts-fwc-message",17),_()),i&2){let e=f(2);u(),h("message",e.msgNoData)}}function VVe(i,n){if(i&1){let e=B();m(0,"div",7)(1,"p-toolbar",23)(2,"div",24)(3,"span",19),O(4,"i",25),D(5),R(6,"translate"),_()(),m(7,"div",26)(8,"span")(9,"strong"),D(10),R(11,"date"),_()(),O(12,"span",27),m(13,"div",28)(14,"p-splitButton",29),R(15,"translate"),P("onClick",function(){S(e);let r=f();return A(r.onVpnStatusDataRefresh())}),_(),m(16,"button",30),R(17,"translate"),P("click",function(){S(e);let r=We(19),o=f();return o.vpnClientsDataShowFilter=!0,A(r.focus())}),_(),m(18,"input",31,1),R(20,"translate"),Ve("ngModelChange",function(r){S(e);let o=f();return Ue(o.vpnClientsDataFilter,r)||(o.vpnClientsDataFilter=r),A(r)}),P("input",function(){S(e);let r=We(25),o=f();return A(r.filterGlobal(o.vpnClientsDataFilter,"contains"))}),_(),m(21,"button",32),R(22,"translate"),P("click",function(){S(e);let r=We(25),o=f();return o.vpnClientsDataShowFilter=!1,o.vpnClientsDataFilter="",A(r.reset())}),_()()()(),m(23,"div",33)(24,"p-table",34,2),Ve("selectionChange",function(r){S(e);let o=f();return Ue(o.vpnClientSelected,r)||(o.vpnClientSelected=r),A(r)}),P("onRowSelect",function(r){S(e);let o=f();return A(o.onVpnClientSelect(r))})("onRowUnselect",function(r){S(e);let o=f();return A(o.onVpnClientSelect(r))}),I(26,LVe,22,18,"ng-template",11)(27,MVe,16,16,"ng-template",35),_()(),I(28,NVe,2,1,"div"),_()}if(i&2){let e=f();h("ngClass",e.verticalTotalsMode?"lg:col-6":"lg:col-7"),u(5),J(" ",k(6,18,"VPN.STATUS.FIELDS.CLIENTS"),""),u(5),$(Di(11,20,e.vpnStatusUpdated,"d/M/y HH:mm:ss")),u(4),ae("pTooltip",k(15,23,"VPN.STATUS.BUTTONS.UPDATE")),h("model",e.refreshMenuItems),u(2),ae("pTooltip",k(17,25,"VPN.STATUS.BUTTONS.SEARCH")),h("ngStyle",oe(31,$P,e.vpnClientsDataShowFilter?"none":"inline")),u(2),ae("placeholder",k(20,27,"VPN.STATUS.SEARCH")),h("ngStyle",oe(33,$P,e.vpnClientsDataShowFilter?"inline":"none")),Ne("ngModel",e.vpnClientsDataFilter),u(3),ae("pTooltip",k(22,29,"VPN.STATUS.BUTTONS.CLEAR_SEARCH")),h("ngStyle",oe(35,$P,e.vpnClientsDataShowFilter?"inline":"none")),u(3),h("value",e.vpnClientsData)("responsive",!1)("resizableColumns",!0),Ne("selection",e.vpnClientSelected),h("globalFilterFields",Ae(37,xVe)),u(4),q(e.vpnClientsData&&!e.vpnClientsData.length?28:-1)}}function BVe(i,n){i&1&&ue(0)}function UVe(i,n){if(i&1&&I(0,BVe,1,0,"ng-container",48),i&2){f(2);let e=We(9);h("ngTemplateOutlet",e)}}function jVe(i,n){if(i&1&&(m(0,"div",8)(1,"div")(2,"p-toolbar",23)(3,"div",24)(4,"span",19),O(5,"i",46),D(6),R(7,"translate"),_()()()(),m(8,"div"),O(9,"p-chart",47),_(),I(10,UVe,1,1,"ng-container"),_()),i&2){let e=f();h("ngClass",e.verticalTotalsMode?"lg:col-4":"lg:col-5"),u(6),J(" ",k(7,5,"VPN.STATUS.DATA_CONSUMPTION"),""),u(3),h("data",e.vpnClientsChartData)("options",e.vpnClientsChartOptions),u(),q(e.verticalTotalsMode?-1:10)}}function HVe(i,n){i&1&&ue(0)}function GVe(i,n){if(i&1&&(m(0,"div",9),I(1,HVe,1,0,"ng-container",48),_()),i&2){f();let e=We(9);u(),h("ngTemplateOutlet",e)}}function zVe(i,n){if(i&1&&(m(0,"div",50)(1,"div",51)(2,"div",52)(3,"div",53),D(4),_(),m(5,"div",54)(6,"span"),O(7,"i",55),D(8),R(9,"translate"),_()()()(),m(10,"div",51)(11,"div",56)(12,"div",53),D(13),R(14,"number"),_(),m(15,"div",54)(16,"span"),O(17,"i",57),D(18),R(19,"translate"),_()()()(),m(20,"div",51)(21,"div",58)(22,"div",53),D(23),R(24,"number"),_(),m(25,"div",54)(26,"span"),O(27,"i",59),D(28),R(29,"translate"),_()()()()()),i&2){let e=f(2);h("ngClass",e.verticalTotalsMode?"divVpnStatusMain-totals--vertical":"divVpnStatusMain-totals--horizontal"),u(4),J(" ",e.vpnClientsChartDataTotals.clientsConnected," "),u(4),J(" ",k(9,7,"VPN.STATUS.FIELDS.CLIENTS"),""),u(5),J(" ",Di(14,9,e.vpnClientsChartDataTotals.bytesReceived,".0-0")," "),u(5),J(" ",k(19,12,"VPN.STATUS.FIELDS.RECEIVED"),""),u(5),J(" ",Di(24,14,e.vpnClientsChartDataTotals.bytesSent,".0-0")," "),u(5),J(" ",k(29,17,"VPN.STATUS.FIELDS.SENT"),"")}}function WVe(i,n){if(i&1&&(m(0,"div")(1,"p-toolbar",23)(2,"div",24)(3,"span",19),O(4,"i",49),D(5),R(6,"translate"),_()()(),I(7,zVe,30,19,"div",50),_()),i&2){let e=f();u(5),J(" ",k(6,2,"VPN.STATUS.TOTALS"),""),u(2),q(e.vpnClientsChartDataTotals?7:-1)}}function KVe(i,n){i&1&&(m(0,"div",60)(1,"h6",61),O(2,"i",62),D(3),R(4,"translate"),_()()),i&2&&(u(3),J(" ",k(4,1,"VPN.STATUS.NODE_SELECT_DIALOG.TITLE")," "))}function $Ve(i,n){if(i&1){let e=B();m(0,"span",63),P("dblclick",function(){let r=S(e).$implicit,o=f();return A(o.onNodeSelect(r))}),O(1,"i",64),R(2,"fwcIcon"),m(3,"span",65),D(4),_()()}if(i&2){let e=n.$implicit;u(),ra("fwcTreeIcon ",k(2,5,e.data==null?null:e.data.object_type),""),u(2),h("ngStyle",oe(7,TVe,e.selectable?"normal":"bold")),u(),J(" ",e.label," ")}}function qVe(i,n){if(i&1){let e=B();m(0,"button",66),R(1,"translate"),P("click",function(){S(e);let r=f();return A(r.onNodeSelect(r.selectedNode))}),_(),m(2,"button",67),R(3,"translate"),P("click",function(){S(e);let r=f();return A(r.onSelectCancel())}),_()}if(i&2){let e=f();ae("label",k(1,3,"GLOBALS.MSG_BUTTONS.SELECT")),h("disabled",!e.selectedNode),u(2),ae("label",k(3,5,"GLOBALS.MSG_BUTTONS.CANCEL"))}}var YVe=20,jG=(()=>{class i{set configObj(e){e&&(this._configObj=e,this.resetProperties(),this.selectFirewallToShow())}constructor(e,t,r,o,s,a,l,c,d){this.fwcFirewallService=e,this.fwcUserService=t,this.translate=r,this.inputDataService=o,this.utilService=s,this.fwcErrorPipe=a,this.fwcVpnService=l,this.fwcEventService=c,this.confirmationService=d,this.statusLoaded=new Q,this.statusError=new Q,this.alive=!0,this.fwcCrypto=new K1}ngOnInit(){this.vpnClientsChartOptions={title:{display:!0,position:"left",text:this.translate.instant("VPN.STATUS.ALL_CLIENTS")}},this.msgNoData={type:"warning",title:this.translate.instant("VPN.STATUS.NO_DATA.0"),text:this.translate.instant("VPN.STATUS.NO_DATA.1")},this.refreshMenuItems=[{id:"20",label:"20s",command:()=>{this.setRefreshRate(20)}},{id:"40",label:"40s",command:()=>{this.setRefreshRate(40)}},{id:"60",label:"60s",command:()=>{this.setRefreshRate(60)}},{id:"99999",label:this.translate.instant("GLOBALS.MSG_BUTTONS.DISABLE"),command:()=>{this.setRefreshRate(99999)}}],this.setRefreshRate(YVe)}ngOnDestroy(){this.alive=!1,clearInterval(this.refreshTimer)}resetProperties(){this.vpnClientsData=void 0,this.vpnClientSelected=void 0,this.vpnClientsChartData=null,this.vpnClientsDataHistoric=[],this.vpnClientsChartDataTotals=null,this.sshCredentials=null,this.errorMessage=null,clearInterval(this.refreshTimer)}setRefreshRate(e){this.refreshMenuItems.forEach(t=>{t.id==e.toString()?(t.icon="fa fa-check",this.refreshRateSec=e,this.refreshTimer&&(clearInterval(this.refreshTimer),this.refreshTimer=setInterval(()=>{this.onVpnStatusDataRefresh()},this.refreshRateSec*1e3))):t.icon=""})}selectFirewallToShow(){if(this._configObj){let e,t,r;this._configObj.cluster_id!=null?(e=this.fwcFirewallService.getClusterNodes.bind(this.fwcFirewallService),t=this._configObj.cluster_id,r=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.CLUSTER")):this._configObj.firewall_id!=null&&(e=this.fwcFirewallService.getFirewall.bind(this.fwcFirewallService),t=this._configObj.firewall_id,r=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.FIREWALL")),e&&(this.resetProperties(),e(t,this.fwcUserService.getActualFwSelectedCloud()).subscribe(o=>N(this,null,function*(){this.clusterNodes=[],this.selectedNode=null,Array.isArray(o.data)?this.clusterNodes.push(...o.data):this.clusterNodes.push(o.data);let s=this.fwcUserService.getActualFwcUser().privateKey;for(let a=0;a<this.clusterNodes.length;a++){let l=this.clusterNodes[a];try{l.install_user&&(l.install_user=yield this.utilService.openPGPDecrypt(l.install_user,s)),l.install_pass&&(l.install_pass=yield this.utilService.openPGPDecrypt(l.install_pass,s))}catch{}}this.loadingData=!1,this._configObj.cluster_id!=null?(this.clusterTreeNodes=this.buildNodesTree(this.clusterNodes),this.displaySelectDialog=!0):this.askSSHCredentials(t)}),o=>{this.loadingData=!1;let s=this.translate.instant("VPN.STATUS.ERRORS.GETTING_DATA.GEN_DETAILS");o.error&&o.error.msg&&(s=o.error.msg),this.errorMessage={type:"error",title:this.translate.instant("VPN.STATUS.ERRORS.GETTING_DATA.SUMMARY",{objType:r}),text:this.translate.instant("VPN.STATUS.ERRORS.GETTING_DATA.TEXT",{objType:r,msg:s})},this.statusLoaded.emit(!0)}))}}buildNodesTree(e){let t=[],r={label:this._configObj.cluster_name,data:{object_type:L.OBJ_CLUSTER},selectable:!1,expanded:!0,children:[]};return e.forEach(o=>{r.children.push({label:o.name,data:{object_type:L.OBJ_FIREWALL,firewall_id:o.id},selectable:!0})}),t.push(r),t}onNodeSelect(e){!e||!e.selectable||(this.displaySelectDialog=!1,this.askSSHCredentials(e.data.firewall_id))}askSSHCredentials(e,t){if(!this.clusterNodes)return;let r=this.clusterNodes.find(o=>o.id===e);if(r)if(r.install_interface&&r.install_ipobj)if(r.install_communication==="agent")this.onGetSSHData({firewall_id:r.id,communication:r.install_communication});else{let o={header:this.translate.instant("COMPILE.INST_SSH",{name:r.name}),helpText:this.translate.instant("COMPILE.INST_SSH_TEXT"),modal:!1,formControls:[{name:"firewall_id",type:"hidden",value:r.id},{name:"communication",type:"hidden",value:r.install_communication},{name:"interface_name",label:this.translate.instant("COMPILE.FIELDS.INST_IF"),icon:"fwci-interface fwcGreen",type:"text",value:r.interface_name,readonly:!0,halfSized:!0},{name:"ip_name",label:this.translate.instant("COMPILE.FIELDS.INST_IP"),icon:"fwci-address fwcBlue",type:"text",value:r.ip_name+" ("+r.ip+")",readonly:!0,halfSized:!0},{name:"",label:"",type:"separator"},{name:"ssh_user",label:this.translate.instant("CLUSTER.MSG_CLUSTER_EDITION.SSH_USER"),type:"text",required:!0,value:t?t.ssh_user:r.install_user,setFocus:!0},{name:"",label:"",type:"separator"},{name:"ssh_password",label:this.translate.instant("CLUSTER.MSG_CLUSTER_EDITION.SSH_PASS"),type:"password",required:!0,value:t?t.ssh_password:r.install_pass}],onAccept:this.onGetSSHData.bind(this),onCancel:()=>{this.statusError.emit(!0)}};this.inputDataService.setInputData(o)}else this.confirmationService.confirm({header:this.translate.instant("VPN.STATUS.ERRORS.NO_INST_DATA.SUMMARY"),icon:"fa fa-exclamation-circle fwcRed iconBig",rejectVisible:!1,message:this.translate.instant("VPN.STATUS.ERRORS.NO_INST_DATA.TEXT"),acceptLabel:"Ok",accept:()=>{let o=this.translate.instant("VPN.STATUS.ERRORS.NO_INST_DATA.TEXT");this.statusError.emit(!0)}})}onGetSSHData(e){return N(this,null,function*(){if(e){let t,r;if(t={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),openvpn:this._configObj.id_obj,firewall:e.firewall_id},e.communication!=="agent"){e.ssh_encrypted_password?r=yield this.fwcCrypto.decryptData(e.ssh_encrypted_password):r=e.ssh_password;let o=this.fwcUserService.getActualFwcUser().publicKey,s=e.ssh_user,a=r;s&&(s=yield this.utilService.openPGPEncrypt(s,o)),a&&(a=yield this.utilService.openPGPEncrypt(a,o)),t=Pe(re({},t),{sshuser:s,sshpass:a})}this.loadingData=!0,this.fwcVpnService.getConfigStatus(t).subscribe(o=>N(this,null,function*(){let s=this.parseVpnStatus(o.data),a=yield this.fwcCrypto.encryptData(e.ssh_password);this.sshCredentials||(this.sshCredentials={firewall_id:e.firewall_id,ssh_user:e.ssh_user,ssh_encrypted_password:a}),s&&(this.vpnClientsData=s,this.updateVpnChartData(),this.statusLoaded.emit(!0)),this.loadingData=!1,clearInterval(this.refreshTimer),this.refreshTimer=setInterval(()=>{this.onVpnStatusDataRefresh()},this.refreshRateSec*1e3)}),o=>{let s=this.utilService.isCommunicationError(o.error),a=s||this.fwcErrorPipe.transform(o);this.confirmationService.confirm({header:this.translate.instant("VPN.STATUS.ERRORS.CONFIG_GET.SUMMARY"),icon:"fa fa-exclamation-circle fwcRed iconBig",rejectVisible:!1,message:this.translate.instant("VPN.STATUS.ERRORS.CONFIG_GET.TEXT",{error:a}),acceptLabel:"Ok",accept:()=>{if(s&&e.communication==="ssh")return this.askSSHCredentials(e.firewall_id,e);this.statusError.emit(!0)}}),this.loadingData=!1,clearInterval(this.refreshTimer)})}else this.statusError.emit(!0)})}parseVpnStatus(e){if(!e||typeof e!="string")return[];let t=[],r=[],o,s=e.split(`
`),a={clientsConnected:0,bytesReceived:0,bytesSent:0},l,c;for(let d of s)if(!(/Common Name/.exec(d)||/Virtual Address/.exec(d))){if(l=d.split(","),l.map(p=>p.trim()),l.length==2&&/Updated/.exec(l[0])&&(this.vpnStatusUpdated=Date.parse(l[1]),o={timestamp:this.vpnStatusUpdated,clients:[]}),l.length==5){let p=Date.parse(l[4]);c={cn:l[0],realAddress:l[1],bytesReceived:parseInt(l[2]),bytesSent:parseInt(l[3]),connectedSince:p},t.push(c),o||(o={timestamp:Date.parse(Date()),clients:[]}),o.clients.push(c),a.clientsConnected++,a.bytesReceived+=c.bytesReceived,a.bytesSent+=c.bytesSent}else if(l.length===4){let p=l[2],g=l[0],C=t.find(y=>y.realAddress===p);C&&(C.virtualAddress=g)}}return this.vpnClientsChartDataTotals=a,o&&this.vpnClientsDataHistoric.findIndex(d=>d.timestamp==o.timestamp)==-1&&this.vpnClientsDataHistoric.push(o),t}updateVpnChartData(){let e;e={labels:[],datasets:[{label:this.translate.instant("VPN.STATUS.FIELDS.RECEIVED"),data:[],fill:!1,borderColor:"#0069a7"},{label:this.translate.instant("VPN.STATUS.FIELDS.SENT"),data:[],fill:!1,borderColor:"#009900"}]};let t;this.vpnClientsDataHistoric.forEach(r=>{if(e.labels.push(new Date(r.timestamp).toLocaleString()),this.vpnClientSelected?(t=r.clients.filter(o=>o.cn==this.vpnClientSelected.cn),this.vpnClientsChartOptions.title.text=this.vpnClientSelected.cn):(t=r.clients.slice(0),this.vpnClientsChartOptions.title.text=this.translate.instant("VPN.STATUS.ALL_CLIENTS")),t.length){let o=t.reduce((s,a)=>({cn:"",realAddress:"",bytesReceived:s.bytesReceived+a.bytesReceived,bytesSent:s.bytesSent+a.bytesSent,connectedSince:void 0}));e.datasets[0].data.push(o.bytesReceived),e.datasets[1].data.push(o.bytesSent)}}),this.vpnClientsChartData=e}onVpnClientSelect(e){this.updateVpnChartData()}onVpnStatusDataRefresh(){this.onGetSSHData(this.sshCredentials)}onVpnStatusClose(){this.resetProperties()}onSelectHide(e){}onSelectCancel(){this.displaySelectDialog=!1,this.statusError.emit(!0)}static{this.\u0275fac=function(t){return new(t||i)(b(Zt),b(pt),b(Xe),b(Ro),b(Et),b(Wi),b(os),b(Vn),b(si))}}static{this.\u0275cmp=ie({type:i,selectors:[["sts-fwc-vpn-status"]],inputs:{configObj:"configObj",showTitle:"showTitle",verticalTotalsMode:"verticalTotalsMode"},outputs:{statusLoaded:"statusLoaded",statusError:"statusError"},features:[Ze([Zt])],decls:21,vars:19,consts:[["vpnTotals",""],["inputSearch",""],["tabVpnStatusTable",""],[1,"grid","grid","grid-nogutter","divVpnStatusMain"],[1,"col-12","divVpnStatusMain-placeholder"],[1,"col-12"],[1,"col-12","divVpnStatusMain-loader"],[1,"col-12","divVpnStatusMain-table",3,"ngClass"],[1,"col-12","divVpnStatusMain-data",3,"ngClass"],[1,"col-12","lg:col-2"],["styleClass","dlgFwcDialog dlgFwcDialog--small",3,"visibleChange","onHide","visible","modal","resizable","closable"],["pTemplate","header"],[1,"grid"],["selectionMode","single","styleClass","treeSelector",3,"selectionChange","value","selection"],["pTemplate","default"],["pTemplate","footer"],[1,"fa","fa-bar-chart","fa-4x"],[3,"message"],[1,"col-11","divVpnStatusMain-title"],[1,"fwcBlue"],[1,"fa","fa-fw","fa-users","fwcOrange"],[1,"col-1","divVpnStatusMain-close"],[1,"fa","fa-lg","fa-close",3,"click"],["styleClass","tbrHighlighted"],[1,"p-toolbar-group-left"],[1,"fa","fa-fw","fa-desktop","fwcOrange"],[1,"p-toolbar-group-right"],[1,"fwcSepShort"],[1,"divVpnStatusMain-buttons"],["icon","fa fa-refresh","tooltipPosition","bottom","showDelay","700","appendTo","body",3,"onClick","pTooltip","model"],["pButton","","type","button","icon","fa fa-search","tooltipPosition","bottom","showDelay","700",1,"p-button-success",3,"click","pTooltip","ngStyle"],["type","text","pInputText","",3,"ngModelChange","input","placeholder","ngStyle","ngModel"],["pButton","","type","button","icon","fa fa-close","tooltipPosition","bottom","showDelay","700",1,"p-button-warning",3,"click","pTooltip","ngStyle"],[1,"col-12",2,"overflow","auto"],["columnResizeMode","expand","selectionMode","single","styleClass","optionsTable",3,"selectionChange","onRowSelect","onRowUnselect","value","responsive","resizableColumns","selection","globalFilterFields"],["pTemplate","body"],["pSortableColumn","cn","pResizableColumn",""],["pResizableColumn",""],["pSortableColumn","bytesReceived","pResizableColumn",""],["field","bytesReceived"],["pSortableColumn","bytesSent","pResizableColumn",""],["field","bytesSent"],["pSortableColumn","connectedSince","pResizableColumn",""],["field","connectedSince"],[3,"pSelectableRow"],[2,"text-align","right"],[1,"fa","fa-fw","fa-bar-chart","fwcOrange"],["type","line",3,"data","options"],[4,"ngTemplateOutlet"],[1,"fa","fa-fw","fa-calculator","fwcOrange"],[1,"divVpnStatusMain-totals",3,"ngClass"],[1,"divVpnStatusMain-card2"],[1,"divVpnStatusMain-card2-content","fwcOrangeBg"],[1,"card2-value"],[1,"card2-text"],[1,"fa","fw","fa-desktop"],[1,"divVpnStatusMain-card2-content","fwcBlueBg"],[1,"fa","fw","fa-download"],[1,"divVpnStatusMain-card2-content","fwcGreenBg"],[1,"fa","fw","fa-upload"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"fwcMenuIcon","fwci-firewalls","fwcOrange"],[1,"noselect",3,"dblclick"],["aria-hidden","true"],[3,"ngStyle"],["pButton","","icon","pi pi-check",1,"p-button-success",3,"click","disabled","label"],["pButton","","icon","pi pi-times",1,"p-button-primary",3,"click","label"]],template:function(t,r){if(t&1){let o=B();m(0,"div",3),I(1,OVe,6,3,"div",4)(2,DVe,2,1,"div",5)(3,RVe,3,0,"div",6)(4,FVe,11,5)(5,VVe,29,38,"div",7)(6,jVe,11,7,"div",8)(7,GVe,2,1,"div",9),_(),I(8,WVe,8,4,"ng-template",null,0,Pt),m(10,"p-dialog",10),Ve("visibleChange",function(a){return S(o),Ue(r.displaySelectDialog,a)||(r.displaySelectDialog=a),A(a)}),P("onHide",function(a){return S(o),A(r.onSelectHide(a))}),I(11,KVe,5,3,"ng-template",11),m(12,"div",12)(13,"div",5)(14,"p"),D(15),R(16,"translate"),_()(),m(17,"div",5)(18,"p-tree",13),Ve("selectionChange",function(a){return S(o),Ue(r.selectedNode,a)||(r.selectedNode=a),A(a)}),I(19,$Ve,5,9,"ng-template",14),_()()(),I(20,qVe,4,7,"ng-template",15),_()}t&2&&(u(),q(!r.vpnClientsData&&!r.errorMessage?1:-1),u(),q(r.errorMessage?2:-1),u(),q(r.loadingData?3:-1),u(),q(r.vpnClientsData&&r.showTitle?4:-1),u(),q(r.vpnClientsData?5:-1),u(),q(r.vpnClientsData?6:-1),u(),q(r.vpnClientsData&&r.verticalTotalsMode?7:-1),u(3),Ne("visible",r.displaySelectDialog),h("modal",!!r.showTitle)("resizable",!1)("closable",!1),u(5),$(k(16,16,"VPN.STATUS.NODE_SELECT_DIALOG.TEXT")),u(3),dt(Ae(18,EVe)),h("value",r.clusterTreeNodes),Ne("selection",r.selectedNode))},dependencies:[Ge,st,Ee,pn,cn,Gn,ni,be,mt,eo,Zn,$a,On,io,wf,ou,hv,Sf,V1,gG,CG,Nn,nf,Kl,vt,Rn],styles:["[_ngcontent-%COMP%]:root{--lightColor: #eee;--darkColor: #222;--inputBackgroundColor: #eee;--inputBorderColor: #cacaca;--inputColor: #222;--surfaceBackgroundColor: white;--fixedWhiteColor: #eee;--fixedDarkColor: #333;--translucidColor: transparent;--menuBackground: url(/assets/img/fwc-fondo-menu.jpg);--mainBackground: url(/assets/img/fwc-fondo-home.jpg);--fwcBlue: #0069a7;--fwcBlueDarkened: #005e96;--fwcDarkBlue: #003351;--fwcDarkBlue2: #014071;--fwcLightBlue: #1779ba;--fwcPaleBlue: #689fe1;--fwcPaleBlue2: #cce2f8;--fwcPaleBlue3: #e6f1fd;--fwcBlueGradient1: #386ea0;--fwcBlueGradient2: #21517e;--fwcLightGreyGradient1: #f6f7f9;--fwcLightGreyGradient2: #ebedf0;--fwcOrange: #eb6400;--fwcPaleOrange: #e67e22;--fwcPaleOrange2: #ffcfa4;--fwcPaleOrange3: #fe7815;--fwcOrangeRed: #e74c3c;--fwcRed: #f00;--fwcRed2: #b40b00;--fwcPaleRed: #f77676;--fwcPaleRed2: #ffe1e1;--fwcTranslucidRed: rgba(255, 0, 0, .15);--fwcDarkGreen: #023008;--fwcGreen: #009900;--fwcLightGreen: #28ff28;--fwcPaleGreen: #c7e6c8;--fwcLime: #baf649;--fwcWhite: #eee;--fwcPaleWhite: #f5f5f5;--fwcPaleWhite2: #f4f4f4;--fwcDark: #222;--fwcLightDark: #1e1e1e;--fwcMidDark: #555;--fwcMidDark2: #333;--fwcPaleDark: #888;--fwcPaleDark2: #383838;--fwcGrey: #cacaca;--fwcGrey2: #cecece;--fwcGrey3: #eee;--fwcGrey4: #e5e5e5;--fwcGrey5: #c8c8c8;--fwcGrey6: #efefef;--fwcGrey7: #dedede;--fwcAccent: #ff4081;--fwcShadow: #bbb;--fwcSelected: #ddd;--fwcSelectedB: #0069a7;--fwcRulePink: #ef9a9a;--fwcRulePurple: #ce93d8;--fwcRuleBlue: #90caf9;--fwcRuleTeal: #80cbc4;--fwcRuleGreen: #a5d6a7;--fwcRuleYellow: #fff59d;--fwcRuleOrange: #ffcc80}.divVpnStatusMain[_ngcontent-%COMP%]{min-height:8rem;max-height:30rem;overflow:auto}.divVpnStatusMain-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{float:right}.divVpnStatusMain-placeholder[_ngcontent-%COMP%]{text-align:center}.divVpnStatusMain-loader[_ngcontent-%COMP%]{position:absolute;z-index:4000;width:100%;height:100%;top:0;left:0;background:#ffffff80}.divVpnStatusMain-placeholder[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .divVpnStatusMain-loader[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:var(--fwcGrey)}.divVpnStatusMain-placeholder[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .divVpnStatusMain-loader[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{display:block}.divVpnStatusMain-placeholder[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .divVpnStatusMain-loader[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:2rem}.divVpnStatusMain-title[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.divVpnStatusMain-title[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-family:Montserrat,Arial,Helvetica,sans-serif;font-size:.9rem;font-weight:400;margin-bottom:0!important}.divVpnStatusMain-close[_ngcontent-%COMP%]{text-align:right}.divVpnStatusMain-close[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--fwcPaleDark);cursor:pointer}.divVpnStatusMain-close[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{color:var(--fwcDark)}.divVpnStatusMain-table[_ngcontent-%COMP%]{overflow-y:auto}.divVpnStatusMain-table[_ngcontent-%COMP%]   .p-table[_ngcontent-%COMP%]   .p-table-thead[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;top:70px}.divVpnStatusMain-table[_ngcontent-%COMP%]   .p-toolbar-group-left[_ngcontent-%COMP%], .divVpnStatusMain-table[_ngcontent-%COMP%]   .p-toolbar-group-right[_ngcontent-%COMP%]{line-height:2rem}.divVpnStatusMain-buttons[_ngcontent-%COMP%]{display:inline!important}.divVpnStatusMain-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:0!important;margin-left:.5rem}.divVpnStatusMain-buttons[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:6rem!important;height:2rem!important;line-height:2.1rem!important}.divVpnStatusMain-data[_ngcontent-%COMP%]{overflow-y:auto}.divVpnStatusMain-totals[_ngcontent-%COMP%]{overflow-y:auto;display:flex;justify-content:space-between}.divVpnStatusMain-totals--vertical[_ngcontent-%COMP%]{flex-direction:column}.divVpnStatusMain-totals--horizontal[_ngcontent-%COMP%]{flex-direction:row}.divVpnStatusMain-card[_ngcontent-%COMP%]{white-space:nowrap;color:var(--fwcWhite);height:4rem}.divVpnStatusMain-card[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{display:inline-block;height:4rem;text-align:center;line-height:4rem;vertical-align:top;padding:.5rem}.divVpnStatusMain-card[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:last-child{display:inline-block;height:4rem;text-align:left;overflow:hidden}.divVpnStatusMain-card[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:last-child   span[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700}.divVpnStatusMain-card[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:last-child   p[_ngcontent-%COMP%]{color:var(--fwcWhite);margin-top:-.5rem;text-transform:uppercase;text-overflow:ellipsis}.divVpnStatusMain-card.fwcOrangeBg[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{color:var(--fwcPaleOrange2)}.divVpnStatusMain-card.fwcBlueBg[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{color:var(--fwcPaleBlue2)}.divVpnStatusMain-card.fwcGreenBg[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{color:var(--fwcPaleGreen)}.divVpnStatusMain-card2[_ngcontent-%COMP%]{flex:1;margin:.3rem}.divVpnStatusMain-card2-content[_ngcontent-%COMP%]{color:var(--fwcWhite);text-align:center;border-radius:3px;padding-bottom:.4rem}.divVpnStatusMain-card2-content[_ngcontent-%COMP%]   .card2-value[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700}.divVpnStatusMain-card2-content[_ngcontent-%COMP%]   .card2-text[_ngcontent-%COMP%]{text-transform:uppercase}.divVpnStatusMain-card2-content[_ngcontent-%COMP%]   .card2-text[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{cursor:pointer}.divVpnStatusMain-card2-content.fwcOrangeBg[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--fwcPaleOrange2)}.divVpnStatusMain-card2-content.fwcBlueBg[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--fwcPaleBlue2)}.divVpnStatusMain-card2-content.fwcGreenBg[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--fwcPaleGreen)}@media (max-width: 64em){.divVpnStatusMain[_ngcontent-%COMP%]{height:100%}}"]})}}return i})();var ls=class{constructor(n){n&&(this.channel=n.channel,this.id=n.id,this.payload=n.payload||{},this.timestamp=n.timestamp)}getValue(){return{id:this.id,channel:this.channel,payload:this.payload,timestamp:this.timestamp}}};var GG=Ja(ep());function XVe(i,n){i&1&&(m(0,"span",8),O(1,"i",9),m(2,"span"),D(3),R(4,"translate"),_()()),i&2&&(u(3),J(" ",k(4,1,"LOG_PANEL.PROCESSING")," "))}function QVe(i,n){if(i&1&&(m(0,"h6",5)(1,"span",6),O(2,"i",7),D(3),R(4,"translate"),_(),I(5,XVe,5,3,"span",8),_()),i&2){let e=f();u(3),J(" ",k(4,2,"LOG_PANEL.LOGS_HEADER")," "),u(2),q(e.loadingData?5:-1)}}function ZVe(i,n){i&1&&O(0,"br")}function eBe(i,n){if(i&1&&(m(0,"span",11),D(1),R(2,"date"),_()),i&2){let e=f(2).$implicit;u(),J(" [",Di(2,1,e.time,"HH:mm:ss"),"] - ")}}function tBe(i,n){i&1&&(m(0,"span"),D(1," \xA0 "),O(2,"i",13),_())}function iBe(i,n){if(i&1&&(I(0,eBe,3,4,"span",11),m(1,"span"),O(2,"i")(3,"span",12),I(4,tBe,3,0,"span"),_()),i&2){let e=f().$implicit,t=f();q(e.type!==t.LogMessageTypes.MSG_SSH_CMD_OUTPUT?0:-1),u(),le(t.getLogMessageTypeStyles(e.type,e.message).className),u(),le(t.getLogMessageTypeStyles(e.type,e.message).icon),u(),ae("innerHTML",e.message,Xi),u(),q(e.completed?4:-1)}}function nBe(i,n){if(i&1&&I(0,ZVe,1,0,"br")(1,iBe,5,9,"span",10),i&2){let e=n.$implicit,t=f();q(e.type===t.LogMessageTypes.MSG_SEPARATOR?0:1)}}function rBe(i,n){if(i&1){let e=B();m(0,"div",14)(1,"button",15),R(2,"translate"),P("click",function(){S(e);let r=f(2);return A(r.downloadLog())}),_()()}if(i&2){let e=f(2);u(),ae("label",k(2,2,"LOG_PANEL.BTN_DOWNLOAD")),h("disabled",e.loadingData)}}function oBe(i,n){i&1&&I(0,rBe,3,4,"ng-template",4)}var HG="<br />",JP=class{constructor(n){n?(this.messages=n,this.messagesCopy=n.slice(0)):(this.messages=[],this.messagesCopy=[])}addMessage(n){this.messages.push(n),this.messagesCopy.push(n)}resetValue(){this.messages=[],this.messagesCopy=[]}getValue(n){return n===this.messages?this.messagesCopy:this.messages}completeTask(n){let e=this.messages.find(t=>t.task_id&&t.task_id===n);e&&(e.completed=!0),e=this.messagesCopy.find(t=>t.task_id&&t.task_id===n),e&&(e.completed=!0)}};var $1={[ut.MSG_INFO]:{className:"fwcBlue",icon:"fa fa-lg fa-fw fa-info-circle"},[ut.MSG_OK]:{className:"fwcGreen",icon:"fa fa-lg fa-fw fa-check-circle"},[ut.MSG_ERROR]:{className:"fwcRed",icon:"fa fa-lg fa-fw fa-exclamation-circle"},[ut.MSG_SEPARATOR]:{className:"",icon:""},[ut.MSG_WARNING]:{className:"fwcOrange",icon:"fa fa-lg fa-fw fa-info-circle"},[ut.MSG_NOTICE]:{className:"fwcDark",icon:""}},cs=(()=>{class i{constructor(e){this.cd=e,this.height="450px",this.showFooter=!1,this.fwcMessages=[],this.LogMessageTypes=ut,this.isBottomScrolled=!0}ngOnInit(){this.virtualLogMessages=new JP}ngAfterViewInit(){}addNewText(e,t=ut.MSG_NOTICE,r){e&&(e=e.replace(/^<br>/g,""));let o=new ls({payload:{data:{},task_id:void 0,type:t,highlight:r,message:e}});this.addNewMessage(o)}trackById(e,t){return e}addBreakLine(){this.addNewText("",ut.MSG_SEPARATOR)}addNewMessage(e){if(e&&e.payload){let t={time:new Date,type:e.payload.type,task_id:e.payload.task_id,message:e.payload.message,highlight:e.payload.highlight};if(!(t.type===ut.MSG_START||t.type===ut.MSG_HEARTBEAT))if(t.type===ut.MSG_END)this.loadingData=!1;else{if(t.type===ut.MSG_START_TASK)t.subtask=!0;else if(t.type===ut.MSG_END_TASK){this.virtualLogMessages.completeTask(t.task_id),this.fwcMessages=[...this.virtualLogMessages.getValue(this.fwcMessages)],this.cd.detectChanges();return}let r=[t.message];t.message!==null&&t.message!==void 0&&(t.message=t.message.replace(/(\r\n|\n\r|\r|\n)/g,HG),r=t.message.split(HG),r.length>1&&(r[0]===""&&r.shift(),r.length>1&&r[r.length-1]===""&&r.pop())),r.forEach(o=>{let s=Object.assign({},t);t.highlight?s.message=`<strong>${o}</strong>`:s.message=o,this.virtualLogMessages.addMessage(s)}),this.fwcMessages=[...this.virtualLogMessages.getValue(this.fwcMessages)],this.cd.detectChanges(),this.scrollToBottom()}}}addNewTaskMessage(e,t,r){this.addNewMessage(new ls({payload:{data:{},task_id:e,type:ut.MSG_START_TASK,highlight:r,message:t}}))}completeTaskMessage(e){this.addNewMessage(new ls({payload:{data:{},task_id:e,type:ut.MSG_END_TASK}}))}setDataLoad(e){this.loadingData=e,e&&this.scrollToBottom()}startDataLoad(){this.loadingData=!0}stopDataLoad(){this.loadingData=!1,this.cd.markForCheck()}clearMessages(){this.fwcMessages=[],this.virtualLogMessages.resetValue(),this.loadingData=!1}getLogMessageTypeStyles(e,t){let r={icon:$1[e]?$1[e].icon:"",className:$1[e]?$1[e].className:""};return new RegExp(/\(\*\) */).test(t)&&(r.className="fwcRulePurple"),(new RegExp("Error").test(t)||new RegExp("ERROR").test(t)||new RegExp("error").test(t))&&(r.className="fwcRed"),(new RegExp("Plugin enabled").test(t)||new RegExp("Plugin habilitado").test(t)||new RegExp("Plugin disabled").test(t)||new RegExp("Plugin deshabilitado").test(t))&&(r.className="fwcGreen"),r}scrollToBottom(){if(!this.cd.destroyed&&(this.cd.detectChanges(),this.fwcMessages&&this.fwcMessages.length>0)){let e=this.vsLog.getBlockableElement().querySelector(".p-scroller");e&&e.scrollHeight>e.clientHeight&&e.scrollTo({top:e.scrollHeight-e.clientHeight})}}downloadLog(){let e="",t="",r=`
`;if(this.fwcMessages){navigator.appVersion.indexOf("Win")!=-1&&(r=`\r
`),this.fwcMessages.forEach(a=>{if(a.type===ut.MSG_SEPARATOR)e+=r;else{let l="",c="";try{l=`${a.time.getFullYear()}/${a.time.getMonth()+1}/${a.time.getDate()} ${a.time.getHours()}:${a.time.getMinutes()}:${a.time.getSeconds()}`,c=a.message.replace(/(<([^>]+)>)/gi,"")}catch{l="N/A"}e+=`${l} - [${a.type.toUpperCase()}] ${c} ${r}`}});let o=new Blob([e],{type:"text/plain;charset=utf-8"});t=`LOG_${new Date().getTime()}.txt`,(0,GG.saveAs)(o,t)}}static{this.\u0275fac=function(t){return new(t||i)(b(Ie))}}static{this.\u0275cmp=ie({type:i,selectors:[["sts-fwc-log"]],viewQuery:function(t,r){if(t&1&&de(j1,5),t&2){let o;ee(o=te())&&(r.vsLog=o.first)}},inputs:{height:"height",showFooter:"showFooter"},decls:5,vars:5,consts:[["vsLog",""],["styleClass","fwcLog",3,"value","trackBy","scrollHeight","itemSize"],["pTemplate","header"],["pTemplate","item"],["pTemplate","footer"],[1,"fwc-left"],[1,"fwcLog-header"],[1,"fa","fa-lg","fa-list","fwcBlue"],[1,"fwcLog-loading"],[1,"fa","fa-spin","fa-spinner","fwcBlue"],[3,"class"],[1,"fwcLog-date"],[3,"innerHTML"],[1,"fa","fa-lg","fa-check-circle","fwcGreen"],[1,"fwc-right"],["type","button","pButton","","icon","fa fa-download",1,"p-button-secondary",3,"click","disabled","label"]],template:function(t,r){t&1&&(m(0,"p-virtualScroller",1,0),I(2,QVe,6,4,"ng-template",2)(3,nBe,2,1,"ng-template",3)(4,oBe,1,0,null,4),_()),t&2&&(h("value",r.fwcMessages)("trackBy",r.trackById)("scrollHeight",r.height)("itemSize",18),u(4),q(r.showFooter?4:-1))},dependencies:[be,mt,j1,Kl,vt],styles:[`:root{--lightColor: #eee;--darkColor: #222;--inputBackgroundColor: #eee;--inputBorderColor: #cacaca;--inputColor: #222;--surfaceBackgroundColor: white;--fixedWhiteColor: #eee;--fixedDarkColor: #333;--translucidColor: transparent;--menuBackground: url(/assets/img/fwc-fondo-menu.jpg);--mainBackground: url(/assets/img/fwc-fondo-home.jpg);--fwcBlue: #0069a7;--fwcBlueDarkened: #005e96;--fwcDarkBlue: #003351;--fwcDarkBlue2: #014071;--fwcLightBlue: #1779ba;--fwcPaleBlue: #689fe1;--fwcPaleBlue2: #cce2f8;--fwcPaleBlue3: #e6f1fd;--fwcBlueGradient1: #386ea0;--fwcBlueGradient2: #21517e;--fwcLightGreyGradient1: #f6f7f9;--fwcLightGreyGradient2: #ebedf0;--fwcOrange: #eb6400;--fwcPaleOrange: #e67e22;--fwcPaleOrange2: #ffcfa4;--fwcPaleOrange3: #fe7815;--fwcOrangeRed: #e74c3c;--fwcRed: #f00;--fwcRed2: #b40b00;--fwcPaleRed: #f77676;--fwcPaleRed2: #ffe1e1;--fwcTranslucidRed: rgba(255, 0, 0, .15);--fwcDarkGreen: #023008;--fwcGreen: #009900;--fwcLightGreen: #28ff28;--fwcPaleGreen: #c7e6c8;--fwcLime: #baf649;--fwcWhite: #eee;--fwcPaleWhite: #f5f5f5;--fwcPaleWhite2: #f4f4f4;--fwcDark: #222;--fwcLightDark: #1e1e1e;--fwcMidDark: #555;--fwcMidDark2: #333;--fwcPaleDark: #888;--fwcPaleDark2: #383838;--fwcGrey: #cacaca;--fwcGrey2: #cecece;--fwcGrey3: #eee;--fwcGrey4: #e5e5e5;--fwcGrey5: #c8c8c8;--fwcGrey6: #efefef;--fwcGrey7: #dedede;--fwcAccent: #ff4081;--fwcShadow: #bbb;--fwcSelected: #ddd;--fwcSelectedB: #0069a7;--fwcRulePink: #ef9a9a;--fwcRulePurple: #ce93d8;--fwcRuleBlue: #90caf9;--fwcRuleTeal: #80cbc4;--fwcRuleGreen: #a5d6a7;--fwcRuleYellow: #fff59d;--fwcRuleOrange: #ffcc80}div.fwcLog.p-virtualscroller{white-space:nowrap}div.fwcLog.p-virtualscroller .p-virtualscroller-header span.fwcLog-loading{float:right}div.fwcLog.p-virtualscroller .p-virtualscroller-header span.fwcLog-loading span{margin-left:.2rem;font-size:small;color:var(--fwcLightBlue);font-weight:100}div.fwcLog.p-virtualscroller .p-scroller-content{padding:.7em;background-color:var(--fwcGrey6);font-size:.9em;font-family:monospace}div.fwcLog.p-virtualscroller .p-scroller-content li{border:none}div.fwcLog.p-virtualscroller span.fwcLog-date{color:var(--fwcPaleDark)}
`],encapsulation:2,changeDetection:0})}}return i})();var sBe=["pDialog"],aBe=["pfuUpload"],lBe=["fwcLogComponent"],cBe=["fwcMessageComponent"],dBe=()=>({"max-width":"40rem"});function uBe(i,n){if(i&1&&(m(0,"h6",7),O(1,"i",8),D(2),_()),i&2){let e=f();u(2),J(" ",e.options==null?null:e.options.title,"")}}function pBe(i,n){if(i&1&&(m(0,"div"),O(1,"sts-fwc-message",12,2),m(3,"div"),O(4,"sts-fwc-log",13,3),_()()),i&2){let e=f(3);u(),h("message",e.opMessage),u(2),Fn("display",e.options.showLogMessages?"block":"none"),u(),h("height","6rem")}}function hBe(i,n){if(i&1&&(m(0,"div",15),O(1,"i",16)(2,"br"),m(3,"p"),D(4),R(5,"translate"),_()()),i&2){let e=f(4);u(),h("ngClass",e.draggedOver?"fwcGreen":""),u(3),$(k(5,2,"PANELS.FILEUPLOAD_PANEL.UPLOAD_PLACEHOLDER"))}}function fBe(i,n){if(i&1){let e=B();m(0,"div",14),P("dragover",function(r){S(e);let o=f(3);return A(o.onDragOver(r))})("dragleave",function(r){S(e);let o=f(3);return A(o.onDragLeave(r))})("drop",function(r){S(e);let o=f(3);return A(o.onDragDrop(r))}),I(1,hBe,6,4,"div",15),_()}if(i&2){f(2);let e=We(3);u(),q(e.files!=null&&e.files.length?-1:1)}}function mBe(i,n){if(i&1&&I(0,pBe,6,4,"div")(1,fBe,2,1,"div"),i&2){let e=f(2);q(e.loading?0:1)}}function gBe(i,n){if(i&1){let e=B();O(0,"p",9)(1,"br"),m(2,"p-fileUpload",10,1),R(4,"translate"),R(5,"translate"),R(6,"translate"),R(7,"translate"),R(8,"translate"),P("onBeforeUpload",function(){S(e);let r=f();return A(r.onBeforeUpload())})("onUpload",function(r){S(e);let o=f();return A(o.onUploadCompleted(r))})("onError",function(r){S(e);let o=f();return A(o.onUploadError(r))}),I(9,mBe,2,1,"ng-template",11),_()}if(i&2){let e=f();h("innerHTML",e.options.summary,Xi),u(2),h("url",e.options.url)("headers",e.headers)("withCredentials",!0)("accept",e.options.uploadOptions.acceptPattern)("maxFileSize",e.options.uploadOptions.maxFileSize)("chooseLabel",e.options.uploadOptions.buttonChoose)("uploadLabel",e.options.uploadOptions.buttonUpload)("cancelLabel",k(4,13,"GLOBALS.MSG_BUTTONS.CANCEL"))("invalidFileSizeMessageSummary",k(5,15,"PANELS.FILEUPLOAD_PANEL.UPLOAD_ERRORS.FILE_SIZE.SUMMARY"))("invalidFileSizeMessageDetail",k(6,17,"PANELS.FILEUPLOAD_PANEL.UPLOAD_ERRORS.FILE_SIZE.DETAIL"))("invalidFileTypeMessageSummary",k(7,19,"PANELS.FILEUPLOAD_PANEL.UPLOAD_ERRORS.FILE_TYPE.SUMMARY"))("invalidFileTypeMessageDetail",k(8,21,"PANELS.FILEUPLOAD_PANEL.UPLOAD_ERRORS.FILE_TYPE.DETAIL"))}}function _Be(i,n){}function CBe(i,n){if(i&1){let e=B();m(0,"button",17),R(1,"translate"),P("click",function(){S(e);let r=f();return A(r.onCancelHandler())}),_()}if(i&2){let e=f();ae("label",k(1,2,"GLOBALS.MSG_BUTTONS.CLOSE")),h("disabled",e.loading)}}var zG=(()=>{class i extends ei{constructor(e,t,r,o,s,a,l,c,d){super(e,t,r,s,d,c),this.appDialogPanelsService=e,this.appOptionsService=t,this.itemSelectedService=r,this.translate=o,this.cd=s,this.fwcEventService=a,this.utilService=l,this.router=c,this.store=d,this.filesToUpload=[],this.alive=!0}ngOnInit(){this.headers=new wo,this.headers=this.headers.set("X-FWC-TIMEOUT","9999999")}ngOnDestroy(){this.alive=!1}waitWSMessages(){return new Promise((t,r)=>{this.options.channelId?(this.eventsSubscription=this.fwcEventService.getEvent().pipe(kt(()=>this.displayDialog)).subscribe(o=>{let s=new ls(o);s&&s.payload?(s.payload.type===ut.MSG_END?t(s):(s.payload.type,ut.MSG_ERROR,this.resetTimer()),this.options.showLogMessages?this.fwcLogComponent&&this.fwcLogComponent.addNewMessage(s):this.fwcMessageComponent&&this.fwcMessageComponent.changeStatus(s.payload.message,this.translate.instant("ITEM_BATCH.TABLE_HEADER.1")+":")):this.addLogText(this.translate.instant("LOG_PANEL.MALFORMED_MSG"),ut.MSG_ERROR)}),this.utilService.ioListenOnLogEvent(this.options.channelId)):t(null)})}resetTimer(){this.timeoutTimer&&clearTimeout(this.timeoutTimer)}showFUDialog(e){if(e){let t=e.uploadTitle?e.uploadTitle:this.translate.instant("PANELS.FILEUPLOAD_PANEL.INFO.LOADING_HEADER"),r=e.uploadText?e.uploadText:this.translate.instant("PANELS.FILEUPLOAD_PANEL.INFO.LOADING_TEXT");this.opMessage={horizontal:!!e.showLogMessages,type:"loading",title:t,text:r},this.displayDialog=!0,this.options=e,e.channelId&&this.waitWSMessages()}}addLogText(e,t){this.fwcLogComponent&&this.fwcLogComponent.addNewText(e,t)}hideDialog(){this.displayDialog=!1,this.loading=!1,this.filesToUpload=[],this.pfuUpload&&this.pfuUpload.clear(),this.eventsSubscription&&this.eventsSubscription.unsubscribe(),this.dynamicComponentRef&&this.dynamicComponentRef.destroy()}onCancelHandler(){this.hideDialog()}onBeforeUpload(){this.loading=!0,this.pfuUpload.showUploadButton=!1,this.cd.destroyed||this.cd.detectChanges(),this.pDialog.center()}onUploadCompleted(e){this.loading=!1,this.pfuUpload.showUploadButton=!0,this.pDialog.center(),this.options.onUploadCompleted&&this.options.onUploadCompleted(e)}onUploadError(e){this.loading=!1,this.pfuUpload.showUploadButton=!0,this.pDialog.center(),this.options.onUploadError&&this.options.onUploadError(e)}onDragOver(e){e.preventDefault(),e.stopPropagation(),this.draggedOver=!0}onDragLeave(e){e.preventDefault(),e.stopPropagation(),this.draggedOver=!1}onDragDrop(e){e.preventDefault(),this.draggedOver=!1;let t=e.dataTransfer.files;t.length==1&&(this.filesToUpload=[],this.filesToUpload.push(t.item(0)))}static{this.\u0275fac=function(t){return new(t||i)(b(Mt),b(Bt),b(At),b(Xe),b(Ie),b(Vn),b(Et),b(ct),b(rt))}}static{this.\u0275cmp=ie({type:i,selectors:[["sts-fwc-fileupload-panel"]],viewQuery:function(t,r){if(t&1&&(de(sBe,5),de(aBe,5),de(lBe,5),de(cBe,5)),t&2){let o;ee(o=te())&&(r.pDialog=o.first),ee(o=te())&&(r.pfuUpload=o.first),ee(o=te())&&(r.fwcLogComponent=o.first),ee(o=te())&&(r.fwcMessageComponent=o.first)}},features:[ve],decls:6,vars:7,consts:[["pDialog",""],["pfuUpload",""],["fwcMessageComponent",""],["fwcLogComponent",""],["styleClass","dlgFwcDialog",3,"visible","modal","closable"],["pTemplate","header"],["pTemplate","footer"],[1,"dlgFwcDialog-header"],[1,"fwcIcons2","fwci2-moveup","fwcOrange"],[3,"innerHTML"],["name","file","fileLimit","1",3,"onBeforeUpload","onUpload","onError","url","headers","withCredentials","accept","maxFileSize","chooseLabel","uploadLabel","cancelLabel","invalidFileSizeMessageSummary","invalidFileSizeMessageDetail","invalidFileTypeMessageSummary","invalidFileTypeMessageDetail"],["pTemplate","content"],[3,"message"],[3,"height"],[3,"dragover","dragleave","drop"],[1,"divUploadDiv"],[1,"fa","fa-3x","fa-cloud-upload",3,"ngClass"],["type","button","pButton","","icon","fa fa-close",1,"p-button-primary",3,"click","disabled","label"]],template:function(t,r){t&1&&(m(0,"p-dialog",4,0),I(2,uBe,3,1,"ng-template",5)(3,gBe,10,23)(4,_Be,0,0)(5,CBe,2,4,"ng-template",6),_()),t&2&&(dt(Ae(6,dBe)),h("visible",r.displayDialog)("modal",!0)("closable",!1),u(3),q(r.options?3:4))},dependencies:[Ge,ni,be,mt,U1,cs,Nn,vt],styles:["[_ngcontent-%COMP%]:root{--lightColor: #eee;--darkColor: #222;--inputBackgroundColor: #eee;--inputBorderColor: #cacaca;--inputColor: #222;--surfaceBackgroundColor: white;--fixedWhiteColor: #eee;--fixedDarkColor: #333;--translucidColor: transparent;--menuBackground: url(/assets/img/fwc-fondo-menu.jpg);--mainBackground: url(/assets/img/fwc-fondo-home.jpg);--fwcBlue: #0069a7;--fwcBlueDarkened: #005e96;--fwcDarkBlue: #003351;--fwcDarkBlue2: #014071;--fwcLightBlue: #1779ba;--fwcPaleBlue: #689fe1;--fwcPaleBlue2: #cce2f8;--fwcPaleBlue3: #e6f1fd;--fwcBlueGradient1: #386ea0;--fwcBlueGradient2: #21517e;--fwcLightGreyGradient1: #f6f7f9;--fwcLightGreyGradient2: #ebedf0;--fwcOrange: #eb6400;--fwcPaleOrange: #e67e22;--fwcPaleOrange2: #ffcfa4;--fwcPaleOrange3: #fe7815;--fwcOrangeRed: #e74c3c;--fwcRed: #f00;--fwcRed2: #b40b00;--fwcPaleRed: #f77676;--fwcPaleRed2: #ffe1e1;--fwcTranslucidRed: rgba(255, 0, 0, .15);--fwcDarkGreen: #023008;--fwcGreen: #009900;--fwcLightGreen: #28ff28;--fwcPaleGreen: #c7e6c8;--fwcLime: #baf649;--fwcWhite: #eee;--fwcPaleWhite: #f5f5f5;--fwcPaleWhite2: #f4f4f4;--fwcDark: #222;--fwcLightDark: #1e1e1e;--fwcMidDark: #555;--fwcMidDark2: #333;--fwcPaleDark: #888;--fwcPaleDark2: #383838;--fwcGrey: #cacaca;--fwcGrey2: #cecece;--fwcGrey3: #eee;--fwcGrey4: #e5e5e5;--fwcGrey5: #c8c8c8;--fwcGrey6: #efefef;--fwcGrey7: #dedede;--fwcAccent: #ff4081;--fwcShadow: #bbb;--fwcSelected: #ddd;--fwcSelectedB: #0069a7;--fwcRulePink: #ef9a9a;--fwcRulePurple: #ce93d8;--fwcRuleBlue: #90caf9;--fwcRuleTeal: #80cbc4;--fwcRuleGreen: #a5d6a7;--fwcRuleYellow: #fff59d;--fwcRuleOrange: #ffcc80}.divUploadDiv[_ngcontent-%COMP%]{text-align:center}.divUploadDiv[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--fwcMidDark);margin:1rem 0}.divUploadDiv[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--fwcPaleDark)}"]})}}return i})();var q1,yBe=new Uint8Array(16);function QP(){if(!q1&&(q1=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!q1))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return q1(yBe)}var Jo=[];for(let i=0;i<256;++i)Jo.push((i+256).toString(16).slice(1));function WG(i,n=0){return Jo[i[n+0]]+Jo[i[n+1]]+Jo[i[n+2]]+Jo[i[n+3]]+"-"+Jo[i[n+4]]+Jo[i[n+5]]+"-"+Jo[i[n+6]]+Jo[i[n+7]]+"-"+Jo[i[n+8]]+Jo[i[n+9]]+"-"+Jo[i[n+10]]+Jo[i[n+11]]+Jo[i[n+12]]+Jo[i[n+13]]+Jo[i[n+14]]+Jo[i[n+15]]}var IBe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),ZP={randomUUID:IBe};function vBe(i,n,e){if(ZP.randomUUID&&!n&&!i)return ZP.randomUUID();i=i||{};let t=i.random||(i.rng||QP)();if(t[6]=t[6]&15|64,t[8]=t[8]&63|128,n){e=e||0;for(let r=0;r<16;++r)n[e+r]=t[r];return n}return WG(t)}var vo=vBe;var bBe=()=>({width:"30vw"});function wBe(i,n){if(i&1){let e=B();m(0,"div",8)(1,"h6",9),D(2),R(3,"translate"),_()(),m(4,"div",10)(5,"button",11),P("click",function(){S(e);let r=f();return A(r.minimizeDialog())}),_()()}i&2&&(u(2),J(" ",k(3,1,"TFA.HEADER")," "))}function SBe(i,n){if(i&1&&O(0,"img",13),i&2){let e=f(2);h("src",e.dataURL,Uo)}}function ABe(i,n){if(i&1){let e=B();m(0,"div",4)(1,"div",12)(2,"h6"),D(3),R(4,"translate"),_(),I(5,SBe,1,1,"img",13),m(6,"p"),D(7),R(8,"translate"),_(),m(9,"p"),D(10),R(11,"translate"),_(),m(12,"form",14,0),P("ngSubmit",function(){S(e);let r=f();return A(r.confirm())}),m(14,"input",15,1),R(16,"translate"),Ve("ngModelChange",function(r){S(e);let o=f();return Ue(o.authCode,r)||(o.authCode=r),A(r)}),_(),O(17,"br")(18,"button",16),R(19,"translate"),_()()()}if(i&2){let e=We(15),t=f();u(3),$(k(4,9,"TFA.TITLE")),u(2),q(t.dataURL?5:-1),u(2),Ts("",k(8,11,"TFA.SECRET_KEY")," - ",t.tempSecret,""),u(3),$(k(11,13,"TFA.AUTH_TYPE")),u(4),ae("placeholder",k(16,15,"TFA.AUTH_CODE")),Ne("ngModel",t.authCode),u(4),ae("label",k(19,17,"TFA.AUTH_ENABLE")),h("disabled",e==null||e.errors==null?null:e.errors.required)}}function EBe(i,n){if(i&1){let e=B();m(0,"div",4)(1,"div",12)(2,"h6"),D(3),R(4,"translate"),_(),O(5,"img",13),m(6,"p"),D(7),R(8,"translate"),_(),m(9,"p"),D(10),R(11,"translate"),_(),m(12,"button",17),R(13,"translate"),P("click",function(){S(e);let r=f();return A(r.disable())}),_()()()}if(i&2){let e=f();u(3),$(k(4,6,"TFA.CURRENT")),u(2),h("src",e.dataURL,Uo),u(2),Ts("",k(8,8,"TFA.SECRET_KEY")," - ",e.secret||e.tempSecret,""),u(3),$(k(11,10,"TFA.AUTH_TYPE")),u(2),ae("label",k(13,12,"TFA.AUTH_DISABLE"))}}function xBe(i,n){if(i&1){let e=B();m(0,"button",18),R(1,"translate"),P("click",function(){S(e);let r=f();return A(r.close())}),_()}i&2&&ae("label",k(1,1,"GLOBALS.MSG_BUTTONS.CLOSE"))}var KG=(()=>{class i extends ei{constructor(e,t,r,o,s,a,l,c,d,p,g){super(e,t,r,l,c,d),this.appDialogPanelsService=e,this.appOptionsService=t,this.itemSelectedService=r,this.messageService=o,this.fwcUserService=s,this.utilService=a,this.cd=l,this.store=c,this.router=d,this.confirmationService=p,this.translate=g,this.darkMode=!1,this.authCode="",this.authErrorMsg=[],this.closeChange=new Re}ngOnInit(){this.authErrorMsg=[]}ngOnDestroy(){}show(e){this.secret=e.secret,this.tempSecret=e.tempSecret,this.dataURL=e.dataURL,this.tfaURL=this.tfaURL,this.showDialog()}confirm(){this.authErrorMsg=[];let e={authCode:this.authCode,secret:this.secret,tempSecret:this.tempSecret,dataURL:this.dataURL,tfaURL:this.tfaURL};this.utilService.fwcAPICall(this.fwcUserService.verifyAuth.bind(this.fwcUserService),e).then(t=>{t&&t.data?(this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("TFA.HEADER"),detail:this.translate.instant("TFA.SUCCESS")}),this.closeChange.next(!0),this.close()):(this.closeChange.next(!1),this.authErrorMsg.push({severity:"error",summary:this.translate.instant("TFA.ERROR"),detail:this.translate.instant("TFA.AUTH_CODE_INVALID")}))}).catch(t=>{t.status===401?(this.closeChange.next(!1),this.authErrorMsg.push({severity:"error",summary:this.translate.instant("TFA.ERROR"),detail:this.translate.instant("TFA.AUTH_CODE_INVALID")})):(this.closeChange.next(!1),this.authErrorMsg.push({severity:"error",summary:this.translate.instant("TFA.ERROR"),detail:this.translate.instant("USER.MSG_USER_AUTH.AUTH_ERROR")}))})}disable(){this.utilService.fwcAPICall(this.fwcUserService.deleteAuth.bind(this.fwcUserService)).then(()=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("TFA.HEADER"),detail:this.translate.instant("TFA.DISABLED")}),this.closeChange.next(!1),this.close()})}ngAfterViewInit(){}onChange(){return this.closeChange.asObservable()}close(){this.closeChange.next(!1),this.hideDialog()}static{this.\u0275fac=function(t){return new(t||i)(b(Mt),b(Bt),b(At),b(ci),b(pt),b(Et),b(Ie),b(rt),b(ct),b(si),b(Xe))}}static{this.\u0275cmp=ie({type:i,selectors:[["sts-user-2FA-component"]],features:[ve],decls:7,vars:11,consts:[["otpForm","ngForm"],["iauthcode","ngModel"],["styleClass","dlgFwcDialog",3,"visibleChange","onHide","visible","modal","closable","resizable"],["pTemplate","header"],[1,"grid"],[1,"col-12","noVertPad"],[3,"valueChange","value","closable"],["pTemplate","footer"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"divHeaderButtons"],["pButton","","type","button","icon","fa fa-window-minimize",1,"p-button-secondary",3,"click"],[1,"col-12",2,"align-items","center"],["alt","",1,"img-thumbnail",2,"display","block","margin","auto",3,"src"],[1,"form-group",3,"ngSubmit"],["name","authcode","type","text","maxlength","6","id","authcode","autocomplete","off","required","",1,"form-control",3,"ngModelChange","placeholder","ngModel"],["type","Submit","pButton","",1,"p-button-success",3,"disabled","label"],["pButton","",1,"p-button-danger",3,"click","label"],["pButton","","icon","pi pi-times",1,"p-button-primary",3,"click","label"]],template:function(t,r){t&1&&(m(0,"p-dialog",2),Ve("visibleChange",function(s){return Ue(r.displayDialog,s)||(r.displayDialog=s),s}),P("onHide",function(){return r.close()}),I(1,wBe,6,3,"ng-template",3)(2,ABe,20,19,"div",4)(3,EBe,14,14,"div",4),m(4,"div",5)(5,"p-messages",6),Ve("valueChange",function(s){return Ue(r.authErrorMsg,s)||(r.authErrorMsg=s),s}),_()(),I(6,xBe,2,3,"ng-template",7),_()),t&2&&(dt(Ae(10,bBe)),Ne("visible",r.displayDialog),h("modal",!0)("closable",!1)("resizable",!0),u(2),q(r.secret?-1:2),u(),q(r.secret?3:-1),u(2),Ne("value",r.authErrorMsg),h("closable",!1))},dependencies:[gr,pn,cn,mr,Yg,Qr,Gn,oT,ni,be,mt,Jw,vt]})}}return i})();var TBe=()=>({width:"50vw"});function OBe(i,n){i&1&&(m(0,"div",7)(1,"h6",8),O(2,"i",9),D(3),R(4,"translate"),_()()),i&2&&(u(3),J(" ",k(4,1,"GLOBALS.ERRORS.COMMUNICATION")," "))}function DBe(i,n){if(i&1){let e=B();m(0,"button",10),R(1,"translate"),P("click",function(){S(e);let r=f();return A(r.onClose())}),_()}i&2&&ae("label",k(1,1,"GLOBALS.MSG_BUTTONS.CLOSE"))}var ek=15,Ia=(()=>{class i extends ei{constructor(e,t,r,o,s,a,l,c,d){super(r,t,e,l,c,d),this.itemSelectedService=e,this.appOptionsService=t,this.appDialogPanelsService=r,this.utilService=o,this.fwcUserService=s,this.fwcEventService=a,this.cd=l,this.store=c,this.router=d,this.seconds=ek,this.attemps=1,this.socketEventEmitter=new Q}checkConnection(){return new Promise(e=>{if(this.utilService.ioGetSocketConnected())return this.onConnected(),e();this.showDialog(),this.interval=setInterval(()=>{if(this.seconds>0)this.seconds--;else if(this.attemps++,this.seconds=ek*this.attemps,this.utilService.ioGetSocketConnected())return this.onConnected(),e()},1e3)})}onConnected(){this.hideDialog(),this.socketEventEmitter.emit("connected")}WsReconect(){this.seconds=ek*this.attemps,this.utilService.ioGetSocketConnected()&&this.onConnected()}onClose(){this.socketEventEmitter.emit("disconnected"),this.fwcUserService.logoutUser().toPromise().finally(()=>{this.utilService.doAppLogout(),this.router.navigate(["user","login"])})}static{this.\u0275fac=function(t){return new(t||i)(b(At),b(Bt),b(Mt),b(Et),b(pt),b(Vn),b(Ie),b(rt),b(ct))}}static{this.\u0275cmp=ie({type:i,selectors:[["sts-fwc-ws-connection-panel"]],outputs:{socketEventEmitter:"socketEventEmitter"},features:[Ze([ge]),ve],decls:17,vars:19,consts:[["styleClass","dlgFwcDialog","modal","true",3,"visibleChange","visible","closable","resizable"],["pTemplate","header"],[1,"col-12"],[1,"fa","fa-exclamation-circle","fwcRed","iconBig"],[1,"fwc-centered"],["pButton","",1,"p-button-success",3,"click","label"],["pTemplate","footer"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"fwcOrange","fa-wifi-slash"],["type","button","pButton","","icon","fa fa-times",1,"p-button-primary",3,"click","label"]],template:function(t,r){t&1&&(m(0,"p-dialog",0),Ve("visibleChange",function(s){return Ue(r.displayDialog,s)||(r.displayDialog=s),s}),I(1,OBe,5,3,"ng-template",1),m(2,"div",2)(3,"p"),O(4,"i",3),D(5),R(6,"translate"),_()(),m(7,"div",4)(8,"p"),D(9),R(10,"translate"),R(11,"translate"),_()(),D(12," \xA0 "),m(13,"div",4)(14,"button",5),R(15,"translate"),P("click",function(){return r.WsReconect()}),_()(),I(16,DBe,2,3,"ng-template",6),_()),t&2&&(dt(Ae(18,TBe)),Ne("visible",r.displayDialog),h("closable",!1)("resizable",!0),u(5),J("\xA0\xA0",k(6,10,"WEBSOCKET_ERROR.DESCRIPTION"),""),u(4),ef("",k(10,12,"WEBSOCKET_ERROR.TRY_AGAIN")," ",r.seconds," ",k(11,14,"WEBSOCKET_ERROR.SECONDS"),""),u(5),ae("label",k(15,16,"WEBSOCKET_ERROR.TRY_NOW")))},dependencies:[ni,be,mt,vt],encapsulation:2})}}return i})();var Y1=(()=>{class i{transform(e,t="asc",r=""){return!e||!t||e.length<=1?e:!r||r===""?t==="asc"?e.sort():e.sort().reverse():z2(e,[r],[t])}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275pipe=Jn({name:"fwcSortBy",type:i,pure:!0})}}return i})();var RBe=["inputCustomerId"],PBe=["inputUserName"],kBe=["inputResetPass"],FBe=["dlgConfigDialog"],LBe=["ddCustomers"],MBe=()=>({width:"3.5rem",height:"3.5rem",marginBottom:"1rem"}),Ic=i=>({visibility:i}),tk=()=>({width:"1.7rem",height:"1.7rem"}),NBe=()=>({width:"auto"});function VBe(i,n){if(i&1){let e=B();m(0,"button",45),P("click",function(){S(e);let r=f(2);return A(r.showHelp())}),_()}if(i&2){let e=f(2);h("disabled",e.loadingData)}}function BBe(i,n){if(i&1&&(m(0,"div",40)(1,"h6",41),O(2,"i",42),D(3),R(4,"translate"),_()(),m(5,"div",43),I(6,VBe,1,1,"button",44),_()),i&2){let e=f();u(3),J(" ",k(4,2,"CONFIG_PANEL.HEADER")," "),u(3),q(e.helpSection?6:-1)}}function UBe(i,n){if(i&1){let e=B();m(0,"button",69),R(1,"translate"),P("click",function(){S(e);let r=f(2);return A(r.onDeleteCustomer())}),_()}if(i&2){let e=f(2);ae("label",k(1,2,"CONFIG_PANEL.CUSTOMER.BUTTONS.DELETE")),h("disabled",e.loadingData)}}function jBe(i,n){if(i&1){let e=B();O(0,"span",67),m(1,"button",70),R(2,"translate"),P("click",function(){S(e);let r=f(2);return A(r.onCancelCustomerEdit())}),_()}if(i&2){let e=f(2);u(),ae("label",k(2,2,"GLOBALS.MSG_BUTTONS.CANCEL")),h("disabled",e.loadingData)}}function HBe(i,n){if(i&1){let e=B();m(0,"form",46),P("keyup.enter",function(r){S(e);let o=f();return A(o.checkCustomerForm(r))})("keyup.esc",function(){S(e);let r=f();return A(r.onCancelCustomerEdit())}),m(1,"fieldset",47)(2,"div",9)(3,"div",48)(4,"h5",14),D(5),R(6,"translate"),_()(),m(7,"div",49)(8,"div",28)(9,"label",50),D(10),R(11,"translate"),_(),O(12,"input",51,2),_(),m(14,"p",52),D(15),R(16,"translate"),_()(),m(17,"div",53)(18,"div",28)(19,"label",54),D(20),R(21,"translate"),_(),O(22,"input",55),_(),m(23,"p",52),D(24),R(25,"translate"),_()(),m(26,"div",56)(27,"div",28)(28,"label",57),D(29),R(30,"translate"),_(),O(31,"input",58),_(),m(32,"p",52),D(33),R(34,"translate"),_()(),m(35,"div",56)(36,"div",28)(37,"label",59),D(38),R(39,"translate"),_(),O(40,"input",60),_(),m(41,"p",52),D(42),R(43,"translate"),_()(),m(44,"div",49)(45,"div",28)(46,"label",61),D(47),R(48,"translate"),_(),O(49,"input",62),_(),O(50,"p"),_(),m(51,"div",53)(52,"div",28)(53,"label",63),D(54),R(55,"translate"),_(),O(56,"textarea",64),_()(),m(57,"div",10)(58,"div",65),O(59,"p-progressSpinner"),_(),m(60,"button",66),R(61,"translate"),P("click",function(){S(e);let r=f();return A(r.onSaveCustomer())}),_(),O(62,"span",67),I(63,UBe,2,4,"button",68)(64,jBe,3,4),_()()()()}if(i&2){let e=f();h("formGroup",e.formModelCustomer),u(),h("disabled",e.loadingData),u(4),J(" ",k(6,27,"CONFIG_PANEL.CUSTOMER.DATA")," "),u(5),$(k(11,29,"CONFIG_PANEL.CUSTOMER.FIELDS.ID")),u(2),V("readonly",e.selectedCustomer),u(2),h("ngStyle",oe(51,Ic,e.formModelCustomer.get("id").valid||e.formModelCustomer.get("id").pristine?"hidden":"visible")),u(),J(" ",k(16,31,"CONFIG_PANEL.CUSTOMER.ERRORS.FIELD_INVALID_ID")," "),u(5),$(k(21,33,"CONFIG_PANEL.CUSTOMER.FIELDS.NAME")),u(3),h("ngStyle",oe(53,Ic,e.formModelCustomer.get("name").valid||e.formModelCustomer.get("name").pristine?"hidden":"visible")),u(),J(" ",k(25,35,"CONFIG_PANEL.CUSTOMER.ERRORS.FIELD_INVALID_NAME")," "),u(5),$(k(30,37,"CONFIG_PANEL.CUSTOMER.FIELDS.EMAIL")),u(3),h("ngStyle",oe(55,Ic,e.formModelCustomer.get("email").valid||e.formModelCustomer.get("email").pristine?"hidden":"visible")),u(),J(" ",k(34,39,"CONFIG_PANEL.CUSTOMER.ERRORS.FIELD_INVALID_EMAIL")," "),u(5),$(k(39,41,"CONFIG_PANEL.CUSTOMER.FIELDS.WEB")),u(3),h("ngStyle",oe(57,Ic,e.formModelCustomer.get("web").valid||e.formModelCustomer.get("web").pristine?"hidden":"visible")),u(),J(" ",k(43,43,"CONFIG_PANEL.CUSTOMER.ERRORS.FIELD_INVALID_WEB")," "),u(5),$(k(48,45,"CONFIG_PANEL.CUSTOMER.FIELDS.TEL")),u(7),$(k(55,47,"CONFIG_PANEL.CUSTOMER.FIELDS.ADDRESS")),u(2),h("rows",3)("cols",30),u(2),h("ngStyle",oe(59,Ic,e.loadingData?"visible":"hidden")),u(),dt(Ae(61,tk)),u(),ae("label",k(61,49,"CONFIG_PANEL.CUSTOMER.BUTTONS.SAVE")),h("disabled",e.formModelCustomer.pristine||!e.formModelCustomer.valid||e.loadingData),u(3),q(e.selectedCustomer?63:-1),u(),q(e.formModelCustomer!=null&&e.formModelCustomer.dirty||!e.selectedCustomer?64:-1)}}function GBe(i,n){if(i&1&&(O(0,"input",77),R(1,"translate"),R(2,"translate"),R(3,"translate"),R(4,"translate")),i&2){let e=f(2);h("showPassword",e.displayUserPassword)("promptLabel",k(1,5,"GLOBALS.MSG_PASSWORD.PASS"))("weakLabel",k(2,7,"GLOBALS.MSG_PASSWORD.WEAK"))("mediumLabel",k(3,9,"GLOBALS.MSG_PASSWORD.NORMAL"))("strongLabel",k(4,11,"GLOBALS.MSG_PASSWORD.SAFE"))}}function zBe(i,n){if(i&1){let e=B();m(0,"button",80),P("mousedown",function(){S(e);let r=f(2);return A(r.displayUserPassword=!0)})("mouseup",function(){S(e);let r=f(2);return A(r.displayUserPassword=!1)})("mouseout",function(){S(e);let r=f(2);return A(r.displayUserPassword=!1)}),_()}if(i&2){let e=f(2);h("disabled",e.loadingData)}}function WBe(i,n){if(i&1){let e=B();m(0,"button",81),R(1,"translate"),P("click",function(){S(e);let r=f(2);return A(r.allowPasswordReset())}),_()}if(i&2){let e=f(2);ae("label",k(1,2,"CONFIG_PANEL.USER.BUTTONS.RESET")),h("disabled",e.loadingData)}}function KBe(i,n){if(i&1&&(pe(0),m(1,"div",88),O(2,"img",89),m(3,"span"),D(4),_()(),he()),i&2){let e=n.$implicit;u(4),$(e.name)}}function $Be(i,n){if(i&1&&(pe(0),I(1,KBe,5,1,"ng-container",87),he()),i&2){let e=f().$implicit,t=f(3);u(),h("ngForOf",e)("ngForTrackBy",t.trackByFn)}}function qBe(i,n){i&1&&(m(0,"label",90)(1,"span"),D(2),R(3,"translate"),_()()),i&2&&(u(2),$(k(3,1,"CONFIG_PANEL.USER.CHOOSE_CLOUDS")))}function YBe(i,n){if(i&1&&I(0,$Be,2,2,"ng-container",86)(1,qBe,4,3,"ng-template",null,4,Pt),i&2){let e=n.$implicit,t=We(2);h("ngIf",(e==null?null:e.length)>0)("ngIfElse",t)}}function JBe(i,n){if(i&1&&(O(0,"img",91),m(1,"div",92),D(2),_()),i&2){let e=n.$implicit;u(2),J(" ",e.name," ")}}function XBe(i,n){if(i&1){let e=B();m(0,"div",10)(1,"div",28)(2,"label",82),D(3),R(4,"translate"),_(),m(5,"p-multiSelect",83),R(6,"translate"),Ve("ngModelChange",function(r){S(e);let o=f(2);return Ue(o.selectedFwclouds,r)||(o.selectedFwclouds=r),A(r)}),P("onChange",function(){S(e);let r=f(2);return A(r.selectedFwcloudsChanged=!0)}),I(7,YBe,3,2,"ng-template",84)(8,JBe,3,1,"ng-template",85),_()()()}if(i&2){let e=f(2);u(3),$(k(4,6,"CONFIG_PANEL.USER.FIELDS.FWCLOUDS")),u(2),dt(Ae(10,NBe)),ae("defaultLabel",k(6,8,"CONFIG_PANEL.USER.CHOOSE_CLOUDS")),h("options",e.fwclouds),Ne("ngModel",e.selectedFwclouds)}}function QBe(i,n){if(i&1){let e=B();m(0,"button",69),R(1,"translate"),P("click",function(){S(e);let r=f(2);return A(r.onDeleteUser())}),_()}if(i&2){let e=f(2);ae("label",k(1,2,"CONFIG_PANEL.USER.BUTTONS.DELETE")),h("disabled",e.loadingData)}}function ZBe(i,n){if(i&1){let e=B();O(0,"span",67),m(1,"button",70),R(2,"translate"),P("click",function(){S(e);let r=f(2);return A(r.onCancelUserEdit())}),_()}if(i&2){let e=f(2);u(),ae("label",k(2,2,"GLOBALS.MSG_BUTTONS.CANCEL")),h("disabled",e.loadingData)}}function e6e(i,n){if(i&1){let e=B();m(0,"form",46),P("keyup.enter",function(r){S(e);let o=f();return A(o.checkUserForm(r))})("keyup.esc",function(){S(e);let r=f();return A(r.onCancelUserEdit())}),m(1,"fieldset",47)(2,"div",9)(3,"div",48)(4,"h5",14),D(5),R(6,"translate"),_()(),m(7,"div",56)(8,"div",28)(9,"label",54),D(10),R(11,"translate"),_(),O(12,"input",55,3),_(),m(14,"p",52),D(15),R(16,"translate"),_()(),m(17,"div",71)(18,"div",28)(19,"label"),D(20),R(21,"translate"),_()()(),m(22,"div",21),O(23,"p-dropdown",72),_(),m(24,"div",56)(25,"div",28)(26,"label",73),D(27),R(28,"translate"),_(),O(29,"input",74),_(),m(30,"p",52),D(31),R(32,"translate"),_()(),m(33,"div",56)(34,"div",75)(35,"label",76),D(36),R(37,"translate"),_(),I(38,GBe,5,13,"input",77)(39,zBe,1,1,"button",78)(40,WBe,2,4,"button",79),_()()()()(),I(41,XBe,9,11,"div",10),m(42,"div",10)(43,"div",65),O(44,"p-progressSpinner"),_(),m(45,"button",66),R(46,"translate"),P("click",function(){S(e);let r=f();return A(r.onSaveUser())}),_(),O(47,"span",67),I(48,QBe,2,4,"button",68)(49,ZBe,3,4),_()}if(i&2){let e=f();h("formGroup",e.formModelUser),u(),h("disabled",e.loadingData),u(4),J(" ",k(6,23,"CONFIG_PANEL.USER.DATA")," "),u(5),$(k(11,25,"CONFIG_PANEL.USER.FIELDS.NAME")),u(4),h("ngStyle",oe(39,Ic,e.formModelUser.get("name").valid||e.formModelUser.get("name").pristine?"hidden":"visible")),u(),J(" ",k(16,27,"CONFIG_PANEL.USER.ERRORS.FIELD_INVALID_NAME")," "),u(5),$(k(21,29,"CONFIG_PANEL.USER.FIELDS.ROLE")),u(3),h("options",e.userRoles),u(4),$(k(28,31,"CONFIG_PANEL.USER.FIELDS.USERNAME")),u(3),h("ngStyle",oe(41,Ic,e.formModelUser.get("username").valid||e.formModelUser.get("username").pristine?"hidden":"visible")),u(),J(" ",k(32,33,"CONFIG_PANEL.USER.ERRORS.FIELD_INVALID_USERNAME")," "),u(5),$(k(37,35,"CONFIG_PANEL.USER.FIELDS.PASSWORD")),u(2),q(e.formModelUser!=null&&e.formModelUser.controls.password.enabled?38:-1),u(),q(e.formModelUser!=null&&e.formModelUser.controls.password.enabled?39:-1),u(),q(e.formModelUser!=null&&e.formModelUser.controls.password.disabled?40:-1),u(),q(e.fwclouds&&e.fwclouds.length&&(e.formModelUser==null?null:e.formModelUser.controls.role.value)==e.UserRoles.ROLE_MANAGER?41:-1),u(2),h("ngStyle",oe(43,Ic,e.loadingData?"visible":"hidden")),u(),dt(Ae(45,tk)),u(),ae("label",k(46,37,"CONFIG_PANEL.USER.BUTTONS.SAVE")),h("disabled",e.formModelUser.pristine&&!e.selectedFwcloudsChanged||!e.formModelUser.valid||e.loadingData),u(3),q(e.selectedUser?48:-1),u(),q(e.formModelUser&&(e.formModelUser!=null&&e.formModelUser.dirty||!e.selectedUser)||e.selectedFwcloudsChanged?49:-1)}}function t6e(i,n){if(i&1&&(m(0,"div"),O(1,"sts-fwc-message",93),_()),i&2){let e=f();u(),h("message",e.errorMessage)}}function i6e(i,n){if(i&1){let e=B();m(0,"button",66),R(1,"translate"),P("click",function(){S(e);let r=f(2);return A(r.onResetPassword())}),_()}if(i&2){let e=f(2);ae("label",k(1,2,"CONFIG_PANEL.USER.BUTTONS.RESET_PASS")),h("disabled",e.loadingData||e.formModelResetPassword.invalid)}}function n6e(i,n){if(i&1){let e=B();O(0,"span",67),m(1,"button",70),R(2,"translate"),P("click",function(){S(e);let r=f(2);return A(r.onCancelResetPassword())}),_()}if(i&2){let e=f(2);u(),ae("label",k(2,2,"GLOBALS.MSG_BUTTONS.CANCEL")),h("disabled",e.loadingData)}}function r6e(i,n){if(i&1){let e=B();m(0,"p-tabPanel",23),R(1,"translate"),m(2,"div",9)(3,"div",13)(4,"h5",14),D(5),R(6,"translate"),_()(),m(7,"div",56)(8,"div",28)(9,"label",82),D(10),R(11,"translate"),_(),O(12,"input",94),_()(),m(13,"div",56)(14,"form",95),P("keyup.enter",function(r){S(e);let o=f();return A(o.checkUserPasswordForm(r))}),m(15,"fieldset",47)(16,"div",28)(17,"label",96),D(18),R(19,"translate"),_(),O(20,"input",97,5),R(22,"translate"),R(23,"translate"),R(24,"translate"),R(25,"translate"),m(26,"button",98),P("mousedown",function(){S(e);let r=f();return A(r.displayUserPassword=!0)})("mouseup",function(){S(e);let r=f();return A(r.displayUserPassword=!1)})("mouseout",function(){S(e);let r=f();return A(r.displayUserPassword=!1)}),_()()()()(),m(27,"div",10)(28,"div",65),O(29,"p-progressSpinner"),_(),I(30,i6e,2,4,"button",99)(31,n6e,3,4),_()()()}if(i&2){let e=f();ae("header",k(1,19,"CONFIG_PANEL.PASSWORD_RESET.HEADER")),h("selected",(e.loggedUser==null?null:e.loggedUser.role)==e.UserRoles.ROLE_MANAGER)("disabled",e.loadingData),u(5),J(" ",k(6,21,"CONFIG_PANEL.PASSWORD_RESET.TITLE")," "),u(5),$(k(11,23,"CONFIG_PANEL.USER.FIELDS.USERNAME")),u(2),h("value",e.loggedUser.username),u(2),h("formGroup",e.formModelResetPassword),u(),h("disabled",e.loadingData),u(3),$(k(19,25,"CONFIG_PANEL.USER.FIELDS.PASSWORD")),u(2),h("showPassword",e.displayUserPassword)("promptLabel",k(22,27,"GLOBALS.MSG_PASSWORD.PASS"))("weakLabel",k(23,29,"GLOBALS.MSG_PASSWORD.WEAK"))("mediumLabel",k(24,31,"GLOBALS.MSG_PASSWORD.NORMAL"))("strongLabel",k(25,33,"GLOBALS.MSG_PASSWORD.SAFE")),u(8),h("ngStyle",oe(35,Ic,e.loadingData?"visible":"hidden")),u(),dt(Ae(37,tk)),u(),q(e.loggedUser?30:-1),u(),q(e.formModelResetPassword&&(e.formModelResetPassword!=null&&e.formModelResetPassword.dirty)?31:-1)}}function o6e(i,n){i&1&&(m(0,"div",104)(1,"label"),D(2),R(3,"translate"),_(),O(4,"p-calendar",124),_()),i&2&&(u(2),J("",k(3,2,"CONFIG_PANEL.BACKUP_RESTORE.BACKUP.PLAN_FIXED.1")," "),u(2),h("timeOnly",!0))}function s6e(i,n){i&1&&O(0,"input",125)}function a6e(i,n){i&1&&O(0,"input",126)}function l6e(i,n){if(i&1){let e=B();m(0,"div",15)(1,"label"),D(2),R(3,"translate"),_(),I(4,s6e,1,0,"input",125)(5,a6e,1,0,"input",126),m(6,"p-dropdown",127),P("onChange",function(){S(e);let r=f(3);return A(r.onChangeBackupTimeOptions())}),_()()}if(i&2){let e=f(3);u(2),J("",k(3,4,"CONFIG_PANEL.BACKUP_RESTORE.BACKUP.PLAN_INTERVAL.1")," \xA0"),u(2),q((e.formModelBackupOptions==null?null:e.formModelBackupOptions.get("backupTimeOption").value)==60?4:-1),u(),q((e.formModelBackupOptions==null?null:e.formModelBackupOptions.get("backupTimeOption").value)==1?5:-1),u(),h("options",e.backupTimeOptions)}}function c6e(i,n){i&1&&(m(0,"colgroup"),O(1,"col")(2,"col")(3,"col")(4,"col"),_()),i&2&&(u(),Fn("width","12rem"),u(),Fn("width","8rem"),u(),Fn("width","8rem"))}function d6e(i,n){i&1&&(m(0,"tr")(1,"th"),D(2),R(3,"translate"),_(),m(4,"th"),D(5),R(6,"translate"),_(),m(7,"th"),D(8),R(9,"translate"),_(),m(10,"th"),D(11),R(12,"translate"),_()()),i&2&&(u(2),J(" ",k(3,4,"CONFIG_PANEL.BACKUP_RESTORE.RESTORE.TABLE_HEADER.0")," "),u(3),J(" ",k(6,6,"CONFIG_PANEL.BACKUP_RESTORE.RESTORE.TABLE_HEADER.1")," "),u(3),J(" ",k(9,8,"CONFIG_PANEL.BACKUP_RESTORE.RESTORE.TABLE_HEADER.3")," "),u(3),J(" ",k(12,10,"CONFIG_PANEL.BACKUP_RESTORE.RESTORE.TABLE_HEADER.4")," "))}function u6e(i,n){i&1&&(m(0,"span"),O(1,"i",129),_())}function p6e(i,n){if(i&1&&(m(0,"tr",128)(1,"td"),D(2),R(3,"date"),_(),m(4,"td"),D(5),_(),m(6,"td",38),I(7,u6e,2,0,"span"),_(),m(8,"td"),D(9),_()()),i&2){let e=n.$implicit;h("pSelectableRow",e),u(2),J(" ",Di(3,5,e.date,"dd/MM/yyyy HH:mm:ss")," "),u(3),J(" ",e.version," "),u(2),q(e.imported?7:-1),u(2),J(" ",e.comment," ")}}function h6e(i,n){if(i&1){let e=B();m(0,"div",122)(1,"button",130),R(2,"translate"),P("click",function(){S(e);let r=f(3);return A(r.onRestoreOrDeleteBackup(!0))}),_(),m(3,"button",131),R(4,"translate"),P("click",function(){S(e);let r=f(3);return A(r.onRestoreOrDeleteBackup())}),_(),m(5,"button",132),R(6,"translate"),P("click",function(){S(e);let r=f(3);return A(r.onExportBackup())}),_()()}if(i&2){let e=f(3);u(),ae("label",k(2,6,"CONFIG_PANEL.BACKUP_RESTORE.RESTORE.DELETE_BACKUP")),h("disabled",!e.selectedBackup||e.loadingData),u(2),ae("label",k(4,8,"CONFIG_PANEL.BACKUP_RESTORE.RESTORE.RESTORE_BACKUP")),h("disabled",!e.selectedBackup||e.loadingData),u(2),ae("label",k(6,10,"CONFIG_PANEL.BACKUP_RESTORE.RESTORE.EXPORT_BACKUP")),h("disabled",!e.selectedBackup||e.loadingData)}}function f6e(i,n){if(i&1&&(m(0,"div",123),O(1,"sts-fwc-message",93),_()),i&2){let e=f(3);u(),h("message",e.backupErrorMessage)}}function m6e(i,n){if(i&1){let e=B();m(0,"p-tabView",101),P("onChange",function(r){S(e);let o=f(2);return A(o.onBackupTabChange(r))}),m(1,"p-tabPanel",102),R(2,"translate"),m(3,"form",19)(4,"fieldset",103)(5,"div",104)(6,"h5",14),D(7),R(8,"translate"),_()(),m(9,"div",105)(10,"button",106),R(11,"translate"),P("click",function(){S(e);let r=f(2);return A(r.onDoBackup())}),_()(),m(12,"div",104)(13,"h5",14),D(14),R(15,"translate"),_()(),m(16,"div",107)(17,"label"),D(18),R(19,"translate"),_(),O(20,"p-selectButton",108),D(21," \xA0 "),m(22,"p",52),D(23),R(24,"translate"),_()(),m(25,"div",104),O(26,"p-radioButton",109),R(27,"translate"),_(),I(28,o6e,5,4,"div",104),m(29,"div",104),O(30,"p-radioButton",109),R(31,"translate"),_(),I(32,l6e,7,6,"div",15),m(33,"div",104)(34,"h6",82),D(35),R(36,"translate"),_()(),m(37,"div",110)(38,"p-checkbox",111),R(39,"translate"),P("onChange",function(){S(e);let r=f(2);return A(r.onChangeBackupOptions())}),_()(),m(40,"div",112),O(41,"input",113),_(),m(42,"div",110)(43,"p-checkbox",114),R(44,"translate"),P("onChange",function(){S(e);let r=f(2);return A(r.onChangeBackupOptions())}),_()(),m(45,"div",112),O(46,"input",115),_(),m(47,"div",116)(48,"button",66),R(49,"translate"),P("click",function(){S(e);let r=f(2);return A(r.onSaveBackupOptions())}),_()()()()(),m(50,"p-tabPanel",117),R(51,"translate"),m(52,"form",19)(53,"fieldset",103)(54,"div",10)(55,"h5",14),D(56),R(57,"translate"),_()(),m(58,"div",104)(59,"p-table",118),R(60,"fwcSortBy"),Ve("selectionChange",function(r){S(e);let o=f(2);return Ue(o.selectedBackup,r)||(o.selectedBackup=r),A(r)}),I(61,c6e,5,6,"ng-template",119)(62,d6e,13,12,"ng-template",8)(63,p6e,10,8,"ng-template",120),_(),m(64,"div",9)(65,"div",49)(66,"button",121),R(67,"translate"),P("click",function(){S(e);let r=f(2);return A(r.onImportBackup())}),_()(),I(68,h6e,7,12,"div",122),_()(),I(69,f6e,2,1,"div",123),_()()()()}if(i&2){let e=f(2);u(),ae("header",k(2,39,"CONFIG_PANEL.BACKUP_RESTORE.BACKUP.HEADER")),h("disabled",e.loadingData),u(2),h("formGroup",e.formModelBackupOptions),u(),h("disabled",e.loadingData),u(3),J(" ",k(8,41,"CONFIG_PANEL.BACKUP_RESTORE.BACKUP.TITLE_INST")," "),u(3),ae("label",k(11,43,"CONFIG_PANEL.BACKUP_RESTORE.BACKUP.BTN_BACKUP")),h("disabled",e.loadingData),u(4),J(" ",k(15,45,"CONFIG_PANEL.BACKUP_RESTORE.BACKUP.TITLE_PLAN")," "),u(4),J("",k(19,47,"CONFIG_PANEL.BACKUP_RESTORE.BACKUP.PLAN_DAYS")," \xA0\xA0"),u(2),h("options",e.backupDays),u(2),h("ngStyle",oe(73,Ic,e.formModelBackupOptions.get("backupDays").valid||e.formModelBackupOptions.get("backupDays").pristine?"hidden":"visible")),u(),J(" ",k(24,49,"CONFIG_PANEL.BACKUP_RESTORE.ERRORS.FIELD_DAYS")," "),u(3),ae("value",e.EnumBackupOptions.BACKUP_FIXED_TIME),ae("label",k(27,51,"CONFIG_PANEL.BACKUP_RESTORE.BACKUP.PLAN_FIXED.0")),u(2),q((e.formModelBackupOptions==null?null:e.formModelBackupOptions.get("backupType").value)==e.EnumBackupOptions.BACKUP_FIXED_TIME?28:-1),u(2),ae("value",e.EnumBackupOptions.BACKUP_INTERVAL_TIME),ae("label",k(31,53,"CONFIG_PANEL.BACKUP_RESTORE.BACKUP.PLAN_INTERVAL.0")),u(2),q((e.formModelBackupOptions==null?null:e.formModelBackupOptions.get("backupType").value)==e.EnumBackupOptions.BACKUP_INTERVAL_TIME?32:-1),u(3),J(" ",k(36,55,"CONFIG_PANEL.BACKUP_RESTORE.BACKUP.TITLE_PLAN_OPTIONS")," "),u(3),ae("value",e.EnumBackupOptions.BACKUP_MAX_COPIES),ae("label",k(39,57,"CONFIG_PANEL.BACKUP_RESTORE.BACKUP.PLAN_OPTIONS.0")),h("formControl",e.formModelBackupOptions.controls.backupOptions),u(5),ae("value",e.EnumBackupOptions.BACKUP_MAX_DAYS),ae("label",k(44,59,"CONFIG_PANEL.BACKUP_RESTORE.BACKUP.PLAN_OPTIONS.1")),h("formControl",e.formModelBackupOptions.controls.backupOptions),u(5),ae("label",k(49,61,"GLOBALS.MSG_BUTTONS.SAVE")),h("disabled",!e.formModelBackupOptions.valid||e.formModelBackupOptions.pristine||e.loadingData),u(2),ae("header",k(51,63,"CONFIG_PANEL.BACKUP_RESTORE.RESTORE.HEADER")),h("disabled",e.loadingData),u(2),h("formGroup",e.formModelBackupOptions),u(),h("disabled",e.loadingData),u(3),J(" ",k(57,65,"CONFIG_PANEL.BACKUP_RESTORE.RESTORE.TITLE")," "),u(3),h("value",cl(60,67,e.backups,"desc","date")),Ne("selection",e.selectedBackup),h("scrollable",!0),u(7),ae("label",k(67,71,"CONFIG_PANEL.BACKUP_RESTORE.RESTORE.IMPORT_BACKUP")),h("disabled",e.loadingData),u(2),q(e.backups!=null&&e.backups.length?68:-1),u(),q(e.backups!=null&&e.backups.length?-1:69)}}function g6e(i,n){if(i&1&&(m(0,"p-tabPanel",31),R(1,"translate"),I(2,m6e,70,75,"p-tabView",100),_()),i&2){let e=f();ae("header",k(1,4,"CONFIG_PANEL.BACKUP_RESTORE.HEADER")),h("disabled",!(e.formModelBackupOptions&&!e.loadingData))("selected",(e.loggedUser==null?null:e.loggedUser.role)==e.UserRoles.ROLE_MANAGER),u(2),q(e.formModelBackupOptions?2:-1)}}function _6e(i,n){if(i&1){let e=B();m(0,"p-tabPanel",32),R(1,"translate"),m(2,"form",19)(3,"fieldset",133)(4,"div",10)(5,"div",25)(6,"h5",14),D(7),R(8,"translate"),_()(),m(9,"div",134)(10,"button",135),R(11,"translate"),P("click",function(){S(e);let r=f();return A(r.doHistoric())}),_()()(),m(12,"div",10)(13,"div",136)(14,"label"),D(15),R(16,"translate"),_(),D(17,"\xA0 "),O(18,"input",137),D(19,"\xA0 "),m(20,"select",138,6)(22,"option",139),D(23),R(24,"translate"),_(),m(25,"option",140),D(26),R(27,"translate"),_(),m(28,"option",141),D(29),R(30,"translate"),_()()(),m(31,"div",136)(32,"label"),D(33),R(34,"translate"),_(),D(35,"\xA0 "),O(36,"input",142),D(37,"\xA0 "),m(38,"select",143,6)(40,"option",139),D(41),R(42,"translate"),_(),m(43,"option",140),D(44),R(45,"translate"),_(),m(46,"option",141),D(47),R(48,"translate"),_()()(),m(49,"div",144)(50,"button",66),R(51,"translate"),P("click",function(){S(e);let r=f();return A(r.onSaveHistoricOptions())}),_()()()()()()}if(i&2){let e=f();ae("header",k(1,17,"OPENVPN_HISTORIC.HEADER")),h("disabled",e.loadingData),u(2),h("formGroup",e.formModelHistoric),u(),h("disabled",e.loadingData),u(4),$(k(8,19,"OPENVPN_HISTORIC.HEADER")),u(3),ae("label",k(11,21,"OPENVPN_HISTORIC.BUTTON")),h("disabled",e.loadingData),u(5),$(k(16,23,"OPENVPN_HISTORIC.DATA_BASE")),u(8),J(" ",k(24,25,"VPN.PANEL.DAY_OPTS.0"),""),u(3),J(" ",k(27,27,"VPN.PANEL.DAY_OPTS.2"),""),u(3),J(" ",k(30,29,"VPN.PANEL.DAY_OPTS.1"),""),u(4),$(k(34,31,"OPENVPN_HISTORIC.DISK")),u(8),J(" ",k(42,33,"VPN.PANEL.DAY_OPTS.0"),""),u(3),J(" ",k(45,35,"VPN.PANEL.DAY_OPTS.2"),""),u(3),J(" ",k(48,37,"VPN.PANEL.DAY_OPTS.1"),""),u(3),ae("label",k(51,39,"GLOBALS.MSG_BUTTONS.SAVE")),h("disabled",e.loadingData||e.formModelHistoric.pristine)}}function C6e(i,n){if(i&1){let e=B();m(0,"button",145),R(1,"translate"),P("click",function(){S(e);let r=f();return A(r.onCancel())}),_()}if(i&2){let e=f();ae("label",k(1,2,"GLOBALS.MSG_BUTTONS.CLOSE")),h("disabled",e.loadingData)}}function y6e(i,n){i&1&&(O(0,"i",146),D(1),R(2,"translate")),i&2&&(u(),J(" ",k(2,1,"CONFIG_PANEL.BACKUP_RESTORE.RESTORE.RESTORE_DIALOG.HEADER")," "))}var gMt=(()=>{class i extends ei{constructor(e,t,r,o,s,a,l,c,d,p,g,C,y,v,w,E,T,F,G,z,X){super(r,t,e,s,G,a),this.itemSelectedService=e,this.appOptionsService=t,this.appDialogPanelsService=r,this.translate=o,this.cd=s,this.router=a,this.messageService=l,this.fwcCustomerService=c,this.fwcEventService=d,this.fwcCloudService=p,this.fwcUserService=g,this.fwcBackupService=C,this.utilService=y,this.confirmationService=v,this.fwcErrorPipe=w,this.fwcApiService=E,this.fwcAuthService=T,this.inputDataService=F,this.store=G,this.fwcVpnService=z,this._document=X,this.UserRoles=jp,this.EnumBackupOptions=Va,this.darkMode=!1,this.themeOptions=[{value:!1,label:this.translate.instant("CONFIG_PANEL.CUSTOM.LIGHT_THEME"),icon:"pi pi-sun fwcOrange"},{value:!0,label:this.translate.instant("CONFIG_PANEL.CUSTOM.DARK_THEME"),icon:"pi pi-moon fwcDarkBlue"}],this.TFAOptions=[{value:!0,label:this.translate.instant("CONFIG_PANEL.CUSTOM.TFA_ENABLED"),icon:"fa fa-user-shield fwcOrange"},{value:!1,label:this.translate.instant("CONFIG_PANEL.CUSTOM.TFA_DISABLED"),icon:"fa fa-user-minus fwcBlue"}],this.helpSection="/configuration",this.translate.get("CONFIG_PANEL.TITLE").subscribe(ne=>{this.createDialog(ne,"fwci-config")}),this.backupDays=[],this.translate.get("GLOBALS.DAYS_OF_WEEK").subscribe(ne=>{Object.values(ne).forEach((Y,se)=>{let ye;se==6?ye=0:ye=se+1,this.backupDays.push({label:Y,value:ye})})}),this.backupTimeOptions=[],this.translate.get("GLOBALS.HOUR_MINUTES").subscribe(ne=>{this.backupTimeOptions.push({label:ne[0],value:60}),this.backupTimeOptions.push({label:ne[1],value:1})}),g.getAuth().subscribe(ne=>{ne.data.enabled&&ne.data.tfa.secret?this.TFAMode=!0:this.TFAMode=!1})}ngOnInit(){this.store.pipe(zn(Ns),kt(()=>this.alive)).subscribe(e=>{this.darkMode=e==="dark"}),this.userRoles=[{label:this.translate.instant("CONFIG_PANEL.CUSTOMER.ROLES.0"),value:jp.ROLE_ADMINISTRATOR},{label:this.translate.instant("CONFIG_PANEL.CUSTOMER.ROLES.1"),value:jp.ROLE_MANAGER}],this.createHistoricForm()}ngOnDestroy(){super.ngOnDestroy()}ngAfterViewInit(){}updateAndShow(){return N(this,null,function*(){this.resetProperties(),yield this.getLoggedUser().then(e=>{this.loggedUser=e.data,this.createResetPasswordForm(),this.formModelResetPassword=new mo({resetpassword:new Se("",[$e.required,$e.pattern(wi.passwordRegexp)])})}).catch(e=>{if(e&&e.error&&e.error.fwcErr==1008){this.loggedUser=e.data;let t=this.fwcUserService.getActualFwcUser();this.loggedUser.name="",this.loggedUser.customer=t.customer_id,this.loggedUser.id=t.user_id,this.loggedUser.username=t.user_name,this.loggedUser.enabled=1,this.loggedUser.role=jp.ROLE_MANAGER,this.createResetPasswordForm(),this.activeMenuOption=2,this.cd.detectChanges()}else this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("CONFIG_PANEL.USER.ERRORS.GET_USER_ERROR"),detail:this.fwcErrorPipe.transform(e)}),this.loggedUser=null}),this.loggedUser&&this.loggedUser.role==jp.ROLE_ADMINISTRATOR&&(yield Promise.all([this.getCustomers(),this.getClouds(),this.getBackups(),this.getBackupConfig()]).then(s=>N(this,[s],function*([e,t,r,o]){Array.isArray(t.data)?this.fwclouds=t.data:this.fwclouds=null,e&&Array.isArray(e.data)&&(this.customers=e.data,this.selectedCustomer=this.customers[0],yield this.loadCustomer(this.selectedCustomer),this.selectedUserCustomer=this.selectedCustomer,yield this.loadUsers(this.selectedUserCustomer)),this.backups=[],Array.isArray(r.data)&&r.data.length?this.backups=r.data:this.backupErrorMessage={type:"warning",title:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.RESTORE.WARNING_NO_BACKUPS.0"),text:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.RESTORE.WARNING_NO_BACKUPS.1")},this.createBackupOptionsForm(o.data)})).catch(e=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(e)}),this.formModelCustomer=null,this.formModelBackupOptions=null,this.fwclouds=null})),this.store.dispatch(Ei.requestUnblockUI()),this.recenterDialog(),this.showDialog()})}resetProperties(){this.customers=this.customer=null,this.users=this.user=null,this.selectedCustomer=this.selectedUser=this.selectedUserCustomer=null,this.selectedFwcloudsChanged=!1,this.activeMenuOption=0,this.errorMessage=null,this.backupErrorMessage=null}getCustomers(){return new Promise((e,t)=>{this.fwcCustomerService.getCustomers().subscribe({next:r=>{e(r)},error:r=>{t(r)},complete:()=>{}})})}getClouds(){return new Promise((e,t)=>{this.fwcCloudService.getClouds().subscribe({next:r=>{e(r)},error:r=>{t(r)},complete:()=>{}})})}trackByFn(e,t){return t.id}getUserClouds(e){return new Promise((t,r)=>{this.fwcUserService.getUserClouds(e).subscribe({next:o=>{o.data&&o.data.length?(this.selectedFwclouds=o.data,this.userFwclouds=this.selectedFwclouds.slice(0)):(this.selectedFwclouds=[],this.userFwclouds=[]),this.selectedFwcloudsChanged=!1,t(o)},error:o=>{r(o)}})})}getLoggedUser(){return N(this,null,function*(){try{let e=this.fwcUserService.getActualFwcUser(),t={customer:e.customer_id,user:e.user_id};return yield MS(this.fwcUserService.getUser(t))}catch(e){throw e}})}getBackups(){return new Promise((e,t)=>{let r={next:o=>{e(o)},error:o=>{t(o)},complete:()=>{}};this.fwcBackupService.getBackups().subscribe(r)})}getBackupConfig(){return new Promise((e,t)=>{let r={next:o=>{e(o)},error:o=>{t(o)},complete:()=>{}};this.fwcBackupService.getBackupConfig().subscribe(r)})}onChangeOption(e){e&&e.index==2&&this.inputResetPass&&setTimeout(()=>{this.inputResetPass.nativeElement.focus()},100),this.recenterDialog()}createCustomerForm(e){let t=Math.max(...this.customers.map(r=>r.id),0);this.formModelCustomer=new mo({id:new Se(e?e.id:t+1,$e.required),name:new Se(e?e.name:"",[$e.required,$e.maxLength(255)]),email:new Se(e?e.email:"",[$e.email,$e.maxLength(255)]),web:new Se(e?e.web:"",[$e.pattern(wi.webAddressRegexp),$e.maxLength(255)]),phone:new Se(e?e.phone:""),addr:new Se(e?e.addr:"",[$e.maxLength(255)])})}loadCustomer(e){return new Promise((t,r)=>{let o={customer:e?e.id:-1};this.loadingData=!0;let s={next:a=>{this.createCustomerForm(a.data),this.customer=Object.assign({},a.data),this.loadingData=!1,t(a)},error:a=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(a)}),this.formModelCustomer=null,this.loadingData=!1,r(a)},complete:()=>{}};this.fwcCustomerService.getCustomer(o).subscribe(s)})}onChangeCustomer(e){e&&e.value&&this.loadCustomer(e.value)}onNewCustomer(){this.createCustomerForm(),this.selectedCustomer=null,this.inputCustomerId.nativeElement.focus()}onDeleteCustomer(){if(!this.selectedCustomer)return;let e={customer:this.selectedCustomer.id},t={next:r=>{},error:r=>{r.error&&r.error.restrictions&&this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_NOT_POSSIBLE"),icon:"fa fa-exclamation-circle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:this.translate.instant("CONFIG_PANEL.CUSTOMER.ERRORS.HAS_USERS",{name:this.selectedCustomer.name}),accept:()=>{}})},complete:()=>{}};this.fwcCustomerService.checkCustomerRestrictions(e).subscribe(t),this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_CONFIRM"),icon:"fa fa-question-circle fwcBlue iconBig",message:this.translate.instant("CONFIG_PANEL.CUSTOMER.CONFIRM_DELETE",{name:this.selectedCustomer.name}),accept:()=>{this.utilService.fwcAPICall(this.fwcCustomerService.deleteCustomer.bind(this.fwcCustomerService),e).then(()=>{let r=this.customers.slice(0),o=r.findIndex(s=>s.id==this.selectedCustomer.id);r.splice(o,1),this.customers=r,this.selectedCustomer=this.customers[0],this.loadCustomer(this.selectedCustomer),this.selectedUserCustomer=this.selectedCustomer,this.loadUsers(this.selectedUserCustomer),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:this.translate.instant("CONFIG_PANEL.CUSTOMER.SUCCESS.DELETE")})}).catch(r=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.translate.instant("CONFIG_PANEL.CUSTOMER.ERRORS.DELETE_ERROR",{error:this.fwcErrorPipe.transform(r)})})})},rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES")})}onSaveCustomer(){let e,t,r;r=Object.assign({},this.customer);let o={};for(let s in this.formModelCustomer.controls)o[s]=this.formModelCustomer.controls[s].value!==null&&this.formModelCustomer.controls[s].value!==void 0?this.formModelCustomer.controls[s].value:void 0,r[s]=o[s];this.selectedCustomer?(e=this.fwcCustomerService.updateCustomer.bind(this.fwcCustomerService),t=this.translate.instant("CONFIG_PANEL.CUSTOMER.SUCCESS.UPDATE")):(e=this.fwcCustomerService.newCustomer.bind(this.fwcCustomerService),t=this.translate.instant("CONFIG_PANEL.CUSTOMER.SUCCESS.NEW")),o.customer=+o.id,delete o.id,this.loadingData=!0,e&&this.utilService.fwcAPICall(e,o).then(s=>{this.customer=r;let a=[];if(this.customers&&(a=this.customers.slice(0)),this.selectedCustomer){let l=a.findIndex(c=>c.id==r.id);l!=-1&&(a[l]=r,this.customers=a)}else{let l={id:r.id,name:r.name};a.push(l),this.customers=a,this.selectedCustomer=l}this.formModelCustomer.reset(this.customer),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:t}),this.loadingData=!1}).catch(s=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.translate.instant("CONFIG_PANEL.CUSTOMER.ERRORS.SAVE_ERROR",{error:this.fwcErrorPipe.transform(s)})}),this.loadingData=!1})}onCancelCustomerEdit(){if(!this.selectedCustomer&&this.customer){let e=this.customers.findIndex(t=>t.id==this.customer.id);e!=-1&&(this.selectedCustomer=this.customers[e])}this.createCustomerForm(this.customer)}checkCustomerForm(e){e&&e.target&&e.target.type!="textarea"&&this.formModelCustomer.valid&&(e.target.blur(),this.onSaveCustomer())}createUserForm(e,t){!e&&t?this.formModelUser=null:(this.formModelUser=new mo({customer:new Se(e?e.customer:this.selectedUserCustomer.id,$e.required),id:new Se(e?e.id:void 0),name:new Se(e?e.name:"",[$e.required,$e.maxLength(254)]),username:new Se(e?e.username:"",[$e.required,$e.maxLength(32)]),role:new Se(e?e.role:2,$e.required),password:new Se(e?e.password:"",[$e.required,$e.pattern(wi.passwordRegexp)]),enabled:new Se(1)}),e&&this.formModelUser.controls.password.disable())}loadUsers(e){return new Promise((t,r)=>{this.user=null;let o={customer:e?e.id:-1};this.loadingData=!0;let s={next:a=>N(this,null,function*(){a&&Array.isArray(a.data)&&(this.users=a.data,this.users.length?(this.selectedUser=this.users[0],yield this.loadUser(this.selectedUser)):(this.selectedUser=null,this.formModelUser=null,this.errorMessage={type:"warning",title:this.translate.instant("CONFIG_PANEL.CUSTOMER.NO_USERS.0"),text:this.translate.instant("CONFIG_PANEL.CUSTOMER.NO_USERS.1")}),t(a)),this.loadingData=!1}),error:a=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(a)}),this.errorMessage={type:"error",title:"Error",text:this.translate.instant("CONFIG_PANEL.USER.ERRORS.API_ERROR",{error:this.fwcErrorPipe.transform(a)})},this.formModelUser=null,this.loadingData=!1,r(a)},complete:()=>{}};this.fwcUserService.getUser(o).subscribe(s)})}loadUser(e){return new Promise((t,r)=>{let o={customer:e?e.customer:-1,user:e?e.id:-1};this.loadingData=!0;let s={next:a=>N(this,null,function*(){this.createUserForm(a.data),this.user=a.data,yield this.getUserClouds(this.user.id),this.loadingData=!1,t(a)}),error:a=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(a)}),this.errorMessage={type:"error",title:"Error",text:this.translate.instant("CONFIG_PANEL.USER.ERRORS.API_ERROR",{error:this.fwcErrorPipe.transform(a)})},this.formModelUser=null,this.loadingData=!1,r(a)},complete:()=>{}};this.fwcUserService.getUser(o).subscribe(s)})}allowPasswordReset(){this.formModelUser&&(this.formModelUser.controls.password.setValue(""),this.formModelUser.controls.password.enable(),this.cd.detectChanges())}onChangeUserCustomer(e){e&&e.value&&this.loadUsers(e.value)}onChangeUser(e){e&&e.value&&this.loadUser(e.value)}onNewUser(){this.selectedUser=null,this.fallbackUser=Object.assign({},this.user),Array.isArray(this.userFwclouds)&&(this.fallbackUserFwclouds=this.userFwclouds.slice(0)),this.user=null,this.selectedFwclouds=[],this.userFwclouds=[],this.createUserForm(),this.allowPasswordReset(),setTimeout(()=>{this.inputUserName.nativeElement.focus()},100)}onDeleteUser(){if(!this.selectedUser)return;let e={customer:this.selectedUser.customer,user:this.selectedUser.id},t={next:r=>{},error:r=>{r.error&&r.error.restrictions&&this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_NOT_POSSIBLE"),icon:"fa fa-exclamation-circle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:this.translate.instant("CONFIG_PANEL.USER.ERRORS.LAST_ADMIN",{name:this.selectedUser.name}),accept:()=>{}})},complete:()=>{this.askForUserDeletion(e)}};this.fwcUserService.checkUserRestrictions(e).subscribe(t)}askForUserDeletion(e){this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_CONFIRM"),icon:"fa fa-question-circle fwcBlue iconBig",message:this.translate.instant("CONFIG_PANEL.USER.CONFIRM_DELETE",{name:this.selectedUser.name}),accept:()=>{this.utilService.fwcAPICall(this.fwcUserService.deleteUser.bind(this.fwcUserService),e).then(()=>{let t=this.users.slice(0),r=t.findIndex(o=>o.id===this.selectedUser.id);t.splice(r,1),this.users=t,this.users.length?(this.selectedUser=this.users[0],this.loadUser(this.selectedUser)):(this.selectedUser=null,this.formModelUser=null),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:this.translate.instant("CONFIG_PANEL.USER.SUCCESS.DELETE")})}).catch(t=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.translate.instant("CONFIG_PANEL.USER.ERRORS.DELETE_ERROR",{error:this.fwcErrorPipe.transform(t)})})})},rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES")})}onCancelUserEdit(){this.fallbackUser&&(this.user=this.fallbackUser,this.selectedUser=this.user,this.formModelUser.controls.password.disable()),this.createUserForm(this.user,!0),this.fallbackUserFwclouds?(this.userFwclouds=this.fallbackUserFwclouds.slice(0),this.selectedFwclouds=this.fallbackUserFwclouds.slice(0)):Array.isArray(this.userFwclouds)&&(this.selectedFwclouds=this.userFwclouds.slice(0)),this.selectedFwcloudsChanged=!1}onSaveUser(){let e,t,r;r=Object.assign({},this.user);let o={};for(let s in this.formModelUser.controls)o[s]=this.formModelUser.controls[s].value!==null&&this.formModelUser.controls[s].value!==void 0?this.formModelUser.controls[s].value:void 0,r[s]=o[s];o.id?(e=this.fwcUserService.updateUser.bind(this.fwcUserService),o.user=+o.id,delete o.id,t=this.translate.instant("CONFIG_PANEL.USER.SUCCESS.UPDATE")):(e=this.fwcUserService.newUser.bind(this.fwcUserService),t=this.translate.instant("CONFIG_PANEL.USER.SUCCESS.NEW")),this.loadingData=!0,e&&this.utilService.fwcAPICall(e,o).then(s=>N(this,null,function*(){s.data&&s.data.user&&(r.id=s.data.user),this.user=r;let a=[];if(this.users&&(a=this.users.slice(0)),!this.selectedUser)a.push(this.user),this.users=a,this.selectedUser=this.user;else{let l=a.findIndex(c=>c.id==r.id);l!=-1&&(a[l]=r,this.users=a)}this.formModelUser.reset(this.user),yield this.saveUserClouds(this.user.id).then(()=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:t}),this.loadingData=!1}).catch(l=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.translate.instant("CONFIG_PANEL.USER.ERRORS.SAVE_ERROR",{error:this.fwcErrorPipe.transform(l)})}),this.loadingData=!1})})).catch(s=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.translate.instant("CONFIG_PANEL.USER.ERRORS.SAVE_ERROR",{error:this.fwcErrorPipe.transform(s)})}),this.loadingData=!1})}onResetPassword(){let e=this.formModelResetPassword.get("resetpassword").value;e.match(wi.passwordRegexp)&&(this.loadingData=!0,this.utilService.fwcAPICall(this.fwcUserService.updateUserPassword.bind(this.fwcUserService),e).then(t=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:this.translate.instant("CONFIG_PANEL.USER.SUCCESS.RESET_PASS")}),this.formModelResetPassword.reset(),this.loadingData=!1}).catch(t=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.translate.instant("CONFIG_PANEL.USER.ERRORS.PASS_RESET_ERROR",{error:this.fwcErrorPipe.transform(t)})}),this.loadingData=!1}))}createResetPasswordForm(){this.formModelResetPassword=new mo({resetpassword:new Se("",[$e.required,$e.pattern(wi.passwordRegexp)])})}onCancelResetPassword(){this.formModelResetPassword.reset()}saveUserClouds(e){return N(this,null,function*(){return new Promise((r,o)=>N(this,null,function*(){let s=[],a=[];if(this.userFwclouds&&this.userFwclouds.length){let l;for(let c=0;c<this.userFwclouds.length;c++){let d=this.userFwclouds[c];l=!0,this.selectedFwclouds.find(p=>p.id==d.id)&&(l=!1),l&&a.push(d)}}if(this.selectedFwclouds&&this.selectedFwclouds.length){let l;for(let c=0;c<this.selectedFwclouds.length;c++){let d=this.selectedFwclouds[c];l=!0,this.userFwclouds.find(p=>p.id==d.id)&&(l=!1),l&&s.push(d)}}for(let l=0;l<a.length;l++){let c=a[l];yield this.manageUserCloud(c,e,!1).catch(d=>o(d))}for(let l=0;l<s.length;l++){let c=s[l];yield this.manageUserCloud(c,e,!0).catch(d=>o(d))}this.selectedFwclouds&&(this.userFwclouds=this.selectedFwclouds.slice(0)),this.selectedFwcloudsChanged=!1,r(!0)}))})}manageUserCloud(e,t,r){return new Promise((s,a)=>{let l;r?l=this.fwcUserService.addUserCloud.bind(this.fwcUserService):l=this.fwcUserService.removeUserCloud.bind(this.fwcUserService),this.utilService.fwcAPICall(l,t,e.id).then(c=>{s(c)}).catch(c=>{a(c)})})}checkUserForm(e){e&&e.target&&e.target.type!="textarea"&&this.formModelUser.valid&&(e.target.blur(),this.onSaveUser())}checkUserPasswordForm(e){e&&e.target&&e.target.type!="textarea"&&this.formModelResetPassword.valid&&(e.target.blur(),this.onResetPassword())}createBackupOptionsForm(e){if(e){let t=e.schedule,r=e.max_copies,o=e.max_days,s=this.convertCronToOptions(t),a=[];r&&a.push(Va.BACKUP_MAX_COPIES),o&&a.push(Va.BACKUP_MAX_DAYS),s?this.formModelBackupOptions=new mo({backupType:new Se(s.backupType),backupOptions:new Se(a),backupDays:new Se(s.backupDays,$e.required),backupHour:new Se(s.backupHour),backupTimeOption:new Se(s.backupTimeOption),backupEachHourOrMinutes:new Se(s.backupEachHourOrMinutes,$e.min(1)),backupMaxCopies:new Se({value:r,disabled:!r}),backupMaxDays:new Se({value:o,disabled:!o})}):this.formModelBackupOptions=null}}onChangeBackupOptions(){let e=this.formModelBackupOptions.get("backupOptions").value;e&&e.some(t=>t==Va.BACKUP_MAX_COPIES)?this.formModelBackupOptions.get("backupMaxCopies").enable():(this.formModelBackupOptions.get("backupMaxCopies").disable(),this.formModelBackupOptions.get("backupMaxCopies").setValue(0)),e&&e.some(t=>t==Va.BACKUP_MAX_DAYS)?this.formModelBackupOptions.get("backupMaxDays").enable():(this.formModelBackupOptions.get("backupMaxDays").disable(),this.formModelBackupOptions.get("backupMaxDays").setValue(0))}onChangeBackupTimeOptions(){let e=this.formModelBackupOptions.get("backupTimeOption").value,t=this.formModelBackupOptions.get("backupEachHourOrMinutes");e==60?(t.value>23&&t.setValue(23),t.setValidators([$e.min(1),$e.max(23)])):e==1&&(t.value>59&&t.setValue(59),t.setValidators([$e.min(1),$e.max(59)]))}convertOptionsToCron(){let e=["0","*","*","*","*","*"];switch(this.formModelBackupOptions.get("backupType").value){case Va.BACKUP_FIXED_TIME:let r=this.formModelBackupOptions.get("backupHour").value;r&&(e[1]=r.getMinutes().toString(),e[2]=r.getHours().toString());break;case Va.BACKUP_INTERVAL_TIME:let o=this.formModelBackupOptions.get("backupTimeOption").value,s=this.formModelBackupOptions.get("backupEachHourOrMinutes").value;o==60?(e[1]="0",e[2]=s?"*/"+s.toString():"*"):o==1&&(e[1]=s?"*/"+s.toString():"*",e[2]="*");break}let t=this.formModelBackupOptions.get("backupDays").value;return t&&t.length<7&&(t.sort((r,o)=>r-o),e[5]=t.join(",")),e.join(" ")}convertCronToOptions(e){let t={};if(e){let r=e.split(" ");if(r.length==6){let o,s,a=r[1],l=r[2],c=r[5];if(o=a.match(/^\*\/(\d+)$/),s=l.match(/^\*\/(\d+)$/),t.backupTimeOption=60,a!==void 0&&l!==void 0&&a.match(/^\d+$/)&&l.match(/^\d+$/))t.backupHour=new Date,t.backupHour.setHours(+l),t.backupHour.setMinutes(+a),t.backupType=Va.BACKUP_FIXED_TIME;else if(o&&l==="*")t.backupEachHourOrMinutes=o[1],t.backupType=Va.BACKUP_INTERVAL_TIME,t.backupTimeOption=1;else if(s&&a==="0")t.backupEachHourOrMinutes=s[1],t.backupType=Va.BACKUP_INTERVAL_TIME,t.backupTimeOption=60;else return;c=="*"?t.backupDays=[0,1,2,3,4,5,6]:t.backupDays=c.split(",").map(d=>+d)}else return}return t}onSaveBackupOptions(){let e=this.formModelBackupOptions.get("backupMaxCopies").value,t=this.formModelBackupOptions.get("backupMaxDays").value,r={schedule:this.convertOptionsToCron(),max_copies:e|0,max_days:t|0};this.loadingData=!0,this.formModelBackupOptions.disable(),this.utilService.fwcAPICall(this.fwcBackupService.saveBackupConfig.bind(this.fwcBackupService),r).then(o=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.SUCCESS.SAVE_CONFIG")}),this.formModelBackupOptions.markAsPristine(),this.loadingData=!1,this.formModelBackupOptions.enable()}).catch(o=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),detail:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.ERRORS.SAVE_ERROR")}),this.loadingData=!1,this.formModelBackupOptions.enable()})}onDoBackup(){let e={header:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.BACKUP.COMMENT_HEADER"),helpText:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.BACKUP.COMMENT_HELPTEXT"),formControls:[{name:"backupComment",label:this.translate.instant("ITEM_PANEL.FIELDS.COMMENTS"),type:"text",required:!0}],onAccept:t=>{if(t){this.loadingData=!0,this.formModelBackupOptions.disable();let r=vo(),o={comment:t.backupComment},s={channelId:r,headerIcon:"fa fa-3x fa-vault fwcBlue",textHeader:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.INFO.DOING_BACKUP.0"),textMessage:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.INFO.DOING_BACKUP.1"),apiCall:this.fwcBackupService.doBackup.bind(this.fwcBackupService),apiParams:[r,o],onClose:c=>{c&&!c.error?this.getBackups().then(d=>{this.selectedBackup=null,Array.isArray(d.data)&&d.data.length&&(this.backups=d.data),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.SUCCESS.DO_BACKUP")})}).catch(d=>{this.backups=[],this.backupErrorMessage={type:"error",title:"Error",text:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.ERRORS.READ_ERROR")}}):this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),detail:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.ERRORS.BACKUP_ERROR")}),this.loadingData=!1,this.formModelBackupOptions.enable()}},a=this.utilService.createDynamicComponentRef(Ia),l=a.instance;l.setDynamicComponentRef(a),this.communicationSubscription=l.socketEventEmitter.subscribe(c=>{c=="connected"&&this.appDialogPanelsService.searchAndShowDialog({uuid:Ai.BLOCK_UI_PANEL,data:s}),this.communicationSubscription.unsubscribe()}),l.checkConnection()}}};this.inputDataService.setInputData(e)}onImportBackup(){let e={title:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.IMPORT_EXPORT.IMPORT.UPLOAD_HEADER"),summary:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.IMPORT_EXPORT.IMPORT.UPLOAD_TEXT"),url:`${ge.settings.fwcAppURL}/backups/import`,onUploadCompleted:this.onUploadCompleted.bind(this),onUploadError:this.onUploadError.bind(this),uploadOptions:{acceptPattern:".zip",maxFileSize:1024e5,buttonChoose:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.IMPORT_EXPORT.IMPORT.CHOOSE_FILE"),buttonUpload:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.IMPORT_EXPORT.IMPORT.UPLOAD_FILE")}},t=this.utilService.createDynamicComponentRef(zG),r=t.instance;r.setDynamicComponentRef(t),r.showFUDialog(e)}onUploadCompleted(e){this.getBackups().then(t=>{this.selectedBackup=null,Array.isArray(t.data)&&t.data.length&&(this.backups=t.data),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.IMPORT_EXPORT.IMPORT.SUCCESS")})}).catch(t=>{this.backups=[],this.backupErrorMessage={type:"error",title:"Error",text:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.ERRORS.READ_ERROR")}})}onUploadError(e){this.confirmationService.confirm({icon:"fa fa-exclamation-circle fwcRed iconBig",header:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.IMPORT_EXPORT.IMPORT.UPLOAD_ERROR.SUMMARY"),message:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.IMPORT_EXPORT.IMPORT.UPLOAD_ERROR.DETAIL"),accept:()=>{},acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.OK"),rejectVisible:!1})}onExportBackup(){if(this.selectedBackup){let e={channelId:void 0,headerIcon:"fa fa-3x fa-vault fwcBlue",textHeader:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.IMPORT_EXPORT.EXPORT.TITLE"),textMessage:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.IMPORT_EXPORT.EXPORT.TEXT"),apiCall:this.fwcBackupService.exportBackup.bind(this.fwcBackupService),apiParams:[this.selectedBackup.id],onClose:t=>{}};this.appDialogPanelsService.searchAndShowDialog({uuid:Ai.BLOCK_UI_PANEL,data:e})}}onRestoreOrDeleteBackup(e){if(this.selectedBackup){let t,r,o;e?(t=this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.RESTORE.ASK_DELETE",{date:new Date(this.selectedBackup.date).toLocaleString()}),r=this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.SUCCESS.DELETE_BACKUP"),o=this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.ERRORS.DELETE_ERROR")):(t=this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.RESTORE.ASK_RESTORE",{date:new Date(this.selectedBackup.date).toLocaleString()}),r=this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.SUCCESS.RESTORE_BACKUP"),o=this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.ERRORS.RESTORE_ERROR")),this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_CONFIRM"),icon:"fa fa-question-circle fwcBlue iconBig",message:t,rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES"),accept:()=>{if(this.loadingData=!0,e)this.utilService.fwcAPICall(this.fwcBackupService.deleteBackup.bind(this.fwcBackupService),this.selectedBackup.id).then(s=>{this.backups=this.backups.filter(a=>a.id!=this.selectedBackup.id),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:r}),this.backups.length||(this.backupErrorMessage={type:"warning",title:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.RESTORE.WARNING_NO_BACKUPS.0"),text:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.RESTORE.WARNING_NO_BACKUPS.1")}),this.loadingData=!1},s=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:o}),this.loadingData=!1});else{let s=vo(),a={channelId:s,headerIcon:"fa fa-3x fa-undo fwcBlue",textHeader:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.RESTORE.RESTORE_DIALOG.HEADER"),textMessage:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.RESTORE.RESTORE_DIALOG.TEXT"),apiCall:this.fwcBackupService.restoreBackup.bind(this.fwcBackupService),apiParams:[s,this.selectedBackup.id],onClose:d=>{d&&!d.error?(this.hideDialog(),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:r}),this.confirmationService.confirm({header:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.INFO.RESTORE_WARNING.0"),icon:"fa fa-exclamation-circle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.INFO.RESTORE_WARNING.1"),accept:()=>{this.fwcUserService.logoutUser().toPromise().finally(()=>{this.utilService.doAppLogout(),this.router.navigate(["user","login"])})}})):this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),detail:o}),this.loadingData=!1}},l=this.utilService.createDynamicComponentRef(Ia),c=l.instance;c.setDynamicComponentRef(l),this.communicationSubscription=c.socketEventEmitter.subscribe(d=>{d=="connected"&&this.appDialogPanelsService.searchAndShowDialog({uuid:Ai.BLOCK_UI_PANEL,data:a}),this.communicationSubscription.unsubscribe()}),c.checkConnection()}}})}}onBackupTabChange(e){e.index===1&&(this.loadingData=!0,this.getBackups().then(t=>{this.selectedBackup=null,Array.isArray(t.data)&&t.data.length&&(this.backups=t.data),this.loadingData=!1}).catch(t=>{this.backups=[],this.backupErrorMessage={type:"error",title:"Error",text:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.ERRORS.READ_ERROR")},this.loadingData=!1})),this.recenterDialog()}changeTheme(){this.darkMode?this.store.dispatch(Ei.setTheme({theme:"dark"})):this.store.dispatch(Ei.setTheme({theme:"light"}))}change2FA(){this.TFAMode?this.fwcUserService.getAuth().subscribe(e=>{let t=this.utilService.createDynamicComponentRef(KG),r=t.instance;r.setDynamicComponentRef(t),e.data.enabled?r.show(e.data.tfa):this.utilService.fwcAPICall(this.fwcUserService.setupAuth.bind(this.fwcUserService),this.loggedUser).then(o=>{this.fwcUserService.getAuth().subscribe(s=>{r.show(s.data.tfa)})}),r.onChange().pipe(kt(()=>this.alive)).subscribe(()=>{this.fwcUserService.getAuth().subscribe(o=>{o.data.enabled&&o.data.tfa.secret?this.TFAMode=!0:this.TFAMode=!1})})}):(this.fwcUserService.getAuth().subscribe(e=>{this.utilService.fwcAPICall(this.fwcUserService.deleteAuth.bind(this.fwcUserService)).then(()=>{e.data.enabled&&e.data.tfa.secret&&this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("TFA.HEADER"),detail:this.translate.instant("TFA.DISABLED")})})}),this.TFAMode=!1)}createHistoricForm(){let e,t,r,o;this.formModelHistoric=new mo({archive_days:new Se(0),retention_days:new Se(0),archive_interval:new Se("day"),retention_interval:new Se("day")}),this.fwcVpnService.getHistoricConfig().subscribe(s=>{e=s.data.archive_days,t=s.data.retention_days,e%365==0?(e=e/365,r="year"):e%31==0?(e=e/31,r="month"):r="day",t%365==0?(t=t/365,o="year"):t%31==0?(t=t/31,o="month"):o="day",this.formModelHistoric.controls.archive_days.setValue(e),this.formModelHistoric.controls.retention_days.setValue(t),this.formModelHistoric.controls.retention_interval.setValue(o),this.formModelHistoric.controls.archive_interval.setValue(r)})}doHistoric(){this.loadingData=!0,this.formModelHistoric.disable();let e=vo();this.onSaveHistoricOptions().then(t=>N(this,null,function*(){if(t||this.formModelHistoric.pristine){let r={channelId:e,headerIcon:"fa fa-3x fa fa-book-bookmark fwcBlue",textHeader:this.translate.instant("CONFIG_PANEL.OPENVPN_STATUS_ARCHIVER.INFO.DOING_ARCHIVER.0"),textMessage:this.translate.instant("CONFIG_PANEL.OPENVPN_STATUS_ARCHIVER.INFO.DOING_ARCHIVER.1"),apiCall:this.fwcVpnService.doHistoric.bind(this.fwcVpnService),apiParams:[e],onClose:a=>{this.loadingData=!1,a&&!a.error?this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:this.translate.instant("CONFIG_PANEL.OPENVPN_STATUS_ARCHIVER.SUCCESS.DO_ARCHIVER")}):this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),detail:this.translate.instant("CONFIG_PANEL.OPENVPN_STATUS_ARCHIVER.ERRORS.ARCHIVER_LOCK_ERROR")}),this.formModelHistoric.enable()}},o=this.utilService.createDynamicComponentRef(Ia),s=o.instance;s.setDynamicComponentRef(o),this.communicationSubscription=s.socketEventEmitter.subscribe(a=>{a=="connected"&&this.appDialogPanelsService.searchAndShowDialog({uuid:Ai.BLOCK_UI_PANEL,data:r}),this.communicationSubscription.unsubscribe()}),s.checkConnection()}else this.loadingData=!1,this.formModelHistoric.enable()})),this.loadingData=!1}onSaveHistoricOptions(){if(!this.formModelHistoric.pristine){let e=this.formModelHistoric.get("archive_days").value,t=this.formModelHistoric.get("retention_days").value,r=this.formModelHistoric.get("archive_interval").value,o=this.formModelHistoric.get("retention_interval").value;switch(r){case"month":e=e*31;break;case"year":e=e*365;break}switch(o){case"month":t=t*31;break;case"year":t=t*365;break}if(t<e)return this.confirmationService.confirm({header:this.translate.instant("OPENVPN_HISTORIC.HEADER"),icon:"fa fa-exclamation-circle fwcRed iconBig",acceptLabel:"Ok",message:this.translate.instant("CONFIG_PANEL.OPENVPN_STATUS_ARCHIVER.ERRORS.DAYS_ERRORS"),rejectVisible:!1,accept:()=>{}}),new Promise(s=>s(null));{this.loadingData=!0;let s={archive_days:e,retention_days:t},a=this.utilService.fwcAPICall(this.fwcVpnService.saveHistoricConfig.bind(this.fwcVpnService),s);return a.then(l=>{this.loadingData=!1,this.formModelHistoric.enable(),this.formModelHistoric.markAsPristine(),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:this.translate.instant("CONFIG_PANEL.OPENVPN_STATUS_ARCHIVER.SUCCESS.SAVE_CONFIG")})}).catch(l=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),detail:this.fwcErrorPipe.transform(l)}),this.loadingData=!1,this.formModelHistoric.enable()}),a}}return new Promise(e=>e(null))}onCancel(){this.hideDialog()}onShowDialog(){}onHideDialog(){this.eventsSubscription&&this.eventsSubscription.unsubscribe()}static{this.\u0275fac=function(t){return new(t||i)(b(At),b(Bt),b(Mt),b(Xe),b(Ie),b(ct),b(ci),b(_b),b(Vn),b(Ls),b(pt),b(Hv),b(Et),b(si),b(Wi),b(Mi),b(Fs),b(Ro),b(rt),b(os),b(_t))}}static{this.\u0275cmp=ie({type:i,selectors:[["sts-fwc-config-panel"]],viewQuery:function(t,r){if(t&1&&(de(RBe,5),de(PBe,5),de(kBe,5),de(FBe,5),de(LBe,5)),t&2){let o;ee(o=te())&&(r.inputCustomerId=o.first),ee(o=te())&&(r.inputUserName=o.first),ee(o=te())&&(r.inputResetPass=o.first),ee(o=te())&&(r.dlgConfigDialog=o.first),ee(o=te())&&(r.ddCustomers=o.first)}},features:[Ze([_b,Ls,Hv]),ve],decls:88,vars:99,consts:[["dlgConfigDialog",""],["ddCustomers",""],["inputCustomerId",""],["inputUserName",""],["placeholderTemplate",""],["inputResetPass",""],["ifSelect",""],["styleClass","dlgFwcDialog",3,"visibleChange","onShow","onHide","visible","modal","closable","resizable"],["pTemplate","header"],[1,"grid"],[1,"col-12"],["orientation","left","styleClass","tabTabbedMenu",1,"first-tabview",3,"onChange","activeIndex"],["leftIcon","fa fa-building",3,"disabled","selected","header"],[1,"col-12","grid","grid-nogutter"],[1,"fwcBlue","botBorder"],[1,"col-10"],["styleClass","dropDownForm","appendTo","body","optionLabel","name","dataKey","id","filter","true",3,"ngModelChange","onChange","options","ngModel","disabled","autoDisplayFirst","emptyFilterMessage"],[1,"col-2"],["pButton","","type","button","icon","fa fa-plus",1,"p-button-success","fwcButtonHeight",3,"click","disabled","label"],[3,"formGroup"],["leftIcon","fa fa-users",3,"disabled","header"],[1,"col-5"],["styleClass","dropDownForm p-dropdown--config","appendTo","body","filter","true","optionLabel","name","dataKey","id",3,"ngModelChange","onChange","options","ngModel","disabled","autoDisplayFirst","emptyFilterMessage"],["leftIcon","fa fa-key",3,"selected","disabled","header"],["leftIcon","fa fa-user-shield fwcOrange",3,"disabled","header"],[1,"grid","grid","grid-nogutter"],[1,"fwcBlue","borBorder"],[1,"col-12",2,"padding",".5rem"],[1,"p-inputgroup"],["for","sel2FA",1,"fwcBlue"],["id","sel2FA",3,"ngModelChange","onChange","options","ngModel"],["leftIcon","fa fa-vault fwcOrange",3,"disabled","selected","header"],["leftIcon","fa fa-book-bookmark fwcOrange",3,"disabled","header"],["leftIcon","fa fa-desktop",3,"disabled","header"],["for","selTheme",1,"fwcBlue"],["id","selTheme",3,"ngModelChange","onChange","options","ngModel"],["pTemplate","footer"],[3,"modal","closeOnEscape","closable","visible"],[1,"fwc-centered"],[2,"font-size","smaller"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"fwcMenuIcon","fwci-config","fwcOrange"],[1,"divHeaderButtons"],["pButton","","type","button","icon","fa fa-question",1,"p-button-primary",3,"disabled"],["pButton","","type","button","icon","fa fa-question",1,"p-button-primary",3,"click","disabled"],[3,"keyup.enter","keyup.esc","formGroup"],[3,"disabled"],[1,"col-12","grid","grid-nogutter",2,"padding-top","0.5rem"],[1,"col-4"],["for","id"],["pInputText","","type","number","formControlName","id","name","id"],[1,"fwc-error",3,"ngStyle"],[1,"col-8"],["for","name"],["pInputText","","type","text","formControlName","name","name","name","maxlength","255"],[1,"col-6"],["for","email"],["pInputText","","type","text","formControlName","email","name","email","maxlength","255"],["for","web"],["pInputText","","type","text","formControlName","web","name","web","maxlength","255"],["for","phone"],["pInputText","","type","text","formControlName","phone","name","phone","maxlength","25"],["for","addr"],["pInputTextarea","","formControlName","addr","name","addr","maxlength","255",3,"rows","cols"],[1,"divLoadTemp",3,"ngStyle"],["type","button","pButton","","icon","fa fa-save",1,"p-button-success",3,"click","disabled","label"],[1,"fwcSepShort"],["type","button","pButton","","icon","fwci-delete",1,"p-button-danger",3,"disabled","label"],["type","button","pButton","","icon","fwci-delete",1,"p-button-danger",3,"click","disabled","label"],["type","button","pButton","","icon","fwci-delete",1,"p-button-warning",3,"click","disabled","label"],[1,"col-1"],["formControlName","role","styleClass","dropDownForm p-dropdown--config",3,"options"],["for","username"],["pInputText","","type","text","formControlName","username","name","username","maxlength","32"],[1,"p-inputgroup",2,"min-height","2.4375rem"],["for","password"],["pPassword","","formControlName","password","name","password","maxlength","64",3,"showPassword","promptLabel","weakLabel","mediumLabel","strongLabel"],["pButton","","type","button","icon","fa fa-eye",1,"p-button-secondary",3,"disabled"],["pButton","","type","button","icon","fa fa-edit",1,"p-button-warning",3,"disabled","label"],["pButton","","type","button","icon","fa fa-eye",1,"p-button-secondary",3,"mousedown","mouseup","mouseout","disabled"],["pButton","","type","button","icon","fa fa-edit",1,"p-button-warning",3,"click","disabled","label"],[1,"fwcBlue"],["appendTo","body","styleClass","fwcMsClouds","dataKey","id","optionLabel","name",3,"ngModelChange","onChange","options","ngModel","defaultLabel"],["pTemplate","selectedItems"],["pTemplate","item"],[4,"ngIf","ngIfElse"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"fwcMsClouds-selItem"],["src","assets/img/cloud.png"],[1,"fwcDark"],["src","assets/img/cloud.png",2,"width","1.5rem","display","inline-block","vertical-align","middle"],[2,"display","inline-block","margin-left","5px"],[3,"message"],["pInputText","","type","text","readonly","",3,"value"],[3,"keyup.enter","formGroup"],["for","resetpassword"],["pPassword","","formControlName","resetpassword","name","resetpassword","maxlength","64",3,"showPassword","promptLabel","weakLabel","mediumLabel","strongLabel"],["pButton","","type","button","icon","fa fa-eye",1,"p-button-secondary",3,"mousedown","mouseup","mouseout"],["type","button","pButton","","icon","fa fa-save",1,"p-button-success",3,"disabled","label"],[1,"second-tabview"],[1,"second-tabview",3,"onChange"],["leftIcon","fa fa-vault",3,"disabled","header"],[2,"display","inline-block !important","width","100% !important",3,"disabled"],[1,"col-12",2,"padding",".3rem"],[1,"col-12","grid","grid-nogutter","fwc-centered",2,"justify-content","center","padding",".3rem"],["type","button","pButton","","icon","fa fa-vault",1,"p-button-success",3,"click","disabled","label"],[1,"col-12",2,"padding","0","display","flex"],["formControlName","backupDays","multiple","multiple",3,"options"],["name","backupType","formControlName","backupType",3,"value","label"],[1,"col-6",2,"display","flex","float","left"],["name","backupOptionsMC",3,"onChange","value","formControl","label"],[1,"col-6",2,"display","flex","float","right"],["pInputText","","type","number","formControlName","backupMaxCopies","min","0","pKeyFilter","int",1,"fwcInputInline--small"],["name","backupOptionsMD",3,"onChange","value","formControl","label"],["pInputText","","type","number","formControlName","backupMaxDays","min","0","pKeyFilter","int",1,"fwcInputInline--small"],[1,"col-12","fwc-right",2,"float","right"],["leftIcon","fa fa-undo",3,"disabled","header"],["selectionMode","single","scrollHeight","15rem",3,"selectionChange","value","selection","scrollable"],["pTemplate","colgroup"],["pTemplate","body"],["type","button","pButton","","icon","fa fa-upload",1,"p-button-primary",3,"click","disabled","label"],[1,"col-8","divButtons"],[1,"col-12","grid","grid-nogutter",2,"padding",".3rem"],["formControlName","backupHour",3,"timeOnly"],["pInputText","","type","number","formControlName","backupEachHourOrMinutes","min","0","max","23","pKeyFilter","int",1,"fwcInputInline--small"],["pInputText","","type","number","formControlName","backupEachHourOrMinutes","min","0","max","59","pKeyFilter","int",1,"fwcInputInline--small"],["styleClass","dropDownInline","formControlName","backupTimeOption",3,"onChange","options"],[3,"pSelectableRow"],[1,"fa","fa-fw","fa-lg","fa-check-square","fwcGreen"],["type","button","pButton","","icon","fa fa-trash",1,"p-button-danger",3,"click","disabled","label"],["type","button","pButton","","icon","fa fa-undo",1,"p-button-primary",3,"click","disabled","label"],["type","button","pButton","","icon","fa fa-download",1,"p-button-primary",3,"click","disabled","label"],[2,"display","inline-block !important","height","100% !important","width","100% !important",3,"disabled"],[1,"col-12","grid","grid-nogutter","fwc-centered",2,"justify-content","center"],["type","button","pButton","","icon","fa fa-book-bookmark",1,"p-button-success",3,"click","disabled","label"],[1,"col-12","grid","grid-nogutter",2,"align-items","center","flex-wrap","nowrap"],["pInputText","","type","number","formControlName","archive_days","min","0","pKeyFilter","int","value","15",1,"fwcInputInline--small"],["formControlName","archive_interval","name","interval",2,"width","30%","margin","0"],["value","day"],["value","month"],["value","year"],["pInputText","","type","number","formControlName","retention_days","min","0","pKeyFilter","int","value","15",1,"fwcInputInline--small"],["formControlName","retention_interval","name","interval",2,"width","30%","margin","0"],[1,"col-12","fwc-right"],["type","button","pButton","","icon","fa fa-close",1,"p-button-primary",3,"click","disabled","label"],[1,"fa","fa-lg","fa-undo"]],template:function(t,r){if(t&1){let o=B();m(0,"p-dialog",7,0),Ve("visibleChange",function(a){return S(o),Ue(r.displayDialog,a)||(r.displayDialog=a),A(a)}),P("onShow",function(){return S(o),A(r.onShowDialog())})("onHide",function(){return S(o),A(r.onHideDialog())}),I(2,BBe,7,4,"ng-template",8),m(3,"div",9)(4,"div",10)(5,"p-tabView",11),P("onChange",function(a){return S(o),A(r.onChangeOption(a))}),m(6,"p-tabPanel",12),R(7,"translate"),m(8,"div",9)(9,"div",13)(10,"h5",14),D(11),R(12,"translate"),_()(),m(13,"div",15)(14,"p-dropdown",16,1),R(16,"translate"),Ve("ngModelChange",function(a){return S(o),Ue(r.selectedCustomer,a)||(r.selectedCustomer=a),A(a)}),P("onChange",function(a){return S(o),A(r.onChangeCustomer(a))}),_()(),m(17,"div",17)(18,"button",18),R(19,"translate"),P("click",function(){return S(o),A(r.onNewCustomer())}),_()()(),I(20,HBe,65,62,"form",19),_(),m(21,"p-tabPanel",20),R(22,"translate"),m(23,"div",9)(24,"div",13)(25,"h5",14),D(26),R(27,"translate"),_()(),m(28,"div",21)(29,"p-dropdown",22),R(30,"translate"),Ve("ngModelChange",function(a){return S(o),Ue(r.selectedUserCustomer,a)||(r.selectedUserCustomer=a),A(a)}),P("onChange",function(a){return S(o),A(r.onChangeUserCustomer(a))}),_()(),m(31,"div",21)(32,"p-dropdown",22),R(33,"translate"),Ve("ngModelChange",function(a){return S(o),Ue(r.selectedUser,a)||(r.selectedUser=a),A(a)}),P("onChange",function(a){return S(o),A(r.onChangeUser(a))}),_()(),m(34,"div",17)(35,"button",18),R(36,"translate"),P("click",function(){return S(o),A(r.onNewUser())}),_()()(),I(37,e6e,50,46)(38,t6e,2,1,"div"),_(),I(39,r6e,32,38,"p-tabPanel",23),m(40,"p-tabPanel",24),R(41,"translate"),m(42,"div",9)(43,"div",25)(44,"h5",26),D(45),R(46,"translate"),_(),m(47,"div",27)(48,"p"),D(49),R(50,"translate"),_()(),m(51,"div",28)(52,"label",29),D(53),R(54,"translate"),_(),m(55,"p-selectButton",30),Ve("ngModelChange",function(a){return S(o),Ue(r.TFAMode,a)||(r.TFAMode=a),A(a)}),P("onChange",function(){return S(o),A(r.change2FA())}),_()()()()(),I(56,g6e,3,6,"p-tabPanel",31)(57,_6e,52,41,"p-tabPanel",32),m(58,"p-tabPanel",33),R(59,"translate"),m(60,"div",9)(61,"div",13)(62,"h5",14),D(63),R(64,"translate"),_()(),m(65,"div",10)(66,"div",28)(67,"label",34),D(68),R(69,"translate"),_(),m(70,"p-selectButton",35),Ve("ngModelChange",function(a){return S(o),Ue(r.darkMode,a)||(r.darkMode=a),A(a)}),P("onChange",function(){return S(o),A(r.changeTheme())}),_()()()()()()()(),I(71,C6e,2,4,"ng-template",36),_(),m(72,"p-dialog",37),I(73,y6e,3,3,"ng-template",8),m(74,"div",38),O(75,"p-progressSpinner"),m(76,"p"),D(77),R(78,"translate"),m(79,"strong"),D(80),R(81,"date"),_(),D(82,". "),_(),m(83,"p")(84,"small",39),D(85),R(86,"translate"),_()(),O(87,"br"),_()()}t&2&&(Ne("visible",r.displayDialog),h("modal",!0)("closable",!1)("resizable",!0),u(5),h("activeIndex",r.activeMenuOption),u(),ae("header",k(7,59,"CONFIG_PANEL.CUSTOMER.CUSTOMERS")),h("disabled",!(r.customers&&!r.loadingData))("selected",(r.loggedUser==null?null:r.loggedUser.role)!=r.UserRoles.ROLE_MANAGER),u(5),J(" ",k(12,61,"CONFIG_PANEL.CUSTOMER.SEL")," "),u(3),ae("emptyFilterMessage",k(16,63,"CONFIG_PANEL.CUSTOMER.NOT_FOUND")),h("options",r.customers),Ne("ngModel",r.selectedCustomer),h("disabled",r.loadingData)("autoDisplayFirst",!1),u(4),ae("label",k(19,65,"CONFIG_PANEL.CUSTOMER.NEW")),h("disabled",r.loadingData),u(2),q(r.formModelCustomer?20:-1),u(),ae("header",k(22,67,"CONFIG_PANEL.USER.USERS")),h("disabled",!(r.customers&&!r.loadingData)),u(5),J(" ",k(27,69,"CONFIG_PANEL.USER.SEL")," "),u(3),ae("emptyFilterMessage",k(30,71,"CONFIG_PANEL.CUSTOMER.NOT_FOUND")),h("options",r.customers),Ne("ngModel",r.selectedUserCustomer),h("disabled",r.loadingData)("autoDisplayFirst",!1),u(3),ae("emptyFilterMessage",k(33,73,"CONFIG_PANEL.USER.NOT_FOUND")),h("options",r.users),Ne("ngModel",r.selectedUser),h("disabled",r.loadingData)("autoDisplayFirst",!1),u(3),ae("label",k(36,75,"CONFIG_PANEL.CUSTOMER.NEW")),h("disabled",r.loadingData),u(2),q(r.formModelUser?37:-1),u(),q(r.formModelUser?-1:38),u(),q(r.loggedUser?39:-1),u(),ae("header",k(41,77,"CONFIG_PANEL.CUSTOM.TFA")),h("disabled",r.loadingData),u(5),J(" ",k(46,79,"CONFIG_PANEL.CUSTOM.TFA")," "),u(4),$(k(50,81,"TFA.DESCRIPTION")),u(4),J("",k(54,83,"CONFIG_PANEL.CUSTOM.TFA"),":"),u(2),h("options",r.TFAOptions),Ne("ngModel",r.TFAMode),u(),q(r.loggedUser?56:-1),u(),q(r.loggedUser?57:-1),u(),ae("header",k(59,85,"CONFIG_PANEL.CUSTOM.HEADER")),h("disabled",r.loadingData),u(5),J(" ",k(64,87,"CONFIG_PANEL.CUSTOM.UI_HEADER")," "),u(5),J(" ",k(69,89,"CONFIG_PANEL.CUSTOM.THEME_CHANGE"),": "),u(2),h("options",r.themeOptions),Ne("ngModel",r.darkMode),u(2),h("modal",!0)("closeOnEscape",!1)("closable",!1)("visible",r.showRestoreWarningDialog),u(3),dt(Ae(98,MBe)),u(2),J(" ",k(78,91,"CONFIG_PANEL.BACKUP_RESTORE.RESTORE.RESTORE_DIALOG.TEXT")," "),u(3),J(" ",Di(81,93,r.selectedBackup==null?null:r.selectedBackup.date,"dd/MM/yyyy HH:mm:ss")," "),u(5),$(k(86,96,"CONFIG_PANEL.BACKUP_RESTORE.RESTORE.RESTORE_DIALOG.FOOTER")))},dependencies:[tn,et,Ee,gr,Xd,Qd,pn,Pp,Yl,cn,mr,Qr,cT,lT,Gn,aT,_r,Or,ni,be,mt,eo,On,xo,Yw,i_,t_,io,ou,Ho,Hc,MP,tC,jT,a_,Nn,Kl,vt,Y1],styles:["[_nghost-%COMP%]     .p-tabview{font-family:Montserrat,Arial,sans-serif!important}.p-inputtext[_ngcontent-%COMP%]{font-family:Montserrat,Arial,sans-serif!important}[_nghost-%COMP%]     .p-tabview .p-tabview-nav li .p-tabview-nav-link{border-top-left-radius:0;border-top-right-radius:0;font-size:.9rem!important;color:var(--fwcDark)!important}[_nghost-%COMP%]     .p-tabview .p-tabview-panels{width:100%}[_nghost-%COMP%]     .first-tabview>div>div.p-tabview-nav-container>div>ul{display:flex;flex-direction:column;padding:10px}[_nghost-%COMP%]     .second-tabview>div>div.p-tabview-nav-container>div>ul{display:flex;flex-direction:row;padding:10px}[_nghost-%COMP%]     .p-dialog .p-dialog-content{min-width:100%!important}"]})}}return i})();var qG=40,I6e=34,v6e=55,b6e=28,w6e=3,J1=(()=>{class i{constructor(e,t){this.cd=e,this.ruleSelectedService=t,this.maximumRuleHeight=0,this.rulesViewportInfo=null}*policyIterator(e){e||(e=[]);for(let t=0;t<e.length;t++){let r=e[t];if(yield r,r.rule_group&&Array.isArray(r.rules))for(let o=0;o<r.rules.length;o++){let s=r.rules[o];s.groupHide=r.groupHide,yield s}}}clearActualViewportInfo(){this.actualViewportInfo=null}resetMaximumRuleHeight(){this.maximumRuleHeight=0}calcRuleHeight(e,t){let r=qG;if(e.special)r=qG;else if(e.rule_group)r=I6e;else{if(!t&&(t=0,Array.isArray(e.positions)))for(let o=0;o<e.positions.length;o++){let s=e.positions[o];Array.isArray(s.ipobjs)&&s.ipobjs.length>t&&(t=s.ipobjs.length-1)}t<=1?(r=v6e,e.mark&&(r+=18)):(r=t*b6e+t+w6e*Math.min(t/2,6),e.mark&&(r+=t===2?11:0))}r>this.maximumRuleHeight&&(this.maximumRuleHeight=r),e.heightPx=r}showRulesInViewport(e,t){t||(t=this.actualViewportInfo||{scrollTop:0,offsetHeight:window.innerHeight});let r=t.scrollTop-Number((t.offsetHeight*.5).toFixed(0))-this.maximumRuleHeight,o=t.scrollTop+Number((t.offsetHeight*1.2).toFixed(0))+this.maximumRuleHeight;r<0&&(r=0);let s,a,l=0,c=0,d=new Set;for(let p of this.policyIterator(e))p.groupHide?d.has(p.idgroup)||(l+=p.heightPx,d.add(p.idgroup)):(l+p.heightPx>=r&&l<=o?(p.visible=!0,s===void 0&&(s=c),a=c):p.visible=!1,l+=p.heightPx),c++;this.rulesViewportInfo={firstVisibleRuleIndex:s,lastVisibleRuleIndex:a,viewportStartPx:r,viewportEndPx:o},this.actualViewportInfo=t,this.cd.detectChanges()}getVisibleRules(e){let t=[];return Array.isArray(e)&&this.rulesViewportInfo&&(t=e),t}static{this.\u0275fac=function(t){return new(t||i)(ce(Ie),ce(Iu))}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac})}}return i})();var S6e=()=>({width:"30vw"}),A6e=()=>({visibility:"hidden"});function E6e(i,n){i&1&&(m(0,"div",10)(1,"h6",11),O(2,"i",12),D(3),R(4,"translate"),_()()),i&2&&(u(3),J(" ",k(4,1,"PANELS.ROUTING_RULE_PANEL.TITLE")," "))}function x6e(i,n){if(i&1){let e=B();O(0,"div",8),m(1,"div",8)(2,"div",13)(3,"span",14),O(4,"p-dropdown",15,1),m(6,"label",16),D(7),R(8,"translate"),_()()()(),O(9,"div",8),m(10,"div",8)(11,"div",13)(12,"span",14),O(13,"sts-fwc-object-group",17),R(14,"translate"),m(15,"label",16),D(16),R(17,"translate"),_()()(),O(18,"p",18),_(),m(19,"div",8)(20,"div",13)(21,"span",14)(22,"input",19,2),P("drop",function(r){S(e);let o=f();return A(o.preventDrop(r))}),_(),m(24,"label",20),D(25),R(26,"translate"),_()()()()}if(i&2){let e=f();u(4),h("options",e.routingTables)("autoDisplayFirst",!1),u(3),$(k(8,9,"ROUTING.NEW_TABLE_PANEL.TABLE")),u(6),ae("msgNotAllowed",k(14,11,"PANELS.ROUTING_RULE_PANEL.ERRORS.INVALID_FROM")),h("readOnly",!1)("groupType",e.ObjectTypes.OBJ_ROUTING_RULE_FROM),u(3),$(k(17,13,"PANELS.ROUTING_RULE_PANEL.FROM")),u(2),h("ngStyle",Ae(17,A6e)),u(7),$(k(26,15,"ITEM_PANEL.FIELDS.COMMENTS"))}}function T6e(i,n){if(i&1&&(m(0,"div",8),O(1,"sts-fwc-message",21),_()),i&2){let e=f();u(),h("message",e.opMessage)}}function O6e(i,n){if(i&1){let e=B();m(0,"button",22),R(1,"translate"),P("click",function(){S(e);let r=f();return A(r.hideDialog())}),_(),m(2,"button",23),R(3,"translate"),P("click",function(){S(e);let r=f();return A(r.handleSave())}),_()}if(i&2){let e=f();ae("label",k(1,3,"GLOBALS.MSG_BUTTONS.CANCEL")),u(2),ae("label",k(3,5,"GLOBALS.MSG_BUTTONS.SAVE")),h("disabled",!e.formModel.valid||e.formModel.pristine||e.loadingData)}}var X1=(()=>{class i extends ei{constructor(e,t,r,o,s,a,l,c,d,p,g,C,y,v,w){super(r,t,e,o,s,l),this.itemSelectedService=e,this.appOptionsService=t,this.appDialogPanelsService=r,this.cd=o,this.store=s,this.fb=a,this.router=l,this.fwcErrorPipe=c,this.utilService=d,this.fwcPolicyService=p,this.fwcRoutingPolicyService=g,this.fwcRoutingTableService=C,this.fwcUserService=y,this.translate=v,this.messageService=w,this.ObjectTypes=L,this.loadingData=!1,this.dataLoaded=!1}ngOnInit(){this.formModel=this.fb.group({routingTable:new Se(void 0,$e.required),ipObject:new Se(void 0,$e.required),comment:new Se("")})}showNewRuleDialog(e,t,r,o){this.clusterId=e,this.firewallId=t,this.baseRuleId=r,this.newRuleOffset=o,this.utilService.fwcAPICall(this.fwcRoutingTableService.getRoutingTables.bind(this.fwcRoutingTableService),t,this.fwcUserService.getActualFwSelectedCloud()).then(s=>{Array.isArray(s.data)&&s.data.length?(this.routingTables=s.data,this.dataLoaded=!0,this.formModel.get("routingTable").setValue(this.routingTables[0])):this.opMessage={type:"error",title:this.translate.instant("PANELS.ROUTING_RULE_PANEL.ERRORS.NO_ROUTING_TABLES.SUMMARY"),text:this.translate.instant("PANELS.ROUTING_RULE_PANEL.ERRORS.NO_ROUTING_TABLES.TEXT")}}).catch(s=>{this.opMessage={type:"error",title:this.translate.instant("PANELS.ROUTING_RULE_PANEL.ERRORS.GET_ROUTING_TABLES.SUMMARY"),text:this.translate.instant("PANELS.ROUTING_RULE_PANEL.ERRORS.GET_ROUTING_TABLES.TEXT")}}).finally(()=>{this.displayDialog=!0})}handleSave(){if(this.formModel.valid){this.store.dispatch(Ei.requestBlockUI());let{routingTable:e,ipObject:t,comment:r}=this.formModel.value,o=this.newRuleOffset<0?"above":"below";if(e&&t){let s={routingTableId:e.id,to:this.baseRuleId,offset:o,comment:r},{id:a,type:l}=t,c={id:a,order:1};switch(l){case L.OBJ_GROUP:s.ipObjGroupIds=[c];break;case L.OBJ_VPN_CONFIG_CLI:s.openVPNIds=[c];break;case L.OBJ_OPENVPN_PREFIX:s.openVPNPrefixIds=[c];break;case L.OBJ_MARK:s.markIds=[c];break;default:s.ipObjIds=[c]}this.loadingData=!0,this.store.dispatch(Ei.requestBlockUI()),this.utilService.fwcAPICall(this.fwcRoutingPolicyService.newRoutingPolicyRule.bind(this.fwcRoutingPolicyService),this.firewallId,this.fwcUserService.getActualFwSelectedCloud(),s).then(d=>{this.hideDialog(),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("PANELS.ROUTING_RULE_PANEL.INFO.SAVE_RULE")}),this.fwcPolicyService.reloadPolicy(),this.store.dispatch(Nr.updateFwStatus({item:{cluster:this.clusterId,id:this.firewallId,status:3}}))}).catch(d=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),detail:this.fwcErrorPipe.transform(d)})}).finally(()=>{this.loadingData=!1,this.store.dispatch(Ei.requestUnblockUI())})}}}handleCheckForm(e){e&&e.target&&this.formModel.valid&&(e.target.blur(),this.handleSave())}handleCancel(){this.hideDialog()}static{this.\u0275fac=function(t){return new(t||i)(b(At),b(Bt),b(Mt),b(Ie),b(rt),b(Fr),b(ct),b(Wi),b(Et),b(Pn),b(yu),b(rs),b(pt),b(Xe),b(ci))}}static{this.\u0275cmp=ie({type:i,selectors:[["sts-fwc-routing-rule-panel"]],features:[ve],decls:9,vars:11,consts:[["dlgRoutingRuleDialog",""],["ddRoutingTables",""],["inputObjName",""],["styleClass","dlgFwcDialog fwcObjectDialog--small",3,"visibleChange","onShow","onHide","visible","modal","closable","resizable"],["pTemplate","header"],[3,"formGroup"],[3,"keyup.enter","keyup.esc","disabled"],[1,"grid"],[1,"col-12"],["pTemplate","footer"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"fwcMenuIcon","fwci-routing","fwcOrange"],[1,"p-inputgroup"],[1,"p-float-label"],["formControlName","routingTable","styleClass","dropDownForm","appendTo","body","optionLabel","name","dataKey","id",3,"options","autoDisplayFirst"],[1,"fwcFloatLabel"],["formControlName","ipObject",3,"readOnly","groupType","msgNotAllowed"],[1,"fwc-error",3,"ngStyle"],["pInputText","","type","text","formControlName","comment","name","comment","maxlength","64",3,"drop"],["for","comment"],[3,"message"],["type","button","pButton","","icon","pi pi-times",1,"p-button-secondary",3,"click","label"],["type","button","pButton","","icon","pi pi-check",1,"p-button-primary",3,"click","label","disabled"]],template:function(t,r){if(t&1){let o=B();m(0,"p-dialog",3,0),Ve("visibleChange",function(a){return S(o),Ue(r.displayDialog,a)||(r.displayDialog=a),A(a)}),P("onShow",function(){return S(o),A(!0)})("onHide",function(){return S(o),A(!0)}),I(2,E6e,5,3,"ng-template",4),m(3,"form",5)(4,"fieldset",6),P("keyup.enter",function(a){return S(o),A(r.handleCheckForm(a))})("keyup.esc",function(){return S(o),A(r.handleCancel())}),m(5,"div",7),I(6,x6e,27,18)(7,T6e,2,1,"div",8),_()()(),I(8,O6e,4,7,"ng-template",9),_()}t&2&&(dt(Ae(10,S6e)),Ne("visible",r.displayDialog),h("modal",!1)("closable",!1)("resizable",!0),u(3),h("formGroup",r.formModel),u(),h("disabled",r.loadingData),u(2),q(r.dataLoaded?6:-1),u(),q(!r.loadingData&&r.opMessage?7:-1))}})}}return i})();var YG=Ja(ep());var D6e=["txtCompiledString"],R6e=()=>({minWidth:"80vw"}),P6e=()=>({height:"98%",minHeight:"12rem"});function k6e(i,n){if(i&1&&(m(0,"span"),D(1),_()),i&2){let e=f(2);u(),J(" (",e.ruleCompiler,") ")}}function F6e(i,n){if(i&1&&(m(0,"div",6)(1,"h6",7),O(2,"i",8),D(3),I(4,k6e,2,1,"span"),_()()),i&2){let e=f();u(3),J(" ",e.dialogTitle," "),u(),q(e.ruleCompiler?4:-1)}}function L6e(i,n){if(i&1){let e=B();m(0,"button",12),R(1,"translate"),P("click",function(){S(e);let r=f(2);return A(r.onDownloadConfigFile(r.ruleCompiledString))}),_()}if(i&2){let e=f(2);ae("label",k(1,2,"VPN.CONFIG.DOWNLOAD.BUTTON")),h("disabled",!e.ruleCompiledString)}}function M6e(i,n){if(i&1){let e=B();m(0,"button",9),R(1,"translate"),P("click",function(){S(e);let r=f();return A(r.handleCopyRuleCompilationToClipboard())}),_(),I(2,L6e,2,4,"button",10),m(3,"button",11),P("click",function(){S(e);let r=f();return A(r.hideDialog())}),_()}if(i&2){let e=f();ae("label",k(1,3,"VPN.CONFIG.CLIPBOARD.BUTTON")),h("disabled",!e.ruleCompiledString),u(2),q(e.ruleCompiledString&&e.type==="dhcp"||e.type==="keepalived"||e.type==="haproxy"?2:-1)}}var va=(()=>{class i extends ei{constructor(e,t,r,o,s,a,l,c,d,p){super(e,t,r,c,o,l),this.appDialogPanelsService=e,this.appOptionsService=t,this.itemSelectedService=r,this.store=o,this.translate=s,this.messageService=a,this.router=l,this.cd=c,this.fwcEventService=d,this.utilService=p,this.dialogTitle=this.translate.instant("CONTEXT.RULE.COMP_TITLE")}ngOnInit(){}ngOnDestroy(){}showCompiledString(e,t){this.ruleCompiledString=e,this.ruleCompiler=t}showCompilationData(e,t,r,o,s,a){if(this.type=a,this.ruleCompiledString="",o&&(this.dialogTitle=o),Array.isArray(e))for(let[l,c]of e.entries()){this.ruleCompiledString&&(this.ruleCompiledString+=`
`);let d=t&&t.find(g=>g.id===c.id),p=d&&d._fwcRuleOrder?d._fwcRuleOrder:l+1;a==="dhcp"?this.ruleCompiledString+=c.cs:a==="keepalived"?this.ruleCompiledString+=c.cs:a==="haproxy"?this.ruleCompiledString+=c.cs:this.ruleCompiledString+=`# ${r.toUpperCase()} ${p} (ID: ${c.id})
${c.cs}`}this.ruleCompiler=s,this.displayDialog=!0}onDownloadConfigFile(e,t){let r;t==="dhcp"?r="dhcp.conf":t==="keepalived"?r="keepalived.conf":t==="haproxy"&&(r="haproxy.conf");let o=new Blob([e],{type:"text/plain;charset=utf-8"});(0,YG.saveAs)(o,r)}handleCopyRuleCompilationToClipboard(){this.txtCompiledString&&(this.txtCompiledString.nativeElement.select(),document.execCommand("copy"),this.txtCompiledString.nativeElement.setSelectionRange(0,0),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("POLICY.RULE_COMPILATION_COPIED")}))}static{this.\u0275fac=function(t){return new(t||i)(b(Mt),b(Bt),b(At),b(rt),b(Xe),b(ci),b(ct),b(Ie),b(Vn),b(Et))}}static{this.\u0275cmp=ie({type:i,selectors:[["sts-fwc-rule-compile-panel"]],viewQuery:function(t,r){if(t&1&&de(D6e,5),t&2){let o;ee(o=te())&&(r.txtCompiledString=o.first)}},features:[ve],decls:7,vars:8,consts:[["dlgCompile",""],["txtCompiledString",""],["styleClass","dlgFwcDialog",3,"visibleChange","onShow","visible","modal"],["pTemplate","header"],["readonly","true","pInputTextarea","",1,"textCompiledString",3,"ngStyle"],["pTemplate","footer"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"fwcMenuIcon","fwci-compilerule","fwcOrange"],["pButton","","icon","fa fa-clipboard",1,"p-button-secondary",3,"click","label","disabled"],["pButton","","icon","fa fa-download",1,"p-button-secondary",3,"label","disabled"],["type","button","pButton","","icon","pi pi-check","label","Ok",3,"click"],["pButton","","icon","fa fa-download",1,"p-button-secondary",3,"click","label","disabled"]],template:function(t,r){if(t&1){let o=B();m(0,"p-dialog",2,0),Ve("visibleChange",function(a){return S(o),Ue(r.displayDialog,a)||(r.displayDialog=a),A(a)}),P("onShow",function(){return S(o),A(!0)}),I(2,F6e,5,2,"ng-template",3),m(3,"textarea",4,1),D(5),_(),I(6,M6e,4,5,"ng-template",5),_()}t&2&&(dt(Ae(6,R6e)),Ne("visible",r.displayDialog),h("modal",!0),u(3),h("ngStyle",Ae(7,P6e)),u(2),$(r.ruleCompiledString))},dependencies:[Ee,ni,be,mt,xo,vt],styles:["[_ngcontent-%COMP%]:root{--lightColor: #eee;--darkColor: #222;--inputBackgroundColor: #eee;--inputBorderColor: #cacaca;--inputColor: #222;--surfaceBackgroundColor: white;--fixedWhiteColor: #eee;--fixedDarkColor: #333;--translucidColor: transparent;--menuBackground: url(/assets/img/fwc-fondo-menu.jpg);--mainBackground: url(/assets/img/fwc-fondo-home.jpg);--fwcBlue: #0069a7;--fwcBlueDarkened: #005e96;--fwcDarkBlue: #003351;--fwcDarkBlue2: #014071;--fwcLightBlue: #1779ba;--fwcPaleBlue: #689fe1;--fwcPaleBlue2: #cce2f8;--fwcPaleBlue3: #e6f1fd;--fwcBlueGradient1: #386ea0;--fwcBlueGradient2: #21517e;--fwcLightGreyGradient1: #f6f7f9;--fwcLightGreyGradient2: #ebedf0;--fwcOrange: #eb6400;--fwcPaleOrange: #e67e22;--fwcPaleOrange2: #ffcfa4;--fwcPaleOrange3: #fe7815;--fwcOrangeRed: #e74c3c;--fwcRed: #f00;--fwcRed2: #b40b00;--fwcPaleRed: #f77676;--fwcPaleRed2: #ffe1e1;--fwcTranslucidRed: rgba(255, 0, 0, .15);--fwcDarkGreen: #023008;--fwcGreen: #009900;--fwcLightGreen: #28ff28;--fwcPaleGreen: #c7e6c8;--fwcLime: #baf649;--fwcWhite: #eee;--fwcPaleWhite: #f5f5f5;--fwcPaleWhite2: #f4f4f4;--fwcDark: #222;--fwcLightDark: #1e1e1e;--fwcMidDark: #555;--fwcMidDark2: #333;--fwcPaleDark: #888;--fwcPaleDark2: #383838;--fwcGrey: #cacaca;--fwcGrey2: #cecece;--fwcGrey3: #eee;--fwcGrey4: #e5e5e5;--fwcGrey5: #c8c8c8;--fwcGrey6: #efefef;--fwcGrey7: #dedede;--fwcAccent: #ff4081;--fwcShadow: #bbb;--fwcSelected: #ddd;--fwcSelectedB: #0069a7;--fwcRulePink: #ef9a9a;--fwcRulePurple: #ce93d8;--fwcRuleBlue: #90caf9;--fwcRuleTeal: #80cbc4;--fwcRuleGreen: #a5d6a7;--fwcRuleYellow: #fff59d;--fwcRuleOrange: #ffcc80}"]})}}return i})();var Q1=(()=>{class i{constructor(e,t,r,o,s,a,l,c,d,p){this.translate=e,this.fwcErrorPipe=t,this.utilService=r,this.fwcUserService=o,this.fwcRoutingPolicyService=s,this.fwcRoutingTableService=a,this.ruleSelectedService=l,this.messageService=c,this.cd=d,this.store=p}setGroupValues(e){if(e){let t=e.groupData,r=e.group,o=e.policyType,s={style:e.groupColor,name:e.groupName};this.updateGroup(o,t.firewall,t.fwcloud,r,s)}}updateGroup(e,t,r,o,s){let a;e===Mr.POLICY_ROUTING?a=this.fwcRoutingPolicyService.updateRoutingPolicyRuleGroup.bind(this.fwcRoutingPolicyService):e===Mr.ROUTING_TABLE&&(a=this.fwcRoutingTableService.updateRoutingTableRouteGroup.bind(this.fwcRoutingTableService)),a&&(this.ruleSelectedService.setRuleStatus(""),this.utilService.fwcAPICall(a,t,r,o.idgroup,s).then(()=>{if(s.name){o.group_name=s.name;let l=o.rules;for(let c=0;c<l.length;c++)l[c].group_name=o.group_name}if(s.style){o.group_style=s.style;let l=o.rules;for(let c=0;c<l.length;c++)l[c].group_style=o.group_style}o=fi(o)}).catch(l=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(l)})}).finally(()=>{this.ruleSelectedService.setRuleStatus(null),this.detectChanges()}))}compileRulesOrRoutes(e){let t,r,o,s=this.ruleSelectedService.getActualSelectedRules(),a=this.ruleSelectedService.getRulesOrderedIds(s),l;if(Array.isArray(a.orderedRules)&&a.orderedRules[0]){l=a.orderedRules[0],t=this.fwcUserService.getActualFwcUser().selectedFwCloud,r=l.firewall,o=a.rulesIds;let c=this.fwcRoutingPolicyService.compileRoutingPolicyRules.bind(this.fwcRoutingPolicyService),d=[r,t,o],p=this.translate.instant("ROUTING.POLICY.RULE"),g=this.translate.instant("ROUTING.POLICY.COMPILE_DIALOG_TITLE");e&&(c=this.fwcRoutingTableService.compileRoutingTableRoutes.bind(this.fwcRoutingTableService),d=[r,t,e,o],p=this.translate.instant("ROUTING.NEW_TABLE_PANEL.ROUTE"),g=this.translate.instant("ROUTING.ROUTE.COMPILE_DIALOG_TITLE")),this.ruleSelectedService.setRuleStatus(""),this.detectChanges(),this.utilService.fwcAPICall(c,...d).then(C=>{if(Array.isArray(C.data)){let y=this.utilService.createDynamicComponentRef(va),v=y.instance;v.setDynamicComponentRef(y),v.showCompilationData(C.data,s,p,g)}}).catch(C=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(C)})}).finally(()=>{this.ruleSelectedService.setRuleStatus(null),this.detectChanges()})}}filterIpObjects(e,t){let r=[];return Array.isArray(e)&&(r=e.filter(t).map(o=>({id:o.id,order:o.position_order}))),r}buildCopyApiData(e,t){let r={},o,s,a=e._fwcObjId,l=e._fwcObjType,c=t.ipobjs;switch(l){case L.OBJ_GROUP:{o=this.filterIpObjects(c,d=>d.type===L.OBJ_GROUP),s="ipObjGroupIds";break}case L.OBJ_OPENVPN_PREFIX:{o=this.filterIpObjects(c,d=>d.type===L.OBJ_OPENVPN_PREFIX),s="openVPNPrefixIds";break}case L.OBJ_VPN_CONFIG_CLI:{o=this.filterIpObjects(c,d=>d.type===L.OBJ_VPN_CONFIG_CLI),s="openVPNIds";break}case L.OBJ_MARK:{o=this.filterIpObjects(c,d=>d.type===L.OBJ_MARK),s="markIds";break}default:{o=this.filterIpObjects(c,d=>d.type===L.OBJ_ADDRESS||d.type===L.OBJ_ADDRESS_RANGE||d.type===L.OBJ_NETWORK||d.type===L.OBJ_HOST||d.type===L.OBJ_DNS),s="ipObjIds";break}}return r[s]=[...o,{id:a,order:c?c.length:1}],r}buildRemoveApiData(e,t){let r={},o,s,a=e._fwcObjId,l=e._fwcObjType,c=t.ipobjs;switch(l){case L.OBJ_GROUP:{o=this.filterIpObjects(c,d=>d.type===L.OBJ_GROUP&&d.id!==a),s="ipObjGroupIds";break}case L.OBJ_OPENVPN_PREFIX:{o=this.filterIpObjects(c,d=>d.type===L.OBJ_OPENVPN_PREFIX&&d.id!==a),s="openVPNPrefixIds";break}case L.OBJ_VPN_CONFIG_CLI:{o=this.filterIpObjects(c,d=>d.type===L.OBJ_VPN_CONFIG_CLI&&d.id!==a),s="openVPNIds";break}case L.OBJ_MARK:{o=this.filterIpObjects(c,d=>d.type===L.OBJ_MARK&&d.id!==a),s="markIds";break}default:{o=this.filterIpObjects(c,d=>(d.type===L.OBJ_ADDRESS||d.type===L.OBJ_ADDRESS_RANGE||d.type===L.OBJ_NETWORK||d.type===L.OBJ_HOST||d.type===L.OBJ_DNS)&&d.id!==a),s="ipObjIds";break}}return r[s]=[...o],r}removeObjectFromPosition(e,t){if(Array.isArray(e.ipobjs)){e.ipobjs=e.ipobjs.filter(r=>r._fwcObjId!==t._fwcObjId||r._fwcObjType!==t._fwcObjType);for(let r of e.ipobjs)r.position_order!=null&&r.position_order>t.position_order&&r.position_order--}}dispatchFwStatusUpdateAction(e,t){this.store.dispatch(Nr.updateFwStatus({item:{cluster:e,id:t,status:3}}))}dispatchReloadItemPanelAction(){this.store.dispatch(gn.reloadDialog({dialogUuids:[Ai.ITEM_PANEL]}))}dispatchReloadItemEditingPanels(){this.store.dispatch(gn.reloadDialog({dialogUuids:[Ai.ITEM_PANEL,Ai.CLUSTER_PANEL,Ai.FIREWALL_PANEL,Ai.OVCONFIG_PANEL]}))}detectChanges(){this.cd.destroyed||(this.cd.markForCheck(),this.cd.detectChanges())}static{this.\u0275fac=function(t){return new(t||i)(ce(Xe),ce(Wi),ce(Et),ce(pt),ce(yu),ce(rs),ce(Iu),ce(ci),ce(Ie),ce(rt))}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac})}}return i})();var Z1=(()=>{class i extends Q1{constructor(e,t,r,o,s,a,l,c,d,p,g,C){super(e,t,r,o,a,l,c,d,g,C),this.translate=e,this.fwcErrorPipe=t,this.utilService=r,this.fwcUserService=o,this.fwcPolicyService=s,this.fwcRoutingPolicyService=a,this.fwcRoutingTableService=l,this.ruleSelectedService=c,this.messageService=d,this.confirmationService=p,this.cd=g,this.store=C}parseRoutingPolicyRules(e,t,r){let o=[];for(let s of r){let a={id:s.id,idgroup:s.routingGroupId,group_name:s.routingGroup&&s.routingGroup.name,group_style:s.routingGroup&&s.routingGroup.style,comment:s.comment,style:s.style,type:Mr.POLICY_ROUTING,rule_order:s.rule_order,active:s.active?1:0,firewall:e,fwcloud:t,routingTableId:s.routingTableId,fw_apply_to:s.firewallApplyToId,positions:[]},l=1,c={id:is.FROM_POSITION,name:this.translate.instant("ITEM_PANEL.FIELDS.PORT_S"),policy_type:a.type,position_order:l++,content:"O",single_object:0,fwcloud:t,firewall:e,rule:a.id,ipobjs:[]};if(Array.isArray(s.items)){let d=1;for(let p of s.items){let g={rule:a.id,position:Ui.TO_POSITION,id:p.id,name:p.name,type:p.type,position_order:d++,firewall_id:p.firewall_id,firewall_name:p.firewall_name,cluster_id:p.cluster_id,cluster_name:p.cluster_name,host_id:p.host_id,host_name:p.host_name};c.ipobjs.push(g)}}a.positions.push(c),o.push(a)}return o}handleChangeRoutingTable(e,t){let r={routingTableId:t};this.ruleSelectedService.setRuleStatus(""),this.utilService.fwcAPICall(this.fwcRoutingPolicyService.updateRoutingPolicyRule.bind(this.fwcRoutingPolicyService),e.firewall,this.fwcUserService.getActualFwSelectedCloud(),e.id,r).then(o=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("ROUTING.SUCCESS.UPDATE_RULE")}),this.dispatchFwStatusUpdateAction(e._fwcClusterId,e.firewall),this.dispatchReloadItemEditingPanels(),this.detectChanges()}).catch(o=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(o)})}).finally(()=>{this.ruleSelectedService.setRuleStatus(null)})}updateRule(e,t,r,o,s,a,l){this.ruleSelectedService.setRuleStatus("");let c={},d=!1;s&&(c.comment=s,d=!0),a&&(c.style=a),l!==void 0&&(c.active=l,d=!0),this.utilService.fwcAPICall(this.fwcRoutingPolicyService.updateRoutingPolicyRule.bind(this.fwcRoutingPolicyService),t,r,o.id,c).then(p=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("ROUTING.SUCCESS.UPDATE_ROUTE")}),this.fwcPolicyService.reloadPolicy(),d&&this.dispatchFwStatusUpdateAction(e,t)}).catch(p=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(p)})}).finally(()=>{this.ruleSelectedService.setRuleStatus(null)})}updateSelectedRules(e,t,r,o){let s=this.ruleSelectedService.getActualSelectedRules(),a=!!Object.keys(o).filter(l=>l!=="style").length;if(Array.isArray(s)&&s.length){let l=s.map(c=>c.id);this.ruleSelectedService.setRuleStatus(""),this.utilService.fwcAPICall(this.fwcRoutingPolicyService.updateRoutingPolicyRules.bind(this.fwcRoutingPolicyService),t,r,l,o).then(c=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("ROUTING.SUCCESS.UPDATE_ROUTE")}),this.fwcPolicyService.reloadPolicy(),a&&this.dispatchFwStatusUpdateAction(e,t)}).catch(c=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(c)})}).finally(()=>{this.ruleSelectedService.setRuleStatus(null)})}}updateRuleComment(e){if(e&&e.formModel){let t=e.formModel.comment;if(e.comment!==t){let r=e.firewall,o=e.fwcloud,s={comment:t};this.ruleSelectedService.setRuleStatus(""),this.utilService.fwcAPICall(this.fwcRoutingPolicyService.updateRoutingPolicyRule.bind(this.fwcRoutingPolicyService),r,o,e.id,s).then(a=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("ROUTING.SUCCESS.UPDATE_RULE")}),e.comment=t,this.dispatchFwStatusUpdateAction(e._fwcClusterId,r)}).catch(a=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(a)}),e.formModel.comment=e.comment}).finally(()=>{this.ruleSelectedService.setRuleStatus(null),this.detectChanges()})}}}updateRulePosition(e,t,r,o,s,a,l){let c={},d=a._fwcPositionId,p=a._fwcRuleId;if((a.obj_type==L.OBJ_OPENVPN_PREFIX||a.obj_type==L.OBJ_INTERFACE_FIREWALL)&&"items"in a&&a.items.length===0||a.obj_type==L.OBJ_HOST&&"items"in a&&a.items.length>0&&a.items[0].items.length===0){this.confirmationService.confirm({header:this.translate.instant("POSITION.ERROR_HEADER"),icon:"fa fa-exclamation-circle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:a.obj_type==L.OBJ_HOST?this.translate.instant("POSITION.ERROR_EMPTY_CONTAINER",{name:a._fwcObjName,ipVersion:"IP"}):a.obj_type==L.OBJ_INTERFACE_FIREWALL?this.translate.instant("POSITION.ERROR_GROUP_EMPTY",{name:a._fwcObjName}):this.translate.instant("POSITION.ERROR_EMPTY_PREFIX",{name:a._fwcObjName}),accept:()=>{}});return}let g=this.checkOperation(e,a,l);if(g)this.confirmationService.confirm({header:this.translate.instant("POSITION.ERROR_HEADER"),icon:"fa fa-exclamation-circle fwcRed iconBig",message:g,rejectVisible:!1,acceptLabel:"Ok",accept:()=>{}});else{let C=e.getClusterId();d==null||p==null||l==ur.COPY?(c=this.buildCopyApiData(a,s),this.ruleSelectedService.setRuleStatus(""),this.utilService.fwcAPICall(this.fwcRoutingPolicyService.updateRoutingPolicyRule.bind(this.fwcRoutingPolicyService),t,r,o,c).then(y=>{this.addObjectToPosition(s,a),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("ROUTING.SUCCESS.UPDATE_ROUTE")}),this.dispatchFwStatusUpdateAction(C,t),this.dispatchReloadItemEditingPanels(),this.ruleSelectedService.setRuleHeightRecalculate(o)}).catch(y=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(y)})}).finally(()=>{this.ruleSelectedService.setRuleStatus(null),this.detectChanges()})):(this.ruleSelectedService.setRuleStatus(""),this.moveObject(e,t,r,o,s,a).then(()=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("ROUTING.SUCCESS.UPDATE_ROUTE")})}).catch(y=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(y)})}).finally(()=>{this.ruleSelectedService.setRuleStatus(null),this.detectChanges()}))}}checkOperation(e,t,r){let o;return t._fwcRuleId&&t._fwcPositionId&&(r===ur.CUT||r===ur.DELETE)&&e.getPolicyRule(t._fwcRuleId).positions.find(c=>c.id===t._fwcPositionId).ipobjs.filter(c=>c._fwcObjType!==L.OBJ_ANY).length<2&&(o=this.translate.instant("ROUTING.POLICY.ERROR_LAST_IPOBJECT")),o}moveObjectAlt(e,t,r,o,s,a){return N(this,null,function*(){try{let l=this.buildCopyApiData(a,s);yield this.utilService.fwcAPICall(this.fwcRoutingPolicyService.updateRoutingPolicyRule.bind(this.fwcRoutingPolicyService),t,r,o,l);let c=e.getPolicyRule(a._fwcRuleId),d=c.positions.find(C=>C.id===a._fwcPositionId),p=this.buildRemoveApiData(a,d);yield this.utilService.fwcAPICall(this.fwcRoutingPolicyService.updateRoutingPolicyRule.bind(this.fwcRoutingPolicyService),t,r,c.id,p),this.addObjectToPosition(s,a),this.removeObjectFromPosition(d,a),this.ruleSelectedService.setRuleHeightRecalculate(c.id),this.ruleSelectedService.setRuleHeightRecalculate(o),this.dispatchReloadItemEditingPanels();let g=e.getClusterId();this.dispatchFwStatusUpdateAction(g,t),Promise.resolve()}catch{Promise.reject()}})}moveObject(e,t,r,o,s,a){return N(this,null,function*(){try{let l,c;switch(a._fwcObjType){case L.OBJ_GROUP:{l="ipObjGroupId";break}case L.OBJ_OPENVPN_PREFIX:{l="openVPNPrefixId";break}case L.OBJ_VPN_CONFIG_CLI:{l="openVPNId";break}case L.OBJ_MARK:{l="markId";break}default:{l="ipObjId";break}}let d=e.getPolicyRule(a._fwcRuleId),p=d.positions.find(C=>C.id===a._fwcPositionId);c={fromId:d.id,toId:o},c[l]=a._fwcObjId,yield this.utilService.fwcAPICall(this.fwcRoutingPolicyService.moveObjectBetweenFromPositions.bind(this.fwcRoutingPolicyService),t,r,c),this.addObjectToPosition(s,a),this.removeObjectFromPosition(p,a),this.dispatchReloadItemEditingPanels(),this.ruleSelectedService.setRuleHeightRecalculate(d.id),this.ruleSelectedService.setRuleHeightRecalculate(o);let g=e.getClusterId();this.dispatchFwStatusUpdateAction(g,t),Promise.resolve()}catch{Promise.reject()}})}deleteObjectFromPosition(e,t,r,o,s,a){let l={};l=this.buildRemoveApiData(a,s),this.ruleSelectedService.setRuleStatus(""),this.utilService.fwcAPICall(this.fwcRoutingPolicyService.updateRoutingPolicyRule.bind(this.fwcRoutingPolicyService),e,r,o,l).then(c=>{this.removeObjectFromPosition(s,a),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("ROUTING.SUCCESS.UPDATE_ROUTE")}),this.dispatchFwStatusUpdateAction(t,e),this.dispatchReloadItemEditingPanels(),this.ruleSelectedService.setRuleHeightRecalculate(o)}).catch(c=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(c)})}).finally(()=>{this.ruleSelectedService.setRuleStatus(null),this.detectChanges()})}addObjectToPosition(e,t){let r={cluster_id:t._fwcClusterId,cluster_name:t._fwcClusterName,firewall_id:t._fwcFwId,firewall_name:t._fwcFwName,host_id:t._fwcHostId,host_name:t._fwcHostName,id:t._fwcObjId,id_obj:t._fwcObjId,name:t._fwcObjName,obj_type:t._fwcObjType,parent_id:t.parent_id,position:e.id,position_order:e.ipobjs?e.ipobjs.length:1,rule:e.rule,type:t._fwcObjType,_fwcFwId:t._fwcFwId,_fwcFwName:t._fwcFwName,_fwcObjId:t._fwcObjId,_fwcObjName:t._fwcObjName,_fwcObjType:t._fwcObjType,_fwcPositionId:e.id,_fwcRuleId:e.rule,_fwcUserId:this.fwcUserService.getActualFwcUser().user_id,highlighted:t.highlighted};e.ipobjs=[...e.ipobjs,r]}showNewRuleDialog(e,t,r,o){let s=this.utilService.createDynamicComponentRef(X1),a=s.instance;a.setDynamicComponentRef(s),a.showNewRuleDialog(e,t,r,o)}moveSelectedRules(e,t,r,o,s){this.store.dispatch(Ei.requestBlockUI()),this.utilService.fwcAPICall(this.fwcRoutingPolicyService.manageRoutingPolicyRules.bind(this.fwcRoutingPolicyService),e,t,r,s,o,ur.CUT).then(a=>{this.fwcPolicyService.reloadPolicy()}).catch(a=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.translate.instant("GLOBALS.MSG_OP_RESULT.PROCESS_ERROR")})}).finally(()=>{this.store.dispatch(Ei.requestUnblockUI())})}newRoutingRuleGroup(e,t,r){let o=r&&r.groupName,s=r&&r.groupComment;if(o){let l=this.ruleSelectedService.getActualSelectedRules().map(c=>c.id);this.ruleSelectedService.setRuleStatus(""),this.utilService.fwcAPICall(this.fwcRoutingPolicyService.newRoutingPolicyRuleGroup.bind(this.fwcRoutingPolicyService),e,t,o,s,l).then(c=>{this.dispatchReloadItemPanelAction(),this.fwcPolicyService.reloadPolicy()}).catch(c=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(c)})}).finally(()=>{this.ruleSelectedService.setRuleStatus(null),this.detectChanges()})}else return}setRuleStyle(e,t){if(t){let r={style:t.ruleColor};this.updateSelectedRules(e._fwcClusterId,e.firewall,this.fwcUserService.getActualFwSelectedCloud(),r)}}compileSelectedRules(){this.compileRulesOrRoutes()}handleChangeApplyToTable(e){if(e&&e.formModel){let t=e.firewall,r=e.fwcloud,o={firewallApplyToId:e.formModel.fw_apply_to};this.ruleSelectedService.setRuleStatus(""),this.utilService.fwcAPICall(this.fwcRoutingPolicyService.updateRoutingPolicyRule.bind(this.fwcRoutingPolicyService),t,r,e.id,o).then(s=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("ROUTING.SUCCESS.UPDATE_RULE")}),this.dispatchFwStatusUpdateAction(e._fwcClusterId,e.firewall),this.dispatchReloadItemEditingPanels(),this.detectChanges()}).catch(s=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(s)})}).finally(()=>{this.ruleSelectedService.setRuleStatus(null),this.detectChanges()})}}static{this.\u0275fac=function(t){return new(t||i)(ce(Xe),ce(Wi),ce(Et),ce(pt),ce(Pn),ce(yu),ce(rs),ce(Iu),ce(ci),ce(si),ce(Ie),ce(rt))}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac})}}return i})();var N6e=()=>({width:"30vw"}),V6e=()=>({visibility:"hidden"}),B6e=i=>({table_name:i});function U6e(i,n){if(i&1&&(m(0,"div",15)(1,"h6",16),O(2,"i",17),D(3),R(4,"translate"),_()()),i&2){let e=f();u(3),J(" ",Di(4,1,"PANELS.ROUTING_ROUTE_PANEL.TITLE",oe(4,B6e,e.tableName))," ")}}function j6e(i,n){if(i&1){let e=B();m(0,"button",18),R(1,"translate"),P("click",function(){S(e);let r=f();return A(r.hideDialog())}),_(),m(2,"button",19),R(3,"translate"),P("click",function(){S(e);let r=f();return A(r.handleSave())}),_()}if(i&2){let e=f();ae("label",k(1,3,"GLOBALS.MSG_BUTTONS.CANCEL")),u(2),ae("label",k(3,5,"GLOBALS.MSG_BUTTONS.SAVE")),h("disabled",!e.formModel.valid||e.formModel.pristine||e.loading)}}var eS=(()=>{class i extends ei{constructor(e,t,r,o,s,a,l,c,d,p,g,C,y){super(r,t,e,o,d,g),this.itemSelectedService=e,this.appOptionsService=t,this.appDialogPanelsService=r,this.cd=o,this.utilService=s,this.fwcPolicyService=a,this.fwcRoutingTableService=l,this.fwcUserService=c,this.store=d,this.fb=p,this.router=g,this.messageService=C,this.translate=y,this.ObjectTypes=L,this.loading=!1}ngOnInit(){this.formModel=this.fb.group({gateway:new Se(void 0,$e.required),comment:new Se("")})}showNewRouteDialog(e,t,r,o,s,a){this.clusterId=e,this.firewallId=t,this.tableId=r,this.tableName=o,this.baseRouteId=s,this.newRouteOffset=a,this.displayDialog=!0}handleSave(){if(this.formModel.valid){this.store.dispatch(Ei.requestBlockUI());let{gateway:e,comment:t}=this.formModel.value,r=e&&e.id;this.loading=!0,this.utilService.fwcAPICall(this.fwcRoutingTableService.newRoutingTableRoute.bind(this.fwcRoutingTableService),this.firewallId,this.fwcUserService.getActualFwSelectedCloud(),this.tableId,r,t,this.baseRouteId,this.newRouteOffset).then(o=>{this.hideDialog(),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("PANELS.ROUTING_ROUTE_PANEL.INFO.SAVE_ROUTE")}),this.fwcPolicyService.reloadPolicy(),this.store.dispatch(Nr.updateFwStatus({item:{cluster:this.clusterId,id:this.firewallId,status:3}}))}).catch(o=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("PANELS.ROUTING_ROUTE_PANEL.ERRORS.SAVE_ROUTE")})}).finally(()=>{this.loading=!1,this.store.dispatch(Ei.requestUnblockUI())})}}handleCheckForm(e){e&&e.target&&this.formModel.valid&&(e.target.blur(),this.handleSave())}handleCancel(){this.hideDialog()}static{this.\u0275fac=function(t){return new(t||i)(b(At),b(Bt),b(Mt),b(Ie),b(Et),b(Pn),b(rs),b(pt),b(rt),b(Fr),b(ct),b(ci),b(Xe))}}static{this.\u0275cmp=ie({type:i,selectors:[["sts-fwc-routing-table-route-panel"]],features:[ve],decls:24,vars:22,consts:[["dlgRoutingRuleDialog",""],["styleClass","dlgFwcDialog fwcObjectDialog--small",3,"visibleChange","onShow","onHide","visible","modal","closable","resizable"],["pTemplate","header"],[3,"formGroup"],[3,"keyup.enter","keyup.esc","disabled"],[1,"grid"],[1,"col-12"],[1,"p-inputgroup"],[1,"p-float-label"],["formControlName","gateway",3,"readOnly","groupType","msgNotAllowed"],[1,"fwcFloatLabel"],[1,"fwc-error",3,"ngStyle"],["pInputText","","type","text","formControlName","comment","name","comment",3,"drop"],["for","comment"],["pTemplate","footer"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"fwcMenuIcon","fwci-policy","fwcOrange"],["type","button","pButton","","icon","pi pi-times",1,"p-button-secondary",3,"click","label"],["type","button","pButton","","icon","pi pi-check",1,"p-button-primary",3,"click","label","disabled"]],template:function(t,r){if(t&1){let o=B();m(0,"p-dialog",1,0),Ve("visibleChange",function(a){return S(o),Ue(r.displayDialog,a)||(r.displayDialog=a),A(a)}),P("onShow",function(){return S(o),A(!0)})("onHide",function(){return S(o),A(!0)}),I(2,U6e,5,6,"ng-template",2),m(3,"form",3)(4,"fieldset",4),P("keyup.enter",function(a){return S(o),A(r.handleCheckForm(a))})("keyup.esc",function(){return S(o),A(r.handleCancel())}),m(5,"div",5),O(6,"div",6),m(7,"div",6)(8,"div",7)(9,"span",8),O(10,"sts-fwc-object-group",9),R(11,"translate"),m(12,"label",10),D(13),R(14,"translate"),_()()(),O(15,"p",11),_(),m(16,"div",6)(17,"div",7)(18,"span",8)(19,"input",12),P("drop",function(a){return S(o),A(r.preventDrop(a))}),_(),m(20,"label",13),D(21),R(22,"translate"),_()()()()()()(),I(23,j6e,4,7,"ng-template",14),_()}t&2&&(dt(Ae(20,N6e)),Ne("visible",r.displayDialog),h("modal",!1)("closable",!1)("resizable",!0),u(3),h("formGroup",r.formModel),u(),h("disabled",r.loading),u(6),ae("msgNotAllowed",k(11,14,"PANELS.ROUTING_ROUTE_PANEL.ERRORS.INVALID_GATEWAY")),h("readOnly",!1)("groupType",r.ObjectTypes.OBJ_ROUTING_GATEWAY),u(3),$(k(14,16,"PANELS.ROUTING_ROUTE_PANEL.GATEWAY")),u(2),h("ngStyle",Ae(21,V6e)),u(6),$(k(22,18,"ITEM_PANEL.FIELDS.COMMENTS")))}})}}return i})();var ik=()=>({visibility:"hidden"});function H6e(i,n){i&1&&(D(0),R(1,"translate")),i&2&&J(" ",k(1,1,"PANELS.ROUTING_TABLE_PANEL.TITLE_EDIT")," ")}function G6e(i,n){i&1&&(D(0),R(1,"translate")),i&2&&J(" ",k(1,1,"PANELS.ROUTING_TABLE_PANEL.TITLE")," ")}function z6e(i,n){if(i&1&&(m(0,"div",6)(1,"h6",7),O(2,"i",8),I(3,H6e,2,3)(4,G6e,2,3),_()()),i&2){let e=f();u(3),q(e.formModel!=null&&e.formModel.get("id").value?3:4)}}function W6e(i,n){if(i&1&&O(0,"sts-fwc-message",3),i&2){let e=f();h("message",e.errorMessage)}}function K6e(i,n){if(i&1){let e=B();m(0,"form",4)(1,"fieldset",9),P("keyup.enter",function(r){S(e);let o=f();return A(o.handleCheckForm(r))})("keyup.esc",function(){S(e);let r=f();return A(r.handleCancel())}),m(2,"div",10),O(3,"div",11),m(4,"div",11)(5,"div",12)(6,"span",13)(7,"label",14),D(8),R(9,"translate"),_(),O(10,"p-dropdown",15),_()(),O(11,"p",16),_(),m(12,"div",11)(13,"div",12)(14,"span",13)(15,"label",14),D(16),R(17,"translate"),_(),m(18,"input",17),P("drop",function(r){S(e);let o=f();return A(o.preventDrop(r))}),_()()(),O(19,"p",16),_(),m(20,"div",11)(21,"div",12)(22,"span",13)(23,"label",14),D(24),R(25,"translate"),_(),m(26,"input",18),P("drop",function(r){S(e);let o=f();return A(o.preventDrop(r))}),_()()(),O(27,"p",16),_()()()()}if(i&2){let e=f();h("formGroup",e.formModel),u(),h("disabled",e.loading),u(7),$(k(9,9,"PANELS.ROUTING_TABLE_PANEL.FIELDS.NUMBER")),u(2),h("options",e.availableNumbersItems),u(),h("ngStyle",Ae(15,ik)),u(5),$(k(17,11,"PANELS.ROUTING_TABLE_PANEL.FIELDS.NAME")),u(3),h("ngStyle",Ae(16,ik)),u(5),$(k(25,13,"PANELS.ROUTING_TABLE_PANEL.FIELDS.COMMENT")),u(3),h("ngStyle",Ae(17,ik))}}function $6e(i,n){if(i&1){let e=B();m(0,"button",19),R(1,"translate"),P("click",function(){S(e);let r=f();return A(r.hideDialog())}),_(),m(2,"button",20),R(3,"translate"),P("click",function(){S(e);let r=f();return A(r.handleSave())}),_()}if(i&2){let e=f();ae("label",k(1,3,"GLOBALS.MSG_BUTTONS.CANCEL")),u(2),ae("label",k(3,5,"GLOBALS.MSG_BUTTONS.SAVE")),h("disabled",!(e.formModel!=null&&e.formModel.valid)||(e.formModel==null?null:e.formModel.pristine)||e.loading)}}var JG=(()=>{class i extends ei{constructor(e,t,r,o,s,a,l,c,d,p,g,C,y,v){super(r,t,e,o,d,p),this.itemSelectedService=e,this.appOptionsService=t,this.appDialogPanelsService=r,this.cd=o,this.utilService=s,this.fwcPolicyService=a,this.fwcRoutingTableService=l,this.fwcUserService=c,this.store=d,this.router=p,this.fwcErrorPipe=g,this.fb=C,this.messageService=y,this.translate=v,this.availableNumbersItems=[]}ngOnInit(){this.formModel=this.fb.group({id:new Se(void 0),number:new Se($e.required),name:new Se("",$e.required),comment:new Se("")}),this.formModel.valueChanges.subscribe(({number:e})=>{if(this.selectedTableNumber!==e){this.selectedTableNumber=e;let t=this.formModel.get("name");e===254?(t.setValue("main"),t.disable()):(t.enable(),t.value==="main"&&t.reset())}})}showNewRoutingTableDialog(e,t,r,o,s,a){this.clusterId=e,this.clusterName=t,this.firewallId=r,this.firewallName=o,this.fwcloudId=s;let l=[];this.utilService.fwcAPICall(this.fwcRoutingTableService.getRoutingTables.bind(this.fwcRoutingTableService),r,s).then(c=>{let d,p=c.data,g=new Map;if(Array.isArray(p))for(let C of p)g.set(C.number,C.name),C.id===a&&(d=C);l.push({label:"254 (main)",value:254,disabled:g.has(254)});for(let C=1;C<=250;C++){let y="";g.has(C)&&(y=` (${g.get(C)})`),l.push({label:C+y,value:C,disabled:y!==""})}if(d)this.formModel.reset({id:d.id,name:d.name,number:d.number,comment:d.comment});else for(let C of l)if(!C.disabled){this.formModel.get("number").setValue(C.value),this.formModel.markAsDirty();break}}).catch(c=>{this.errorMessage={type:"error",title:this.translate.instant("PANELS.ROUTING_RULE_PANEL.ERRORS.GET_ROUTING_TABLES.TEXT"),text:this.fwcErrorPipe.transform(c)}}).finally(()=>{this.availableNumbersItems=l.map(c=>({label:c.label,value:c.value,disabled:c.disabled||!1})),this.showDialog()})}handleSave(){if(this.formModel.valid){let{id:e,number:t,name:r,comment:o}=this.formModel.getRawValue();this.store.dispatch(Ei.requestBlockUI());let s=this.fwcRoutingTableService.newRoutingTable.bind(this.fwcRoutingTableService),a=[this.firewallId,this.fwcloudId,t,r,o];e&&(s=this.fwcRoutingTableService.updateRoutingTable.bind(this.fwcRoutingTableService),a=[this.firewallId,this.fwcloudId,e,t,r,o]),this.loading=!0,this.utilService.fwcAPICall(s,...a).then(l=>{let c;e||(c={_fwcObjId:l.data.id,_fwcObjType:Mr.ROUTING_TABLE,container:bt.C_FIREWALLS}),this.itemSelectedService.setModifiedItem({_fwcTreeAction:mn.RELOAD_TREE,containerToReload:bt.C_FIREWALLS,treeNodeToSelect:c});let d=this.fwcPolicyService.getActualSelectedPolicy();if(e&&d&&d._fwcPolicyType===Mr.ROUTING_TABLE&&d._fwcObjId===e?(d._fwcPolicyName=r,this.fwcPolicyService.setSelectedPolicy(d)):d._fwcPolicyType===Mr.POLICY_ROUTING&&this.fwcPolicyService.reloadPolicy(),this.store.dispatch(Nr.updateFwStatus({item:{cluster:this.clusterId,id:this.firewallId,status:3}})),!e){let p={fwcloud:this.fwcloudId,_fwcFwId:this.firewallId,_fwcFwName:this.clusterId?this.clusterName:this.firewallName,_fwcClusterId:this.clusterId,_fwcObjId:l.data.id,_fwcPolicyType:Mr.ROUTING_TABLE,_fwcPolicyName:r};this.fwcPolicyService.setSelectedPolicy(p)}this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("ROUTING.NEW_TABLE_PANEL.SUCCESS")}),this.hideDialog()}).catch(l=>{let c;c=this.fwcErrorPipe.transform(l),c||(c=this.translate.instant("ROUTING.NEW_TABLE_PANEL.ERROR")),this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:c})}).finally(()=>{this.loading=!1,this.store.dispatch(Ei.requestUnblockUI())})}}handleCheckForm(e){e&&e.target&&this.formModel.valid&&(e.target.blur(),this.handleSave())}handleCancel(){this.hideDialog()}static{this.\u0275fac=function(t){return new(t||i)(b(At),b(Bt),b(Mt),b(Ie),b(Et),b(Pn),b(rs),b(pt),b(rt),b(ct),b(Wi),b(Fr),b(ci),b(Xe))}}static{this.\u0275cmp=ie({type:i,selectors:[["sts-fwc-routing-table-panel"]],features:[ve],decls:6,vars:5,consts:[["dlgRoutingRuleDialog",""],["styleClass","dlgFwcDialog fwcObjectDialog--small",3,"visibleChange","onShow","onHide","visible","modal","closable","resizable"],["pTemplate","header"],[3,"message"],[3,"formGroup"],["pTemplate","footer"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"fwcMenuIcon","fwci-policy","fwcOrange"],[3,"keyup.enter","keyup.esc","disabled"],[1,"grid"],[1,"col-12"],[1,"p-inputgroup"],[1,"p-float-label"],[1,"fwcFloatLabel"],["formControlName","number","appendTo","body",3,"options"],[1,"fwc-error",3,"ngStyle"],["pInputText","","type","text","formControlName","name","name","name",3,"drop"],["pInputText","","type","text","formControlName","comment","name","comment",3,"drop"],["type","button","pButton","","icon","pi pi-times",1,"p-button-secondary",3,"click","label"],["type","button","pButton","","icon","pi pi-check",1,"p-button-primary",3,"click","label","disabled"]],template:function(t,r){if(t&1){let o=B();m(0,"p-dialog",1,0),Ve("visibleChange",function(a){return S(o),Ue(r.displayDialog,a)||(r.displayDialog=a),A(a)}),P("onShow",function(){return S(o),A(!0)})("onHide",function(){return S(o),A(!0)}),I(2,z6e,5,1,"ng-template",2)(3,W6e,1,1,"sts-fwc-message",3)(4,K6e,28,18,"form",4)(5,$6e,4,7,"ng-template",5),_()}t&2&&(Ne("visible",r.displayDialog),h("modal",!0)("closable",!1)("resizable",!0),u(3),q(r.errorMessage?3:4))},dependencies:[Ee,gr,pn,cn,mr,_r,Or,ni,be,mt,On,Ho,Nn,vt]})}}return i})();var tp=(()=>{class i extends Q1{constructor(e,t,r,o,s,a,l,c,d,p,g,C){super(e,t,r,o,a,l,c,d,p,g),this.translate=e,this.fwcErrorPipe=t,this.utilService=r,this.fwcUserService=o,this.fwcPolicyService=s,this.fwcRoutingPolicyService=a,this.fwcRoutingTableService=l,this.ruleSelectedService=c,this.messageService=d,this.cd=p,this.store=g,this.confirmationService=C}showNewRoutingTableDialog(e,t,r,o,s,a){let l=this.utilService.createDynamicComponentRef(JG),c=l.instance;c.setDynamicComponentRef(l),c.showNewRoutingTableDialog(e,t,r,o,s,a)}showNewRouteDialog(e,t,r,o,s,a){let l=this.utilService.createDynamicComponentRef(eS),c=l.instance;c.setDynamicComponentRef(l),c.showNewRouteDialog(e,t,r,o,s,a)}parseRoutingTableRoutes(e,t,r){let o=[];for(let s of r){let a={id:s.id,idgroup:s.routeGroupId,group_name:s.routeGroup&&s.routeGroup.name,group_style:s.routeGroup&&s.routeGroup.style,comment:s.comment,style:s.style,type:Mr.ROUTING_TABLE,rule_order:s.route_order,active:s.active?1:0,firewall:e,fwcloud:t,fw_apply_to:s.firewallApplyToId,positions:[]},l=1,c={id:Ui.TO_POSITION,name:this.translate.instant("ITEM_PANEL.FIELDS.PORT_E"),policy_type:a.type,position_order:l++,content:"O",single_object:0,fwcloud:t,firewall:e,rule:a.id,ipobjs:[]};if(Array.isArray(s.items)){let p=1;for(let g of s.items){let C={rule:a.id,position:Ui.TO_POSITION,id:g.id,name:g.name,type:g.type,position_order:p++,firewall_id:g.firewall_id,firewall_name:g.firewall_name,cluster_id:g.cluster_id,cluster_name:g.cluster_name,host_id:g.host_id,host_name:g.host_name};c.ipobjs.push(C)}}if(a.positions.push(c),s.gateway){let p=s.gateway,g={id:Ui.GATEWAY_POSITION,name:this.translate.instant("Gateway"),policy_type:a.type,position_order:l++,content:"O",single_object:1,fwcloud:t,firewall:e,rule:a.id,ipobjs:[{rule:a.id,position:Ui.GATEWAY_POSITION,id:p.id,name:p.name,type:p.ipObjTypeId,allowDrag:!1,position_order:1,firewall_id:p.firewall_id,firewall_name:p.firewall_name,cluster_id:p.cluster_id,cluster_name:p.cluster_name,host_id:p.host_id,host_name:p.host_name}]};a.positions.push(g)}let d={id:Ui.INTERFACE_POSITION,name:this.translate.instant("GLOBALS.MSG_OBJ_TYPES.OBJ_INTERFACE_FIREWALL"),policy_type:a.type,position_order:l++,content:"I",single_object:1,fwcloud:t,firewall:e,rule:a.id,ipobjs:[]};if(s.interface){let p=s.interface,g={rule:a.id,position:Ui.INTERFACE_POSITION,id:p.id,name:p.name,type:p.type,position_order:1,firewall_id:p.firewall_id||p.firewallId,firewall_name:p.firewall_name,cluster_id:p.cluster_id,cluster_name:p.cluster_name,host_id:p.host_id,host_name:p.host_name};d.ipobjs.push(g)}a.positions.push(d),o.push(a)}return o}updateRoute(e,t,r,o,s,a){let l=!1,c=!1,d=r.comment,p=r.style,g=r.active,C=r.id,y=r.routingTableId,v={};o!==d&&(v.comment=o,l=!0,c=!0),s!==p&&(v.style=s,l=!0),a!==g&&(v.active=!!a,l=!0,c=!0),l&&(this.ruleSelectedService.setRuleStatus(""),this.utilService.fwcAPICall(this.fwcRoutingTableService.updateRoutingTableRoute.bind(this.fwcRoutingTableService),e,t,y,C,v).then(w=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("ROUTING.SUCCESS.UPDATE_ROUTE")}),s!==p&&(r.style=s),a!==g&&(r.active=a),o!==d&&(r.comment=o),c&&this.fwcPolicyService.reloadPolicy()}).catch(w=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(w)}),s!==p&&(r.style=p),a!==g&&(r.active=g),o!==d&&(r.comment=d)}).finally(()=>{this.ruleSelectedService.setRuleStatus(null),this.detectChanges()}))}updateSelectedRoutes(e,t,r,o,s){let a=this.ruleSelectedService.getActualSelectedRules();if(Array.isArray(a)&&a.length){let l=a.map(d=>d.id);this.ruleSelectedService.setRuleStatus("");let c=!!Object.keys(s).filter(d=>d!=="style").length;this.utilService.fwcAPICall(this.fwcRoutingTableService.updateRoutingTableRoutes.bind(this.fwcRoutingTableService),t,r,o,l,s).then(d=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("ROUTING.SUCCESS.UPDATE_ROUTE")}),this.fwcPolicyService.reloadPolicy(),c&&this.dispatchFwStatusUpdateAction(e,t)}).catch(d=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(d)})}).finally(()=>{this.ruleSelectedService.setRuleStatus(null)})}}buildRoutesCopyApiData(e,t){let r={};switch(t.id){case Ui.GATEWAY_POSITION:{r.gatewayId=e._fwcObjId;break}case Ui.INTERFACE_POSITION:{r.interfaceId=e._fwcObjId;break}case Ui.TO_POSITION:{r=this.buildCopyApiData(e,t);break}default:return}return r}buildRoutesRemoveApiData(e,t){let r={};switch(t.id){case Ui.GATEWAY_POSITION:break;case Ui.INTERFACE_POSITION:{r.interfaceId=null;break}case Ui.TO_POSITION:{r=this.buildRemoveApiData(e,t);break}default:return}return r}updateRoutePosition(e,t,r,o,s,a,l,c){let d={},p=l._fwcPositionId,g=l._fwcRuleId;if(p==null||g==null||c==ur.COPY)if((l.obj_type==L.OBJ_OPENVPN_PREFIX||l.obj_type==L.OBJ_INTERFACE_FIREWALL)&&"items"in l&&l.items.length===0||l.obj_type==L.OBJ_HOST&&"items"in l&&l.items.length>0&&l.items[0].items.length===0)this.confirmationService.confirm({header:this.translate.instant("POSITION.ERROR_HEADER"),icon:"fa fa-exclamation-circle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:l.obj_type==L.OBJ_HOST?this.translate.instant("POSITION.ERROR_EMPTY_CONTAINER",{name:l._fwcObjName,ipVersion:"IP"}):l.obj_type==L.OBJ_INTERFACE_FIREWALL?this.translate.instant("POSITION.ERROR_GROUP_EMPTY",{name:l._fwcObjName}):this.translate.instant("POSITION.ERROR_EMPTY_PREFIX",{name:l._fwcObjName}),accept:()=>{}});else{let C=this.buildRoutesCopyApiData(l,a);this.ruleSelectedService.setRuleStatus(""),this.utilService.fwcAPICall(this.fwcRoutingTableService.updateRoutingTableRoute.bind(this.fwcRoutingTableService),t,r,o,s,C).then(y=>{this.addOrUpdateObjectToPosition(a,l),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("ROUTING.SUCCESS.UPDATE_ROUTE")});let v=e.getClusterId();this.dispatchFwStatusUpdateAction(v,t),this.dispatchReloadItemEditingPanels(),this.ruleSelectedService.setRuleHeightRecalculate(s)}).catch(y=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(y)})}).finally(()=>{this.ruleSelectedService.setRuleStatus(null),this.detectChanges()})}else this.ruleSelectedService.setRuleStatus(""),this.moveObject(e,t,r,o,s,a,l).then(()=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("ROUTING.SUCCESS.UPDATE_ROUTE")})}).catch(C=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(C)})}).finally(()=>{this.ruleSelectedService.setRuleStatus(null),this.detectChanges()})}moveObjectAlt(e,t,r,o,s,a,l){return N(this,null,function*(){try{let c=this.buildRoutesCopyApiData(l,a);yield this.utilService.fwcAPICall(this.fwcRoutingTableService.updateRoutingTableRoute.bind(this.fwcRoutingTableService),t,r,o,s,c);let d=e.getPolicyRule(l._fwcRuleId),p=d.positions.find(y=>y.id===l._fwcPositionId),g=this.buildRoutesRemoveApiData(l,p);yield this.utilService.fwcAPICall(this.fwcRoutingTableService.updateRoutingTableRoute.bind(this.fwcRoutingTableService),t,r,o,d.id,g),this.addOrUpdateObjectToPosition(a,l),this.removeObjectFromPosition(p,l);let C=e.getClusterId();this.dispatchFwStatusUpdateAction(C,t),this.dispatchReloadItemEditingPanels(),this.ruleSelectedService.setRuleHeightRecalculate(d.id),this.ruleSelectedService.setRuleHeightRecalculate(s)}catch(c){throw c}})}moveObject(e,t,r,o,s,a,l){return N(this,null,function*(){try{let c,d;switch(l._fwcObjType){case L.OBJ_GROUP:{c="ipObjGroupId";break}case L.OBJ_OPENVPN_PREFIX:{c="openVPNPrefixId";break}case L.OBJ_VPN_CONFIG_CLI:{c="openVPNId";break}case L.OBJ_INTERFACE_FIREWALL:{c="interfaceId";break}default:{c="ipObjId";break}}let p=e.getPolicyRule(l._fwcRuleId),g=p.positions.find(y=>y.id===l._fwcPositionId);d={fromId:p.id,toId:s},d[c]=l._fwcObjId,yield this.utilService.fwcAPICall(this.fwcRoutingTableService.moveObjectInRoutes.bind(this.fwcRoutingTableService),t,r,o,a.id,d),this.addOrUpdateObjectToPosition(a,l),this.removeObjectFromPosition(g,l);let C=e.getClusterId();this.dispatchFwStatusUpdateAction(C,t),this.dispatchReloadItemEditingPanels(),this.ruleSelectedService.setRuleHeightRecalculate(p.id),this.ruleSelectedService.setRuleHeightRecalculate(s)}catch(c){throw c}})}addOrUpdateObjectToPosition(e,t){let r={cluster_id:t._fwcClusterId,cluster_name:t._fwcClusterName,firewall_id:t._fwcFwId,firewall_name:t._fwcFwName,host_id:t._fwcHostId,host_name:t._fwcHostName,id:t._fwcObjId,id_obj:t._fwcObjId,name:t._fwcObjName,obj_type:t._fwcObjType,parent_id:t.parent_id,position:e.id,position_order:e.ipobjs?e.ipobjs.length:1,rule:e.rule,type:t._fwcObjType,_fwcFwId:t._fwcFwId,_fwcFwName:t._fwcFwName,_fwcObjId:t._fwcObjId,_fwcObjName:t._fwcObjName,_fwcObjType:t._fwcObjType,_fwcPositionId:e.id,_fwcRuleId:e.rule,_fwcUserId:this.fwcUserService.getActualFwcUser().user_id,highlighted:t.highlighted};e.id===Ui.GATEWAY_POSITION||e.id===Ui.INTERFACE_POSITION?(e.id===Ui.GATEWAY_POSITION?(e.ipobjs=e.ipobjs.filter(o=>o.obj_type!==L.OBJ_ADDRESS),r.allowDrag=!1):e.ipobjs=e.ipobjs.filter(o=>o.obj_type!==L.OBJ_INTERFACE_FIREWALL&&o.obj_type!==L.OBJ_INTERFACE_HOST),e.ipobjs.unshift(r)):e.id===Ui.TO_POSITION&&(e.ipobjs=[...e.ipobjs,r])}deleteObjectFromPosition(e,t,r,o,s,a,l){let c={};switch(a.id){case Ui.INTERFACE_POSITION:{c.interfaceId=null;break}case Ui.TO_POSITION:{c=this.buildRemoveApiData(l,a);break}default:return}this.ruleSelectedService.setRuleStatus(""),this.utilService.fwcAPICall(this.fwcRoutingTableService.updateRoutingTableRoute.bind(this.fwcRoutingTableService),e,r,o,s,c).then(d=>{this.removeObjectFromPosition(a,l),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("ROUTING.SUCCESS.UPDATE_ROUTE")}),this.dispatchFwStatusUpdateAction(t,e),this.dispatchReloadItemEditingPanels(),this.ruleSelectedService.setRuleHeightRecalculate(s)}).catch(d=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(d)})}).finally(()=>{this.ruleSelectedService.setRuleStatus(null),this.detectChanges()})}compileRoutes(e){this.compileRulesOrRoutes(e)}moveSelectedRoutes(e,t,r,o,s,a,l){this.store.dispatch(Ei.requestBlockUI()),this.utilService.fwcAPICall(this.fwcRoutingTableService.manageTableRoutes.bind(this.fwcRoutingTableService),t,r,o,s,l,a,ur.CUT).then(c=>{this.fwcPolicyService.reloadPolicy(),this.dispatchFwStatusUpdateAction(e,t)}).catch(c=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.translate.instant("GLOBALS.MSG_OP_RESULT.PROCESS_ERROR")})}).finally(()=>{this.store.dispatch(Ei.requestUnblockUI())})}setRouteStyle(e,t){if(t){let r={style:t.ruleColor};this.updateSelectedRoutes(e._fwcClusterId,e.firewall,this.fwcUserService.getActualFwSelectedCloud(),t.routingTableId,r)}}updateRouteComment(e,t){if(t&&t.formModel){let r=t.formModel.comment;if(t.comment!==r){let o=t.firewall,s=t.fwcloud,a={comment:r};this.ruleSelectedService.setRuleStatus(""),this.utilService.fwcAPICall(this.fwcRoutingTableService.updateRoutingTableRoute.bind(this.fwcRoutingTableService),o,s,e,t.id,a).then(l=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("ROUTING.SUCCESS.UPDATE_ROUTE")}),t.comment=r,this.dispatchFwStatusUpdateAction(t._fwcClusterId,o)}).catch(l=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(l)}),t.formModel.comment=t.comment}).finally(()=>{this.ruleSelectedService.setRuleStatus(null),this.detectChanges()})}}}updateRuleApplyTo(e,t){if(t&&t.formModel){let r=t.firewall,o=t.fwcloud,s={firewallApplyToId:t.formModel.fw_apply_to};this.ruleSelectedService.setRuleStatus(""),this.utilService.fwcAPICall(this.fwcRoutingTableService.updateRoutingTableRoute.bind(this.fwcRoutingPolicyService),r,o,e,t.id,s).then(a=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("ROUTING.SUCCESS.UPDATE_RULE")}),this.dispatchFwStatusUpdateAction(t._fwcClusterId,t.firewall),this.dispatchReloadItemEditingPanels(),this.detectChanges()}).catch(a=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(a)})}).finally(()=>{this.ruleSelectedService.setRuleStatus(null),this.detectChanges()})}}newRouteGroup(e,t,r){let o=r&&r.groupName,s=r&&r.groupComment;if(o){let l=this.ruleSelectedService.getActualSelectedRules().map(c=>c.id);this.ruleSelectedService.setRuleStatus(""),this.utilService.fwcAPICall(this.fwcRoutingTableService.newRoutingTableRouteGroup.bind(this.fwcRoutingTableService),e,t,o,s,l).then(c=>{this.store.dispatch(gn.reloadDialog({dialogUuids:[Ai.ITEM_PANEL]})),this.fwcPolicyService.reloadPolicy()}).catch(c=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(c)})}).finally(()=>{this.ruleSelectedService.setRuleStatus(null)})}else return}static{this.\u0275fac=function(t){return new(t||i)(ce(Xe),ce(Wi),ce(Et),ce(pt),ce(Pn),ce(yu),ce(rs),ce(Iu),ce(ci),ce(Ie),ce(rt),ce(si))}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac})}}return i})();var Y6e=["txtScriptString"],J6e=()=>({height:"98%",minHeight:"12rem"});function X6e(i,n){i&1&&(D(0),R(1,"translate")),i&2&&J(" ",k(1,1,"SCRIPT_PANEL.HEADER_DHCP")," ")}function Q6e(i,n){i&1&&(D(0),R(1,"translate")),i&2&&J(" ",k(1,1,"SCRIPT_PANEL.HEADER_KEEPALIVED")," ")}function Z6e(i,n){i&1&&(D(0),R(1,"translate")),i&2&&J(" ",k(1,1,"SCRIPT_PANEL.HEADER_HAPROXY")," ")}function eUe(i,n){i&1&&(D(0),R(1,"translate")),i&2&&J(" ",k(1,1,"SCRIPT_PANEL.HEADER")," ")}function tUe(i,n){if(i&1&&(m(0,"div",9)(1,"h6",10),I(2,X6e,2,3)(3,Q6e,2,3)(4,Z6e,2,3)(5,eUe,2,3),_()()),i&2){let e,t=f();u(2),q((e=t.policyType)===66?2:e===68?3:e===69?4:5)}}function iUe(i,n){if(i&1){let e=B();pe(0),m(1,"div",11)(2,"button",12),R(3,"translate"),P("click",function(){S(e);let r=f();return A(r.onCancel())}),_(),m(4,"button",13),R(5,"translate"),P("click",function(){S(e);let r=f();return A(r.onSubmit())}),_()(),he()}i&2&&(u(2),ae("label",k(3,2,"GLOBALS.MSG_BUTTONS.CANCEL")),u(2),ae("label",k(5,4,"GLOBALS.MSG_BUTTONS.SAVE")))}var I3t=(()=>{class i extends ei{constructor(e,t,r,o,s,a,l,c,d){super(e,t,r,o,s,a),this.appDialogPanelsService=e,this.appOptionsService=t,this.itemSelectedService=r,this.cd=o,this.store=s,this.router=a,this.confirmationService=l,this.translate=c,this._document=d,this.darkMode=!1}ngOnInit(){this.store.pipe(zn(Ns),kt(()=>this.alive)).subscribe(e=>{this.darkMode=e==="dark"})}ngAfterViewInit(){}onShowDialog(){this.txtScriptString&&setTimeout(()=>{this.txtScriptString.nativeElement.focus()},100)}ngOnDestroy(){super.ngOnDestroy()}show(e,t){this.rule=t,this.PolicyObject=e,this.scriptstring=t.run_before,this.policyType=this.PolicyObject.getPolicyType(),(this.policyType===66||this.policyType===68||this.policyType===69)&&(this.scriptstring=t.cfg_text),this.scriptGroup=new mo({scriptForm:new Se(this.scriptstring)}),this.showDialog()}onSubmit(){this.scriptstring=this.scriptGroup.value.scriptForm,this.rule.formModel.run_before=this.scriptstring,this.rule.type===Si[H.DHCP]||this.rule.type===Si[H.KEEPALIVED]||this.rule.type===Si[H.HAPROXY]?(this.rule.formModel.cfg_text=this.scriptstring,this.rule.formModel.run_before=void 0,this.PolicyObject.setRuleScript(this.rule)):this.PolicyObject.setRuleScript(this.rule),this.hideDialog()}onCancel(e){!e&&this.scriptGroup&&!this.scriptGroup.pristine&&this.scriptGroup.valid?this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_CONFIRM"),icon:"fa fa-question-circle fwcBlue iconBig",message:this.translate.instant("CLOUD.MSG_CLOUD_EXIT"),accept:()=>{this.onCancel(!0)},rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES")}):this.hideDialog()}static{this.\u0275fac=function(t){return new(t||i)(b(Mt),b(Bt),b(At),b(Ie),b(rt),b(ct),b(si),b(Xe),b(_t))}}static{this.\u0275cmp=ie({type:i,selectors:[["sts-fwc-config-panel"]],viewQuery:function(t,r){if(t&1&&de(Y6e,5),t&2){let o;ee(o=te())&&(r.txtScriptString=o.first)}},features:[Ze([Zt,J1,Z1,tp]),ve],decls:10,vars:8,consts:[["dlgConfigDialog",""],["txtScriptString",""],["styleClass","dlgFwcDialog",3,"visibleChange","onShow","onHide","visible","modal","closable","resizable"],["pTemplate","header"],[1,"fwcScriptPanel",3,"formGroup"],[1,"grid"],[1,"col-12"],["id","textScript","formControlName","scriptForm","pInputTextarea","",1,"textScript",3,"ngStyle"],["pTemplate","footer"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"divLoadTemp"],["type","button","pButton","","icon","pi pi-trash","icon","pi pi-times",1,"p-button-danger",3,"click","label"],["type","button","pButton","","icon","fa fa-save",1,"p-button-success",3,"click","label"]],template:function(t,r){if(t&1){let o=B();m(0,"p-dialog",2,0),Ve("visibleChange",function(a){return S(o),Ue(r.displayDialog,a)||(r.displayDialog=a),A(a)}),P("onShow",function(){return S(o),A(r.onShowDialog())})("onHide",function(){return S(o),A(r.hideDialog())}),I(2,tUe,6,1,"ng-template",3),m(3,"form",4)(4,"div",5)(5,"div",6)(6,"textarea",7,1),D(8),_()()()(),I(9,iUe,6,6,"ng-template",8),_()}t&2&&(Ne("visible",r.displayDialog),h("modal",!0)("closable",!1)("resizable",!0),u(3),h("formGroup",r.scriptGroup),u(3),h("ngStyle",Ae(7,J6e)),u(2),$(r.scriptstring))},dependencies:[Ee,gr,pn,cn,mr,_r,Or,ni,be,mt,xo,vt]})}}return i})();var nk=Ja(ep());var nUe=["txtCompiledString"],rUe=()=>({height:"98%",minHeight:"12rem"});function oUe(i,n){if(i&1){let e=B();m(0,"div",8)(1,"h6",9),D(2),R(3,"translate"),_()(),m(4,"div",10)(5,"button",11),P("click",function(){S(e);let r=f();return A(r.minimizeDialog())}),_()()}if(i&2){let e=f();u(2),Ts(" ",k(3,2,"CONTEXT.POLICY.HEADER")," ",e.firewallName," ")}}function sUe(i,n){if(i&1){let e=B();m(0,"button",12),R(1,"translate"),P("click",function(){S(e);let r=f();return A(r.handleExportedToClipboard())}),_(),m(2,"button",13),R(3,"translate"),P("click",function(){S(e);let r=f();return A(r.downloadPolicyScript(r.firewallId))}),_(),m(4,"button",14),R(5,"translate"),P("click",function(){S(e);let r=f();return A(r.onCancel())}),_()}i&2&&(ae("label",k(1,3,"VPN.CONFIG.CLIPBOARD.BUTTON")),u(2),ae("label",k(3,5,"CONTEXT.POLICY.DOWNLOAD")),u(2),ae("label",k(5,7,"GLOBALS.MSG_BUTTONS.CLOSE")))}var rk=(()=>{class i extends ei{constructor(e,t,r,o,s,a,l,c,d,p,g,C,y){super(e,t,r,c,d,p),this.appDialogPanelsService=e,this.appOptionsService=t,this.itemSelectedService=r,this.fwcFirewallService=o,this.fwcPolicyService=s,this.fwcUserService=a,this.utilService=l,this.cd=c,this.store=d,this.router=p,this.confirmationService=g,this.translate=C,this._document=y,this.darkMode=!1,this.firewalls=[],this.FirewallOpsIcons=Vf}ngOnInit(){this.store.pipe(zn(Ns),kt(()=>this.alive)).subscribe(e=>{this.darkMode=e==="dark"})}ngAfterViewInit(){}show(e){let t,r=[];this.fwcFirewallService.getClustersByCloud(this.fwcUserService.getActualFwSelectedCloud()).subscribe(o=>{o.data&&Array.isArray(o.data)&&(r=o.data),r.find(s=>s.id===e)===void 0||r.find(s=>s.id===e)===null?t=this.fwcFirewallService.getFirewall.bind(this.fwcFirewallService):t=this.fwcFirewallService.getClusterNodes.bind(this.fwcFirewallService),t(e,this.fwcUserService.getActualFwSelectedCloud()).subscribe(s=>{let a=[],l,c;Array.isArray(s.data)&&s.data.length?a.push(...s.data):s.data&&s.data.id&&a.push(s.data),this.firewalls=[];for(let d=0;d<a.length;d++){if(a[d].status_compiled=a[d].status&1,a[d].status_installed=a[d].status&2,a[d].status_compiled=a[d].status_compiled?on.FW_PENDING:on.FW_OK,a[d].status_installed=a[d].status_installed?on.FW_PENDING:on.FW_OK,l=a[d].cluster,l==null)this.firewalls.push(a[d]);else{c=!1;for(let C=0;C<this.firewalls.length&&!c;C++)this.firewalls[C].cluster==l&&(this.firewalls[C].fwnodes.push(a[d]),c=!0);let p="",g=r.filter(C=>C.id==l);if(g&&g.length&&(p=g[0].name),!c){let C=Object.assign({},a[d]);a[d].name=p,a[d].fwnodes=[],a[d].fwnodes.push(C),this.firewalls.push(a[d])}}this.firewalls[d]!==void 0&&this.firewalls[d].status_compiled==on.FW_PENDING?(this.firewalls[d].status_compiled=on.FW_WARNING,this.hideDialog(),this.confirmationService.confirm({header:this.translate.instant("CONTEXT.POLICY.ERROR_HEADER"),message:this.translate.instant("CONTEXT.POLICY.ERROR_BODY",{name:this.firewalls[d].name}),reject:()=>{this.hideDialog()},accept:()=>{let p;r.find(g=>g.id===e)===void 0||r.find(g=>g.id===e)===null?p={compileAction:Kr.COMP_COMPILE,compileWhat:Kr.COMP_FIREWALL,compileId:e,compileType:0}:p={compileAction:Kr.COMP_COMPILE,compileWhat:Kr.COMP_CLUSTER,compileId:e,compileType:100},this.itemSelectedService.setCloudToCompile(p),this.hideDialog()},rejectLabel:"No",acceptLabel:this.translate.instant("CONTEXT.FW.COMPILE")})):(this.firewallName=this.firewalls[0].name,this.firewallId=this.firewalls[0].id,this.fwcPolicyService.getPolicyRules(this.fwcUserService.getActualFwSelectedCloud(),this.firewallId).subscribe(p=>{this.PolicyCompiledString=p.data}),this.showDialog())}})})}ngOnDestroy(){super.ngOnDestroy()}onShowDialog(){}onCancel(){this.hideDialog()}downloadPolicyScript(e){return N(this,null,function*(){let t="";if(this.firewalls.length===0||this.firewalls===null||this.firewalls===void 0){let r,o=[];this.fwcFirewallService.getClustersByCloud(this.fwcUserService.getActualFwSelectedCloud()).subscribe(s=>{s.data&&Array.isArray(s.data)&&(o=s.data),o.find(a=>a.id===e)===void 0||o.find(a=>a.id===e)===null?r=this.fwcFirewallService.getFirewall.bind(this.fwcFirewallService):r=this.fwcFirewallService.getClusterNodes.bind(this.fwcFirewallService),r(e,this.fwcUserService.getActualFwSelectedCloud()).subscribe(a=>{let l=[],c,d;if(Array.isArray(a.data)&&a.data.length?l.push(...a.data):a.data&&a.data.id&&l.push(a.data),l[0].status_compiled=l[0].status&1,l[0].status_installed=l[0].status&2,l[0].status_compiled=l[0].status_compiled?on.FW_PENDING:on.FW_OK,l[0].status_installed=l[0].status_installed?on.FW_PENDING:on.FW_OK,c=l[0].cluster,c==null)this.firewalls.push(l[0]);else{d=!1;for(let C=0;C<this.firewalls.length&&!d;C++)this.firewalls[C].cluster==c&&(this.firewalls[C].fwnodes.push(l[0]),d=!0);let p="",g=o.filter(C=>C.id==c);if(g&&g.length&&(p=g[0].name),!d){let C=Object.assign({},l[0]);l[0].name=p,l[0].fwnodes=[],l[0].fwnodes.push(C),this.firewalls.push(l[0])}}l[0]!==void 0&&l[0].status_compiled==on.FW_PENDING?(this.hideDialog(),this.confirmationService.confirm({header:this.translate.instant("CONTEXT.POLICY.ERROR_HEADER"),message:this.translate.instant("CONTEXT.POLICY.ERROR_BODY",{name:this.firewalls[0].name}),reject:()=>{this.hideDialog()},accept:()=>{let p;o.find(g=>g.id===e)===void 0||o.find(g=>g.id===e)===null?p={compileAction:Kr.COMP_COMPILE,compileWhat:Kr.COMP_FIREWALL,compileId:e,compileType:0}:p={compileAction:Kr.COMP_COMPILE,compileWhat:Kr.COMP_CLUSTER,compileId:e,compileType:100},this.itemSelectedService.setCloudToCompile(p),this.hideDialog()},rejectLabel:"No",acceptLabel:this.translate.instant("CONTEXT.FW.COMPILE")})):(this.firewallName=this.firewalls[0].name,this.utilService.fwcAPICall(this.fwcPolicyService.generatePolicyScript.bind(this.fwcPolicyService),this.fwcUserService.getActualFwSelectedCloud(),this.firewalls[0].id).then(p=>{let g=`${this.fwcUserService.getActualFwcUser().selectedFwCloudName}_${this.firewallName}_policy.sh`;(0,nk.saveAs)(p.body,g)}))})})}else this.firewallName=this.firewalls[0].name,this.utilService.fwcAPICall(this.fwcPolicyService.generatePolicyScript.bind(this.fwcPolicyService),this.fwcUserService.getActualFwSelectedCloud(),e).then(r=>{let o=`${this.fwcUserService.getActualFwcUser().selectedFwCloudName}_${this.firewallName}_policy.sh`;(0,nk.saveAs)(r.body,o)});this.ngOnDestroy()})}handleExportedToClipboard(){this.txtCompiledString&&(document.execCommand("copy"),this.txtCompiledString.nativeElement.setSelectionRange(0,0))}static{this.\u0275fac=function(t){return new(t||i)(b(Mt),b(Bt),b(At),b(Zt),b(Pn),b(pt),b(Et),b(Ie),b(rt),b(ct),b(si),b(Xe),b(_t))}}static{this.\u0275cmp=ie({type:i,selectors:[["sts-fwc-config-panel"]],viewQuery:function(t,r){if(t&1&&de(nUe,5),t&2){let o;ee(o=te())&&(r.txtCompiledString=o.first)}},features:[Ze([Zt,Ls,J1,Z1,tp]),ve],decls:9,vars:7,consts:[["dlgConfigDialog",""],["txtCompiledString",""],["styleClass","dlgFwcDialog dlgFwcDialog--medium",3,"visibleChange","onShow","onHide","visible","modal","closable","resizable"],["pTemplate","header"],[1,"grid","divFw"],[1,"col-12"],["id","textarea","readonly","true","pInputTextarea","",1,"textPolicyString",3,"ngStyle"],["pTemplate","footer"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"divHeaderButtons"],["pButton","","type","button","icon","fa fa-window-minimize",1,"p-button-secondary",3,"click"],["pButton","","icon","fa fa-clipboard",1,"p-button-secondary",3,"click","label"],["type","button","pButton","","icon","fa fa-download",1,"p-button-secondary",3,"click","label"],["pButton","","icon","pi pi-times",1,"p-button-primary",3,"click","label"]],template:function(t,r){if(t&1){let o=B();m(0,"p-dialog",2,0),Ve("visibleChange",function(a){return S(o),Ue(r.displayDialog,a)||(r.displayDialog=a),A(a)}),P("onShow",function(){return S(o),A(r.onShowDialog())})("onHide",function(){return S(o),A(r.hideDialog())}),I(2,oUe,6,4,"ng-template",3),m(3,"div",4)(4,"div",5)(5,"textarea",6,1),D(7),_()()(),I(8,sUe,6,9,"ng-template",7),_()}t&2&&(Ne("visible",r.displayDialog),h("modal",!0)("closable",!1)("resizable",!0),u(5),h("ngStyle",Ae(6,rUe)),u(2),$(r.PolicyCompiledString))},dependencies:[Ee,ni,be,mt,xo,vt],styles:["textarea[_ngcontent-%COMP%]{font-family:monospace!important}"]})}}return i})();var aUe=["opLogger"],lUe=["menuUpdate"],cUe=i=>({display:i}),dUe=()=>({width:"2rem",height:"2rem"}),uUe=()=>({width:"1.5rem",height:"1.5rem"});function pUe(i,n){if(i&1){let e=B();m(0,"div",3)(1,"div",11)(2,"i",12),P("click",function(){S(e);let r=f();return A(r.handleCloseDialog())}),_()(),m(3,"div",5),O(4,"p-progressSpinner"),m(5,"h3"),D(6),R(7,"translate"),_()()()}i&2&&(u(4),dt(Ae(5,dUe)),u(2),$(k(7,3,"PANELS.UPDATES_PANEL.INFO.CHECKING_UPDATES.HEADER")))}function hUe(i,n){i&1&&(m(0,"tr")(1,"th"),D(2),R(3,"translate"),_(),m(4,"th"),D(5),R(6,"translate"),_(),m(7,"th"),D(8),R(9,"translate"),_(),m(10,"th"),D(11),R(12,"translate"),_(),m(13,"th"),D(14,"Changelog"),_()()),i&2&&(u(2),$(k(3,4,"PANELS.UPDATES_PANEL.TABLE.APP")),u(3),$(k(6,6,"PANELS.UPDATES_PANEL.TABLE.CURRENT")),u(3),$(k(9,8,"PANELS.UPDATES_PANEL.TABLE.LAST")),u(3),$(k(12,10,"PANELS.UPDATES_PANEL.TABLE.NEEDS_UPDATE")))}function fUe(i,n){i&1&&O(0,"i",21)}function mUe(i,n){if(i&1){let e=B();m(0,"a",23),P("click",function(){S(e);let r=f().$implicit,o=f(2);return A(o.fetchChangeLog(r))}),O(1,"i",24),_()}}function gUe(i,n){i&1&&O(0,"p-progressSpinner"),i&2&&dt(Ae(2,uUe))}function _Ue(i,n){if(i&1){let e=B();m(0,"tr")(1,"td")(2,"span",19),P("contextmenu",function(r){let o=S(e).$implicit,s=f(2);return A(s.handleShowUpdateMenu(o,r))}),D(3),_()(),m(4,"td")(5,"span"),D(6),_()(),m(7,"td")(8,"span"),D(9),_()(),m(10,"td",20),I(11,fUe,1,0,"i",21),_(),m(12,"td",20),I(13,mUe,2,0,"a")(14,gUe,1,3,"p-progressSpinner",22),_()()}if(i&2){let e=n.$implicit,t=f(2);u(3),J(" ",e.appName," "),u(3),J(" ",e.current?e.current:"?"," "),u(3),J(" ",e.last?e.last:"?","\xA0 "),u(2),q(e.needsUpdate?11:-1),u(2),q(t.appBeingFetched!==e.appName?13:-1),u(),q(t.appBeingFetched===e.appName?14:-1)}}function CUe(i,n){if(i&1){let e=B();m(0,"button",25),R(1,"translate"),P("click",function(){S(e);let r=f(2);return A(r.handleUpdate())}),_()}if(i&2){let e=f(2);ae("label",k(1,2,"GLOBALS.MSG_OP_ASK.YES")),h("disabled",e.updating||!e.anyUpdatesSelected||e.pkgBasedInstall)}}function yUe(i,n){if(i&1){let e=B();m(0,"div",3)(1,"div",5),O(2,"i",13),m(3,"p")(4,"strong"),D(5),R(6,"translate"),R(7,"translate"),_()()(),m(8,"div",7)(9,"p"),D(10),R(11,"translate"),R(12,"translate"),_()(),m(13,"div",7)(14,"p-table",14),I(15,hUe,15,12,"ng-template",15)(16,_Ue,15,6,"ng-template",16),_()(),m(17,"div",7)(18,"p"),D(19),R(20,"translate"),R(21,"translate"),_()(),m(22,"div",9),I(23,CUe,2,4,"button",17),m(24,"button",18),R(25,"translate"),R(26,"translate"),P("click",function(){S(e);let r=f();return A(r.dialogRef.close({needsReloadUpdates:!!r.pkgBasedInstall}))}),_()()()}if(i&2){let e=f();u(5),$(e.manualUpdate?k(6,7,"PANELS.UPDATES_PANEL.INFO.MANUAL_VERSION.HEADER"):k(7,9,"PANELS.UPDATES_PANEL.INFO.NEW_VERSION.HEADER")),u(5),J(" ",e.manualUpdate?k(11,11,"PANELS.UPDATES_PANEL.INFO.MANUAL_VERSION.TEXT"):k(12,13,"PANELS.UPDATES_PANEL.INFO.NEW_VERSION.TEXT")," "),u(4),h("value",e.updateDataAsArray),u(5),J(" ",e.pkgBasedInstall?k(20,15,"PANELS.UPDATES_PANEL.INFO.NEW_VERSION.SUBTEXT_PKG_INSTALL"):k(21,17,"PANELS.UPDATES_PANEL.INFO.NEW_VERSION.SUBTEXT")," "),u(4),q(e.pkgBasedInstall?-1:23),u(),ae("label",e.pkgBasedInstall?k(26,21,"GLOBALS.MSG_BUTTONS.CLOSE"):k(25,19,"GLOBALS.MSG_OP_ASK.LATER")),h("disabled",e.updating)}}function IUe(i,n){if(i&1&&(m(0,"div",7),O(1,"sts-fwc-message",26),_()),i&2){let e=f();u(),h("message",e.opMessage)}}var XG=(()=>{class i extends H1{constructor(e,t,r,o,s,a,l,c,d,p,g){super(e,r),this.dialogRef=e,this.dialogConfig=t,this._router=r,this.fwcEventService=o,this.fwcUserService=s,this.fwcAuthService=a,this.appDialogPanelsService=l,this.confirmationService=c,this.messageService=d,this.utilService=p,this.translate=g,this.shouldCheckUpdates=!0,this.needsUpdate=!1,this.manualUpdate=!1,this.openedFromHelp=!1,this.needsRelogin=!1,this.needsReloadUpdates=!1,this.updating=!1,this.anyUpdatesSelected=!1,this.finishedUpdating=!1,this.updateDataAsArray=[],this.menuUpdateOptions=[],this.shouldCheckUpdates=ge.settings.checkUpdates,this.pkgBasedInstall=ge.settings.installMethod===ql.pkg}ngOnInit(){this.openedFromHelp=this.dialogConfig.data&&this.dialogConfig.data.openedFromHelp,this.checkingUpdates=!0,this.getUpdatesSubscription=this.utilService.getAppVersions().subscribe({next:e=>{if(e.data){this.updateData=this.parseUpdateInfo(e.data),this.updateDataAsArray=this.transformUpdateInfoToArray(this.updateData),this.fwcUserService.setAppVersions(this.updateDataAsArray),this.itUpdateData=this.createUpdateDataIterator(),this.manualUpdate=this.dialogConfig.data&&this.dialogConfig.data.manualUpdate;for(let t in e.data)if(e.data[t].needsUpdate){this.needsUpdate=!0,this.anyUpdatesSelected=!0;break}!this.needsUpdate&&!this.manualUpdate&&(this.dialogRef.close({needsReloadUpdates:!0}),this.shouldCheckUpdates&&this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("PANELS.UPDATES_PANEL.INFO.VERSION_ALREADY_UPDATED.HEADER"),detail:this.translate.instant("PANELS.UPDATES_PANEL.INFO.VERSION_ALREADY_UPDATED.TEXT")}))}this.checkingUpdates=!1},error:()=>{this.fwcUserService.setAppVersions([]),this.dialogRef.close({needsReloadUpdates:!0}),this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("PANELS.UPDATES_PANEL.ERRORS.NEW_VERSION.HEADER"),detail:this.translate.instant("PANELS.UPDATES_PANEL.ERRORS.NEW_VERSION.TEXT")+(this.openedFromHelp?"":this.translate.instant("PANELS.UPDATES_PANEL.ERRORS.NEW_VERSION.SUBTEXT"))}),this.checkingUpdates=!1}})}ngOnDestroy(){this.alive=!1}handleShowUpdateMenu(e,t){this.manualUpdate&&e&&e.apiEndpoint!=="updater"&&(e.needsUpdate?this.menuUpdateOptions=[{label:this.translate.instant("PANELS.UPDATES_PANEL.UPDATE_MENU.CLEAR"),icon:"fa fa-times fwcRed",command:()=>{e.needsUpdate=!1;let r=!1;for(let o of this.updateDataAsArray)if(o.needsUpdate){r=!0;break}this.anyUpdatesSelected=r}}]:this.menuUpdateOptions=[{label:this.translate.instant("PANELS.UPDATES_PANEL.UPDATE_MENU.FORCE"),icon:"fa fa-check fwcGreen",command:()=>{e.needsUpdate=!0,this.anyUpdatesSelected=!0}}],this.menuUpdate.toggle(t))}handleUpdate(){return N(this,null,function*(){this.updating=!0,this.updateData&&(this.fwcEventService.getEvent().pipe(kt(()=>this.alive)).subscribe(e=>{e.type===_l.EVENT_CONNECTION_ESTABLISHED?(this.addMessageToLog(this.translate.instant("PANELS.UPDATES_PANEL.INFO.APPLYING_UPDATES.SERVER_CONNECTION_RESTORED"),ut.MSG_INFO),this.addMessageToLog(this.translate.instant("PANELS.UPDATES_PANEL.INFO.APPLYING_UPDATES.OK_TEXT",{appName:this.currentOp.appName}),ut.MSG_OK),this.needsReloadUpdates=!0,this.currentOp&&this.currentOp.impliesRelogin&&(this.needsRelogin=!0),this.log.addBreakLine(),this.doUpdateOperation()):e.type===_l.EVENT_CONNECTION_LOST&&this.addMessageToLog(this.translate.instant("PANELS.UPDATES_PANEL.INFO.APPLYING_UPDATES.SERVER_CONNECTION_LOST"),ut.MSG_INFO)}),this.log.startDataLoad(),this.doUpdateOperation())})}doUpdateOperation(){return N(this,null,function*(){if(this.currentOp=this.itUpdateData.next().value,this.currentOp)if(this.currentOp.needsUpdate)try{this.currentOp.impliesConnectionLoss?(this.addMessageToLog(this.translate.instant("PANELS.UPDATES_PANEL.INFO.APPLYING_UPDATES.LOG_TEXT",{appName:this.currentOp.appName}),ut.MSG_INFO),yield this.utilService.fwcAPICall(this.utilService.updateVersion.bind(this.utilService),this.currentOp.apiEndpoint)):(this.addMessageToLog(this.translate.instant("PANELS.UPDATES_PANEL.INFO.APPLYING_UPDATES.LOG_TEXT",{appName:this.currentOp.appName}),ut.MSG_INFO),yield this.utilService.fwcAPICall(this.utilService.updateVersion.bind(this.utilService),this.currentOp.apiEndpoint),this.addMessageToLog(this.translate.instant("PANELS.UPDATES_PANEL.INFO.APPLYING_UPDATES.OK_TEXT",{appName:this.currentOp.appName}),ut.MSG_OK),this.needsReloadUpdates=!0,this.currentOp.impliesRelogin&&(this.needsRelogin=!0),this.log.addBreakLine(),this.doUpdateOperation())}catch{this.addMessageToLog(this.translate.instant("PANELS.UPDATES_PANEL.ERRORS.APPLYING_UPDATES.TEXT"),ut.MSG_ERROR),this.log.stopDataLoad(),this.finishedUpdating=!0}else this.doUpdateOperation();else this.log.stopDataLoad(),this.finishedUpdating=!0,this.needsRelogin&&(this.opMessage={type:"warning",title:this.translate.instant("PANELS.UPDATES_PANEL.INFO.RELOAD_REQUIRED.HEADER"),text:this.translate.instant("PANELS.UPDATES_PANEL.INFO.RELOAD_REQUIRED.TEXT")})})}fetchChangeLog(e){e&&e.changelogURL&&e.appName&&(this.appBeingFetched=e.appName,fetch(e.changelogURL).then(t=>t.json()).then(t=>{if(t){let r=decodeURIComponent(escape(atob(t.content)));this.appDialogPanelsService.searchAndShowDialog({uuid:Ai.DOCS_PANEL,data:{markdown:r,title:this.translate.instant("PANELS.UPDATES_PANEL.INFO.CHANGES",{appName:e.appName}),icon:"fa fa-tags"}})}this.appBeingFetched=null}).catch(t=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("PANELS.UPDATES_PANEL.ERRORS.CHECKING_CHANGELOG.HEADER"),detail:this.translate.instant("PANELS.UPDATES_PANEL.ERRORS.CHECKING_CHANGELOG.TEXT",{appName:e.appName})}),this.appBeingFetched=null}))}handleCloseDialog(){return N(this,null,function*(){if(this.getUpdatesSubscription&&this.getUpdatesSubscription.unsubscribe(),this.needsReloadUpdates&&!this.needsRelogin)try{this.checkingUpdates=!0,this.needsUpdate=this.manualUpdate=this.updating=!1;let e=yield this.utilService.fwcAPICall(this.utilService.getAppVersions.bind(this.utilService)),t=this.parseUpdateInfo(e.data),r=this.transformUpdateInfoToArray(t);this.fwcUserService.setAppVersions(r)}catch{}this.menuUpdate&&this.menuUpdate.hide(),this.dialogRef.close({needsReloadUpdates:this.needsReloadUpdates,needsRelogin:this.needsRelogin}),this.needsRelogin&&this.fwcUserService.logoutUser().toPromise().finally(()=>{this.utilService.doAppLogout(!0),this._router.navigate(["/"])})})}parseUpdateInfo(e){if(e){for(let t in e)e[t]||(e[t]={});e.updater.impliesConnectionLoss=!1,e.updater.apiEndpoint="updater",e.updater.appName=this.translate.instant("PANELS.UPDATES_PANEL.INFO.APPS.UPDATER"),e.updater.changelogURL="https://api.github.com/repos/soltecsis/fwcloud-updater/contents/CHANGELOG.md?ref=main",e.api.impliesConnectionLoss=!0,e.api.apiEndpoint="api",e.api.appName=this.translate.instant("PANELS.UPDATES_PANEL.INFO.APPS.API"),e.api.changelogURL="https://api.github.com/repos/soltecsis/fwcloud-api/contents/CHANGELOG.md?ref=main",e.websrv.impliesConnectionLoss=!0,e.websrv.apiEndpoint="websrv",e.websrv.appName=this.translate.instant("PANELS.UPDATES_PANEL.INFO.APPS.WEBSRV"),e.websrv.changelogURL="https://api.github.com/repos/soltecsis/fwcloud-websrv/contents/CHANGELOG.md?ref=main",e.ui.impliesRelogin=!0,e.ui.apiEndpoint="ui",e.ui.appName=this.translate.instant("PANELS.UPDATES_PANEL.INFO.APPS.UI"),e.ui.changelogURL="https://api.github.com/repos/soltecsis/fwcloud-ui/contents/CHANGELOG.md?ref=main"}return e}transformUpdateInfoToArray(e){let t=[];return e&&(this.pkgBasedInstall||t.push(e.websrv),t.push(e.ui),t.push(e.api),this.pkgBasedInstall||t.push(e.updater)),t}*createUpdateDataIterator(){this.updateData&&(yield this.updateData.updater,yield this.updateData.api,yield this.updateData.websrv,yield this.updateData.ui)}static{this.\u0275fac=function(t){return new(t||i)(b(Tl),b(Ju),b(ct),b(Vn),b(pt),b(Fs),b(Mt),b(si),b(ci),b(Et),b(Xe))}}static{this.\u0275cmp=ie({type:i,selectors:[["sts-fwc-update-panel"]],viewQuery:function(t,r){if(t&1&&(de(aUe,5),de(lUe,5)),t&2){let o;ee(o=te())&&(r.log=o.first),ee(o=te())&&(r.menuUpdate=o.first)}},features:[ve],decls:21,vars:18,consts:[["menuUpdate",""],["opLogger",""],["appendTo","body",3,"popup","model"],[1,"grid"],[1,"grid",3,"ngStyle"],[1,"col-12","fwc-centered"],[1,"fa","fa-5x","fa-refresh","fwcBlue"],[1,"col-12"],["height","10rem"],[1,"col-12","divButtons"],["type","button","pButton","","icon","fa fa-times",1,"p-button-info",3,"click","disabled","label"],[1,"col-12","fwc-right"],[1,"pi","pi-times",2,"cursor","pointer",3,"click"],[1,"fa","fa-5x","fa-info-circle","fwcBlue"],["styleClass","tblUpdateTable",3,"value"],["pTemplate","header"],["pTemplate","body"],["type","button","pButton","","icon","fa fa-check",1,"p-button-success",3,"disabled","label"],["type","button","pButton","","icon","fa fa-times",1,"p-button-secondary",3,"click","disabled","label"],[3,"contextmenu"],[2,"text-align","center"],[1,"fa","fa-fw","fa-check","fwcGreen"],[3,"style"],[3,"click"],[1,"fa","fa-fw","fa-eye","fwcBlue"],["type","button","pButton","","icon","fa fa-check",1,"p-button-success",3,"click","disabled","label"],[3,"message"]],template:function(t,r){if(t&1){let o=B();O(0,"p-menu",2,0),I(2,pUe,8,6,"div",3)(3,yUe,27,23,"div",3),m(4,"div",4)(5,"div",5),O(6,"i",6),m(7,"h6"),D(8),R(9,"translate"),_()(),m(10,"div",7)(11,"p"),D(12),R(13,"translate"),_()(),m(14,"div",7),O(15,"sts-fwc-log",8,1),_(),I(17,IUe,2,1,"div",7),m(18,"div",9)(19,"button",10),R(20,"translate"),P("click",function(){return S(o),A(r.handleCloseDialog())}),_()()()}t&2&&(h("popup",!0)("model",r.menuUpdateOptions),u(2),q(r.checkingUpdates?2:-1),u(),q((r.needsUpdate||r.manualUpdate)&&!r.updating?3:-1),u(),h("ngStyle",oe(16,cUe,r.updating?"block":"none")),u(4),$(k(9,10,"PANELS.UPDATES_PANEL.INFO.APPLYING_UPDATES.HEADER")),u(4),$(k(13,12,"PANELS.UPDATES_PANEL.INFO.APPLYING_UPDATES.TEXT")),u(5),q(r.opMessage?17:-1),u(2),ae("label",k(20,14,"GLOBALS.MSG_BUTTONS.CLOSE")),h("disabled",!r.finishedUpdating||r.checkingUpdates||r.appBeingFetched))},dependencies:[Ee,be,mt,eo,io,Bp,cs,Nn,vt],styles:[`.tblUpdateTable table td{white-space:nowrap;text-overflow:ellipsis;overflow-x:hidden}.tblUpdateTable table td *{vertical-align:middle}.divButtons{text-align:left}.divButtons button{padding:.429rem 1rem!important}
`],encapsulation:2})}}return i})();var QG=(()=>{class i{constructor(e){this.sanitizer=e}transform(e){return this.sanitizer.bypassSecurityTrustResourceUrl(e)}static{this.\u0275fac=function(t){return new(t||i)(b(pl,16))}}static{this.\u0275pipe=Jn({name:"fwcSafeUrl",type:i,pure:!0})}}return i})();var bUe=["fwcHelpDialog"],wUe=["menuUpdate"];function SUe(i,n){if(i&1&&O(0,"p-menu",3,1),i&2){let e=f();h("popup",!0)("model",e.menuUpdateOptions)}}function AUe(i,n){if(i&1){let e=B();m(0,"div",9)(1,"h6",10),O(2,"i",11),D(3),R(4,"translate"),_()(),m(5,"div",12)(6,"button",13),P("click",function(){S(e);let r=f();return A(r.minimizeDialog())}),_()()}i&2&&(u(3),J(" ",k(4,1,"HELP.TITLE")," "))}function EUe(i,n){i&1&&O(0,"p-progressSpinner")}function xUe(i,n){if(i&1){let e=B();m(0,"div",6)(1,"div",14),I(2,EUe,1,0,"p-progressSpinner"),_(),m(3,"iframe",15,2),R(5,"fwcSafeUrl"),P("load",function(){S(e);let r=f();return A(r.handleIframeLoad())})("error",function(){S(e);let r=f();return A(r.handleIframeLoad(!0))}),_()()}if(i&2){let e=f();u(2),q(e.loadingData?2:-1),u(),h("src",k(5,2,e.helpURL),HE)}}function TUe(i,n){if(i&1&&(m(0,"span"),D(1),m(2,"strong"),D(3),_()()),i&2){let e=f().$implicit;u(),J(" ",e==null?null:e.appName," - "),u(2),$(e!=null&&e.current?"v"+e.current:"?")}}function OUe(i,n){if(i&1&&(m(0,"span"),D(1),m(2,"strong"),D(3,"?"),_()()),i&2){let e=f().$implicit;u(),J(" ",e==null?null:e.appName," - ")}}function DUe(i,n){if(i&1){let e=B();m(0,"span",37),P("contextmenu",function(r){S(e);let o=f(3);return A(o.menuUpdate.toggle(r))}),I(1,TUe,4,2,"span")(2,OUe,4,1,"span"),O(3,"br"),_()}if(i&2){let e=n.$implicit;u(),q(e!=null&&e.current?1:2)}}function RUe(i,n){if(i&1&&(m(0,"div"),jr(1,DUe,4,1,"span",null,Ur),_()),i&2){let e=f(2);u(),Hr(e.appVersions)}}function PUe(i,n){if(i&1){let e=B();m(0,"span",37),P("contextmenu",function(r){S(e);let o=f(3);return A(o.menuUpdate.toggle(r))}),D(1),R(2,"translate"),m(3,"strong"),D(4,"?"),_()()}i&2&&(u(),J(" ",k(2,1,"PANELS.UPDATES_PANEL.INFO.APPS.WEBSRV")," - "))}function kUe(i,n){if(i&1){let e=B();m(0,"span",37),P("contextmenu",function(r){S(e);let o=f(3);return A(o.menuUpdate.toggle(r))}),D(1),R(2,"translate"),m(3,"strong"),D(4,"?"),_()()}i&2&&(u(),J(" ",k(2,1,"PANELS.UPDATES_PANEL.INFO.APPS.API")," - "))}function FUe(i,n){if(i&1){let e=B();m(0,"span",37),P("contextmenu",function(r){S(e);let o=f(3);return A(o.menuUpdate.toggle(r))}),D(1),R(2,"translate"),m(3,"strong"),D(4,"?"),_()()}i&2&&(u(),J(" ",k(2,1,"PANELS.UPDATES_PANEL.INFO.APPS.UPDATER")," - "))}function LUe(i,n){if(i&1){let e=B();I(0,PUe,5,3,"span"),O(1,"br"),m(2,"span",37),P("contextmenu",function(r){S(e);let o=f(2);return A(o.menuUpdate.toggle(r))}),D(3),R(4,"translate"),m(5,"strong"),D(6),_()(),O(7,"br"),I(8,kUe,5,3,"span"),O(9,"br"),I(10,FUe,5,3,"span"),O(11,"br")}if(i&2){let e=f(2);q(e.shouldCheckUpdates?0:-1),u(3),J(" ",k(4,5,"PANELS.UPDATES_PANEL.INFO.APPS.UI")," - "),u(3),J("v",e.fwcAppVersion,""),u(2),q(e.shouldCheckUpdates?8:-1),u(2),q(e.shouldCheckUpdates?10:-1)}}function MUe(i,n){if(i&1){let e=B();m(0,"button",38),R(1,"translate"),P("click",function(){S(e);let r=f(2);return A(r.onCheckUpdates())}),_()}i&2&&ae("label",k(1,1,"HELP.CHECK_UPDATES"))}function NUe(i,n){if(i&1&&(m(0,"div",7)(1,"div",16)(2,"div",17)(3,"a",18),O(4,"img",19),_(),m(5,"div",20),I(6,RUe,3,0,"div")(7,LUe,12,7),O(8,"br"),I(9,MUe,2,3,"button",21),O(10,"br")(11,"br")(12,"span",22),R(13,"translate"),_()()(),m(14,"div",23)(15,"h5",24),D(16),R(17,"translate"),_(),m(18,"a",25),O(19,"img",26),_(),m(20,"div")(21,"strong")(22,"a",25),D(23,"SOLTECSIS SOLUCIONES TECNOL\xD3GICAS, S.L."),_()(),O(24,"br"),m(25,"div",27)(26,"span"),O(27,"i",28),_(),D(28," info@soltecsis.com "),O(29,"br")(30,"span"),m(31,"strong"),D(32),R(33,"translate"),_(),O(34,"br"),m(35,"span"),O(36,"i",29),_(),m(37,"a",30),D(38,"https://forum.fwcloud.net "),_(),O(39,"br"),_()(),O(40,"br"),m(41,"h5",24),D(42),R(43,"translate"),_(),m(44,"ul")(45,"li")(46,"a",31),R(47,"translate"),D(48),R(49,"translate"),_()(),m(50,"li")(51,"a",32),D(52),R(53,"translate"),_()(),m(54,"li")(55,"a",33),D(56),R(57,"translate"),_()(),m(58,"li")(59,"a",34),D(60),R(61,"translate"),_()(),m(62,"li")(63,"a",35),D(64),R(65,"translate"),_()(),m(66,"li")(67,"a",36),D(68),R(69,"translate"),_()()()()()),i&2){let e=f();u(6),q(e.appVersions&&e.appVersions.length?6:7),u(3),q(e.shouldCheckUpdates?9:-1),u(3),ae("innerHTML",k(13,13,"GLOBALS.LICENSE"),Xi),u(4),J("",k(17,15,"HELP.DEV"),":"),u(16),$(k(33,17,"HELP.SUPPORT_EMAIL")),u(10),J("",k(43,19,"HELP.LINKS"),":"),u(4),ae("href",k(47,21,"HELP.SUPPORT_WEB"),Uo),u(2),$(k(49,23,"HELP.GOTO_DOC")),u(4),$(k(53,25,"HELP.GIT_INSTALLER")),u(4),$(k(57,27,"HELP.GIT_WEBSRV")),u(4),$(k(61,29,"HELP.GIT_UI")),u(4),$(k(65,31,"HELP.GIT_API")),u(4),$(k(69,33,"HELP.GIT_UPDATER"))}}function VUe(i,n){if(i&1){let e=B();m(0,"button",39),R(1,"translate"),P("click",function(){S(e);let r=f();return A(r.onClose())}),_()}i&2&&ae("label",k(1,1,"GLOBALS.MSG_BUTTONS.CLOSE"))}var f4t=(()=>{class i extends ei{constructor(e,t,r,o,s,a,l,c,d,p,g,C,y){super(e,t,o,g,C,p),this.appDialogPanelsService=e,this.appOptionsService=t,this.confirmationService=r,this.itemSelectedService=o,this.fwcUserService=s,this.messageService=a,this.dialogService=l,this.utilService=c,this.translate=d,this.router=p,this.cd=g,this.store=C,this._document=y,this.fwcAppVersion=ff.VERSION,this.appVersions=[],this.menuUpdateOptions=[],this.loadingData=!1,this.shouldCheckUpdates=!0,this.shouldCheckUpdates=ge.settings.checkUpdates,this.pkgBasedInstall=ge.settings.installMethod===ql.pkg,this.translate.get("HELP.TITLE").subscribe(v=>{this.createDialog(v,"fwci-help")})}ngOnInit(){this.appOptionsService.showHelp().pipe(kt(()=>this.alive)).subscribe(e=>{if(e){if(e!==this.helpUrlOrSection){let t=/\/(cloud|policy|vpn|ipobjs|firewalls|configuration)/,r,o=t.exec(e);if(o){let s=o[1];r=vV[s]}r||(r=""),this.helpUrlOrSection=e,this.loadingData=!0,this.helpURL=ge.settings.fwcAppDocsURL+"/"+r}}else{this.helpURL=null,this.helpUrlOrSection=null;let t=this.fwcUserService.getActualFwcUser();t.appVersions&&(this.appVersions=t.appVersions),this.menuUpdateOptions=[{label:this.translate.instant("HELP.UPDATE_MANUALLY"),icon:"fa fa-wrench",command:()=>{this.onCheckUpdates(!0)}}]}this.showDialog()})}ngOnDestroy(){super.ngOnDestroy()}onCheckUpdates(e=!1){this.dialogService.open(XG,{showHeader:!1,data:{manualUpdate:e,openedFromHelp:!0}}).onClose.pipe(kt(()=>this.alive)).subscribe(r=>{if(r){if(r.needsReloadUpdates){let o=this.fwcUserService.getActualFwcUser();o.appVersions&&(this.appVersions=o.appVersions)}r.needsRelogin&&this.onClose()}})}onClose(){this.menuUpdate&&this.menuUpdate.hide(),super.hideDialog()}changeTheme(e){e?this._document.getElementById("fwcTheme").setAttribute("href","assets/themes/fwc-dark.css"):this._document.getElementById("fwcTheme").removeAttribute("href")}goToWebsite(){window.open(this.translate.instant("HELP.SUPPORT_WEB"),"_blank")}reCenter(e){this.cd.detectChanges(),this.fwcHelpDialog.center()}handleIframeLoad(e){this.loadingData=!1}static{this.\u0275fac=function(t){return new(t||i)(b(Mt),b(Bt),b(si),b(At),b(pt),b(ci),b(Xu),b(Et),b(Xe),b(ct),b(Ie),b(rt),b(_t))}}static{this.\u0275cmp=ie({type:i,selectors:[["sts-fwc-dashboard-help"]],viewQuery:function(t,r){if(t&1&&(de(bUe,5),de(wUe,5)),t&2){let o;ee(o=te())&&(r.fwcHelpDialog=o.first),ee(o=te())&&(r.menuUpdate=o.first)}},features:[Ze([Xu]),ve],decls:7,vars:7,consts:[["fwcHelpDialog",""],["menuUpdate",""],["iframeHelp",""],["appendTo","body",3,"popup","model"],[3,"visibleChange","onChange","visible","styleClass","modal","closable","resizable"],["pTemplate","header"],[1,"iframeContainer"],[1,"grid"],["pTemplate","footer"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"pi","pi-info","fwcOrange"],[1,"divHeaderButtons"],["pButton","","type","button","icon","fa fa-window-minimize",1,"p-button-secondary",3,"click"],[1,"iframeContainer-loader"],["frameborder","0",3,"load","error","src"],[1,"col-4"],[1,"divHelpLogo"],["href","https://fwcloud.net","target","_blank"],["src","assets/img/fwcloud.png"],[1,"fwcVersion"],["pButton","","icon","fa fa-server",1,"p-button-primary",3,"label"],[3,"innerHTML"],[1,"col-8","divDevInfo"],[1,"fwcBlue"],["href","https://soltecsis.com","target","_blank"],["src","assets/img/logo-Soltecsis.jpg"],[1,"divData"],[1,"fa","fa-fw","fa-envelope","fwcBlue"],[1,"fa","fa-fw","fa-comments","fwcBlue"],["href","https://forum.fwcloud.net","target","_blank"],["target","_blank",3,"href"],["href","https://github.com/soltecsis/fwcloud-installer","target","_blank"],["href","https://github.com/soltecsis/fwcloud-websrv","target","_blank"],["href","https://github.com/soltecsis/fwcloud-ui","target","_blank"],["href","https://github.com/soltecsis/fwcloud-api","target","_blank"],["href","https://github.com/soltecsis/fwcloud-updater","target","_blank"],[3,"contextmenu"],["pButton","","icon","fa fa-server",1,"p-button-primary",3,"click","label"],["pButton","","icon","pi pi-times",1,"p-button-primary",3,"click","label"]],template:function(t,r){if(t&1){let o=B();I(0,SUe,2,2,"p-menu",3),m(1,"p-dialog",4,0),Ve("visibleChange",function(a){return S(o),Ue(r.displayDialog,a)||(r.displayDialog=a),A(a)}),P("onChange",function(a){return S(o),A(r.reCenter(a))}),I(3,AUe,7,3,"ng-template",5)(4,xUe,6,4,"div",6)(5,NUe,70,35,"div",7)(6,VUe,2,3,"ng-template",8),_()}t&2&&(q(r.pkgBasedInstall?-1:0),u(),Ne("visible",r.displayDialog),h("styleClass",r.helpURL?"dlgFwcDialog dlgFwcDialog--medium dlgFwcDialog--height":"dlgFwcDialog dlgFwcDialog--medium dlgFwcDialog")("modal",!0)("closable",!1)("resizable",!0),u(3),q(r.helpURL?4:5))},dependencies:[ni,be,mt,eo,Bp,vt,QG],styles:["[_ngcontent-%COMP%]:root{--lightColor: #eee;--darkColor: #222;--inputBackgroundColor: #eee;--inputBorderColor: #cacaca;--inputColor: #222;--surfaceBackgroundColor: white;--fixedWhiteColor: #eee;--fixedDarkColor: #333;--translucidColor: transparent;--menuBackground: url(/assets/img/fwc-fondo-menu.jpg);--mainBackground: url(/assets/img/fwc-fondo-home.jpg);--fwcBlue: #0069a7;--fwcBlueDarkened: #005e96;--fwcDarkBlue: #003351;--fwcDarkBlue2: #014071;--fwcLightBlue: #1779ba;--fwcPaleBlue: #689fe1;--fwcPaleBlue2: #cce2f8;--fwcPaleBlue3: #e6f1fd;--fwcBlueGradient1: #386ea0;--fwcBlueGradient2: #21517e;--fwcLightGreyGradient1: #f6f7f9;--fwcLightGreyGradient2: #ebedf0;--fwcOrange: #eb6400;--fwcPaleOrange: #e67e22;--fwcPaleOrange2: #ffcfa4;--fwcPaleOrange3: #fe7815;--fwcOrangeRed: #e74c3c;--fwcRed: #f00;--fwcRed2: #b40b00;--fwcPaleRed: #f77676;--fwcPaleRed2: #ffe1e1;--fwcTranslucidRed: rgba(255, 0, 0, .15);--fwcDarkGreen: #023008;--fwcGreen: #009900;--fwcLightGreen: #28ff28;--fwcPaleGreen: #c7e6c8;--fwcLime: #baf649;--fwcWhite: #eee;--fwcPaleWhite: #f5f5f5;--fwcPaleWhite2: #f4f4f4;--fwcDark: #222;--fwcLightDark: #1e1e1e;--fwcMidDark: #555;--fwcMidDark2: #333;--fwcPaleDark: #888;--fwcPaleDark2: #383838;--fwcGrey: #cacaca;--fwcGrey2: #cecece;--fwcGrey3: #eee;--fwcGrey4: #e5e5e5;--fwcGrey5: #c8c8c8;--fwcGrey6: #efefef;--fwcGrey7: #dedede;--fwcAccent: #ff4081;--fwcShadow: #bbb;--fwcSelected: #ddd;--fwcSelectedB: #0069a7;--fwcRulePink: #ef9a9a;--fwcRulePurple: #ce93d8;--fwcRuleBlue: #90caf9;--fwcRuleTeal: #80cbc4;--fwcRuleGreen: #a5d6a7;--fwcRuleYellow: #fff59d;--fwcRuleOrange: #ffcc80}.divHelpLogo[_ngcontent-%COMP%]{text-align:center}.divHelpLogo[_ngcontent-%COMP%] > a[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{display:block;width:180px;height:auto;margin:0 auto 1em}.divDevInfo[_ngcontent-%COMP%]{border-left:1px solid var(--fwcBlue);padding-left:1rem;font-family:Montserrat,Arial,sans-serif!important}.divDevInfo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none!important;color:#007ad9!important}.divDevInfo[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:180px;height:auto;float:right}.divDevInfo[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding-top:.5rem;line-height:1.5;font-size:.9rem}.divDevInfo[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;margin-top:1rem}.divDevInfo[_ngcontent-%COMP%]   .divData[_ngcontent-%COMP%]{color:var(--fwcDark)}.divDevInfo[_ngcontent-%COMP%]   .divData[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;width:1.7rem}.fwcVersion[_ngcontent-%COMP%]{font-family:monospace,sans-serif;text-align:center;font-size:.8em}.iframeContainer[_ngcontent-%COMP%]{height:100%;width:100%}.iframeContainer-loader[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}.iframeContainer[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{height:100%;width:100%}.p-dialog-content[_ngcontent-%COMP%]   .divDevInfo[_ngcontent-%COMP%]{font-family:Montserrat,Arial,sans-serif!important}  .p-contextmenu .p-menuitem>.p-menuitem-content{box-shadow:0 1px 3px #0000004d!important;color:var(--inputColor);background:linear-gradient(to bottom,var(--fwcLightGreyGradient1) 0%,var(--fwcLightGreyGradient2) 100%)!important;border:1px solid var(--fwcGrey7)!important;border-radius:3px!important;font-family:Montserrat,Arial,sans-serif!important;font-size:.9rem!important}  .p-contextmenu .p-menuitem>.p-menuitem-content:hover{background:var(--fwcGrey7)!important}"]})}}return i})();var BUe=()=>({"padding-top":"20px"}),UUe=()=>({width:"2rem",height:"2rem"});function jUe(i,n){i&1&&(m(0,"div",6)(1,"h6",7),O(2,"i",8),D(3),R(4,"translate"),_()()),i&2&&(u(3),J(" ",k(4,1,"SNAPSHOTS_PANEL.HEADER")," "))}function HUe(i,n){i&1&&(m(0,"colgroup"),O(1,"col")(2,"col")(3,"col")(4,"col")(5,"col"),_()),i&2&&(u(),Fn("width","12rem"),u(2),Fn("width","4rem"),u(),Fn("width","10rem"))}function GUe(i,n){i&1&&(m(0,"tr")(1,"th"),D(2),R(3,"translate"),_(),m(4,"th"),D(5),R(6,"translate"),_(),m(7,"th"),D(8),R(9,"translate"),_(),m(10,"th"),D(11),R(12,"translate"),_(),m(13,"th"),D(14),R(15,"translate"),_()()),i&2&&(u(2),$(k(3,5,"SNAPSHOTS_PANEL.MANAGE.TABLE_HEADER.0")),u(3),$(k(6,7,"SNAPSHOTS_PANEL.MANAGE.TABLE_HEADER.1")),u(3),$(k(9,9,"SNAPSHOTS_PANEL.MANAGE.TABLE_HEADER.2")),u(3),$(k(12,11,"SNAPSHOTS_PANEL.MANAGE.TABLE_HEADER.3")),u(3),$(k(15,13,"SNAPSHOTS_PANEL.MANAGE.TABLE_HEADER.4")))}function zUe(i,n){i&1&&(m(0,"span"),O(1,"i",21),R(2,"translate"),D(3," \xA0 "),_()),i&2&&(u(),ae("pTooltip",k(2,1,"SNAPSHOTS_PANEL.INFO.INFO_INCOMPATIBLE")))}function WUe(i,n){if(i&1&&(m(0,"tr",20)(1,"td"),I(2,zUe,4,3,"span"),D(3),R(4,"date"),_(),m(5,"td"),D(6),_(),m(7,"td"),D(8),_(),m(9,"td"),D(10),R(11,"slice"),_(),m(12,"td"),D(13),_()()),i&2){let e=n.$implicit;h("pSelectableRow",e)("ngClass",e.compatible?"":"incompatible"),u(2),q(e.compatible?-1:2),u(),J(" ",Di(4,8,e.date,"dd/MM/yyyy HH:mm:ss")," "),u(3),J(" ",e.name," "),u(2),J(" ",e.version," "),u(2),J(" ",Di(11,11,e.schema,-7)," "),u(3),J(" ",e.comment," ")}}function KUe(i,n){if(i&1){let e=B();m(0,"div",9)(1,"p-table",13),R(2,"fwcSortBy"),Ve("selectionChange",function(r){S(e);let o=f(2);return Ue(o.selectedSnapshot,r)||(o.selectedSnapshot=r),A(r)}),I(3,HUe,6,6,"ng-template",14)(4,GUe,16,15,"ng-template",2)(5,WUe,14,14,"ng-template",15),_(),m(6,"div",3)(7,"div",16)(8,"button",17),R(9,"translate"),P("click",function(){S(e);let r=f(2);return A(r.onDeleteSnapshot())}),_(),O(10,"span",18),m(11,"button",19),R(12,"translate"),P("click",function(){S(e);let r=f(2);return A(r.onRestoreSnapshot())}),_()()()()}if(i&2){let e=f(2);u(),h("value",cl(2,9,e.snapshots,"desc","date")),Ne("selection",e.selectedSnapshot),h("scrollable",!0),u(6),dt(Ae(17,BUe)),u(),ae("label",k(9,13,"SNAPSHOTS_PANEL.MANAGE.BTN_DELETE")),h("disabled",!e.selectedSnapshot||e.loadingData),u(3),ae("label",k(12,15,"SNAPSHOTS_PANEL.MANAGE.BTN_RESTORE")),h("disabled",!e.selectedSnapshot||e.loadingData||!(e.selectedSnapshot!=null&&e.selectedSnapshot.compatible))}}function $Ue(i,n){if(i&1){let e=B();m(0,"div",3)(1,"div",9)(2,"h5",10),D(3),R(4,"translate"),_()(),m(5,"div",11)(6,"button",12),R(7,"translate"),P("click",function(){S(e);let r=f();return A(r.onDoSnapshot())}),_()(),m(8,"div",9)(9,"h5",10),D(10),R(11,"translate"),_()(),I(12,KUe,13,18,"div",9),_()}if(i&2){let e=f();u(3),J(" ",k(4,5,"SNAPSHOTS_PANEL.DO.HEADER")," "),u(3),ae("label",k(7,7,"SNAPSHOTS_PANEL.DO.BTN_DO")),h("disabled",e.loadingData),u(4),J(" ",k(11,9,"SNAPSHOTS_PANEL.MANAGE.HEADER")," "),u(2),q(e.snapshots!=null&&e.snapshots.length?12:-1)}}function qUe(i,n){i&1&&(m(0,"div",4),O(1,"p-progressSpinner"),_()),i&2&&(u(),dt(Ae(2,UUe)))}function YUe(i,n){if(i&1&&(m(0,"div",4),O(1,"sts-fwc-message",22),_()),i&2){let e=f();u(),h("message",e.errorMessage)}}function JUe(i,n){if(i&1){let e=B();m(0,"button",23),R(1,"translate"),P("click",function(){S(e);let r=f();return A(r.onCancel())}),_()}if(i&2){let e=f();ae("label",k(1,2,"GLOBALS.MSG_BUTTONS.CLOSE")),h("disabled",e.loadingData)}}var T4t=(()=>{class i extends ei{constructor(e,t,r,o,s,a,l,c,d,p,g,C,y,v){super(o,t,e,d,v,C),this.itemSelectedService=e,this.appOptionsService=t,this.fwcUserService=r,this.appDialogPanelsService=o,this.utilService=s,this.confirmationService=a,this.messageService=l,this.translate=c,this.cd=d,this.inputDataService=p,this.fwcAuthService=g,this.router=C,this.fwcSnapshotService=y,this.store=v,this.translate.get("SNAPSHOTS_PANEL.TITLE").subscribe(w=>{this.createDialog(w,"fwci-copy")})}ngOnInit(){}ngOnDestroy(){super.ngOnDestroy()}loadSnapshots(){this.loadingData=!0,this.errorMessage=null,this.utilService.fwcAPICall(this.fwcSnapshotService.getSnapshots.bind(this.fwcSnapshotService),this.fwcUserService.getActualFwSelectedCloud()).then(e=>{this.snapshots=e.data,(!this.snapshots||!this.snapshots.length)&&(this.errorMessage={type:"warning",title:this.translate.instant("SNAPSHOTS_PANEL.ERRORS.WARN_NO_SNAPSHOTS.0"),text:this.translate.instant("SNAPSHOTS_PANEL.ERRORS.WARN_NO_SNAPSHOTS.1")}),this.recenterDialog(),this.loadingData=!1}).catch(e=>{this.errorMessage={type:"error",title:this.translate.instant("SNAPSHOTS_PANEL.ERRORS.ERROR_LOADING.0"),text:this.translate.instant("SNAPSHOTS_PANEL.ERRORS.ERROR_LOADING.1")},this.loadingData=!1})}onDoSnapshot(e){let t={header:this.translate.instant("SNAPSHOTS_PANEL.MANAGE.DO_DIALOG.HEADER"),helpText:this.translate.instant("SNAPSHOTS_PANEL.MANAGE.DO_DIALOG.TEXT"),formControls:[{name:"name",label:this.translate.instant("SNAPSHOTS_PANEL.MANAGE.TABLE_HEADER.1"),type:"text",required:!0},{name:"separator",type:"separator"},{name:"comment",label:this.translate.instant("SNAPSHOTS_PANEL.MANAGE.TABLE_HEADER.4"),type:"text",required:!1}],onAccept:r=>{if(r){let o=vo(),s={name:r.name,comment:r.comment},a={channelId:o,textHeader:this.translate.instant("SNAPSHOTS_PANEL.INFO.DOING_SNAPSHOT.0"),textMessage:this.translate.instant("SNAPSHOTS_PANEL.INFO.DOING_SNAPSHOT.1"),apiCall:this.fwcSnapshotService.createSnapshot.bind(this.fwcSnapshotService),apiParams:[this.fwcUserService.getActualFwSelectedCloud(),o,s],onClose:d=>{this.loadingData=!1,d&&!d.error?this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:this.translate.instant("SNAPSHOTS_PANEL.SUCCESS.CREATE_OK")}):this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("SNAPSHOTS_PANEL.ERRORS.ERROR_CREATING.0"),detail:this.translate.instant("SNAPSHOTS_PANEL.ERRORS.ERROR_CREATING.1")}),this.loadSnapshots(),e&&this.onRestoreSnapshot(!0)}},l=this.utilService.createDynamicComponentRef(Ia),c=l.instance;c.setDynamicComponentRef(l),this.communicationSubscription=c.socketEventEmitter.subscribe(d=>{d=="connected"&&(this.loadingData=!0,this.appDialogPanelsService.searchAndShowDialog({uuid:Ai.BLOCK_UI_PANEL,data:a})),this.communicationSubscription.unsubscribe()}),c.checkConnection()}}};this.inputDataService.setInputData(t)}onDeleteSnapshot(){this.selectedSnapshot&&this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_CONFIRM"),icon:"fa fa-question-circle fwcBlue iconBig",message:this.translate.instant("SNAPSHOTS_PANEL.ASK.DELETE",{date:new Date(this.selectedSnapshot.date).toLocaleString()}),rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES"),accept:()=>{this.loadingData=!0,this.utilService.fwcAPICall(this.fwcSnapshotService.deleteSnapshot.bind(this.fwcSnapshotService),this.fwcUserService.getActualFwSelectedCloud(),this.selectedSnapshot.id).then(e=>{this.snapshots=this.snapshots.filter(t=>t.id!=this.selectedSnapshot.id),this.snapshots.length||(this.errorMessage={type:"warning",title:this.translate.instant("SNAPSHOTS_PANEL.ERRORS.WARN_NO_SNAPSHOTS.0"),text:this.translate.instant("SNAPSHOTS_PANEL.ERRORS.WARN_NO_SNAPSHOTS.1")}),this.loadingData=!1,this.selectedSnapshot=null,this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:this.translate.instant("SNAPSHOTS_PANEL.SUCCESS.DELETE_OK")})},e=>{this.loadingData=!1,this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),detail:this.translate.instant("SNAPSHOTS_PANEL.ERRORS.DELETE_ERROR")})})}})}onRestoreSnapshot(e){if(this.selectedSnapshot){let t=vo();if(!e){this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_CONFIRM"),icon:"fa fa-question-circle fwcBlue iconBig",message:this.translate.instant("SNAPSHOTS_PANEL.ASK.BACKUP"),rejectVisible:!0,rejectLabel:this.translate.instant("SNAPSHOTS_PANEL.ASK.BTN_NO"),acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES"),accept:()=>{this.onDoSnapshot(!0)},reject:()=>{this.onRestoreSnapshot(!0)}});return}let r={channelId:t,textHeader:this.translate.instant("SNAPSHOTS_PANEL.INFO.RESTORING_SNAPSHOT.0"),textMessage:this.translate.instant("SNAPSHOTS_PANEL.INFO.RESTORING_SNAPSHOT.1"),apiCall:this.fwcSnapshotService.restoreSnapshot.bind(this.fwcSnapshotService),apiParams:[this.fwcUserService.getActualFwSelectedCloud(),this.selectedSnapshot.id,t],showStatusMessage:!0,onClose:a=>{a&&!a.error?(this.fwcUserService.setSelectedFwCloud(a.data.id,a.data.name),this.fwcAuthService.setSelectedFwCloud(a.data.id,a.data.name),this.hideDialog(),this.reloadCurrentRoute(),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:this.translate.instant("SNAPSHOTS_PANEL.SUCCESS.RESTORE_OK")})):this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("SNAPSHOTS_PANEL.ERRORS.ERROR_RESTORING.0"),detail:this.translate.instant("SNAPSHOTS_PANEL.ERRORS.ERROR_RESTORING.1")}),this.loadingData=!1,this.selectedSnapshot=null}},o=this.utilService.createDynamicComponentRef(Ia),s=o.instance;s.setDynamicComponentRef(o),this.communicationSubscription=s.socketEventEmitter.subscribe(a=>{a=="connected"&&this.appDialogPanelsService.searchAndShowDialog({uuid:Ai.BLOCK_UI_PANEL,data:r}),this.communicationSubscription.unsubscribe()}),s.checkConnection()}}reloadCurrentRoute(){let e=this.router.url;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([e])})}onCancel(){this.hideDialog()}onShowDialog(){this.loadSnapshots()}onHideDialog(){this.snapshots=null,this.errorMessage=null}static{this.\u0275fac=function(t){return new(t||i)(b(At),b(Bt),b(pt),b(Mt),b(Et),b(si),b(ci),b(Xe),b(Ie),b(Ro),b(Fs),b(ct),b(Eb),b(rt))}}static{this.\u0275cmp=ie({type:i,selectors:[["sts-fwc-snapshots-panel"]],features:[Ze([Eb]),ve],decls:7,vars:6,consts:[["dlgSnapshotsDialog",""],["styleClass","dlgFwcDialog","modal","true",3,"visibleChange","onShow","onHide","visible","closable","resizable"],["pTemplate","header"],[1,"grid"],[1,"col-12","fwc-centered"],["pTemplate","footer"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"fwcMenuIcon","fwci-copy","fwcOrange"],[1,"col-12"],[1,"fwcBlue","botBorder"],[1,"col-12","grid-nogutter","fwc-centered"],["type","button","pButton","","icon","fa fa-vault",1,"p-button-success",3,"click","disabled","label"],["styleClass","tabSnapshots","selectionMode","single","scrollHeight","15rem",3,"selectionChange","value","selection","scrollable"],["pTemplate","colgroup"],["pTemplate","body"],[1,"col-12","fwc-right"],["type","button","pButton","","icon","fa fa-trash",1,"p-button-danger",3,"click","disabled","label"],[1,"fwcSepShort"],["type","button","pButton","","icon","fa fa-undo",1,"p-button-primary",3,"click","disabled","label"],[3,"pSelectableRow","ngClass"],["tooltipPosition","top","hideDelay","500",1,"fa","fa-exclamation","fwcRed",3,"pTooltip"],[3,"message"],["type","button","pButton","","icon","fa fa-close",1,"p-button-primary",3,"click","disabled","label"]],template:function(t,r){if(t&1){let o=B();m(0,"p-dialog",1,0),Ve("visibleChange",function(a){return S(o),Ue(r.displayDialog,a)||(r.displayDialog=a),A(a)}),P("onShow",function(){return S(o),A(r.onShowDialog())})("onHide",function(){return S(o),A(r.onHideDialog())}),I(2,jUe,5,3,"ng-template",2)(3,$Ue,13,11,"div",3)(4,qUe,2,3,"div",4)(5,YUe,2,1,"div",4)(6,JUe,2,4,"ng-template",5),_()}t&2&&(Ne("visible",r.displayDialog),h("closable",!1)("resizable",!0),u(3),q(r.snapshots?3:-1),u(),q(r.loadingData?4:-1),u(),q(r.errorMessage?5:-1))},dependencies:[Ge,ni,be,mt,eo,Zn,io,ou,Nn,kI,Kl,vt,Y1],styles:[`.tabSnapshots .incompatible{text-decoration:line-through;font-style:italic}
`],encapsulation:2})}}return i})();var ZG=Ja(ep());var XUe=["fwcLogComponent"],QUe=["fwcMessageComponent"],ZUe=()=>({width:"2rem",height:"2rem"});function e8e(i,n){i&1&&(m(0,"h6",9),O(1,"i",10),D(2),R(3,"translate"),_()),i&2&&(u(2),J(" ",k(3,1,"LOG_PANEL.HEADER"),""))}function t8e(i,n){if(i&1&&(m(0,"div",4)(1,"div",5),O(2,"sts-fwc-message",11,0),_()(),m(4,"div"),O(5,"sts-fwc-log",12,1),_()),i&2){let e=f();Fn("display",e.options!=null&&e.options.showStatusMessage&&e.statusMessage?"block":"none"),u(2),h("message",e.statusMessage),u(2),Fn("display",e.options!=null&&e.options.showStatusMessage?"none":"block"),u(),h("height","15rem")}}function i8e(i,n){i&1&&O(0,"p-progressSpinner"),i&2&&dt(Ae(2,ZUe))}function n8e(i,n){if(i&1&&(O(0,"p-message",14),R(1,"translate"),R(2,"translate")),i&2){let e=f(2);h("severity",e.operationResult!=null&&e.operationResult.error?"error":"success")("text",e.operationResult!=null&&e.operationResult.error?k(1,2,"GLOBALS.MSG_OP_RESULT.PROCESS_ERROR"):k(2,4,"GLOBALS.MSG_OP_RESULT.PROCESS_OK"))}}function r8e(i,n){if(i&1&&(m(0,"div",7),I(1,i8e,1,3,"p-progressSpinner",13)(2,n8e,3,6,"p-message",14),_()),i&2){let e=f();u(),q(e.loadingData?1:2)}}function o8e(i,n){if(i&1){let e=B();m(0,"button",15),R(1,"translate"),P("click",function(){S(e);let r=f();return A(r.hideDialog())}),_()}if(i&2){let e=f();ae("label",k(1,2,"GLOBALS.MSG_BUTTONS.CLOSE")),h("disabled",!e.allowClose)}}var ez=(()=>{class i extends ei{constructor(e,t,r,o,s,a,l,c,d,p,g){super(e,t,o,c,p,g),this.appDialogPanelsService=e,this.appOptionsService=t,this.fwcEventService=r,this.itemSelectedService=o,this.utilService=s,this.messageService=a,this.confirmationService=l,this.cd=c,this.translate=d,this.store=p,this.router=g,this.loadingData=!1,this.onClose=new Q,this.createDialog(this.translate.instant("ITEM_BATCH.PANEL_TITLE"),"fwci-ipobjects",Ai.BLOCK_UI_PANEL)}ngOnInit(){this.appDialogPanelsService.searchAndShowDialog().pipe(kt(()=>this.alive)).subscribe(e=>{e.uuid===this.dialogUUID&&this.showAndBlockUI(e.data)})}ngOnDestroy(){super.ngOnDestroy()}waitWSMessages(){return new Promise((t,r)=>{this.options.channelId?(this.eventsSubscription=this.fwcEventService.getEvent().pipe(kt(()=>this.displayDialog)).subscribe(o=>{let s=new ls(o);s&&s.payload?(s.payload.type===ut.MSG_END?t(s):(s.payload.type===ut.MSG_ERROR&&(this.operationResult={error:!0},this.statusMessage={type:"error",text:this.translate.instant("GLOBALS.MSG_OP_RESULT.PROCESS_ERROR")}),this.resetTimer()),this.options.showStatusMessage?this.fwcMessageComponent&&this.fwcMessageComponent.changeStatus(s.payload.message,this.translate.instant("ITEM_BATCH.TABLE_HEADER.1")+":"):this.log&&this.log.addNewMessage(s)):(this.addMessageToLog(this.translate.instant("LOG_PANEL.MALFORMED_MSG"),ut.MSG_ERROR),this.operationResult={error:!0},this.stopProcess())}),this.utilService.ioListenOnLogEvent(this.options.channelId)):t(null)})}doApiCall(){return new Promise((t,r)=>{this.options.apiCall?(Array.isArray(this.options.apiParams)||(this.options.apiParams=[]),this.options.showStatusMessage&&(this.statusMessage={type:"loading",text:this.translate.instant("GLOBALS.MSG_OP_RESULT.OPERATION_IN_PROGRESS")}),this.utilService.fwcAPICall(this.options.apiCall,...this.options.apiParams).then(o=>{t(o),setTimeout(()=>{this.allowClose=!0,this.cd.detectChanges()},150)}).catch(o=>{o.error.fwcErr==8001||o.error.fwcErr==8002?r(o.error):r(o)})):t({})})}showAndBlockUI(e){if(!e)return;this.options=e,this.operationResult=void 0,this.displayDialog=!0,this.cd.markForCheck(),this.cd.detectChanges(),this.startProcess(),this.resetTimer();let t=VS(this.waitWSMessages(),this.doApiCall());this.mainSubscription=t.subscribe({next:([r,o])=>{if(o instanceof Uc){let s=this.options.defaultDownloadFilename||"fwcloud-download";o.headers.get("Content-Disposition")&&(s=o.headers.get("Content-Disposition").split("filename=")[1]),s=s.replace(/\"/g,""),(0,ZG.saveAs)(o.body,s)}this.operationResult=o,this.addMessageToLog(this.translate.instant("LOG_PANEL.MSG_SUCCESS"),ut.MSG_OK),this.statusMessage={type:"success",text:this.translate.instant("GLOBALS.MSG_OP_RESULT.PROCESS_OK")},this.stopProcess()},error:r=>{this.operationResult={error:!0,data:r},this.addMessageToLog(this.translate.instant("LOG_PANEL.MSG_ERROR"),ut.MSG_ERROR),this.stopProcess()}})}resetTimer(){this.timeoutTimer&&clearTimeout(this.timeoutTimer)}startProcess(){this.loadingData=!0,this.log&&this.log.startDataLoad()}stopProcess(){this.allowClose=!0,this.loadingData=!1,clearTimeout(this.timeoutTimer),this.log&&this.log.stopDataLoad()}onShowDialog(){this.allowClose=!1}hideDialog(){if(this.eventsSubscription&&this.eventsSubscription.unsubscribe(),this.mainSubscription&&this.mainSubscription.unsubscribe(),this.log&&this.log.clearMessages(),this.options){if(this.options.onClose)try{this.options.onClose(this.operationResult)}catch{}this.options=null}clearTimeout(this.timeoutTimer),this.onClose&&this.onClose.emit(this.operationResult),this.operationResult=null,super.hideDialog()}static{this.\u0275fac=function(t){return new(t||i)(b(Mt),b(Bt),b(Vn),b(At),b(Et),b(ci),b(si),b(Ie),b(Xe),b(rt),b(ct))}}static{this.\u0275cmp=ie({type:i,selectors:[["sts-fwc-block-ui-panel"]],viewQuery:function(t,r){if(t&1&&(de(XUe,5),de(QUe,5)),t&2){let o;ee(o=te())&&(r.log=o.first),ee(o=te())&&(r.fwcMessageComponent=o.first)}},outputs:{onClose:"onClose"},features:[ve],decls:14,vars:9,consts:[["fwcMessageComponent",""],["fwcLogComponent",""],["styleClass","dlgFwcDialog dlgFwcDialog--medium",3,"onShow","closable","modal","visible"],["pTemplate","header"],[1,"grid"],[1,"col-12"],[1,"divIconMessage","divIconMessage--condensed"],[1,"fwc-centered"],["pTemplate","footer"],[1,"dlgFwcDialog-header"],[1,"fa","fa-info","fwcOrange"],[3,"message"],[3,"height"],[3,"style"],[3,"severity","text"],["type","button","pButton","","icon","fa fa-close",1,"p-button-primary",3,"click","disabled","label"]],template:function(t,r){t&1&&(m(0,"p-dialog",2),P("onShow",function(){return r.onShowDialog()}),I(1,e8e,4,3,"ng-template",3),m(2,"div",4)(3,"div",5)(4,"div",6),O(5,"i")(6,"br"),m(7,"h6"),D(8),_(),m(9,"p"),D(10),_()()()(),I(11,t8e,7,6)(12,r8e,3,1,"div",7)(13,o8e,2,4,"ng-template",8),_()),t&2&&(h("closable",!1)("modal",!0)("visible",r.displayDialog),u(5),le((r.options==null?null:r.options.headerIcon)||"fa fa-3x fa-lock fwcBlue"),u(3),$(r.options==null?null:r.options.textHeader),u(2),$(r.options==null?null:r.options.textMessage),u(),q(r.options!=null&&r.options.channelId?11:12))}})}}return i})();var ip=Ja(rC());var iz="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";var ok=(i=21)=>{let n="",e=crypto.getRandomValues(new Uint8Array(i|=0));for(;i--;)n+=iz[e[i]&63];return n};var s8e=["menuNodesSelector"],a8e=i=>({"divInterfacesEditor--disabled":i}),l8e=i=>({divNodeSpecial:i}),c8e=(i,n)=>({spanNodeEditing:i,spanNodeDisabled:n}),nz=i=>({fwcInvalid:i});function d8e(i,n){i&1&&(m(0,"div",8)(1,"div",9),O(2,"i",10)(3,"br"),m(4,"h6"),D(5),R(6,"translate"),_(),m(7,"p"),D(8),R(9,"translate"),_()()()),i&2&&(u(5),$(k(6,2,"FW.MSG_AUTODISCOVER.LOADING.HEADER")),u(3),$(k(9,4,"FW.MSG_AUTODISCOVER.LOADING.TEXT")))}function u8e(i,n){if(i&1){let e=B();m(0,"span",12)(1,"button",31),R(2,"translate"),R(3,"translate"),P("click",function(){S(e);let r=f(4);return A(r.onResetTree())}),_()()}if(i&2){let e=f(4);u(),ae("pTooltip",k(2,3,"IF_EDITOR.HEADER.RESET_TREE_TOOLTIP")),ae("label",k(3,5,"IF_EDITOR.HEADER.RESET_TREE")),h("disabled",!(!(e.options==null||e.options.discoveredIfs==null)&&e.options.discoveredIfs.length))}}function p8e(i,n){if(i&1){let e=B();m(0,"span",12)(1,"button",32),R(2,"translate"),P("click",function(){S(e);let r=f(4);return A(r.onDiscoverInterfacesHandler())}),_()()}i&2&&(u(),ae("label",k(2,1,"FW.MSG_FW_EDITION.DISCOVER_IF_SHORT")))}function h8e(i,n){i&1&&(m(0,"div",33)(1,"div",8)(2,"h6",13),D(3),R(4,"translate"),_()()()),i&2&&(u(3),J(" ",k(4,1,"IF_EDITOR.TREE.HEADER")," "))}function f8e(i,n){i&1&&(m(0,"span"),O(1,"i",42),_())}function m8e(i,n){i&1&&(O(0,"i",39),R(1,"translate")),i&2&&(ae("pTooltip",k(1,2,"IF_EDITOR.TREE.SPECIAL_TOOLTIP")),h("showDelay",500))}function g8e(i,n){i&1&&(O(0,"i",45),R(1,"translate")),i&2&&ae("pTooltip",k(1,1,"IF_EDITOR.PROPS.INSTALL"))}function _8e(i,n){if(i&1&&(m(0,"span"),D(1),_()),i&2){let e=f(3).$implicit,t=f(5);u(),J(" ",t.getFirewallName(e.data.installFirewallUUIDs)," ")}}function C8e(i,n){i&1&&(m(0,"span",46),D(1),R(2,"translate"),_()),i&2&&(u(),J(" ",k(2,1,"IF_EDITOR.TREE.NODE_INST")," "))}function y8e(i,n){i&1&&O(0,"i",47)}function I8e(i,n){if(i&1){let e=B();m(0,"span",44),P("click",function(r){S(e);let o=f(2).$implicit,s=f(5);return A(s.showFirewallsSelector(r,o))}),I(1,g8e,2,3,"i",45)(2,_8e,2,1,"span")(3,C8e,3,3,"span",46)(4,y8e,1,0,"i",47),_()}if(i&2){let e=f(2).$implicit,t=f(5);u(),q(!(e.data==null||e.data.installFirewallUUIDs==null)&&e.data.installFirewallUUIDs.size?1:-1),u(),q(!(e.data==null||e.data.installFirewallUUIDs==null)&&e.data.installFirewallUUIDs.size?2:3),u(2),q((e.data==null?null:e.data.type)===t.ObjectTypes.OBJ_ADDRESS?4:-1)}}function v8e(i,n){if(i&1&&I(0,I8e,5,3,"span",43),i&2){let e=f().$implicit,t=f(5);q(!(e.data==null||e.data.installFirewallUUIDs==null)&&e.data.installFirewallUUIDs.size||e.key==t.hoveredTreeNodeKey&&(e.data==null?null:e.data.type)===t.ObjectTypes.OBJ_ADDRESS||e.key==t.clickedTreeNodeKey?0:-1)}}function b8e(i,n){i&1&&(O(0,"i",45),R(1,"translate")),i&2&&ae("pTooltip",k(1,1,"IF_EDITOR.PROPS.INSTALL"))}function w8e(i,n){if(i&1){let e=B();m(0,"i",49),R(1,"translate"),P("click",function(r){S(e);let o=f(2).$implicit,s=f(5);return A(s.onSetInstallAddress(r,o))}),_()}i&2&&(ae("pTooltip",k(1,2,"IF_EDITOR.TREE.SET_INSTALL_TOOLTIP")),h("showDelay",700))}function S8e(i,n){if(i&1&&I(0,b8e,2,3,"i",45)(1,w8e,2,4,"i",48),i&2){let e=f().$implicit,t=f(5);q(!(e.data==null||e.data.installFirewallUUIDs==null)&&e.data.installFirewallUUIDs.size?0:-1),u(),q(e.key==t.hoveredTreeNodeKey&&!(!(e.data==null||e.data.installFirewallUUIDs==null)&&e.data.installFirewallUUIDs.size)&&(e.data==null?null:e.data.type)===t.ObjectTypes.OBJ_ADDRESS?1:-1)}}function A8e(i,n){if(i&1){let e=B();m(0,"i",50),R(1,"translate"),P("click",function(r){S(e);let o=f().$implicit,s=f(5);return A(s.onShowNodeInfo(r,o))}),_()}i&2&&(ae("pTooltip",k(1,2,"IF_EDITOR.TREE.EDIT_TOOLTIP")),h("showDelay",700))}function E8e(i,n){i&1&&(m(0,"span"),D(1,"..."),_())}function x8e(i,n){if(i&1&&(m(0,"span",51)(1,"span")(2,"p"),D(3),R(4,"translate"),_()(),m(5,"span"),D(6),R(7,"slice"),I(8,E8e,2,0,"span"),_()()),i&2){let e=f(2).$implicit;u(3),$(k(4,3,"IF_EDITOR.TREE.LBL")),u(3),J(" ",cl(7,5,e.data.labelName,0,20)," "),u(2),q(e.data.labelName.length>20?8:-1)}}function T8e(i,n){if(i&1&&(m(0,"span",51)(1,"span")(2,"p"),D(3,"mac"),_()(),m(4,"span"),D(5),_()()),i&2){let e=f(2).$implicit;u(5),J(" ",e.data.mac," ")}}function O8e(i,n){if(i&1&&I(0,x8e,9,9,"span",51)(1,T8e,6,1,"span",51),i&2){let e=f().$implicit;q(e.data!=null&&e.data.labelName?0:-1),u(),q(e.data!=null&&e.data.mac?1:-1)}}function D8e(i,n){if(i&1&&(m(0,"span",52)(1,"span")(2,"p"),D(3),_()(),m(4,"span"),D(5),_()()),i&2){let e=f(2).$implicit,t=f(5);h("ngClass",e.data.ip_version==4?"pillInfo":""),u(3),J("V",e.data.ip_version,""),u(2),J(" ",t.addressNetmaskToCIDRAddress(e.data.address,e.data.netmask)," ")}}function R8e(i,n){if(i&1&&I(0,D8e,6,3,"span",52),i&2){let e=f().$implicit;q(e.data!=null&&e.data.address?0:-1)}}function P8e(i,n){if(i&1){let e=B();m(0,"div",36),P("mouseenter",function(){let r=S(e).$implicit,o=f(5);return A(o.onMouseEnter(r))})("mouseleave",function(){let r=S(e).$implicit,o=f(5);return A(o.onMouseLeave(r))}),I(1,f8e,2,0,"span"),m(2,"span",37),O(3,"i",38),R(4,"fwcIcon"),I(5,m8e,2,4,"i",39)(6,v8e,1,1)(7,S8e,2,2)(8,A8e,2,4,"i",40),m(9,"span",41),D(10),_(),I(11,O8e,2,2)(12,R8e,1,1),_()()}if(i&2){let e=n.$implicit,t=f(5);h("ngClass",oe(13,l8e,e.data==null?null:e.data.special)),u(),q(e.key===t.editingTreeNodeKey?1:-1),u(),h("ngClass",Je(15,c8e,e.key==t.editingTreeNodeKey,e.data==null?null:e.data.id)),u(),le(k(4,11,e.data==null?null:e.data.type)),u(2),q(e.data!=null&&e.data.special&&(e.data==null?null:e.data.type)===t.ObjectTypes.OBJ_INTERFACE_FIREWALL&&!(e.data!=null&&e.data.id)?5:-1),u(),q((t.firewallsSelectorOptions==null?null:t.firewallsSelectorOptions.length)>1?6:7),u(2),q(e.key==t.hoveredTreeNodeKey&&!(e.data!=null&&e.data.special)?8:-1),u(2),$(e.label),u(),q((e.data==null?null:e.data.type)===t.ObjectTypes.OBJ_INTERFACE_FIREWALL||(e.data==null?null:e.data.type)===t.ObjectTypes.OBJ_INTERFACE_HOST?11:12)}}function k8e(i,n){if(i&1){let e=B();m(0,"p-tree",34,3),Ve("selectionChange",function(r){S(e);let o=f(4);return Ue(o.selectedTreeNodes,r)||(o.selectedTreeNodes=r),A(r)}),P("onNodeSelect",function(r){S(e);let o=f(4);return A(o.onNodeSelect(r))})("onNodeUnselect",function(r){S(e);let o=f(4);return A(o.onNodeUnselect(r))}),I(2,P8e,13,18,"ng-template",35),_()}if(i&2){let e=f(4);h("value",e.filteredTreeNodes)("propagateSelectionUp",!1)("propagateSelectionDown",!1),Ne("selection",e.selectedTreeNodes)}}function F8e(i,n){i&1&&(m(0,"div",28),O(1,"i",53)(2,"br"),m(3,"h6"),D(4),R(5,"translate"),_(),m(6,"p"),D(7),R(8,"translate"),_()()),i&2&&(u(4),$(k(5,2,"IF_EDITOR.TREE.MSG_NO_DATA")),u(3),$(k(8,4,"IF_EDITOR.TREE.TEXT_NO_DATA")))}function L8e(i,n){i&1&&(m(0,"span",55)(1,"span")(2,"p"),D(3),R(4,"translate"),_()()()),i&2&&(u(3),$(k(4,1,"IF_EDITOR.PROPS.EXISTS")))}function M8e(i,n){i&1&&(m(0,"span",55)(1,"span")(2,"p"),O(3,"i",56),R(4,"translate"),D(5),R(6,"translate"),_()()()),i&2&&(u(3),ae("pTooltip",k(4,2,"IF_EDITOR.PROPS.INFO_SPECIAL")),u(2),J(" ",k(6,4,"IF_EDITOR.PROPS.SPECIAL")," "))}function N8e(i,n){if(i&1&&(m(0,"span",54),D(1," \xA0 "),O(2,"i",38),R(3,"fwcIcon"),D(4),I(5,L8e,5,3,"span",55)(6,M8e,7,6,"span",55),_()),i&2){let e,t=f(5);u(2),le(k(3,6,t.formModel.get("type").value)),u(2),J(" ",(e=t.treeSearchByNodeKey(t.editingTreeNodeKey))==null?null:e.label," \xA0 "),u(),q(t.formModel.get("id").value?5:-1),u(),q(t.formModel.get("special").value?6:-1)}}function V8e(i,n){if(i&1&&(m(0,"div",33)(1,"div",8)(2,"h6",13),D(3),R(4,"translate"),I(5,N8e,7,8,"span",54),_()()()),i&2){let e=f(4);u(3),J(" ",k(4,2,"IF_EDITOR.PROPS.HEADER")," "),u(2),q(e.formModel&&e.editingTreeNodeKey?5:-1)}}function B8e(i,n){if(i&1){let e=B();m(0,"div",63)(1,"div",60)(2,"span",57)(3,"input",64),P("keyup",function(){S(e);let r=f(5);return A(r.onNodeFormInputType())}),_(),m(4,"label",65),D(5),R(6,"translate"),_()()()(),m(7,"div",63)(8,"div",60)(9,"span",57)(10,"input",66),P("keyup",function(){S(e);let r=f(5);return A(r.onNodeFormInputType())}),_(),m(11,"label",67),D(12),R(13,"translate"),_()()()()}if(i&2){let e,t,r=f(5);u(3),h("ngClass",oe(8,nz,((e=r.formModel.get("address"))==null?null:e.invalid)&&((e=r.formModel.get("address"))==null?null:e.touched))),u(2),$(k(6,4,"ITEM_PANEL.FIELDS.ADDRESS")),u(5),h("ngClass",oe(10,nz,((t=r.formModel.get("netmask"))==null?null:t.invalid)&&((t=r.formModel.get("netmask"))==null?null:t.touched))),u(2),$(k(13,6,"ITEM_PANEL.FIELDS.MASK"))}}function U8e(i,n){if(i&1){let e=B();m(0,"div",63)(1,"div",60)(2,"span",57)(3,"input",68),P("keyup",function(){S(e);let r=f(5);return A(r.onNodeFormInputType())}),_(),m(4,"label",69),D(5),R(6,"translate"),_()()()(),m(7,"div",63)(8,"div",60)(9,"span",57)(10,"input",70),P("keyup",function(){S(e);let r=f(5);return A(r.onNodeFormInputType())}),_(),m(11,"label",71),D(12),R(13,"translate"),_()()()()}i&2&&(u(5),$(k(6,2,"ITEM_PANEL.FIELDS.LABEL")),u(7),$(k(13,4,"ITEM_PANEL.FIELDS.MAC")))}function j8e(i,n){if(i&1){let e=B();m(0,"form",29)(1,"div",8)(2,"span",57)(3,"input",58),P("keyup",function(){S(e);let r=f(4);return A(r.onNodeFormInputType())}),_(),m(4,"label",59),D(5),R(6,"translate"),_()()(),I(7,B8e,14,12)(8,U8e,14,6),m(9,"div",8)(10,"div",60)(11,"span",57)(12,"input",61),P("keyup",function(){S(e);let r=f(4);return A(r.onNodeFormInputType())}),_(),m(13,"label",62),D(14),R(15,"translate"),_()()()()()}if(i&2){let e,t=f(4);h("formGroup",t.formModel),u(5),$(k(6,4,"ITEM_PANEL.FIELDS.NAME")),u(2),q(((e=t.formModel.get("type"))==null?null:e.value)===t.ObjectTypes.OBJ_ADDRESS?7:8),u(7),$(k(15,6,"ITEM_PANEL.FIELDS.COMMENTS"))}}function H8e(i,n){i&1&&(m(0,"div",28),O(1,"i",72)(2,"br"),m(3,"h6"),D(4),R(5,"translate"),_(),m(6,"p"),D(7),R(8,"translate"),_()()),i&2&&(u(4),$(k(5,2,"IF_EDITOR.PROPS.MSG_NO_OBJ")),u(3),$(k(8,4,"IF_EDITOR.PROPS.TEXT_NO_OBJ")))}function G8e(i,n){i&1&&(m(0,"span",74),D(1),R(2,"translate"),_()),i&2&&(u(),$(k(2,1,"IF_EDITOR.PROPS.SAVED")))}function z8e(i,n){if(i&1&&(m(0,"div",73),I(1,G8e,3,3,"span",74),_()),i&2){let e=f(4);u(),q(e.nodeSaved?1:-1)}}function W8e(i,n){if(i&1){let e=B();m(0,"div",8)(1,"div",11)(2,"span",12)(3,"h6",13),O(4,"i",14),D(5),R(6,"translate"),_()(),m(7,"span",12)(8,"button",15),R(9,"translate"),P("click",function(){S(e);let r=f(3);return A(r.onChangeSelected(!0))}),_()(),m(10,"span",12)(11,"button",16),R(12,"translate"),P("click",function(){S(e);let r=f(3);return A(r.onChangeSelected(!1))}),_()(),I(13,u8e,4,7,"span",12)(14,p8e,3,3,"span",12),O(15,"span",17),m(16,"span",12)(17,"h6",13),O(18,"i",18),D(19),R(20,"translate"),_()(),m(21,"span",12)(22,"p-checkbox",19),Ve("ngModelChange",function(r){S(e);let o=f(3);return Ue(o.selectedIpVersions,r)||(o.selectedIpVersions=r),A(r)}),P("onChange",function(){S(e);let r=f(3);return A(r.onChangeFilters())}),_()(),m(23,"span",12)(24,"p-checkbox",20),Ve("ngModelChange",function(r){S(e);let o=f(3);return Ue(o.selectedIpVersions,r)||(o.selectedIpVersions=r),A(r)}),P("onChange",function(){S(e);let r=f(3);return A(r.onChangeFilters())}),_()(),O(25,"span",21),m(26,"input",22,2),R(28,"translate"),Ve("ngModelChange",function(r){S(e);let o=f(3);return Ue(o.searchPattern,r)||(o.searchPattern=r),A(r)}),P("keyup",function(r){S(e);let o=f(3);return A(o.onSearchType(r.target.value))}),_(),m(29,"button",23),P("click",function(r){S(e);let o=We(27);f(3);let s=We(4);return A(s.toggle(r,o))}),_()()(),m(30,"div",24)(31,"p-card",25),I(32,h8e,5,3,"ng-template",26)(33,k8e,3,4,"p-tree",27)(34,F8e,9,6,"div",28),_()(),m(35,"div",24)(36,"p-card",25),I(37,V8e,6,4,"ng-template",26)(38,j8e,16,8,"form",29)(39,H8e,9,6,"div",28)(40,z8e,2,1,"ng-template",30),_()()}if(i&2){let e=f(3);u(5),J(" ",k(6,14,"IF_EDITOR.HEADER.SELECT")," "),u(3),ae("label",k(9,16,"IF_EDITOR.HEADER.ALL")),u(3),ae("label",k(12,18,"IF_EDITOR.HEADER.NONE")),u(2),q(e.options!=null&&e.options.hideActionButtons?-1:13),u(),q(e.options!=null&&e.options.hideActionButtons?-1:14),u(5),J(" ",k(20,20,"IF_EDITOR.HEADER.FILTER")," "),u(3),h("value",4),Ne("ngModel",e.selectedIpVersions),u(2),h("value",6),Ne("ngModel",e.selectedIpVersions),u(2),ae("placeholder",k(28,22,"IF_EDITOR.HEADER.FILTER_TEXT")),Ne("ngModel",e.searchPattern),u(7),q(e.filteredTreeNodes!=null&&e.filteredTreeNodes.length?33:34),u(5),q(e.formModel&&e.editingTreeNodeKey?38:39)}}function K8e(i,n){if(i&1){let e=B();m(0,"div",8)(1,"div",9),O(2,"i",75)(3,"br"),m(4,"h6"),D(5),R(6,"translate"),_(),m(7,"p"),D(8),R(9,"translate"),_(),m(10,"p")(11,"button",32),R(12,"translate"),P("click",function(){S(e);let r=f(3);return A(r.onDiscoverInterfacesHandler())}),_()()()()}i&2&&(u(5),$(k(6,3,"FW.MSG_AUTODISCOVER.HEADER")),u(3),$(k(9,5,"FW.MSG_AUTODISCOVER.TEXT")),u(3),ae("label",k(12,7,"FW.MSG_FW_EDITION.DISCOVER_IF")))}function $8e(i,n){if(i&1&&I(0,W8e,41,24)(1,K8e,13,9,"div",8),i&2){let e=f(2);q(e.treeNodes!=null&&e.treeNodes.length?0:1)}}function q8e(i,n){if(i&1&&(m(0,"div",5),I(1,d8e,10,6,"div",8)(2,$8e,2,1),_()),i&2){let e=f();h("ngClass",oe(2,a8e,e.disabled)),u(),q(e.loading?1:2)}}var rz=(()=>{class i{set options(e){e&&(this._options=e,this.parseOptions(e))}get options(){return this._options}set inputNodes(e){this.buildTree(e)}constructor(e,t,r,o){this.formBuilder=e,this.confirmationService=t,this.translate=r,this.cd=o,this.onInstallModified=new Q,this.onIpObjectModified=new Q,this.onStartAutodiscover=new Q,this.selectedIpVersions=[4,6],this.searchUpdated=new Re,this.formInputUpdated=new Re,this.nodeSaved=!1,this.ObjectTypes=L,this.alive=!0}ngOnInit(){this.searchUpdated.asObservable().pipe(xh(300),Sc(),kt(()=>this.alive)).subscribe(()=>{this.filterTree()}),this.formInputUpdated.asObservable().pipe(xh(300),kt(()=>this.alive)).subscribe(()=>{this.onSaveNode()})}ngOnDestroy(){this.alive=!1}getFirewallName(e){let t=[];if(this._options)return e&&e.forEach(r=>{let o=this._options.firewalls.find(s=>s.firewallUUID&&s.firewallUUID===r);o&&t.push(o.firewall_name)}),t.join("/")}addFirewall(e){if(this._options&&e){let t;Array.isArray(this._options.firewalls)?t=this._options.firewalls.find(r=>r.firewallUUID&&r.firewallUUID===e.firewallUUID):this._options.firewalls=[],t||(this._options.firewalls.push(re({},e)),this.firewallsSelectorOptions||(this.firewallsSelectorOptions=[]),this.firewallsSelectorOptions.push({id:e.firewallUUID,label:e.firewall_name||this.translate.instant("IF_EDITOR.TREE.UNNAMED_NODE"),command:r=>this.onChangeFirewallsSelectorOptions(r)})),this.cd.detectChanges()}}updateFirewallName(e,t){if(this._options&&Array.isArray(this._options.firewalls)&&Array.isArray(this.firewallsSelectorOptions)){let r=this._options.firewalls.find(s=>s.firewallUUID&&s.firewallUUID===e),o=this.firewallsSelectorOptions.find(s=>s.id&&s.id===e);r&&o&&(r.firewall_name=t,o.label=t,this.cd.detectChanges())}}deleteFirewall(e){if(this._options&&Array.isArray(this._options.firewalls)){let t=this._options.firewalls.findIndex(o=>o.firewallUUID&&o.firewallUUID===e),r=this.firewallsSelectorOptions.findIndex(o=>o.id&&o.id===e);t!==-1&&r!==-1&&(this._options.firewalls.splice(t,1),this.firewallsSelectorOptions.splice(r,1),Array.isArray(this.treeNodes)&&(this.treeNodes.forEach(o=>{o.data.installFirewallUUIDs&&o.data.installFirewallUUIDs.delete(e),Array.isArray(o.children)&&o.children.forEach(s=>{s.data.installFirewallUUIDs&&s.data.installFirewallUUIDs.delete(e)})}),this.filterTree()))}}getInterfacesFromTree(){let e=[];return Array.isArray(this.treeNodes)&&this.treeNodes.forEach(t=>{let r={interfaceUUID:t.data.interfaceUUID,id:t.data.id,id_node:t.data.id_node,firewall:t.data.firewall,cluster:t.data.cluster,type:t.data.type,interface_type:t.data.type,labelName:t.data.labelName,mac:t.data.mac,comment:t.data.comment,name:t.label,ipobjs:[]};Array.isArray(t.children)&&t.children.forEach(o=>{r.ipobjs.push({ipObjUUID:o.data.ipObjUUID,id:o.data.id,name:o.label,id_node:o.data.id_node,address:o.data.address,comment:o.data.comment,ip_version:o.data.ip_version,netmask:o.data.netmask,type:L.OBJ_ADDRESS,port:o.data.port})}),e.push(r)}),e}getObjectFromTreeNode(e){let t=null;return e&&(t=e.data,t.name=e.label),t}processOptions(e){e&&(this._options=e,this.parseOptions(e))}parseOptions(e){if(e&&e.firewalls){let t=this.getInterfacesFromTree();Array.isArray(e.existingIfs)&&e.existingIfs.forEach(s=>{t.find(l=>l.name===s.name)||t.push(s)});let r=s=>{let a=[];try{if(Array.isArray(s))for(let l=0;l<s.length;l++){let c=s[l],d,p,[g,C]=c.split("/"),y=ip.parse(g);if(y.kind()=="ipv4")d=4,p="/"+C;else if(y.kind()=="ipv6")d=6,p="/"+C;else throw Error(g);a.push({address:g,netmask:p,ip_version:d})}}catch{return[]}return a},o=s=>{let a,l=wi.netmaskCIDRRegexp.exec(s);return l?a=parseInt(l[1]):a=ip.IPv4.parse(s).prefixLengthFromSubnetMask(),a};this.firewallsSelectorOptions=[],e.firewalls.forEach(s=>{this.firewallsSelectorOptions.push({id:s.firewallUUID,label:s.firewall_name||this.translate.instant("IF_EDITOR.TREE.UNNAMED_NODE"),command:a=>this.onChangeFirewallsSelectorOptions(a)})}),e.discoveredIfs.forEach(s=>{let a=t.find(d=>d.name===s.name);if(!a){let d=t.push({interfaceUUID:ok(),id:void 0,comment:void 0,ipobjs:[],labelName:void 0,name:s.name,mac:s.mac,type:L.OBJ_INTERFACE_FIREWALL});a=t[d-1]}let l=[];l=r(s.ipv4).concat(r(s.ipv6)),Array.isArray(a.ipobjs)||(a.ipobjs=[]);let c={4:0,6:0};for(let d=0;d<l.length;d++){let p=l[d],g=!1,C,y,v,w=new Set;C=p.netmask,(!C||!parseInt(C.substr(1)))&&(C=p.ip_version==4?"/32":"/128"),y=parseInt(C.substr(1));for(let E=0;E<a.ipobjs.length&&!g;E++){let T=a.ipobjs[E],F=ip.parse(T.address).toNormalizedString();p.ip_version==T.ip_version&&ip.parse(p.address).toNormalizedString()===F&&!w.has(F)&&(v=o(T.netmask),y===v&&(g=!0,w.add(F)))}if(!g){let E="",T="";if(s.name!=="lo"&&!/^tun\d+$/.test(s.name)&&!/^wg\d+$/.test(s.name))if(!e.isCluster)E=c[p.ip_version]?":"+(c[p.ip_version]-1):"";else{s.suffixToAdd&&(T="_"+s.suffixToAdd);let F=o(C);if((F===24||F===32)&&p.ip_version===4)try{let G=ip.IPv4.parse(p.address);E=c[p.ip_version]?"_F"+G.octets[3]:T}catch{}else E=c[p.ip_version]?"_F"+c[p.ip_version]:T}a.ipobjs.push({ipObjUUID:a.interfaceUUID+ok(),id:void 0,id_node:void 0,address:p.address,comment:"",name:s.name+E,ip_version:p.ip_version,netmask:C,type:L.OBJ_ADDRESS,port:void 0})}c[p.ip_version]++}}),this.buildTree(t)}}buildTree(e){let t=new Map,r=new Map;if(e&&Array.isArray(e)){let s=1;this.treeNodes=[],this.filteredTreeNodes=[];let a=[];this.selectedTreeNodes&&(a=this.selectedTreeNodes.map(l=>{let c;return l.data&&(l.data.type===L.OBJ_ADDRESS?c=l.data.ipObjUUID:c=l.data.interfaceUUID),c})),this.selectedTreeNodes=[],this._options.firewalls.forEach(l=>{if(l.installOptions){if(l.installOptions.interface){let c=t.get(l.installOptions.interface.name);c||(c=new Set),c.add(l.installOptions.firewallUUID),t.set(l.installOptions.interface.name,c)}l.installOptions.ipobj&&r.set(l.installOptions.ipobj.address,new Set([l.installOptions.firewallUUID]))}}),e.forEach(l=>{let c={key:""+s++,label:l.name,data:{interfaceUUID:l.interfaceUUID,id:l.id,id_node:l.id_node,firewall:l.firewall,cluster:l.cluster,type:l.type,interface_type:l.type,labelName:l.labelName,mac:l.mac,comment:l.comment,installFirewallUUIDs:t.get(l.name)},children:[],expanded:!0,selectable:!l.id};(l.id||c.data.installFirewallUUIDs||a.find(d=>c.data.interfaceUUID===d))&&this.treeSelectNode(c),!l.id&&l.type===L.OBJ_INTERFACE_FIREWALL&&l.name==="lo"&&(c.data.special=!0,c.selectable=!1,this.treeSelectNode(c)),Array.isArray(l.ipobjs)&&(l.ipobjs.forEach(d=>{let p;p=r.get(d.address);let g={key:""+s++,label:d.name,data:{ipObjUUID:d.ipObjUUID,id:d.id,id_node:d.id_node,interface:l.id,type:d.type,ip_version:d.ip_version,address:d.address,netmask:d.netmask,comment:d.comment,installFirewallUUIDs:p},selectable:!d.id};d.id||p||a.find(C=>g.data.ipObjUUID===C)?this.treeSelectNode(g):p&&(this.treeSelectNode(g),this.treeSelectNode(c),this.onInstallModified.emit({firewallUUID:this._options.discoveredFirewallUUID,interface:this.getObjectFromTreeNode(c),ipobj:this.getObjectFromTreeNode(g)})),c.data.special&&!d.id&&d.type===L.OBJ_ADDRESS&&d.name==="lo"&&(g.data.special=!0,g.selectable=!1,this.treeSelectNode(g)),c.children.push(g)}),c.children.sort((d,p)=>d.data.ip_version-p.data.ip_version)),this.treeNodes.push(c)})}let o=this._options.firewalls.find(s=>s.firewallUUID===this._options.discoveredFirewallUUID);if(o&&this._options.discoveredAddress&&o.installOptions&&!o.installOptions.interface&&!o.installOptions.ipobj&&!this._options.firewalls.find(s=>s.installOptions&&s.installOptions.ipobj&&s.installOptions.ipobj.address===this._options.discoveredAddress)){let s=!1;for(let a=0;a<this.treeNodes.length;a++){let l=this.treeNodes[a];if(l.children)for(let c=0;c<l.children.length&&!s;c++){let d=l.children[c],p=!1;d.data.installFirewallUUIDs&&(p=d.data.installFirewallUUIDs.has(o.firewallUUID)),d.data&&d.data.type===L.OBJ_ADDRESS&&d.data.address===this._options.discoveredAddress&&!p&&(d.data.installFirewallUUIDs=new Set([o.firewallUUID]),this.treeSelectNode(d),l.data.installFirewallUUIDs||(l.data.installFirewallUUIDs=new Set),l.data.installFirewallUUIDs.add(o.firewallUUID),this.treeSelectNode(l),this.onInstallModified.emit({firewallUUID:o.firewallUUID,interface:this.getObjectFromTreeNode(l),ipobj:this.getObjectFromTreeNode(d)}),s=!0)}}}this.filterTree()}filterTree(){let e=t=>{let r=[],o=s=>{let a=!0;if(this.searchPattern&&this.searchPattern.trim().length&&s.label&&s.data.type===L.OBJ_INTERFACE_FIREWALL){let l=this.searchPattern.trim().split(/\s+/),c=s.label.toLowerCase(),d=[],p=[];for(let y=0;y<l.length;y++){let v=l[y].toLowerCase();v[0]!=="!"?d.push(v):p.push(v)}let g=!d.length;for(let y=0;y<d.length&&!g;y++){let v=d[y],w=v[v.length-1],E;w!=="*"?c===v&&(g=!0):(E=v.substring(0,v.length-1),E.length&&c.includes(E)&&(g=!0))}let C=!0;for(let y=0;y<p.length;y++){let v=p[y],w=v[v.length-1],E;w!=="*"?(E=v.substring(1),E.length&&c===E&&(C=!1)):(E=v.substring(1,v.length-1),E.length&&c.includes(E)&&(C=!1))}a=g&&C}return a};if(Array.isArray(t)){let s=t.map(a=>fi(a));for(let a=0;a<s.length;a++){let l=s[a],c=!0;l.data&&(this.selectedIpVersions.indexOf(4)==-1&&l.data&&l.data.type==L.OBJ_ADDRESS&&l.data.ip_version==4||this.selectedIpVersions.indexOf(6)==-1&&l.data&&l.data.type==L.OBJ_ADDRESS&&l.data.ip_version==6||!o(l))&&(c=!1),c&&(Array.isArray(l.children)&&(l.children=e(l.children)),r.push(l))}}return r};this.filteredTreeNodes=e(this.treeNodes),this.filteredTreeNodes=this.filteredTreeNodes.sort((t,r)=>t.label.toLocaleLowerCase().localeCompare(r.label.toLocaleLowerCase())),this.selectedTreeNodes=this.selectedTreeNodes.filter(t=>{if(!t.selectable)return!0;for(let r=0;r<this.filteredTreeNodes.length;r++){let o=this.filteredTreeNodes[r];if(o.key===t.key)return!0;if(Array.isArray(o.children)){for(let s=0;s<o.children.length;s++)if(o.children[s].key===t.key)return!0}}return!1}),this.onIpObjectModified.emit({}),this.cd.detectChanges()}onShowNodeInfo(e,t){e.stopPropagation(),this.editingTreeNodeKey=t.key,this.createForm(t.key),this.nodeSaved=!1}onSetInstallAddress(e,t){e.stopPropagation();let r=this.treeSearchByNodeKey(t.key),o=this.firewallsSelectorOptions[0].id;this.doSetInstallAddress(r,o)}doSetInstallAddress(e,t){if(e){let r=null,o;if(e.data.installFirewallUUIDs){if(o=e.data.installFirewallUUIDs.values().next().value,o===t)return}else e.data.installFirewallUUIDs=new Set;for(let s=0;s<this.treeNodes.length;s++){let a=this.treeNodes[s];if(a.data.installFirewallUUIDs&&(a.data.installFirewallUUIDs.delete(t),o&&a.data.installFirewallUUIDs.delete(o)),a.selectable=!a.data.id&&!a.data.special,a.children)for(let l=0;l<a.children.length;l++){let c=a.children[l];c.data.installFirewallUUIDs&&(c.data.installFirewallUUIDs.delete(t),o&&c.data.installFirewallUUIDs.delete(o)),c.selectable=!c.data.id&&!c.data.special,c.key===e.key&&(r=a,r.data.installFirewallUUIDs||(r.data.installFirewallUUIDs=new Set))}}this.treeSelectNode(e),e.data.installFirewallUUIDs.add(t),r&&(this.treeSelectNode(r),r.data.installFirewallUUIDs.add(t)),this.filterTree(),this.onInstallModified.emit({firewallUUID:t,interface:this.getObjectFromTreeNode(r),ipobj:this.getObjectFromTreeNode(e)})}}updateInstallOptions(e){if(this._options&&e){let t=this._options.firewalls.find(r=>r.firewallUUID&&r.firewallUUID===e.firewallUUID);t&&(t.installOptions=e,this.treeNodes.forEach(r=>{r.data.installFirewallUUIDs&&(r.data.installFirewallUUIDs.delete(t.firewallUUID),Array.isArray(r.children)&&r.children.forEach(o=>{o.data.installFirewallUUIDs&&o.data.installFirewallUUIDs.delete(t.firewallUUID)})),r.data.id&&e.interface&&r.data.interfaceUUID===e.interface.interfaceUUID&&(r.data.installFirewallUUIDs||(r.data.installFirewallUUIDs=new Set),r.data.installFirewallUUIDs.add(e.firewallUUID),Array.isArray(r.children)&&r.children.forEach(o=>{o.data.id&&e.ipobj&&o.data.ipObjUUID===e.ipobj.ipObjUUID&&(o.data.installFirewallUUIDs||(o.data.installFirewallUUIDs=new Set),o.data.installFirewallUUIDs.add(e.firewallUUID))}))}),this.filterTree())}}treeSelectNode(e){this.selectedTreeNodes.find(t=>t.key===e.key)||this.selectedTreeNodes.push(e)}treeGetParentNode(e){let t=null,r=!1;for(let o=0;o<this.treeNodes.length&&!r;o++){let s=this.treeNodes[o];if(s.key===e.key&&(r=!0),Array.isArray(s.children)){t=s;for(let a=0;a<s.children.length&&!r;a++)s.children[a].key===e.key&&(r=!0)}}return r?t:null}treeSearchByNodeKey(e,t=this.treeNodes){let r;if(t)for(let o=0;!r&&o<t.length;o++){let s=t[o];s.key===e?r=s:s.children&&(r=this.treeSearchByNodeKey(e,s.children))}return r}treeSearchByObjectIdAndType(e,t,r=this.treeNodes){let o;if(r)for(let s=0;s<r.length;s++){let a=r[s];if(a.data&&a.data.id===e&&a.data.type===t){o=a;break}Array.isArray(a.children)&&this.treeSearchByObjectIdAndType(e,t,a.children)}return o}createForm(e){let t=this.treeSearchByNodeKey(e);t&&t.data&&(this.formModel=null,this.cd.detectChanges(),this.formModel=this.formBuilder.group({id:t.data.id,key:t.key,special:!!t.data.special,type:t.data.type,label:[t.label,$e.required],comment:t.data.comment}),t.data.type==L.OBJ_ADDRESS?(this.formModel.addControl("address",new Se(t.data.address,[$e.required,wi.ipAddressValidator.bind(this)])),this.formModel.addControl("netmask",new Se(t.data.netmask,[$e.required,wi.netmaskValidator.bind(this)])),this.formModel.addControl("ip_version",new Se(t.data.ip_version,[$e.required]))):(this.formModel.addControl("labelName",new Se(t.data.labelName,$e.pattern(wi.nameRegExp))),this.formModel.addControl("mac",new Se(t.data.mac,$e.pattern(wi.macRegexp)))),t.data.special?this.formModel.disable():this.formModel.enable()),this.cd.detectChanges(),this.cd.markForCheck()}addressNetmaskToCIDRAddress(e,t){let r=e;if(t){let o=wi.netmaskCIDRRegexp.exec(t);if(o)r+="/"+o[1];else try{let s=ip.IPv4.parse(t).prefixLengthFromSubnetMask();s?r+="/"+s:r=this.translate.instant("IF_EDITOR.TREE.ERROR_ADDRESS")}catch{r=this.translate.instant("IF_EDITOR.TREE.ERROR_ADDRESS")}}return r}onSearchType(e){this.searchUpdated.next(e)}onChangeFilters(){this.filterTree()}onChangeSelected(e){Array.isArray(this.treeNodes)&&(this.selectAllNodes(e),this.onIpObjectModified.emit({}))}selectAllNodes(e){e?(this.selectedTreeNodes=[],this.filteredTreeNodes.forEach(t=>{this.selectedTreeNodes.push(t),Array.isArray(t.children)&&t.children.length&&this.selectedTreeNodes.push(...t.children)})):this.selectedTreeNodes=this.selectedTreeNodes.filter(t=>t.selectable===!1)}onNodeSelect(e){if(e&&e.node){let t=e.node;t.parent&&this.treeSelectNode(t.parent),this.onIpObjectModified.emit({})}}onNodeUnselect(e){if(e&&e.node){let t=e.node;if(t.data.special)e.originalEvent.preventDefault(),this.treeSelectNode(t);else{let r=this.treeSearchByNodeKey(t.key);if(Array.isArray(r.children))this.selectedTreeNodes=this.selectedTreeNodes.filter(o=>!t.children.find(s=>s.key===o.key&&s.selectable)),r.data.installFirewallUUIDs&&(r.data.installFirewallUUIDs=null,r.children.forEach(o=>{o.data.installFirewallUUIDs=null}));else if(r.data.installFirewallUUIDs){let o=this.treeGetParentNode(r),a=r.data.installFirewallUUIDs.values().next().value;o.data.installFirewallUUIDs.delete(a),r.data.installFirewallUUIDs=null}this.filterTree(),t.data.installFirewallUUIDs?t.data.installFirewallUUIDs.forEach(o=>{this.onInstallModified.emit({firewallUUID:o,interface:null,ipobj:null})}):this.onIpObjectModified.emit({})}this.cd.markForCheck()}}onMouseEnter(e){this.hoveredTreeNodeKey=e.key}onMouseLeave(e){this.hoveredTreeNodeKey=null}onNodeFormInputType(){this.nodeSaved=!1,this.formModel.valid&&this.formInputUpdated.next(void 0)}onCancelNodeEdit(){if(this.formModel){let e=this.formModel.value,t=this.treeSearchByNodeKey(e.key),r={};Object.keys(e).forEach(o=>{o==="key"||o==="label"?r[o]=t[o]:t.data&&(r[o]=t.data[o])}),this.formModel.reset(r)}}onSaveNode(){if(this.formModel&&this.formModel.valid){let e=this.formModel.value,t=this.treeSearchByNodeKey(e.key);t&&(Object.keys(e).forEach(r=>{switch(r){case"key":break;case"label":t.label=e[r];break;default:t.data[r]=e[r]}}),t.data.modified=!0,t.data.id?this.onIpObjectModified.emit(Pe(re({},t.data),{name:t.label})):t.data.installFirewallUUIDs&&this.onIpObjectModified.emit({installFirewallUUIDs:t.data.installFirewallUUIDs,type:t.data.type,name:t.label,address:t.data.address}),this.filterTree(),this.formModel.markAsPristine(),this.nodeSaved=!0)}}onResetTree(){this.treeNodes.find(t=>!t.data.id)&&this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_CONFIRM"),icon:"fa fa-question-circle fwcBlue iconBig",message:this.translate.instant("IF_EDITOR.TREE.MSG_RESET_TREE"),accept:()=>{this.treeNodes=this.treeNodes.filter(t=>t.data&&t.data.id),this.treeNodes.forEach(t=>{Array.isArray(t.children)&&(t.children=t.children.filter(r=>r.data&&r.data.id))}),this.selectedTreeNodes=this.selectedTreeNodes.filter(t=>t.data&&t.data.id),this.filterTree(),this._options.firewalls.forEach(t=>{let r=!0;this.selectedTreeNodes.find(o=>o.data&&o.data.installFirewallUUIDs&&o.data.installFirewallUUIDs.has(t.firewallUUID))&&(r=!1),r&&this.onInstallModified.emit({firewallUUID:t.firewallUUID,interface:null,ipobj:null})})},rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES")})}isThereAnySelectedNode(){let e=!0;if(this.treeNodes){let t;t=this.treeNodes.some(r=>r.selectable),t&&!this.getSelectedTreeNodes(!0).length&&(e=!1)}return e}areTherePendingOperations(){let e=!1;return this.selectedTreeNodes&&(e=!!this.selectedTreeNodes.find(t=>t.data&&(t.data.id&&t.data.modified||!t.data.id))),e}getSelectedTreeNodes(e=!1){let t=r=>{let o=[];return r&&r.forEach(s=>{let a=-1;if(this.selectedTreeNodes.find(l=>!e&&s.key===l.key||s.key===l.key&&l.selectable)&&(a=o.push(re({},s))-1),a!==-1){let l=o[a];l.children&&(l.children=t(l.children))}}),o};return t(this.treeNodes)}setNewLoIds(e){if(e&&e.loData&&this.treeNodes){let t=this.treeNodes.find(r=>r.data.special);t&&Array.isArray(t.children)&&(t.data.id=e.loData.ifId,t.data.updateSpecial=!0,t.children.forEach(r=>{r.data&&(r.data.interface=e.loData.ifId,r.data.updateSpecial=!0,r.data.id=r.data.ip_version===4?e.loData.ipv4Id:e.loData.ipv6Id)})),this.filterTree()}}getInstallationData(e){let t,r,o;return Array.isArray(this.selectedTreeNodes)&&this.selectedTreeNodes.forEach(s=>{s.data&&(s.data.type===L.OBJ_INTERFACE_FIREWALL&&s.data.installFirewallUUIDs&&s.data.installFirewallUUIDs.has(e)&&(r=s.data),s.data.type===L.OBJ_ADDRESS&&s.data.installFirewallUUIDs&&s.data.installFirewallUUIDs.has(e)&&(o=s.data))}),(r||o)&&(t={interface:r,address:o}),t}operationsModified(){let e=!1;if(Array.isArray(this.selectedTreeNodes))for(let t=0;t<this.selectedTreeNodes.length&&!e;t++){let r=this.selectedTreeNodes[t];if(r.data.modified||r.data.updateSpecial||!r.data.id)e=!0;else if(Array.isArray(r.children))for(let o=0;o<r.children.length&&!e;o++){let s=r.children[o];(s.data.modified||r.data.updateSpecial||!s.data.id)&&(e=!0)}}return e}getSelectedModifiedTreeNodes(){if(Array.isArray(this.selectedTreeNodes))return this.selectedTreeNodes.filter(e=>e.data&&e.data.modified)}showFirewallsSelector(e,t){e.stopPropagation(),t.data.type===L.OBJ_ADDRESS&&(this.clickedTreeNodeKey=t.key,this.menuNodesSelector.toggle(e))}hideFirewallSelector(){this.menuNodesSelector.hide()}onHideFirewallsSelector(){this.clickedTreeNodeKey=null}onChangeFirewallsSelectorOptions(e){let r=e.item.id,o=this.treeSearchByNodeKey(this.clickedTreeNodeKey);this.doSetInstallAddress(o,r)}onDiscoverInterfacesHandler(){this.onStartAutodiscover.emit(!0)}resetProperties(){this._options=null,this.treeNodes=[],this.filteredTreeNodes=[],this.selectedTreeNodes=[],this.searchPattern=null,this.editingTreeNodeKey=null,this.nodeSaved=!1}static{this.\u0275fac=function(t){return new(t||i)(b(Fr),b(si),b(Xe),b(Ie))}}static{this.\u0275cmp=ie({type:i,selectors:[["sts-fwc-interfaces-tree-editor"]],viewQuery:function(t,r){if(t&1&&de(s8e,5),t&2){let o;ee(o=te())&&(r.menuNodesSelector=o.first)}},inputs:{options:"options",inputNodes:"inputNodes",disabled:"disabled",minimized:"minimized",loading:"loading",manualMode:"manualMode"},outputs:{onInstallModified:"onInstallModified",onIpObjectModified:"onIpObjectModified",onStartAutodiscover:"onStartAutodiscover"},decls:48,vars:21,consts:[["menuNodesSelector",""],["opFilterHelp",""],["inputFilter",""],["treeSelector",""],["appendTo","body",3,"onHide","popup","model"],[1,"grid","divInterfacesEditor",3,"ngClass"],["appendTo","body"],[1,"fa","fa-lg","fa-info-circle","fwcBlue"],[1,"col-12"],[1,"divIconMessage","divIconMessage--condensed"],[1,"fa","fa-4x","fa-cog","fa-spin","fwcBlue"],[1,"divInlineInput"],[1,"spanField"],[1,"fwcBlue"],[1,"fa","fa-list-ul"],["type","button","pButton","","icon","fa fa-check-square",1,"p-button-primary",3,"click","label"],["type","button","pButton","","icon","fa fa-square",1,"p-button-primary",3,"click","label"],[1,"fwcSep"],[1,"fa","fa-filter"],["name","ipVersions","label","IPv4","inputId","ipv4",3,"ngModelChange","onChange","value","ngModel"],["name","ipVersions","label","IPv6","inputId","ipv6",3,"ngModelChange","onChange","value","ngModel"],[1,"fwcSepShort"],["type","text","pInputText","","name","search","maxlength","255",3,"ngModelChange","keyup","placeholder","ngModel"],["pButton","","type","button","icon","fa fa-info",1,"p-button-info","fwcButtonHeight",3,"click"],[1,"col-12","md:col-6"],["styleClass","cardInterfacesEditor"],["pTemplate","header"],["selectionMode","checkbox","styleClass","treeSelector",3,"value","propagateSelectionUp","propagateSelectionDown","selection"],[1,"divIconMessage"],[1,"grid","formCondensed",3,"formGroup"],["pTemplate","footer"],["type","button","pButton","","icon","fa fa-trash","showDelay","500","tooltipPosition","top",1,"p-button-danger",3,"click","pTooltip","disabled","label"],["type","button","pButton","","icon","fa fa-search-plus",1,"p-button-primary",3,"click","label"],[1,"grid"],["selectionMode","checkbox","styleClass","treeSelector",3,"selectionChange","onNodeSelect","onNodeUnselect","value","propagateSelectionUp","propagateSelectionDown","selection"],["pTemplate","default"],[1,"treeSelector-node",3,"mouseenter","mouseleave","ngClass"],[3,"ngClass"],["aria-hidden","true"],[1,"fa","fa-fw","fa-info-circle","fwcBlue",3,"pTooltip","showDelay"],["tooltipPosition","top",1,"fa","fa-pencil","fwcIconButton","padded","iconInfo",3,"pTooltip","showDelay"],[1,"spanNodeLabel"],[1,"fa","fa-fw","fa-angle-right","fwcBlue"],[1,"spanSimplePill"],[1,"spanSimplePill",3,"click"],["showDelay","500","tooltipPosition","top",1,"fa","fa-fw","fa-lg","fa-check","fwcGreen",3,"pTooltip"],[1,"spanSimplePill-select"],[1,"pi","pi-chevron-down","fwcBlue"],["tooltipPosition","top",1,"fa","fa-check","fwcIconButton","padded","iconSuccess",3,"pTooltip","showDelay"],["tooltipPosition","top",1,"fa","fa-check","fwcIconButton","padded","iconSuccess",3,"click","pTooltip","showDelay"],["tooltipPosition","top",1,"fa","fa-pencil","fwcIconButton","padded","iconInfo",3,"click","pTooltip","showDelay"],[1,"spanInfoPill","pillSuccess"],[1,"spanInfoPill",3,"ngClass"],[1,"fa","fa-5x","fa-exclamation","fwcPaleDark"],[1,"fwcDark"],[1,"spanInfoPill","pillInfoBadge"],["showDelay","300","tooltipPosition","top",1,"fa","fa-info-circle",3,"pTooltip"],[1,"p-float-label"],["type","text","pInputText","","formControlName","label","name","label","maxlength","64",3,"keyup"],["for","label"],[1,"p-inputgroup"],["type","text","pInputText","","formControlName","comment","name","comment",3,"keyup"],["for","comment"],[1,"col-6"],["type","text","pInputText","","formControlName","address","name","address","maxlength","45",3,"keyup","ngClass"],["for","address"],["type","text","pInputText","","formControlName","netmask","name","netmask","maxlength","15",3,"keyup","ngClass"],["for","netmask"],["type","text","pInputText","","formControlName","labelName","name","labelName","maxlength","64",3,"keyup"],["for","labelName"],["type","text","pInputText","","formControlName","mac","name","mac","maxlength","17",3,"keyup"],["for","mac"],[1,"fa","fa-5x","fa-exclamation-triangle"],[2,"text-align","right"],[1,"fwcGreen"],[1,"fa","fa-4x","fa-info-circle","fwcBlue"]],template:function(t,r){if(t&1){let o=B();m(0,"p-menu",4,0),P("onHide",function(){return S(o),A(r.onHideFirewallsSelector())}),_(),I(2,q8e,3,4,"div",5),m(3,"p-overlayPanel",6,1)(5,"h6"),O(6,"i",7),D(7),R(8,"translate"),_(),m(9,"ul")(10,"li"),D(11),R(12,"translate"),m(13,"code"),D(14,"lo"),_()(),m(15,"li"),D(16),R(17,"translate"),m(18,"code"),D(19,"lo"),m(20,"strong"),D(21,"*"),_()()(),m(22,"li"),D(23),R(24,"translate"),m(25,"code")(26,"strong"),D(27,"!"),_(),D(28,"lo"),_()(),m(29,"li"),D(30),R(31,"translate"),m(32,"code")(33,"strong"),D(34,"!"),_(),D(35,"lo"),m(36,"strong"),D(37,"*"),_()()()(),m(38,"p"),D(39),R(40,"translate"),_(),m(41,"ul")(42,"li")(43,"code"),D(44,"lo* tun*"),_()(),m(45,"li")(46,"code"),D(47,"tun* !tun10*"),_()()()()}t&2&&(h("popup",!0)("model",r.firewallsSelectorOptions),u(2),q(r.minimized?-1:2),u(5),J(" ",k(8,9,"PANELS.INTERFACES_EDITOR.USE_SAMPLE.TITLE")," "),u(4),J(" ",k(12,11,"PANELS.INTERFACES_EDITOR.USE_SAMPLE.EXACT_COINCIDENCE")," "),u(5),J(" ",k(17,13,"PANELS.INTERFACES_EDITOR.USE_SAMPLE.PARTIAL_COINCIDENCE")," "),u(7),J(" ",k(24,15,"PANELS.INTERFACES_EDITOR.USE_SAMPLE.EXACT_EXCLUSION")," "),u(7),J(" ",k(31,17,"PANELS.INTERFACES_EDITOR.USE_SAMPLE.PARTIAL_EXCLUSION")," "),u(9),$(k(40,19,"PANELS.INTERFACES_EDITOR.USE_SAMPLE.TIP")))},styles:[`:root{--lightColor: #eee;--darkColor: #222;--inputBackgroundColor: #eee;--inputBorderColor: #cacaca;--inputColor: #222;--surfaceBackgroundColor: white;--fixedWhiteColor: #eee;--fixedDarkColor: #333;--translucidColor: transparent;--menuBackground: url(/assets/img/fwc-fondo-menu.jpg);--mainBackground: url(/assets/img/fwc-fondo-home.jpg);--fwcBlue: #0069a7;--fwcBlueDarkened: #005e96;--fwcDarkBlue: #003351;--fwcDarkBlue2: #014071;--fwcLightBlue: #1779ba;--fwcPaleBlue: #689fe1;--fwcPaleBlue2: #cce2f8;--fwcPaleBlue3: #e6f1fd;--fwcBlueGradient1: #386ea0;--fwcBlueGradient2: #21517e;--fwcLightGreyGradient1: #f6f7f9;--fwcLightGreyGradient2: #ebedf0;--fwcOrange: #eb6400;--fwcPaleOrange: #e67e22;--fwcPaleOrange2: #ffcfa4;--fwcPaleOrange3: #fe7815;--fwcOrangeRed: #e74c3c;--fwcRed: #f00;--fwcRed2: #b40b00;--fwcPaleRed: #f77676;--fwcPaleRed2: #ffe1e1;--fwcTranslucidRed: rgba(255, 0, 0, .15);--fwcDarkGreen: #023008;--fwcGreen: #009900;--fwcLightGreen: #28ff28;--fwcPaleGreen: #c7e6c8;--fwcLime: #baf649;--fwcWhite: #eee;--fwcPaleWhite: #f5f5f5;--fwcPaleWhite2: #f4f4f4;--fwcDark: #222;--fwcLightDark: #1e1e1e;--fwcMidDark: #555;--fwcMidDark2: #333;--fwcPaleDark: #888;--fwcPaleDark2: #383838;--fwcGrey: #cacaca;--fwcGrey2: #cecece;--fwcGrey3: #eee;--fwcGrey4: #e5e5e5;--fwcGrey5: #c8c8c8;--fwcGrey6: #efefef;--fwcGrey7: #dedede;--fwcAccent: #ff4081;--fwcShadow: #bbb;--fwcSelected: #ddd;--fwcSelectedB: #0069a7;--fwcRulePink: #ef9a9a;--fwcRulePurple: #ce93d8;--fwcRuleBlue: #90caf9;--fwcRuleTeal: #80cbc4;--fwcRuleGreen: #a5d6a7;--fwcRuleYellow: #fff59d;--fwcRuleOrange: #ffcc80}.divInterfacesEditor{position:relative}.divInterfacesEditor-loader{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}.divInterfacesEditor--disabled:before{position:absolute;content:"";inset:0;z-index:10001;background:#00000017}.treeInterfacesEditor{max-height:20em;overflow:auto;width:100%;border:none!important}.cardInterfacesEditor{overflow:hidden;height:19rem}.cardInterfacesEditor .p-card-header{height:10%}.cardInterfacesEditor .p-card-body{height:95%;overflow:hidden}.cardInterfacesEditor .p-card-body .p-card-content{height:100%;overflow:hidden}.cardInterfacesEditor .treeSelector{height:100%}.spanNodeLabel{margin:0 .5rem}.spanNodeEditing{font-weight:700}.spanNodeEditing .spanNodeLabel{border-bottom:1px dashed}.divNodeSpecial{color:var(--fwcPaleDark);font-style:italic}.spanNodeDisabled{color:var(--fwcDarkBlue2);font-style:italic}.spanInfo{color:var(--fwcMidDark);margin-left:.5rem}.spanBadge{border:1px solid var(--fwcMidDark);background:var(--fwcGrey2);font-size:smaller;font-family:monospace;padding:0 3px}.formCondensed{padding-top:.5rem!important}.formCondensed [class*=col-]:not(:last-child){margin-bottom:1rem!important}.p-dialog .grid{display:flex;flex-wrap:wrap;box-sizing:border-box}.dlgFwcDialog.p-dialog [class*=grid]{margin-bottom:0!important;margin-top:0!important}.p-tree.treeSelector .p-treenode{padding:0!important}.p-tree.treeSelector .p-treenode .p-treenode-label{background-color:var(--fwcPaleBlue3)!important;color:var(--fwcDark)!important}.cardInterfacesEditor .treeSelector{height:100%;overflow:auto}
`],encapsulation:2,changeDetection:0})}}return i})();var zm=class{constructor(n){n&&(this.fwcloud=n.fwcloud)}getValue(){return{fwcloud:this.fwcloud}}},Wm=class extends zm{constructor(n){super(n),n&&(this.node_parent=n.node_parent,this.node_order=n.node_order,this.node_type=n.node_type,this.force=n.force)}getValue(){return Pe(re({},super.getValue()),{node_parent:this.node_parent,node_order:this.node_order,node_type:this.node_type,force:this.force})}},Km=class extends zm{constructor(n){super(n),n&&(this.id=n.id)}getValue(){return Pe(re({},super.getValue()),{id:this.id})}};var iS=class extends Wm{constructor(n){super(n),n&&(this.interface=n.interface,this.name=n.name,this.type=n.type,this.protocol=n.protocol,this.address=n.address,this.netmask=n.netmask,this.diff_serv=n.diff_serv,this.ip_version=n.ip_version,this.icmp_code=n.icmp_code,this.icmp_type=n.icmp_type,this.tcp_flags_mask=n.tcp_flags_mask,this.tcp_flags_settings=n.tcp_flags_settings,this.range_start=n.range_start,this.range_end=n.range_end,this.source_port_start=n.source_port_start,this.source_port_end=n.source_port_end,this.destination_port_start=n.destination_port_start,this.destination_port_end=n.destination_port_end,this.options=n.options,this.comment=n.comment)}getValue(){return Pe(re({},super.getValue()),{interface:this.interface,name:this.name,type:this.type,protocol:this.protocol,address:this.address,netmask:this.netmask,diff_serv:this.diff_serv,ip_version:this.ip_version,icmp_code:this.icmp_code,icmp_type:this.icmp_type,tcp_flags_mask:this.tcp_flags_mask,tcp_flags_settings:this.tcp_flags_settings,range_start:this.range_start,range_end:this.range_end,source_port_start:this.source_port_start,source_port_end:this.source_port_end,destination_port_start:this.destination_port_start,destination_port_end:this.destination_port_end,options:this.options,comment:this.comment})}},nS=class extends Km{constructor(n){super(n),n&&(this.interface=n.interface,this.name=n.name,this.type=n.type,this.protocol=n.protocol,this.address=n.address,this.netmask=n.netmask,this.diff_serv=n.diff_serv,this.ip_version=n.ip_version,this.icmp_code=n.icmp_code,this.icmp_type=n.icmp_type,this.tcp_flags_mask=n.tcp_flags_mask,this.tcp_flags_settings=n.tcp_flags_settings,this.range_start=n.range_start,this.range_end=n.range_end,this.source_port_start=n.source_port_start,this.source_port_end=n.source_port_end,this.destination_port_start=n.destination_port_start,this.destination_port_end=n.destination_port_end,this.options=n.options,this.comment=n.comment)}getValue(){return Pe(re({},super.getValue()),{interface:this.interface,name:this.name,type:this.type,protocol:this.protocol,address:this.address,netmask:this.netmask,diff_serv:this.diff_serv,ip_version:this.ip_version,icmp_code:this.icmp_code,icmp_type:this.icmp_type,tcp_flags_mask:this.tcp_flags_mask,tcp_flags_settings:this.tcp_flags_settings,range_start:this.range_start,range_end:this.range_end,source_port_start:this.source_port_start,source_port_end:this.source_port_end,destination_port_start:this.destination_port_start,destination_port_end:this.destination_port_end,options:this.options,comment:this.comment})}};var rS=class extends Km{constructor(n){super(n),this.type=null,n&&(this.name=n.name,this.labelName=n.labelName,this.type=n.type,this.comment=n.comment,this.mac=n.mac,this.interface_type=n.interface_type)}getValue(){return Pe(re({},super.getValue()),{name:this.name,labelName:this.labelName,type:this.type,comment:this.comment,mac:this.mac,interface_type:this.interface_type})}},oS=class extends Wm{constructor(n){super(n),n&&(this.name=n.name,this.firewall=n.firewall,this.host=n.host,this.labelName=n.labelName,this.type=n.type,this.interface_type=n.interface_type,this.comment=n.comment,this.mac=n.mac)}getValue(){return Pe(re({},super.getValue()),{name:this.name,firewall:this.firewall,namhoste:this.host,labelName:this.labelName,type:this.type,interface_type:this.interface_type,comment:this.comment,mac:this.mac})}};var Y8e=()=>({width:"80vw"}),J8e=i=>({trInProgress:i});function X8e(i,n){i&1&&(m(0,"div",10)(1,"h6",11),O(2,"i",12),D(3),R(4,"translate"),_()()),i&2&&(u(3),J(" ",k(4,1,"ITEM_BATCH.PANEL_TITLE"),""))}function Q8e(i,n){if(i&1&&(m(0,"h6",6),O(1,"i",13),R(2,"fwcIcon"),D(3,"\xA0 "),m(4,"strong"),D(5),R(6,"translate"),_(),D(7),_()),i&2){let e=f();u(),le(k(2,5,e.options.parentObject.type)),u(4),$(k(6,7,"GLOBALS.DB_OBJECT_NAMES."+e.options.parentObject.type)),u(2),J(" ",e.options.parentObject.name," ")}}function Z8e(i,n){i&1&&(m(0,"colgroup"),O(1,"col")(2,"col")(3,"col"),_()),i&2&&(u(),Fn("width","20rem"),u(),Fn("width","10rem"))}function e7e(i,n){i&1&&(m(0,"tr")(1,"th"),D(2),R(3,"translate"),_(),m(4,"th"),D(5),R(6,"translate"),_(),m(7,"th"),D(8),R(9,"translate"),_()()),i&2&&(u(2),$(k(3,3,"ITEM_BATCH.TABLE_HEADER.0")),u(3),$(k(6,5,"ITEM_BATCH.TABLE_HEADER.1")),u(3),$(k(9,7,"ITEM_BATCH.TABLE_HEADER.2")))}function t7e(i,n){i&1&&O(0,"i",19)}function i7e(i,n){if(i&1&&(m(0,"span",20)(1,"span"),O(2,"i"),D(3," \xA0 "),m(4,"p"),D(5),R(6,"translate"),_()()()),i&2){let e=f().rowData,t=f(2);h("ngClass",t.ItemBatchOperationTypeOptions[e.operationType].displayClass),u(2),le(t.ItemBatchOperationTypeOptions[e.operationType].icon),u(3),$(k(6,5,t.ItemBatchOperationTypeOptions[e.operationType].translateKey))}}function n7e(i,n){if(i&1){let e=B();m(0,"a",22),P("click",function(r){S(e);let o=f(2).rowData,s=f(2),a=We(10);return A(s.showOperationMessage(r,o.operationMessage,a))}),O(1,"i",23),_()}}function r7e(i,n){if(i&1&&(m(0,"span",21),O(1,"i"),D(2," \xA0 "),m(3,"span"),D(4),R(5,"translate"),_(),D(6," \xA0 "),I(7,n7e,2,0,"a"),_()),i&2){let e=f().rowData,t=f(2);h("ngClass",t.ItemBatchOperationStatusOptions[e.operationStatus].displayClass),u(),le(t.ItemBatchOperationStatusOptions[e.operationStatus].icon),u(3),$(k(5,6,t.ItemBatchOperationStatusOptions[e.operationStatus].translateKey)),u(3),q(e.operationMessage?7:-1)}}function o7e(i,n){if(i&1&&(m(0,"tr",17)(1,"td"),O(2,"p-treeTableToggler",18)(3,"i",13),R(4,"fwcIcon"),D(5),I(6,t7e,1,0,"i",19),_(),m(7,"td"),I(8,i7e,7,7,"span",20),_(),m(9,"td"),I(10,r7e,8,8,"span",21),_()()),i&2){let e=n.$implicit,t=n.rowData,r=f(2);ae("id",t.operationKey),h("ngClass",oe(12,J8e,t.operationKey===(r.currentOperationData==null?null:r.currentOperationData.operationKey))),u(2),h("rowNode",e),u(),le(k(4,10,t.object==null?null:t.object.type)),u(2),J(" ",t.object==null?null:t.object.name," "),u(),q(t.object!=null&&t.object.installFirewallUUID?6:-1),u(2),q(r.ItemBatchOperationTypeOptions[t.operationType]?8:-1),u(2),q(r.ItemBatchOperationStatusOptions[t.operationStatus]?10:-1)}}function s7e(i,n){if(i&1&&(m(0,"div",5)(1,"p-treeTable",14),I(2,Z8e,4,4,"ng-template",15)(3,e7e,10,9,"ng-template",3)(4,o7e,11,14,"ng-template",16),_()()),i&2){let e=f();u(),h("value",e.objectOperationsTreeNodes)("scrollable",!0)}}function a7e(i,n){if(i&1&&(m(0,"div",5)(1,"div",24),O(2,"i",25)(3,"br"),m(4,"h6"),D(5),R(6,"translate"),_(),m(7,"p"),D(8),_()()()),i&2){let e=f();u(5),$(k(6,2,"ITEM_BATCH.ERROR_HEADER")),u(3),$(e.optionsErrorMessage)}}function l7e(i,n){if(i&1){let e=B();m(0,"button",28),R(1,"translate"),P("click",function(){S(e);let r=f(2);return A(r.processOperations(r.objectOperationsTreeNodes))}),_()}if(i&2){let e=f(2);ae("label",k(1,2,"ITEM_BATCH.BTN_TRY_AGAIN")),h("disabled",e.loadingData)}}function c7e(i,n){if(i&1){let e=B();I(0,l7e,2,4,"button",26),m(1,"button",27),R(2,"translate"),P("click",function(){S(e);let r=f();return A(r.hideDialog())}),_()}if(i&2){let e=f();q((e.currentOperationData==null?null:e.currentOperationData.operationStatus)===e.ItemBatchOperationStatus.ERROR?0:-1),u(),ae("label",k(2,3,"GLOBALS.MSG_BUTTONS.CLOSE")),h("disabled",e.loadingData)}}var oz=(()=>{class i extends ei{constructor(e,t,r,o,s,a,l,c,d,p,g,C){super(e,t,r,d,g,C),this.appDialogPanelsService=e,this.appOptionsService=t,this.itemSelectedService=r,this.fwcUserService=o,this.fwcInterfaceService=s,this.fwcObjectService=a,this.confirmationService=l,this.utilService=c,this.cd=d,this.translate=p,this.store=g,this.router=C,this.ItemBatchOperationStatusOptions=IV,this.ItemBatchOperationTypeOptions=yV,this.ItemBatchOperationStatus=er,this.loadingData=!1,this.createDialog(this.translate.instant("ITEM_BATCH.PANEL_TITLE"),"fwci-ipobjects",Ai.ITEM_BATCH_MANAGER)}ngOnInit(){this.appDialogPanelsService.searchAndShowDialog().pipe(kt(()=>this.alive)).subscribe(e=>{e.uuid===this.dialogUUID&&this.setOptions(e.data)})}ngOnDestroy(){super.ngOnDestroy()}setOptions(e){return N(this,null,function*(){e&&(this.options=e,Array.isArray(e.objectTreeNodes)?(this.objectOperationsTreeNodes=[],this.objectOperationsTreeNodes=this.parseOptionObjects(e.objectTreeNodes),this.objectOperationsTreeNodes.length&&(this.currentOperationData=void 0,this.cd.markForCheck(),this.showDialog(),this.loadingData=!0,yield this.processOperations(this.objectOperationsTreeNodes),this.loadingData=!1)):(this.optionsErrorMessage=this.translate.instant("ITEM_BATCH.ERROR_NO_DATA"),this.cd.markForCheck(),this.showDialog()))})}parseOptionObjects(e,t){let r=[];if(Array.isArray(e)){let o=this.fwcUserService.getActualFwSelectedCloud();e=e.filter(s=>{let a=Array.isArray(s.children)&&s.children.length;return s.data.modified||s.data.updateSpecial||!s.data.id||a&&s.children.some(l=>l.data.modified||l.data.updateSpecial||!l.data.id)}),e.forEach(s=>{let a,l=s.data||{},c,d=er.PENDING,p=s.key;if(!l.id&&!l.special){if(c=ks.CREATE,!this.options.parentObject)return this.optionsErrorMessage=this.translate.instant("ITEM_BATCH.ERROR_NO_PARENT"),[]}else l.id&&l.special&&l.updateSpecial?c=ks.UPDATE_SPECIAL:l.id&&l.modified?c=ks.UPDATE:(c=ks.NO_OP,d=er.NO_OP);a={operationKey:p,operationType:c,operationStatus:d,object:Pe(re({},l),{fwcloud:o,name:s.label})};let g={key:p,expanded:!0,data:a,children:[]};Array.isArray(s.children)&&(g.children=this.parseOptionObjects(s.children,p)),r.push(g)})}return r}processOperations(e,t){return N(this,null,function*(){if(Array.isArray(e)){t||(t=this.options.parentObject);for(let r=0;r<e.length;r++){let o=e[r],s=o.data;if(!this.currentOperationData||this.currentOperationData&&this.currentOperationData.operationKey===s.operationKey){if(s.operationType==ks.NO_OP)s.operationStatus=er.NO_OP;else if(s.operationType==ks.UPDATE_SPECIAL)s.operationStatus=er.SUCCESS,s.operationResult={insertId:s.object.id};else{s.operationStatus=er.RUNNING,s.object.node_parent=t.id_node,s.object.node_type=dV[s.object.type],s.object.node_order=r+1,this.currentOperationData=s;try{let a=yield this.processCurrentOperation(t);a.data&&a.data.insertId&&(s.object.id=a.data.insertId,s.object.id_node=a.data.TreeinsertId,s.operationResult={insertId:a.data.insertId,TreeInsertId:a.data.TreeinsertId}),s.operationStatus=er.SUCCESS}catch(a){s.operationStatus=er.ERROR,s.operationMessage=a,this.cd.markForCheck();return}}this.cd.markForCheck()}Array.isArray(o.children)&&(yield this.processOperations(o.children,s.object))}}})}processCurrentOperation(e,t=!0){return N(this,null,function*(){let r;if(e&&this.currentOperationData){let o,s,a=document.getElementById(this.currentOperationData.operationKey);if(a&&a.scrollIntoView(),this.currentOperationData.operationType===ks.CREATE){let l=this.currentOperationData.object;switch(this.currentOperationData.object.type){case L.OBJ_INTERFACE_FIREWALL:case L.OBJ_INTERFACE_HOST:{o=this.fwcInterfaceService.newInterface.bind(this.fwcInterfaceService);let c=new oS(l);c.fwcloud=this.currentOperationData.object.fwcloud,c.node_parent=e.id_node,e.type===L.OBJ_FIREWALL?c.firewall=e.id:e.type===L.OBJ_HOST&&(c.host=e.id),s=c.getValue();break}default:{o=this.fwcObjectService.newObject.bind(this.fwcObjectService);let c=new iS(l);c.fwcloud=this.currentOperationData.object.fwcloud,c.node_parent=e.id_node,c.force=t?1:0,(e.type===L.OBJ_INTERFACE_FIREWALL||e.type===L.OBJ_INTERFACE_HOST)&&(c.interface=e.id),s=c.getValue();break}}}else if(this.currentOperationData.operationType===ks.UPDATE){let l=this.currentOperationData.object;switch(this.currentOperationData.object.type){case L.OBJ_INTERFACE_FIREWALL:case L.OBJ_INTERFACE_HOST:{o=this.fwcInterfaceService.updateInterface.bind(this.fwcInterfaceService);let c=new rS(l);c.interface_type=l.type,s=c.getValue();break}default:{o=this.fwcObjectService.updateObject.bind(this.fwcObjectService),s=new nS(l).getValue();break}}}if(o)r=yield this.utilService.fwcAPICall(o,s),this.currentOperationData=null;else throw new Error("No API Call");return r}})}getResultOperations(e){let t=[];return e||(e=this.objectOperationsTreeNodes),Array.isArray(e)&&e.forEach(r=>{t.push(r.data),Array.isArray(r.children)&&t.push(...this.getResultOperations(r.children))}),t}showOperationMessage(e,t,r){this.operationOverlayMessage=t,r.toggle(e)}onShowDialog(e){}onHideDialog(e){this.optionsErrorMessage=null,this.options&&this.options.onClose&&this.options.onClose(this.getResultOperations())}static{this.\u0275fac=function(t){return new(t||i)(b(Mt),b(Bt),b(At),b(pt),b(ro),b(Ir),b(si),b(Et),b(Ie),b(Xe),b(rt),b(ct))}}static{this.\u0275cmp=ie({type:i,selectors:[["sts-fwc-item-batch-manager-panel"]],features:[Ze([ro,Ir]),ve],decls:17,vars:12,consts:[["itemBatchDialog",""],["overlayPanel",""],["styleClass","dlgFwcDialog",3,"visibleChange","onShow","onHide","visible","modal","closable"],["pTemplate","header"],[1,"grid"],[1,"col-12"],[1,"fwcBlue"],["pTemplate","footer"],["appendTo","body"],[1,"divOverlayMessage"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"fwcMenuIcon","fwci-ipobjects","fwcOrange"],["aria-hidden","true"],["styleClass","tableBatchOps","scrollHeight","15rem",3,"value","scrollable"],["pTemplate","colgroup"],["pTemplate","body"],[3,"ngClass","id"],[3,"rowNode"],[1,"fa","fa-fw","fa-lg","fa-check","fwcGreen"],[1,"spanInfoPill",3,"ngClass"],[3,"ngClass"],[3,"click"],[1,"fa","fa-lg","fa-fw","fa-info-circle"],[1,"divIconMessage"],[1,"fa","fa-5x","fa-exclamation-triangle","fwcRed"],["type","button","pButton","","icon","fa fa-refresh",1,"p-button-warning",3,"disabled","label"],["type","button","pButton","","icon","pi pi-check",1,"p-button-primary",3,"click","disabled","label"],["type","button","pButton","","icon","fa fa-refresh",1,"p-button-warning",3,"click","disabled","label"]],template:function(t,r){if(t&1){let o=B();m(0,"p-dialog",2,0),Ve("visibleChange",function(a){return S(o),Ue(r.displayDialog,a)||(r.displayDialog=a),A(a)}),P("onShow",function(a){return S(o),A(r.onShowDialog(a))})("onHide",function(a){return S(o),A(r.onHideDialog(a))}),I(2,X8e,5,3,"ng-template",3),m(3,"div",4)(4,"div",5),I(5,Q8e,8,9,"h6",6),_(),I(6,s7e,5,2,"div",5)(7,a7e,9,4,"div",5),_(),I(8,c7e,3,5,"ng-template",7),_(),m(9,"p-overlayPanel",8,1)(11,"div",9)(12,"h6"),D(13,"Error"),_(),m(14,"p"),D(15),R(16,"json"),_()()()}t&2&&(dt(Ae(11,Y8e)),Ne("visible",r.displayDialog),h("modal",!0)("closable",!1),u(5),q(r.options!=null&&r.options.parentObject?5:-1),u(),q(r.optionsErrorMessage?-1:6),u(),q(r.optionsErrorMessage?7:-1),u(8),J(" ",k(16,9,r.operationOverlayMessage)," "))},styles:[`:root{--lightColor: #eee;--darkColor: #222;--inputBackgroundColor: #eee;--inputBorderColor: #cacaca;--inputColor: #222;--surfaceBackgroundColor: white;--fixedWhiteColor: #eee;--fixedDarkColor: #333;--translucidColor: transparent;--menuBackground: url(/assets/img/fwc-fondo-menu.jpg);--mainBackground: url(/assets/img/fwc-fondo-home.jpg);--fwcBlue: #0069a7;--fwcBlueDarkened: #005e96;--fwcDarkBlue: #003351;--fwcDarkBlue2: #014071;--fwcLightBlue: #1779ba;--fwcPaleBlue: #689fe1;--fwcPaleBlue2: #cce2f8;--fwcPaleBlue3: #e6f1fd;--fwcBlueGradient1: #386ea0;--fwcBlueGradient2: #21517e;--fwcLightGreyGradient1: #f6f7f9;--fwcLightGreyGradient2: #ebedf0;--fwcOrange: #eb6400;--fwcPaleOrange: #e67e22;--fwcPaleOrange2: #ffcfa4;--fwcPaleOrange3: #fe7815;--fwcOrangeRed: #e74c3c;--fwcRed: #f00;--fwcRed2: #b40b00;--fwcPaleRed: #f77676;--fwcPaleRed2: #ffe1e1;--fwcTranslucidRed: rgba(255, 0, 0, .15);--fwcDarkGreen: #023008;--fwcGreen: #009900;--fwcLightGreen: #28ff28;--fwcPaleGreen: #c7e6c8;--fwcLime: #baf649;--fwcWhite: #eee;--fwcPaleWhite: #f5f5f5;--fwcPaleWhite2: #f4f4f4;--fwcDark: #222;--fwcLightDark: #1e1e1e;--fwcMidDark: #555;--fwcMidDark2: #333;--fwcPaleDark: #888;--fwcPaleDark2: #383838;--fwcGrey: #cacaca;--fwcGrey2: #cecece;--fwcGrey3: #eee;--fwcGrey4: #e5e5e5;--fwcGrey5: #c8c8c8;--fwcGrey6: #efefef;--fwcGrey7: #dedede;--fwcAccent: #ff4081;--fwcShadow: #bbb;--fwcSelected: #ddd;--fwcSelectedB: #0069a7;--fwcRulePink: #ef9a9a;--fwcRulePurple: #ce93d8;--fwcRuleBlue: #90caf9;--fwcRuleTeal: #80cbc4;--fwcRuleGreen: #a5d6a7;--fwcRuleYellow: #fff59d;--fwcRuleOrange: #ffcc80}.tableBatchOps{font-size:.9rem}.tableBatchOps tr th{text-align:center}.tableBatchOps tr td:nth-child(2){text-align:center}.tableBatchOps tr td:nth-child(3){text-align:right}.tableBatchOps tr.trInProgress{background:var(--fwcPaleBlue)}.tableBatchOps tr.trInProgress td:first-child{font-weight:700}.divOverlayMessage{max-width:25rem}
`],encapsulation:2,changeDetection:0})}}return i})();var sz=Ja(ep());function d7e(i,n){i&1&&(m(0,"div",7)(1,"h6",8),O(2,"i",9),D(3),R(4,"translate"),_()()),i&2&&(u(3),J(" ",k(4,1,"PANELS.WINDOWS_INSTALLER.TITLE")," "))}function u7e(i,n){i&1&&(m(0,"div",5),D(1),R(2,"translate"),_()),i&2&&(u(),J(" ",k(2,1,"PANELS.WINDOWS_INSTALLER.DESC")," "))}function p7e(i,n){if(i&1){let e=B();I(0,u7e,3,3,"div",5),m(1,"div",5)(2,"div",10)(3,"span",11)(4,"label",12),D(5),R(6,"translate"),_()(),m(7,"span",11)(8,"input",13,1),Ve("ngModelChange",function(r){S(e);let o=f();return Ue(o.connection_name,r)||(o.connection_name=r),A(r)}),_()(),m(10,"span",11)(11,"button",14),R(12,"translate"),P("click",function(){S(e);let r=f();return A(r.doGenerateFile())}),_()()()()}if(i&2){let e=We(9),t=f();q(t.opMessage?-1:0),u(5),$(k(6,7,"PANELS.WINDOWS_INSTALLER.FIELDS.NOMBRE_CON")),u(3),Ne("ngModel",t.connection_name),h("pattern",t.CommonValidators.connNameRegExp)("required",!0),u(3),ae("label",k(12,9,"PANELS.WINDOWS_INSTALLER.BUTTONS.GENERATE")),h("disabled",e.invalid)}}function h7e(i,n){if(i&1){let e=B();m(0,"div",16)(1,"button",17),R(2,"translate"),P("click",function(){S(e);let r=f(2);return A(r.opMessage=void 0)}),_()()}i&2&&(u(),ae("label",k(2,1,"PANELS.WINDOWS_INSTALLER.BUTTONS.TRY_AGAIN")))}function f7e(i,n){if(i&1&&(m(0,"div",5),O(1,"sts-fwc-message",15),I(2,h7e,3,3,"div",16),_()),i&2){let e=f();u(),h("message",e.opMessage),u(),q(e.opMessage.type==="error"?2:-1)}}function m7e(i,n){if(i&1){let e=B();m(0,"button",18),R(1,"translate"),P("click",function(){S(e);let r=f();return A(r.hideDialog())}),_()}if(i&2){let e=f();ae("label",k(1,2,"GLOBALS.MSG_BUTTONS.CLOSE")),h("disabled",e.loadingData)}}var az=(()=>{class i extends ei{constructor(e,t,r,o,s,a,l,c,d,p,g){super(e,t,r,o,g,c),this.appDialogPanelsService=e,this.appOptionsService=t,this.itemSelectedService=r,this.cd=o,this.translate=s,this.fwcUserService=a,this.utilService=l,this.router=c,this.fwcCloudService=d,this.fwcFirewallService=p,this.store=g,this.CommonValidators=wi,this.createDialog(s.instant("PANELS.WINDOWS_INSTALLER.TITLE"),"fa-brands fa-windows",Ai.VPN_WINDOWS_INSTALLER)}ngOnInit(){}ngOnDestroy(){super.ngOnDestroy()}showDialog(e){this.data=Object.assign({},e),this.connection_name=this.data.parentConfigName||"",this.connection_name=this.connection_name.replace(/\./gi,"_").substr(0,32),super.showDialog()}doGenerateFile(){return N(this,null,function*(){if(!this.data)return;this.opMessage={type:"loading",title:this.translate.instant("PANELS.WINDOWS_INSTALLER.INFO.GENERATING.HEADER"),text:this.translate.instant("PANELS.WINDOWS_INSTALLER.INFO.GENERATING.TEXT")};let e;if(this.data.cluster)try{let r=(yield this.utilService.fwcAPICall(this.fwcFirewallService.getClusterMasterNode.bind(this.fwcFirewallService),this.data.cluster,this.fwcUserService.getActualFwSelectedCloud())).data;r&&(e=r.id)}catch{}else e=this.data.firewall;e?(this.loadingData=!0,this.utilService.fwcAPICall(this.fwcCloudService.generateWindowsInstaller.bind(this.fwcCloudService),this.data.fwcloud,e,this.data.openvpn,this.connection_name).then(t=>{let r=this.data.fwcloudName||"FWCLOUD",o;this.data.cluster?o=this.data.clusterName||"VPN":o=this.data.firewallName||"VPN";let s=r.trim()+"-"+o.trim()+"-"+this.connection_name.trim()+".exe";(0,sz.saveAs)(t.body,s),this.opMessage={type:"success",title:this.translate.instant("PANELS.WINDOWS_INSTALLER.INFO.SUCCESS_GEN.HEADER"),text:this.translate.instant("PANELS.WINDOWS_INSTALLER.INFO.SUCCESS_GEN.TEXT")},this.loadingData=!1}).catch(t=>{this.opMessage={type:"error",title:this.translate.instant("PANELS.WINDOWS_INSTALLER.ERRORS.GEN.HEADER"),text:this.translate.instant("PANELS.WINDOWS_INSTALLER.ERRORS.GEN.TEXT")},this.loadingData=!1})):this.opMessage={type:"error",title:this.translate.instant("PANELS.WINDOWS_INSTALLER.ERRORS.GEN.HEADER"),text:this.translate.instant("PANELS.WINDOWS_INSTALLER.ERRORS.GEN.TEXT")}})}resetState(){this.connection_name="",this.opMessage=void 0}onDialogHide(){this.resetState()}static{this.\u0275fac=function(t){return new(t||i)(b(Mt),b(Bt),b(At),b(Ie),b(Xe),b(pt),b(Et),b(ct),b(Ls),b(Zt),b(rt))}}static{this.\u0275cmp=ie({type:i,selectors:[["sts-fwc-vpn-windows-installer-panel"]],features:[Ze([ge,Ls,Zt]),ve],decls:7,vars:5,consts:[["dlgWindowsInstallerDialog",""],["inputName","ngModel"],["styleClass","dlgFwcDialog dlgFwcDialog--medium",3,"visibleChange","onShow","onHide","visible","modal","closable","resizable"],["pTemplate","header"],[1,"grid"],[1,"col-12"],["pTemplate","footer"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"fa","fa-magic","fwcOrange"],[1,"divInlineInput"],[1,"spanField"],[1,"fwcBlue"],["type","text","pInputText","","name","name","maxlength","32",2,"min-width","12rem",3,"ngModelChange","ngModel","pattern","required"],["type","button","pButton","","icon","fa fa-cloud-download",1,"p-button-primary",3,"click","disabled","label"],[3,"message"],[1,"fwc-centered"],["type","button","pButton","","icon","fa fa-refresh",1,"p-button-primary",3,"click","label"],["type","button","pButton","","icon","fa fa-close",1,"p-button-primary",3,"click","disabled","label"]],template:function(t,r){if(t&1){let o=B();m(0,"p-dialog",2,0),Ve("visibleChange",function(a){return S(o),Ue(r.displayDialog,a)||(r.displayDialog=a),A(a)}),P("onShow",function(){return S(o),A(!0)})("onHide",function(){return S(o),A(r.onDialogHide())}),I(2,d7e,5,3,"ng-template",3),m(3,"div",4),I(4,p7e,13,11,"div",5)(5,f7e,3,2,"div",5),_(),I(6,m7e,2,4,"ng-template",6),_()}t&2&&(Ne("visible",r.displayDialog),h("modal",!0)("closable",!1)("resizable",!0),u(4),q(r.opMessage?5:4))},dependencies:[pn,cn,Yg,Qr,dT,Gn,ni,be,mt,On,Nn,vt]})}}return i})();function lk(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var gh=lk();function hz(i){gh=i}var fz=/[&<>"']/,g7e=new RegExp(fz.source,"g"),mz=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,_7e=new RegExp(mz.source,"g"),C7e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},lz=i=>C7e[i];function ba(i,n){if(n){if(fz.test(i))return i.replace(g7e,lz)}else if(mz.test(i))return i.replace(_7e,lz);return i}var y7e=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function I7e(i){return i.replace(y7e,(n,e)=>(e=e.toLowerCase(),e==="colon"?":":e.charAt(0)==="#"?e.charAt(1)==="x"?String.fromCharCode(parseInt(e.substring(2),16)):String.fromCharCode(+e.substring(1)):""))}var v7e=/(^|[^\[])\^/g;function Bn(i,n){let e=typeof i=="string"?i:i.source;n=n||"";let t={replace:(r,o)=>{let s=typeof o=="string"?o:o.source;return s=s.replace(v7e,"$1"),e=e.replace(r,s),t},getRegex:()=>new RegExp(e,n)};return t}function cz(i){try{i=encodeURI(i).replace(/%25/g,"%")}catch{return null}return i}var sC={exec:()=>null};function dz(i,n){let e=i.replace(/\|/g,(o,s,a)=>{let l=!1,c=s;for(;--c>=0&&a[c]==="\\";)l=!l;return l?"|":" |"}),t=e.split(/ \|/),r=0;if(t[0].trim()||t.shift(),t.length>0&&!t[t.length-1].trim()&&t.pop(),n)if(t.length>n)t.splice(n);else for(;t.length<n;)t.push("");for(;r<t.length;r++)t[r]=t[r].trim().replace(/\\\|/g,"|");return t}function sS(i,n,e){let t=i.length;if(t===0)return"";let r=0;for(;r<t;){let o=i.charAt(t-r-1);if(o===n&&!e)r++;else if(o!==n&&e)r++;else break}return i.slice(0,t-r)}function b7e(i,n){if(i.indexOf(n[1])===-1)return-1;let e=0;for(let t=0;t<i.length;t++)if(i[t]==="\\")t++;else if(i[t]===n[0])e++;else if(i[t]===n[1]&&(e--,e<0))return t;return-1}function uz(i,n,e,t){let r=n.href,o=n.title?ba(n.title):null,s=i[1].replace(/\\([\[\]])/g,"$1");if(i[0].charAt(0)!=="!"){t.state.inLink=!0;let a={type:"link",raw:e,href:r,title:o,text:s,tokens:t.inlineTokens(s)};return t.state.inLink=!1,a}return{type:"image",raw:e,href:r,title:o,text:ba(s)}}function w7e(i,n){let e=i.match(/^(\s+)(?:```)/);if(e===null)return n;let t=e[1];return n.split(`
`).map(r=>{let o=r.match(/^\s+/);if(o===null)return r;let[s]=o;return s.length>=t.length?r.slice(t.length):r}).join(`
`)}var qm=class{options;rules;lexer;constructor(n){this.options=n||gh}space(n){let e=this.rules.block.newline.exec(n);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(n){let e=this.rules.block.code.exec(n);if(e){let t=e[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?t:sS(t,`
`)}}}fences(n){let e=this.rules.block.fences.exec(n);if(e){let t=e[0],r=w7e(t,e[3]||"");return{type:"code",raw:t,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:r}}}heading(n){let e=this.rules.block.heading.exec(n);if(e){let t=e[2].trim();if(/#$/.test(t)){let r=sS(t,"#");(this.options.pedantic||!r||/ $/.test(r))&&(t=r.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:t,tokens:this.lexer.inline(t)}}}hr(n){let e=this.rules.block.hr.exec(n);if(e)return{type:"hr",raw:e[0]}}blockquote(n){let e=this.rules.block.blockquote.exec(n);if(e){let t=e[0].replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`);t=sS(t.replace(/^ *>[ \t]?/gm,""),`
`);let r=this.lexer.state.top;this.lexer.state.top=!0;let o=this.lexer.blockTokens(t);return this.lexer.state.top=r,{type:"blockquote",raw:e[0],tokens:o,text:t}}}list(n){let e=this.rules.block.list.exec(n);if(e){let t=e[1].trim(),r=t.length>1,o={type:"list",raw:"",ordered:r,start:r?+t.slice(0,-1):"",loose:!1,items:[]};t=r?`\\d{1,9}\\${t.slice(-1)}`:`\\${t}`,this.options.pedantic&&(t=r?t:"[*+-]");let s=new RegExp(`^( {0,3}${t})((?:[	 ][^\\n]*)?(?:\\n|$))`),a="",l="",c=!1;for(;n;){let d=!1;if(!(e=s.exec(n))||this.rules.block.hr.test(n))break;a=e[0],n=n.substring(a.length);let p=e[2].split(`
`,1)[0].replace(/^\t+/,E=>" ".repeat(3*E.length)),g=n.split(`
`,1)[0],C=0;this.options.pedantic?(C=2,l=p.trimStart()):(C=e[2].search(/[^ ]/),C=C>4?1:C,l=p.slice(C),C+=e[1].length);let y=!1;if(!p&&/^ *$/.test(g)&&(a+=g+`
`,n=n.substring(g.length+1),d=!0),!d){let E=new RegExp(`^ {0,${Math.min(3,C-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),T=new RegExp(`^ {0,${Math.min(3,C-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),F=new RegExp(`^ {0,${Math.min(3,C-1)}}(?:\`\`\`|~~~)`),G=new RegExp(`^ {0,${Math.min(3,C-1)}}#`);for(;n;){let z=n.split(`
`,1)[0];if(g=z,this.options.pedantic&&(g=g.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),F.test(g)||G.test(g)||E.test(g)||T.test(n))break;if(g.search(/[^ ]/)>=C||!g.trim())l+=`
`+g.slice(C);else{if(y||p.search(/[^ ]/)>=4||F.test(p)||G.test(p)||T.test(p))break;l+=`
`+g}!y&&!g.trim()&&(y=!0),a+=z+`
`,n=n.substring(z.length+1),p=g.slice(C)}}o.loose||(c?o.loose=!0:/\n *\n *$/.test(a)&&(c=!0));let v=null,w;this.options.gfm&&(v=/^\[[ xX]\] /.exec(l),v&&(w=v[0]!=="[ ] ",l=l.replace(/^\[[ xX]\] +/,""))),o.items.push({type:"list_item",raw:a,task:!!v,checked:w,loose:!1,text:l,tokens:[]}),o.raw+=a}o.items[o.items.length-1].raw=a.trimEnd(),o.items[o.items.length-1].text=l.trimEnd(),o.raw=o.raw.trimEnd();for(let d=0;d<o.items.length;d++)if(this.lexer.state.top=!1,o.items[d].tokens=this.lexer.blockTokens(o.items[d].text,[]),!o.loose){let p=o.items[d].tokens.filter(C=>C.type==="space"),g=p.length>0&&p.some(C=>/\n.*\n/.test(C.raw));o.loose=g}if(o.loose)for(let d=0;d<o.items.length;d++)o.items[d].loose=!0;return o}}html(n){let e=this.rules.block.html.exec(n);if(e)return{type:"html",block:!0,raw:e[0],pre:e[1]==="pre"||e[1]==="script"||e[1]==="style",text:e[0]}}def(n){let e=this.rules.block.def.exec(n);if(e){let t=e[1].toLowerCase().replace(/\s+/g," "),r=e[2]?e[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",o=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:t,raw:e[0],href:r,title:o}}}table(n){let e=this.rules.block.table.exec(n);if(!e||!/[:|]/.test(e[2]))return;let t=dz(e[1]),r=e[2].replace(/^\||\| *$/g,"").split("|"),o=e[3]&&e[3].trim()?e[3].replace(/\n[ \t]*$/,"").split(`
`):[],s={type:"table",raw:e[0],header:[],align:[],rows:[]};if(t.length===r.length){for(let a of r)/^ *-+: *$/.test(a)?s.align.push("right"):/^ *:-+: *$/.test(a)?s.align.push("center"):/^ *:-+ *$/.test(a)?s.align.push("left"):s.align.push(null);for(let a of t)s.header.push({text:a,tokens:this.lexer.inline(a)});for(let a of o)s.rows.push(dz(a,s.header.length).map(l=>({text:l,tokens:this.lexer.inline(l)})));return s}}lheading(n){let e=this.rules.block.lheading.exec(n);if(e)return{type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(n){let e=this.rules.block.paragraph.exec(n);if(e){let t=e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:t,tokens:this.lexer.inline(t)}}}text(n){let e=this.rules.block.text.exec(n);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(n){let e=this.rules.inline.escape.exec(n);if(e)return{type:"escape",raw:e[0],text:ba(e[1])}}tag(n){let e=this.rules.inline.tag.exec(n);if(e)return!this.lexer.state.inLink&&/^<a /i.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(n){let e=this.rules.inline.link.exec(n);if(e){let t=e[2].trim();if(!this.options.pedantic&&/^</.test(t)){if(!/>$/.test(t))return;let s=sS(t.slice(0,-1),"\\");if((t.length-s.length)%2===0)return}else{let s=b7e(e[2],"()");if(s>-1){let l=(e[0].indexOf("!")===0?5:4)+e[1].length+s;e[2]=e[2].substring(0,s),e[0]=e[0].substring(0,l).trim(),e[3]=""}}let r=e[2],o="";if(this.options.pedantic){let s=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(r);s&&(r=s[1],o=s[3])}else o=e[3]?e[3].slice(1,-1):"";return r=r.trim(),/^</.test(r)&&(this.options.pedantic&&!/>$/.test(t)?r=r.slice(1):r=r.slice(1,-1)),uz(e,{href:r&&r.replace(this.rules.inline.anyPunctuation,"$1"),title:o&&o.replace(this.rules.inline.anyPunctuation,"$1")},e[0],this.lexer)}}reflink(n,e){let t;if((t=this.rules.inline.reflink.exec(n))||(t=this.rules.inline.nolink.exec(n))){let r=(t[2]||t[1]).replace(/\s+/g," "),o=e[r.toLowerCase()];if(!o){let s=t[0].charAt(0);return{type:"text",raw:s,text:s}}return uz(t,o,t[0],this.lexer)}}emStrong(n,e,t=""){let r=this.rules.inline.emStrongLDelim.exec(n);if(!r||r[3]&&t.match(/[\p{L}\p{N}]/u))return;if(!(r[1]||r[2]||"")||!t||this.rules.inline.punctuation.exec(t)){let s=[...r[0]].length-1,a,l,c=s,d=0,p=r[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(p.lastIndex=0,e=e.slice(-1*n.length+s);(r=p.exec(e))!=null;){if(a=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!a)continue;if(l=[...a].length,r[3]||r[4]){c+=l;continue}else if((r[5]||r[6])&&s%3&&!((s+l)%3)){d+=l;continue}if(c-=l,c>0)continue;l=Math.min(l,l+c+d);let g=[...r[0]][0].length,C=n.slice(0,s+r.index+g+l);if(Math.min(s,l)%2){let v=C.slice(1,-1);return{type:"em",raw:C,text:v,tokens:this.lexer.inlineTokens(v)}}let y=C.slice(2,-2);return{type:"strong",raw:C,text:y,tokens:this.lexer.inlineTokens(y)}}}}codespan(n){let e=this.rules.inline.code.exec(n);if(e){let t=e[2].replace(/\n/g," "),r=/[^ ]/.test(t),o=/^ /.test(t)&&/ $/.test(t);return r&&o&&(t=t.substring(1,t.length-1)),t=ba(t,!0),{type:"codespan",raw:e[0],text:t}}}br(n){let e=this.rules.inline.br.exec(n);if(e)return{type:"br",raw:e[0]}}del(n){let e=this.rules.inline.del.exec(n);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(n){let e=this.rules.inline.autolink.exec(n);if(e){let t,r;return e[2]==="@"?(t=ba(e[1]),r="mailto:"+t):(t=ba(e[1]),r=t),{type:"link",raw:e[0],text:t,href:r,tokens:[{type:"text",raw:t,text:t}]}}}url(n){let e;if(e=this.rules.inline.url.exec(n)){let t,r;if(e[2]==="@")t=ba(e[0]),r="mailto:"+t;else{let o;do o=e[0],e[0]=this.rules.inline._backpedal.exec(e[0])?.[0]??"";while(o!==e[0]);t=ba(e[0]),e[1]==="www."?r="http://"+e[0]:r=e[0]}return{type:"link",raw:e[0],text:t,href:r,tokens:[{type:"text",raw:t,text:t}]}}}inlineText(n){let e=this.rules.inline.text.exec(n);if(e){let t;return this.lexer.state.inRawBlock?t=e[0]:t=ba(e[0]),{type:"text",raw:e[0],text:t}}}},S7e=/^(?: *(?:\n|$))+/,A7e=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,E7e=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,lC=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,x7e=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,gz=/(?:[*+-]|\d{1,9}[.)])/,_z=Bn(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,gz).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),ck=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,T7e=/^[^\n]+/,dk=/(?!\s*\])(?:\\.|[^\[\]\\])+/,O7e=Bn(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",dk).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),D7e=Bn(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,gz).getRegex(),cS="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",uk=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,R7e=Bn("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",uk).replace("tag",cS).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Cz=Bn(ck).replace("hr",lC).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",cS).getRegex(),P7e=Bn(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Cz).getRegex(),pk={blockquote:P7e,code:A7e,def:O7e,fences:E7e,heading:x7e,hr:lC,html:R7e,lheading:_z,list:D7e,newline:S7e,paragraph:Cz,table:sC,text:T7e},pz=Bn("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",lC).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",cS).getRegex(),k7e=Pe(re({},pk),{table:pz,paragraph:Bn(ck).replace("hr",lC).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",pz).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",cS).getRegex()}),F7e=Pe(re({},pk),{html:Bn(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",uk).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:sC,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Bn(ck).replace("hr",lC).replace("heading",` *#{1,6} *[^
]`).replace("lheading",_z).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()}),yz=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,L7e=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Iz=/^( {2,}|\\)\n(?!\s*$)/,M7e=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,cC="\\p{P}\\p{S}",N7e=Bn(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,cC).getRegex(),V7e=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,B7e=Bn(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,cC).getRegex(),U7e=Bn("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,cC).getRegex(),j7e=Bn("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,cC).getRegex(),H7e=Bn(/\\([punct])/,"gu").replace(/punct/g,cC).getRegex(),G7e=Bn(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),z7e=Bn(uk).replace("(?:-->|$)","-->").getRegex(),W7e=Bn("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",z7e).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),lS=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,K7e=Bn(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",lS).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),vz=Bn(/^!?\[(label)\]\[(ref)\]/).replace("label",lS).replace("ref",dk).getRegex(),bz=Bn(/^!?\[(ref)\](?:\[\])?/).replace("ref",dk).getRegex(),$7e=Bn("reflink|nolink(?!\\()","g").replace("reflink",vz).replace("nolink",bz).getRegex(),hk={_backpedal:sC,anyPunctuation:H7e,autolink:G7e,blockSkip:V7e,br:Iz,code:L7e,del:sC,emStrongLDelim:B7e,emStrongRDelimAst:U7e,emStrongRDelimUnd:j7e,escape:yz,link:K7e,nolink:bz,punctuation:N7e,reflink:vz,reflinkSearch:$7e,tag:W7e,text:M7e,url:sC},q7e=Pe(re({},hk),{link:Bn(/^!?\[(label)\]\((.*?)\)/).replace("label",lS).getRegex(),reflink:Bn(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",lS).getRegex()}),sk=Pe(re({},hk),{escape:Bn(yz).replace("])","~|])").getRegex(),url:Bn(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),Y7e=Pe(re({},sk),{br:Bn(Iz).replace("{2,}","*").getRegex(),text:Bn(sk.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()}),aS={normal:pk,gfm:k7e,pedantic:F7e},oC={normal:hk,gfm:sk,breaks:Y7e,pedantic:q7e},Od=class i{tokens;options;state;tokenizer;inlineQueue;constructor(n){this.tokens=[],this.tokens.links=Object.create(null),this.options=n||gh,this.options.tokenizer=this.options.tokenizer||new qm,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let e={block:aS.normal,inline:oC.normal};this.options.pedantic?(e.block=aS.pedantic,e.inline=oC.pedantic):this.options.gfm&&(e.block=aS.gfm,this.options.breaks?e.inline=oC.breaks:e.inline=oC.gfm),this.tokenizer.rules=e}static get rules(){return{block:aS,inline:oC}}static lex(n,e){return new i(e).lex(n)}static lexInline(n,e){return new i(e).inlineTokens(n)}lex(n){n=n.replace(/\r\n|\r/g,`
`),this.blockTokens(n,this.tokens);for(let e=0;e<this.inlineQueue.length;e++){let t=this.inlineQueue[e];this.inlineTokens(t.src,t.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(n,e=[]){this.options.pedantic?n=n.replace(/\t/g,"    ").replace(/^ +$/gm,""):n=n.replace(/^( *)(\t+)/gm,(a,l,c)=>l+"    ".repeat(c.length));let t,r,o,s;for(;n;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>(t=a.call({lexer:this},n,e))?(n=n.substring(t.raw.length),e.push(t),!0):!1))){if(t=this.tokenizer.space(n)){n=n.substring(t.raw.length),t.raw.length===1&&e.length>0?e[e.length-1].raw+=`
`:e.push(t);continue}if(t=this.tokenizer.code(n)){n=n.substring(t.raw.length),r=e[e.length-1],r&&(r.type==="paragraph"||r.type==="text")?(r.raw+=`
`+t.raw,r.text+=`
`+t.text,this.inlineQueue[this.inlineQueue.length-1].src=r.text):e.push(t);continue}if(t=this.tokenizer.fences(n)){n=n.substring(t.raw.length),e.push(t);continue}if(t=this.tokenizer.heading(n)){n=n.substring(t.raw.length),e.push(t);continue}if(t=this.tokenizer.hr(n)){n=n.substring(t.raw.length),e.push(t);continue}if(t=this.tokenizer.blockquote(n)){n=n.substring(t.raw.length),e.push(t);continue}if(t=this.tokenizer.list(n)){n=n.substring(t.raw.length),e.push(t);continue}if(t=this.tokenizer.html(n)){n=n.substring(t.raw.length),e.push(t);continue}if(t=this.tokenizer.def(n)){n=n.substring(t.raw.length),r=e[e.length-1],r&&(r.type==="paragraph"||r.type==="text")?(r.raw+=`
`+t.raw,r.text+=`
`+t.raw,this.inlineQueue[this.inlineQueue.length-1].src=r.text):this.tokens.links[t.tag]||(this.tokens.links[t.tag]={href:t.href,title:t.title});continue}if(t=this.tokenizer.table(n)){n=n.substring(t.raw.length),e.push(t);continue}if(t=this.tokenizer.lheading(n)){n=n.substring(t.raw.length),e.push(t);continue}if(o=n,this.options.extensions&&this.options.extensions.startBlock){let a=1/0,l=n.slice(1),c;this.options.extensions.startBlock.forEach(d=>{c=d.call({lexer:this},l),typeof c=="number"&&c>=0&&(a=Math.min(a,c))}),a<1/0&&a>=0&&(o=n.substring(0,a+1))}if(this.state.top&&(t=this.tokenizer.paragraph(o))){r=e[e.length-1],s&&r.type==="paragraph"?(r.raw+=`
`+t.raw,r.text+=`
`+t.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):e.push(t),s=o.length!==n.length,n=n.substring(t.raw.length);continue}if(t=this.tokenizer.text(n)){n=n.substring(t.raw.length),r=e[e.length-1],r&&r.type==="text"?(r.raw+=`
`+t.raw,r.text+=`
`+t.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):e.push(t);continue}if(n){let a="Infinite loop on byte: "+n.charCodeAt(0);if(this.options.silent){console.error(a);break}else throw new Error(a)}}return this.state.top=!0,e}inline(n,e=[]){return this.inlineQueue.push({src:n,tokens:e}),e}inlineTokens(n,e=[]){let t,r,o,s=n,a,l,c;if(this.tokens.links){let d=Object.keys(this.tokens.links);if(d.length>0)for(;(a=this.tokenizer.rules.inline.reflinkSearch.exec(s))!=null;)d.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(a=this.tokenizer.rules.inline.blockSkip.exec(s))!=null;)s=s.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(a=this.tokenizer.rules.inline.anyPunctuation.exec(s))!=null;)s=s.slice(0,a.index)+"++"+s.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;n;)if(l||(c=""),l=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(d=>(t=d.call({lexer:this},n,e))?(n=n.substring(t.raw.length),e.push(t),!0):!1))){if(t=this.tokenizer.escape(n)){n=n.substring(t.raw.length),e.push(t);continue}if(t=this.tokenizer.tag(n)){n=n.substring(t.raw.length),r=e[e.length-1],r&&t.type==="text"&&r.type==="text"?(r.raw+=t.raw,r.text+=t.text):e.push(t);continue}if(t=this.tokenizer.link(n)){n=n.substring(t.raw.length),e.push(t);continue}if(t=this.tokenizer.reflink(n,this.tokens.links)){n=n.substring(t.raw.length),r=e[e.length-1],r&&t.type==="text"&&r.type==="text"?(r.raw+=t.raw,r.text+=t.text):e.push(t);continue}if(t=this.tokenizer.emStrong(n,s,c)){n=n.substring(t.raw.length),e.push(t);continue}if(t=this.tokenizer.codespan(n)){n=n.substring(t.raw.length),e.push(t);continue}if(t=this.tokenizer.br(n)){n=n.substring(t.raw.length),e.push(t);continue}if(t=this.tokenizer.del(n)){n=n.substring(t.raw.length),e.push(t);continue}if(t=this.tokenizer.autolink(n)){n=n.substring(t.raw.length),e.push(t);continue}if(!this.state.inLink&&(t=this.tokenizer.url(n))){n=n.substring(t.raw.length),e.push(t);continue}if(o=n,this.options.extensions&&this.options.extensions.startInline){let d=1/0,p=n.slice(1),g;this.options.extensions.startInline.forEach(C=>{g=C.call({lexer:this},p),typeof g=="number"&&g>=0&&(d=Math.min(d,g))}),d<1/0&&d>=0&&(o=n.substring(0,d+1))}if(t=this.tokenizer.inlineText(o)){n=n.substring(t.raw.length),t.raw.slice(-1)!=="_"&&(c=t.raw.slice(-1)),l=!0,r=e[e.length-1],r&&r.type==="text"?(r.raw+=t.raw,r.text+=t.text):e.push(t);continue}if(n){let d="Infinite loop on byte: "+n.charCodeAt(0);if(this.options.silent){console.error(d);break}else throw new Error(d)}}return e}},vc=class{options;constructor(n){this.options=n||gh}code(n,e,t){let r=(e||"").match(/^\S*/)?.[0];return n=n.replace(/\n$/,"")+`
`,r?'<pre><code class="language-'+ba(r)+'">'+(t?n:ba(n,!0))+`</code></pre>
`:"<pre><code>"+(t?n:ba(n,!0))+`</code></pre>
`}blockquote(n){return`<blockquote>
${n}</blockquote>
`}html(n,e){return n}heading(n,e,t){return`<h${e}>${n}</h${e}>
`}hr(){return`<hr>
`}list(n,e,t){let r=e?"ol":"ul",o=e&&t!==1?' start="'+t+'"':"";return"<"+r+o+`>
`+n+"</"+r+`>
`}listitem(n,e,t){return`<li>${n}</li>
`}checkbox(n){return"<input "+(n?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(n){return`<p>${n}</p>
`}table(n,e){return e&&(e=`<tbody>${e}</tbody>`),`<table>
<thead>
`+n+`</thead>
`+e+`</table>
`}tablerow(n){return`<tr>
${n}</tr>
`}tablecell(n,e){let t=e.header?"th":"td";return(e.align?`<${t} align="${e.align}">`:`<${t}>`)+n+`</${t}>
`}strong(n){return`<strong>${n}</strong>`}em(n){return`<em>${n}</em>`}codespan(n){return`<code>${n}</code>`}br(){return"<br>"}del(n){return`<del>${n}</del>`}link(n,e,t){let r=cz(n);if(r===null)return t;n=r;let o='<a href="'+n+'"';return e&&(o+=' title="'+e+'"'),o+=">"+t+"</a>",o}image(n,e,t){let r=cz(n);if(r===null)return t;n=r;let o=`<img src="${n}" alt="${t}"`;return e&&(o+=` title="${e}"`),o+=">",o}text(n){return n}},aC=class{strong(n){return n}em(n){return n}codespan(n){return n}del(n){return n}html(n){return n}text(n){return n}link(n,e,t){return""+t}image(n,e,t){return""+t}br(){return""}},Dd=class i{options;renderer;textRenderer;constructor(n){this.options=n||gh,this.options.renderer=this.options.renderer||new vc,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new aC}static parse(n,e){return new i(e).parse(n)}static parseInline(n,e){return new i(e).parseInline(n)}parse(n,e=!0){let t="";for(let r=0;r<n.length;r++){let o=n[r];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]){let s=o,a=this.options.extensions.renderers[s.type].call({parser:this},s);if(a!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(s.type)){t+=a||"";continue}}switch(o.type){case"space":continue;case"hr":{t+=this.renderer.hr();continue}case"heading":{let s=o;t+=this.renderer.heading(this.parseInline(s.tokens),s.depth,I7e(this.parseInline(s.tokens,this.textRenderer)));continue}case"code":{let s=o;t+=this.renderer.code(s.text,s.lang,!!s.escaped);continue}case"table":{let s=o,a="",l="";for(let d=0;d<s.header.length;d++)l+=this.renderer.tablecell(this.parseInline(s.header[d].tokens),{header:!0,align:s.align[d]});a+=this.renderer.tablerow(l);let c="";for(let d=0;d<s.rows.length;d++){let p=s.rows[d];l="";for(let g=0;g<p.length;g++)l+=this.renderer.tablecell(this.parseInline(p[g].tokens),{header:!1,align:s.align[g]});c+=this.renderer.tablerow(l)}t+=this.renderer.table(a,c);continue}case"blockquote":{let s=o,a=this.parse(s.tokens);t+=this.renderer.blockquote(a);continue}case"list":{let s=o,a=s.ordered,l=s.start,c=s.loose,d="";for(let p=0;p<s.items.length;p++){let g=s.items[p],C=g.checked,y=g.task,v="";if(g.task){let w=this.renderer.checkbox(!!C);c?g.tokens.length>0&&g.tokens[0].type==="paragraph"?(g.tokens[0].text=w+" "+g.tokens[0].text,g.tokens[0].tokens&&g.tokens[0].tokens.length>0&&g.tokens[0].tokens[0].type==="text"&&(g.tokens[0].tokens[0].text=w+" "+g.tokens[0].tokens[0].text)):g.tokens.unshift({type:"text",text:w+" "}):v+=w+" "}v+=this.parse(g.tokens,c),d+=this.renderer.listitem(v,y,!!C)}t+=this.renderer.list(d,a,l);continue}case"html":{let s=o;t+=this.renderer.html(s.text,s.block);continue}case"paragraph":{let s=o;t+=this.renderer.paragraph(this.parseInline(s.tokens));continue}case"text":{let s=o,a=s.tokens?this.parseInline(s.tokens):s.text;for(;r+1<n.length&&n[r+1].type==="text";)s=n[++r],a+=`
`+(s.tokens?this.parseInline(s.tokens):s.text);t+=e?this.renderer.paragraph(a):a;continue}default:{let s='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(s),"";throw new Error(s)}}}return t}parseInline(n,e){e=e||this.renderer;let t="";for(let r=0;r<n.length;r++){let o=n[r];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]){let s=this.options.extensions.renderers[o.type].call({parser:this},o);if(s!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)){t+=s||"";continue}}switch(o.type){case"escape":{let s=o;t+=e.text(s.text);break}case"html":{let s=o;t+=e.html(s.text);break}case"link":{let s=o;t+=e.link(s.href,s.title,this.parseInline(s.tokens,e));break}case"image":{let s=o;t+=e.image(s.href,s.title,s.text);break}case"strong":{let s=o;t+=e.strong(this.parseInline(s.tokens,e));break}case"em":{let s=o;t+=e.em(this.parseInline(s.tokens,e));break}case"codespan":{let s=o;t+=e.codespan(s.text);break}case"br":{t+=e.br();break}case"del":{let s=o;t+=e.del(this.parseInline(s.tokens,e));break}case"text":{let s=o;t+=e.text(s.text);break}default:{let s='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(s),"";throw new Error(s)}}}return t}},$m=class{options;constructor(n){this.options=n||gh}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(n){return n}postprocess(n){return n}processAllTokens(n){return n}},ak=class{defaults=lk();options=this.setOptions;parse=this.#e(Od.lex,Dd.parse);parseInline=this.#e(Od.lexInline,Dd.parseInline);Parser=Dd;Renderer=vc;TextRenderer=aC;Lexer=Od;Tokenizer=qm;Hooks=$m;constructor(...n){this.use(...n)}walkTokens(n,e){let t=[];for(let r of n)switch(t=t.concat(e.call(this,r)),r.type){case"table":{let o=r;for(let s of o.header)t=t.concat(this.walkTokens(s.tokens,e));for(let s of o.rows)for(let a of s)t=t.concat(this.walkTokens(a.tokens,e));break}case"list":{let o=r;t=t.concat(this.walkTokens(o.items,e));break}default:{let o=r;this.defaults.extensions?.childTokens?.[o.type]?this.defaults.extensions.childTokens[o.type].forEach(s=>{let a=o[s].flat(1/0);t=t.concat(this.walkTokens(a,e))}):o.tokens&&(t=t.concat(this.walkTokens(o.tokens,e)))}}return t}use(...n){let e=this.defaults.extensions||{renderers:{},childTokens:{}};return n.forEach(t=>{let r=re({},t);if(r.async=this.defaults.async||r.async||!1,t.extensions&&(t.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if("renderer"in o){let s=e.renderers[o.name];s?e.renderers[o.name]=function(...a){let l=o.renderer.apply(this,a);return l===!1&&(l=s.apply(this,a)),l}:e.renderers[o.name]=o.renderer}if("tokenizer"in o){if(!o.level||o.level!=="block"&&o.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let s=e[o.level];s?s.unshift(o.tokenizer):e[o.level]=[o.tokenizer],o.start&&(o.level==="block"?e.startBlock?e.startBlock.push(o.start):e.startBlock=[o.start]:o.level==="inline"&&(e.startInline?e.startInline.push(o.start):e.startInline=[o.start]))}"childTokens"in o&&o.childTokens&&(e.childTokens[o.name]=o.childTokens)}),r.extensions=e),t.renderer){let o=this.defaults.renderer||new vc(this.defaults);for(let s in t.renderer){if(!(s in o))throw new Error(`renderer '${s}' does not exist`);if(s==="options")continue;let a=s,l=t.renderer[a],c=o[a];o[a]=(...d)=>{let p=l.apply(o,d);return p===!1&&(p=c.apply(o,d)),p||""}}r.renderer=o}if(t.tokenizer){let o=this.defaults.tokenizer||new qm(this.defaults);for(let s in t.tokenizer){if(!(s in o))throw new Error(`tokenizer '${s}' does not exist`);if(["options","rules","lexer"].includes(s))continue;let a=s,l=t.tokenizer[a],c=o[a];o[a]=(...d)=>{let p=l.apply(o,d);return p===!1&&(p=c.apply(o,d)),p}}r.tokenizer=o}if(t.hooks){let o=this.defaults.hooks||new $m;for(let s in t.hooks){if(!(s in o))throw new Error(`hook '${s}' does not exist`);if(s==="options")continue;let a=s,l=t.hooks[a],c=o[a];$m.passThroughHooks.has(s)?o[a]=d=>{if(this.defaults.async)return Promise.resolve(l.call(o,d)).then(g=>c.call(o,g));let p=l.call(o,d);return c.call(o,p)}:o[a]=(...d)=>{let p=l.apply(o,d);return p===!1&&(p=c.apply(o,d)),p}}r.hooks=o}if(t.walkTokens){let o=this.defaults.walkTokens,s=t.walkTokens;r.walkTokens=function(a){let l=[];return l.push(s.call(this,a)),o&&(l=l.concat(o.call(this,a))),l}}this.defaults=re(re({},this.defaults),r)}),this}setOptions(n){return this.defaults=re(re({},this.defaults),n),this}lexer(n,e){return Od.lex(n,e??this.defaults)}parser(n,e){return Dd.parse(n,e??this.defaults)}#e(n,e){return(t,r)=>{let o=re({},r),s=re(re({},this.defaults),o);this.defaults.async===!0&&o.async===!1&&(s.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),s.async=!0);let a=this.#t(!!s.silent,!!s.async);if(typeof t>"u"||t===null)return a(new Error("marked(): input parameter is undefined or null"));if(typeof t!="string")return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));if(s.hooks&&(s.hooks.options=s),s.async)return Promise.resolve(s.hooks?s.hooks.preprocess(t):t).then(l=>n(l,s)).then(l=>s.hooks?s.hooks.processAllTokens(l):l).then(l=>s.walkTokens?Promise.all(this.walkTokens(l,s.walkTokens)).then(()=>l):l).then(l=>e(l,s)).then(l=>s.hooks?s.hooks.postprocess(l):l).catch(a);try{s.hooks&&(t=s.hooks.preprocess(t));let l=n(t,s);s.hooks&&(l=s.hooks.processAllTokens(l)),s.walkTokens&&this.walkTokens(l,s.walkTokens);let c=e(l,s);return s.hooks&&(c=s.hooks.postprocess(c)),c}catch(l){return a(l)}}}#t(n,e){return t=>{if(t.message+=`
Please report this to https://github.com/markedjs/marked.`,n){let r="<p>An error occurred:</p><pre>"+ba(t.message+"",!0)+"</pre>";return e?Promise.resolve(r):r}if(e)return Promise.reject(t);throw t}}},mh=new ak;function _n(i,n){return mh.parse(i,n)}_n.options=_n.setOptions=function(i){return mh.setOptions(i),_n.defaults=mh.defaults,hz(_n.defaults),_n};_n.getDefaults=lk;_n.defaults=gh;_n.use=function(...i){return mh.use(...i),_n.defaults=mh.defaults,hz(_n.defaults),_n};_n.walkTokens=function(i,n){return mh.walkTokens(i,n)};_n.parseInline=mh.parseInline;_n.Parser=Dd;_n.parser=Dd.parse;_n.Renderer=vc;_n.TextRenderer=aC;_n.Lexer=Od;_n.lexer=Od.lex;_n.Tokenizer=qm;_n.Hooks=$m;_n.parse=_n;var Y5t=_n.options,J5t=_n.setOptions,X5t=_n.use,Q5t=_n.walkTokens,Z5t=_n.parseInline;var eVt=Dd.parse,tVt=Od.lex;var J7e=["*"],X7e="Copy",Q7e="Copied",Z7e=(()=>{class i{constructor(){this._buttonClick$=new Re,this.copied$=this._buttonClick$.pipe(uo(()=>NS(wt(!0),nl(3e3).pipe(up(!1)))),Sc(),Oh(1)),this.copiedText$=this.copied$.pipe(dg(!1),W(e=>e?Q7e:X7e))}onCopyToClipboardClick(){this._buttonClick$.next()}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=ie({type:i,selectors:[["markdown-clipboard"]],standalone:!0,features:[lt],decls:4,vars:7,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(t,r){t&1&&(m(0,"button",0),R(1,"async"),P("click",function(){return r.onCopyToClipboardClick()}),D(2),R(3,"async"),_()),t&2&&(yn("copied",k(1,3,r.copied$)),u(2),$(k(3,5,r.copiedText$)))},dependencies:[E3],encapsulation:2,changeDetection:0})}}return i})(),e9e=new He("CLIPBOARD_OPTIONS");var fk=function(i){return i.CommandLine="command-line",i.LineHighlight="line-highlight",i.LineNumbers="line-numbers",i}(fk||{}),Sz=new He("MARKED_EXTENSIONS"),t9e=new He("MARKED_OPTIONS"),i9e="[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information",n9e="[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information",r9e="[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information",o9e="[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information",s9e="[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function",a9e="[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information",Az=new He("SECURITY_CONTEXT");var Ez=(()=>{class i{get options(){return this._options}set options(e){this._options=re(re({},this.DEFAULT_MARKED_OPTIONS),e)}get renderer(){return this.options.renderer}set renderer(e){this.options.renderer=e}constructor(e,t,r,o,s,a,l){this.clipboardOptions=e,this.extensions=t,this.platform=o,this.securityContext=s,this.http=a,this.sanitizer=l,this.DEFAULT_MARKED_OPTIONS={renderer:new vc},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:void 0,disableSanitizer:!1},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this._reload$=new Re,this.reload$=this._reload$.asObservable(),this.options=r}parse(e,t=this.DEFAULT_PARSE_OPTIONS){let{decodeHtml:r,inline:o,emoji:s,mermaid:a,disableSanitizer:l}=t,c=re(re({},this.options),t.markedOptions),d=c.renderer||this.renderer||new vc;this.extensions&&(this.renderer=this.extendsRendererForExtensions(d)),a&&(this.renderer=this.extendsRendererForMermaid(d));let p=this.trimIndentation(e),g=r?this.decodeHtml(p):p,C=s?this.parseEmoji(g):g,y=this.parseMarked(C,c,o);return(l?y:this.sanitizer.sanitize(this.securityContext,y))||""}render(e,t=this.DEFAULT_RENDER_OPTIONS,r){let{clipboard:o,clipboardOptions:s,katex:a,katexOptions:l,mermaid:c,mermaidOptions:d}=t;a&&this.renderKatex(e,re(re({},this.DEFAULT_KATEX_OPTIONS),l)),c&&this.renderMermaid(e,re(re({},this.DEFAULT_MERMAID_OPTIONS),d)),o&&this.renderClipboard(e,r,re(re(re({},this.DEFAULT_CLIPBOARD_OPTIONS),this.clipboardOptions),s)),this.highlight(e)}reload(){this._reload$.next()}getSource(e){if(!this.http)throw new Error(a9e);return this.http.get(e,{responseType:"text"}).pipe(W(t=>this.handleExtension(e,t)))}highlight(e){if(!ht(this.platform)||typeof Prism>"u"||typeof Prism.highlightAllUnder>"u")return;e||(e=document);let t=e.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(t,r=>r.classList.add("language-none")),Prism.highlightAllUnder(e)}decodeHtml(e){if(!ht(this.platform))return e;let t=document.createElement("textarea");return t.innerHTML=e,t.value}extendsRendererForExtensions(e){let t=e;return t.\u0275NgxMarkdownRendererExtendedForExtensions===!0||(this.extensions?.length>0&&_n.use(...this.extensions),t.\u0275NgxMarkdownRendererExtendedForExtensions=!0),e}extendsRendererForMermaid(e){let t=e;if(t.\u0275NgxMarkdownRendererExtendedForMermaid===!0)return e;let r=e.code;return e.code=function(o,s,a){return s==="mermaid"?`<div class="mermaid">${o}</div>`:r.call(this,o,s,a)},t.\u0275NgxMarkdownRendererExtendedForMermaid=!0,e}handleExtension(e,t){let r=e.lastIndexOf("://"),o=r>-1?e.substring(r+4):e,s=o.lastIndexOf("/"),a=s>-1?o.substring(s+1).split("?")[0]:"",l=a.lastIndexOf("."),c=l>-1?a.substring(l+1):"";return c&&c!=="md"?"```"+c+`
`+t+"\n```":t}parseMarked(e,t,r=!1){if(t.renderer){let o=re({},t.renderer);delete o.\u0275NgxMarkdownRendererExtendedForExtensions,delete o.\u0275NgxMarkdownRendererExtendedForMermaid,delete t.renderer,_n.use({renderer:o})}return r?_n.parseInline(e,t):_n.parse(e,t)}parseEmoji(e){if(!ht(this.platform))return e;if(typeof joypixels>"u"||typeof joypixels.shortnameToUnicode>"u")throw new Error(i9e);return joypixels.shortnameToUnicode(e)}renderKatex(e,t){if(ht(this.platform)){if(typeof katex>"u"||typeof renderMathInElement>"u")throw new Error(n9e);renderMathInElement(e,t)}}renderClipboard(e,t,r){if(!ht(this.platform))return;if(typeof ClipboardJS>"u")throw new Error(o9e);if(!t)throw new Error(s9e);let{buttonComponent:o,buttonTemplate:s}=r,a=e.querySelectorAll("pre");for(let l=0;l<a.length;l++){let c=a.item(l),d=document.createElement("div");d.style.position="relative",c.parentNode.insertBefore(d,c),d.appendChild(c);let p=document.createElement("div");p.classList.add("markdown-clipboard-toolbar"),p.style.position="absolute",p.style.top=".5em",p.style.right=".5em",p.style.zIndex="1",d.insertAdjacentElement("beforeend",p),d.onmouseenter=()=>p.classList.add("hover"),d.onmouseleave=()=>p.classList.remove("hover");let g;if(o){let y=t.createComponent(o);g=y.hostView,y.changeDetectorRef.markForCheck()}else if(s)g=t.createEmbeddedView(s);else{let y=t.createComponent(Z7e);g=y.hostView,y.changeDetectorRef.markForCheck()}let C;g.rootNodes.forEach(y=>{p.appendChild(y),C=new ClipboardJS(y,{text:()=>c.innerText})}),g.onDestroy(()=>C.destroy())}}renderMermaid(e,t=this.DEFAULT_MERMAID_OPTIONS){if(!ht(this.platform))return;if(typeof mermaid>"u"||typeof mermaid.initialize>"u")throw new Error(r9e);let r=e.querySelectorAll(".mermaid");r.length!==0&&(mermaid.initialize(t),mermaid.run({nodes:r}))}trimIndentation(e){if(!e)return"";let t;return e.split(`
`).map(r=>{let o=t;return r.length>0&&(o=isNaN(o)?r.search(/\S|$/):Math.min(r.search(/\S|$/),o)),isNaN(t)&&(t=o),o?r.substring(o):r}).join(`
`)}static{this.\u0275fac=function(t){return new(t||i)(ce(e9e,8),ce(Sz,8),ce(t9e,8),ce(qt),ce(Az),ce(Yt,8),ce(pl))}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac})}}return i})(),dS=(()=>{class i{get disableSanitizer(){return this._disableSanitizer}set disableSanitizer(e){this._disableSanitizer=this.coerceBooleanProperty(e)}get inline(){return this._inline}set inline(e){this._inline=this.coerceBooleanProperty(e)}get clipboard(){return this._clipboard}set clipboard(e){this._clipboard=this.coerceBooleanProperty(e)}get emoji(){return this._emoji}set emoji(e){this._emoji=this.coerceBooleanProperty(e)}get katex(){return this._katex}set katex(e){this._katex=this.coerceBooleanProperty(e)}get mermaid(){return this._mermaid}set mermaid(e){this._mermaid=this.coerceBooleanProperty(e)}get lineHighlight(){return this._lineHighlight}set lineHighlight(e){this._lineHighlight=this.coerceBooleanProperty(e)}get lineNumbers(){return this._lineNumbers}set lineNumbers(e){this._lineNumbers=this.coerceBooleanProperty(e)}get commandLine(){return this._commandLine}set commandLine(e){this._commandLine=this.coerceBooleanProperty(e)}constructor(e,t,r){this.element=e,this.markdownService=t,this.viewContainerRef=r,this.error=new Q,this.load=new Q,this.ready=new Q,this._clipboard=!1,this._commandLine=!1,this._disableSanitizer=!1,this._emoji=!1,this._inline=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1,this._mermaid=!1,this.destroyed$=new Re}ngOnChanges(){this.loadContent()}loadContent(){if(this.data!=null){this.handleData();return}if(this.src!=null){this.handleSrc();return}}ngAfterViewInit(){!this.data&&!this.src&&this.handleTransclusion(),this.markdownService.reload$.pipe(pp(this.destroyed$)).subscribe(()=>this.loadContent())}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}render(e,t=!1){return N(this,null,function*(){let r={decodeHtml:t,inline:this.inline,emoji:this.emoji,mermaid:this.mermaid,disableSanitizer:this.disableSanitizer},o={clipboard:this.clipboard,clipboardOptions:this.getClipboardOptions(),katex:this.katex,katexOptions:this.katexOptions,mermaid:this.mermaid,mermaidOptions:this.mermaidOptions},s=yield this.markdownService.parse(e,r);this.element.nativeElement.innerHTML=s,this.handlePlugins(),this.markdownService.render(this.element.nativeElement,o,this.viewContainerRef),this.ready.emit()})}coerceBooleanProperty(e){return e!=null&&`${String(e)}`!="false"}getClipboardOptions(){if(this.clipboardButtonComponent||this.clipboardButtonTemplate)return{buttonComponent:this.clipboardButtonComponent,buttonTemplate:this.clipboardButtonTemplate}}handleData(){this.render(this.data)}handleSrc(){this.markdownService.getSource(this.src).subscribe({next:e=>{this.render(e).then(()=>{this.load.emit(e)})},error:e=>this.error.emit(e)})}handleTransclusion(){this.render(this.element.nativeElement.innerHTML,!0)}handlePlugins(){this.commandLine&&(this.setPluginClass(this.element.nativeElement,fk.CommandLine),this.setPluginOptions(this.element.nativeElement,{dataFilterOutput:this.filterOutput,dataHost:this.host,dataPrompt:this.prompt,dataOutput:this.output,dataUser:this.user})),this.lineHighlight&&this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset}),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,fk.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}setPluginClass(e,t){let r=e.querySelectorAll("pre");for(let o=0;o<r.length;o++){let s=t instanceof Array?t:[t];r.item(o).classList.add(...s)}}setPluginOptions(e,t){let r=e.querySelectorAll("pre");for(let o=0;o<r.length;o++)Object.keys(t).forEach(s=>{let a=t[s];if(a){let l=this.toLispCase(s);r.item(o).setAttribute(l,a.toString())}})}toLispCase(e){let t=e.match(/([A-Z])/g);if(!t)return e;let r=e.toString();for(let o=0,s=t.length;o<s;o++)r=r.replace(new RegExp(t[o]),"-"+t[o].toLowerCase());return r.slice(0,1)==="-"&&(r=r.slice(1)),r}static{this.\u0275fac=function(t){return new(t||i)(b(ze),b(Ez),b(fo))}}static{this.\u0275cmp=ie({type:i,selectors:[["markdown"],["","markdown",""]],inputs:{data:"data",src:"src",disableSanitizer:"disableSanitizer",inline:"inline",clipboard:"clipboard",clipboardButtonComponent:"clipboardButtonComponent",clipboardButtonTemplate:"clipboardButtonTemplate",emoji:"emoji",katex:"katex",katexOptions:"katexOptions",mermaid:"mermaid",mermaidOptions:"mermaidOptions",lineHighlight:"lineHighlight",line:"line",lineOffset:"lineOffset",lineNumbers:"lineNumbers",start:"start",commandLine:"commandLine",filterOutput:"filterOutput",host:"host",prompt:"prompt",output:"output",user:"user"},outputs:{error:"error",load:"load",ready:"ready"},standalone:!0,features:[en,lt],ngContentSelectors:J7e,decls:1,vars:0,template:function(t,r){t&1&&(Fi(),ii(0))},encapsulation:2})}}return i})();function l9e(i){return[Ez,i?.loader??[],i?.clipboardOptions??[],i?.markedOptions??[],{provide:Sz,useValue:i?.markedExtensions??[]},{provide:Az,useValue:i?.sanitize??na.HTML}]}var xz=(()=>{class i{static forRoot(e){return{ngModule:i,providers:[l9e(e)]}}static forChild(){return{ngModule:i}}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=Oe({type:i})}static{this.\u0275inj=Te({imports:[Ye]})}}return i})(),wz;(function(i){let n;(function(r){r.Strict="strict",r.Loose="loose",r.Antiscript="antiscript",r.Sandbox="sandbox"})(n=i.SecurityLevel||(i.SecurityLevel={}));let e;(function(r){r.Base="base",r.Forest="forest",r.Dark="dark",r.Default="default",r.Neutral="neutral"})(e=i.Theme||(i.Theme={}));let t;(function(r){r[r.Debug=1]="Debug",r[r.Info=2]="Info",r[r.Warn=3]="Warn",r[r.Error=4]="Error",r[r.Fatal=5]="Fatal"})(t=i.LogLevel||(i.LogLevel={}))})(wz||(wz={}));var Tz=i=>({display:i}),d9e=()=>({width:"2rem",height:"2rem"});function u9e(i,n){if(i&1&&(m(0,"div",10)(1,"h6",11),O(2,"i",12),D(3),_()()),i&2){let e=f();u(2),h("ngClass",e.icon),u(),J(" ",e.title," ")}}function p9e(i,n){i&1&&(m(0,"div",4),O(1,"p-progressSpinner"),_()),i&2&&(u(),dt(Ae(2,d9e)))}function h9e(i,n){if(i&1){let e=B();m(0,"markdown",13),P("load",function(r){S(e);let o=f();return A(o.onMarkdownLoaded(r))})("error",function(r){S(e);let o=f();return A(o.onMarkdownError(r))}),_()}if(i&2){let e=f();h("src",e.fileName)}}function f9e(i,n){if(i&1){let e=B();m(0,"markdown",14),P("ready",function(r){S(e);let o=f();return A(o.onMarkdownLoaded(r))}),_()}if(i&2){let e=f();h("data",e.markdown)}}function m9e(i,n){if(i&1&&(m(0,"div",8),O(1,"sts-fwc-message",15),_()),i&2){let e=f();u(),h("message",e.errorMessage)}}function g9e(i,n){if(i&1){let e=B();m(0,"button",16),R(1,"translate"),P("click",function(){S(e);let r=f();return A(r.hideDialog())}),_()}if(i&2){let e=f();ae("label",k(1,2,"GLOBALS.MSG_BUTTONS.CLOSE")),h("disabled",e.loadingData)}}var xVt=(()=>{class i extends ei{constructor(e,t,r,o,s,a,l){super(e,t,r,o,a,l),this.appDialogPanelsService=e,this.appOptionsService=t,this.itemSelectedService=r,this.cd=o,this.translate=s,this.store=a,this.router=l,this.createDialog(s.instant("PANELS.DOCS_PANEL.TITLE"),"fa fa-info",Ai.DOCS_PANEL)}ngOnInit(){this.appDialogPanelsService.searchAndShowDialog().pipe(kt(()=>this.alive)).subscribe(e=>{e.uuid===this.dialogUUID&&e.data&&(e.data.fileName||e.data.url||e.data.markdown)&&(this.errorMessage=void 0,this.loadingData=!0,e.data.title&&(this.title=e.data.title),e.data.icon&&(this.icon=e.data.icon),e.data.url?this.fileName=e.data.url:e.data.fileName?this.fileName="./assets/docs/"+e.data.fileName+".md":e.data.markdown&&(this.markdown=e.data.markdown,this.loadingData=!1),this.showDialog())})}ngOnDestroy(){super.ngOnDestroy()}onMarkdownLoaded(e){this.loadingData=!1,setTimeout(()=>{this.recenterDialog()},1)}onMarkdownError(e){this.loadingData=!1,this.errorMessage={type:"error",title:"Error",text:this.translate.instant("PANELS.DOCS_PANEL.ERRORS.READING_FILE",{name:this.fileName})},this.recenterDialog()}onHideDialog(){}static{this.\u0275fac=function(t){return new(t||i)(b(Mt),b(Bt),b(At),b(Ie),b(Xe),b(rt),b(ct))}}static{this.\u0275cmp=ie({type:i,selectors:[["sts-fwc-docs-panel"]],viewQuery:function(t,r){if(t&1&&de(dS,5),t&2){let o;ee(o=te())&&(r.mdComponent=o.first)}},features:[ve],decls:10,vars:14,consts:[["dlgDocsDialog",""],["styleClass","dlgFwcDialog dlgFwcDialog--medium",3,"visibleChange","onShow","onHide","visible","modal","closable","resizable"],["pTemplate","header"],[1,"grid","divMarkdown",3,"ngStyle"],[1,"col-12","fwc-centered"],[1,"col-12","divMarkdown-contents",3,"ngStyle"],[3,"src"],[3,"data"],[1,"col-12"],["pTemplate","footer"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"fwcOrange",3,"ngClass"],[3,"load","error","src"],[3,"ready","data"],[3,"message"],["type","button","pButton","","icon","fa fa-close",1,"p-button-primary",3,"click","disabled","label"]],template:function(t,r){if(t&1){let o=B();m(0,"p-dialog",1,0),Ve("visibleChange",function(a){return S(o),Ue(r.displayDialog,a)||(r.displayDialog=a),A(a)}),P("onShow",function(){return S(o),A(!0)})("onHide",function(){return S(o),A(!0)}),I(2,u9e,4,2,"ng-template",2),m(3,"div",3),I(4,p9e,2,3,"div",4),m(5,"div",5),I(6,h9e,1,1,"markdown",6)(7,f9e,1,1,"markdown",7),_(),I(8,m9e,2,1,"div",8),_(),I(9,g9e,2,4,"ng-template",9),_()}t&2&&(Ne("visible",r.displayDialog),h("modal",!0)("closable",!1)("resizable",!0),u(3),h("ngStyle",oe(10,Tz,r.fileName||r.markdown?"block":"none")),u(),q(r.loadingData?4:-1),u(),h("ngStyle",oe(12,Tz,r.loadingData?"none":"block")),u(),q(r.fileName?6:-1),u(),q(r.markdown?7:-1),u(),q(!r.loadingData&&r.errorMessage?8:-1))},dependencies:[Ge,Ee,dS,ni,be,mt,eo,Nn,vt],styles:[`.divMarkdown-contents h1{margin-top:0;font-size:2em}.divMarkdown-contents h2{font-size:1.5em}.divMarkdown-contents h3{font-size:1.17em}.divMarkdown-contents h4{font-size:1em}.divMarkdown-contents h5{font-size:.83em}.divMarkdown-contents h6{font-size:.67em}
`],encapsulation:2})}}return i})();var Dz=Ja(ep());var Oz=(()=>{class i{constructor(){this.units=["bytes","KB","MB","GB","TB","PB"]}transform(e=0,t=2){if(isNaN(parseFloat(String(e)))||!isFinite(e))return"?";let r=0;for(;e>=1024;)e/=1024,r++;return e.toFixed(+t)+" "+this.units[r]}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275pipe=Jn({name:"fwcFileSize",type:i,pure:!0})}}return i})();var C9e=["fwcMessageComponent"],y9e=["txtExported"];function I9e(i,n){i&1&&ue(0)}function v9e(i,n){if(i&1){let e=B();m(0,"div",21)(1,"textarea",22),R(2,"translate"),Ve("ngModelChange",function(r){S(e);let o=f(3);return Ue(o.iptablesSaveText,r)||(o.iptablesSaveText=r),A(r)}),_()()}if(i&2){let e=f(3);u(),ae("placeholder",k(2,2,"PANELS.IPTABLES_SAVE.IMPORT.INFO.PASTE_HERE")),Ne("ngModel",e.iptablesSaveText)}}function b9e(i,n){if(i&1){let e=B();m(0,"div",26),O(1,"i",27),m(2,"span"),D(3),_(),m(4,"span",28),D(5),R(6,"fwcFileSize"),_(),m(7,"button",29),P("click",function(){S(e),f();let r=We(2),o=f(3);return A(o.handleRemoveSelectedFile(r,0))}),_()()}if(i&2){let e=n.$implicit,t=f(4);u(3),$(e.name),u(2),$(k(6,3,e.size)),u(2),h("disabled",t.loadingData||t.success)}}function w9e(i,n){i&1&&(m(0,"div",31),O(1,"i",32)(2,"br"),m(3,"p"),D(4),R(5,"translate"),_()()),i&2&&(u(4),$(k(5,1,"PANELS.FILEUPLOAD_PANEL.SELECT_FILE")))}function S9e(i,n){if(i&1&&I(0,w9e,6,3,"div",30),i&2){f();let e=We(2);h("ngIf",!(e.files!=null&&e.files.length))}}function A9e(i,n){if(i&1){let e=B();m(0,"div",15)(1,"p-fileUpload",23,3),R(3,"translate"),R(4,"translate"),R(5,"translate"),R(6,"translate"),R(7,"translate"),P("onSelect",function(r){S(e);let o=f(3);return A(o.handleSelectFile(r))})("onRemove",function(r){S(e);let o=f(3);return A(o.handleOnRemoveSelectedFile(r))}),I(8,b9e,8,5,"ng-template",24)(9,S9e,1,1,"ng-template",25),_()()}if(i&2){let e=f(3);u(),h("disabled",e.loadingData||e.success)("maxFileSize",1e3*1e3*10)("chooseLabel",k(3,9,"PANELS.IPTABLES_SAVE.BUTTONS.CHOOSE"))("showCancelButton",!1)("showUploadButton",!1)("invalidFileSizeMessageSummary",k(4,11,"PANELS.FILEUPLOAD_PANEL.UPLOAD_ERRORS.FILE_SIZE.SUMMARY"))("invalidFileSizeMessageDetail",k(5,13,"PANELS.FILEUPLOAD_PANEL.UPLOAD_ERRORS.FILE_SIZE.DETAIL"))("invalidFileTypeMessageSummary",k(6,15,"PANELS.FILEUPLOAD_PANEL.UPLOAD_ERRORS.FILE_TYPE.SUMMARY"))("invalidFileTypeMessageDetail",k(7,17,"PANELS.FILEUPLOAD_PANEL.UPLOAD_ERRORS.FILE_TYPE.DETAIL"))}}function E9e(i,n){i&1&&ue(0)}function x9e(i,n){if(i&1&&(m(0,"div",15),I(1,E9e,1,0,"ng-container",33),_()),i&2){f(3);let e=We(4);u(),h("ngTemplateOutlet",e)}}function T9e(i,n){if(i&1){let e=B();m(0,"div",34)(1,"p-checkbox",35),R(2,"translate"),Ve("ngModelChange",function(r){S(e);let o=f(3);return Ue(o.okToImport,r)||(o.okToImport=r),A(r)}),_()()}if(i&2){let e=f(3);u(),ae("label",k(2,3,"WIZARDS.FIREWALL_IMPORT.INFO.WARN_IMPORT")),Ne("ngModel",e.okToImport),h("disabled",e.loadingData)}}function O9e(i,n){if(i&1){let e=B();m(0,"div",14)(1,"div",15)(2,"p"),D(3),R(4,"translate"),_()(),m(5,"div",15)(6,"p-radioButton",16),R(7,"translate"),Ve("ngModelChange",function(r){S(e);let o=f(2);return Ue(o.selectedImportOption,r)||(o.selectedImportOption=r),A(r)}),_()(),m(8,"div",15)(9,"p-radioButton",16),R(10,"translate"),Ve("ngModelChange",function(r){S(e);let o=f(2);return Ue(o.selectedImportOption,r)||(o.selectedImportOption=r),A(r)}),_()(),m(11,"div",17)(12,"p-radioButton",16),R(13,"translate"),Ve("ngModelChange",function(r){S(e);let o=f(2);return Ue(o.selectedImportOption,r)||(o.selectedImportOption=r),A(r)}),_()(),O(14,"br"),I(15,v9e,3,4,"div",18)(16,A9e,10,19,"div",19)(17,x9e,2,1,"div",19)(18,T9e,3,5,"div",20),_()}if(i&2){let e=f(2);u(3),$(k(4,17,"PANELS.IPTABLES_SAVE.IMPORT.SELECT_OPTION")),u(3),h("disabled",e.loadingData||e.success)("value",e.FwcIptablesSaveImportOptions.COPYPASTE)("label",k(7,19,"PANELS.IPTABLES_SAVE.IMPORT.OPTIONS.COPY_PASTE")),Ne("ngModel",e.selectedImportOption),u(3),h("disabled",e.loadingData||e.success)("value",e.FwcIptablesSaveImportOptions.UPLOAD_FILE)("label",k(10,21,"PANELS.IPTABLES_SAVE.IMPORT.OPTIONS.FILE_UPLOAD")),Ne("ngModel",e.selectedImportOption),u(3),h("disabled",e.loadingData||e.success)("value",e.FwcIptablesSaveImportOptions.SSH_OR_AGENT)("label",k(13,23,"PANELS.IPTABLES_SAVE.IMPORT.OPTIONS.SSH")),Ne("ngModel",e.selectedImportOption),u(3),h("ngIf",e.selectedImportOption===e.FwcIptablesSaveImportOptions.COPYPASTE&&!e.success),u(),h("ngIf",e.selectedImportOption===e.FwcIptablesSaveImportOptions.UPLOAD_FILE&&!e.success),u(),h("ngIf",e.selectedImportOption===e.FwcIptablesSaveImportOptions.SSH_OR_AGENT&&!e.success),u(),h("ngIf",(e.options==null?null:e.options.operation)===e.FwcIptablesSaveOperation.IMPORT&&!e.hideUI)}}function D9e(i,n){i&1&&ue(0)}function R9e(i,n){i&1&&ue(0)}function P9e(i,n){if(i&1&&(m(0,"div",14)(1,"div",15)(2,"p"),D(3),R(4,"translate"),_()(),m(5,"div",21),I(6,R9e,1,0,"ng-container",33),_()()),i&2){f(3);let e=We(4);u(3),$(k(4,2,"PANELS.IPTABLES_SAVE.EXPORT.TEXT")),u(3),h("ngTemplateOutlet",e)}}function k9e(i,n){if(i&1&&(m(0,"div",14)(1,"div",15),D(2),R(3,"translate"),_(),m(4,"div",15)(5,"textarea",36,6),D(7),_()()()),i&2){let e=f(3);u(2),J(" ",k(3,2,"PANELS.IPTABLES_SAVE.EXPORT.INFO.SUCCESS"),": "),u(5),$(e.exportFile)}}function F9e(i,n){if(i&1&&I(0,D9e,1,0,"ng-container",13)(1,P9e,7,4,"ng-template",null,4,Pt)(3,k9e,8,4,"ng-template",null,5,Pt),i&2){let e=We(2),t=We(4),r=f(2);h("ngIf",!r.exportFile)("ngIfThen",e)("ngIfElse",t)}}function L9e(i,n){if(i&1&&(pe(0),I(1,I9e,1,0,"ng-container",13)(2,O9e,19,25,"ng-template",null,1,Pt)(4,F9e,5,3,"ng-template",null,2,Pt),he()),i&2){let e=We(3),t=We(5),r=f();u(),h("ngIf",(r.options==null?null:r.options.operation)===r.FwcIptablesSaveOperation.IMPORT)("ngIfThen",e)("ngIfElse",t)}}function M9e(i,n){if(i&1&&(m(0,"div",14)(1,"div",15),O(2,"sts-fwc-message",37,7),_()()),i&2){let e=f();u(2),h("message",e.statusMessage)}}function N9e(i,n){i&1&&ue(0)}function V9e(i,n){if(i&1){let e=B();m(0,"button",41),R(1,"translate"),P("click",function(){S(e);let r=f(3);return A(r.handleImportExport())}),_()}if(i&2){let e=f(3);ae("label",k(1,2,(e.options==null?null:e.options.operation)===e.FwcIptablesSaveOperation.IMPORT?"PANELS.IPTABLES_SAVE.BUTTONS.IMPORT":"PANELS.IPTABLES_SAVE.BUTTONS.EXPORT")),h("disabled",e.loadingData||(e.options==null?null:e.options.operation)===e.FwcIptablesSaveOperation.IMPORT&&(!e.hideUI&&!e.okToImport||e.selectedImportOption===e.FwcIptablesSaveImportOptions.COPYPASTE&&!e.iptablesSaveText||e.selectedImportOption===e.FwcIptablesSaveImportOptions.UPLOAD_FILE&&!e.iptablesFileText||e.selectedImportOption===e.FwcIptablesSaveImportOptions.SSH_OR_AGENT&&!e.formModel.valid)||(e.options==null?null:e.options.operation)===e.FwcIptablesSaveOperation.EXPORT&&!e.formModel.valid)}}function B9e(i,n){if(i&1){let e=B();I(0,V9e,2,4,"button",39),m(1,"button",40),R(2,"translate"),P("click",function(){S(e);let r=f(2);return A(r.handleCancel())}),_()}if(i&2){let e=f(2);h("ngIf",e.firewall),u(),ae("label",k(2,3,"GLOBALS.MSG_BUTTONS.CANCEL")),h("disabled",e.loadingData)}}function U9e(i,n){if(i&1){let e=B();pe(0),m(1,"button",43),R(2,"translate"),P("click",function(){S(e);let r=f(3);return A(r.handleCopyExportedToClipboard())}),_(),m(3,"button",44),R(4,"translate"),P("click",function(){S(e);let r=f(3);return A(r.handleDownloadExported())}),_(),he()}if(i&2){let e=f(3);u(),ae("label",k(2,4,"VPN.CONFIG.CLIPBOARD.BUTTON")),h("disabled",e.loadingData),u(2),ae("label",k(4,6,"VPN.CONFIG.DOWNLOAD.BUTTON")),h("disabled",e.loadingData)}}function j9e(i,n){if(i&1){let e=B();I(0,U9e,5,8,"ng-container",11),m(1,"button",42),R(2,"translate"),P("click",function(){S(e);let r=f(2);return A(r.handleCancel())}),_()}if(i&2){let e=f(2);h("ngIf",e.exportFile),u(),ae("label",k(2,2,"GLOBALS.MSG_BUTTONS.CLOSE"))}}function H9e(i,n){if(i&1&&(m(0,"div",14)(1,"div",38),I(2,N9e,1,0,"ng-container",13)(3,B9e,3,5,"ng-template",null,8,Pt)(5,j9e,3,4,"ng-template",null,9,Pt),_()()),i&2){let e=We(4),t=We(6),r=f();u(2),h("ngIf",r.success)("ngIfThen",t)("ngIfElse",e)}}function G9e(i,n){if(i&1){let e=B();pe(0),m(1,"div",17)(2,"div",47)(3,"span",48)(4,"select",59),P("change",function(){return S(e),A(!0)}),m(5,"option",50),D(6),R(7,"translate"),_(),m(8,"option",60),D(9,"HTTPS"),_(),m(10,"option",61),D(11,"HTTP"),_()(),m(12,"label",62),D(13),R(14,"translate"),_()()()(),m(15,"div",15)(16,"div",47)(17,"span",48),O(18,"input",63),m(19,"label",64),D(20),R(21,"translate"),_()()()(),he()}i&2&&(u(5),h("value",null),u(),J(" ",k(7,6,"FW.MSG_FW_EDITION.AGENT_PROTOCOL")," "),u(7),$(k(14,8,"FW.MSG_FW_EDITION.AGENT_PROTOCOL")),u(5),h("showPassword",!1)("feedback",!1),u(2),$(k(21,10,"FW.MSG_FW_EDITION.AGENT_APIKEY")))}function z9e(i,n){i&1&&(m(0,"div",17)(1,"div",47)(2,"span",48),O(3,"input",65),m(4,"label",66),D(5),R(6,"translate"),_()()()(),m(7,"div",15)(8,"div",47)(9,"span",48),O(10,"input",67),m(11,"label",68),D(12),R(13,"translate"),_()()()()),i&2&&(u(5),J(" ",k(6,2,"CLUSTER.MSG_CLUSTER_EDITION.SSH_USER")," "),u(7),J(" ",k(13,4,"CLUSTER.MSG_CLUSTER_EDITION.SSH_PASS")," "))}function W9e(i,n){if(i&1){let e=B();m(0,"form",45)(1,"fieldset",46),P("keyup.enter",function(){S(e);let r=f();return A(r.handleImportExport())})("keyup.esc",function(){S(e);let r=f();return A(r.handleCancel())}),m(2,"div",15)(3,"div",47)(4,"span",48)(5,"select",49),P("change",function(){return S(e),A(!0)}),m(6,"option",50),D(7),R(8,"translate"),_(),m(9,"option",51),D(10,"SSH"),_(),m(11,"option",52),D(12,"FWCloud-Agent"),_()(),m(13,"label",53),D(14),R(15,"translate"),_()()()(),m(16,"div",17)(17,"div",47)(18,"span",48),O(19,"input",54),m(20,"label",55),D(21),R(22,"translate"),_()()()(),m(23,"div",17)(24,"div",47)(25,"span",48),O(26,"input",56),m(27,"label",57),D(28),R(29,"translate"),_()()()(),I(30,G9e,22,12,"ng-container",58)(31,z9e,14,6,"ng-template",null,10,Pt),_()()}if(i&2){let e,t=We(32),r=f();h("formGroup",r.formModel),u(),h("disabled",r.loadingData||r.success),u(5),h("value",null),u(),J(" ",k(8,12,"FW.MSG_FW_EDITION.COMM_TYPE")," "),u(2),h("disabled",r.isSSHCommunicationDisabled),u(5),$(k(15,14,"FW.MSG_FW_EDITION.COMM_TYPE")),u(5),h("readOnly",(r.options==null?null:r.options.operation)===r.FwcIptablesSaveOperation.EXPORT),u(2),J(" ",k(22,16,"ITEM_PANEL.FIELDS.ADDRESS")," "),u(5),h("readOnly",(r.options==null?null:r.options.operation)===r.FwcIptablesSaveOperation.EXPORT),u(2),J(" ",k(29,18,"CLUSTER.MSG_CLUSTER_EDITION.PORT")," "),u(2),h("ngIf",((e=r.formModel.get("communication"))==null?null:e.value)==="agent")("ngIfElse",t)}}var ds=function(i){return i[i.IMPORT=1]="IMPORT",i[i.EXPORT=2]="EXPORT",i}(ds||{}),Ol=function(i){return i[i.COPYPASTE=1]="COPYPASTE",i[i.UPLOAD_FILE=2]="UPLOAD_FILE",i[i.SSH_OR_AGENT=3]="SSH_OR_AGENT",i}(Ol||{}),K9e=12e4,Rz=(()=>{class i{set importSSHData(e){if(e){this.options={objId:e.firewall,objName:"",objType:L.OBJ_FIREWALL,operation:ds.IMPORT},this.selectedImportOption=Ol.SSH_OR_AGENT;let t={id:e.firewall,ip:e.ip,install_communication:e.communication,install_port:e.port,install_user:e.sshuser,install_pass:e.sshpass,install_protocol:e.protocol,install_apikey:e.apikey};this.createForm(t),this.handleImportExport()}}constructor(e,t,r,o,s,a,l,c){this.fwcEventService=e,this.fwcFirewallService=t,this.utilService=r,this.formBuilder=o,this.cd=s,this.translate=a,this.fwcUserService=l,this.messageService=c,this.onFinish=new Q,this.selectedImportOption=Ol.COPYPASTE,this.okToImport=!1,this.filesToUpload=[],this.loadingData=!1,this.alive=!0,this.isSSHCommunicationDisabled=!1,this.FwcIptablesSaveOperation=ds,this.FwcIptablesSaveImportOptions=Ol}ngOnInit(){return N(this,null,function*(){if(this.checkData(this.options)&&!this.hideUI){let e,t;if(this.options.objType===L.OBJ_FIREWALL?(e=this.fwcFirewallService.getFirewall.bind(this.fwcFirewallService),t=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.FIREWALL")):this.options.objType===L.OBJ_CLUSTER&&(e=this.fwcFirewallService.getClusterMasterNode.bind(this.fwcFirewallService),t=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.CLUSTER")),this.isSSHCommunicationDisabled=!(yield this.utilService.fwcAPICall(this.fwcFirewallService.loadBackEndConfig.bind(this.fwcFirewallService))).data.availablecommunications.includes("ssh"),e){this.loadingData=!0;let r=t.toLowerCase();this.options.objName&&(r+=" '"+this.options.objName+"'"),this.statusMessage={text:this.translate.instant("PANELS.IPTABLES_SAVE.INFO.READ_DATA",{name:r}),type:"loading"},this.utilService.fwcAPICall(e,this.options.objId,this.fwcUserService.getActualFwSelectedCloud()).then(o=>N(this,null,function*(){if(o.data)if(this.loadingData=!1,this.options.operation===ds.EXPORT&&!o.data.install_ipobj)this.statusMessage={title:this.translate.instant("PANELS.IPTABLES_SAVE.ERRORS.NO_INST_DATA.HEADER"),text:this.translate.instant("PANELS.IPTABLES_SAVE.ERRORS.NO_INST_DATA.TEXT"),type:"error",horizontal:!0};else{let s=Object.assign(o.data),a=this.fwcUserService.getActualFwcUser().privateKey,l=s.install_user,c=s.install_pass,d=s.install_apikey;try{l&&(l=yield this.utilService.openPGPDecrypt(l,a)),c&&(c=yield this.utilService.openPGPDecrypt(c,a)),d&&(d=yield this.utilService.openPGPDecrypt(d,a))}catch{}s.install_user=l,s.install_pass=c,s.install_apikey=d,this.createForm(s),this.firewall=o.data,this.statusMessage=null,this.options.operation===ds.EXPORT&&s.install_communication==="agent"&&this.handleImportExport()}})).catch(o=>{this.statusMessage={title:"Error",text:this.translate.instant("PANELS.IPTABLES_SAVE.ERRORS.READ_DATA",{name:`${t} '${this.options.objName}'`}),type:"error",details:o,horizontal:!0,bordered:!0},this.loadingData=!1})}}else this.hideUI||(this.statusMessage={title:"Error",text:this.translate.instant("PANELS.IPTABLES_SAVE.ERRORS.INCORRECT_OPTIONS"),type:"error",horizontal:!0})})}createForm(e){this.formModel=this.formBuilder.group({id:new Se(e.id,[$e.required]),ip:new Se(e.ip,[$e.required,$e.pattern(wi.ipV4Regexp)]),port:new Se(e.install_port,[$e.required,$e.pattern(wi.portRegexp)]),communication:new Se(e.install_communication||"agent",[$e.required]),sshuser:new Se(e.install_user,e.install_communication==="ssh"?$e.required:[]),sshpass:new Se(e.install_pass,e.install_communication==="ssh"?$e.required:[]),protocol:new Se(e.install_protocol,e.install_communication==="agent"?$e.required:[]),apikey:new Se(e.install_apikey,e.install_communication==="agent"?$e.required:[])})}checkData(e){return e&&(e.operation===ds.IMPORT||e.operation===ds.EXPORT)&&typeof e.objId=="number"&&(e.objType===L.OBJ_FIREWALL||e.objType===L.OBJ_CLUSTER)}handleSelectFile(e){return N(this,null,function*(){if(e){let t=e.files[0];if(t){this.iptablesFileText=null;try{this.iptablesFileText=yield this.readFile(t)}catch{}}}})}handleRemoveSelectedFile(e,t){e.files.splice(t),this.handleOnRemoveSelectedFile()}handleOnRemoveSelectedFile(e){this.iptablesFileText=null}handleImportExport(){return N(this,null,function*(){let e,t,r,o,s,a;if(this.loadingData||!this.options||this.options.operation===ds.IMPORT&&(!this.hideUI&&!this.okToImport||this.selectedImportOption===Ol.COPYPASTE&&!this.iptablesSaveText||this.selectedImportOption===Ol.UPLOAD_FILE&&!this.iptablesFileText||this.selectedImportOption===Ol.SSH_OR_AGENT&&!this.formModel.valid)||this.options.operation===ds.EXPORT&&!this.formModel.valid)return;let l=d=>{let p=!1;if(!(d instanceof Uc&&d.body)){if(d.data)if(this.options.operation===ds.IMPORT){let g=d.data,C=`
              <div class="grid p-0 fwcPaleDarkBg">
                <div class="col-12 fwc-centered">
                  <strong>${this.translate.instant("PANELS.IPTABLES_SAVE.IMPORT.RESUME.TITLE")}</strong>
                </div>
                <div class="col-6 fwc-right noVertPad">
                  ${this.translate.instant("PANELS.IPTABLES_SAVE.IMPORT.RESUME.IPOBJS")}: 
                </div>
                <div class="col-6 fwc-left noVertPad">
                  <strong>${g.ipObjs}</strong>
                </div>
                <div class="col-6 fwc-right noVertPad">
                  ${this.translate.instant("PANELS.IPTABLES_SAVE.IMPORT.RESUME.INTERFACES")}: 
                </div>
                <div class="col-6 fwc-left noVertPad">
                  <strong>${g.interfaces}</strong>
                </div>
                <div class="col-6 fwc-right noVertPad">
                  ${this.translate.instant("PANELS.IPTABLES_SAVE.IMPORT.RESUME.RULES")}: 
                </div>
                <div class="col-6 fwc-left noVertPad">
                  <strong>${g.rules}</strong>
                </div>
                <div class="col-6 fwc-right noVertPad">
                  ${this.translate.instant("PANELS.IPTABLES_SAVE.IMPORT.RESUME.IGNORED_MODS")}: 
                </div>
                <div class="col-6 fwc-left noVertPad">
                  <strong>${Array.isArray(g.modulesIgnored)?g.modulesIgnored.join(", "):"-"}</strong>
                </div>
                <div class="col-12 vertPad">
                  <hr>
                  <strong class="fwcRed"><i class="fa fa-lg fa-exclamation-triangle"></i> ${this.translate.instant("PANELS.IPTABLES_SAVE.IMPORT.RESUME.TXT_WARNING.TITLE")}:</strong> ${this.translate.instant("PANELS.IPTABLES_SAVE.IMPORT.RESUME.TXT_WARNING.TEXT")}
                  <br>
                </div>
              </div>
            `;o+=C,p=!0,this.statusMessage=Pe(re({},this.statusMessage),{text:o,type:"success",highlight:!0})}else this.exportFile=Array.isArray(d.data)?d.data.join(`
`):"",this.statusMessage=null}this.success=!0,this.hideUI&&this.onFinish.emit({success:!0,reloadUI:p}),this.timeoutTimer&&clearTimeout(this.timeoutTimer),this.loadingData=!1},c=d=>{let p=this.translate.instant("GLOBALS.ERRORS.COMMUNICATION");if(this.success=!1,d){let g=this.utilService.isCommunicationErrorStr(d.error);g?s=g:p=d.error}this.statusMessage={title:"Error",text:s,details:p,type:"error",horizontal:!0,bordered:!0},this.timeoutTimer&&clearTimeout(this.timeoutTimer),this.loadingData=!1,this.hideUI&&this.onFinish.emit({success:!1,reloadUI:!1})};if(this.options.operation===ds.IMPORT)switch(t=this.fwcFirewallService.ipTablesSaveImport.bind(this.fwcFirewallService),o=this.translate.instant("PANELS.IPTABLES_SAVE.IMPORT.INFO.SUCCESS"),s=this.translate.instant("PANELS.IPTABLES_SAVE.IMPORT.ERRORS.ERROR"),a=this.translate.instant("PANELS.IPTABLES_SAVE.IMPORT.INFO.IN_PROCESS"),this.selectedImportOption){case Ol.COPYPASTE:case Ol.UPLOAD_FILE:if(this.selectedImportOption===Ol.COPYPASTE?r=this.iptablesSaveText:r=this.iptablesFileText,r){let d=r.replace(/\r\n/g,`
`).split(`
`).filter(p=>p);e={firewall:this.firewall.id,fwcloud:this.fwcUserService.getActualFwSelectedCloud(),type:"data",ip_version:4,data:d}}break;case Ol.SSH_OR_AGENT:if(this.formModel.valid){e=yield this.buildSSHApiObject();let d=Object.assign({},e);d.communication==="agent"&&(delete d.sshuser,delete d.sshpass),e=d}break}else if(this.options.operation===ds.EXPORT&&this.formModel.valid){e=yield this.buildSSHApiObject();let d=Object.assign({},e);delete d.type,delete d.ip,delete d.port,delete d.protocol,delete d.apikey,d.communication==="agent"&&(delete d.sshuser,delete d.sshpass),delete d.communication,e=d,t=this.fwcFirewallService.ipTablesSaveExport.bind(this.fwcFirewallService),s=this.translate.instant("PANELS.IPTABLES_SAVE.EXPORT.ERRORS.ERROR"),a=this.translate.instant("PANELS.IPTABLES_SAVE.EXPORT.INFO.IN_PROCESS")}e&&(this.loadingData=!0,this.statusMessage={text:a,type:"loading"},this.channel_id=vo(),this.utilService.ioListenOnLogEvent(this.channel_id),this.fwcEventService.getEvent().pipe(kt(()=>this.alive)).subscribe(d=>{this.loadingData&&this.resetTimer();let p=new ls(d);this.fwcMessageComponent&&p&&p.payload&&this.fwcMessageComponent.changeStatus(p.payload.message,this.translate.instant("PANELS.IPTABLES_SAVE.IMPORT.INFO.LINE")+":")}),this.resetTimer(),this.cd.detectChanges(),this.apiCallSubscription=t(e,this.channel_id).subscribe(d=>{l(d)},d=>{if(d&&d.status==403&&d.error){let p=d.error;if(p.fwc_confirm_token){let g=p.fwc_confirm_token;this.fwcUserService.setConfirmationToken(g),this.apiCallSubscription=t(e,this.channel_id).subscribe(C=>N(this,null,function*(){l(C),this.fwcUserService.setConfirmationToken(void 0)}),C=>{c(C),this.fwcUserService.setConfirmationToken(void 0)})}else c(d)}else c(d)}))})}doSSHImport(e){}handleCancel(){let e=!1;this.channel_id&&this.utilService.ioReleaseLogEvent(this.channel_id),this.timeoutTimer&&clearTimeout(this.timeoutTimer),this.checkData(this.options)&&this.options.operation===ds.IMPORT&&this.success&&(e=!0),this.onFinish.emit({success:this.success,reloadUI:e})}handleCopyExportedToClipboard(){this.txtExported&&(this.txtExported.nativeElement.select(),document.execCommand("copy"),this.txtExported.nativeElement.setSelectionRange(0,0),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("PANELS.IPTABLES_SAVE.EXPORT.INFO.CLIPBOARD")}))}handleDownloadExported(){if(this.txtExported){let e="iptables-save.txt";this.checkData(this.options)&&(e=`${this.options.objName.replace(/[^a-z0-9\-]/gi,"_")}-iptables-save.txt`);let t=new Blob([this.exportFile],{type:"text/plain;charset=utf-8"});(0,Dz.saveAs)(t,e)}}buildSSHApiObject(){return N(this,null,function*(){let e=this.fwcUserService.getActualFwcUser().publicKey,t=this.formModel.get("sshuser").value,r=this.formModel.get("sshpass").value,o=this.formModel.get("apikey").value;return t&&(t=yield this.utilService.openPGPEncrypt(t,e)),r&&(r=yield this.utilService.openPGPEncrypt(r,e)),o&&(o=yield this.utilService.openPGPEncrypt(o,e)),{firewall:this.formModel.get("id").value,fwcloud:this.fwcUserService.getActualFwSelectedCloud(),type:"remote",ip_version:4,ip:this.formModel.get("ip").value,port:this.formModel.get("port").value,sshuser:t,sshpass:r,communication:this.formModel.get("communication").value,apikey:o,protocol:this.formModel.get("protocol").value}})}buildJSONFromBlob(e){return new Promise((t,r)=>{let o=new FileReader;o.addEventListener("loadend",s=>{let a="",l;s.currentTarget&&(l=JSON.parse(s.currentTarget.result),a=l.data.join(`
`)),t(a)}),o.addEventListener("error",s=>{r(s)}),o.readAsText(e)})}readFile(e){return new Promise((t,r)=>{let o=new FileReader;o.readAsText(e,"UTF-8"),o.onload=s=>{t(s.target.result)},o.onerror=s=>{r(s)}})}resetTimer(){this.timeoutTimer&&clearTimeout(this.timeoutTimer),this.timeoutTimer=setTimeout(()=>{this.utilService.ioReleaseLogEvent(this.channel_id),this.apiCallSubscription&&this.apiCallSubscription.unsubscribe(),this.success=!1,this.loadingData=!1,this.statusMessage={type:"error",title:this.translate.instant("PANELS.IPTABLES_SAVE.ERRORS.TIMEOUT.HEADER"),text:this.translate.instant("PANELS.IPTABLES_SAVE.ERRORS.TIMEOUT.TEXT"),bordered:!0}},K9e)}static{this.\u0275fac=function(t){return new(t||i)(b(Vn),b(Zt),b(Et),b(Fr),b(Ie),b(Xe),b(pt),b(ci))}}static{this.\u0275cmp=ie({type:i,selectors:[["sts-fwc-iptables-save"]],viewQuery:function(t,r){if(t&1&&(de(C9e,5),de(y9e,5)),t&2){let o;ee(o=te())&&(r.fwcMessageComponent=o.first),ee(o=te())&&(r.txtExported=o.first)}},inputs:{options:"options",hideUI:"hideUI",importSSHData:"importSSHData",doSSHImport:"doSSHImport"},outputs:{onFinish:"onFinish"},decls:5,vars:3,consts:[["sshForm",""],["import",""],["export",""],["pfuUpload",""],["showExportOptions",""],["showExportResult",""],["txtExported",""],["fwcMessageComponent",""],["showButtons",""],["showCloseButton",""],["sshFirewall",""],[4,"ngIf"],["class","grid",4,"ngIf"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"grid"],[1,"col-12"],["name","importOptions",3,"ngModelChange","disabled","value","label","ngModel"],[1,"col-12","vertPad"],["class","col-12 divConfigFile",4,"ngIf"],["class","col-12",4,"ngIf"],["class","col-12 divCentered",4,"ngIf"],[1,"col-12","divConfigFile"],["pInputTextarea","","rows","8",3,"ngModelChange","ngModel","placeholder"],["name","file","fileLimit","1",3,"onSelect","onRemove","disabled","maxFileSize","chooseLabel","showCancelButton","showUploadButton","invalidFileSizeMessageSummary","invalidFileSizeMessageDetail","invalidFileTypeMessageSummary","invalidFileTypeMessageDetail"],["pTemplate","file"],["pTemplate","content"],[1,"divFileInfo"],[1,"fa","fa-lg","fa-file-text","fwcBlue"],[1,"fwcPaleDark"],["pButton","","icon","pi pi-times",1,"p-button-primary",3,"click","disabled"],["class","fwc-centered",4,"ngIf"],[1,"fwc-centered"],[1,"fa","fa-2x","fa-file","fwcPaleDark"],[4,"ngTemplateOutlet"],[1,"col-12","divCentered"],["name","chkOkToDelete","binary","true",3,"ngModelChange","ngModel","disabled","label"],["pInputTextarea","","rows","15","cols","85","readonly","",2,"height","auto !important","font-family","monospace !important"],[3,"message"],[1,"col-12","divButtons"],["type","button","class","p-button-primary","pButton","","icon","fa fa-upload",3,"disabled","label","click",4,"ngIf"],["type","button","pButton","","icon","fa fa-close",1,"p-button-warning",3,"click","disabled","label"],["type","button","pButton","","icon","fa fa-upload",1,"p-button-primary",3,"click","disabled","label"],["type","button","pButton","","icon","fa fa-close",1,"p-button-primary",3,"click","label"],["pButton","","icon","fa fa-clipboard",1,"p-button-secondary",3,"click","label","disabled"],["pButton","","icon","fa fa-download",1,"p-button-secondary",3,"click","label","disabled"],[3,"formGroup"],[3,"keyup.enter","keyup.esc","disabled"],[1,"p-inputgroup"],[1,"p-float-label"],["formControlName","communication","name","communication",3,"change"],["disabled","",3,"value"],["value","ssh",3,"disabled"],["value","agent"],["for","install_ipobj"],["pInputText","","type","text","formControlName","ip","name","ip","id","ip",3,"readOnly"],["for","ip"],["pInputText","","type","number","formControlName","port","name","port","id","port",3,"readOnly"],["for","port"],[4,"ngIf","ngIfElse"],["formControlName","protocol","name","protocol",1,"selNoMargin",3,"change"],["value","https"],["value","http"],["for","protocol"],["pPassword","","formControlName","apikey","name","apikey","maxlength","64",3,"showPassword","feedback"],["for","apikey"],["pInputText","","type","text","formControlName","sshuser","name","sshuser","id","sshuser"],["for","sshuser"],["pInputText","","type","password","formControlName","sshpass","name","sshpass","id","sshpass"],["for","sshpass"]],template:function(t,r){t&1&&I(0,L9e,6,3,"ng-container",11)(1,M9e,4,1,"div",12)(2,H9e,7,3,"div",12)(3,W9e,33,20,"ng-template",null,0,Pt),t&2&&(h("ngIf",r.firewall&&!r.hideUI),u(),h("ngIf",r.statusMessage),u(),h("ngIf",!r.hideUI))},dependencies:[et,st,gr,Xd,Qd,pn,Pp,Yl,cn,mr,Qr,Gn,_r,Or,be,mt,On,xo,Yw,Hc,tC,U1,Nn,vt,Oz]})}}return i})();var uS=(()=>{class i extends H1{constructor(e,t,r){super(e,r),this.dialogRef=e,this.dialogConfig=t,this.router=r}ngOnInit(){}handleFinish(e){if(this.dialogRef.close(e&&e.success),e&&e.reloadUI){let t=this.router.url;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([t])})}}static{this.\u0275fac=function(t){return new(t||i)(b(Tl),b(Ju),b(ct))}}static{this.\u0275cmp=ie({type:i,selectors:[["sts-fwc-iptables-save-panel"]],features:[ve],decls:2,vars:1,consts:[[3,"onFinish","options"]],template:function(t,r){t&1&&(pe(0),m(1,"sts-fwc-iptables-save",0),P("onFinish",function(s){return r.handleFinish(s)}),_(),he()),t&2&&(u(),h("options",r.dialogConfig.data))},styles:[".divBlockable[_ngcontent-%COMP%]{position:relative}.divBlockable-blocker[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:100%;width:100%;background-color:#6464641a;z-index:9999}.divFileInfo[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .divFileInfo[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:.5rem}"]})}}return i})();var Pz=(()=>{class i{constructor(e){this.decimalPipe=e}transform(e,t,r){let o=e,s="B";return e>=1024*1024*1024*1024?(o=e/(1024*1024*1024*1024),s="TB"):e>=1024*1024*1024?(o=e/(1024*1024*1024),s="GB"):e>=1024*1024?(o=e/(1024*1024),s="MB"):e>=1024&&(o=e/1024,s="KB"),`${this.decimalPipe.transform(o,t,r)} ${s}`}static{this.\u0275fac=function(t){return new(t||i)(b(nf,16))}}static{this.\u0275pipe=Jn({name:"suitableBytePrecission",type:i,pure:!0})}}return i})();var q9e=i=>({name:i}),Y9e=()=>({standalone:!0}),J9e=()=>["cn","address"];function X9e(i,n){if(i&1&&(m(0,"div",6)(1,"h6",7),O(2,"i",8),D(3),R(4,"translate"),_()()),i&2){let e=f();u(3),J(" ",Di(4,1,"PANELS.VPN_HISTORIC_PANEL.TITLE",oe(4,q9e,e.options==null?null:e.options.openVpnConfigName))," ")}}function Q9e(i,n){if(i&1&&(m(0,"div",4)(1,"div",9),O(2,"sts-fwc-message",10,0),_()()),i&2){let e=f();u(2),h("message",e.statusMessage)}}function Z9e(i,n){if(i&1){let e=B();m(0,"div",14)(1,"div",17)(2,"span",18)(3,"input",39),P("drop",function(){S(e);let r=f(2);return A(r.preventDrop())}),_(),m(4,"label",40),D(5),R(6,"translate"),_()()()()}i&2&&(u(5),$(k(6,1,"VPN.PANEL.FIELDS.CN")))}function eje(i,n){i&1&&(m(0,"th",41),D(1),R(2,"translate"),O(3,"p-sortIcon",52),_()),i&2&&(u(),J(" ",k(2,1,"VPN.STATUS.FIELDS.CN")," "))}function tje(i,n){if(i&1&&(m(0,"tr"),I(1,eje,4,3,"th",41),m(2,"th",42),D(3),R(4,"translate"),O(5,"p-sortIcon",43),_(),m(6,"th",44),D(7),R(8,"translate"),O(9,"p-sortIcon",45),_(),m(10,"th",46),D(11),R(12,"translate"),O(13,"p-sortIcon",47),_(),m(14,"th",48),D(15),R(16,"translate"),O(17,"p-sortIcon",49),_(),m(18,"th",50),D(19),R(20,"translate"),O(21,"p-sortIcon",51),_()()),i&2){let e=f(2);u(),q((e.options==null?null:e.options.openVpnConfigType)===e.ObjectTypes.OBJ_VPN_CONFIG_SER?1:-1),u(2),J(" ",k(4,6,"VPN.STATUS.FIELDS.REAL_ADDRESS")," "),u(4),J(" ",k(8,8,"VPN.STATUS.FIELDS.CONNECTED_AT")," "),u(4),J(" ",k(12,10,"VPN.STATUS.FIELDS.DISCONNECTED_AT")," "),u(4),J(" ",k(16,12,"VPN.STATUS.FIELDS.RECEIVED")," "),u(4),J(" ",k(20,14,"VPN.STATUS.FIELDS.SENT")," ")}}function ije(i,n){if(i&1&&(m(0,"td"),D(1),_()),i&2){let e=f(2).$implicit,t=f(2);V("rowspan",t.tableData==null?null:t.tableData.historyGroupsMetadata[e.cn].size),u(),J(" ",e.cn," ")}}function nje(i,n){if(i&1&&(m(0,"td"),D(1),_()),i&2){let e=f(2).$implicit;u(),$(e.cn)}}function rje(i,n){if(i&1&&I(0,ije,2,2,"td")(1,nje,2,1,"td"),i&2){f(2);let e=We(55);q(e.sortField==="cn"?0:1)}}function oje(i,n){if(i&1&&(m(0,"tr",53),I(1,rje,2,1),m(2,"td"),D(3),_(),m(4,"td"),D(5),R(6,"date"),_(),m(7,"td"),D(8),R(9,"date"),_(),m(10,"td",54),D(11),R(12,"suitableBytePrecission"),_(),m(13,"td",54),D(14),R(15,"suitableBytePrecission"),_()()),i&2){let e=n.$implicit,t=f(2);h("pSelectableRow",e),u(),q((t.options==null?null:t.options.openVpnConfigType)===t.ObjectTypes.OBJ_VPN_CONFIG_SER?1:-1),u(2),$(e.address),u(2),$(cl(6,7,e.connected_at,"d/M/y hh:mm","UTC")),u(3),$(cl(9,11,e.disconnected_at,"d/M/y hh:mm","UTC")),u(3),J(" ",Di(12,15,e.bytesReceived,"1.2-2")," "),u(3),J(" ",Di(15,18,e.bytesSent,"1.2-2")," ")}}function sje(i,n){if(i&1&&(m(0,"tr")(1,"td"),D(2),R(3,"translate"),_()()),i&2){let e=f(2);u(),V("colspan",(e.options==null?null:e.options.openVpnConfigType)===e.ObjectTypes.OBJ_VPN_CONFIG_SER?6:5),u(),J(" ",k(3,2,"VPN.STATUS.NO_DATA.0")," ")}}function aje(i,n){if(i&1){let e=B();m(0,"div",4)(1,"div",9)(2,"form",11)(3,"p-fieldset",12),R(4,"translate"),m(5,"div",13),I(6,Z9e,7,3,"div",14),m(7,"div",15)(8,"div",4)(9,"div",16)(10,"div",17)(11,"span",18)(12,"select",19),Ve("ngModelChange",function(r){S(e);let o=f();return Ue(o.selectDates,r)||(o.selectDates=r),A(r)}),P("change",function(){S(e);let r=f();return A(r.handleChangeDateSelector())}),m(13,"option",20),D(14),R(15,"translate"),_(),m(16,"option",21),D(17),R(18,"translate"),_(),m(19,"option",22),D(20),R(21,"translate"),_(),m(22,"option",23),D(23),R(24,"translate"),_()(),m(25,"label",24),D(26),R(27,"translate"),_()()()(),m(28,"div",16)(29,"div",17)(30,"span",18)(31,"p-calendar",25),P("onSelect",function(){S(e);let r=f();return A(r.handleSelectDate())}),_(),m(32,"label",26),D(33),R(34,"translate"),_()()()(),m(35,"div",16)(36,"div",17)(37,"span",18)(38,"p-calendar",27),P("onSelect",function(){S(e);let r=f();return A(r.handleSelectDate())}),_(),m(39,"label",28),D(40),R(41,"translate"),_()()()()()(),m(42,"div",29)(43,"div",17)(44,"button",30),P("click",function(){S(e);let r=f();return A(r.handleReloadData())}),_(),m(45,"button",31),R(46,"translate"),P("click",function(){S(e);let r=f();return A(r.handleClearFilters())}),_()()()()()()()(),m(47,"div",4)(48,"div",9)(49,"p-fieldset",12),R(50,"translate"),m(51,"div",32)(52,"div",9)(53,"div",33)(54,"p-table",34,1),Ve("selectionChange",function(r){S(e);let o=f();return Ue(o.vpnClientSelected,r)||(o.vpnClientSelected=r),A(r)}),P("onRowSelect",function(){S(e);let r=f();return A(r.handleVpnClientSelect())})("onRowUnselect",function(){S(e);let r=f();return A(r.handleVpnClientSelect())})("onSort",function(){S(e);let r=f();return A(r.handleSortTable())}),I(56,tje,22,16,"ng-template",3)(57,oje,16,21,"ng-template",35)(58,sje,4,4,"ng-template",36),_()()(),m(59,"div",37),O(60,"p-chart",38),_(),m(61,"div",37),O(62,"p-chart",38),_()()()()()}if(i&2){let e=f();u(2),h("formGroup",e.filterFormModel),u(),ae("legend",k(4,32,"PANELS.VPN_HISTORIC_PANEL.INFO.FILTERS")),u(3),q((e.options==null?null:e.options.openVpnConfigType)===e.ObjectTypes.OBJ_VPN_CONFIG_SER?6:-1),u(),h("ngClass",(e.options==null?null:e.options.openVpnConfigType)===e.ObjectTypes.OBJ_VPN_CONFIG_SER?"col-9 lg:col-6":"col-9"),u(5),Ne("ngModel",e.selectDates),h("ngModelOptions",Ae(52,Y9e)),u(),h("value",void 0),u(),J(" ",k(15,34,"PANELS.VPN_HISTORIC_PANEL.FIELDS.RANGE_CUSTOM")," "),u(3),J(" ",k(18,36,"PANELS.VPN_HISTORIC_PANEL.FIELDS.RANGE_1D")," "),u(3),J(" ",k(21,38,"PANELS.VPN_HISTORIC_PANEL.FIELDS.RANGE_1W")," "),u(3),J(" ",k(24,40,"PANELS.VPN_HISTORIC_PANEL.FIELDS.RANGE_1M")," "),u(3),$(k(27,42,"PANELS.VPN_HISTORIC_PANEL.FIELDS.PERIOD")),u(5),h("maxDate",e.filterFormModel.get("ends_at").value),u(2),$(k(34,44,"PANELS.VPN_HISTORIC_PANEL.FIELDS.FROM")),u(5),h("minDate",e.filterFormModel.get("starts_at").value),u(2),$(k(41,46,"PANELS.VPN_HISTORIC_PANEL.FIELDS.TO")),u(4),h("disabled",!1),u(),ae("label",k(46,48,"PANELS.VPN_HISTORIC_PANEL.FIELDS.CLEAR")),h("disabled",!1),u(4),ae("legend",k(50,50,"PANELS.VPN_HISTORIC_PANEL.INFO.DATA")),u(5),h("value",e.tableData==null?null:e.tableData.parsedHistoryData)("autoLayout",!0)("responsive",!1)("resizableColumns",!0)("rowTrackBy",e.tableRowTrackBy),Ne("selection",e.vpnClientSelected),h("globalFilterFields",Ae(53,J9e))("loading",e.loadingData),u(6),h("data",e.tableData==null?null:e.tableData.volumeChartData)("options",e.volumeGraphOptions),u(2),h("data",e.tableData==null?null:e.tableData.speedChartData)("options",e.speedGraphOptions)}}function lje(i,n){if(i&1){let e=B();m(0,"button",55),R(1,"translate"),P("click",function(){S(e);let r=f();return A(r.onHandleCancel())}),_()}if(i&2){let e=f();ae("label",k(1,2,"GLOBALS.MSG_BUTTONS.CLOSE")),h("disabled",e.loadingData)}}var cje=50,kz=(()=>{class i extends ei{constructor(e,t,r,o,s,a,l,c,d,p,g,C,y){super(l,a,e,c,p,d),this.itemSelectedService=e,this.fwcFirewallService=t,this.fwcVpnService=r,this.fwcErrorPipe=o,this.utilService=s,this.appOptionsService=a,this.appDialogPanelsService=l,this.cd=c,this.router=d,this.store=p,this.translate=g,this.fb=C,this.primengConfig=y,this.volumeGraphPrecission="B",this.speedGraphPrecission="B",this.loadingData=!1,this.destroy$=new Re,this.ObjectTypes=L,this.filterFormModel=C.group({name:new Se(""),starts_at:new Se(null),ends_at:new Se(null)}),this.selectDates="1w",this.handleChangeDateSelector(),this.filterFormModel.valueChanges.pipe(xh(300),Sc(),pp(this.destroy$)).subscribe(v=>{this.loadingData=!0,this.getHistoryData(this.options.cloudId,this.options.firewallId,this.options.openVpnConfigId,v).then(([w,E])=>{this.buildTableData(w.data),this.buildTableGraphs(E.data)}).catch(w=>{this.statusMessage={title:this.translate.instant("PANELS.VPN_HISTORIC_PANEL.ERRORS.GETTING_INFO.HEADER"),text:this.translate.instant("PANELS.VPN_HISTORIC_PANEL.ERRORS.GETTING_INFO.TEXT"),details:this.fwcErrorPipe.transform(w),type:"error"}}).finally(()=>{this.loadingData=!1})}),this.esLocale={firstDayOfWeek:1,dayNames:["domingo","lunes","martes","mi\xE9rcoles","jueves","viernes","s\xE1bado"],dayNamesShort:["dom","lun","mar","mi\xE9","jue","vie","s\xE1b"],dayNamesMin:["D","L","M","X","J","V","S"],monthNames:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],monthNamesShort:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],today:"Hoy",clear:"Borrar",weekHeader:"Sm"},this.primengConfig.setTranslation(this.esLocale),this.volumeGraphOptions={aspectRatio:1.5,maintainAspectRatio:!1,scales:{y:{ticks:{callback:(v,w,E)=>`${v}  ${this.volumeGraphPrecission}`}}},plugins:{legend:{display:!0,position:"bottom"},title:{display:!0,text:this.translate.instant("PANELS.VPN_HISTORIC_PANEL.INFO.CHART_VOLUME"),fontSize:14,position:"top"},customCanvasDisplay:{display:"flex"}}},this.speedGraphOptions={aspectRatio:1.5,maintainAspectRatio:!1,scales:{y:{ticks:{callback:(v,w,E)=>`${v}  ${this.speedGraphPrecission}/s`}}},plugins:{legend:{display:!0,position:"bottom"},title:{display:!0,text:this.translate.instant("PANELS.VPN_HISTORIC_PANEL.INFO.CHART_SPEED"),fontSize:14,position:"top"}}}}ngOnInit(){}ngOnDestroy(){this.destroy$.next(void 0),this.destroy$.complete()}updateAndShow(e){return N(this,null,function*(){if(e){this.statusMessage={text:this.translate.instant("PANELS.VPN_HISTORIC_PANEL.INFO.GETTING_INFO"),type:"loading"},this.options=e,this.displayDialog=!0;try{let t=yield this.getMasterFirewallId(e);e.openVpnConfigType===L.OBJ_VPN_CONFIG_CLI&&this.filterFormModel.get("name").setValue(e.openVpnConfigName);let[r,o]=yield this.getHistoryData(e.cloudId,t,e.openVpnConfigId,this.filterFormModel.value);this.statusMessage=null,this.buildTableData(r.data),this.buildTableGraphs(o.data)}catch(t){this.statusMessage={title:this.translate.instant("PANELS.VPN_HISTORIC_PANEL.ERRORS.GETTING_INFO.HEADER"),text:this.translate.instant("PANELS.VPN_HISTORIC_PANEL.ERRORS.GETTING_INFO.TEXT"),details:this.fwcErrorPipe.transform(t),type:"error"}}}})}getHistoryData(e,t,r,o){if(o||(o={}),o.name=o.name&&o.name.replace(/\*/g,"%"),o.starts_at){let a=new Date(o.starts_at);o.starts_at=a.setHours(0,0,0)}if(o.ends_at){let a=new Date(o.ends_at);o.ends_at=a.setHours(23,59,59)}let s=Object.assign({},o);return s.limit=cje,Promise.all([this.utilService.fwcAPICall(this.fwcVpnService.getConfigHistoric.bind(this.fwcVpnService),e,t,r,o),this.utilService.fwcAPICall(this.fwcVpnService.getConfigHistoricGraph.bind(this.fwcVpnService),e,t,r,s)])}getMasterFirewallId(e){return new Promise((t,r)=>{if(e.clusterId)this.fwcFirewallService.getClusterMasterNode(e.clusterId,e.cloudId).subscribe(o=>{let s=o.data.id;return e.firewallId=s,t(s)},o=>r(o));else return e.firewallId?t(e.firewallId):r()})}buildTableData(e){let t=[],r=1;for(let o in e){let s=e[o];if(s&&Array.isArray(s.connections))for(let a of s.connections)t.push({rowId:r++,cn:o,connected_at:a.connected_at,disconnected_at:a.disconnected_at,bytesReceived:a.bytesReceived,bytesSent:a.bytesSent,address:a.address})}this.tableData=Pe(re({},this.tableData),{parsedHistoryData:t}),this.updateRowGroupMetaData(),this.recenterDialog()}buildTableGraphs(e){if(e=this.transformSuitableUnit(e),Array.isArray(e)){let t,r;t={labels:[],datasets:[{label:this.translate.instant("VPN.STATUS.FIELDS.RECEIVED"),data:[],fill:!0,borderColor:"rgba(0, 105, 167, 1)",backgroundColor:"rgba(0, 105, 167, 0.7)",pointRadius:0},{label:this.translate.instant("VPN.STATUS.FIELDS.SENT"),data:[],fill:!0,borderColor:"rgba(0, 153, 0, 1)",backgroundColor:"rgba(0, 153, 0, 1)",pointRadius:0}]},r={labels:[],datasets:[{label:this.translate.instant("VPN.STATUS.FIELDS.SPEED_UP"),data:[],fill:!1,borderColor:"rgba(0, 105, 167, 1)",backgroundColor:"rgba(0, 105, 167, 1)",pointRadius:0},{label:this.translate.instant("VPN.STATUS.FIELDS.SPEED_DOWN"),data:[],fill:!1,borderColor:"rgba(0, 153, 0, 1)",backgroundColor:"rgba(0, 153, 0, 1)",pointRadius:0}]};try{for(let o=0;o<e.length;o++){let s=e[o],a=new Date(s.timestamp).toLocaleString();t.labels.push(a),t.datasets[0].data.push(s.bytesReceived),t.datasets[1].data.push(s.bytesSent),r.labels.push(a),r.datasets[0].data.push(s.bytesSentSpeed),r.datasets[1].data.push(s.bytesReceivedSpeed)}this.tableData.volumeChartData=t,this.tableData.speedChartData=r}catch{}}}tableRowTrackBy(e,t){return t?t.rowId:null}updateRowGroupMetaData(){let e={};if(this.tableData&&this.tableData.parsedHistoryData){let t=this.tableData.parsedHistoryData;for(let r=0;r<t.length;r++){let s=t[r].cn;if(r==0)e[s]={index:0,size:1};else{let l=t[r-1].cn;s===l?e[s].size++:e[s]={index:r,size:1}}}this.tableData=Pe(re({},this.tableData),{historyGroupsMetadata:e})}}handleChangeDateSelector(){let e=new Date,t,r=e;switch(this.selectDates){case"1d":t=new Date(e.getFullYear(),e.getMonth(),e.getDate()-1);break;case"1w":t=new Date(e.getFullYear(),e.getMonth(),e.getDate()-7);break;case"1m":t=new Date(e.getFullYear(),e.getMonth(),e.getDate()-30);break;default:t=this.filterFormModel.get("starts_at").value,r=this.filterFormModel.get("ends_at").value}this.filterFormModel.get("starts_at").setValue(t),this.filterFormModel.get("ends_at").setValue(r)}handleSelectDate(){this.selectDates=void 0}handleClearFilters(){this.filterFormModel.reset(),this.selectDates=void 0}handleReloadData(){this.filterFormModel.updateValueAndValidity()}handleVpnClientSelect(){console.log(this.vpnClientSelected)}handleSortTable(){this.updateRowGroupMetaData()}onHandleCancel(){this.displayDialog=!1}onHideDialog(){this.dynamicComponentRef&&this.dynamicComponentRef.destroy()}transformSuitableUnit(e){if(e.length===0)return e;let t=0,r=0;e.forEach(c=>{c.bytesReceived&&c.bytesReceived>t&&(t=c.bytesReceived),c.bytesSent&&c.bytesSent>t&&(t=c.bytesSent),c.bytesReceivedSpeed&&c.bytesReceivedSpeed>r&&(r=c.bytesReceivedSpeed),c.bytesSentSpeed&&c.bytesSentSpeed>r&&(r=c.bytesSentSpeed)});let o="B",s="B",a=c=>c,l=c=>c;return t>=1024*1024*1024*1024?(o="TB",a=c=>c/(1024*1024*1024*1024)):t>=1024*1024*1024?(o="GB",a=c=>c/(1024*1024*1024)):t>=1024*1024?(o="MB",a=c=>c/(1024*1024)):t>=1024&&(o="KB",a=c=>c/1024),this.volumeGraphPrecission=o,r>=1024*1024*1024*1024?(s="TB",l=c=>c/(1024*1024*1024*1024)):r>=1024*1024*1024?(s="GB",l=c=>c/(1024*1024*1024)):r>=1024*1024?(s="MB",l=c=>c/(1024*1024)):r>=1024&&(s="KB",l=c=>c/1024),this.speedGraphPrecission=s,e.map(c=>({timestamp:c.timestamp,bytesReceived:a(c.bytesReceived),bytesReceivedSpeed:l(c.bytesReceivedSpeed),bytesSent:a(c.bytesSent),bytesSentSpeed:l(c.bytesSentSpeed)}))}static{this.\u0275fac=function(t){return new(t||i)(b(At),b(Zt),b(os),b(Wi),b(Et),b(Bt),b(Mt),b(Ie),b(ct),b(rt),b(Xe),b(Fr),b(Vt))}}static{this.\u0275cmp=ie({type:i,selectors:[["sts-fwc-vpn-historic-panel"]],features:[Ze([Zt]),ve],decls:5,vars:5,consts:[["fwcMessageComponent",""],["tabVpnStatusTable",""],["styleClass","dlgFwcDialog dlgFwcDialog--medium",3,"visibleChange","onHide","visible","modal","closable","resizable"],["pTemplate","header"],[1,"grid"],["pTemplate","footer"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"fa","fa-list-alt","fwcOrange"],[1,"col-12"],[3,"message"],[2,"margin-bottom","0.5rem",3,"formGroup"],[3,"legend"],["id","gridFilter",1,"grid"],[1,"col-12","lg:col-3"],[3,"ngClass"],[1,"col-4"],[1,"p-inputgroup"],[1,"p-float-label"],["name","selectDates",1,"selNoMargin",3,"ngModelChange","change","ngModel","ngModelOptions"],[3,"value"],["value","1d"],["value","1w"],["value","1m"],["for","selectDates",2,"font-size",".9rem !important"],["formControlName","starts_at","dateFormat","dd/mm/yy","appendTo","body","showButtonBar","true",3,"onSelect","maxDate"],["for","starts_at"],["formControlName","ends_at","dateFormat","dd/mm/yy","appendTo","body","showButtonBar","true",3,"onSelect","minDate"],["for","ends_at"],[1,"col-3",2,"align-self","baseline"],["type","button","pButton","","icon","fa fa-refresh",1,"p-button-primary","fwcButtonHeight",3,"click","disabled"],["type","button","pButton","","icon","fa fa-times",1,"p-button-secondary","fwcButtonHeight",2,"width","inherit",3,"click","disabled","label"],["id","gridData",1,"grid"],[2,"overflow","auto","max-height","60vh"],["columnResizeMode","expand","dataKey","rowId","selectionMode","single","styleClass","optionsTable","sortField","cn","sortMode","single",3,"selectionChange","onRowSelect","onRowUnselect","onSort","value","autoLayout","responsive","resizableColumns","rowTrackBy","selection","globalFilterFields","loading"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"col-6",2,"height","20rem"],["type","line",3,"data","options"],["pInputText","","type","text","maxlength","64","formControlName","name","name","name",3,"drop"],["for","name"],["pSortableColumn","cn","pResizableColumn",""],["pSortableColumn","address","pResizableColumn",""],["field","address"],["pSortableColumn","connected_at","pResizableColumn",""],["field","connected_at"],["pSortableColumn","disconnected_at","pResizableColumn",""],["field","disconnected_at"],["pSortableColumn","bytesReceived","pResizableColumn",""],["field","bytesReceived"],["pSortableColumn","bytesSent","pResizableColumn",""],["field","bytesSent"],["field","cn"],[3,"pSelectableRow"],[2,"text-align","right"],["type","button","pButton","","icon","fa fa-close",1,"p-button-primary",3,"click","disabled","label"]],template:function(t,r){t&1&&(m(0,"p-dialog",2),Ve("visibleChange",function(s){return Ue(r.displayDialog,s)||(r.displayDialog=s),s}),P("onHide",function(){return r.onHideDialog()}),I(1,X9e,5,6,"ng-template",3)(2,Q9e,4,1,"div",4)(3,aje,63,54)(4,lje,2,4,"ng-template",5),_()),t&2&&(Ne("visible",r.displayDialog),h("modal",!0)("closable",!1)("resizable",!0),u(2),q(r.statusMessage?2:3))},dependencies:[Ge,gr,Xd,Qd,pn,Yl,cn,mr,Qr,Gn,_r,Or,ni,be,mt,On,Xw,io,wf,ou,hv,Sf,V1,a_,Nn,Kl,vt,Pz],styles:["#gridFilter[_ngcontent-%COMP%], #gridData[_ngcontent-%COMP%]{width:-webkit-fill-available!important}#gridFilter[_ngcontent-%COMP%]{align-items:baseline!important}  p-chart>div{width:100%;height:100%!important;min-height:fit-content!important}"]})}}return i})();var dje=i=>({visibility:i,"margin-left":"1rem"}),uje=()=>({width:"1.7rem",height:"1.7rem"});function pje(i,n){i&1&&(m(0,"div",19)(1,"h6",20),O(2,"i",21),D(3),R(4,"translate"),_()()),i&2&&(u(3),J(" ",k(4,1,"CONTEXT.SYSTEMCTL.PANEL.TITLE")," "))}function hje(i,n){if(i&1&&(O(0,"i"),D(1)),i&2){let e=f().$implicit;le(e.iconClass),u(),J(" ",e.label," ")}}function fje(i,n){if(i&1&&D(0),i&2){let e=f().$implicit;J(" ",e.label," ")}}function mje(i,n){if(i&1&&I(0,hje,2,4)(1,fje,1,1),i&2){let e=n.$implicit;q(e.iconClass?0:1)}}function gje(i,n){if(i&1&&(O(0,"i"),D(1)),i&2){let e=f().$implicit;le(e.iconClass),u(),J(" ",e.label," ")}}function _je(i,n){if(i&1&&D(0),i&2){let e=f().$implicit;J(" ",e.label," ")}}function Cje(i,n){if(i&1&&I(0,gje,2,4)(1,_je,1,1),i&2){let e=n.$implicit;q(e.iconClass?0:1)}}function yje(i,n){if(i&1){let e=B();m(0,"button",22),R(1,"translate"),P("click",function(){S(e);let r=f();return A(r.onCommandSelect())}),_()}if(i&2){let e=f();ae("label",k(1,2,"GLOBALS.MSG_BUTTONS.RUN")),h("disabled",e.formModel.get("commandSelector").invalid)}}function Ije(i,n){if(i&1){let e=B();m(0,"button",23),P("click",function(){S(e);let r=f();return A(r.stopAction())}),_()}}function vje(i,n){if(i&1){let e=B();m(0,"button",24),P("click",function(){S(e);let r=f();return A(r.handleClose())}),_()}}var Dl=function(i){return i.openvpn="openvpn",i.dhcp="isc-dhcp-server",i.keepalived="keepalived",i.HAProxy="haproxy",i}(Dl||{}),Ym=(()=>{class i extends ei{constructor(e,t,r,o,s,a,l,c,d,p,g,C,y,v,w,E,T){super(c,t,e,w,E,T),this.itemSelectedService=e,this.appOptionsService=t,this.fwcUserService=r,this.fwcFirewallService=o,this.fwcPolicyService=s,this.fwcErrorPipe=a,this.fb=l,this.appDialogPanelsService=c,this.confirmationService=d,this.messageService=p,this.inputDataService=g,this.fwcEventService=C,this.utilService=y,this.translate=v,this.cd=w,this.store=E,this.router=T,this.statusError=new Q,this.nodeSelected=new Q,this.displaySystemCtlSelectorDialog=!1,this.data={},this.loadingData=!1,this.firstAction=!0,this.errorOcurred=!1,this.timeoutRegex=/ECONNABORTED:\sTimeout/,this.apiErrorRegex=/ApiKeyNotValid:/,this.apiNotFoundRegex=/ApiKeyNotFound:/,this.apiConnectionRefusedRegex=/ECONNREFUSED/,this.apiHostUnreachableRegex=/EHOSTUNREACH/,this.createDialog(v.instant("CONTEXT.SYSTEMCTL.PANEL.TITLE"),"fa-solid fa-terminal",Ai.SYSTEMCTL_PANEL)}ngOnInit(){super.ngOnInit(),this.initializeCommandSelector(),this.formModel=this.fb.group({commandSelector:new Se(null,$e.required)})}initializeCommandSelector(){this.commandSelector=[{label:this.translate.instant("CONTEXT.SYSTEMCTL.COMMANDS.DEFAULT"),value:null},{label:this.translate.instant("CONTEXT.SYSTEMCTL.COMMANDS.STATUS"),iconClass:"fwcMenuIcon fwci-help fwcBlue",value:"status"},{label:this.translate.instant("CONTEXT.SYSTEMCTL.COMMANDS.START"),iconClass:"fa-solid fa-circle-play fwcBlue",value:"start"},{label:this.translate.instant("CONTEXT.SYSTEMCTL.COMMANDS.STOP"),iconClass:"fwcMenuIcon fwci-reject fwcRed",value:"stop"},{label:this.translate.instant("CONTEXT.SYSTEMCTL.COMMANDS.RELOAD"),iconClass:"fa-solid fa-rotate-right fwcBlue",value:"reload"},{label:this.translate.instant("CONTEXT.SYSTEMCTL.COMMANDS.RESTART"),iconClass:"fwci-reload fwcBlue",value:"restart"},{label:this.translate.instant("CONTEXT.SYSTEMCTL.COMMANDS.ENABLE"),iconClass:"fa-regular fa-circle-check fwcBlue",value:"enable"},{label:this.translate.instant("CONTEXT.SYSTEMCTL.COMMANDS.DISABLE"),iconClass:"fa-solid fa-ban fwcRed",value:"disable"}]}handleLoadingDataChange(e){this.loadingData=e,e?this.formModel.get("commandSelector").disable():this.formModel.get("commandSelector").enable()}systemCtlSelectorDialog(e){this.data=e,this.displaySystemCtlSelectorDialog=!0}onCommandSelect(){let e=this.formModel.get("commandSelector").value;e&&(this.data.command=e.value,this.handleLoadingDataChange(!0),this.showSystemctlDialog())}showSystemctlDialog(){return N(this,null,function*(){this.loadingData=!0;let e=(yield this.utilService.fwcAPICall(this.fwcFirewallService.getFirewall.bind(this.fwcFirewallService),this.data.firewall,this.fwcUserService.getActualFwSelectedCloud())).data;if(e.install_communication==="ssh"){this.displaySystemCtlSelectorDialog=!1;let t=this.fwcUserService.getActualFwcUser().privateKey,r={header:this.translate.instant("COMPILE.INST_SSH",{name:e.name}),helpText:this.translate.instant("COMPILE.INST_SSH_TEXT"),modal:!0,formControls:[{name:"firewall_id",type:"hidden",value:e.id},{name:"communication",type:"hidden",value:e.install_communication},{name:"interface_name",label:this.translate.instant("COMPILE.FIELDS.INST_IF"),icon:"fwci-interface fwcGreen",type:"text",value:e.interface_name,readonly:!0,halfSized:!0},{name:"ip_name",label:this.translate.instant("COMPILE.FIELDS.INST_IP"),icon:"fwci-address fwcBlue",type:"text",value:e.ip_name+" ("+e.ip+")",readonly:!0,halfSized:!0},{name:"",label:"",type:"separator"},{name:"ssh_user",label:this.translate.instant("CLUSTER.MSG_CLUSTER_EDITION.SSH_USER"),type:"text",required:!0,value:e.install_user?yield this.utilService.openPGPDecrypt(e.install_user,t):"",setFocus:!0},{name:"",label:"",type:"separator"},{name:"ssh_password",label:this.translate.instant("CLUSTER.MSG_CLUSTER_EDITION.SSH_PASS"),type:"password",required:!0,value:e.install_pass?yield this.utilService.openPGPDecrypt(e.install_pass,t):""}],onAccept:o=>N(this,null,function*(){let s=this.fwcUserService.getActualFwcUser().publicKey,a=o.ssh_user,l=o.ssh_password;a&&(a=yield this.utilService.openPGPEncrypt(a,s)),l&&(l=yield this.utilService.openPGPEncrypt(l,s)),this.data=Pe(re({},this.data),{sshuser:a,sshpass:l}),this.displaySystemCtlSelectorDialog=!0,this.loadingData=!1,yield this.systemctlAction()}),onCancel:()=>{this.statusError.emit(!0)}};this.inputDataService.setInputData(r)}else this.loadingData=!1,yield this.systemctlAction()})}systemctlAction(){return N(this,null,function*(){let e=this.data.service;this.loadingData=!0,this.log.startDataLoad(),this.firstAction?this.firstAction=!1:(this.addMessageToLog("",ut.MSG_SEPARATOR),this.log.scrollToBottom()),this.addMessageToLog(this.translate.instant(`CONTEXT.SYSTEMCTL.PANEL.${this.data.command.toUpperCase()}`,{service:e}),ut.MSG_INFO),this.communicationSubscription=this.utilService.fwcAPICallObservable(this.fwcFirewallService.getSystemctlInformation.bind(this.fwcFirewallService),this.data).subscribe({next:t=>{this.systemctlStatusResponse=Object.assign({},this.systemctlStatusResponse),this.systemctlStatusResponse=JSON.parse(JSON.stringify(t.data.data)),t.data.data===""?(this.systemctlStatusResponse=" ",this.log.scrollToBottom()):(this.addMessageToLog(this.systemctlStatusResponse,ut.MSG_NOTICE),this.log.scrollToBottom()),this.addMessageToLog(this.translate.instant("CONTEXT.SYSTEMCTL.PANEL.DONE"),ut.MSG_OK),this.log.scrollToBottom(),this.handleLoadingDataChange(!1),this.loadingData=!1},error:t=>N(this,null,function*(){this.errorOcurred=!0,this.systemctlResponseError=t.error.msg?t.error.msg:t.error.message,this.timeoutRegex.test(this.systemctlResponseError)?this.systemctlResponseError=this.translate.instant("API_ERROR.ECONNABORTED: Timeout"):this.apiNotFoundRegex.test(this.systemctlResponseError)?this.systemctlResponseError=this.translate.instant("API_ERROR.ApiKeyNotFound"):this.apiErrorRegex.test(this.systemctlResponseError)?this.systemctlResponseError=this.translate.instant("API_ERROR.ApiKeyNotValid"):this.apiConnectionRefusedRegex.test(this.systemctlResponseError)?this.systemctlResponseError=this.translate.instant("API_ERROR.ECONNREFUSED"):this.apiHostUnreachableRegex.test(this.systemctlResponseError)?this.systemctlResponseError=this.translate.instant("API_ERROR.EHOSTUNREACH"):this.systemctlResponseError=JSON.parse(this.systemctlResponseError)?JSON.parse(this.systemctlResponseError).message:this.systemctlResponseError,this.addMessageToLog(this.systemctlResponseError,ut.MSG_ERROR),this.addMessageToLog(this.translate.instant("CONTEXT.SYSTEMCTL.PANEL.ERROR"),ut.MSG_ERROR),this.log.scrollToBottom(),this.handleLoadingDataChange(!1),this.loadingData=!1})}),this.log.stopDataLoad()})}stopAction(){this.communicationSubscription&&(this.loadingData=!1,this.handleLoadingDataChange(!1),this.communicationSubscription.unsubscribe(),this.communicationSubscription=null)}handleClose(){this.hideDialog(),this.displaySystemCtlSelectorDialog=!1,this.communicationSubscription&&(this.communicationSubscription.unsubscribe(),this.communicationSubscription=null)}static{this.\u0275fac=function(t){return new(t||i)(b(At),b(Bt),b(pt),b(Zt),b(Pn),b(Wi),b(Fr),b(Mt),b(si),b(ci),b(Ro),b(Vn),b(Et),b(Xe),b(Ie),b(rt),b(ct))}}static{this.\u0275cmp=ie({type:i,selectors:[["sts-fwc-systemctl-actions-panel"]],viewQuery:function(t,r){if(t&1&&de(cs,5),t&2){let o;ee(o=te())&&(r.log=o.first)}},outputs:{statusError:"statusError",nodeSelected:"nodeSelected"},features:[ve],decls:24,vars:17,consts:[["styleClass","dlgFwcDialog fwcObjectDialog--small",3,"visibleChange","visible","modal","resizable","closable"],["pTemplate","header"],[3,"formGroup"],[3,"keyup.enter","keyup.esc"],["id","systemctlSelector",1,"grid"],[1,"col-12"],[1,"col-6"],[1,"p-inputgroup"],[1,"p-float-label"],["formControlName","commandSelector","appendTo","body","optionLabel","label","dataKey","value",3,"options"],["pTemplate","selectedItem"],["pTemplate","item"],[1,"fwcFloatLabel"],[1,"grid","col-6"],["pButton","","icon","pi pi-check",1,"p-button-success",3,"disabled","label"],["type","button","pButton","","icon","fa fa-xmark","label","Stop",1,"p-button-danger"],[1,"divLoadTemp",3,"ngStyle"],[1,"logger"],["pTemplate","footer"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"fa-solid","fa-terminal"],["pButton","","icon","pi pi-check",1,"p-button-success",3,"click","disabled","label"],["type","button","pButton","","icon","fa fa-xmark","label","Stop",1,"p-button-danger",3,"click"],["type","button","pButton","","icon","pi pi-check","label","Close",1,"p-button-primary",3,"click"]],template:function(t,r){t&1&&(m(0,"p-dialog",0),Ve("visibleChange",function(s){return Ue(r.displaySystemCtlSelectorDialog,s)||(r.displaySystemCtlSelectorDialog=s),s}),I(1,pje,5,3,"ng-template",1),m(2,"form",2)(3,"fieldset",3),P("keyup.enter",function(){return r.onCommandSelect()})("keyup.esc",function(){return r.handleClose()}),m(4,"div",4),pe(5),O(6,"div",5),m(7,"div",6)(8,"div",7)(9,"span",8)(10,"p-dropdown",9),I(11,mje,2,1,"ng-template",10)(12,Cje,2,1,"ng-template",11),_(),m(13,"label",12),D(14),R(15,"translate"),_()()()(),he(),m(16,"div",13),I(17,yje,2,4,"button",14)(18,Ije,1,0,"button",15),m(19,"div",16),O(20,"p-progressSpinner"),_()()()()(),m(21,"div",17),O(22,"sts-fwc-log"),_(),I(23,vje,1,0,"ng-template",18),_()),t&2&&(Ne("visible",r.displaySystemCtlSelectorDialog),h("modal",!1)("resizable",!0)("closable",!1),u(2),h("formGroup",r.formModel),u(8),h("options",r.commandSelector),u(4),$(k(15,12,"CONTEXT.SYSTEMCTL.ACTIONS")),u(3),q(r.loadingData?-1:17),u(),q(r.loadingData?18:-1),u(),h("ngStyle",oe(14,dje,r.loadingData?"visible":"hidden")),u(),dt(Ae(16,uje)))},styles:["#systemctlSelector[_ngcontent-%COMP%]{border-bottom:2px solid var(--fwcGrey2);padding:.313rem}.logger[_ngcontent-%COMP%]{margin-top:.625rem;margin-bottom:.313rem}"]})}}return i})();var dC=()=>({visibility:"hidden"});function bje(i,n){i&1&&(m(0,"div",7)(1,"h6",8),O(2,"i",9),D(3),R(4,"translate"),_()()),i&2&&(u(3),J(" ",k(4,1,"PANELS.DHCP_RULE_PANEL.TITLE")," "))}function wje(i,n){if(i&1){let e=B();m(0,"div",10)(1,"div",11)(2,"span",12)(3,"p-dropdown",13),P("onChange",function(r){S(e);let o=f(2);return A(o.toggleFields(r.value))}),_(),m(4,"label",14),D(5),R(6,"translate"),_()()()()}if(i&2){let e=f(2);u(3),h("options",e.dhcpRegularRuleTypes)("autoDisplayFirst",!1),u(2),$(k(6,3,"DHCP.NEW_RULE_PANEL.TYPES"))}}function Sje(i,n){if(i&1&&(m(0,"div",5)(1,"div",11)(2,"span",12),O(3,"sts-fwc-object-group",15),R(4,"translate"),m(5,"label",14),D(6),R(7,"translate"),_()()(),O(8,"p",16),_()),i&2){let e=f(2);u(3),ae("msgNotAllowed",k(4,5,"PANELS.DHCP_RULE_PANEL.ERRORS.INVALID_FROM")),h("readOnly",!1)("groupType",e.ObjectTypes.OBJ_DHCP_RULE_NETWORK),u(3),$(k(7,7,"POLICY_GRID.RULES.DHCP_NETWORK")),u(2),h("ngStyle",Ae(9,dC))}}function Aje(i,n){if(i&1&&(m(0,"div",5)(1,"div",11)(2,"span",12),O(3,"sts-fwc-object-group",17),R(4,"translate"),m(5,"label",14),D(6),R(7,"translate"),_()()(),O(8,"p",16),_()),i&2){let e=f(2);u(3),ae("msgNotAllowed",k(4,5,"PANELS.DHCP_RULE_PANEL.ERRORS.INVALID_FROM")),h("readOnly",!1)("groupType",e.ObjectTypes.OBJ_DHCP_RULE_RANGE),u(3),$(k(7,7,"ITEM_PANEL.FIELDS.RANGE")),u(2),h("ngStyle",Ae(9,dC))}}function Eje(i,n){if(i&1&&(m(0,"div",5)(1,"div",11)(2,"span",12),O(3,"sts-fwc-object-group",18),R(4,"translate"),m(5,"label",14),D(6),R(7,"translate"),_()()(),O(8,"p",16),_()),i&2){let e=f(2);u(3),ae("msgNotAllowed",k(4,5,"PANELS.DHCP_RULE_PANEL.ERRORS.INVALID_FROM")),h("readOnly",!1)("groupType",e.ObjectTypes.OBJ_DHCP_RULE_ROUTER),u(3),$(k(7,7,"ITEM_PANEL.FIELDS.ROUTER")),u(2),h("ngStyle",Ae(9,dC))}}function xje(i,n){if(i&1&&(m(0,"div",5)(1,"div",11)(2,"span",12),O(3,"sts-fwc-object-group",19),R(4,"translate"),m(5,"label",14),D(6),R(7,"translate"),_()()(),O(8,"p",16),_()),i&2){let e=f(2);u(3),ae("msgNotAllowed",k(4,5,"PANELS.DHCP_RULE_PANEL.ERRORS.INVALID_FROM")),h("readOnly",!1)("groupType",e.ObjectTypes.OBJ_DHCP_RULE_INTERFACE),u(3),$(k(7,7,"ITEM_PANEL.FIELDS.INTERFACE")),u(2),h("ngStyle",Ae(9,dC))}}function Tje(i,n){if(i&1&&(m(0,"div",5)(1,"div",11)(2,"span",12),O(3,"sts-fwc-object-group",20),R(4,"translate"),m(5,"label",14),D(6),R(7,"translate"),_()()(),O(8,"p",16),_()),i&2){let e=f(2);u(3),ae("msgNotAllowed",k(4,5,"PANELS.DHCP_RULE_PANEL.ERRORS.INVALID_FROM")),h("readOnly",!1)("groupType",e.ObjectTypes.OBJ_DHCP_RULE_IP),u(3),$(k(7,7,"ITEM_PANEL.FIELDS.IP")),u(2),h("ngStyle",Ae(9,dC))}}function Oje(i,n){if(i&1){let e=B();m(0,"div",5)(1,"label",21),D(2),R(3,"translate"),_(),m(4,"div",22)(5,"textarea",23),P("drop",function(r){S(e);let o=f(2);return A(o.preventDrop(r))}),_()()()}i&2&&(u(2),$(k(3,1,"ITEM_PANEL.FIELDS.CFG_TEXT")))}function Dje(i,n){if(i&1&&(O(0,"div",5),I(1,wje,7,5,"div",10)(2,Sje,9,10,"div",5)(3,Aje,9,10,"div",5)(4,Eje,9,10,"div",5)(5,xje,9,10,"div",5)(6,Tje,9,10,"div",5)(7,Oje,6,3,"div",5)),i&2){let e=f();u(),q(e.dhcpFixedIpPolicySelected()?-1:1),u(),q(e.isRegularRuleSelected()?2:-1),u(),q(e.isRegularRuleSelected()?3:-1),u(),q(e.isRegularRuleSelected()?4:-1),u(),q(e.dhcpFixedIpPolicySelected()?5:-1),u(),q(e.dhcpFixedIpPolicySelected()?6:-1),u(),q(e.isManualConfigRuleSelected()||e.isDefaultConfigRuleSelected()?7:-1)}}function Rje(i,n){if(i&1&&(m(0,"div",5),O(1,"sts-fwc-message",24),_()),i&2){let e=f();u(),h("message",e.opMessage)}}function Pje(i,n){if(i&1){let e=B();m(0,"button",25),R(1,"translate"),P("click",function(){S(e);let r=f();return A(r.handleCancel())}),_(),m(2,"button",26),R(3,"translate"),P("click",function(){S(e);let r=f();return A(r.handleSave())}),_()}if(i&2){let e=f();ae("label",k(1,3,"GLOBALS.MSG_BUTTONS.CANCEL")),u(2),ae("label",k(3,5,"GLOBALS.MSG_BUTTONS.SAVE")),h("disabled",!e.formModel.valid||e.formModel.pristine||e.loadingData)}}var Fz=(()=>{class i extends ei{constructor(e,t,r,o,s,a,l,c,d,p,g,C,y,v,w,E,T){super(r,t,e,o,s,l),this.itemSelectedService=e,this.appOptionsService=t,this.appDialogPanelsService=r,this.cd=o,this.store=s,this.fb=a,this.router=l,this.fwcErrorPipe=c,this.utilService=d,this.fwcPolicyService=p,this.fwcDhcpPolicyService=g,this.fwcUserService=C,this.fwcFirewallService=y,this.confirmationService=v,this.translate=w,this.messageService=E,this.http=T,this.ObjectTypes=L,this.defaultConfigTextSet=!1,this.loadingData=!1,this.dataLoaded=!1,this.dhcpRegularRuleTypes=[{id:0,name:this.translate.instant("DHCP.NEW_RULE_PANEL.REGULAR_TYPE"),rule_type:1},{id:1,name:this.translate.instant("DHCP.NEW_RULE_PANEL.MANUAL_CONFIG_TYPE"),rule_type:3},{id:2,name:this.translate.instant("DHCP.NEW_RULE_PANEL.DEFAULT_CONFIG_TYPE"),rule_type:3}],this.dhcpFixedIpRuleType={id:0,name:this.translate.instant("DHCP.NEW_RULE_PANEL.FIXED_IP_TYPE"),rule_type:2}}ngOnInit(){this.formModel=this.fb.group({dhcpRegularRuleTypes:new Se,dhcpRegularRule:new Se,dhcpManualConfigRule:new Se,dhcpDefaultConfigRule:new Se,dhcpFixedIpRule:new Se,network:new Se(void 0),range:new Se(void 0),router:new Se(void 0),interface:new Se(void 0),ip:new Se(void 0),cfg_text:new Se(void 0)}),this.dhcpRegularRule={id:0,name:this.translate.instant("DHCP.NEW_RULE_PANEL.REGULAR_TYPE"),rule_type:1,network:"",range:"",router:""},this.dhcpManualConfigRule={id:1,name:this.translate.instant("DHCP.NEW_RULE_PANEL.MANUAL_CONFIG_TYPE"),rule_type:3,cfg_text:""},this.dhcpDefaultConfigRule={id:2,name:this.translate.instant("DHCP.NEW_RULE_PANEL.DEFAULT_CONFIG_TYPE"),rule_type:3,cfg_text:""},this.dhcpFixedIpRule={id:0,name:this.translate.instant("DHCP.NEW_RULE_PANEL.FIXED_IP_TYPE"),rule_type:2,interface:"",ip:""},this.formModel.setValidators([this.validateRegularRuleFields.bind(this),this.validateFixedIpRuleFields.bind(this),this.validateManualConfigRuleFields.bind(this)]),this.formModel.get("dhcpRegularRuleTypes").valueChanges.subscribe(e=>{if(e!==this.formModel.get("dhcpRegularRuleTypes").value){this.toggleFields(e);let t=this.formModel.get("dhcpRegularRuleTypes"),r=this.formModel.get("network"),o=this.formModel.get("range"),s=this.formModel.get("router");t.setValidators(this.getDhcpRuleTypesValidators()),r.setValidators(this.getDhcpRuleTypesValidators()),o.setValidators(this.getDhcpRuleTypesValidators()),s.setValidators(this.getDhcpRuleTypesValidators()),t.updateValueAndValidity(),r.updateValueAndValidity(),o.updateValueAndValidity(),s.updateValueAndValidity(),this.formModel.updateValueAndValidity()}}),this.formModel.get("dhcpFixedIpRule").valueChanges.subscribe(e=>{if(e!==this.formModel.get("dhcpFixedIpRule").value){this.toggleFields(e);let t=this.formModel.get("dhcpFixedIpRule"),r=this.formModel.get("interface"),o=this.formModel.get("ip"),s=this.formModel.get("cfg_text");this.defaultConfigTextSet&&(s.setValue("",{emitEvent:!1}),this.defaultConfigTextSet=!1),t.setValidators(this.getDhcpFixedIpRuleValidators()),r.setValidators(this.getDhcpFixedIpRuleValidators()),o.setValidators(this.getDhcpFixedIpRuleValidators()),t.updateValueAndValidity(),r.updateValueAndValidity(),o.updateValueAndValidity(),this.formModel.updateValueAndValidity()}}),this.formModel.get("dhcpManualConfigRule").valueChanges.subscribe(e=>{if(e!==this.formModel.get("dhcpManualConfigRule").value){this.toggleFields(e);let t=this.formModel.get("cfg_text");this.defaultConfigTextSet&&(t.setValue("",{emitEvent:!1}),this.defaultConfigTextSet=!1),t.updateValueAndValidity(),this.formModel.updateValueAndValidity()}}),this.formModel.get("dhcpDefaultConfigRule").valueChanges.subscribe(e=>{if(e!==this.formModel.get("dhcpDefaultConfigRule").value){this.toggleFields(e);let t=this.formModel.get("cfg_text");this.setDhcpConfigText(),t.updateValueAndValidity(),this.formModel.updateValueAndValidity()}})}toggleFields(e){let t=this.formModel.get("network"),r=this.formModel.get("range"),o=this.formModel.get("router"),s=this.formModel.get("interface"),a=this.formModel.get("ip"),l=this.formModel.get("cfg_text");t.reset(),r.reset(),o.reset(),t.disable(),r.disable(),o.disable(),s.reset(),a.reset(),s.disable(),a.disable(),l.reset(),e==="dhcpRegularRuleTypes"?(t.enable(),r.enable(),o.enable()):e==="dhcpFixedIpRule"?(s.enable(),a.enable()):(e==="dhcpManualConfigRule"||e==="dhcpDefaultConfigRule")&&l.enable()}dhcpFixedIpPolicySelected(){let e=this.fwcPolicyService.getActualSelectedPolicy();return e&&e._fwcPolicyType===Si[H.DHCP_FIXED_IP]}isRegularRuleSelected(){let e=this.formModel.get("dhcpRegularRuleTypes").value,t=e&&e.name===this.translate.instant("DHCP.NEW_RULE_PANEL.REGULAR_TYPE")&&e.rule_type===1;return t&&(this.defaultConfigTextSet=!1),t}isManualConfigRuleSelected(){let e=this.formModel.get("dhcpRegularRuleTypes").value,t=e&&e.name===this.translate.instant("DHCP.NEW_RULE_PANEL.MANUAL_CONFIG_TYPE");return t&&(this.defaultConfigTextSet=!1),t}isDefaultConfigRuleSelected(){let e=this.formModel.get("dhcpRegularRuleTypes").value,t=e&&e.name===this.translate.instant("DHCP.NEW_RULE_PANEL.DEFAULT_CONFIG_TYPE");return t&&!this.defaultConfigTextSet?(this.setDhcpConfigText(),this.defaultConfigTextSet=!0):t||(this.defaultConfigTextSet=!1),t}getDhcpRuleTypesValidators(){return this.isRegularRuleSelected()?$e.required:null}getDhcpFixedIpRuleValidators(){return this.dhcpFixedIpPolicySelected()?$e.required:null}validateRegularRuleFields(){let e=this.formModel.get("network"),t=this.formModel.get("range"),r=this.formModel.get("router");return this.isRegularRuleSelected()&&(!e.value||!t.value||!r.value)?{requiredFieldsMissing:!0}:null}validateFixedIpRuleFields(){let e=this.formModel.get("interface"),t=this.formModel.get("ip");return this.dhcpFixedIpPolicySelected()&&(!e.value||!t.value)?{requiredFieldsMissing:!0}:null}validateManualConfigRuleFields(){return this.isManualConfigRuleSelected(),null}loadDhcpConfigFile(){return N(this,null,function*(){try{return yield this.http.get("assets/config/system/dhcpd-DEFAULT.conf",{responseType:"text"}).toPromise()}catch(e){throw this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),detail:this.fwcErrorPipe.transform(e)}),e}})}setDhcpConfigText(){return N(this,null,function*(){try{let e=yield this.loadDhcpConfigFile();this.formModel.get("cfg_text").setValue(e)}catch(e){this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),detail:this.fwcErrorPipe.transform(e)})}})}showNewRuleDialog(e,t,r,o){this.clusterId=e,this.firewallId=t,this.baseRuleId=r,this.newRuleOffset=o,e?this.fwcFirewallService.getCluster.bind(this.fwcFirewallService)(e,this.fwcUserService.getActualFwSelectedCloud()).subscribe(s=>{this.clusterId=s.data.id,this.displayDialog=!0}):this.fwcFirewallService.getFirewall.bind(this.fwcFirewallService)(t,this.fwcUserService.getActualFwSelectedCloud()).subscribe(s=>{this.firewallId=s.data.id,this.displayDialog=!0}),this.dataLoaded=!0}handleSave(){if(this.formModel.valid){this.store.dispatch(Ei.requestBlockUI());let{comment:e}=this.formModel.value,t=this.newRuleOffset<1?"above":"below",r=this.dhcpRegularRuleTypes[0].rule_type,o=this.dhcpRegularRuleTypes[1].rule_type,s=this.dhcpRegularRuleTypes[2].rule_type,a=this.dhcpFixedIpRule.rule_type,l={firewallId:this.firewallId,to:this.baseRuleId,offset:t,style:void 0,comment:e};this.isRegularRuleSelected()?(l.networkId=this.formModel.controls.network.value.id,l.rangeId=this.formModel.controls.range.value.id,l.routerId=this.formModel.controls.router.value.id,l.rule_type=r):this.dhcpFixedIpPolicySelected()?(l.interfaceId=this.formModel.controls.interface.value.id,l.routerId=this.formModel.controls.ip.value.id,l.rule_type=a):this.isManualConfigRuleSelected()?(l.rule_type=o,l.cfg_text=this.formModel.controls.cfg_text.value):this.isDefaultConfigRuleSelected()&&(l.rule_type=s,l.cfg_text=this.formModel.controls.cfg_text.value),this.loadingData=!0,this.store.dispatch(Ei.requestBlockUI()),this.utilService.fwcAPICall(this.fwcDhcpPolicyService.newPolicyDhcpRule.bind(this.fwcDhcpPolicyService),this.firewallId,this.fwcUserService.getActualFwSelectedCloud(),l).then(()=>{this.hideDialog(),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("PANELS.DHCP_RULE_PANEL.INFO.SAVE_RULE")}),this.fwcPolicyService.reloadPolicy(),this.store.dispatch(Nr.updateFwStatus({item:{cluster:this.clusterId,id:this.firewallId,status:3}}))}).catch(c=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),detail:this.fwcErrorPipe.transform(c)})}).finally(()=>{this.loadingData=!1,this.store.dispatch(Ei.requestUnblockUI())})}}handleCheckForm(e){e&&e.target&&this.formModel.valid&&(e.target.blur(),this.handleSave())}handleCancel(){this.hideDialog(),this.fwcPolicyService.reloadPolicy()}static{this.\u0275fac=function(t){return new(t||i)(b(At),b(Bt),b(Mt),b(Ie),b(rt),b(Fr),b(ct),b(Wi),b(Et),b(Pn),b(Qu),b(pt),b(Zt),b(si),b(Xe),b(ci),b(Yt))}}static{this.\u0275cmp=ie({type:i,selectors:[["sts-fwc-dhcp-rule-panel"]],features:[ve],decls:8,vars:9,consts:[["styleClass","dlgFwcDialog--system fwcObjectDialog--dhcp",3,"visibleChange","onShow","onHide","visible","modal","closable","draggable","resizable"],["pTemplate","header"],[3,"formGroup"],[3,"keyup.enter","keyup.esc","disabled"],[1,"grid"],[1,"col-12"],["pTemplate","footer"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"fwcMenuIcon","fa","fa-gear","fwcOrange"],[1,"col-12",2,"margin-bottom","10px"],[1,"p-inputgroup"],[1,"p-float-label"],["formControlName","dhcpRegularRuleTypes","styleClass","dropDownForm","appendTo","body","optionLabel","name","dataKey","id",3,"onChange","options","autoDisplayFirst"],[1,"fwcFloatLabel"],["formControlName","network",3,"readOnly","groupType","msgNotAllowed"],[1,"fwc-error",3,"ngStyle"],["formControlName","range",3,"readOnly","groupType","msgNotAllowed"],["formControlName","router",3,"readOnly","groupType","msgNotAllowed"],["formControlName","interface",3,"readOnly","groupType","msgNotAllowed"],["formControlName","ip",3,"readOnly","groupType","msgNotAllowed"],["for","cfg_text"],[1,"fwcTextArea"],["pInputTextarea","","formControlName","cfg_text","name","cfg_text",2,"height","120px",3,"drop"],[3,"message"],["type","button","pButton","","icon","pi pi-times",1,"p-button-secondary",3,"click","label"],["type","button","pButton","","icon","pi pi-check",1,"p-button-primary",3,"click","label","disabled"]],template:function(t,r){t&1&&(m(0,"p-dialog",0),Ve("visibleChange",function(s){return Ue(r.displayDialog,s)||(r.displayDialog=s),s}),P("onShow",function(){return!0})("onHide",function(){return!0}),I(1,bje,5,3,"ng-template",1),m(2,"form",2)(3,"fieldset",3),P("keyup.enter",function(s){return r.handleCheckForm(s)})("keyup.esc",function(){return r.handleCancel()}),m(4,"div",4),I(5,Dje,8,7)(6,Rje,2,1,"div",5),_()()(),I(7,Pje,4,7,"ng-template",6),_()),t&2&&(Ne("visible",r.displayDialog),h("modal",!1)("closable",!1)("draggable",!0)("resizable",!0),u(2),h("formGroup",r.formModel),u(),h("disabled",r.loadingData),u(2),q(r.dataLoaded?5:-1),u(),q(!r.loadingData&&r.opMessage?6:-1))}})}}return i})();var np=(()=>{class i extends Mi{constructor(e,t){super(e),this.httpClient=e,this.fwcFirewallService=t,this._isKeepalivedPolicy=new Cn(!1),this.isKeepalivedPolicy$=this._isKeepalivedPolicy.asObservable(),this._keepalivedClusterId=new Cn(0),this.keepalivedClusterId$=this._keepalivedClusterId.asObservable()}setIsKeepalivedPolicy(e){this._isKeepalivedPolicy.next(e)}setKeepalivedClusterId(e){this._keepalivedClusterId.next(e)}getKeepalivedClusterId(){return this._keepalivedClusterId.getValue()}getKeepalivedPolicy(e,t){let r=`${ge.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/keepalivedRules`;return this.httpClient.get(r).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIErrorNew))}getKeepalivedPolicyGrid(e,t){let r=`${ge.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/keepalivedRules/grid`;return this.httpClient.get(r).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIErrorNew))}newPolicyKeepalivedRule(e,t,r){let o=`${ge.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/keepalivedRules`;return this.httpClient.post(o,r).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIErrorNew))}updateKeepalivedPolicyRule(e,t,r,o){let s=`${ge.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/keepalivedRules/${r}`;return this.httpClient.put(s,o).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIErrorNew))}moveObjectBetweenPositions(e,t,r){let o=`${ge.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/keepalivedRules/moveFrom`;return this.httpClient.put(o,r).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIErrorNew))}updateKeepalivedPolicyRules(e,t,r,o){let s=r.map(c=>`rules[]=${c}`).join("&"),a=`${ge.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/keepalivedRules/bulkUpdate?${s}`,l={active:o.active,style:o.style,group:o.group};return this.httpClient.put(a,l).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIErrorNew))}deleteKeepalivedPolicyRule(e,t,r){let o=`${ge.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/keepalivedRules/${r}`;return this.httpClient.delete(o).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIErrorNew))}deleteKeepalivedPolicyRules(e,t,r){let o=r.map(a=>`rules[]=${a}`).join("&"),s=`${ge.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/keepalivedRules/bulkRemove?${o}`;return this.httpClient.delete(s).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIErrorNew))}manageKeepalivedPolicyRules(e,t,r,o,s,a){let l="copy",c=this.httpClient.post,d=o<0?"above":"below";a===ur.CUT&&(l="move",c=this.httpClient.put);let p=`${ge.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/keepalivedRules/${l}`,g={to:r,offset:d,rules:s};return c.call(this.httpClient,p,g).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIErrorNew))}compileKeepalivedPolicyRules(e,t,r){let o;if(r){let s=r.map(a=>`rules[]=${a}`).join("&");o=`${ge.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/keepalivedRules/compile?${s}`}else o=`${ge.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/keepalivedRules/compile`;return this.httpClient.get(o).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIErrorNew))}getKeepalivedGroup(e,t,r){let o=`${ge.settings.fwcAppURL}/fwclouds/${e}/firewalls/${t}/system/keepalivedGroups/${r}`;return this.httpClient.get(o).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIErrorNew))}checkGroupRestrictions(e){let{fwcloud:t,firewall:r,id:o}=e,s=`${ge.settings.fwcAppURL}/fwclouds/${t}/firewalls/${r}/system/keepalivedGroups/${o}/restricted`;return this.httpClient.get(s).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIErrorNew))}newKeepalivedPolicyRuleGroup(e,t,r,o,s){let a=`${ge.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/keepalivedGroups`,l={name:r,comment:o,rules:s};return this.httpClient.post(a,l).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIErrorNew))}updateKeepalivedPolicyRuleGroup(e,t,r,o){let s=`${ge.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/keepalivedGroups/${r}`;return this.httpClient.put(s,o).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIErrorNew))}deleteKeepalivedPolicyRulesGroup(e,t,r){let o=`${ge.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/keepalivedGroups/${r}`;return this.httpClient.delete(o).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIErrorNew))}installConfig(e,t,r,o){let s=`${ge.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/keepalivedRules/install?channel_id=${r}`;return this.httpClient.put(s,JSON.stringify(o)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}static{this.\u0275fac=function(t){return new(t||i)(ce(Yt),ce(Zt))}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var mk=()=>({visibility:"hidden"});function kje(i,n){i&1&&(m(0,"div",7)(1,"h6",8),O(2,"i",9),D(3),R(4,"translate"),_()()),i&2&&(u(3),J(" ",k(4,1,"PANELS.KEEPALIVED_RULE_PANEL.TITLE")," "))}function Fje(i,n){i&1&&O(0,"div",5)}function Lje(i,n){if(i&1&&(m(0,"div",5)(1,"div",11)(2,"span",12),O(3,"sts-fwc-object-group",15),R(4,"translate"),m(5,"label",14),D(6),R(7,"translate"),_()()(),O(8,"p",16),_()),i&2){let e=f(2);u(3),ae("msgNotAllowed",k(4,5,"PANELS.KEEPALIVED_RULE_PANEL.ERRORS.INVALID_FROM")),h("readOnly",!1)("groupType",e.ObjectTypes.OBJ_KEEPALIVED_INTERFACE),u(3),$(k(7,7,"ITEM_PANEL.FIELDS.INTERFACE")),u(2),h("ngStyle",Ae(9,mk))}}function Mje(i,n){i&1&&O(0,"div",5)}function Nje(i,n){if(i&1){let e=B();m(0,"div",5)(1,"div",11)(2,"span",12)(3,"sts-fwc-object-group",17),R(4,"translate"),P("onVirtualIpChange",function(r){S(e);let o=f(2);return A(o.handleOnChange(r))}),_(),m(5,"label",14),D(6),R(7,"translate"),_()()(),O(8,"p",16),_()}if(i&2){let e=f(2);u(3),ae("msgNotAllowed",k(4,5,"PANELS.KEEPALIVED_RULE_PANEL.ERRORS.INVALID_FROM")),h("readOnly",!1)("groupType",e.ObjectTypes.OBJ_KEEPALIVED_VIRTUAL_IPS),u(3),$(k(7,7,"ITEM_PANEL.FIELDS.VIRTUAL_IPS")),u(2),h("ngStyle",Ae(9,mk))}}function Vje(i,n){i&1&&O(0,"div",5)}function Bje(i,n){if(i&1&&(m(0,"div",5)(1,"div",11)(2,"span",12),O(3,"sts-fwc-object-group",18),R(4,"translate"),m(5,"label",14),D(6),R(7,"translate"),_()()(),O(8,"p",16),_()),i&2){let e=f(2);u(3),ae("msgNotAllowed",k(4,5,"PANELS.KEEPALIVED_RULE_PANEL.ERRORS.INVALID_FROM")),h("readOnly",!1)("groupType",e.ObjectTypes.OBJ_KEEPALIVED_MASTER_NODE),u(3),$(k(7,7,"ITEM_PANEL.FIELDS.MASTER_NODE")),u(2),h("ngStyle",Ae(9,mk))}}function Uje(i,n){if(i&1){let e=B();m(0,"div",5)(1,"label",19),D(2),R(3,"translate"),_(),m(4,"div",20)(5,"textarea",21),P("drop",function(r){S(e);let o=f(2);return A(o.preventDrop(r))}),_()()()}i&2&&(u(2),$(k(3,1,"ITEM_PANEL.FIELDS.CFG_TEXT")))}function jje(i,n){if(i&1){let e=B();O(0,"div",5),m(1,"div",10)(2,"div",11)(3,"span",12)(4,"p-dropdown",13),P("onChange",function(r){S(e);let o=f();return A(o.toggleFields(r.value))}),_(),m(5,"label",14),D(6),R(7,"translate"),_()()()(),I(8,Fje,1,0,"div",5)(9,Lje,9,10,"div",5)(10,Mje,1,0,"div",5)(11,Nje,9,10,"div",5)(12,Vje,1,0,"div",5)(13,Bje,9,10,"div",5)(14,Uje,6,3,"div",5)}if(i&2){let e=f();u(4),h("options",e.keepalivedRuleTypes)("autoDisplayFirst",!1),u(2),$(k(7,10,"KEEPALIVED.NEW_RULE_PANEL.TYPES")),u(2),q(e.keepalivedRuleSelected()?8:-1),u(),q(e.keepalivedRuleSelected()?9:-1),u(),q(e.keepalivedRuleSelected()?10:-1),u(),q(e.keepalivedRuleSelected()?11:-1),u(),q(e.keepalivedRuleSelected()?12:-1),u(),q(e.keepalivedRuleSelected()?13:-1),u(),q(e.keepalivedManualConfigRuleSelected()||e.isDefaultConfigRuleSelected()?14:-1)}}function Hje(i,n){if(i&1&&(m(0,"div",5),O(1,"sts-fwc-message",22),_()),i&2){let e=f();u(),h("message",e.opMessage)}}function Gje(i,n){if(i&1){let e=B();m(0,"button",23),R(1,"translate"),P("click",function(){S(e);let r=f();return A(r.handleCancel())}),_(),m(2,"button",24),R(3,"translate"),P("click",function(){S(e);let r=f();return A(r.handleSave())}),_()}if(i&2){let e=f();ae("label",k(1,3,"GLOBALS.MSG_BUTTONS.CANCEL")),u(2),ae("label",k(3,5,"GLOBALS.MSG_BUTTONS.SAVE")),h("disabled",!e.formModel.valid||e.formModel.pristine||e.loadingData)}}var Lz=(()=>{class i extends ei{constructor(e,t,r,o,s,a,l,c,d,p,g,C,y,v,w,E,T){super(r,t,e,o,s,l),this.itemSelectedService=e,this.appOptionsService=t,this.appDialogPanelsService=r,this.cd=o,this.store=s,this.fb=a,this.router=l,this.fwcErrorPipe=c,this.utilService=d,this.fwcPolicyService=p,this.fwcKeepalivedPolicyService=g,this.fwcUserService=C,this.fwcFirewallService=y,this.confirmationService=v,this.translate=w,this.messageService=E,this.http=T,this.ObjectTypes=L,this.defaultConfigTextSet=!1,this.loadingData=!1,this.dataLoaded=!1,this.keepalivedRuleTypes=[{id:0,name:this.translate.instant("KEEPALIVED.NEW_RULE_PANEL.KEEPALIVED_RULE"),rule_type:1},{id:1,name:this.translate.instant("KEEPALIVED.NEW_RULE_PANEL.KEEPALIVED_MANUAL"),rule_type:2},{id:2,name:this.translate.instant("KEEPALIVED.NEW_RULE_PANEL.KEEPALIVED_DEFAULT"),rule_type:2}]}ngOnInit(){this.formModel=this.fb.group({keepalivedRuleTypes:new Se,keepalivedRule:new Se,keepalivedManualConfigRule:new Se,keepalivedDefaultConfigRule:new Se,interface:new Se,virtualIps:this.fb.array([]),masterNode:new Se,cfg_text:new Se}),this.formModel.get("keepalivedRuleTypes").valueChanges.subscribe(e=>{this.toggleFields(e),this.formModel.updateValueAndValidity()}),this.formModel.setValidators([this.validateFields.bind(this)])}toggleFields(e){let t=this.formModel.get("interface"),r=this.formModel.get("virtualIps"),o=this.formModel.get("masterNode"),s=this.formModel.get("cfg_text");if(t.reset(),o.reset(),s.reset(),e&&e.rule_type===1)for(t.enable(),o.enable(),s.disable();r.length!==0;)r.removeAt(0);else e&&e.rule_type===2?(s.enable(),t.disable(),o.disable(),r.controls.forEach(a=>{a.disable()})):e&&e.rule_type===2&&e==="keepalivedDefaultConfigRule"&&s.enable()}validateFields(){let e=this.formModel.get("keepalivedRuleTypes").value,t=this.formModel.get("interface"),r=this.formModel.get("virtualIps"),o=this.formModel.get("masterNode"),s=this.formModel.get("cfg_text");if(e&&e.rule_type===1){if(!t.value||!o.value||r.length===0)return{requiredFieldsMissing:!0}}else if(e&&e.rule_type===2)return s.value,null;return null}addVirtualIp(e){let t=this.fb.control(e);t.setValue(e),this.formModel.get("virtualIps").push(t)}handleOnChange(e){this.addVirtualIp(e.id)}keepalivedRuleSelected(){let e=this.formModel.get("keepalivedRuleTypes").value;return e&&e.name===this.translate.instant("KEEPALIVED.NEW_RULE_PANEL.KEEPALIVED_RULE")&&e.rule_type===1}keepalivedManualConfigRuleSelected(){let e=this.formModel.get("keepalivedRuleTypes").value;return e&&e.name===this.translate.instant("KEEPALIVED.NEW_RULE_PANEL.KEEPALIVED_MANUAL")&&e.rule_type===2}isDefaultConfigRuleSelected(){let e=this.formModel.get("keepalivedRuleTypes").value,t=e&&e.name===this.translate.instant("KEEPALIVED.NEW_RULE_PANEL.KEEPALIVED_DEFAULT");return t&&!this.defaultConfigTextSet?(this.setKeepalivedConfigText(),this.defaultConfigTextSet=!0):t||(this.defaultConfigTextSet=!1),t}loadKeepalivedConfigFile(){return N(this,null,function*(){try{return yield this.http.get("assets/config/system/keepalived-DEFAULT.conf",{responseType:"text"}).toPromise()}catch(e){throw this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),detail:this.fwcErrorPipe.transform(e)}),e}})}setKeepalivedConfigText(){return N(this,null,function*(){try{let e=yield this.loadKeepalivedConfigFile();this.formModel.get("cfg_text").setValue(e)}catch(e){this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),detail:this.fwcErrorPipe.transform(e)})}})}showNewRuleDialog(e,t,r,o){this.clusterId=e,this.firewallId=t,this.baseRuleId=r,this.newRuleOffset=o,this.fwcFirewallService.getCluster.bind(this.fwcFirewallService)(e,this.fwcUserService.getActualFwSelectedCloud()).subscribe(s=>{this.clusterId=s.data.id,this.displayDialog=!0}),this.dataLoaded=!0}handleSave(){if(this.formModel.valid){this.store.dispatch(Ei.requestBlockUI());let{comment:e}=this.formModel.value,t=this.newRuleOffset<1?"above":"below",r=this.keepalivedRuleTypes[0].rule_type,o=this.keepalivedRuleTypes[1].rule_type,s=this.keepalivedRuleTypes[2].rule_type,a={firewallId:this.firewallId,to:this.baseRuleId,offset:t,style:void 0,comment:e};if(this.keepalivedRuleSelected()){a.interfaceId=this.formModel.controls.interface.value.id,a.masterNodeId=this.formModel.controls.masterNode.value.id,a.rule_type=r;let l=[];Array.isArray(this.formModel.get("virtualIps").value)&&this.formModel.get("virtualIps").value.forEach((c,d)=>{l.push({id:c,order:d+1})}),a.virtualIpsIds=l}else this.keepalivedManualConfigRuleSelected()?(a.rule_type=o,a.cfg_text=this.formModel.controls.cfg_text.value):this.isDefaultConfigRuleSelected()&&(a.rule_type=s,a.cfg_text=this.formModel.controls.cfg_text.value);this.loadingData=!0,this.store.dispatch(Ei.requestBlockUI()),this.utilService.fwcAPICall(this.fwcKeepalivedPolicyService.newPolicyKeepalivedRule.bind(this.fwcKeepalivedPolicyService),this.firewallId,this.fwcUserService.getActualFwSelectedCloud(),a).then(()=>{this.hideDialog(),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("PANELS.KEEPALIVED_RULE_PANEL.INFO.SAVE_RULE")}),this.fwcPolicyService.reloadPolicy(),this.store.dispatch(Nr.updateFwStatus({item:{cluster:this.clusterId,id:this.firewallId,status:3}}))}).catch(l=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),detail:this.fwcErrorPipe.transform(l)})}).finally(()=>{this.loadingData=!1,this.store.dispatch(Ei.requestUnblockUI())})}}handleCheckForm(e){e&&e.target&&this.formModel.valid&&(e.target.blur(),this.handleSave())}handleCancel(){this.hideDialog(),this.fwcPolicyService.reloadPolicy()}static{this.\u0275fac=function(t){return new(t||i)(b(At),b(Bt),b(Mt),b(Ie),b(rt),b(Fr),b(ct),b(Wi),b(Et),b(Pn),b(np),b(pt),b(Zt),b(si),b(Xe),b(ci),b(Yt))}}static{this.\u0275cmp=ie({type:i,selectors:[["sts-fwc-keepalived-rule-panel"]],features:[ve],decls:8,vars:9,consts:[["styleClass","dlgFwcDialog--system fwcObjectDialog---dhcp",3,"visibleChange","onShow","onHide","visible","modal","closable","draggable","resizable"],["pTemplate","header"],[3,"formGroup"],[3,"keyup.enter","keyup.esc","disabled"],[1,"grid"],[1,"col-12"],["pTemplate","footer"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"fwcMenuIcon","fa","fa-gear","fwcOrange"],[1,"col-12",2,"margin-bottom","10px"],[1,"p-inputgroup"],[1,"p-float-label"],["formControlName","keepalivedRuleTypes","styleClass","dropDownForm","appendTo","body","optionLabel","name","dataKey","id",3,"onChange","options","autoDisplayFirst"],[1,"fwcFloatLabel"],["formControlName","interface",3,"readOnly","groupType","msgNotAllowed"],[1,"fwc-error",3,"ngStyle"],["dropzone","move","formArrayName","virtualIps",3,"onVirtualIpChange","readOnly","groupType","msgNotAllowed"],["formControlName","masterNode",3,"readOnly","groupType","msgNotAllowed"],["for","cfg_text"],[1,"fwcTextArea"],["pInputTextarea","","formControlName","cfg_text","name","cfg_text",2,"height","120px",3,"drop"],[3,"message"],["type","button","pButton","","icon","pi pi-times",1,"p-button-secondary",3,"click","label"],["type","button","pButton","","icon","pi pi-check",1,"p-button-primary",3,"click","label","disabled"]],template:function(t,r){t&1&&(m(0,"p-dialog",0),Ve("visibleChange",function(s){return Ue(r.displayDialog,s)||(r.displayDialog=s),s}),P("onShow",function(){return!0})("onHide",function(){return!0}),I(1,kje,5,3,"ng-template",1),m(2,"form",2)(3,"fieldset",3),P("keyup.enter",function(s){return r.handleCheckForm(s)})("keyup.esc",function(){return r.handleCancel()}),m(4,"div",4),I(5,jje,15,12)(6,Hje,2,1,"div",5),_()()(),I(7,Gje,4,7,"ng-template",6),_()),t&2&&(Ne("visible",r.displayDialog),h("modal",!1)("closable",!1)("draggable",!0)("resizable",!0),u(2),h("formGroup",r.formModel),u(),h("disabled",r.loadingData),u(2),q(r.dataLoaded?5:-1),u(),q(!r.loadingData&&r.opMessage?6:-1))}})}}return i})();var rp=(()=>{class i extends Mi{constructor(e){super(e),this.httpClient=e,this._isHAProxyPolicy=new Cn(!1),this.isHAProxyPolicy$=this._isHAProxyPolicy.asObservable()}setIsHAProxyPolicy(e){this._isHAProxyPolicy.next(e)}getHAProxyPolicy(e,t){let r=`${ge.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/haproxyRules`;return this.httpClient.get(r).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIErrorNew))}getHAProxyPolicyGrid(e,t){let r=`${ge.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/haproxyRules/grid`;return this.httpClient.get(r).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIErrorNew))}newPolicyHAProxyRule(e,t,r){let o=`${ge.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/haproxyRules`;return this.httpClient.post(o,r).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIErrorNew))}updateHAProxyPolicyRule(e,t,r,o){let s=`${ge.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/haproxyRules/${r}`;return this.httpClient.put(s,o).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIErrorNew))}moveObjectBetweenPositions(e,t,r){let o=`${ge.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/haproxyRules/moveFrom`;return this.httpClient.put(o,r).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIErrorNew))}updateHAProxyPolicyRules(e,t,r,o){let s=r.map(c=>`rules[]=${c}`).join("&"),a=`${ge.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/haproxyRules/bulkUpdate?${s}`,l={active:o.active,style:o.style,group:o.group};return this.httpClient.put(a,l).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIErrorNew))}deleteHAProxyPolicyRule(e,t,r){let o=`${ge.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/haproxyRules/${r}`;return this.httpClient.delete(o).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIErrorNew))}deleteHAProxyPolicyRules(e,t,r){let o=r.map(a=>`rules[]=${a}`).join("&"),s=`${ge.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/haproxyRules/bulkRemove?${o}`;return this.httpClient.delete(s).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIErrorNew))}manageHAProxyPolicyRules(e,t,r,o,s,a){let l="copy",c=this.httpClient.post,d=o<0?"above":"below";a===ur.CUT&&(l="move",c=this.httpClient.put);let p=`${ge.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/haproxyRules/${l}`,g={to:r,offset:d,rules:s};return c.call(this.httpClient,p,g).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIErrorNew))}compileHAProxyPolicyRules(e,t,r){let o;if(r){let s=r.map(a=>`rules[]=${a}`).join("&");o=`${ge.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/haproxyRules/compile?${s}`}else o=`${ge.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/haproxyRules/compile`;return this.httpClient.get(o).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIErrorNew))}getHAProxyGroup(e,t,r){let o=`${ge.settings.fwcAppURL}/fwclouds/${e}/firewalls/${t}/system/haproxyGroups/${r}`;return this.httpClient.get(o).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIErrorNew))}checkGroupRestrictions(e){let{fwcloud:t,firewall:r,id:o}=e,s=`${ge.settings.fwcAppURL}/fwclouds/${t}/firewalls/${r}/system/haproxyGroups/${o}/restricted`;return this.httpClient.get(s).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIErrorNew))}newHAProxyPolicyRuleGroup(e,t,r,o,s){let a=`${ge.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/haproxyGroups`,l={name:r,comment:o,rules:s};return this.httpClient.post(a,l).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIErrorNew))}updateHAProxyPolicyRuleGroup(e,t,r,o){let s=`${ge.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/haproxyGroups/${r}`;return this.httpClient.put(s,o).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIErrorNew))}deleteHAProxyPolicyRulesGroup(e,t,r){let o=`${ge.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/haproxyGroups/${r}`;return this.httpClient.delete(o).pipe(W(this.handleAPIResponseNew),Z(this.handleAPIErrorNew))}installConfig(e,t,r,o){let s=`${ge.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/haproxyRules/install?channel_id=${r}`;return this.httpClient.put(s,JSON.stringify(o)).pipe(W(this.handleAPIResponse),Z(this.handleAPIError))}static{this.\u0275fac=function(t){return new(t||i)(ce(Yt))}}static{this.\u0275prov=_e({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var zje=["txtConfigFile"],Wje=()=>({width:"80vw"}),Mz=i=>({name:i}),Kje=i=>({visibility:i}),$je=()=>({width:"1.7rem",height:"1.7rem"});function qje(i,n){if(i&1&&(m(0,"h6",12),O(1,"i",13),D(2),R(3,"translate"),_()),i&2){let e=f(2);u(2),J(" ",Di(3,1,e.configManageTranslateKey+".FORM_HEADER",oe(4,Mz,e.objectToManage.firewall_name))," ")}}function Yje(i,n){if(i&1&&(m(0,"h6",12),O(1,"i",13),D(2),R(3,"translate"),_()),i&2){let e=f(2);u(2),J(" ",Di(3,1,e.configManageTranslateKey+".FORM_HEADER",oe(4,Mz,e.objectToManage.cluster_name))," ")}}function Jje(i,n){if(i&1&&(pe(0),m(1,"div",11),I(2,qje,4,6,"h6",12)(3,Yje,4,6,"h6",12),_(),he()),i&2){let e=f();u(2),q(e.objectToManage.cluster_id?-1:2),u(),q(e.objectToManage.cluster_id?3:-1)}}function Xje(i,n){if(i&1&&(m(0,"span"),O(1,"i",14),D(2,"\xA0"),m(3,"strong"),D(4),_()()),i&2){let e=f(2).$implicit;u(4),$(e.firewallName)}}function Qje(i,n){if(i&1&&(m(0,"span"),O(1,"span",15)(2,"i",16),D(3),_()),i&2){let e=f(2).$implicit;u(3),J("\xA0",e.firewallName,"")}}function Zje(i,n){if(i&1&&(m(0,"td"),I(1,Xje,5,1,"span")(2,Qje,4,1,"span"),_()),i&2){let e=f().$implicit;u(),q(e.isNode?-1:1),u(),q(e.isNode?2:-1)}}function eHe(i,n){if(i&1&&(m(0,"td"),O(1,"i",16),D(2),_()),i&2){let e=f().$implicit;u(2),J("\xA0",e.firewallName," ")}}function tHe(i,n){if(i&1&&(m(0,"tr",8),I(1,Zje,3,2,"td")(2,eHe,3,1,"td"),m(3,"td",7),O(4,"i"),_()()),i&2){let e=n.$implicit,t=f();h("ngClass",e.coloredBg?"bgColored":"bgNormal"),u(),q(e.clusterId!==null&&e.clusterId!==void 0?1:-1),u(),q(e.clusterId===null||e.clusterId===void 0?2:-1),u(2),le(t.FirewallOpsIcons[e.installState])}}function iHe(i,n){if(i&1){let e=B();m(0,"button",20),R(1,"translate"),P("click",function(){S(e);let r=f(2);return A(r.doStopProcess())}),_()}i&2&&ae("label",k(1,1,"GLOBALS.MSG_BUTTONS.STOP"))}function nHe(i,n){if(i&1){let e=B();m(0,"button",23),R(1,"translate"),P("click",function(){S(e);let r=f(3);return A(r.doPauseProcess(!0))}),_()}if(i&2){let e=f(3);ae("label",k(1,2,"COMPILE.PAUSE")),h("disabled",e.disableButtons)}}function rHe(i,n){if(i&1){let e=B();m(0,"button",24),R(1,"translate"),P("click",function(){S(e);let r=f(3);return A(r.doContinueProcess())}),_()}if(i&2){let e=f(3);ae("label",k(1,2,"COMPILE.CONTINUE")),h("disabled",e.disableButtons)}}function oHe(i,n){if(i&1&&I(0,nHe,2,4,"button",21)(1,rHe,2,4,"button",22),i&2){let e=f(2);q(!e.pauseProcess&&e.operationInProcessId<e.operationQueue.length?0:-1),u(),q(e.pauseProcess&&e.operationInProcessId<e.operationQueue.length?1:-1)}}function sHe(i,n){if(i&1){let e=B();m(0,"button",25),R(1,"translate"),P("click",function(){S(e);let r=f(2);return A(r.onCancel())}),_()}if(i&2){let e=f(2);ae("label",k(1,2,"GLOBALS.MSG_BUTTONS.CLOSE")),h("disabled",e.savingData||e.disableButtons)}}function aHe(i,n){if(i&1&&(m(0,"div",17),O(1,"p-progressSpinner"),_(),I(2,iHe,2,3,"button",18)(3,oHe,2,2)(4,sHe,2,4,"button",19)),i&2){let e=f();h("ngStyle",oe(6,Kje,e.savingData?"visible":"hidden")),u(),dt(Ae(8,$je)),u(),q(e.loadingData?2:-1),u(),q(e.objectToManage&&(e.operationQueue[e.operationInProcessId]==null?null:e.operationQueue[e.operationInProcessId].clusterId)!==null&&(e.operationQueue[e.operationInProcessId]==null?null:e.operationQueue[e.operationInProcessId].clusterId)!==void 0?3:-1),u(),q(e.object?-1:4)}}var lHe=6e4,Jm=(()=>{class i extends ei{constructor(e,t,r,o,s,a,l,c,d,p,g,C,y,v,w,E,T,F){super(r,t,e,o,a,l),this.itemSelectedService=e,this.appOptionsService=t,this.appDialogPanelsService=r,this.cd=o,this.translate=s,this.store=a,this.router=l,this.fwcFirewallService=c,this.utilService=d,this.fwcDhcpPolicyService=p,this.fwcKeepalivedPolicyService=g,this.fwcHAProxyPolicyService=C,this.fwcUserService=y,this.confirmationService=v,this.messageService=w,this.fwcEventService=E,this.fwcErrorPipe=T,this.inputDataService=F,this.restrictionsReadOnly=!1,this.ObjectTypes=L,this.FirewallOpsIcons=Vf,this.operationQueue=[],this.operationStatus={},this.pauseProcess=!1,this.disableButtons=!1,this.NodeTypes=H,this.alive=!0}ngOnInit(){return N(this,null,function*(){this.store.pipe(kt(()=>this.alive),zn(ec.selectDialogUuidsToReload)).subscribe(t=>{t&&t.find(r=>r===this.dialogUUID)&&this.reloadPanel()});let e=this.objectToManage;if(e.parent_type===L.OBJ_CLUSTER){let t;if(t=yield this.getClusterMasterFirewall(e.parent_id),t)e.firewall=t.id,e.firewall_name=t.name;else{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.translate.instant("CLUSTER.ERROR_MASTER_TEXT",{name:e.name})});return}}else e.firewall=e.parent_id})}ngOnDestroy(){super.ngOnDestroy()}startTimeoutHandler(){this.timeoutTimer&&(clearTimeout(this.timeoutTimer),this.timeoutTimer=null),this.timeoutTimer=setTimeout(()=>{this.eventsSubscription.unsubscribe(),this.doTimeoutOp()},lHe)}refreshTimeoutHandler(){this.timeoutTimer&&(clearTimeout(this.timeoutTimer),this.timeoutTimer=null),this.startTimeoutHandler()}reloadPanel(){if(this.displayDialog||this.dialogMinified){let e=this.itemSelectedService.getActualLastMinifiedDialogId();this.resetProperties(),this.dialogId===e&&(this.showDialog(),this.itemSelectedService.setLastMinifiedDialogId(void 0)),this.store.dispatch(gn.reloadDialogFinished({dialogUuid:this.dialogUUID}))}}resetProperties(){this.savingData=!1,this.loadingData=!1,this.disableButtons=!1,this.object=this.objectToManage=null,this.remoteOptions=[],this.errorMsg=null}onItemManage(e,t){return N(this,null,function*(){if(!e)return;let r,o,s,a=[],l=this.fwcUserService.getActualFwSelectedCloud();this.objectToManage=e,e._fwcObjType===Si[H.DHCP]?(this.configManageTranslateKey="DHCP.CONFIG",this.configManageAPICall=this.fwcDhcpPolicyService.installConfig.bind(this.fwcDhcpPolicyService)):e._fwcObjType===Si[H.KEEPALIVED]?(this.configManageTranslateKey="KEEPALIVED.CONFIG",this.configManageAPICall=this.fwcKeepalivedPolicyService.installConfig.bind(this.fwcKeepalivedPolicyService)):e._fwcObjType===Si[H.HAPROXY]&&(this.configManageTranslateKey="HAPROXY.CONFIG",this.configManageAPICall=this.fwcHAProxyPolicyService.installConfig.bind(this.fwcHAProxyPolicyService)),this.eventsSubscription&&this.eventsSubscription.unsubscribe(),this.showDialog(),t&&this.recenterDialog(),this.channel_id=vo(),this.utilService.ioListenOnLogEvent(this.channel_id),this.eventsSubscription=this.fwcEventService.getEvent().pipe(kt(()=>this.displayDialog)).subscribe(c=>{let d=new ls(c),p;d.payload.type===ut.MSG_ERROR&&(p=this.utilService.isCommunicationErrorStr(d.payload.message),this.pauseProcess=!0,this.loadingData=!1,this.timeoutTimer&&(clearTimeout(this.timeoutTimer),this.timeoutTimer=null),this.operationWithErrors=!0),p?this.continueButtonText=this.translate.instant("COMPILE.RETRY"):(this.log.addNewMessage(d),this.continueButtonText=this.translate.instant("COMPILE.CONTINUE"))}),e.parent_type===L.OBJ_CLUSTER?(s=this.fwcFirewallService.getClusterNodes.bind(this.fwcFirewallService),o=e.parent_id,r=!0):e.parent_type===L.OBJ_FIREWALL&&(s=this.fwcFirewallService.getFirewall.bind(this.fwcFirewallService),o=e.firewall_id,r=!1),s&&s(o,l).subscribe(c=>N(this,null,function*(){c.data&&c.data instanceof Array?a=c.data:c.data?(a=[],a.push(c.data)):a=[],this.operationQueue=[];let d;r&&(d={clusterId:o,firewallId:o,firewallName:e._fwcClusterName,installState:on.FW_DISABLED,opInstalled:!1},this.operationQueue.push(Object.assign({},d)));for(let p=0;p<a.length;p++){let g=a[p];d={clusterId:g.cluster,clusterName:e._fwcClusterName,isNode:!!g.cluster,firewallId:a[p].id,firewallName:a[p].name,installState:on.FW_PENDING,opInstalled:!1,installCommunication:a[p].install_communication,installProtocol:a[p].install_protocol,installApikey:a[p].install_apikey},this.operationQueue.push(Object.assign({},d))}this.operationInProcessId=0,this.processOperation(!0)}),c=>{c.error&&c.error.fwcErr!==1002&&this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(c)}),this.eventsSubscription.unsubscribe(),this.loadingData=!1})})}doTimeoutOp(){this.timeoutTimer&&(clearTimeout(this.timeoutTimer),this.timeoutTimer=null),this.pauseProcess=!0,this.loadingData=!1,this.disableButtons=!1,this.log&&(this.log.stopDataLoad(),this.addMessageToLog(this.translate.instant("COMPILE.WARN_TIMEOUT"),ut.MSG_WARNING)),this.communicationAPISubscription&&(this.communicationAPISubscription.unsubscribe(),this.communicationAPISubscription=null),this.eventsSubscription&&(this.eventsSubscription.unsubscribe(),this.eventsSubscription=null)}doPauseProcess(e){this.pauseProcess=!0,this.loadingData=!1,this.disableButtons=!1,this.timeoutTimer&&(clearTimeout(this.timeoutTimer),this.timeoutTimer=null),e&&this.addMessageToLog(this.translate.instant("COMPILE.WARN_PAUSE"),ut.MSG_WARNING)}doContinueProcess(){this.pauseProcess=!1,this.operationQueue&&this.operationQueue[this.operationInProcessId].clusterId!==null&&this.operationQueue[this.operationInProcessId].clusterId!==void 0&&this.processOperation()}processOperation(e){let t;if(!this.pauseProcess&&this.operationQueue&&this.operationInProcessId<this.operationQueue.length){let r=this.operationQueue[this.operationInProcessId];if(!r)return;if(this.operationWithErrors=!1,r.clusterId!==null&&r.clusterId!==void 0?t=this.translate.instant("COMPILE.INST_CLUSTER_NODE",{clusterName:r.clusterName,firewallName:r.firewallName}):t=this.translate.instant("COMPILE.INST_FW",{firewallName:r.firewallName}),r.installState===on.FW_PENDING){r.installState=on.FW_PROCESSING,e||this.addMessageToLog("",ut.MSG_SEPARATOR),this.addMessageToLog(this.translate.instant(this.configManageTranslateKey+".START",{name:t}),ut.MSG_INFO);let o={firewall_id:r.firewallId,interface_name:r.installInterfaceName,ip_name:void 0};this.disableButtons=!0,this.loadingData=!0,this.refreshTimeoutHandler(),this.manageConfig(o).catch(s=>{t=this.translate.instant("COMPILE.INST_FW_ERROR_TEXT",{name:r.firewallName,error:s})})}else this.operationInProcessId++,this.processOperation(e)}}manageConfig(e){return N(this,null,function*(){let t,r;if(this.operationQueue&&this.operationInProcessId<this.operationQueue.length&&(r=this.operationQueue[this.operationInProcessId]),!(!r||!this.configManageAPICall))if(r.clusterId!==null&&r.clusterId!==void 0?t=`cluster ${r.clusterId} - firewall ${r.firewallId} (${r.firewallName})`:t=`firewall ${r.firewallId} (${r.firewallName})`,this.disableButtons=!1,e){this.startTimeoutHandler(),this.log.startDataLoad(),this.disableButtons=!0,this.loadingData=!0;let o=yield this.fwcFirewallService.getFirewall(e.firewall_id,this.fwcUserService.getActualFwSelectedCloud()).toPromise(),s;try{o.data.ip===null||o.data.ip===void 0||o.data.install_interface===null||o.data.install_interface===void 0?this.confirmationService.confirm({key:"cdErrorFw",header:this.translate.instant("COMPILE.INST_SSH_ERROR"),message:this.translate.instant("COMPILE.INST_SSH_ERROR_TEXT",{name:o.data.name}),reject:()=>{this.doPauseProcess()},accept:()=>{this.pauseProcess=!0,this.disableButtons=!1,this.loadingData=!1,s=!1;let a=this.translate.instant("COMPILE.INST_FW_ERROR_IP");this.addMessageToLog(this.translate.instant("COMPILE.INST_CONFIG_ERROR",{name:o.data.firewall_name,error:a}),ut.MSG_ERROR)}}):s=!0}catch(a){if(a.message==="Missing ip/interface")return}s&&(this.communicationAPISubscription=this.utilService.fwcAPICallObservable(this.configManageAPICall,e.firewall_id,this.fwcUserService.getActualFwSelectedCloud(),this.channel_id).subscribe({next:()=>{this.disableButtons=!1,r.installState=on.FW_OK,this.log&&this.log.stopDataLoad(),this.operationWithErrors?this.addMessageToLog(this.translate.instant("VPN.CONFIG.ERRORS.OPERATION_ERRORS"),ut.MSG_ERROR):(this.addMessageToLog(this.translate.instant(this.configManageTranslateKey+".COMPLETED"),ut.MSG_OK),this.timeoutTimer&&(clearTimeout(this.timeoutTimer),this.timeoutTimer=null)),this.operationInProcessId++,this.operationQueue&&this.operationInProcessId<this.operationQueue.length&&this.processOperation(),this.loadingData=!1},error:a=>{if(this.disableButtons=!1,this.loadingData=!1,this.log.stopDataLoad(),a.status===403){this.timeoutTimer&&(clearTimeout(this.timeoutTimer),this.timeoutTimer=null);return}this.installConfigError=a.error.msg?a.error.msg:a.error.message,this.installConfigError=JSON.parse(this.installConfigError)?JSON.parse(this.installConfigError).message:this.installConfigError,a.error&&this.installConfigError==="EPROTO: Protocol error"&&a.status===400?this.addMessageToLog(this.translate.instant("DHCP.CONFIG.ERRORS.PROTOCOL_ERROR"),ut.MSG_ERROR):a.error&&this.installConfigError==="Method not implemented."&&a.status===500?(this.addMessageToLog(this.translate.instant("DHCP.CONFIG.ERRORS.METHOD_NOT_IMPLEMENTED"),ut.MSG_ERROR),this.doContinueProcess()):a.error&&this.installConfigError==="ETIMEDOUT: IP is not valid"&&a.status===400?(this.addMessageToLog(this.translate.instant("DHCP.CONFIG.ERRORS.IP_NOT_VALID"),ut.MSG_ERROR),this.doContinueProcess()):a.error&&this.installConfigError==="ECONNREFUSED: Port is not valid"&&a.status===400?(this.addMessageToLog(this.translate.instant("DHCP.CONFIG.ERRORS.INVALID_PORT"),ut.MSG_ERROR),this.doContinueProcess()):a.error&&this.installConfigError==="Request failed with status code 404"&&a.status===500&&(this.addMessageToLog(this.translate.instant("DHCP.CONFIG.ERRORS.INTERNAL_SERVER"),ut.MSG_ERROR),this.doContinueProcess()),this.operationInProcessId<this.operationQueue.length-1?this.doPauseProcess():(this.timeoutTimer&&(clearTimeout(this.timeoutTimer),this.timeoutTimer=null),this.doContinueProcess())}}))}else r.installState=on.FW_WARNING,this.addMessageToLog(this.translate.instant("COMPILE.INST_WARNING",{name:t}),ut.MSG_ERROR),this.operationInProcessId++,this.processOperation()})}onShowDialog(){this.recenterDialog(),this.showDialog()}onCancel(e){!e&&this.formModel&&!this.formModel.pristine&&this.formModel.valid?this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_CONFIRM"),icon:"fa fa-question-circle fwcBlue iconBig",message:this.translate.instant("DHCP.CONFIG.EXIT_PANEL"),accept:()=>{this.onCancel(!0)},rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES")}):(this.hideDialog(),this.log&&this.log.clearMessages(),this.operationQueue=[],this.operationInProcessId=void 0,this.pauseProcess=!1,this.eventsSubscription&&this.eventsSubscription.unsubscribe(),this.communicationAPISubscription&&(this.communicationAPISubscription.unsubscribe(),this.communicationAPISubscription=null),this.objectToManage&&this.itemSelectedService.setModifiedItem({_fwcTreeAction:mn.RELOAD_TREE,containerToReload:this.objectToManage.container}),this.resetProperties())}doStopProcess(){this.pauseProcess=!0,this.loadingData=!1,this.disableButtons=!1,this.log&&(this.log.stopDataLoad(),this.addMessageToLog(this.translate.instant("DHCP.CONFIG.STOP"),ut.MSG_WARNING)),this.timeoutTimer&&(clearTimeout(this.timeoutTimer),this.timeoutTimer=null),this.communicationAPISubscription&&(this.communicationAPISubscription.unsubscribe(),this.communicationAPISubscription=null),this.eventsSubscription&&(this.eventsSubscription.unsubscribe(),this.eventsSubscription=null)}getClusterMasterFirewall(e){return new Promise((t,r)=>{this.fwcFirewallService.getClusterMasterNode(e,this.fwcUserService.getActualFwSelectedCloud()).subscribe(o=>{let s;s=o.data,t(s)},o=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(o)}),r()})})}static{this.\u0275fac=function(t){return new(t||i)(b(At),b(Bt),b(Mt),b(Ie),b(Xe),b(rt),b(ct),b(Zt),b(Et),b(Qu),b(np),b(rp),b(pt),b(si),b(ci),b(Vn),b(Wi),b(Ro))}}static{this.\u0275cmp=ie({type:i,selectors:[["sts-fwc-system-install-panel"]],viewQuery:function(t,r){if(t&1&&(de(zje,5),de(cs,5)),t&2){let o;ee(o=te())&&(r.txtConfigFile=o.first),ee(o=te())&&(r.log=o.first)}},inputs:{restrictionsReadOnly:"restrictionsReadOnly"},features:[ve],decls:22,vars:13,consts:[["dlgOVConfigPanel",""],["styleClass","dlgFwcDialog fwcObjectDialog",3,"visibleChange","onShow","onHide","visible","modal","resizable","closable"],["pTemplate","header"],[1,"grid","grid","grid-nogutter"],[1,"col-4"],[1,"divTableScroll"],[1,"tableFw","unstriped"],[1,"fwc-centered"],[3,"ngClass"],[1,"col-8"],["pTemplate","footer"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"fwci-edit","fwcOrange"],[1,"fwcMenuIcon","fwci-cluster","fwcOrange"],[1,"fwcSepShort"],[1,"fwcMenuIcon","fwci-firewall","fwcBlue"],[1,"divLoadTemp",3,"ngStyle"],["type","button","pButton","","icon","fa fa-xmark",1,"p-button-danger",3,"label"],["pButton","","icon","pi pi-times",1,"p-button-primary",3,"disabled","label"],["type","button","pButton","","icon","fa fa-xmark",1,"p-button-danger",3,"click","label"],["type","button","pButton","","icon","fa fa-pause",1,"p-button-warning",3,"disabled","label"],["type","button","pButton","","icon","fa fa-play",1,"p-button-success",3,"disabled","label"],["type","button","pButton","","icon","fa fa-pause",1,"p-button-warning",3,"click","disabled","label"],["type","button","pButton","","icon","fa fa-play",1,"p-button-success",3,"click","disabled","label"],["pButton","","icon","pi pi-times",1,"p-button-primary",3,"click","disabled","label"]],template:function(t,r){if(t&1){let o=B();m(0,"p-dialog",1,0),Ve("visibleChange",function(a){return S(o),Ue(r.displayDialog,a)||(r.displayDialog=a),A(a)}),P("onShow",function(){return S(o),A(r.onShowDialog())})("onHide",function(){return S(o),A(r.hideDialog())}),I(2,Jje,4,2,"ng-template",2),pe(3),m(4,"div",3)(5,"div",4)(6,"div",5)(7,"table",6)(8,"thead")(9,"tr")(10,"th"),D(11),R(12,"translate"),_(),m(13,"th",7),D(14),R(15,"translate"),_()()(),m(16,"tbody"),jr(17,tHe,5,6,"tr",8,Ur),_()()()(),m(19,"div",9),O(20,"sts-fwc-log"),_()(),he(),I(21,aHe,5,9,"ng-template",10),_()}t&2&&(dt(Ae(12,Wje)),Ne("visible",r.displayDialog),h("modal",!0)("resizable",!0)("closable",!1),u(11),$(k(12,8,"COMPILE.FORM.NAME")),u(3),J(" ",k(15,10,r.configManageTranslateKey+".OPERATION")," "),u(3),Hr(r.operationQueue))}})}}return i})();var fS=()=>({visibility:"hidden"});function cHe(i,n){i&1&&(m(0,"div",7)(1,"h6",8),O(2,"i",9),D(3),R(4,"translate"),_()()),i&2&&(u(3),J(" ",k(4,1,"PANELS.HAPROXY_RULE_PANEL.TITLE")," "))}function dHe(i,n){if(i&1){let e=B();m(0,"div",5)(1,"div",11)(2,"span",12)(3,"sts-fwc-object-group",15),R(4,"translate"),P("onHAProxyIpChange",function(r){S(e);let o=f(2);return A(o.handleOnFrontendIpChange(r))}),_(),m(5,"label",14),D(6),R(7,"translate"),_()()(),O(8,"p",16),_()}if(i&2){let e=f(2);u(3),ae("msgNotAllowed",k(4,5,"PANELS.HAPROXY_RULE_PANEL.ERRORS.INVALID_FROM")),h("readOnly",!1)("groupType",e.ObjectTypes.OBJ_HAPROXY_RULE_FRONTEND_IP),u(3),$(k(7,7,"ITEM_PANEL.FIELDS.FRONTEND_IP")),u(2),h("ngStyle",Ae(9,fS))}}function uHe(i,n){if(i&1&&(m(0,"div",5)(1,"div",11)(2,"span",12),O(3,"sts-fwc-object-group",17),R(4,"translate"),m(5,"label",14),D(6),R(7,"translate"),_()()(),O(8,"p",16),_()),i&2){let e=f(2);u(3),ae("msgNotAllowed",k(4,5,"PANELS.HAPROXY_RULE_PANEL.ERRORS.INVALID_FROM")),h("readOnly",!1)("groupType",e.ObjectTypes.OBJ_HAPROXY_RULE_FRONTEND_PORT),u(3),$(k(7,7,"ITEM_PANEL.FIELDS.FRONTEND_PORT")),u(2),h("ngStyle",Ae(9,fS))}}function pHe(i,n){if(i&1){let e=B();m(0,"div",5)(1,"div",11)(2,"span",12)(3,"sts-fwc-object-group",18),R(4,"translate"),P("onHAProxyIpChange",function(r){S(e);let o=f(2);return A(o.handleOnBackendIpChange(r))}),_(),m(5,"label",14),D(6),R(7,"translate"),_()()(),O(8,"p",16),_()}if(i&2){let e=f(2);u(3),ae("msgNotAllowed",k(4,5,"PANELS.HAPROXY_RULE_PANEL.ERRORS.INVALID_FROM")),h("readOnly",!1)("groupType",e.ObjectTypes.OBJ_HAPROXY_RULE_BACKEND_IPS),u(3),$(k(7,7,"ITEM_PANEL.FIELDS.BACKEND_IPS")),u(2),h("ngStyle",Ae(9,fS))}}function hHe(i,n){if(i&1&&(m(0,"div",5)(1,"div",11)(2,"span",12),O(3,"sts-fwc-object-group",19),R(4,"translate"),m(5,"label",14),D(6),R(7,"translate"),_()()(),O(8,"p",16),_()),i&2){let e=f(2);u(3),ae("msgNotAllowed",k(4,5,"PANELS.HAPROXY_RULE_PANEL.ERRORS.INVALID_FROM")),h("readOnly",!1)("groupType",e.ObjectTypes.OBJ_HAPROXY_RULE_BACKEND_PORT),u(3),$(k(7,7,"ITEM_PANEL.FIELDS.BACKEND_PORT")),u(2),h("ngStyle",Ae(9,fS))}}function fHe(i,n){if(i&1){let e=B();m(0,"div",5)(1,"label",20),D(2),R(3,"translate"),_(),m(4,"div",21)(5,"textarea",22),P("drop",function(r){S(e);let o=f(2);return A(o.preventDrop(r))}),_()()()}i&2&&(u(2),$(k(3,1,"ITEM_PANEL.FIELDS.CFG_TEXT")))}function mHe(i,n){if(i&1){let e=B();O(0,"div",5),m(1,"div",10)(2,"div",11)(3,"span",12)(4,"p-dropdown",13),P("onChange",function(r){S(e);let o=f();return A(o.toggleFields(r.value))}),_(),m(5,"label",14),D(6),R(7,"translate"),_()()()(),I(8,dHe,9,10,"div",5)(9,uHe,9,10,"div",5)(10,pHe,9,10,"div",5)(11,hHe,9,10,"div",5)(12,fHe,6,3,"div",5)}if(i&2){let e=f();u(4),h("options",e.HAProxyRuleTypes)("autoDisplayFirst",!1),u(2),$(k(7,8,"HAPROXY.NEW_RULE_PANEL.TYPES")),u(2),q(e.HAProxyRuleSelected()?8:-1),u(),q(e.HAProxyRuleSelected()?9:-1),u(),q(e.HAProxyRuleSelected()?10:-1),u(),q(e.HAProxyRuleSelected()?11:-1),u(),q(e.HAProxyManualConfigRuleSelected()||e.isDefaultConfigRuleSelected()?12:-1)}}function gHe(i,n){if(i&1&&(m(0,"div",5),O(1,"sts-fwc-message",23),_()),i&2){let e=f();u(),h("message",e.opMessage)}}function _He(i,n){if(i&1){let e=B();m(0,"button",24),R(1,"translate"),P("click",function(){S(e);let r=f();return A(r.handleCancel())}),_(),m(2,"button",25),R(3,"translate"),P("click",function(){S(e);let r=f();return A(r.handleSave())}),_()}if(i&2){let e=f();ae("label",k(1,3,"GLOBALS.MSG_BUTTONS.CANCEL")),u(2),ae("label",k(3,5,"GLOBALS.MSG_BUTTONS.SAVE")),h("disabled",!e.formModel.valid||e.formModel.pristine||e.loadingData)}}var Nz=(()=>{class i extends ei{constructor(e,t,r,o,s,a,l,c,d,p,g,C,y,v,w,E,T){super(r,t,e,o,s,l),this.itemSelectedService=e,this.appOptionsService=t,this.appDialogPanelsService=r,this.cd=o,this.store=s,this.fb=a,this.router=l,this.fwcErrorPipe=c,this.utilService=d,this.fwcPolicyService=p,this.fwcHAProxyPolicyService=g,this.fwcUserService=C,this.fwcFirewallService=y,this.confirmationService=v,this.translate=w,this.messageService=E,this.http=T,this.ObjectTypes=L,this.defaultConfigTextSet=!1,this.loadingData=!1,this.dataLoaded=!1,this.HAProxyRuleTypes=[{id:0,name:this.translate.instant("HAPROXY.NEW_RULE_PANEL.HAPROXY_RULE"),rule_type:1},{id:1,name:this.translate.instant("HAPROXY.NEW_RULE_PANEL.HAPROXY_MANUAL"),rule_type:2},{id:2,name:this.translate.instant("HAPROXY.NEW_RULE_PANEL.HAPROXY_DEFAULT"),rule_type:2}]}ngOnInit(){this.formModel=this.fb.group({HAProxyRuleTypes:new Se,HAProxyRule:new Se,HAProxyManualConfigRule:new Se,HAProxyDefaultConfigRule:new Se,frontendIp:new Se,frontendPort:new Se,backendIps:this.fb.array([]),backendPort:new Se,cfg_text:new Se}),this.formModel.get("HAProxyRuleTypes").valueChanges.subscribe(e=>{this.toggleFields(e),this.formModel.updateValueAndValidity()}),this.formModel.setValidators([this.validateHAProxyRuleFields.bind(this)])}toggleFields(e){let t=this.formModel.get("frontendIp"),r=this.formModel.get("frontendPort"),o=this.formModel.get("backendIps"),s=this.formModel.get("backendPort"),a=this.formModel.get("cfg_text");if(t.reset(),r.reset(),s.reset(),a.reset(),e&&e.rule_type===1)for(t.enable(),r.enable(),s.enable(),a.disable();o.length!==0;)o.removeAt(0);else e&&e.rule_type===2?(a.enable(),t.disable(),r.disable(),s.disable(),o.controls.forEach(l=>{l.disable()})):e&&e.rule_type===2&&e==="HAProxyDefaultConfigRule"&&a.enable()}validateHAProxyRuleFields(){let e=this.formModel.get("HAProxyRuleTypes").value,t=this.formModel.get("frontendIp"),r=this.formModel.get("frontendPort"),o=this.formModel.get("backendIps"),s=this.formModel.get("backendPort"),a=this.formModel.get("cfg_text");return e&&e.rule_type===1?!t.value||!r.value||o.length===0||!s.value?{requiredFieldsMissing:!0}:null:(e&&e.rule_type===2&&a.value,null)}addFrontendIp(e){this.formModel.get("frontendIp").setValue(e)}addBackendIp(e){let t=this.fb.control(e);t.setValue(e),this.formModel.get("backendIps").push(t)}handleOnBackendIpChange(e){this.addBackendIp(e.id)}handleOnFrontendIpChange(e){this.addFrontendIp(e.id)}HAProxyRuleSelected(){let e=this.formModel.get("HAProxyRuleTypes").value;return e&&e.name===this.translate.instant("HAPROXY.NEW_RULE_PANEL.HAPROXY_RULE")&&e.rule_type===1}HAProxyManualConfigRuleSelected(){let e=this.formModel.get("HAProxyRuleTypes").value;return e&&e.name===this.translate.instant("HAPROXY.NEW_RULE_PANEL.HAPROXY_MANUAL")&&e.rule_type===2}isDefaultConfigRuleSelected(){let e=this.formModel.get("HAProxyRuleTypes").value,t=e&&e.name===this.translate.instant("HAPROXY.NEW_RULE_PANEL.HAPROXY_DEFAULT");return t&&!this.defaultConfigTextSet?(this.setHAProxyConfigText(),this.defaultConfigTextSet=!0):t||(this.defaultConfigTextSet=!1),t}loadHAProxyConfigFile(){return N(this,null,function*(){try{return yield this.http.get("assets/config/system/HAProxy-DEFAULT.conf",{responseType:"text"}).toPromise()}catch(e){throw this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),detail:this.fwcErrorPipe.transform(e)}),e}})}setHAProxyConfigText(){return N(this,null,function*(){try{let e=yield this.loadHAProxyConfigFile();this.formModel.get("cfg_text").setValue(e)}catch(e){this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),detail:this.fwcErrorPipe.transform(e)})}})}showNewRuleDialog(e,t,r,o){this.clusterId=e,this.firewallId=t,this.baseRuleId=r,this.newRuleOffset=o,e?this.fwcFirewallService.getCluster.bind(this.fwcFirewallService)(e,this.fwcUserService.getActualFwSelectedCloud()).subscribe(s=>{this.clusterId=s.data.id,this.displayDialog=!0}):this.fwcFirewallService.getFirewall.bind(this.fwcFirewallService)(t,this.fwcUserService.getActualFwSelectedCloud()).subscribe(s=>{this.firewallId=s.data.id,this.displayDialog=!0}),this.dataLoaded=!0}handleSave(){if(this.formModel.valid){this.store.dispatch(Ei.requestBlockUI());let{comment:e}=this.formModel.value,t=this.newRuleOffset<1?"above":"below",r=this.HAProxyRuleTypes[0].rule_type,o=this.HAProxyRuleTypes[1].rule_type,s=this.HAProxyRuleTypes[2].rule_type,a={firewallId:this.firewallId,to:this.baseRuleId,offset:t,style:void 0,comment:e};if(this.HAProxyRuleSelected()){a.frontendIpId=this.formModel.controls.frontendIp.value,a.frontendPortId=this.formModel.controls.frontendPort.value.id,a.backendPortId=this.formModel.controls.backendPort.value.id,a.rule_type=r;let l=[];Array.isArray(this.formModel.get("backendIps").value)&&this.formModel.get("backendIps").value.forEach((c,d)=>{l.push({id:c,order:d+1})}),a.backendIpsIds=l}else this.HAProxyManualConfigRuleSelected()?(a.rule_type=o,a.cfg_text=this.formModel.controls.cfg_text.value):this.isDefaultConfigRuleSelected()&&(a.rule_type=s,a.cfg_text=this.formModel.controls.cfg_text.value);this.loadingData=!0,this.store.dispatch(Ei.requestBlockUI()),this.utilService.fwcAPICall(this.fwcHAProxyPolicyService.newPolicyHAProxyRule.bind(this.fwcHAProxyPolicyService),this.firewallId,this.fwcUserService.getActualFwSelectedCloud(),a).then(()=>{this.hideDialog(),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("PANELS.HAPROXY_RULE_PANEL.INFO.SAVE_RULE")}),this.fwcPolicyService.reloadPolicy(),this.store.dispatch(Nr.updateFwStatus({item:{cluster:this.clusterId,id:this.firewallId,status:3}}))}).catch(l=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),detail:this.fwcErrorPipe.transform(l)})}).finally(()=>{this.loadingData=!1,this.store.dispatch(Ei.requestUnblockUI())})}}handleCheckForm(e){e&&e.target&&this.formModel.valid&&(e.target.blur(),this.handleSave())}handleCancel(){this.hideDialog(),this.fwcPolicyService.reloadPolicy()}static{this.\u0275fac=function(t){return new(t||i)(b(At),b(Bt),b(Mt),b(Ie),b(rt),b(Fr),b(ct),b(Wi),b(Et),b(Pn),b(rp),b(pt),b(Zt),b(si),b(Xe),b(ci),b(Yt))}}static{this.\u0275cmp=ie({type:i,selectors:[["sts-fwc-haproxy-rule-panel"]],features:[ve],decls:8,vars:9,consts:[["styleClass","dlgFwcDialog--system fwcObjectDialog--dhcp",3,"visibleChange","onShow","onHide","visible","modal","closable","draggable","resizable"],["pTemplate","header"],[3,"formGroup"],[3,"keyup.enter","keyup.esc","disabled"],[1,"grid"],[1,"col-12"],["pTemplate","footer"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"fwcMenuIcon","fa","fa-gear","fwcOrange"],[1,"col-12",2,"margin-bottom","10px"],[1,"p-inputgroup"],[1,"p-float-label"],["formControlName","HAProxyRuleTypes","styleClass","dropDownForm","appendTo","body","optionLabel","name","dataKey","id",3,"onChange","options","autoDisplayFirst"],[1,"fwcFloatLabel"],["formControlName","frontendIp",3,"onHAProxyIpChange","readOnly","groupType","msgNotAllowed"],[1,"fwc-error",3,"ngStyle"],["formControlName","frontendPort",3,"readOnly","groupType","msgNotAllowed"],["formArrayName","backendIps",3,"onHAProxyIpChange","readOnly","groupType","msgNotAllowed"],["formControlName","backendPort",3,"readOnly","groupType","msgNotAllowed"],["for","cfg_text"],[1,"fwcTextArea"],["pInputTextarea","","formControlName","cfg_text","name","cfg_text",2,"height","120px",3,"drop"],[3,"message"],["type","button","pButton","","icon","pi pi-times",1,"p-button-secondary",3,"click","label"],["type","button","pButton","","icon","pi pi-check",1,"p-button-primary",3,"click","label","disabled"]],template:function(t,r){t&1&&(m(0,"p-dialog",0),Ve("visibleChange",function(s){return Ue(r.displayDialog,s)||(r.displayDialog=s),s}),P("onShow",function(){return!0})("onHide",function(){return!0}),I(1,cHe,5,3,"ng-template",1),m(2,"form",2)(3,"fieldset",3),P("keyup.enter",function(s){return r.handleCheckForm(s)})("keyup.esc",function(){return r.handleCancel()}),m(4,"div",4),I(5,mHe,13,10)(6,gHe,2,1,"div",5),_()()(),I(7,_He,4,7,"ng-template",6),_()),t&2&&(Ne("visible",r.displayDialog),h("modal",!1)("closable",!1)("draggable",!0)("resizable",!0),u(2),h("formGroup",r.formModel),u(),h("disabled",r.loadingData),u(2),q(r.dataLoaded?5:-1),u(),q(!r.loadingData&&r.opMessage?6:-1))}})}}return i})();var gk=class{constructor(){this.data={action:"move",clone:null,dropPos:-1,handle:null,source:null,sourceCtrl:null,sourceData:null,sourceIndex:-1,target:null,targetCtrl:null,type:""}}clearData(){this.data={action:"move",clone:null,dropPos:-1,handle:null,source:null,sourceCtrl:null,sourceData:null,sourceIndex:-1,target:null,targetCtrl:null,type:""}}getData(){return this.data}setData(n){n&&(n.action&&(this.data.action=n.action),isNaN(n.dropPos)||(this.data.dropPos=n.dropPos),isNaN(n.sourceIndex)||(this.data.sourceIndex=n.sourceIndex),this.data.clone=n.clone!==void 0?n.clone:null,this.data.source=n.source!==void 0?n.source:null,this.data.handle=n.handle!==void 0?n.handle:null,this.data.sourceCtrl=n.sourceCtrl!==void 0?n.sourceCtrl:null,this.data.sourceData=n.sourceData!==void 0?n.sourceData:null,this.data.target=n.target!==void 0?n.target:null,this.data.targetCtrl=n.targetCtrl!==void 0?n.targetCtrl:null,this.data.type=n.type!==void 0?n.type:"")}checkHit(n,e,t){return n>=t.left&&n<=t.right&&e>=t.top&&e<=t.bottom}getDropPos(n,e,t,r){return r==="horizontal"?this.getDropPosHorizontal(n,e,t):this.getDropPosVertical(n,e,t)}getDropPosHalf(n,e,t){let r={left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height};switch(t){case"full":if(this.checkHit(n.x,n.y,r))return 0;break;case"horizontal":if(r.right=e.x+e.width/2,this.checkHit(n.x,n.y,r))return 1;if(r.left=r.right,r.right=e.x+e.width,this.checkHit(n.x,n.y,r))return 2;break;default:if(r.bottom=e.y+e.height/2,this.checkHit(n.x,n.y,r))return 1;if(r.top=r.bottom,r.bottom=e.y+e.height,this.checkHit(n.x,n.y,r))return 2}return-1}getDropPosHorizontal(n,e,t){if(t)return this.getDropPosHalf(n,e,"horizontal");{let r={left:e.x+e.width/4,top:e.y,right:e.x+3*e.width/4,bottom:e.y+e.height};if(this.checkHit(n.x,n.y,r))return 0;if(r.right=r.left,r.left=e.x,this.checkHit(n.x,n.y,r))return 1;if(r.left=e.x+3*e.width/4,r.right=e.x+e.width,this.checkHit(n.x,n.y,r))return 2}return-1}getDropPosVertical(n,e,t){if(t)return this.getDropPosHalf(n,e,"vertical");{let r={left:e.x,top:e.y+e.height/4,right:e.x+e.width,bottom:e.y+3*e.height/4};if(this.checkHit(n.x,n.y,r))return 0;if(r.bottom=r.top,r.top=e.y,this.checkHit(n.x,n.y,r))return 1;if(r.top=e.y+3*e.height/4,r.bottom=e.y+e.height,this.checkHit(n.x,n.y,r))return 2}return-1}},CHe=function(){var i;return{getInstance:function(){return i==null&&((i=new gk).constructor=null),i}}}(),Vz=CHe;var _k=class{isString(n){return n?typeof n=="string"||n instanceof String:!1}_isFilterCondition(n){return n==="a"||n==="b"||n==="c"||n==="d"||n==="e"||n==="f"||n==="g"||n==="h"||n==="i"||n==="j"||n==="k"||n==="l"||n==="m"||n==="n"||n==="o"||n==="p"||n==="q"||n==="r"||n==="s"||n==="t"||n==="u"||n==="v"||n==="w"||n==="x"||n==="y"||n==="z"}beginsWith(n,e,t){return n!==void 0&&e!==void 0&&this.isString(n)&&this.isString(e)&&n.length>=e.length?t!==!1?n.substring(0,e.length)===e:n.toLowerCase().substring(0,e.length)===e.toLowerCase():!1}endsWith(n,e,t){return n!==void 0&&e!==void 0&&this.isString(n)&&this.isString(e)&&n.length>=e.length?t!==!1?n.substring(n.length-e.length,n.length)===e:n.toLowerCase().substring(n.length-e.length,n.length)===e.toLowerCase():!1}_getFilterCondition(n,e){let t="abcdefghijklmnopqrstuvwxyz".indexOf(e);return n&&t>=0&&t<n.length?n[t]:null}_createFilterNode(){return{result:!1}}_setFilterNode(n,e,t,r){let o=this._createFilterNode();o.condition=this._getFilterCondition(e,t),o.negative=r,n.left?n.right||(n.right=o):n.left=o}_getMatchResult(n,e,t,r,o){let s=!1;if(n!==void 0&&t!==void 0){switch(e){case">":s=n>t;break;case">=":s=n>=t;break;case"<":s=n<t;break;case"<=":s=n<=t;break;case"=":this.isString(n)&&this.isString(t)?s=o!==!1?n===t:n.toLowerCase()===t.toLowerCase():s=n===t;break;case"!=":case"<>":this.isString(n)&&this.isString(t)?s=o!==!1?n!==t:n.toLowerCase()!==t.toLowerCase():s=n!==t;break;case"->":s=this.beginsWith(n,t,o);break;case"<-":s=this.endsWith(n,t,o);break;case"><":case"[]":s=this.isString(n)&&this.isString(t)?o!==!1?n.indexOf(t)>-1:n.toLowerCase().indexOf(t.toLowerCase())>-1:!1;break;case"][":s=!(s=this.isString(n)&&this.isString(t)?o!==!1?n.indexOf(t)>-1:n.toLowerCase().indexOf(t.toLowerCase())>-1:!1);break;default:s=!1}r===!0&&(s=!s)}return s}_getFilterResult(n,e,t,r){if(e){if(Array.isArray(e.value)){let o=[];for(let a=0;a<e.value.length;a++)o.push(this._getMatchResult(n,e.operation,e.value[a],t,r));let s=!0;if(e.join==="&")for(let a=0;a<o.length;a++)s=s&&o[a];else{s=!1;for(let a=0;a<o.length;a++)s=s||o[a]}return s}return this._getMatchResult(n,e.operation,e.value,t,r)}return!0}_applyFilter(n,e,t){if(e){let r=e,o=r;return o.left&&(o.left.condition?o.left.result=this._getFilterResult(n,o.left.condition,o.left.negative,t):(o=o.left,this._applyFilter(n,o,t))),(o=r).right&&(o.right.condition?o.right.result=this._getFilterResult(n,o.right.condition,o.right.negative,t):(o=o.right,this._applyFilter(n,o,t))),r.operator==="&"?(r.result=!0,r.left&&(r.result=r.result&&r.left.result),r.right&&(r.result=r.result&&r.right.result)):(r.result=!1,r.left&&(r.result=r.result||r.left.result),r.right&&(r.result=r.result||r.right.result)),r.result}return!0}createTree(n,e){if(e){let t=this._createFilterNode(),r=t,o=null,s=!1;for(let a=0;a<e.length;a++)this._isFilterCondition(e[a])?this._setFilterNode(r,n,e[a],s):e[a]==="&"||e[a]==="|"?(s=!1,r.operator=e[a]):e[a]==="!"?s=!0:e[a]==="("?(s=!1,(o=this._createFilterNode()).parent=r,r=o):e[a]===")"&&(s=!1,r.parent&&(r.parent.left?r.parent.right||(r.parent.right=r):r.parent.left=r),r=r.parent);return t}return null}match(n,e,t,r,o){if(Array.isArray(e))return o||(o=this.createTree(e,r)),this._applyFilter(n,o,t);let s=e?e.negative:!1;return this._getFilterResult(n,e,s,t)}filter(n,e,t,r,o,s){let a=[];if(n&&Array.isArray(n))for(let l=0;l<n.length;l++){let c=e?n[l][e]:n[l];this.match(c,t,s,r,o)&&a.push(n[l])}return a}},Bz=_k;var Ck=De`
    .iui-dragwin
    {
        opacity: 0;
        background: -webkit-linear-gradient(white, #F1EFEC);
        background:    -moz-linear-gradient(white, #F1EFEC);
        background:     -ms-linear-gradient(white, #F1EFEC);
        background:      -o-linear-gradient(white, #F1EFEC);
        background :         linear-gradient(white, #F1EFEC);

        background-color: #F1EFEC;
        border: thin solid black;
        border-radius: 3px;
        font-size: var(--iui-dragwin-font-size, 1em);
        margin:0;
        padding: 2px;
        position: absolute;
        box-shadow: 0 0 3px #888888;
        overflow: hidden;
        white-space: nowrap;
        text-overflow: ellipsis;
        max-width: 200px;
        z-index: 9999999;
    }
    .iui-dragwin-title
    {
        border-left: thin solid #c5c5c5;
        padding: 3px 3px 3px 5px;
        margin: 0 2px 0 0;
        vertical-align: middle;
    }
    .iui-dragwin-icon
    {
        display: inline-block;
        padding: 0;
        margin: 2px 0 3px 2px;
        width: 16px;
        height: 16px;
        vertical-align: middle;
    }
    .iui-dragwin-num
    {
        border-left: thin solid #c5c5c5;
        color: black;
        padding: 3px 3px 3px 5px;
        margin: 0;
        vertical-align: middle;
    }
    .iui-dragwin-move-left
    {
        background-image: url(../../icons/move-left.ico);
    }
    .iui-dragwin-move-up
    {
        background-image: url(../../icons/move-up.ico);
    }
    .iui-dragwin-move-in
    {
        background-image: url(../../icons/move-in.ico);
    }
    .iui-dragwin-move-right
    {
        background-image: url(../../icons/move-right.ico);
    }
    .iui-dragwin-move-down
    {
        background-image: url(../../icons/move-down.ico);
    }
    .iui-dragwin-move-end
    {
        background-image: url(../../icons/move-end.ico);
    }
    .iui-dragwin-move-left-copy
    {
        background-image: url(../../icons/move-left-copy.ico);
    }
    .iui-dragwin-move-up-copy
    {
        background-image: url(../../icons/move-up-copy.ico);
    }
    .iui-dragwin-move-in-copy
    {
        background-image: url(../../icons/move-in-copy.ico);
    }
    .iui-dragwin-move-right-copy
    {
        background-image: url(../../icons/move-right-copy.ico);
    }
    .iui-dragwin-move-down-copy
    {
        background-image: url(../../icons/move-down-copy.ico);
    }
    .iui-dragwin-move-end-copy
    {
        background-image: url(../../icons/move-end-copy.ico);
    }
    .hidden-drag-ghost {
        position: absolute;
        top: 0;
        left: 0;
        visibility: hidden;
    }
`;var Uz=De`
`;var jz=De`
    .iui-dragwin {
        opacity: 0;
        background: -webkit-linear-gradient(#363636, #303030);
        background:    -moz-linear-gradient(#363636, #303030);
        background:     -ms-linear-gradient(#363636, #303030);
        background:      -o-linear-gradient(#363636, #303030);
        background :         linear-gradient(#363636, #303030);

        background-color: #303030;
        border: thin solid #151515;
        box-shadow: 0 0 3px #151515;
        color: #cccccc;
    }
    .iui-dragwin-title {
        border-left: thin solid #151515;
    }
    .iui-dragwin-num {
        color: #cccccc;
    }
`;var Hz=De`
`;var mS=class extends Am{constructor(){super(),this._commonService=new Em,this._currentDragNum=1,this._currentIconClass="",this._currentPosition={x:0,y:0},this._currentSize={width:0,height:0},this._currentTitle="",this._currentDisplay="block",this._currentControlStyleSettings=Ck,this._currentResourcePath="../icons",this._currentCustomStyle={},this._currentTheme=An.None,this._currentThemeSettings=De``}connectedCallback(){}disconnectedCallback(){}static get properties(){return{colorScheme:{converter:{fromAttribute:n=>{switch((n=n.replace(/"|'/,"").replace(/"|'/,"")).toLowerCase()){case"light":return mi.Light;case"dark":return mi.Dark;default:return mi.None}},toAttribute:n=>{switch(n){case mi.Light:return"Light";case mi.Dark:return"Dark";default:return"None"}}},reflect:!0},customStyle:{type:Object,attribute:"custom-style"},display:{type:String,reflect:!0},dragNum:{type:Number,attribute:"drag-num",reflect:!0},iconClass:{type:String,attribute:"icon-class",reflect:!0},position:{type:Object},resourcePath:{type:String,attribute:"resource-path",reflect:!0},size:{type:Object},title:{type:String,reflect:!0},theme:{converter:{fromAttribute:n=>{switch((n=n.replace(/"|'/,"").replace(/"|'/,"")).toLowerCase()){case"office":return An.Office;case"dark":return An.Dark;default:return An.None}},toAttribute:n=>{switch(n){case An.Office:return"Office";case An.Dark:return"Dark";default:return"None"}}},reflect:!0}}}attributeChangedCallback(n,e,t){super.attributeChangedCallback(n,e,t)}get colorScheme(){return this._currentColorScheme}set colorScheme(n){if(this._currentColorScheme!==n){let e=this._currentColorScheme;this._currentColorScheme=n,this._updateColorSchemeSettings(n),this.requestUpdate("colorScheme",e),this.refresh()}}get customStyle(){return this._currentCustomStyle}set customStyle(n){if(this._currentCustomStyle!==n){let e=this._currentCustomStyle;this._currentCustomStyle=n,this.requestUpdate("customStyle",e),this.refresh()}}get display(){return this._currentDisplay}set display(n){if(this._currentDisplay!==n){let e=this._currentDisplay;this._currentDisplay=n,this.requestUpdate("display",e)}}get dragNum(){return this._currentDragNum}set dragNum(n){if(this._currentDragNum!==n){let e=this._currentDragNum;this._currentDragNum=n,this.requestUpdate("dragNum",e)}}get iconClass(){return this._currentIconClass}set iconClass(n){if(this._currentIconClass!==n){let e=this._currentIconClass;this._currentIconClass=n,this.requestUpdate("iconClass",e)}}get position(){return this._currentPosition}set position(n){let e=this._currentPosition;this._currentPosition=n,this.requestUpdate("position",e)}get resourcePath(){return this._currentResourcePath}set resourcePath(n){if(this._currentResourcePath!==n){let e=this._currentResourcePath;this._currentResourcePath=n,this._updateControlStyleSettings(n),this.requestUpdate("resourcePath",e)}}get size(){return this._currentSize}set size(n){let e=this._currentSize;this._currentSize=n,this.requestUpdate("size",e)}get title(){return this._currentTitle}set title(n){if(this._currentTitle!==n){let e=this._currentTitle;this._currentTitle=n,this.requestUpdate("title",e)}}get theme(){return this._currentTheme}set theme(n){if(this._currentTheme!==n){let e=this._currentTheme;this._currentTheme=n,this._updateThemeSettings(n),this.requestUpdate("theme",e),this.refresh()}}updatePos(n){n&&(this.dragNum=n.num?n.num:1,this.iconClass=n.class?n.class:"",this.position={x:n.left,y:n.top},this.title=n.text?n.text:"",this.refresh())}_getTitleStyle(){let n={};return this._currentIconClass===""&&(n.border=0),n}_updateColorSchemeSettings(n){switch(this._currentColorSchemeSettings=De``,n){case mi.Dark:this._currentColorSchemeSettings.cssText=this._commonService.replaceAll(jz.cssText,"../../../icons",this._currentResourcePath);break;case mi.Light:this._currentColorSchemeSettings.cssText=this._commonService.replaceAll(Hz.cssText,"../../../icons",this._currentResourcePath);break;default:this._currentColorSchemeSettings.cssText=""}}_updateThemeSettings(n){switch(this._currentThemeSettings=De``,n){case An.Office:this._currentThemeSettings.cssText=this._commonService.replaceAll(Uz.cssText,"../../../icons",this._currentResourcePath);break;default:this._currentThemeSettings.cssText=""}}firstUpdated(n){}refresh(){this.update()}render(){return Ke`             <style>                 ${this._currentControlStyleSettings}                 ${this._currentThemeSettings}                 ${this._currentColorSchemeSettings}                 ${this._currentCustomStyle}             </style>             <div data-drag-window class="iui-dragwin" style=${Ji({display:this._currentDisplay,top:this._currentPosition.y+"px",left:this._currentPosition.x+"px"})}>                 ${this._currentIconClass!==""?Ke`<span class=${wn(this._currentIconClass)}></span>`:Ke``}                 <span class="iui-dragwin-title" style=${Ji(this._getTitleStyle())}>${this._currentTitle}</span>                 ${this._currentDragNum>1?Ke`<span class="iui-dragwin-num">+${this._currentDragNum-1}</span>`:Ke``}             </div>         `}_updateControlStyleSettings(n){this._currentControlStyleSettings=De``,this._currentControlStyleSettings.cssText=this._commonService.replaceAll(Ck.cssText,"../../icons",n)}};window.customElements.define("iui-dragwin",mS);var Gz=mS;var yk=class extends Bu{_init(){super._init(),this._lastUpdate=0,this._updateDelay=100,this._dataService=new Tm,this._dragDropService=Vz.getInstance(),this._filterService=new Bz,this._currentAnimationSpeedValue=400,this._initSuccess=!0,this._isAnimationInProcess=!1,this._isInitActive=!1,this._stackAdd=[],this._stackRemove=[],this._currentDefaultGroupName="other",this._currentGroupBy=null,this._currentGroupList=[],this._currentList=[],this._dataGroups=[],this._dataItems=[],this._fullList=[],this._fullChildList=[],this._fullRemovalList=[],this._scrollItemList=[],this._currentDragDropMode=Dr.Dynamic,this._dropMarkElem=null,this._dragCmp=null,this._expandItem=null,this._isAutoExpanded=!1,this._dragContentElem=null,this._dragItemList=[],this._dragItemObj=null,this._dragElemPos={top:-9999999,left:0},this._dragElemSize={width:0,height:0},this._dragListPos={top:-9999999,left:0},this._dragListSize={width:0,height:0},this._dragListStartPos={top:-9999999,left:0},this._dragWindow=null,this._dragListIndex=-1,this._dragTargetIndex=-1,this._dragOverStarted=!1,this._currentDragPos={x:0,y:0},this._prevDragPos={x:0,y:0},this._dragMoveSpace=10,this._dropPos=-1,this._cloneElem=null,this._cloneElemStartPos={x:0,y:0},this._expandTimeout=null,this._isCtrlDragEntered=!1,this._isDragActive=!1,this._isDragCopy=!1,this._isDragInside=!1,this._isDragActiveTimeout=null,this._currentDragItems=0,this._maxDragItems=3,this._totalDragItems=0,this._filterParams=null,this._ctrlCursor="default",this._currentContentVisibility=Co.Both,this._hoverItem=null,this._options={allowDrag:!1,allowDrop:!1,currentStyle:null,dataFields:null,selectedItem:null},this._isGroupingEnabled=!1,this._blockHoverRect={height:0,left:0,top:-9999999,width:0},this._blockSelectRect=[],this._blockSelectHeight=0,this._hoverItemObj={data:{}},this._currentFocusObj=null,this._isKeyboardActive=!1,this._avgItemHeight=0,this._blockSize={width:0,height:0},this._contentSize={width:0,height:0},this._ctrlPadding={top:0,right:0,bottom:0,left:0},this._currentIndex=0,this._currentItemSize={width:0,height:0},this._currentItemSpacing=0,this._prevIndex=0,this._isAutoSized=!1,this._isHoverTemplatePresent=!1,this._isSelectedTemplatePresent=!1,this._isUpdateActive=!1,this._prevLongestItemWidth=0,this._longestItemWidth=0,this._longestItemWidthValue="auto",this._requestUpdateLayout=!1,this._virtualization=!0,this._visibleRange=100,this._updateTimer=null,this._isLoading=!1,this._isLoadingEnd=!1,this._loadingEndTimeout=null,this._loadIconPos={top:0,left:0},this._currentMouseWheelSpeed=$o.Normal,this._currentScrollAppearance=Sn.Static,this._currentScrollPos={x:0,y:0},this._maxScrollPos={x:0,y:0},this._accelerator=.5,this._isMouseWheelActive=!1,this._isScrollActive=!1,this._isScrollTimerActive=!1,this._isScrollVisible=!0,this._prevScrollPos={x:0,y:0},this._scrollAppearanceTimeout=null,this._scrollBarSize={width:0,height:0},this._scrollCount=0,this._scrollLargeChange={x:0,y:0},this._scrollSize={width:0,height:0},this._scrollSizeAddition=0,this._scrollTimerID=null,this._horScrollOrientation=Sr.Horizontal,this._currentSelection=null,this._currentSelectionMode=sr.One,this._isItemClicked=!1,this._shiftFirstSelectedItem=null,this._removeIndex=-1,this._currentSelectedItems=[],this._currentCtrlSize={width:0,height:0},this._currentSorting=Ka.None,this._sortComparer=null,this._dragListClass={},this._groupClassName="iui-baselistgroup",this._groupContentClassName=this._groupClassName+"-content",this._expandBoxClassName=this._groupClassName+"-expand-box",this._itemClassName="iui-baselistitem",this._itemContentClassName=this.itemClassName+"-content",this._scrollCornerClassName="iui-scrollbar-corner",this._animationCheckTimer=null,this._touchStartPos={x:0,y:0},this._touchEndPos={x:0,y:0}}connectedCallback(){super.connectedCallback(),this._windowDragOver=this._windowDragOver.bind(this),window.addEventListener("dragover",this._windowDragOver),this._windowKeyDown=this._windowKeyDown.bind(this),window.addEventListener("keydown",this._windowKeyDown),this._windowKeyUp=this._windowKeyUp.bind(this),window.addEventListener("keyup",this._windowKeyUp)}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener("dragover",this._windowDragOver),window.removeEventListener("keydown",this._windowKeyDown),window.removeEventListener("keyup",this._windowKeyUp),this._clearDragTimeout(),this._clearExpandTimeout(),this._resetAnimationCheckTimer(),this._resetLayoutTimer(),this._resetScrollAppearanceTimeout()}_initStyle(){this._defaultStyle={general:{disabled:this._generalClassName+"-disabled",focused:this._generalClassName+"-focused",normal:this._generalClassName,hovered:this._generalClassName+"-hovered",selected:this._generalClassName+"-selected"},group:{expandBox:{general:this._expandBoxClassName,expanded:this._expandBoxClassName+"-open",collapsed:this._expandBoxClassName+"-close"},general:{disabled:this._groupClassName+"-disabled",focused:this._groupClassName+"-focused",normal:this._groupClassName,hovered:this._groupClassName+"-hovered",selected:this._groupClassName+"-selected"},content:{disabled:this._groupContentClassName+"-disabled",focused:this._groupContentClassName+"-focused",normal:this._groupContentClassName,hovered:this._groupContentClassName+"-hovered",selected:this._groupContentClassName+"-selected"}},item:{general:{disabled:this._itemClassName+"-disabled",focused:this._itemClassName+"-focused",normal:this._itemClassName,hovered:this._itemClassName+"-hovered",selected:this._itemClassName+"-selected"},content:{disabled:this._itemContentClassName+"-disabled",focused:this._itemContentClassName+"-focused",normal:this._itemContentClassName,hovered:this._itemContentClassName+"-hovered",selected:this._itemContentClassName+"-selected"}}},this._updateStyle(this.controlStyle),this._updateControlClass(),this._updateColorSchemeSettings(this._currentColorScheme),this.refresh()}attributeChangedCallback(n,e,t){super.attributeChangedCallback(n,e,t)}static get properties(){return{allowDrag:{type:Boolean,attribute:"allow-drag",reflect:!0},allowDrop:{type:Boolean,attribute:"allow-drop",reflect:!0},allowFilter:{type:Boolean,attribute:"allow-filter",reflect:!0},animateInit:{type:Boolean,attribute:"animate-init",reflect:!0},contentVisibility:{attribute:"content-visibility",converter:{fromAttribute:n=>{switch((n=n.replace(/"|'/,"").replace(/"|'/,"")).toLowerCase()){case"none":return Co.None;case"hover":return Co.Hover;case"select":return Co.Select;default:return Co.Both}},toAttribute:n=>{switch(n){case Co.None:return"None";case Co.Hover:return"Hover";case Co.Select:return"Select";default:return"Both"}}},reflect:!0},dataFields:{type:Object,attribute:"data-fields"},dragDropMode:{attribute:"dragdrop-mode",converter:{fromAttribute:n=>{switch((n=n.replace(/"|'/,"").replace(/"|'/,"")).toLowerCase()){case"popup":return Dr.Static;default:return sr.Dynamic}},toAttribute:n=>{switch(n){case Dr.Static:return"Static";default:return"Dynamic"}}},reflect:!0},focusedItem:{type:Object,attribute:"focused-item"},items:{type:Array},itemSpacing:{type:Number,attribute:"item-spacing",reflect:!0},mouseWheelSpeed:{attribute:"mousewheel-speed",converter:{fromAttribute:n=>{switch((n=n.replace(/"|'/,"").replace(/"|'/,"")).toLowerCase()){case"veryslow":return $o.VerySlow;case"slow":return $o.Slow;case"fast":return $o.Fast;case"veryfast":return $o.VeryFast;default:return $o.Normal}},toAttribute:n=>{switch(n){case $o.VerySlow:return"VerySlow";case $o.Slow:return"Slow";case $o.Fast:return"Fast";case $o.VeryFast:return"VeryFast";default:return"Normal"}}},reflect:!0},scrollAppearance:{attribute:"scroll-appearance",converter:{fromAttribute:n=>(n=n.replace(/"|'/,"").replace(/"|'/,"")).toLowerCase()==="dynamic"?Sn.Dynamic:Sn.Static,toAttribute:(n,e)=>n===Sn.Dynamic?"Dynamic":"Static"},reflect:!0},selectedItem:{type:Object,attribute:"selected-item"},selectionMode:{attribute:"selection-mode",converter:{fromAttribute:n=>{switch((n=n.replace(/"|'/,"").replace(/"|'/,"")).toLowerCase()){case"none":return sr.None;case"multisimple":return sr.MultiSimple;case"multiextended":return sr.MultiExtended;default:return sr.One}},toAttribute:n=>{switch(n){case sr.None:return"None";case sr.MultiSimple:return"MultiSimple";case sr.MultiExtended:return"MultiExtended";default:return"One"}}},reflect:!0},showScroll:{type:Boolean,attribute:"show-scroll",reflect:!0},sorting:{converter:{fromAttribute:n=>{switch((n=n.replace(/"|'/,"").replace(/"|'/,"")).toLowerCase()){case"ascending":return Ka.Ascending;case"descending":return Ka.Descending;default:return Ka.None}},toAttribute:n=>{switch(n){case Ka.Ascending:return"Ascending";case Ka.Descending:return"Descending";default:return"None"}}},reflect:!0},virtualMode:{type:Boolean,attribute:"virtual-mode",reflect:!0}}}set allowDrag(n){if(this._options.allowDrag!==n){let e=this._options.allowDrag;this._options.allowDrag=n,this.requestUpdate("allowDrag",e)}}set allowDrop(n){if(this._options.allowDrop!==n){let e=this._options.allowDrop;this._options.allowDrop=n,this.requestUpdate("allowDrop",e)}}set allowFilter(n){if(this._options.allowFilter!==n){let e=this._options.allowFilter;this._options.allowFilter=n,this.requestUpdate("allowFilter",e)}}get allowFocus(){return this._options.allowFocus}set allowFocus(n){if(this._options.allowFocus!==n){let e=this._options.allowFocus;this._options.allowFocus=n,n||(this._currentFocusObj=null),this.refresh(),this.requestUpdate("allowFocus",e)}}get animateInit(){return this._isInitActive}set animateInit(n){if(this._isInitActive!==n){let e=this._isInitActive;this._isInitActive=n,this.requestUpdate("animateInit",e)}}get dataFields(){return this._options.dataFields}set dataFields(n){let e=this._options.dataFields;this._updateDataFields(n),this.requestUpdate("dataFields",e)}get focusedItem(){return this._currentFocusObj?this._currentFocusObj.data:null}set focusedItem(n){let e=this.allowFocus&&!this._currentFocusObj,t=this.allowFocus&&this._currentFocusObj&&this._currentFocusObj.data!==n;if(e||t){let r=this._currentFocusObj?this._currentFocusObj.data:null;this._currentFocusObj=this._getObjFromItem(n),this._updateFocusItem(),this.selectedItem!==n&&this._processSelection(null,n),this.requestUpdate("focusedItem",r),this.refresh()}}get contentVisibility(){return this._currentContentVisibility}set contentVisibility(n){if(this._currentContentVisibility!==n){let e=this._currentContentVisibility;this._currentContentVisibility=n,this.requestUpdate("contentVisibility",e)}}get dragDropMode(){return this._currentDragDropMode}set dragDropMode(n){if(this._currentDragDropMode!==n){let e=this._currentDragDropMode;this._currentDragDropMode=n,this.requestUpdate("dragDropMode",e)}}get items(){return this._dataItems}set items(n){let e=this._dataItems;e.length===0&&(this._initSuccess=!1),this._dataItems=n,this._updateData(),this.requestUpdate("items",e)}get itemSpacing(){return this._currentItemSpacing}set itemSpacing(n){let e=this._currentItemSpacing;this._currentItemSpacing=n,this.requestUpdate("itemSpacing",e)}get mouseWheelSpeed(){return this._currentMouseWheelSpeed}set mouseWheelSpeed(n){if(this._currentMouseWheelSpeed!==n){let e=this._currentMouseWheelSpeed;this._currentMouseWheelSpeed=n,this.requestUpdate("mouseWheelSpeed",e)}}get scrollAppearance(){return this._currentScrollAppearance}set scrollAppearance(n){if(this._currentScrollAppearance!==n){let e=this._currentScrollAppearance;this._currentScrollAppearance=n,this._isScrollVisible=this._currentScrollAppearance!==Sn.Dynamic,this.requestUpdate("scrollAppearance",e),this._internalUpdateLayout()}}get showScroll(){return this._options.showScroll}set showScroll(n){let e=this._options.showScroll;this._updateShowScroll(n),this.requestUpdate("showScroll",e)}get selectedItem(){return this._currentSelection}set selectedItem(n){if(this._currentSelection!==n){let e=this._currentSelection,t=this,r=setTimeout(function(){t._processSelection(null,n),t.requestUpdate("selectedItem",e),clearTimeout(r)},1)}}get selectionMode(){return this._currentSelectionMode}set selectionMode(n){if(this._currentSelectionMode!==n){let e=this,t=e._currentSelectionMode;e._currentSelectionMode=n,e._clearPrevSelection(e._currentSelectionMode!==sr.None?e._currentSelection:null);let r=setTimeout(function(){e.refresh(),e._currentSelectionMode===sr.None&&(e._currentSelection=null),e._invokeEvent("selectionChanged",{item:e._currentSelection}),e.requestUpdate("selectionMode",t),clearTimeout(r)},1)}}get sorting(){return this._currentSorting}set sorting(n){if(this._currentSorting!==n){let e=this._currentSorting;this._currentSorting=n,this.requestUpdate("sorting",e)}}get virtualMode(){return this._virtualization}set virtualMode(n){if(this._virtualization!==n){let e=this._virtualization;this._virtualization=!0,this.requestUpdate("virtualMode",e),this._internalUpdateLayout()}}addItem(n,e){return N(this,null,function*(){return this._callEventAdd("add",n,-1,e)})}_addItemToList(n,e,t,r,o,s){let a=this,l=!0,c=-1,d=a._dragDropService.getData();if(a._isAnimationAllowed&&!d.source){let p=a._currentList.length,g=[],C=null,y=null;switch(c=a._scrollItemList.length,n){case"at":p=t,r?g=a._currentList.filter(v=>v.data.type!=="group"&&v.data[a._options.dataFields.pid]===r[a._options.dataFields.id]):g=a._currentList.filter(v=>v.data.type!=="group"&&!v.data[a._options.dataFields.pid]),a._commonService.isIndexInRange(p,g)?(C=a._getObjFromScrollItem(g[p].data),c=a._getItemScrollIndex(C)):g.length>0?(C=a._getObjFromScrollItem(g[g.length-1].data))?c=a._getItemScrollIndex(C)+1:c=-1:r&&(c=0);break;case"ref":if(o){let v=a._getObjFromScrollItem(o);v?(c=a._scrollItemList.indexOf(v),s&&(y=a._getLastChildItemFromExpanded(o))&&(c=(C=a._getObjFromScrollItem(y))?a._getItemScrollIndex(C)+1:-1)):l=!1}break;default:r&&(y=a._getLastChildItemFromExpanded(r))&&(c=(C=a._getObjFromScrollItem(y))?a._getItemScrollIndex(C)+1:-1)}c<0&&(l=!1)}switch(n){case"at":for(let g=e.length-1;g>=0;g--)a._dataService.insert(e[g],t,r);break;case"ref":let p=s?e.toReversed():e;for(let g=0;g<p.length;g++)a._dataService.insertByRef(p[g],o,s);break;default:for(let g=0;g<e.length;g++)a._dataService.insert(e[g],-1,r)}return{animateAllowed:l,scrollIndex:c,addAllowed:!0}}clearItems(n){return N(this,null,function*(){let e=this;return n||(e._currentSelectedItems.length=0,e._currentSelection=null),e._callEventClear(n)})}insertItemAt(n,e,t){return N(this,null,function*(){return this._callEventAdd("at",n,e,t)})}insertItemBefore(n,e){return N(this,null,function*(){return this._callEventAdd("ref",n,-1,null,e)})}insertItemAfter(n,e){return N(this,null,function*(){return this._callEventAdd("ref",n,-1,null,e,!0)})}removeItem(n){return N(this,null,function*(){return this._callEventRemove(n)})}removeItemAt(n,e){return N(this,null,function*(){return this._callEventRemove(null,n,e)})}_callEventAdd(n,e,t,r,o,s){return N(this,null,function*(){let a=this,l=a._dragDropService.getData();return!a._isAnimationAllowed||l.source?a._processAddItemGeneral(n,e,t,r,o,s):(a._stackAdd.push({type:n,item:e,index:t,parent:r,refItem:o,flag:s}),a._stackAdd.length===1?a._processAddRange(n,e,t,r,o,s):Promise.resolve())})}_callEventClear(n){return N(this,null,function*(){let e=this;return new Promise(t=>{e._isAnimationAllowed&&e._scrollItemList.length>0?(e._isAnimationInProcess=!0,setTimeout(function(){return N(this,null,function*(){yield e._applyScaleAnimation(e._scrollItemList),e._dataService.clear(n),yield e._processUpdateCurrentLayout(),e._invokeEvent("clear",{parent:n}),e._isAnimationInProcess=!1,t()})},1)):e._isUpdateAllowed?setTimeout(function(){return N(this,null,function*(){e._dataService.clear(n),yield e._processUpdateCurrentLayout(),e._invokeEvent("clear",{parent:n}),t()})},1):(e._dataService.clear(n),e._invokeEvent("clear",{parent:n}),t())})})}_callEventRemove(n,e,t){return N(this,null,function*(){let r=this,o=r._dragDropService.getData();return!r._isAnimationAllowed||o.source?r._processRemoveItemGeneral(n,e,t):(r._stackRemove.push({item:n,index:e,parent:t}),r._stackRemove.length===1?r._processRemoveRange(n,e,t):Promise.resolve())})}_processAddItemGeneral(n,e,t,r,o,s){let a=this;return new Promise(l=>{if(a._invokeEvent("itemAdding",{cancel:!1,item:e,index:t,parent:r}).cancel!==!0){let c=Array.isArray(e)?e:[e];a._addItemToList(n,c,t,r,o,s),a._processItemAdd(e,r);let d=a._dragDropService.getData();d.source?(a._invokeEvent("itemAdded",{index:t,item:e}),l()):a._isUpdateAllowed?setTimeout(function(){return N(this,null,function*(){d.source||(a._scrollItemList.length===0&&(a.update(),a._updateClientRect(),a._currentItemSize.width=a._clientRect.width),yield a._processUpdateCurrentLayout()),a._invokeEvent("itemAdded",{index:t,item:e}),l()})},1):(a._invokeEvent("itemAdded",{index:t,item:e}),l())}else l()})}_processItemAdd(n,e){}_processItemRemoval(n,e){}_processRemoveItemGeneral(n,e,t){return N(this,null,function*(){let r=this;return new Promise(o=>{if(r._invokeEvent("itemRemoving",{cancel:!1,item:n,index:e,parent:t}).cancel!==!0){!n&&r._commonService.isIndexInRange(e,r._fullList)&&(n=r._fullList[e]);let s=Array.isArray(n)?n:[n];for(let a=0;a<s.length;a++)r._dataService.removeAt(s[a],e,t);r._processItemRemoval(n,t),n&&n[r._options.dataFields.selected]&&(n[r._options.dataFields.selected]=!1,r._currentSelectedItems=r._currentSelectedItems.filter(a=>a!==n),r._currentSelection&&r._commonService.isEqual(r._currentSelection[r._options.dataFields.id],n[r._options.dataFields.id])&&(r._currentSelection=null),r._invokeEvent("selectionChanged",{item:r._currentSelection})),r._dragDropService.getData().source?(r._invokeEvent("itemRemoved",{index:e,item:n}),o()):r._isUpdateAllowed?setTimeout(function(){return N(this,null,function*(){yield r._processUpdateCurrentLayout(),r._invokeEvent("itemRemoved",{index:e,item:n}),o()})},1):(r._invokeEvent("itemRemoved",{index:e,item:n}),o())}else o()})})}_getLastChildItemFromExpanded(n){let e=this;if(e.isItemExpanded(n)){let t=e._currentList.filter(r=>r.data.type!=="group"&&r.data[e._options.dataFields.pid]===n[e._options.dataFields.id]);if(t.length>0)return e._getLastChildItemFromExpanded(t[t.length-1].data)}return n}_animateCurrentItemPos(n,e){n.forEach((t,r)=>{t.element.position={x:t.element.position.x,y:t.values.top}}),this.update(),e&&this._clearInactiveAnimations()}_animateNewItemPos(n,e){n.forEach((t,r)=>{t.element.position={x:t.element.position.x,y:t.values.top}}),this.update(),e&&this._clearInactiveAnimations()}_animatePosition(n,e){n.forEach((t,r)=>{t.element.position={x:t.element.position.x,y:t.values.top}}),e&&this._clearInactiveAnimations(),this.update()}_cancelAddProcess(n,e,t,r,o,s){}_processAddRange(n,e,t,r,o,s){return N(this,null,function*(){let a=this;return new Promise(l=>{if(a._invokeEvent("itemAdding",{cancel:!1,item:e,index:t,parent:r}).cancel!==!0){let c=Array.isArray(e)?e:[e],d=a._addItemToList(n,c,t,r,o,s);if(d.addAllowed&&d.animateAllowed){a._isAnimationInProcess=!0;let p=d.scrollIndex;a._processItemAdd(c,r),setTimeout(function(){return N(this,null,function*(){a._scrollItemList.length===0&&(a.update(),a._updateClientRect(),a._currentItemSize.width=a._clientRect.width,a._updateBlockSize());let g={x:a._ctrlPadding.left,y:a._ctrlPadding.top},C=a._currentItemSize.height>0?a._currentItemSize.height:30,y=[],v=null;p>=0&&p<a._scrollItemList.length?(g={x:(v=a._scrollItemList[p]).position.x,y:v.position.y},yield a._updateCurrentScrollItemPos(p,c.length*a._currentItemSize.height),g.y-=a._currentItemSize.height):a._scrollItemList.length>0&&(g={x:(v=a._scrollItemList[a._scrollItemList.length-1]).position.x,y:v.position.y});let w=v?v.indent:0;if(r){let T=a._getObjFromItem(r);w=T?T.indent+a._options.indent:w}for(let T=0;T<c.length;T++){a._scrollItemList.length===0&&(g.y-=C);let F={clickPos:{x:0,y:0},data:c[T],indent:w,index:p,inlineStyle:{},position:{x:g.x,y:g.y},showCheckBox:a._isItemCheckBoxAllowed(c[T]),showRadioButton:a._isItemRadioButtonAllowed(c[T]),size:{width:0,height:a._currentItemSize.height},targetPosition:{x:g.x,y:g.y},style:{},tabIndex:0,zIndex:0};a._updateItemStyle(F),a._scrollItemList.splice(p,0,F),a.refresh();let G=Math.max(50,300-50*a._stackAdd.length);a._applyScaleAnimation([F],G,.8,1),yield a._updateNewScrollItemPos(F,G),y.push(F),p++,g.y+=C}a._invokeEvent("itemAdded",{index:t,item:e});let E=Math.max(50,300-50*a._stackAdd.length);setTimeout(function(){if(a._currentList.length===0&&(a._updateCurrentItemSize(),a._updateVisibleRange()),a._updateCurrentList(),a._stackAdd.splice(0,1),a._stackAdd.length>0){let T=a._stackAdd[0];a._processAddRange(T.type,T.item,T.index,T.parent,T.refItem,T.flag)}else a._internalUpdateCurrentLayout(),a._isAnimationInProcess=!1,l()},E)})},1)}else if(a._stackAdd.splice(0,1),a._stackAdd.length>0){let p=a._stackAdd[0];a._processAddRange(p.type,p.item,p.index,p.parent,p.refItem,p.flag)}else a._internalUpdateCurrentLayout(),a._isAnimationInProcess=!1,l()}else if(a._stackAdd.splice(0,1),a._stackAdd.length>0){let c=a._stackAdd[0];a._processAddRange(c.type,c.item,c.index,c.parent,c.refItem,c.flag)}else a._internalUpdateCurrentLayout(),a._isAnimationInProcess=!1,l()})})}_updateFullRemovalList(n){let e=this;n.forEach(t=>{e._fullRemovalList.push(t),t[e._options.dataFields.items]&&e.isItemExpanded(t)&&e._updateFullRemovalList(t[e._options.dataFields.items])})}_animateRemove(n,e){n.forEach((t,r)=>{t.element.animateLeft=t.values.animateLeft}),e&&this._clearInactiveAnimations(),this.update()}_animateScale(n,e){n.forEach((t,r)=>{t.element.scale=t.values.scale}),e&&this._clearInactiveAnimations(),this.update()}_applyRemoveAnimation(n,e){return N(this,null,function*(){let t=this._animateRemove.bind(this),r=new Lo;this._activeAnimations.push(r);let o=[];for(let s=0;s<n.length;s++){let a=n[s],l={animateLeft:0},c={animateLeft:100};o.push({element:a,current:l,values:c})}return yield r.animate(o,100,e!==void 0?e:200,t),Promise.resolve()})}_applyScaleAnimation(n,e,t,r){return N(this,null,function*(){let o=this._animateScale.bind(this),s=new Lo;this._activeAnimations.push(s);let a=[];for(let l=0;l<n.length;l++){let c=n[l],d={scale:t!==void 0?t:1},p={scale:r!==void 0?r:0};a.push({element:c,current:d,values:p})}return yield s.animate(a,0,e!==void 0?e:200,o),Promise.resolve()})}_processRemoveRange(n,e,t){return N(this,null,function*(){let r=this;return new Promise(o=>{if(r._invokeEvent("itemRemoving",{cancel:!1,item:n,index:e,parent:t}).cancel!==!0){if(!n){let a=[];t?a=r._currentList.filter(l=>l.data.type!=="group"&&l.data[r._options.dataFields.pid]===t[r._options.dataFields.id]):a=r._currentList.filter(l=>l.data.type!=="group"&&!l.data[r._options.dataFields.pid]),r._commonService.isIndexInRange(e,a)&&(n=a[e].data)}let s=[];if(n&&(s=Array.isArray(n)?n:[n]),s.length>0)r._isAnimationInProcess=!0,setTimeout(function(){return N(this,null,function*(){r._fullRemovalList.length=0,r._updateFullRemovalList(s);let a=[],l=[...r._scrollItemList],c=0;for(let C=0;C<r._fullRemovalList.length;C++){let y=r._getObjFromScrollItem(r._fullRemovalList[C]);y&&(c++,a.push(y),l=l.filter(v=>v.data!==y.data))}let d=Math.max(50,200-50*r._stackRemove.length);yield r._applyScaleAnimation(a,d,1,.8),yield r._applyRemoveAnimation(a,d),c>0&&r.refresh();let p=!1;for(let C=0;C<s.length;C++){let y=s[C];r._dataService.removeAt(y,e,t),y&&y[r._options.dataFields.selected]&&(y[r._options.dataFields.selected]=!1,r._currentSelectedItems=r._currentSelectedItems.filter(v=>v!==y),r._currentSelection&&r._commonService.isEqual(r._currentSelection[r._options.dataFields.id],y[r._options.dataFields.id])&&(r._currentSelection=null),p=!0)}for(let C=0;C<r._fullRemovalList.length;C++){let y=r._fullRemovalList[C],v=e!==void 0?e:r._fullList.indexOf(y);v>=0&&r._fullList.splice(v,1),(v=r._getItemCurrentIndex(y))>=0&&r._currentList.splice(v,1)}r._processItemRemoval(n,t);let g=Math.max(50,300-50*r._stackRemove.length);if(c>0&&l.length>0){let C={x:r._ctrlPadding.left,y:r._ctrlPadding.top};l.forEach(y=>{y.targetPosition.y=C.y,C.y+=r._currentItemSize.height}),r._repositionItems(l,0,g)}if(c>0&&r._scrollItemList.length>0){let C=[],y=r._scrollItemList.length-1,v=r._scrollItemList[y],w={x:v.position.x,y:v.position.y+r._currentItemSize.height},E=r._currentIndex+r._visibleRange-c;for(let F=0;F<c;F++)if(E+F<r._currentList.length){let G=r._currentList[E+F].data,z={clickPos:{x:0,y:0},data:G,indent:r._currentList[E+F].indent,index:y+F+1,inlineStyle:{},position:{x:w.x,y:w.y},showCheckBox:r._isItemCheckBoxAllowed(G),showRadioButton:r._isItemRadioButtonAllowed(G),size:{width:0,height:r._currentItemSize.height},targetPosition:{x:w.x,y:w.y},style:{},tabIndex:0,zIndex:0};C.push(z),r._updateItemStyle(z),r._scrollItemList.splice(z.index,0,z),w.y+=r._currentItemSize.height}r.update();let T=c*r._currentItemSize.height;yield r._moveItemsUpward(r._scrollItemList,y+1,-T,g)}a.forEach(C=>{let y=r._scrollItemList.indexOf(C);y>=0&&r._scrollItemList.splice(y,1)}),r.refresh(),r._invokeEvent("itemRemoved",{index:e,item:n}),p&&r._invokeEvent("selectionChanged",{item:r._currentSelection}),setTimeout(function(){if(r._stackRemove.splice(0,1),r._updateCurrentList(),r._stackRemove.length>0){let C=r._stackRemove[0];r._processRemoveRange(C.item,C.index,C.parent)}else r._isAnimationInProcess=!1,r._internalUpdateCurrentLayout(),o()},g)})},1);else if(r._stackRemove.splice(0,1),r._stackRemove.length>0){let a=r._stackRemove[0];r._processRemoveRange(a.item,a.index,a.parent)}else r._isAnimationInProcess=!1,r._internalUpdateCurrentLayout(),o()}else if(r._stackRemove.splice(0,1),r._stackRemove.length>0){let s=r._stackRemove[0];r._processRemoveRange(s.item,s.index,s.parent)}else r._isAnimationInProcess=!1,r._internalUpdateCurrentLayout(),o()})})}_repositionItems(n,e,t){return N(this,null,function*(){let r=this._animatePosition.bind(this),o=new Lo;this._activeAnimations.push(o);let s=[];for(let a=e;a<n.length;a++){let l=n[a],c={top:l.position.y},d={top:l.targetPosition.y};s.push({element:l,current:c,values:d})}return yield o.animate(s,0,t!==void 0?t:250,r),Promise.resolve()})}_updateCurrentScrollItemPos(n,e){return N(this,null,function*(){let t=this,r=t._animateCurrentItemPos.bind(t),o=new Lo;t._activeAnimations.push(o);let s=[];for(let a=n;a<t._scrollItemList.length;a++){let l=t._scrollItemList[a],c={top:l.position.y},d={top:l.position.y+e};s.push({element:l,current:c,values:d})}return yield o.animate(s,0,250,r),Promise.resolve()})}_updateNewScrollItemPos(n,e){return N(this,null,function*(){let t=this._animateNewItemPos.bind(this),r=new Lo;this._activeAnimations.push(r);let o=[],s=this._currentItemSize.height>0?this._currentItemSize.height:30,a={top:n.position.y},l={top:n.position.y+s};return o.push({element:n,current:a,values:l}),yield r.animate(o,0,e!==void 0?e:200,t),Promise.resolve()})}_updateCtrlSize(n){return N(this,null,function*(){this._clearAnimations(),this._isAnimationInProcess=!0;let e=this._animateSize.bind(this),t=new Lo;this._activeAnimations.push(t);let r=[{current:{height:this._currentCtrlSize.height},values:{height:this._clientRect.height}}];return yield t.animate(r,100,n!==void 0?n:250,e),this._isAnimationInProcess=!1,Promise.resolve()})}_animateSize(n,e){let t=this;n.length>0&&(t._currentCtrlSize.height=n[0].values.height),e&&(t._currentCtrlSize.height=t._clientRect.height,setTimeout(function(){t._clearInactiveAnimations()},1)),t.update()}_animateToggle(n,e){let t=this;n.length>0&&(t._currentCtrlSize.height=n[0].values.height,n.forEach((r,o)=>{r.element.position={x:r.element.position.x,y:r.values.top}})),e&&(t._currentCtrlSize.height=t._clientRect.height,t._clearInactiveAnimations()),t.update()}_moveItemsDownward(n,e,t){return N(this,null,function*(){let r=this,o=r._animateToggle.bind(r),s=new Lo;r._activeAnimations.push(s);let a=[];for(let l=e;l<n.length;l++){let c=n[l],d={top:c.position.y,height:r._currentCtrlSize.height},p={top:t!=null?c.position.y+t:c.targetPosition.y,height:r._clientRect.height};a.push({element:c,current:d,values:p})}return yield s.animate(a,0,250,o),Promise.resolve()})}_moveItemsUpward(n,e,t,r){return N(this,null,function*(){let o=this,s=o._animateToggle.bind(o),a=new Lo;o._activeAnimations.push(a);let l=[];for(let c=e;c<n.length;c++){let d=n[c],p={top:d.position.y,height:o._currentCtrlSize.height},g={top:t!=null?d.position.y+t:d.targetPosition.y,height:o._clientRect.height};l.push({element:d,current:p,values:g})}return yield a.animate(l,0,r!==void 0?r:250,s),Promise.resolve()})}_updateItemCollapse(n){return N(this,null,function*(){let e=this,t=e._getObjFromScrollItem(n);if(t){e._updateItemStyle(t);let r=e._scrollItemList.indexOf(t);if(r<e._scrollItemList.length){let o=e._scrollItemList[r];e._fullChildList.length=0,e._updateChildList(t.data[e._options.dataFields.items],t.indent);let s=e._fullChildList.length;if(e._currentCtrlSize.height=e._clientRect.height,e._clientRect.height=(e._currentList.length-s)*e._avgItemHeight,r<e._scrollItemList.length-1){let c=[],d=e._scrollItemList.length-1,p=e._scrollItemList[e._scrollItemList.length-1],g={x:p.position.x,y:p.position.y+e._currentItemSize.height},C=e._getItemCurrentIndex(p.data);if(C>=0){let v=C+1;for(let w=0;w<s&&w+v<e._currentList.length;w++){let E=e._currentList[w+v],T={clickPos:{x:0,y:0},data:E.data,indent:E.indent,index:w+d+1,inlineStyle:{},position:{x:g.x,y:g.y},showCheckBox:e._isItemCheckBoxAllowed(E.data),showRadioButton:e._isItemRadioButtonAllowed(E.data),size:{width:0,height:e._currentItemSize.height},targetPosition:{x:g.x,y:g.y},style:{},tabIndex:0,zIndex:0};c.push(T),e._updateItemStyle(T),e._scrollItemList.splice(T.index,0,T),g.y+=e._currentItemSize.height}e.update()}let y=s*e._currentItemSize.height;e._moveItemsUpward(e._scrollItemList,r+s,-y)}let a=[],l=0;for(let c=r+1;c<e._scrollItemList.length&&l<s;c++,l++){let d=e._scrollItemList[c];d.targetPosition={x:o.position.x,y:o.position.y},a.push(d)}yield e._moveItemsUpward(a,0)}}return e._internalUpdateCurrentLayout(),e._isAnimationInProcess=!1,Promise.resolve()})}_updateChildList(n,e){let t=this;n.forEach(r=>{if(t._isItemAllowed(r)){let o=e+t._options.indent;t._fullChildList.push({data:r,indent:o}),r[t._options.dataFields.items]&&t.isItemExpanded(r)&&t._updateChildList(r[t._options.dataFields.items],o)}})}_updateItemExpand(n){return N(this,null,function*(){let e=this,t=e._getObjFromScrollItem(n);if(t){let r=e._scrollItemList.indexOf(t);if(r<e._scrollItemList.length){let o=e._scrollItemList[r],s={x:o.position.x,y:o.position.y};e._fullChildList.length=0,e._updateChildList(t.data[e._options.dataFields.items],t.indent);let a=e._fullChildList.length;if(r<e._scrollItemList.length-1){let c=a*e._currentItemSize.height;e._moveItemsDownward(e._scrollItemList,r+1,c)}let l=[];e._currentCtrlSize.height=e._clientRect.height,e._clientRect.height=(e._currentList.length+a)*e._avgItemHeight;for(let c=0;c<e._fullChildList.length;c++){let d=e._fullChildList[c],p={clickPos:{x:0,y:0},data:d.data,indent:d.indent,index:c+r,inlineStyle:{},position:{x:s.x,y:s.y},showCheckBox:e._isItemCheckBoxAllowed(d.data),showRadioButton:e._isItemRadioButtonAllowed(d.data),size:{width:0,height:e._currentItemSize.height},targetPosition:{x:s.x,y:s.y+(c+1)*e._currentItemSize.height},style:{},tabIndex:0,zIndex:0};l.push(p),e._updateItemStyle(p),e._scrollItemList.splice(p.index,0,p)}yield e._moveItemsDownward(l,0)}}return e._internalUpdateCurrentLayout(),e._isAnimationInProcess=!1,Promise.resolve()})}_animateItemPos(n,e){n.forEach((t,r)=>{t.element.position={x:t.values.left,y:t.element.position.y}}),this.update(),e&&this._clearInactiveAnimations()}_isInitAnimationAllowed(){return this._isAnimationAllowed&&this._isInitActive&&!this._initSuccess}_updateScrollItemPos(){return N(this,null,function*(){let n=this;if(n._isInitAnimationAllowed()){let e=n._animateItemPos.bind(n),t=new Lo;n._activeAnimations.push(t);let r=[];n._scrollItemList.forEach((o,s)=>{let a={left:o.position.x},l={left:o.targetPosition.x};r.push({element:o,current:a,values:l})}),yield t.animate(r,0,250,e),n.refresh()}return n._initSuccess=!0,Promise.resolve()})}_itemClickEvent(n,e){this._isEnabled&&n.which===1&&this._invokeEvent("itemClick",{event:n,item:e.data})}_itemDblClickEvent(n,e){this._isEnabled&&n.which===1&&this._invokeEvent("itemDblClick",{event:n,item:e.data})}_itemRightClickEvent(n,e){this._isEnabled&&this._invokeEvent("itemRightClick",{event:n,item:e.data})}_processLoadData(n,e,t,r){return N(this,null,function*(){yield this.clearItems(e),this._updateDataFields(t);let o=[];if(n)if(r||r===void 0){let s=[];n.forEach((a,l)=>{a[this._options.dataFields.items]=[];let c=a[this._options.dataFields.pid];s[c]?(s[c][this._options.dataFields.items]||(s[c][this._options.dataFields.items]=[]),s[a[this._options.dataFields.id]]=a,s[c][this._options.dataFields.items].push(a)):(s[a[this._options.dataFields.id]]=a,o.push(a))}),s.length=0}else o=n;return e?(o.map(s=>s[this._options.dataFields.pid]=e[this._options.dataFields.id]),e[this._options.dataFields.items]=o):this.items&&(this.items.length=0,o.map(s=>this.items.push(s))),this._invokeEvent("loadComplete"),this._internalUpdateLayout(),Promise.resolve()})}_updateData(){this._dataService.init([{data:this.items}])}_updateDataFields(n){n?this._options.dataFields={allowCheckBox:n.allowCheckBox?n.allowCheckBox:"allowCheckBox",allowDrag:n.allowDrag?n.allowDrag:"allowDrag",allowDrop:n.allowDrop?n.allowDrop:"allowDrop",allowEdit:n.allowEdit?n.allowEdit:"allowEdit",allowFocus:n.allowFocus?n.allowFocus:"allowFocus",allowRadioButton:n.allowRadioButton?n.allowRadioButton:"allowRadioButton",autoCheck:n.autoCheck?n.autoCheck:"autoCheck",canSelect:n.canSelect?n.canSelect:"canSelect",checkBoxSettings:n.checkBoxSettings?n.checkBoxSettings:"checkBoxSettings",checked:n.checked?n.checked:"checked",checkState:n.checkState?n.checkState:"checkState",childCount:n.childCount?n.childCount:"childCount",content:n.content?n.content:"content",contentVisibility:n.contentVisibility?n.contentVisibility:"contentVisibility",contextMenu:n.contextMenu?n.contextMenu:"contextMenu",enabled:n.enabled?n.enabled:"enabled",expanded:n.expanded?n.expanded:"expanded",group:n.group?n.group:"group",hasChildren:n.hasChildren?n.hasChildren:"hasChildren",icon:n.icon?n.icon:"icon",iconUrl:n.iconUrl?n.iconUrl:"iconUrl",id:n.id?n.id:"id",items:n.items?n.items:"items",name:n.name?n.name:"name",objects:n.items?n.items:"items",pid:n.pid?n.pid:"pid",radioGroup:n.radioGroup?n.radioGroup:"radioGroup",selected:n.selected?n.selected:"selected",showCheckBox:n.showCheckBox?n.showCheckBox:"showCheckBox",statusIcon:n.statusIcon?n.statusIcon:"statusIcon",style:n.style?n.style:"style",templateObj:n.templateObj?n.templateObj:"templateObj",text:n.text?n.text:"text",tooltip:n.tooltip?n.tooltip:"tooltip",value:n.value?n.value:"value",visible:n.visible?n.visible:"visible"}:this._options.dataFields={allowCheckBox:"allowCheckBox",allowDrag:"allowDrag",allowDrop:"allowDrop",allowEdit:"allowEdit",allowFocus:"allowFocus",allowRadioButton:"allowRadioButton",autoCheck:"autoCheck",canSelect:"canSelect",checkBoxSettings:"checkBoxSettings",checked:"checked",checkState:"checkState",childCount:"childCount",content:"content",contentVisibility:"contentVisibility",contextMenu:"contextMenu",enabled:"enabled",expanded:"expanded",group:"group",hasChildren:"hasChildren",icon:"icon",iconUrl:"iconUrl",id:"id",items:"items",name:"name",objects:"items",pid:"pid",radioGroup:"radioGroup",selected:"selected",showCheckBox:"showCheckBox",statusIcon:"statusIcon",style:"style",templateObj:"templateObj",text:"text",tooltip:"tooltip",value:"value",visible:"visible"},this._dataService&&this._dataService.updateDataFields(this._options.dataFields)}_updateOptions(n){n?(this._options={allowDrag:this._commonService.isFieldAvailable(n.allowDrag,!1),allowDrop:this._commonService.isFieldAvailable(n.allowDrop,!1),allowFilter:this._commonService.isFieldAvailable(n.allowFilter,!1),allowFocus:this._commonService.isFieldAvailable(n.allowFocus,!1),dataFields:null,selectedItem:this._commonService.isFieldAvailable(n.selectedItem,this._options.selectedItem?this._options.selectedItem:null)},this._updateShowScroll(n.showScroll)):(this._options={allowDrag:!1,allowDrop:!1,allowFilter:!1,allowFocus:!1,dataFields:null,selectedItem:null},this._updateDataFields(),this._updateShowScroll())}_resetScrollItemList(){this._scrollItemList.length=0,this.update()}_updateScrollItemList(n){this._resetScrollItemList()}_updateShowScroll(n){n?this._options.showScroll={horizontal:this._commonService.isFieldAvailable(n.horizontal,!0),vertical:this._commonService.isFieldAvailable(n.vertical,!0)}:this._options.showScroll={horizontal:!0,vertical:!0}}_isItemCheckBoxAllowed(n){return!1}_isItemRadioButtonAllowed(n){return!1}_addDropMark(n){this._removeDropMark(),(this._currentDragDropMode!==Dr.Dynamic||this._dragItemObj!==null)&&(this._dragCmp=document.createElement("iui-dragwin",{is:Gz}),this._dragCmp&&(this._dragCmp.colorScheme=this._currentColorScheme,this._dragCmp.customStyle=this.customStyle,this._dragCmp.resourcePath=this.resourcePath,this._dragCmp.theme=this._currentTheme,document.body.appendChild(this._dragCmp),this._dragCmp.refresh()))}_removeDropMark(){this._dragCmp&&this._dragCmp.remove(),this._dragCmp=null}_calcDragMoveSpace(){return Math.floor(.4*this._currentItemSize.height)}_callDragDropEvent(n,e,t){let r={action:e.action,cancel:!1,dragObj:e.source,dropPos:e.dropPos,event:n,isDropAllowed:e.allow,mousePos:this._commonService.getMousePos(n),sourceCtrl:e.sourceCtrl,targetCtrl:e.targetCtrl,targetObj:e.target};return t?this._invokeEvent("dragDrop",r):this._invokeEvent("dragOver",r),r}_checkEmptySpace(n){let e=this._getContentSize(),t=this._commonService.getPageRect(this._elemRef),r=t.top+e.height,o=t.bottom,s=this._commonService.getMousePos(n),a=this._commonService.getShiftPos();return s.x-=a.x,s.y-=a.y,s.y>=r&&s.y<=o}_clearDragActive(){let n=this;n._isDragActiveTimeout=setTimeout(function(){n._isDragActive=!1,clearTimeout(n._isDragActiveTimeout)},100)}_clearDragTimeout(){this._isDragActiveTimeout&&clearTimeout(this._isDragActiveTimeout),this._isDragActiveTimeout=null}_clearDragDropSettings(n){n&&this._dragDropService.clearData(),this._dragItemList.length=0,this._dragItemObj=null,this._dragOverStarted=!1,this._dropPos=-1,this._hoverItem=null,this._isDragCopy=!1,this._scrollSizeAddition=0,this._removeDropMark(),this._resetDragListPos()}_clearExpandTimeout(){this._expandTimeout&&clearTimeout(this._expandTimeout),this._expandTimeout=null}_ctrlDragEnd(n){this._removeDropMark();let e=this._dragDropService.getData();e.targetCtrl&&e.targetCtrl.removeDropMark&&e.targetCtrl.removeDropMark(),this._itemDragEnd(n,null)}_ctrlDragEnter(n){this._isEnabled&&this._processDragEnter(n)}_ctrlDragDrop(n){this._isEnabled&&(this._currentDragDropMode===Dr.Static?(this._processDragDropStatic(n),this._removeDropMark()):this._processDragDropDynamic(n),n.stopPropagation())}_ctrlDragLeave(n){this._isEnabled&&this._processDragLeave(n)}_ctrlDragOver(n){this._isEnabled&&(this._currentDragDropMode===Dr.Static?(this._processDragOverStatic(n),n.stopPropagation()):this._options.allowDrop?(this._processScroll(n),this._isScrollTimerActive?this._updateDragListPos(n):this._processDragOverDynamic(n)):this._isDragActive&&this._dragItemObj&&(this._dragDropService.getData().targetCtrl?this._dropMark(n):(this._updateDropMark(n),n.stopPropagation())))}_dropMark(n,e,t){if(!this._dragCmp&&!this._isScrollTimerActive&&this._addDropMark({x:n.pageX,y:n.pageY}),this._dragCmp){let r="none";(t||this._options.allowDrop)&&(r=e?"block":"none"),this._dragCmp.display=r,this._dragCmp.refresh()}}_expandOnDelay(n){let e=this;e._isAutoExpanded!==!1&&n&&(e._expandItem!==n&&(e._clearExpandTimeout(),e._expandTimeout=setTimeout(function(){e._expandTimeout&&e.expand(n),clearTimeout(e._expandTimeout)},this._currentDragDropMode===Dr.Dynamic?750:500)),e._expandItem=n)}_updateDragComponent(n){this._dragCmp&&this._dragCmp.updatePos(n)}_isDragAllowed(n){return this._options.allowDrag?!!(n&&(n[this._options.dataFields.allowDrag]||n[this._options.dataFields.allowDrag]===void 0)):!1}_isDropAllowed(n,e,t){let r=this._options.allowDrop;if(r&&n&&e)if(e[this._options.dataFields.allowDrop]||e[this._options.dataFields.allowDrop]===void 0){r=!0;let o=!1;if(Array.isArray(n))for(let s=0;s<n.length;s++){if(o=!!(t===0&&this._isParentOf(e,n[s])),this._commonService.isEqual(n[s][this._options.dataFields.id],e[this._options.dataFields.id])||o||this._isChildOf(e,n[s])){r=!1;break}if(!r)break}else o=!!(t===0&&this._isParentOf(e,n)),(this._commonService.isEqual(n[this._options.dataFields.id],e[this._options.dataFields.id])||o||this._isChildOf(e,n))&&(r=!1)}else r=!1;return r}_processDragStartStatic(n,e){if(this._dragDropService.clearData(),this._isDragAllowed(e)){if(e)if(!this._isDragAllowed(e))n.dataTransfer?n.dataTransfer.effectAllowed="none":n.originalEvent&&n.originalEvent.dataTransfer&&(n.originalEvent.dataTransfer.effectAllowed="none");else{let t={clone:null,source:null,sourceCtrl:this,sourceData:this.items};switch(this.selectionMode){case sr.MultiSimple:case sr.MultiExtended:t.clone=this._createCloneList(this._currentSelectedItems,!0),t.source=this._currentSelectedItems;break;default:t.clone=this._createCloneList([e],!0)[0],t.source=e}let r={action:n.shiftKey?"copy":"move",cancel:!1,dragObj:t.source,dropPos:-1,event:n,isDropAllowed:this._options.allowDrop,mousePos:this._commonService.getMousePos(n),sourceCtrl:t.sourceCtrl,targetCtrl:this,targetObj:null};if(this._invokeEvent("dragStart",r),r.cancel===!0){n.preventDefault();return}else this._isDragActive=!0,this._addDropMark({x:n.pageX,y:n.pageY}),this._dropMark(n),n.dataTransfer?(n.dataTransfer.effectAllowed="move",n.dataTransfer.setData("text",e[this._options.dataFields.id]?e[this._options.dataFields.id].toString():"")):n.originalEvent&&n.originalEvent.dataTransfer&&(n.originalEvent.dataTransfer.effectAllowed="move",n.originalEvent.dataTransfer.setData("text",e[this._options.dataFields.id]?e[this._options.dataFields.id].toString():"")),this._dragDropService.setData(t)}}else n.preventDefault()}_processDragStartDynamic(n,e,t){let r=this;if(r._dragDropService.clearData(),r._isDragAllowed(e)){if(e)if(!r._isDragAllowed(e))n.dataTransfer?n.dataTransfer.effectAllowed="none":n.originalEvent&&n.originalEvent.dataTransfer&&(n.originalEvent.dataTransfer.effectAllowed="none");else{let s={clone:null,source:null,sourceCtrl:r,sourceData:r.items};switch(r.selectionMode){case sr.MultiSimple:case sr.MultiExtended:s.clone=r._createCloneList(r._currentSelectedItems,!0),s.source=r._currentSelectedItems;break;default:s.clone=r._createCloneList([e],!0)[0],s.source=e}let a={action:n.shiftKey?"copy":"move",cancel:!1,dragObj:s.source,dropPos:-1,event:n,isDropAllowed:r._options.allowDrop,mousePos:r._commonService.getMousePos(n),sourceCtrl:s.sourceCtrl,targetCtrl:r,targetObj:null};if(r._invokeEvent("dragStart",a),a.cancel===!0){n.preventDefault();return}else{r._isAnimationInProcess=!0,r._isCtrlDragEntered=!0,r._isDragActive=!0,r._dragOverStarted=!1,r._isMouseEnterAllowed=!1;let l=r._getObjFromScrollItem(e);if(l){r._updateDragItemList(s);let c=r._commonService.getShiftPos(),d=r._commonService.getMousePos(n);d.x-=c.x,d.y-=c.y,r._dragElemPos.top=t.client.y,r._dragElemSize={width:t.page.width,height:t.page.height},r._dragItemObj=l,r._dragListStartPos.top=d.y-t.page.y,r._dragListStartPos.left=d.x-t.page.x,r._currentDragPos=r._commonService.getMousePos(n),r._prevDragPos=r._commonService.getMousePos(n);let p=Array.isArray(s.source)?s.source.length:1;r._currentDragItems=Math.min(r._maxDragItems,p),r._totalDragItems=p,r._dropPos=-1,r._dragMoveSpace=r._calcDragMoveSpace(),r.update(),r._updateDragListSize(),r._dragListIndex=r._scrollItemList.indexOf(l);let g=r._scrollItemList.filter(y=>!r._isItemDragged(y.data));r._isGroupingEnabled&&(g=g.filter(y=>!(y.data.type==="group"&&!y.data.visibleOnDrag)));let C={x:r._ctrlPadding.left,y:r._ctrlPadding.top};for(let y=0;y<g.length;y++){let v=g[y];y===r._dragListIndex&&(C.y+=r._currentItemSize.height),v.position={x:C.x,y:C.y},C.y+=r._currentItemSize.height}r._dragListIndex=-1;var o=document.createElement("span");o.id="drag-ghost",o.style.position="absolute",o.style.top="-1000px",document.body.appendChild(o),n.dataTransfer.setDragImage(o,0,0),o.remove()}r._addDropMark({x:n.pageX,y:n.pageY}),r._dropMark(n),n.dataTransfer?(n.dataTransfer.effectAllowed="move",n.dataTransfer.setData("text",e[r._options.dataFields.id]?e[r._options.dataFields.id].toString():"")):n.originalEvent&&n.originalEvent.dataTransfer&&(n.originalEvent.dataTransfer.effectAllowed="move",n.originalEvent.dataTransfer.setData("text",e[r._options.dataFields.id]?e[r._options.dataFields.id].toString():"")),r._dragDropService.setData(s)}}}else n.preventDefault()}_preventDrop(n){n.dataTransfer?n.dataTransfer.dropEffect="none":n.originalEvent&&n.originalEvent.dataTransfer&&(n.originalEvent.dataTransfer.dropEffect="none")}_processDragEnter(n){this._options.allowDrop||this._preventDrop(n),this._currentDragDropMode===Dr.Static?this._processDragEnterStatic(n):this._processDragEnterDynamic(n)}_processDragEnterStatic(n){if(!this._isCtrlDragEntered){this._isCtrlDragEntered=!0;let e=this._dragDropService.getData(),t={action:n.shiftKey?"copy":"move",dragObj:e.source,dropPos:-1,event:n,isDropAllowed:this._options.allowDrop,mousePos:this._commonService.getMousePos(n),sourceCtrl:e.sourceCtrl,targetCtrl:this,targetObj:null};this._invokeEvent("dragEnter",t)}}_processDragEnterDynamic(n){if(n.preventDefault(),this._options.allowDrop&&!this._isCtrlDragEntered){this._isCtrlDragEntered=!0,this._isDragActive=!0,this._dropPos=-1,this._dropMark(n),this._updateDragItemList(),this._dragItemObj||(this._dragListStartPos.top=this._currentItemSize.height>0?this._currentItemSize.height/2:10,this._dragListStartPos.left=this._currentItemSize.width>0?this._currentItemSize.width/2:10,this._updateDragListPos(n),this.update());let e=this._dragDropService.getData();this._dragDropService.setData({action:n.shiftKey?"copy":"move",clone:e.clone,dropPos:-1,source:e.source,sourceCtrl:e.sourceCtrl,sourceData:e.sourceData,target:null,targetCtrl:this});let t={action:n.shiftKey?"copy":"move",dragObj:e.source,dropPos:-1,event:n,isDropAllowed:this._options.allowDrop,mousePos:this._commonService.getMousePos(n),sourceCtrl:e.sourceCtrl,targetCtrl:this,targetObj:null};this._invokeEvent("dragEnter",t)}}_processDragLeave(n){this._currentDragDropMode===Dr.Static?this._processDragLeaveStatic(n):this._processDragLeaveDynamic(n)}_processDragLeaveStatic(n){if(this._isCtrlDragEntered){let e=this._commonService.getPageRect(this._elemRef),t=this._commonService.getMousePos(n),r=this._commonService.getShiftPos();if(t.x-=r.x,t.y-=r.y,t.x<e.left||t.x>e.right||t.y<e.top||t.y>e.bottom){this._isCtrlDragEntered=!1,this._stopScrollTimer();let o=this._dragDropService.getData(),s={action:n.shiftKey?"copy":"move",dragObj:o.source,dropPos:-1,event:n,isDropAllowed:!1,mousePos:this._commonService.getMousePos(n),sourceCtrl:o.sourceCtrl,targetCtrl:null,targetObj:null};this._invokeEvent("dragLeave",s)}this._dropMark(n)}}_processDragLeaveDynamic(n){if(this._isCtrlDragEntered){let e=this._commonService.getPageRect(this._elemRef),t=this._commonService.getMousePos(n),r=this._commonService.getShiftPos();if(t.x-=r.x,t.y-=r.y,t.x<=e.left||t.x>=e.right||t.y<=e.top||t.y>=e.bottom){this._isCtrlDragEntered=!1,this._dragListIndex=-1,this._dropPos=-1,this._resetDragListPos(),this._updateScrollItemList(),this.update(),this._stopScrollTimer();let o=this._dragDropService.getData();this._dragDropService.setData({action:n.shiftKey?"copy":"move",clone:o.clone,dropPos:-1,source:o.source,sourceCtrl:o.sourceCtrl,sourceData:o.sourceData,target:null,targetCtrl:null});let s={action:n.shiftKey?"copy":"move",dragObj:o.source,dropPos:-1,event:n,isDropAllowed:!1,mousePos:this._commonService.getMousePos(n),sourceCtrl:o.sourceCtrl,targetCtrl:null,targetObj:null};this._invokeEvent("dragLeave",s)}}}_processDragOverStatic(n,e,t,r,o){n.preventDefault(),this._processDragEnter(n);let s=!0;if(n.dataTransfer?s=n.dataTransfer.effectAllowed!=="none":n.originalEvent&&n.originalEvent.dataTransfer&&(s=n.originalEvent.dataTransfer.effectAllowed!=="none"),s){let a=this._dragDropService.getData(),l=this._commonService.getShiftPos();if(e){let c=this._commonService.getMousePos(n);c.x-=l.x,c.y-=l.y;let d=this._dragDropService.getDropPos(c,t,r,o);s=this._isDropAllowed(a.source,e,d);let p={action:n.shiftKey?"copy":"move",source:a.source,dropPos:d,allow:s,sourceCtrl:a.sourceCtrl,target:e,targetCtrl:this},g=this._callDragDropEvent(n,p);if(!s||g.cancel===!0)this._preventDrop(n),this._dropMark(n);else{let C=this._commonService.getMousePos(n),y=C.y+16,v=C.x+20,w={"iui-dragwin-icon":!0},E="";switch(g.dropPos){case 0:E="iui-dragwin-move-in";break;case 1:o==="horizontal"?E="iui-dragwin-move-left":E="iui-dragwin-move-up";break;case 2:o==="horizontal"?E="iui-dragwin-move-right":E="iui-dragwin-move-down";break;default:E=""}E!==""&&(g.action==="copy"&&(E+="-copy"),w[E]=!0),this._updateDragComponent({class:w,top:y,left:v,text:e[this._options.dataFields.text]}),this._dropMark(n,s),this._dragDropService.setData({action:g.action,clone:a.clone,source:a.source,sourceCtrl:a.sourceCtrl,sourceData:a.sourceData,target:e,targetCtrl:this,dropPos:g.dropPos})}}else if(!this._options.allowDrop)this._preventDrop(n),this._dropMark(n);else{s=this._checkEmptySpace(n);let c={action:n.shiftKey?"copy":"move",source:a.source,dropPos:-1,allow:s,sourceCtrl:a.sourceCtrl,target:null,targetCtrl:this},d=this._callDragDropEvent(n,c);if(!s||d.cancel===!0)this._preventDrop(n),this._dropMark(n);else{let p=this._commonService.getMousePos(n),g=p.y+16,C=p.x+20,y={"iui-dragwin-icon":!0,"iui-dragwin-move-end":!0};d.action==="copy"&&(y["iui-dragwin-move-end-copy"]=!0),this._updateDragComponent({class:y,top:g,left:C,text:this.name?this.name:"Component"}),this._dropMark(n,s),this._dragDropService.setData({action:d.action,clone:a.clone,source:a.source,sourceCtrl:a.sourceCtrl,sourceData:a.sourceData,target:null,targetCtrl:this,dropPos:d.dropPos})}}}}_processDragDropStatic(n,e){n.preventDefault(),this._dropMark(n);let t=!0;n.dataTransfer?t=n.dataTransfer.effectAllowed!=="none":n.originalEvent&&n.originalEvent.dataTransfer&&(t=n.originalEvent.dataTransfer.effectAllowed!=="none");let r=this._dragDropService.getData();if(t)if(e?t=this._isDropAllowed(r.source,e,r.dropPos):t=this._checkEmptySpace(n),t&&r.source){let o={action:r.action,source:r.source,dropPos:r.dropPos,allow:t,sourceCtrl:r.sourceCtrl,target:r.target,targetCtrl:this},s=this._callDragDropEvent(n,o,!0);this._dragDropService.setData({action:s.action,clone:r.clone,dropPos:s.dropPos,source:r.source,sourceCtrl:r.sourceCtrl,sourceData:r.sourceData,target:r.target,targetCtrl:this}),!s.cancel&&this._isProcessAllowed?this._drop(this._dragDropService.getData()):this._isDragActive=!1}else this._isDragActive=!1,this._dragDropService.clearData();else this._isDragActive=!1,this._dragDropService.clearData();this._clearDragDropSettings(),this.update()}_processDragOverDynamic(n){n.preventDefault(),this._processDragEnter(n);let e=!0;if(n.dataTransfer?e=n.dataTransfer.effectAllowed!=="none":n.originalEvent&&n.originalEvent.dataTransfer&&(e=n.originalEvent.dataTransfer.effectAllowed!=="none"),e){let t=this._dragDropService.getData();if(this._isAnimationInProcess=!0,this._dragOverStarted){this._updateDragListPos(n),this._currentDragPos=this._commonService.getMousePos(n);let r=this._scrollItemList,o=this._getDragDropTarget(e),s=o.target?o.target.data:null;e=o.pass&&this._options.allowDrop,this._dragTargetIndex>=0&&this._dragTargetIndex<r.length&&(s=r[this._dragTargetIndex].data),this._dropPos===0&&this._expandOnDelay(s);let a={action:n.shiftKey?"copy":"move",source:t.source,dropPos:s?this._dropPos:-1,allow:e,sourceCtrl:t.sourceCtrl,target:s,targetCtrl:this};this._isDragCopy=!!n.shiftKey;let l=this._callDragDropEvent(n,a);!e||l.cancel===!0?this._preventDrop(n):(this._updateDragItemPos(),this._dragDropService.setData({action:l.action,clone:t.clone,source:t.source,sourceCtrl:t.sourceCtrl,sourceData:t.sourceData,target:s,targetCtrl:this,dropPos:l.dropPos})),this._prevDragPos=this._commonService.getMousePos(n),this.update()}else{this._dragItemList.forEach(o=>o.data[this._options.dataFields.expanded]=!1);let r=this._dragItemObj?this.getNextCurrentItem(this._dragItemObj.data):null;for(;r&&this._isItemDragged(r);)r=this.getNextCurrentItem(r);this._processUpdateCurrentLayout(),this._dragItemObj&&this.isItemExpanded(this._dragItemObj.data)&&this.collapse(this._dragItemObj.data),this._scrollSizeAddition=0,t.sourceCtrl!==this?this._scrollSizeAddition=this._dragListSize.height:this._dragItemObj&&this._dragItemObj.position.y+this._currentScrollPos.y+this._dragListSize.height<this._maxScrollPos.y&&(this._scrollSizeAddition=this._dragListSize.height),this._updateScrollSize(),this._dragOverStarted=!0,this._updateScrollItemList(r),this.update(),this._dragListIndex=-1}}}_resetDragListPos(){this._dragListPos={top:-9999999,left:0}}_updateDragListPos(n){let e=this._commonService.getShiftPos(),t=this._commonService.getMousePos(n);t.x-=e.x,t.y-=e.y;let r=this._commonService.getPageRect(this._elemRef);this._dragListPos.top=t.y-r.y-this._dragListStartPos.top,this._dragListPos.left=t.x-r.x-this._dragListStartPos.left}_getDragDropTarget(n){let e=null,t=this._dragDropService.getData();if(this._currentDragPos.y>this._prevDragPos.y)for(let r=this._scrollItemList.length-1;r>=0;r--){let o=this._scrollItemList[r];if(e=o.data,this._dragListPos.top+this._dragListSize.height>o.position.y+this._dragMoveSpace&&(this._dragListIndex=r+1,this._dropPos=2,n=this._isDropAllowed(t.source,e))){this._dragTargetIndex=r;break}}else if(this._currentDragPos.y<this._prevDragPos.y)for(let r=0;r<this._scrollItemList.length;r++){let o=this._scrollItemList[r];if(e=o.data,this._dragListPos.top<o.position.y+o.size.height-this._dragMoveSpace&&(this._dragListIndex=r,this._dropPos=1,n=this._isDropAllowed(t.source,e))){this._dragTargetIndex=r;break}}return{pass:n,target:e}}_updateDragItemPos(){if(this._dragListIndex>=0){let n={x:this._ctrlPadding.left,y:this._ctrlPadding.top},e=0;for(e=0;e<this._scrollItemList.length;e++){let t=this._scrollItemList[e];e===this._dragListIndex&&(n.y+=this._dragListSize.height),e===this._dragTargetIndex&&this._updateDragIndent(this._dropPos>=0?t.indent:0),this._activeAnimations.filter(r=>r.isAnimated(t)).length===0&&this._animateTarget(t,n),n.y+=this.isSeparator(t.data)?15:this._currentItemSize.height}}}_updateDragIndent(n){}_animateTarget(n,e){let t={top:n.position.y,left:n.position.x},r={top:e.y,left:e.x};if(r.top!==t.top||r.left!==t.left){let o=this._updateAnimationValues.bind(this),s=new Lo(n);this._activeAnimations.push(s),s.animate({element:n,current:t,values:r},0,this._currentAnimationSpeedValue,o)}}_clearTargetAnimation(n){this._activeAnimations.filter(e=>e.isAnimated(n)).forEach(e=>{e.destroy(),e=void 0}),this._activeAnimations=this._activeAnimations.filter(e=>!e.isAnimated(n))}_updateAnimationValues(n,e,t){n.length>0&&(n.forEach(r=>{r.element&&(r.element.position={x:r.values.left,y:r.values.top},e&&(this._clearTargetAnimation(r.element),this._clearInactiveAnimations()))}),this.update())}_updateDragListSize(){this._dragContentElem=this.shadowRoot.querySelector("#drag-content"),this._dragContentElem&&(this._dragListSize={width:this._dragContentElem.offsetWidth,height:this._dragContentElem.offsetHeight})}_getDragItemExpandBoxStyle(n){return{}}_updateDragItemList(n){this._dragItemList.length=0;let e=n||this._dragDropService.getData();if(e.source){let t=Array.isArray(e.source)?e.source:[e.source];t.forEach(r=>{this._dragItemList.push({data:r,expanded:r[this._options.dataFields.expanded],indent:0,style:{expandBox:this._getDragItemExpandBoxStyle(r)}})}),this._currentDragItems=Math.min(this._maxDragItems,t.length),this._totalDragItems=t.length,this.refresh(),this._updateDragListSize()}}_processDragDropDynamic(n){return N(this,null,function*(){n.preventDefault(),this._dragItemList.forEach(r=>r.data[this._options.dataFields.expanded]=r.expanded),this._updateCurrentLayout(!1),this._dropMark(n),this._dragItemList.length=0,this.update();let e=!0;n.dataTransfer?e=n.dataTransfer.effectAllowed!=="none":n.originalEvent&&n.originalEvent.dataTransfer&&(e=n.originalEvent.dataTransfer.effectAllowed!=="none");let t=this._dragDropService.getData();if(e)if(t.target&&(e=this._isDropAllowed(t.source,t.target)),e&&t.source){let r={action:t.action,source:t.source,dropPos:t.dropPos,allow:e,sourceCtrl:t.sourceCtrl,target:t.target,targetCtrl:this},o=this._callDragDropEvent(n,r,!0);this._dragDropService.setData({action:o.action,clone:t.clone,dropPos:o.dropPos,source:t.source,sourceCtrl:t.sourceCtrl,sourceData:t.sourceData,target:t.target,targetCtrl:this}),!o.cancel&&this._isProcessAllowed?yield this._drop(this._dragDropService.getData()):this._isDragActive=!1}else this._isDragActive=!1,this._dragDropService.clearData();else this._isDragActive=!1,this._dragDropService.clearData();return this._clearDragDropSettings(),this.update(),Promise.resolve()})}_drop(n){return N(this,null,function*(){return this._currentDragDropMode===Dr.Static?this._dropStatic(n):this._dropDynamic(n)})}_dropDynamic(n){return N(this,null,function*(){let e=this;return new Promise(t=>{let r=e.getTopItem(),o=e._getItemCurrentIndex(r),s=0;if(n&&n.sourceCtrl){let a=n.action==="copy"&&n.clone?n.clone:n.source,l=-1;if(Array.isArray(a)){let c=[];a.forEach(d=>{if((l=e._getItemCurrentIndex(d))<o&&(s++,e._isGroupingEnabled)){let p=e._getGroupFromItem(d);p&&!p.visibleOnDrag&&s--}c.push(d)}),n.dropPos===2&&(c=c.toReversed()),e._processDataDrop(c,n)}else{if((l=e._getItemCurrentIndex(a))<o&&(s=1,e._isGroupingEnabled)){let c=e._getGroupFromItem(a);c&&!c.visibleOnDrag&&s--}e._processDataDrop([a],n)}e._isAnimationInProcess=!1,n.sourceCtrl!==n.targetCtrl&&(s=0,e._isDragActive=!1),s=n.action!=="copy"?s:0,e.scrollTo(r,s),e._processUpdateLayout(),e._clearAllSelection(),e.refresh()}e._isAnimationInProcess=!1,setTimeout(function(){e._isCtrlDragEntered=!1,e._clearDragActive(),e._clearExpandTimeout(),e._dragDropService.clearData(),t()},250)})})}_dropStatic(n){return N(this,null,function*(){let e=this;return new Promise(t=>{if(n&&n.sourceCtrl){e.suspendLayout();let r=n.action==="copy"&&n.clone?n.clone:n.source;if(Array.isArray(r)){let o=[];for(let s=0;s<r.length;s++)o.push(r[s]);n.dropPos===2&&(o=o.toReversed()),e._processDataDrop(o,n)}else e._processDataDrop([r],n);n.sourceCtrl!==n.targetCtrl&&n.sourceCtrl.updateLayout&&n.sourceCtrl.updateLayout(),e.resumeLayout(),e._clearAllSelection(),e.refresh()}setTimeout(function(){e._isCtrlDragEntered=!1,e._clearDragActive(),e._clearExpandTimeout(),e._dragDropService.clearData(),t()},250)})})}_processDataDrop(n,e){return N(this,null,function*(){let t=this;return new Promise(r=>{let o=!0;if(t._currentDragDropMode===Dr.Dynamic&&e.dropPos<0&&(e.target||t._currentList.length>0)){o=!1;let s=t._commonService.getPageRect(t._elemRef),a=t._commonService.getShiftPos(),l=t._currentDragPos.y-a.y-s.top,c=t._scrollItemList[t._scrollItemList.length-1];c&&l>=c.position.y+c.size.height&&l<=s.height&&(o=!0)}if(o){if(e.action!=="copy"&&e.sourceCtrl&&e.sourceCtrl.removeItem&&e.sourceCtrl.removeItem(n),t._isGroupingEnabled&&e.dropPos>0&&e.target){let s=e.target[t._options.dataFields.group];if(e.target.type==="group"){let a=e.dropPos===1?t.getPrevObj(e.target,t._currentGroupList):e.target;if(s=a?a[t._options.dataFields.name]:void 0,a){let l=t._currentGroupBy?t._currentGroupBy:t._options.dataFields.group,c=t._fullList.filter(d=>d[l]===a[t._options.dataFields.name]&&t._isItemAllowed(d));c.length>0&&(e.dropPos===1?(e.target=c[c.length-1],e.dropPos=2):(e.target=c[0],e.dropPos=1))}else e.dropPos=-1}n.forEach(a=>a[t._options.dataFields.group]=s)}switch(e.dropPos){case 0:t.insertItemAt(n,t._currentDragDropMode===Dr.Dynamic?0:-1,e.target);break;case 1:t.insertItemBefore(n,e.target);break;case 2:t.insertItemAfter(n,e.target);break;default:t.addItem(n)}}else r()})})}_itemDragStart(n,e,t){if(this._isEnabled)if(this._currentDragDropMode===Dr.Static)this._processDragStartStatic(n,e.data);else{let r=this._getItemElemList();if(r&&t>=0&&t<r.length){let o=this._commonService.getPageRect(r[t]),s={x:o.left,y:o.top,width:o.right-o.left,height:o.bottom-o.top},a={x:(o=this._commonService.getClientRect(this._elemRef,r[t])).left,y:o.top,width:o.right-o.left,height:o.bottom-o.top};this._processDragStartDynamic(n,e.data,{page:s,client:a})}}n.stopPropagation()}_itemDragOver(n,e,t,r){if(this._isEnabled&&this._currentDragDropMode===Dr.Static&&this._options.allowDrop){let o=this._getItemElemList();if(o&&t>=0&&t<o.length){let s=this._commonService.getPageRect(o[t]),a={x:s.left,y:s.top,width:s.right-s.left,height:s.bottom-s.top};this._expandOnDelay(e.data),this._processScroll(n),this._isScrollTimerActive||this._processDragOverStatic(n,e.data,a,r)}n.stopPropagation()}}_itemDragDrop(n,e){this._isEnabled&&this._currentDragDropMode===Dr.Static&&(this._processDragDropStatic(n,e.data),n.stopPropagation())}_itemDragEnd(n,e){let t=this._dragDropService.getData(),r={action:n.shiftKey?"copy":"move",dragObj:t.source,dropPos:t.dropPos,event:n,mousePos:this._commonService.getMousePos(n),sourceCtrl:t.sourceCtrl,targetCtrl:this,targetObj:t.target};this._invokeEvent("dragEnd",r),this.updateLayout(),this._clearDragDropSettings(),this._isAnimationInProcess=!1}_updateDropMark(n){let e=this._commonService.getMousePos(n),t=e.y+16,r=e.x-8,o=this._dragItemObj.data[this._options.dataFields.text];this._updateDragComponent({num:this._totalDragItems,top:t,left:r,text:o}),this._dropMark(n,!0,!0)}_windowDragOver(n){if(this._currentDragDropMode===Dr.Dynamic&&this._isDragActive&&this._dragItemObj){let e=this._commonService.getPageRect(this._elemRef),t=this._commonService.getMousePos(n),r=this._commonService.getShiftPos();t.x-=r.x,t.y-=r.y,t.x<e.left||t.x>e.right||t.y<e.top||t.y>e.bottom?this._dragDropService.getData().targetCtrl?this._dropMark(n):this._updateDropMark(n):this._dropMark(n)}}exportToJSON(n,e,t,r){t=t||null,n=n||this.items;let o=e||[this._options.dataFields.allowDrag,this._options.dataFields.allowDrop,this._options.dataFields.allowEdit,this._options.dataFields.allowFocus,this._options.dataFields.autoCheck,this._options.dataFields.canSelect,this._options.dataFields.checkBoxSettings,this._options.dataFields.checked,this._options.dataFields.checkState,this._options.dataFields.childCount,this._options.dataFields.content,this._options.dataFields.contentVisibility,this._options.dataFields.contextMenu,this._options.dataFields.enabled,this._options.dataFields.fixed,this._options.dataFields.fixChildren,this._options.dataFields.group,this._options.dataFields.hasChildren,this._options.dataFields.icon,this._options.dataFields.id,this._options.dataFields.name,this._options.dataFields.radioGroup,this._options.dataFields.selected,this._options.dataFields.showCheckBox,this._options.dataFields.statusIcon,this._options.dataFields.style,this._options.dataFields.templateObj,this._options.dataFields.text,this._options.dataFields.tooltip,this._options.dataFields.value,this._options.dataFields.visible];return JSON.stringify(n,o,t)}filter(n){this._filterParams=n,this._processUpdateLayout(),this._invokeEvent("filtered")}_clearHoverItem(){let n=this;if(n._hoverItem){let e=setTimeout(function(){let t=n._getObjFromScrollItem(n._hoverItem);n._hoverItem=null,n._updateItemStyle(t),clearTimeout(e)},25)}}cloneItem(n){return this._dataService.clone(n)}_createCloneList(n,e){let t=[];return n.map(r=>{let o=this.cloneItem(r);e&&delete o[this._options.dataFields.selected],t.push(o)}),t}_getFilterTree(n){return n?this._filterService.createTree(n.conditions,n.formula):null}_getGroupFromItem(n){let e=this,t=e._currentGroupBy?e._currentGroupBy:e._options.dataFields.group,r=e._currentGroupList.filter(o=>e._isGroupAllowed(o)&&o[e._options.dataFields.name]===n[t]);return r.length>0?r[0]:null}_getObjFromItem(n){return this._getObjFromList(n,this._currentList)}_getObjFromList(n,e){let t=e.filter(r=>n&&r.data===n);return t.length>0?t[0]:null}_getObjFromScrollItem(n){return this._getObjFromList(n,this._scrollItemList)}_getItemCurrentIndex(n){let e=this._getObjFromItem(n);return n&&e&&this._currentList?this._currentList.indexOf(e):-1}_getItemScrollIndex(n){return n&&this._scrollItemList?this._scrollItemList.indexOf(n):-1}_getItemElem(n){let e=this._getObjFromScrollItem(n);if(e){let t=this._getItemElemList(),r=this._getItemScrollIndex(e);if(r>=0&&r<t.length)return t[r]}return null}_getItemContentElem(n){let e=this._getObjFromScrollItem(n);if(e){let t=this._getItemContentElemList(),r=this._getItemScrollIndex(e);if(r>=0&&r<t.length)return t[r]}return null}_getItemElemList(){return this._itemElems?this._itemElems:null}_getItemContentElemList(){return this._itemContentElems?this._itemContentElems:null}getHoverItem(){return this._hoverItem}getList(n,e){let t=[];switch(n){case"current":t=this._currentList;break;case"selected":t=this._currentSelectedItems;break;case"virtual":t=this._scrollItemList?this._scrollItemList.map(r=>r.data):[];break;default:t=this._dataService.getList(e)}return t}getFullList(){return this._fullList}_updateCurrentList(){}updateFullList(){return this._fullList=[...this._dataService.getList()],this._fullList=this._applySorting(this._fullList),this._fullList}getTopItem(){return this.virtualMode!==!1&&this._scrollItemList.length>0?this._scrollItemList[0].data:null}_isChildOf(n,e){return!1}_isThereNoSelectTemplate(n){return this.contentVisibility===Co.Both&&(!this._isSelectedTemplatePresent||!n[this._options.dataFields.selected])}_isThereHoverTemplate(n){return this._isThereNoSelectTemplate(n)||this.contentVisibility===Co.Hover}_checkItemHoverVisibility(n){return n[this._options.dataFields.contentVisibility]===void 0||n[this._options.dataFields.contentVisibility]===Co.Hover||n[this._options.dataFields.contentVisibility]===Co.Both}_isContentAllowed(n,e){let t=this.contentVisibility===Co.Both;switch(e){case"hover":t=this._isThereHoverTemplate(n)&&this._checkItemHoverVisibility(n);break;case"select":{let r=t||this.contentVisibility===Co.Select,o=n[this._options.dataFields.contentVisibility]===void 0||n[this._options.dataFields.contentVisibility]===Co.Select||n[this._options.dataFields.contentVisibility]===Co.Both;t=r&&o}break;default:t=this.contentVisibility===Co.Both}return t}_isGroupAllowed(n){return n[this._options.dataFields.visible]!==!1}_isIndexInRange(n){return this._currentList?n>=0&&n<this._currentList.length:!1}_isItemAllowed(n){if(n[this._options.dataFields.visible]===!1)return!1;if(this._options.allowFilter===!1)return!0;let e=!0;if(n&&this._filterParams){let t=n[this._options.dataFields.value];t=t!==void 0?t:n[this._options.dataFields.text],this._filterParams.callback?e=this._filterParams.callback(t,n):!(e=this._filterService.match(t,this._filterParams.conditions,this._filterParams.caseSensitive,this._filterParams.formula,this._getFilterTree(this._filterParams)))&&this._filterParams.allowParent&&(e=this._filterIsThereChildren(n))}return e}isSeparator(n){return!1}_filterIsThereChildren(n){let e=!1,t=n[this._options.dataFields.items];if(t)for(let r=0;r<t.length&&!(e=this._isItemAllowed(t[r]));r++);return e}_isItemDragged(n){return n?this._dragItemList.filter(e=>e.data===n).length>0:!1}_isItemEnabled(n){return this._isEnabled&&n&&this._commonService.isTrue(n[this._options.dataFields.enabled])}isItemExpanded(n){return n?!!(n[this._options.dataFields.expanded]||n[this._options.dataFields.expanded]===void 0):!0}_isItemHovered(n){return!!(!this._isDragActive&&!this._isScrollTimerActive&&n&&n===this._hoverItem)}_isItemSelected(n){return!!(n&&n[this._options.dataFields.selected]===!0)}_isParentOf(n,e){return!1}_updateItemList(){}beginLoad(n){this._isLoading=!0,this.update();let e=this.shadowRoot.querySelector(".iui-loading-icon");e&&(this._loadIconPos={top:(this._clientRect.height-e.offsetHeight)/2,left:(this._clientRect.width-e.offsetWidth)/2})}endLoad(n){let e=this;e._isLoading=!1,e._isLoadingEnd=!0,e.update(),e._loadingEndTimeout=setTimeout(function(){e._isLoadingEnd=!1,e.update(),clearTimeout(e._loadingEndTimeout)},400)}_getLastItemIndex(){return this._fullList.length-1}getPrevCurrentItem(n){let e=null;if(n){let t=this._currentList,r=this._getItemCurrentIndex(n);(r=r>0?r-1:-1)>=0&&(e=t[r].data)}return e}getPrevItem(n){return this.getPrevObj(n,this._fullList)}getPrevObj(n,e){let t=null;if(n){let r=e.filter(o=>o.visibleOnDrag!==!1).indexOf(n);(r=r>0?r-1:-1)>=0&&(t=e[r])}return t}getNextCurrentItem(n){let e=null;if(n){let t=this._currentList,r=this._getItemCurrentIndex(n);(r=r>=0&&r<t.length-1?r+1:-1)>=0&&(e=t[r].data)}return e}getNextItem(n){return this.getNextObj(n,this._fullList)}getNextObj(n,e){let t=null;if(n){let r=e.indexOf(n);(r=r<e.length-1?r+1:-1)>=0&&(t=e[r])}return t}moveItem(n,e,t,r){return N(this,null,function*(){if(n){let o=-1;switch(e){case Kt.At:o=r;break;case Kt.Down:t=this.getNextItem(n);break;case Kt.First:o=0;break;case Kt.Last:this._fullList.length>0&&(t=this._fullList[this._fullList.length-1]);break;case Kt.Up:t=this.getPrevItem(n);break;default:o=-1}let s=Array.isArray(n)?n:[n];yield this._moveItemAt(s,t,e,o)}return Promise.resolve()})}_moveItemAt(n,e,t,r){return N(this,null,function*(){let o=this;if(!e){if(t===Kt.Before||t===Kt.Up)return Promise.resolve();if(t===Kt.After||t===Kt.Down||t===Kt.Last)return Promise.resolve()}o._isUpdateAllowed=!1;let s=n.filter(a=>o._fullList.indexOf(a)>=0);o._getItemCurrentIndex(s[0])>o._getItemCurrentIndex(s[s.length-1])&&(s=s.toReversed());for(let a=0;a<s.length;a++){let l=s[a];yield o.removeItem(l),t===Kt.First||t===Kt.Right||t===Kt.At?yield this.insertItemAt(l,r,e):t===Kt.Before||t===Kt.Up?yield this.insertItemBefore(l,e):(t===Kt.After||t===Kt.Left||t===Kt.Down||t===Kt.Last)&&(yield this.insertItemAfter(l,e))}return o._isUpdateAllowed=!0,o._internalUpdateLayout(),o._invokeEvent("itemMoved",{item:s}),Promise.resolve()})}_getSelectBlockRect(n){let e={left:0,top:"-9999999px",height:0,width:0};return n<this._blockSelectRect.length&&(e={left:this._blockSelectRect[n].left+"px",top:this._blockSelectRect[n].top+"px",height:this._blockSelectRect[n].height+"px",width:this._blockSelectRect[n].width+"px"}),e}_hoverBlockMouseMove(n){this._isEnabled&&!this._isScrollActive&&!this._hoverItem&&this._itemMouseEnter(n,this._hoverItemObj)}_hoverBlockMouseLeave(n){this._isEnabled&&!this._isScrollActive&&this._itemMouseLeave(n,this._hoverItemObj)}_itemMouseEnter(n,e){this._isEnabled&&!this._isDragActive&&!this._isScrollActive&&!this.isSeparator(e.data)&&(this._hoverItem=e.data,this._hoverItemObj=e,this._updateItemStyle(e),this.update(),this._invokeEvent("itemHover",{item:e.data}))}_itemMouseMove(n,e){if(this._isEnabled&&!this._isDragActive&&!this._isScrollActive){this._hoverItem=e.data,this._updateItemStyle(e);let t=this._getItemScrollIndex(e),r=this._getItemElemList();if(r&&t>=0&&t<r.length){let o=this._commonService.getPageRect(this._elemRef),s=this._commonService.getPageRect(r[t]);this._blockHoverRect.top=s.top-o.top-1,this._blockHoverRect.width=this._clientRect.width-2,this.isVerScrollVisible()&&(this._blockHoverRect.width-=16,this._currentScrollAppearance===Sn.Dynamic&&(this._blockHoverRect.width+=7)),this.update()}this._invokeEvent("itemHover",{item:e.data})}}_itemMouseLeave(n,e){this._isEnabled&&!this._isScrollActive&&(this._hoverItem=null,this._updateItemStyle(e),this.update())}_itemGotFocus(n){this._isEnabled&&!this._isScrollActive&&(this.focusedItem=n.data)}_itemLostFocus(n){this.focusedItem=null,this.refresh()}_itemKeyDown(n,e){if(this._isEnabled){let t={cancel:!1,item:e.data,event:n};switch(this._invokeEvent("keyDown",t),n.keyCode){case 9:break;case 13:this._invokeEvent("beforeEdit",t);break;case 27:break;case 33:!t.cancel&&this._options.allowFocus&&(n.preventDefault(),this._isKeyboardActive=!0,this._processPageUpKey(e));break;case 34:!t.cancel&&this._options.allowFocus&&(n.preventDefault(),this._isKeyboardActive=!0,this._processPageDownKey(e));break;case 35:!t.cancel&&this._options.allowFocus&&(n.preventDefault(),this._isKeyboardActive=!0,this._processEndKey(e));break;case 36:!t.cancel&&this._options.allowFocus&&(n.preventDefault(),this._isKeyboardActive=!0,this._processHomeKey(e));break;case 37:!t.cancel&&this._options.allowFocus&&(n.preventDefault(),this._isKeyboardActive=!0,this._processLeftArrowKey(e));break;case 32:break;case 38:!t.cancel&&this._options.allowFocus&&(n.preventDefault(),this._isKeyboardActive=!0,this._processUpArrowKey(e));break;case 39:!t.cancel&&this._options.allowFocus&&(n.preventDefault(),this._isKeyboardActive=!0,this._processRightArrowKey(e));break;case 40:!t.cancel&&this._options.allowFocus&&(n.preventDefault(),this._isKeyboardActive=!0,this._processDownArrowKey(e));break;default:this._defaultFunc()}}}_itemKeyPress(n,e){if(this._isEnabled){let t={cancel:!1,item:e.data,event:n};this._invokeEvent("keyPress",t)}}_itemKeyUp(n,e){if(this._isEnabled){let t={cancel:!1,item:e.data,event:n};this._invokeEvent("keyUp",t)}}_refreshFocusedItem(n){let e=this;setTimeout(function(){e._currentFocusObj=n,e._updateFocusItem(),e.refresh()},1)}_updateFocusItem(){if(this._options.allowFocus&&this._currentFocusObj){let n=this._getItemContentElem(this._currentFocusObj.data);n&&n.focus()}}_processDownArrowKey(n,e){let t=this._getDownItem(n);if(t){let r=this,o=setTimeout(function(){r._processSelection(e,t.data),clearTimeout(o)},1);this._isLastItem(t)&&this.scrollPos({x:this._currentScrollPos.x,y:this._currentScrollPos.y+2*this._avgItemHeight}),this.focusedItem=t.data,this.refresh()}return t}_processEndKey(n,e){let t=null;if(this._scrollItemList.length>0){this.scrollPos({x:this._currentScrollPos.x,y:this._maxScrollPos.y});let r=this;setTimeout(function(){t=r._scrollItemList[r._scrollItemList.length-1],r.focusedItem=t.data;let o=setTimeout(function(){r._processSelection(e,t.data),clearTimeout(o)},1)},1)}return t}_processHomeKey(n,e){let t=null;if(this._scrollItemList.length>0){this.scrollPos({x:this._currentScrollPos.x,y:0});let r=this;setTimeout(function(){t=r._scrollItemList[0],r.focusedItem=t.data;let o=setTimeout(function(){r._processSelection(e,t.data),clearTimeout(o)},1)},1)}return t}_processLeftArrowKey(n,e){return null}_processPageDownKey(n,e){let t=null;if(this._scrollItemList.length>0){this.scrollPos({x:this._currentScrollPos.x,y:this._currentScrollPos.y+this._avgItemHeight*(this._scrollItemList.length-1)});let r=this;setTimeout(function(){let o=n.index>=0&&n.index<r._scrollItemList.length?n.index:r._scrollItemList.length-1;r._currentScrollPos.y===r._maxScrollPos.y&&(o=r._scrollItemList.length-1),t=r._scrollItemList[o],r.focusedItem=t.data;let s=setTimeout(function(){r._processSelection(e,t.data),clearTimeout(s)},1)},1)}return t}_processPageUpKey(n,e){let t=null;if(this._scrollItemList.length>0){this.scrollPos({x:this._currentScrollPos.x,y:this._currentScrollPos.y-this._avgItemHeight*(this._scrollItemList.length-1)});let r=this;setTimeout(function(){let o=n.index>=0&&n.index<r._scrollItemList.length?n.index:0;r._currentScrollPos.y===0&&(o=0),t=r._scrollItemList[o],r.focusedItem=t.data;let s=setTimeout(function(){r._processSelection(e,t.data),clearTimeout(s)},1)},1)}return t}_processRightArrowKey(n,e){return null}_processUpArrowKey(n,e){let t=this._getUpItem(n);if(t){let r=this,o=setTimeout(function(){r._processSelection(e,t.data),clearTimeout(o)},1);this._isFirstItem(t)&&this.scrollPos({x:this._currentScrollPos.x,y:this._currentScrollPos.y-this._avgItemHeight}),this.focusedItem=t.data,this.refresh()}return t}_getDownItem(n){let e=n.index>=0&&n.index<this._scrollItemList.length-1?n.index+1:-1;return e>=0?this._scrollItemList[e]:null}_getUpItem(n){let e=n.index>0?n.index-1:-1;return e>=0?this._scrollItemList[e]:null}_isFirstItem(n){return n.index===0}_isLastItem(n){return n.index===this._scrollItemList.length-2}moveFocus(n,e){if(!this._options.allowFocus)return null;let t=null,r=this._getObjFromScrollItem(n);if(r)switch(e){case"down":t=this._processDownArrowKey(r);break;case"end":t=this._processEndKey(r);break;case"home":t=this._processHomeKey(r);break;case"left":t=this._processLeftArrowKey(r);break;case"pagedown":t=this._processPageDownKey(r);break;case"pageup":t=this._processPageUpKey(r);break;case"right":t=this._processRightArrowKey(r);break;case"up":t=this._processUpArrowKey(r);break;default:this._defaultFunc()}return t?t.data:null}_windowKeyDown(n){this._isEnabled&&this._isKeyboardActive&&n.preventDefault()}_windowKeyUp(n){this._isKeyboardActive=!1}_checkForSelectionChange(){if(this._currentSelectedItems.length>0){let n=this.getFullList(),e=[];if(this._currentSelectedItems.forEach(t=>{n.filter(r=>this._commonService.isEqual(r[this._options.dataFields.id],t[this._options.dataFields.id])).length===0&&e.push(t)}),e.length>0){let t=[];e.forEach(r=>{r[this._options.dataFields.selected]=!1,t.push(this._currentSelectedItems.indexOf(r))}),this._currentSelection&&e.filter(r=>this._commonService.isEqual(this._currentSelection[this._options.dataFields.id],r[this._options.dataFields.id])).length>0&&(this._currentSelection=null);for(let r=t.length-1;r>=0;r--)this._currentSelectedItems.splice(t[r],1);this._invokeEvent("selectionChanged",{item:this._currentSelection})}}}_getContentSize(){return{width:0,height:0}}_internalUpdateCurrentLayout(){let n=this;n._resetLayoutTimer(),n._updateTimer=setTimeout(function(){n._updateTimer&&n._processUpdateCurrentLayout(),n._resetLayoutTimer()},100)}_processUpdateCurrentLayout(){let n=this;return new Promise(e=>{if(n._isAnimationAllowed||n._isUpdateAllowed){let t=n._currentFocusObj?n._currentFocusObj.data:null;n._currentCtrlSize={width:n._clientRect.width,height:n._clientRect.height},n._updateClientRect(),n._updateCurrentList(),n.updateFullList(),n._updateScrollItemList(),n.update(),n._updateScrollSize(),n._updateBlockSize(),n._updateItemElems(),n._updateCurrentItemSize(),n._updateVisibleRange(),n._updateScrollItemList(),n._currentItemSize.width=n._contentSize.width,n._isAutoSized&&(n._clientRect.height=n._visibleRange*n._avgItemHeight,n._updateCtrlSize(10)),t&&(n.focusedItem=t),n.update(),n._updateItemElems()}e()})}_updateBlockSize(){this._blockSize={width:0,height:0}}_resetAnimationCheckTimer(){this._animationCheckTimer&&clearInterval(this._animationCheckTimer),this._animationCheckTimer=null}_resetLayoutTimer(){this._updateTimer&&clearTimeout(this._updateTimer),this._updateTimer=null}suspendLayout(){this._isUpdateAllowed=!1}resumeLayout(){return N(this,null,function*(){return this._isUpdateAllowed=!0,this.updateLayout()})}_updateCheckState(){}_updateCurrentLayout(n){}_updateItemElems(){this._itemElems=this.shadowRoot.querySelectorAll("li[data-item]"),this._itemContentElems=this.shadowRoot.querySelectorAll("div[data-item-content]")}_internalUpdateLayout(){let n=this;n._resetLayoutTimer(),n._updateTimer=setTimeout(function(){n._updateTimer&&n._processUpdateLayout(),n._resetLayoutTimer()},100)}updateLayout(n){return N(this,null,function*(){let e=this,t=Promise.resolve();return e._animationCheckTimer||(e._animationCheckTimer=setInterval(function(){return N(this,null,function*(){e._isAnimationInProcess||(e._resetAnimationCheckTimer(),t=yield e._processUpdateLayout())})},100)),t})}_processUpdateLayout(){let n=this;return new Promise(e=>{if(n._isUpdateActive=!0,n._isUpdateAllowed){let t=n._currentFocusObj?n._currentFocusObj.data:null;n._stackAdd.length=0,n._stackRemove.length=0,n._updateCurrentList(),n.updateFullList(),n._ctrlPadding=n._commonService.getPadding(n._elemRef),n._currentCtrlSize={width:n._clientRect.width,height:n._clientRect.height},n._updateClientRect(),n._updateScrollItemList(),n.update(),setTimeout(function(){n._updateItemElems(),n._updateVisibleRange(),setTimeout(function(){n._updateItemElems(),n._updateBlockSize(),n._checkForSelectionChange(),n._updateCurrentItemSize(),n._updateCheckState(),n._updateScrollSize(),n._updateVisibleRange(),n._updateScrollItemList(),n.refresh(),n._currentItemSize={width:n._contentSize.width,height:n._avgItemHeight},n._isAutoSized?(n._clientRect.height=n._visibleRange*n._avgItemHeight,n._updateCtrlSize()):n._currentCtrlSize={width:n._clientRect.width,height:n._clientRect.height},n._updateScrollItemPos(),setTimeout(function(){n._updateBlockSize(),t&&(n.focusedItem=t),n._isUpdateActive=!1,n._updateItemElems(),n._updateHoverContentPos(),n._updateSelectContentPos(),n.refresh(),n._invokeEvent("updateComplete"),e()},1)},1)},1)}else e()})}_updateClientRect(){this._ctrlPadding=this._commonService.getPadding(this._elemRef),this._elemRef.clientWidth>0&&this._elemRef.clientHeight>0&&(this._clientRect={width:this._elemRef.clientWidth-(this._ctrlPadding.left+this._ctrlPadding.right),height:this._elemRef.clientHeight-(this._ctrlPadding.top+this._ctrlPadding.bottom)})}_updateCurrentItemSize(){let n=this;n._avgItemHeight=0;let e=n._getItemElemList();if(e&&e.length>0){let t=0;for(let r=0;r<e.length;r++)t+=e[r].offsetHeight;n._avgItemHeight=Math.floor(t/e.length)}n._currentItemSize.height=n._avgItemHeight}_updateScrollSize(){let n=this;n._contentSize={width:n._clientRect.width-2,height:n._clientRect.height-2},n._scrollSize={width:0,height:n._avgItemHeight*n._currentList.length-n._clientRect.height+n._avgItemHeight},n._isDragActive&&(n._scrollSize.height+=n._scrollSizeAddition),n.isVerScrollVisible()&&(n._contentSize.width-=16,n._currentScrollAppearance===Sn.Dynamic&&(n._contentSize.width+=5),n._scrollSize.width>0&&(n._scrollSize.width+=16)),n.isHorScrollVisible()&&(n._scrollSize.height+=16),n._scrollSize.width=Math.max(0,n._scrollSize.width),n._scrollSize.height=Math.max(0,n._scrollSize.height),n._maxScrollPos={x:n._scrollSize.width,y:n._scrollSize.height},n._currentScrollPos.x>n._maxScrollPos.x&&n._changeHorizontalScrollPos(n._maxScrollPos.x),n._currentScrollPos.y>n._maxScrollPos.y&&n._changeVerticalScrollPos(n._maxScrollPos.y),n._scrollBarSize={width:n.isVerScrollVisible()?n._clientRect.width-14:n._clientRect.width,height:n.isHorScrollVisible()?n._clientRect.height-14:n._clientRect.height},n._currentScrollAppearance===Sn.Static?(n._scrollBarSize.width-=4,n._scrollBarSize.height-=4):(n.isVerScrollVisible()&&(n._scrollBarSize.height+=2),n.isHorScrollVisible()&&(n._scrollBarSize.width+=2),n.isVerScrollVisible()&&n.isHorScrollVisible()&&(n._scrollBarSize.width+=5,n._scrollBarSize.height+=5)),n._scrollLargeChange={x:n._scrollBarSize.width,y:n._scrollBarSize.height},n._blockHoverRect={height:n._avgItemHeight-2,left:0,top:-9999999,width:n._clientRect.width-2};let e={height:n._avgItemHeight-2,left:0,top:-9999999,width:n._clientRect.width-2};n.isVerScrollVisible()&&(n._blockHoverRect.width-=16,e.width-=16,n._currentScrollAppearance===Sn.Dynamic&&(n._blockHoverRect.width+=7,e.width+=7)),n._blockSelectRect.forEach(t=>{t.width=e.width,t.height=e.height})}_updateHoverContentPos(){let n=this;if(n._blockHoverRect={height:n._avgItemHeight-2,left:0,top:-9999999,width:n._clientRect.width-2},n._hoverItem&&n._isHoverTemplatePresent){let e=n._getObjFromScrollItem(n._hoverItem),t=n._getItemScrollIndex(e),r=n._getItemElemList();if(r&&t>=0&&t<r.length){let o=n._commonService.getPageRect(n._elemRef),s=n._commonService.getPageRect(r[t]);n._blockHoverRect.top=s.top-o.top-1,n.isVerScrollVisible()&&(n._blockHoverRect.width-=16,n._currentScrollAppearance===Sn.Dynamic&&(n._blockHoverRect.width+=7)),n.update()}}}_updateSelectContentPos(){let n=this;if(n._blockSelectRect.length=0,n._isSelectedTemplatePresent){let e=n._commonService.getPageRect(n._elemRef),t=n._getItemElemList();n._blockSelectHeight=n._avgItemHeight-2,n._currentSelectedItems.forEach(r=>{let o=n._getObjFromScrollItem(r),s=n._getItemScrollIndex(o),a={height:n._blockSelectHeight,left:0,top:-9999999,width:n._clientRect.width-2};n.isVerScrollVisible()&&(a.width-=16);let l=n._commonService.getPageRect(t[s]);t&&s>=0&&s<t.length?a.top=l.top-e.top-1:a.top=-9999999,n._blockSelectRect.push(a)})}}_updateVisibleRange(){if(this._isAutoSized)this._visibleRange=this._currentList.length;else{this._visibleRange=1;let n=this._getItemElemList();if(n&&n.length>0){let e=0;for(let r=0;r<n.length;r++)e+=n[r].offsetHeight;let t=Math.floor(e/n.length);t>0&&(this._visibleRange=Math.floor(this._clientRect.height/t)+1)}}}updateView(){this._currentIndex=this._avgItemHeight>0?Math.floor(this._currentScrollPos.y/this._avgItemHeight):0,this._currentIndex!==this._prevIndex?(this._updateScrollItemList(),this._updateBlockSize(),this._prevIndex=this._currentIndex,this.update(),this._updateItemElems()):this.update(),this._updateHoverContentPos(),this._updateSelectContentPos()}_updateCloneElemPos(n){n.which===1&&this._cloneElem&&(this._cloneElem.style.top=n.pageY-this._cloneElemStartPos.y+"px",this._cloneElem.style.left=n.pageX-this._cloneElemStartPos.x+"px")}_ctrlMouseEnter(n){this._isEnabled&&(n.which===1&&this._cloneElem&&(this._cloneElem.style.display="block"),this.state|=Hi.Hovered,this._currentScrollAppearance===Sn.Dynamic&&(this._isScrollVisible=!0)),this._ctrlCursor="default",this.update()}_ctrlMouseLeave(n){this._isEnabled&&(n.which===1&&this._cloneElem&&(this._cloneElem.style.display="none"),this.state&=~Hi.Hovered,this._currentScrollAppearance===Sn.Dynamic&&(this._resetScrollAppearanceTimeout(),this._isScrollVisible=!!this._isScrollActive)),this._blockHoverRect.top=-9999999,this.update(),this._stopScrollTimer()}_onCtrlMouseMove(n){this._hoverItem||(this._blockHoverRect.top=-9999999,this.update())}_itemMouseDown(n,e){this._isEnabled&&(this._isItemClicked=!0,this._options.allowFocus&&n.which===1&&(this.focusedItem=e.data),e.data.type==="group"&&n.which===1?this.toggle(e.data):this._processSelection(n,e.data),this._prevClickedObj&&(this._prevClickedObj.isClicked=!1),e.isClicked=!0,e.clickPos=this._commonService.getClientPos(n,this._elemRef),this._prevClickedObj=e),n.stopPropagation()}_itemMouseUp(n,e){this._isEnabled&&this._isItemClicked&&this._updateSelection(n,e.data),this._isItemClicked=!1}_onScroll(n){n.target&&(this.virtualMode?(n.target.scrollTop=0,n.target.scrollLeft=0):this.scrollPos({x:n.target.scrollLeft,y:n.target.scrollTop}))}scrollPos(n){return n&&(this._currentScrollPos={x:Math.max(0,Math.min(n.x,this._maxScrollPos.x)),y:Math.max(0,Math.min(n.y,this._maxScrollPos.y))},this.updateView(),this._invokeEvent("scrollPosChanged",{value:this._currentScrollPos,max:this._maxScrollPos})),{x:Math.floor(this._currentScrollPos.x),y:Math.floor(this._currentScrollPos.y)}}_changeHorizontalScrollPos(n){this._currentScrollPos.x=Math.max(0,Math.min(n,this._maxScrollPos.x)),this._currentScrollPos.x!==this._prevScrollPos.x&&(this._invokeEvent("scrollPosChanged",{value:this.scrollPos(),max:this._maxScrollPos}),this._prevScrollPos.x=this._currentScrollPos.x,this.update())}_changeVerticalScrollPos(n){this._currentScrollPos.y=Math.max(0,Math.min(n,this._maxScrollPos.y)),this._currentScrollPos.y!==this._prevScrollPos.y&&(this.updateView(),this._invokeEvent("scrollPosChanged",{value:this.scrollPos(),max:this._maxScrollPos}),this._prevScrollPos.y=this._currentScrollPos.y)}_processMouseWheel(n,e){if(this._isEnabled){this._hoverItem=null,this._isMouseWheelActive=!0;let t=Math.max(-1,Math.min(1,n.wheelDelta||-n.detail)),r=5;switch(this._mouseWheelSpeed){case $o.VerySlow:r=15;break;case $o.Slow:r=9;break;case $o.Fast:r=3;break;case $o.VeryFast:r=1;break;default:r=5}if(n.preventDefault(),this.isVerScrollVisible()){let o=Math.floor(this._clientRect.height/r);this._mouseWheelSpeed===$o.VerySlow&&this._avgItemHeight>0&&(o=this._avgItemHeight);let s=this._currentScrollPos.y+o*t*-1;t>0&&s<=this._avgItemHeight&&(s=0),this._changeVerticalScrollPos(s)}else if(e&&this.isHorScrollVisible()){let o=Math.floor(this._clientRect.width/r),s=this._currentScrollPos.x+o*t*-1;this._changeHorizontalScrollPos(s)}n.stopPropagation(),this._isMouseWheelActive=!1}}isVerScrollVisible(){return!!(!this._isAutoSized&&this._options.showScroll.vertical&&this._scrollSize.height>0)}isHorScrollVisible(){return!!(this._options.showScroll.horizontal&&this._scrollSize.width>0)}isScrolling(){return this._isScrollActive}_onVerticalScrollStart(n){this._hoverItem=null,this._isScrollActive=!0}_onVerticalScrollEnd(n){this._isScrollActive=!1,this._updateScrollAppearance(n.detail.event)}_onVerticalScrollChanged(n){this._isMouseWheelActive||this._changeVerticalScrollPos(n.detail.value)}_onHorizontalScrollStart(n){this._hoverItem=null,this._isScrollActive=!0}_onHorizontalScrollEnd(n){this._isScrollActive=!1}_onHorizontalScrollChanged(n){this._currentScrollPos.x=n.detail.value,this._invokeEvent("scrollPosChanged",{value:this.scrollPos(),max:this._maxScrollPos}),this.update()}_scrollMouseEnter(n){this._blockHoverRect.top=-9999999,this.update()}_processScroll(n){if(this.isVerScrollVisible()){let e=this._commonService.getShiftPos(),t=this._commonService.getMousePos(n);t.x-=e.x,t.y-=e.y;let r=this._commonService.getPageRect(this._elemRef),o=r.top+25,s=r.bottom-25;if(this.isHorScrollVisible()&&(s-=16),this._currentDragDropMode===Dr.Static)t.y<o&&this._currentScrollPos.y>0?this._startScrollTimer(!1):t.y>s&&this._currentScrollPos.y<this._maxScrollPos.y?this._startScrollTimer(!0):this._stopScrollTimer();else{let a=this._commonService.getPageRect(this._elemRef);a.y+this._dragListPos.top<o&&this._currentScrollPos.y>0?this._startScrollTimer(!1):a.y+this._dragListPos.top+this._dragListSize.height>s&&this._currentScrollPos.y<this._maxScrollPos.y?this._startScrollTimer(!0):this._stopScrollTimer()}}else this._stopScrollTimer()}_resetScrollAppearanceTimeout(){this._scrollAppearanceTimeout&&clearTimeout(this._scrollAppearanceTimeout),this._scrollAppearanceTimeout=null}_startScrollTimer(n,e){let t=this;if(t._removeDropMark(),!t._isScrollTimerActive){t._accelerator=.5,t._scrollCount=0,t._isScrollTimerActive=!0;let r=e||100;t._scrollTimerID||(t._scrollTimerID=setInterval(function(){t._scrollTimerElapsed(n)},r))}}_stopScrollTimer(){this._scrollTimerID&&(clearInterval(this._scrollTimerID),this._scrollTimerID=null),this._accelerator=.5,this._scrollCount=0,this._isScrollTimerActive=!1}_scrollTimerElapsed(n){let e=this._currentScrollPos;this._scrollCount===0&&(this._scrollCount=5),this._scrollCount+=5,this._accelerator+=.5,this._scrollCount+=Math.floor(this._accelerator);let t=this._scrollCount;n?this._currentScrollPos.y+t>this._maxScrollPos.y?this._currentScrollPos.y=this._maxScrollPos.y:this._currentScrollPos.y+=t:this._currentScrollPos.y-t<0?this._currentScrollPos.y=0:this._currentScrollPos.y-=t,(e.y<=0||this._currentScrollPos.y<e.y)&&this._stopScrollTimer(),this.update()}scrollTo(n,e){if(this.virtualMode!==!1&&n){let t=this._getItemCurrentIndex(n);t>=0&&this.scrollPos({x:this._currentScrollPos.x,y:e!==void 0?this._avgItemHeight*(t-e):this._avgItemHeight*(t+1-Math.floor(this._visibleRange/2))}),this._processUpdateLayout()}}_updateScrollAppearance(n){let e=this;e._resetScrollAppearanceTimeout(),e._scrollAppearanceTimeout=setTimeout(function(){let t=e._commonService.getPageRect(e._elemRef),r=e._commonService.getMousePos(n),o=e._commonService.getShiftPos();r.x-=o.x,r.y-=o.y;let s=r.x<t.left||r.x>t.right||r.y<t.top||r.y>t.bottom;e._isScrollVisible=!s,e.update()},100)}findItemById(n){return this._dataService.findObjectById(n)}findItemByText(n){return this._dataService.findObjectByText(n)}_callAfterSelectEvent(n){let e={item:n};this._invokeEvent("afterSelect",e),this._invokeEvent("selectionChanged",e)}_clearAllSelection(){let n=this._fullList;n&&(n.forEach(e=>e[this._options.dataFields.selected]=!1),this._currentSelection=null,this._currentSelectedItems.length=0)}clearSelection(){this._clearPrevSelection(),this._currentSelection=null,this._updateSelectContentPos(),this.refresh()}_clearComponentSelection(){this._itemList.forEach(n=>n.state&=~Hi.Selected)}_clearPrevSelection(n){for(let e=0;e<this._currentSelectedItems.length;e++)n&&!this._commonService.isEqual(this._currentSelectedItems[e][this._options.dataFields.id],n[this._options.dataFields.id])?this._currentSelectedItems[e][this._options.dataFields.selected]=!1:n||(this._currentSelectedItems[e][this._options.dataFields.selected]=!1);this._currentSelectedItems.length=0,n&&this._isItemEnabled(n)&&this._currentSelectedItems.push(n)}_isItemInSelectionList(n){let e=!1,t=this._currentSelectedItems;if(n&&t){for(let r=0;r<t.length;r++)if(this._commonService.isEqual(t[r][this._options.dataFields.id],n[this._options.dataFields.id])){e=!0;break}}return e}_isCtrlKeyPressed(n){return n&&(n.ctrlKey||n.metaKey)}_isShiftKeyPressed(n){return n&&n.shiftKey}_processSelection(n,e,t){let r=this,o=!0;if(e){if(r.selectionMode===sr.None||e.type==="group"||e[r._options.dataFields.canSelect]===!1)return;let s=r._currentSelectedItems.length>0;if(!r._isItemEnabled(e))r._clearPrevSelection(),r.refresh(),s&&this._invokeEvent("selectionChanged",{item:null});else{let a=r._currentSelection,l=!0;a&&(l=this._isCtrlKeyPressed(n)||!this._commonService.isEqual(a[r._options.dataFields.id],e[r._options.dataFields.id])||a[r._options.dataFields.selected]===!1);let c={cancel:!1,item:e};if(r._invokeEvent("beforeSelect",c),o=c.cancel!==!0,c.cancel!==!0){let d=!!(n&&(n.shiftKey||n.ctrlKey||n.metaKey));if(l){if(r.selectionMode===sr.MultiExtended&&(l=!r._isItemInSelectionList(e)||!d||this._isShiftKeyPressed(n)),l&&(r.selectionMode===sr.One||n&&n.shiftKey||!d&&r.selectionMode!==sr.MultiSimple&&(r._currentSelectedItems.length===1||!r._isItemInSelectionList(e)))&&r._clearPrevSelection(),r._currentSelection=e,n&&n.shiftKey&&r.selectionMode!==sr.One){r._shiftFirstSelectedItem||(r._shiftFirstSelectedItem=a);let p=r._getItemCurrentIndex(r._shiftFirstSelectedItem),g=r._getItemCurrentIndex(e);if(p>g){let C=p;p=g,g=C}if(r._isIndexInRange(p)&&r._isIndexInRange(g))for(let C=p;C<=g;C++)r._currentList[C].data.type!=="group"&&r._currentList[C].data[r._options.dataFields.canSelect]!==!1&&(r._currentList[C].data[r._options.dataFields.selected]=!0,r._currentSelectedItems.push(r._currentList[C].data))}else if(d||r.selectionMode===sr.MultiSimple){let p=e[r._options.dataFields.selected]===null||e[r._options.dataFields.selected]==="undefined"?!1:e[r._options.dataFields.selected];e[r._options.dataFields.selected]=!p,e[r._options.dataFields.selected]?r._isItemInSelectionList(e)||r._currentSelectedItems.push(e):r._currentSelectedItems=r._currentSelectedItems.filter(function(g){return g!==e}),r._shiftFirstSelectedItem=null}else e[r._options.dataFields.selected]=!0,r._isItemInSelectionList(e)||r._currentSelectedItems.push(e),r._shiftFirstSelectedItem=null;r._callAfterSelectEvent(e),r.refresh()}else if(d||r.selectionMode===sr.MultiSimple){let p=e[r._options.dataFields.selected]===null||e[r._options.dataFields.selected]==="undefined"?!1:e[r._options.dataFields.selected];t&&t!=="undefined"&&(p=t),e[r._options.dataFields.selected]=!p,e[r._options.dataFields.selected]?r._isItemInSelectionList(e)||r._currentSelectedItems.push(e):r._currentSelectedItems=r._currentSelectedItems.filter(function(g){return g!==e}),r._shiftFirstSelectedItem=null,r._callAfterSelectEvent(e),r.refresh()}else!d&&!(r.selectionMode&sr.MultiSimple)&&(r._currentSelectedItems.length===1||!r._isItemInSelectionList(e))&&(r._shiftFirstSelectedItem=null,r._clearPrevSelection(e),r.refresh(),l&&s&&r._invokeEvent("selectionChanged",{item:null}));r._updateSelectContentPos()}}}return o}selectItems(n){if(n&&Array.isArray(n)){this._currentSelectedItems.map(e=>e[this._options.dataFields.selected]=!1),this._currentSelectedItems.length=0;for(let e=0;e<n.length;e++)n[e][this._options.dataFields.selected]=!0,this._currentSelectedItems.push(n[e]);n.length>0?(this._currentSelection=n[n.length-1],this._callAfterSelectEvent(this._currentSelection)):this._currentSelection=null,this.refresh()}}_updateSelection(n,e){let t=!!(n&&(n.shiftKey||n.ctrlKey||n.metaKey));if(this.selectionMode===sr.MultiExtended&&e[this._options.dataFields.canSelect]!==!1&&this._currentSelectedItems.length>0&&!n.shiftKey&&!t&&n.which===1){let r=this._currentSelectedItems.length;this._clearPrevSelection(),e[this._options.dataFields.selected]=!0,this._currentSelectedItems.push(e),this._updateSelectContentPos(),r>1&&this._callAfterSelectEvent(e),this.refresh()}}_applySorting(n){let e=this;return Array.isArray(n)&&(n=[...n])&&(e._sortComparer?n.sort(e._sortComparer):e._isSortingAllowed()&&n.sort(function(t,r){let o=null,s=null;switch((o=t[e._options.dataFields.value])||(o=t.type==="group"?t[e._options.dataFields.name]:t[e._options.dataFields.text]),e._commonService.isObject(o)&&(o=o.value?o.value:o.text),(s=r[e._options.dataFields.value])||(s=r.type==="group"?r[e._options.dataFields.name]:r[e._options.dataFields.text]),e._commonService.isObject(s)&&(s=s.value?s.value:s.text),o=o!==void 0?o:null,s=s!==void 0?s:null,e._currentSorting){case Ka.Ascending:if(o<s)return-1;if(o>s)return 1;break;case Ka.Descending:if(o>s)return-1;if(o<s)return 1;break;default:return 0}return 0})),n}_isSortingAllowed(){return this._currentSorting===Ka.Ascending||this._currentSorting===Ka.Descending}sort(n,e){this._currentSorting=n,this._sortComparer=e||null,this._processUpdateLayout(),this._invokeEvent("sorted")}_getDragListClass(){return this._dragListClass={"iui-draglist":!0},this._isDragActive&&(this._dragListClass["iui-draglist-active"]=!0),this._dragListClass}_getItemInlineStyle(n){return n?n.data[this._options.dataFields.style]||{}:{}}_getScrollCornerClass(){let n={};return n[this._scrollCornerClassName]=!0,this._currentScrollAppearance===Sn.Dynamic&&(n[this._scrollCornerClassName+"-dynamic"]=!0),this._isEnabled||(n[this._scrollCornerClassName+"-disabled"]=!0),n}refresh(){this._updateControlClass(),this._scrollItemList.forEach(n=>this._updateItemStyle(n)),this.update(),this._updateReferences()}_updateItemStyle(n){if(n){n.style={expandBox:{},general:{},content:{}},n.inlineStyle=this._getItemInlineStyle(n),n.data.type==="group"?(n.style.general[this._groupClassName]=!0,n.style.general[this._options.currentStyle.group.general.normal]=!0,n.style.content[this._groupContentClassName]=!0,n.style.content[this._options.currentStyle.group.content.normal]=!0,this._isItemEnabled(n.data)||(n.style.general[this._options.currentStyle.group.general.disabled]=!0,n.style.content[this._options.currentStyle.group.content.disabled]=!0),this._options.allowFocus&&this._currentFocusObj&&n.data===this._currentFocusObj.data&&(n.style.general[this._options.currentStyle.group.general.focused]=!0,n.style.content[this._options.currentStyle.group.content.focused]=!0),n.style.expandBox[this._options.currentStyle.group.expandBox.general]=!0,n.data[this._options.dataFields.expanded]!==!1?n.style.expandBox[this._options.currentStyle.group.expandBox.expanded]=!0:n.style.expandBox[this._options.currentStyle.group.expandBox.collapsed]=!0):(n.style.general[this._itemClassName]=!0,n.style.general[this._options.currentStyle.item.general.normal]=!0,n.style.content[this._itemContentClassName]=!0,n.style.content[this._options.currentStyle.item.content.normal]=!0,this._isItemEnabled(n.data)?this._isItemSelected(n.data)?(n.style.general[this._options.currentStyle.item.general.selected]=!0,n.style.content[this._options.currentStyle.item.content.selected]=!0):this._isItemHovered(n.data)&&(n.style.general[this._options.currentStyle.item.general.hovered]=!0,n.style.content[this._options.currentStyle.item.content.hovered]=!0):(n.style.general[this._options.currentStyle.item.general.disabled]=!0,n.style.content[this._options.currentStyle.item.content.disabled]=!0),this._options.allowFocus&&this._currentFocusObj&&n.data===this._currentFocusObj.data&&(n.style.general[this._options.currentStyle.item.general.focused]=!0,n.style.content[this._options.currentStyle.item.content.focused]=!0));let e=this._getObjFromItem(n.data);e&&(e.style=n.style,e.inlineStyle=n.inlineStyle)}}_getItemStyle(n){return n?{general:this._getItemGeneralStyle(n.general),content:this._getItemContentStyle(n.content)}:this._getDefaultItemStyle()}_getItemGeneralStyle(n){return this._commonService.isString(n)?n:n?{disabled:this._commonService.isFieldAvailable(n.disabled,this._itemClassName+"-disabled"),focused:this._commonService.isFieldAvailable(n.focused,this._itemClassName+"-focused"),normal:this._commonService.isFieldAvailable(n.normal,this._itemClassName),hovered:this._commonService.isFieldAvailable(n.hovered,this._itemClassName+"-hovered"),selected:this._commonService.isFieldAvailable(n.selected,this._itemClassName+"-selected")}:this._getDefaultItemGeneralStyle()}_getItemContentStyle(n){return this._commonService.isString(n)?n:n?{disabled:this._commonService.isFieldAvailable(n.disabled,this._itemContentClassName+"-disabled"),focused:this._commonService.isFieldAvailable(n.focused,this._itemContentClassName+"-focused"),normal:this._commonService.isFieldAvailable(n.normal,this._itemContentClassName),hovered:this._commonService.isFieldAvailable(n.hovered,this._itemContentClassName+"-hovered"),selected:this._commonService.isFieldAvailable(n.selected,this._itemContentClassName+"-selected")}:this._getDefaultItemContentStyle()}_getDefaultListStyle(){return{general:this._getDefaultGeneralStyle(),group:this._getDefaultGroupStyle(),item:this._getDefaultItemStyle()}}_getDefaultGroupStyle(){return{expandBox:this._getDefaultGroupExpandBoxStyle(),general:this._getDefaultGroupGeneralStyle(),content:this._getDefaultGroupContentStyle()}}_getDefaultGroupExpandBoxStyle(){return{general:this._defaultStyle.group.expandBox.general,expanded:this._defaultStyle.group.expandBox.expanded,collapsed:this._defaultStyle.group.expandBox.collapsed}}_getDefaultGroupGeneralStyle(){return{disabled:this._defaultStyle.group.general.disabled,focused:this._defaultStyle.group.general.focused,normal:this._defaultStyle.group.general.normal,hovered:this._defaultStyle.group.general.hovered,selected:this._defaultStyle.group.general.selected}}_getDefaultGroupContentStyle(){return{disabled:this._defaultStyle.group.content.disabled,focused:this._defaultStyle.group.content.focused,normal:this._defaultStyle.group.content.normal,hovered:this._defaultStyle.group.content.hovered,selected:this._defaultStyle.group.content.selected}}_getDefaultItemStyle(){return{general:this._getDefaultItemGeneralStyle(),content:this._getDefaultItemContentStyle()}}_getDefaultItemGeneralStyle(){return{disabled:this._defaultStyle.item.general.disabled,focused:this._defaultStyle.item.general.focused,normal:this._defaultStyle.item.general.normal,hovered:this._defaultStyle.item.general.hovered,selected:this._defaultStyle.item.general.selected}}_getDefaultItemContentStyle(){return{disabled:this._defaultStyle.item.content.disabled,focused:this._defaultStyle.item.content.focused,normal:this._defaultStyle.item.content.normal,hovered:this._defaultStyle.item.content.hovered,selected:this._defaultStyle.item.content.selected}}_updateStyle(n){this._options.currentStyle=this._getDefaultListStyle()}_getItemTemplate(n,e){let t=null,r=null;if(n.type==="group")t=this.itemTemplate;else switch(e){case"hover":t=this.itemHoverTemplate;break;case"select":t=this.itemSelectTemplate;break;default:t=this.itemTemplate}if(t){let o=t(n,this._getItemCurrentIndex(n));o&&(r=new Al(o.strings,o.values,"html",sh))}if(!r){let o={},s=this._commonService.isString(n[this._options.dataFields.icon])?n[this._options.dataFields.icon].split(" "):[];s.map(l=>o[l]=!0);let a=n.type==="group"?n[this._options.dataFields.name]:n[this._options.dataFields.text];return Ke`                 ${s.length>0?Ke`<span class=${wn(o)}></span>`:Ke``}                 ${n[this._options.dataFields.iconUrl]?Ke`<img style=${Ji({verticalAlign:"middle"})} src="${n[this._options.dataFields.iconUrl]} />`:Ke``}                 <span class="iui-item-label">${a}</span>             `}return r}_itemTouchStart(n,e){this._isEnabled&&(this._options.allowFocus&&n.which===1&&(this.focusedItem=e.data),this._processSelection(n,e.data))}_itemTouchMove(n,e){}_itemTouchEnd(n,e){}_ctrlTouchStart(n){if(n.preventDefault(),this._isEnabled){let e=this._commonService.getTouchData(n);e&&e.length>0&&(this._touchStartPos={x:e[0].pageX,y:e[0].pageY})}}_ctrlTouchEnd(n){let e=this;if(e._isEnabled){let t=e._commonService.getTouchData(n);t&&t.length>0&&(e._touchEndPos={x:t[0].pageX,y:t[0].pageY});let r={dx:e._touchEndPos.x-e._touchStartPos.x,dy:e._touchEndPos.y-e._touchStartPos.y},o=!1,s=!1,a=e._touchStartPos,l={x:e._currentScrollPos.x,y:e._currentScrollPos.y},c=setInterval(function(){let d=e._currentScrollPos;r.dx<-20?(a.x-=30,a.x>e._touchEndPos.x?d.x+=30:(d.x=l.x-r.dx,o=!0)):r.dx>20?(a.x+=30,a.x<e._touchEndPos.x?d.x-=30:(d.x=l.x-r.dx,o=!0)):o=!0,r.dy<-20?(a.y-=25,a.y>e._touchEndPos.y?d.y+=25:(d.y=l.y-r.dy,s=!0)):r.dy>20?(a.y+=25,a.y<e._touchEndPos.y?d.y-=25:(d.y=l.y-r.dy,s=!0)):s=!0,e.scrollPos(d),o&&s&&clearInterval(c)},5);e._touchStartPos=e._touchEndPos}}resolve(n){if(this._isProcessAllowed=!0,this._commonService.isString(n))switch(n.toLowerCase()){case"dragdrop":this._drop(this._dragDropService.getData());break;default:this._defaultFunc()}}},zz=yk;var Xm=De`
    .iui-scrollbar {
        background: var(--iui-scrollbar-background, #f5f5f5);
        border: var(--iui-scrollbar-border, 0);
        border-color:  var(--iui-scrollbar-border-color, #f5f5f5);
        border-radius: var(--iui-scrollbar-border-radius, 1px);
        border-width: var(--iui-scrollbar-border-width, thin);
        cursor: var(--iui-scrollbar-cursor, default);
        display: var(--iui-scrollbar-display, block);
        height: var(--iui-scrollbar-height, auto);
        margin: var(--iui-scrollbar-margin, 0);
        opacity: var(--iui-scrollbar-opacity, 0);
        overflow: hidden;
        padding: var(--iui-scrollbar-padding, 2px);
        position: var(--iui-scrollbar-position, absolute);
        width: var(--iui-scrollbar-width, auto);
        z-index: var(--iui-scrollbar-z-index, 99);

        -webkit-user-select: none;
        -khtml-user-select: none;
        -moz-user-select: none;
        -o-user-select: none;
        -ms-user-select: none;
        user-select: none;
    }
    .iui-scrollbar-enter {
        opacity: var(--iui-scrollbar-enter-opacity, 1);
        transition: opacity 0.4s ease-in-out;
    }
    .iui-scrollbar-leave {
        opacity: var(--iui-scrollbar-opacity, 0);
        transition: opacity 1s ease-in-out;
    }
    .iui-scrollbar-vertical {
        border-left: var(--iui-scrollbar-vertical-border-left, thin solid #f5f5f5);
        display: var(--iui-scrollbar-vertical-display, block);
        top: 0;
        width: var(--iui-scrollbar-vertical-width, 11px);
    }
    .iui-scrollbar-horizontal {
        border-top: var(--iui-scrollbar-horizontal-border-top, thin solid #f5f5f5);
        bottom: 0;
        display: var(--iui-scrollbar-horizontal-display, block);
        height: var(--iui-scrollbar-horizontal-height, 11px);
    }
    
    /* ScrollBar Thumb */
    .iui-scrollbar-thumb {
        background: var(--iui-scrollbar-thumb-background, #e5e5e5);
        border: var(--iui-scrollbar-thumb-border, thin solid #d5d5d5);
        border-color: var(--iui-scrollbar-thumb-border-color, #d5d5d5);
        border-radius: var(--iui-scrollbar-thumb-border-radius, 2px);
        position: absolute;
        transition: background 0.25s ease-in-out, border 0.25s ease-in-out;
        z-index: var(--iui-scrollbar-thumb-z-index, 99);
    }
    .iui-scrollbar-thumb-hovered {
        background: var(--iui-scrollbar-thumb-hovered-background, #d5d5d5);
        border: var(--iui-scrollbar-thumb-hovered-border, thin solid #c5c5c5);
        border-color: var(--iui-scrollbar-thumb-hovered-border-color, #c5c5c5);
    }
    .iui-scrollbar-thumb-selected {
        background: var(--iui-scrollbar-thumb-selected-background, #c5c5c5);
        border: var(--iui-scrollbar-thumb-selected-border, thin solid #b5b5b5);
        border-color: var(--iui-scrollbar-thumb-selected-border-color, #b5b5b5);
    }
    .iui-scrollbar-thumb-vertical {
        top: 2px;
        width: var(--iui-scrollbar-thumb-vertical-width, 9px);
    }
    .iui-scrollbar-thumb-horizontal {
        left: 2px;
        height: var(--iui-scrollbar-thumb-height, 9px);
    }
    
    /* ScrollBar Dynamic */
    .iui-scrollbar-dynamic {
        background: var(--iui-scrollbar-dynamic-background, transparent);
        border-color:  var(--iui-scrollbar-dynamic-border-color, transparent);
        border-left: var(--iui-scrollbar-dynamic-border-left, 0);
        border-top: var(--iui-scrollbar-dynamic-border-top, 0);
        padding: var(--iui-scrollbar-dynamic-padding, 0);
        opacity: var(--iui-scrollbar-opacity, 0.8);
    }
    .iui-scrollbar-dynamic-enter {
        opacity: var(--iui-scrollbar-enter-opacity, 0.8);
    }
    .iui-scrollbar-dynamic-leave {
        opacity: var(--iui-scrollbar-opacity, 0);
    }
    .iui-scrollbar-dynamic-vertical {
        width: var(--iui-scrollbar-vertical-width, 9px);
    }
    .iui-scrollbar-dynamic-horizontal {
        height: var(--iui-scrollbar-vertical-height, 9px);
    }
    .iui-scrollbar-dynamic .iui-scrollbar-thumb-vertical {
        top: 0;
        width: var(--iui-scrollbar-thumb-width, 7px);
    }
    .iui-scrollbar-dynamic .iui-scrollbar-thumb-horizontal {
        left: 0;
        height: var(--iui-scrollbar-thumb-height, 7px);
    }
    .iui-scrollbar-dynamic .iui-scrollbar-thumb {
        border-color: var(--iui-scrollbar-thumb-border-color, #e5e5e5);
        border-radius: var(--iui-scrollbar-thumb-border-radius, 0);
    }
    .iui-scrollbar-dynamic .iui-scrollbar-thumb-hovered {
        border-color: var(--iui-scrollbar-thumb-hovered-border-color, #d5d5d5);
    }
    .iui-scrollbar-dynamic .iui-scrollbar-thumb-selected {
        border-color: var(--iui-scrollbar-thumb-selected-border-color, #c5c5c5);
    }

    /* ScrollBar Corer */
    .iui-scrollbar-corner {
        background: var(--iui-scrollbar-corner-background, #f5f5f5);
        bottom: 0;
        cursor: var(--iui-scrollbar-corner-cursor, default);
        height: var(--iui-scrollbar-corner-height, 16px);
        margin: 0;
        padding: 0;
        position: absolute;
        right: 0;
        width: var(--iui-scrollbar-corner-width, 16px);
        z-index: var(--iui-scrollbar-corner-z-index, 99);

        -webkit-user-select: none;
        -khtml-user-select: none;
        -moz-user-select: none;
        -o-user-select: none;
        -ms-user-select: none;
        user-select: none;
    }
    .iui-scrollbar-corner-dynamic {
        background: var(--iui-scrollbar-corner-dynamic-background, transparent);
        height: var(--iui-scrollbar-corner-height, 9px);
        width: var(--iui-scrollbar-corner-width, 9px);
    }

    /* Disabled State */
    .iui-scrollbar-disabled div, .iui-scrollbar-thumb-disabled, .iui-scrollbar-corner-disabled {
        opacity: var(--iui-scrollbar-disabled-opacity, 0.75);
        pointer-events: none;
    }
`;var gS=De`
`;var uC=De`
    .iui-scrollbar {
        background: var(--iui-scrollbar-background, #1e1e1e);
        border-color: var(--iui-scrollbar-border-color, #151515);
    } 
    .iui-scrollbar-thumb {
        background: var(--iui-scrollbar-thumb-background, #404040);
        border-color: var(--iui-scrollbar-thumb-border-color, #404040);
    }
    .iui-scrollbar-thumb-hovered {
        background: var(--iui-scrollbar-thumb-hovered-background, #515151);
        border-color: var(--iui-scrollbar-thumb-hovered-border-color, #515151);
    }
    .iui-scrollbar-thumb-selected {
        background: var(--iui-scrollbar-thumb-selected-background, #626262);
        border-color: var(--iui-scrollbar-thumb-selected-border-color, #626262);
    }
    .iui-scrollbar-dynamic .iui-scrollbar-thumb {
        border-color: var(--iui-scrollbar-thumb-border-color, #484848);
    }
    .iui-scrollbar-dynamic .iui-scrollbar-thumb-hovered {
        border-color: var(--iui-scrollbar-thumb-hovered-border-color, #646464);
    }
    .iui-scrollbar-dynamic .iui-scrollbar-thumb-selected {
        border-color: var(--iui-scrollbar-thumb-selected-border-color, #808080);
    }
    .iui-scrollbar-dynamic .iui-scrollbar-thumb {
        background: var(--iui-scrollbar-thumb-background, #484848);
        border-color: var(--iui-scrollbar-thumb-border-color, #484848);
    }
    .iui-scrollbar-dynamic .iui-scrollbar-thumb-hovered {
        background: var(--iui-scrollbar-thumb-hovered-background, #646464);
        border-color: var(--iui-scrollbar-thumb-hovered-border-color, #646464);
    }
    .iui-scrollbar-dynamic .iui-scrollbar-thumb-selected {
        background: var(--iui-scrollbar-thumb-selected-background, #808080);
        border-color: var(--iui-scrollbar-thumb-selected-border-color, #808080);
    }

    .iui-scrollbar-corner {
        background: var(--iui-scrollbar-corner-background, #1e1e1e);
    }
`;var _S=De`
`;var Ik=class extends Bu{_init(){super._init(),this._currentMaxValue=0,this._currentMinValue=0,this._currentValue=0,this._currentAppearance=Sn.Static,this._isVisible=!0,this._currentSplitterDistance={x:0,y:0},this._emptySpace=0,this._maxPos={x:0,y:0},this._currentOrientation=Sr.Vertical,this._scrollPos={top:0,right:0,bottom:0,left:0},this._scrollSize={width:0,height:0},this._thumbSize={width:0,height:0},this._thumbPos={x:2,y:2},this._isThumbActive=!1,this._prevPos={x:0,y:0},this._smallChange=0,this._largeChangeValue=0,this._scrollInterval=null,this._scrollTimeout=null,this._thumbStartPos={x:0,y:0},this._generalClassName="iui-scrollbar",this._isThumbHovered=!1,this._thumbClass={},this._thumbClassName=this._generalClassName+"-thumb"}connectedCallback(){super.connectedCallback(),this._windowMouseMove=this._windowMouseMove.bind(this),window.addEventListener("mousemove",this._windowMouseMove),this._windowMouseUp=this._windowMouseUp.bind(this),window.addEventListener("mouseup",this._windowMouseUp)}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener("mousemove",this._windowMouseMove),window.removeEventListener("mouseup",this._windowMouseUp),this._clearScrollTimers()}static get properties(){return{appearance:{converter:{fromAttribute:n=>(n=n.replace(/"|'/,"").replace(/"|'/,"")).toLowerCase()==="dynamic"?Sn.Dynamic:Sn.Static,toAttribute:(n,e)=>n===Sr.Dynamic?"Dynamic":"Static"},reflect:!0},height:{type:Number},largeChange:{type:Number,attribute:"large-change"},max:{type:Number,reflect:!0},min:{type:Number,reflect:!0},orientation:{converter:{fromAttribute:n=>(n=n.replace(/"|'/,"").replace(/"|'/,"")).toLowerCase()==="horizontal"?Sr.Horizontal:Sr.Vertical,toAttribute:(n,e)=>n===Sr.Horizontal?"Horizontal":"Vertical"},reflect:!0},position:{type:Object},value:{type:Number,reflect:!0},width:{type:Number}}}attributeChangedCallback(n,e,t){super.attributeChangedCallback(n,e,t)}get appearance(){return this._currentAppearance}set appearance(n){if(this._currentAppearance!==n){let e=this._currentAppearance;this._currentAppearance=n,this.visible=this._currentAppearance!==Sn.Dynamic,this.requestUpdate("appearance",e)}}set height(n){if(this._scrollSize.height!==n&&n>=0){let e=this._scrollSize.height;this._scrollSize.height=n,this.requestUpdate("height",e),this.updateLayout()}}set largeChange(n){if(this._largeChangeValue!==n&&n>=0){let e=this._largeChangeValue;this._largeChangeValue=n,this.requestUpdate("largeChange",e)}}get max(){return this._currentMaxValue}set max(n){if(this._currentMaxValue!==n){let e=this._currentMaxValue;n<=0?this._currentMaxValue=1:this._currentMaxValue=n,this._currentValue>this._currentMaxValue&&(this._currentValue=this._currentMaxValue),this.requestUpdate("max",e),this.updateLayout()}}get min(){return this._currentMinValue}set min(n){if(this._currentMinValue!==n&&n>=0){let e=this._currentMinValue;this._currentMinValue=n,this.requestUpdate("min",e),this.updateLayout()}}get orientation(){return this._currentOrientation}set orientation(n){if(this._currentOrientation!==n){let e=this._currentOrientation;this._currentOrientation=n,this.requestUpdate("orientation",e),this.updateLayout()}}set position(n){let e=this._scrollPos;n!==void 0?this._scrollPos={top:this._commonService.isFieldAvailable(n.top,0),right:this._commonService.isFieldAvailable(n.right,0),bottom:this._commonService.isFieldAvailable(n.bottom,0),left:this._commonService.isFieldAvailable(n.left,0)}:this._scrollPos={top:0,right:0,bottom:0,left:0},this.requestUpdate("position",e)}get value(){return this._currentValue}set value(n){if(this._currentValue!==n){let e=this._currentValue;n<this._currentMinValue?this._currentValue=this._currentMinValue:n>this._currentMaxValue?this._currentValue=this._currentMaxValue:this._currentValue=n,this.requestUpdate("value",e),this.updateLayout(),this._invokeEvent("valueChanged",{value:this._currentValue})}}get visible(){return this._isVisible}set visible(n){if(n!==void 0&&this._isVisible!==n){let e=this._isVisible;this._isVisible=this._currentAppearance===Sn.Dynamic?n:!0,this.requestUpdate("visible",e),this._updateVisibility()}}set width(n){this._scrollSize.width!==n&&n>=0&&(this._scrollSize.width=n,this.updateLayout())}_thumbMouseEnter(n){this._isThumbHovered=!0,this.refresh()}_thumbMouseLeave(n){this._isThumbHovered=!1,this.refresh()}_thumbMouseDown(n){if(this._isEnabled){this.state|=Hi.Selected;let e=this._commonService.getShiftPos(),t={x:n.pageX-e.x,y:n.pageY-e.y};this._thumbStartPos=t,this._isThumbActive=!0,this.prevPos={x:this.value,y:this.value},this._invokeEvent("scrollStart",{event:n,value:this._currentValue})}this._invokeEvent("scrollMouseDown"),n.stopPropagation()}_windowMouseMove(n){if(this._isEnabled&&n.which===1&&this._isThumbActive){let e=this._commonService.getShiftPos(),t={x:n.pageX-e.x,y:n.pageY-e.y},r=0;this.orientation===Sr.Horizontal?this._emptySpace>0&&(r=this.prevPos.x+(t.x-this._thumbStartPos.x)*this._currentMaxValue/this._emptySpace):this._emptySpace>0&&(r=this.prevPos.y+(t.y-this._thumbStartPos.y)*this._currentMaxValue/this._emptySpace),this.value=r}}_windowMouseUp(n){this._isEnabled&&(this._isThumbActive=!1,this._prevPos.y=this._currentValue,this.state&=~Hi.Selected,this._clearScrollTimers(),this._invokeEvent("scrollEnd",{event:n,value:this._currentValue}))}isVertical(){return this.orientation===Sr.Vertical}_updateVisibility(){this._isEnabled&&this._currentAppearance===Sn.Dynamic&&(this._isVisible?this.state|=Hi.Hovered:this.state&=~Hi.Hovered)}_changeScrollPos(n){if(this._isEnabled){let e=this;e._processLargeChange(n),e._clearScrollTimers(),e._scrollTimeout=setTimeout(function(){e._scrollInterval=setInterval(function(){e._currentValue>e._currentMinValue&&e._currentValue<e._currentMaxValue?e._processLargeChange(n):e._clearScrollTimers()},100),clearTimeout(e._scrollTimeout)},250)}}_clearScrollTimers(){this._scrollTimeout&&clearTimeout(this._scrollTimeout),this._scrollInterval&&clearInterval(this._scrollInterval),this._scrollTimeout=null,this._scrollInterval=null}_processLargeChange(n){let e=-1;switch(this.isVertical()?e=n.offsetY<this._thumbPos.y?1:n.offsetY>this._thumbPos.y+this._thumbSize.height?2:-1:e=n.offsetX<this._thumbPos.x?1:n.offsetX>this._thumbPos.x+this._thumbSize.width?2:-1,e){case 1:this.value-=this._largeChangeValue;break;case 2:this.value+=this._largeChangeValue;break;default:this._defaultFunc()}}_getControlClass(){return this._ctrlClass}_getThumbClass(){return this._thumbClass}refresh(){this._updateStyle(this.controlStyle),this._updateControlClass(),this._updateThumbClass(),this.update(),this._updateReferences()}_updateColorSchemeSettings(n){switch(this._currentColorSchemeSettings=De``,n){case mi.Dark:this._currentColorSchemeSettings.cssText=this._commonService.replaceAll(uC.cssText,"../../../icons",this._currentResourcePath);break;case mi.Light:this._currentColorSchemeSettings.cssText=this._commonService.replaceAll(_S.cssText,"../../../icons",this._currentResourcePath);break;default:this._currentColorSchemeSettings.cssText=""}}_updateControlClass(){this._ctrlClass={},this._ctrlClass[this._generalClassName]=!0,this._options.currentStyle&&this._options.currentStyle.general&&(this._ctrlClass[this._options.currentStyle.general.normal]=!0,this.orientation===Sr.Horizontal?this._ctrlClass[this._options.currentStyle.general.normal+"-horizontal"]=!0:this._ctrlClass[this._options.currentStyle.general.normal+"-vertical"]=!0,this._currentAppearance===Sn.Dynamic&&(this._ctrlClass[this._options.currentStyle.general.normal+"-dynamic"]=!0,this.orientation===Sr.Horizontal?this._ctrlClass[this._options.currentStyle.general.normal+"-dynamic-horizontal"]=!0:this._ctrlClass[this._options.currentStyle.general.normal+"-dynamic-vertical"]=!0),this.state&Hi.Disabled?this._ctrlClass[this._options.currentStyle.general.disabled]=!0:this.state&Hi.Focused?this._ctrlClass[this._options.currentStyle.general.focused]=!0:this.state&Hi.Selected?this._ctrlClass[this._options.currentStyle.general.selected]=!0:this.state&Hi.Hovered&&(this._ctrlClass[this._options.currentStyle.general.hovered]=!0),this.state&Hi.Hovered||this._isVisible?(this._ctrlClass[this._defaultStyle.general.normal+"-enter"]=!0,this._currentAppearance===Sn.Dynamic&&(this._ctrlClass[this._defaultStyle.general.normal+"-dynamic-enter"]=!0)):(this._ctrlClass[this._defaultStyle.general.normal+"-leave"]=!0,this._currentAppearance===Sn.Dynamic&&(this._ctrlClass[this._defaultStyle.general.normal+"-dynamic-leave"]=!0)))}_updateThemeSettings(n){switch(this._currentThemeSettings=De``,n){case An.Office:this._currentThemeSettings.cssText=this._commonService.replaceAll(gS.cssText,"../../../icons",this._currentResourcePath);break;default:this._currentThemeSettings.cssText=""}}_updateThumbClass(){this._thumbClass={},this._thumbClass[this._thumbClassName]=!0,this.orientation===Sr.Horizontal?this._thumbClass[this._thumbClassName+"-horizontal"]=!0:this._thumbClass[this._thumbClassName+"-vertical"]=!0,this.state&Hi.Disabled?this._thumbClass[this._thumbClassName+"-disabled"]=!0:this.state&Hi.Focused?this._thumbClass[this._thumbClassName+"-focused"]=!0:this.state&Hi.Selected?this._thumbClass[this._thumbClassName+"-selected"]=!0:this._isThumbHovered&&(this._thumbClass[this._thumbClassName+"-hovered"]=!0)}firstUpdated(n){this.updateLayout()}updateLayout(n){return N(this,null,function*(){yield this._processUpdateLayout(),this.refresh()})}_processUpdateLayout(){let n=this;return new Promise(e=>{let t=n._currentAppearance===Sn.Static?2:0;if(n.orientation===Sr.Horizontal){n._largeChangeValue===0&&(n._largeChangeValue=n._scrollSize.width);let r=n._scrollSize.width-t,o=0;n._currentMaxValue+r>0&&(o=r*r/(n._currentMaxValue+r)),o=r/(n._currentMaxValue+n._largeChangeValue)*n._largeChangeValue,n._currentMaxValue<=0?o=r:o<7&&(o=7),n._thumbSize.width=o,n._emptySpace=r-o,n._currentMaxValue>0&&(n._thumbPos.x=t+n._currentValue*n._emptySpace/n._currentMaxValue)}else{n._largeChangeValue===0&&(n._largeChangeValue=n._scrollSize.height);let r=n._scrollSize.height-t,o=0;n._currentMaxValue+r>0&&(o=r*r/(n._currentMaxValue+r)),o=r/(n._currentMaxValue+n._largeChangeValue)*n._largeChangeValue,n._currentMaxValue<=0?o=r:o<7&&(o=7),n._thumbSize.height=o,n._emptySpace=r-o,n._currentMaxValue>0&&(n._thumbPos.y=t+n._currentValue*n._emptySpace/n._currentMaxValue)}e()})}render(){let n=this.isVertical()?{top:this._scrollPos.top+"px",right:0,height:this._scrollSize.height+"px"}:{bottom:this._scrollPos.bottom+"px",left:0,width:this._scrollSize.width+"px"},e=this.isVertical()?{top:this._thumbPos.y+"px",height:this._thumbSize.height+"px"}:{left:this._thumbPos.x+"px",width:this._thumbSize.width+"px"};return Ke`                 <style>                     ${Xm}                     ${this._currentThemeSettings}                     ${this._currentColorSchemeSettings}                 </style>                 <div class=${wn(this._getControlClass())} style=${Ji(n)} @mousedown="${t=>this._changeScrollPos(t)}">                     <div class=${wn(this._getThumbClass())} style=${Ji(e)} @mouseenter="${t=>this._thumbMouseEnter(t)}" @mousedown="${t=>this._thumbMouseDown(t)}" @mouseleave="${t=>this._thumbMouseLeave(t)}"></div>                 </div>         `}updated(n){n.forEach((e,t)=>{})}};window.customElements.define("iui-scrollbar",Ik);var vk=De`
    .iui-base-loading {
        opacity: 1;
        pointer-events: none;

        animation-name: iui-base-loading-animate;
        animation-delay: 0s;
        animation-direction: normal;
        animation-duration: 0.4s;
        animation-fill-mode: forwards;
        animation-iteration-count: 1;
        animation-play-state: running;
        animation-timing-function: linear; 
    }
    @keyframes iui-base-loading-animate {
        0% { opacity: 1; }
        100% { opacity: 0.4; }
    }
    .iui-base-loading-end {
        opacity: 0.4;
        pointer-events: none;

        animation-name: iui-base-loading-end-animate;
        animation-delay: 0s;
        animation-direction: normal;
        animation-duration: 0.4s;
        animation-fill-mode: forwards;
        animation-iteration-count: 1;
        animation-play-state: running;
        animation-timing-function: linear; 
    }
    @keyframes iui-base-loading-end-animate {
        0% { opacity: 0.4; }
        100% { opacity: 1; }
    }


    .iui-loading-icon {
        background-image: url(../../icons/circular.png);
        height: 48px;
        left: 0;
        position: absolute;
        top: 0;
        width: 48px;
        z-index: 999;

        animation-name: iui-loading-icon-animate;
        animation-delay: 0s;
        animation-direction: normal;
        animation-duration: 1s;
        animation-fill-mode: forwards;
        animation-iteration-count: infinite;
        animation-play-state: running;
        animation-timing-function: linear; 
    }
    @keyframes iui-loading-icon-animate {
        0% { 
            -ms-transform: rotate(0deg);
            -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
        }
        100% { 
            -ms-transform: rotate(360deg);
            -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
        }
    }

    .iui-draglist {
        background: var(--iui-draglist-background, white);
        border: var(--iui-draglist-border, thin solid transparent);
        border-color: var(--iui-draglist-border-color, transparent);
        box-shadow: var(--iui-draglist-box-shadow, 0 0 0 transparent);
        margin: 0;
        opacity: 0.9;
        overflow: hidden;
        padding: 0;
        pointer-events: none;
        position: absolute;
        transition: border-color 0.4s ease-in-out, box-shadow 0.4s ease-in-out;
        z-index: 999;
    }
    .iui-draglist-active {
        border-color: var(--iui-draglist-active-border-color, #e5e5e5);
        box-shadow: var(--iui-draglist-active-box-shadow, 0 0 3px #d5d5d5);
    }
    .iui-draglist-copy {
        background: url(../../icons/copy.ico);
        display: block;
        height: 16px;
        opacity: 0.6;
        position: absolute;
        width: 16px;
        z-index: 999;
    }
    .iui-draglist-corner {
        opacity: 1;
        position: absolute;
        right: -1px;
        bottom: -3px;
        zIndex: 999;
    }
    .iui-draglist-corner-block {
        background: var(--iui-draglist-corner-background, #f5f5f5);
        border: var(--iui-draglist-corner-border, thin solid #e5e5e5);
        border-color: var(--iui-draglist-corner-border-color, #e5e5e5);
        opacity: 1;
        position: absolute;
        top: -35%;
        left: -20%;
        transform: rotate(45deg);
        width: 250%;
        height: 300%;
        zIndex: 0;
    }
    .iui-draglist-num {
        color: var(--iui-draglist-num-color, black);
        padding: 3px;
        position: relative;
        zIndex: 1;
    }
`;var Wz=De`
    .iui-header-expand-box {
        opacity: 0.75;
    }
    .iui-item {
        color: #cccccc;
    }
    /* Item Hover State */
    .iui-item-hovered {
        background-color: #2a2d2e;
        border: thin solid #2a2d2e;
    }
    /* Item Selected State */
    .iui-item-selected {
        background-color: #37373d;
        border: thin solid #37373d;
        color: white;
    } 

    .iui-list {
        background: #252526;
        border: thin solid #151515;
        color: #cccccc;
    }
    .iui-list li {
        color: #cccccc;
    }
    .iui-list li:hover {
        background-color: #2a2d2e;
        border: 2px solid #2a2d2e;
    }
    .iui-list-item-selected {
        background-color: #37373d;
        color: white;
    }

    .iui-draglist {
        background: var(--iui-draglist-background, #303030);
    }
    .iui-draglist-active {
        border-color: var(--iui-draglist-active-border-color, #151515);
        box-shadow: var(--iui-draglist-active-box-shadow, 0 0 3px #252525);
    }
    .iui-draglist-copy {
        background: url(../../../icons/copy-white.ico);
    }
    .iui-draglist-corner-block {
        background: var(--iui-draglist-corner-background, #151515);
        border-color: var(--iui-draglist-corner-border-color, #050505);
    }
    .iui-draglist-num {
        color: var(--iui-draglist-num-color, #cccccc);
    }
`;var Kz=De`
    .iui-header-enter {
        animation-name: iui-combobox-header-animate-enter;
        animation-delay: 0s;
        animation-direction: normal;
        animation-duration: 0.25s;
        animation-fill-mode: forwards;
        animation-iteration-count: 1;
        animation-play-state: running;
        animation-timing-function: linear; 
    }
    @keyframes iui-combobox-header-animate-enter {
        0% { box-shadow: 0 0 0 transparent; }
        100% { box-shadow: 2px 3px 3px #e5e5e5; }
    } 
    .iui-header-leave {
        animation-name: iui-combobox-header-animate-leave;
        animation-delay: 0s;
        animation-direction: normal;
        animation-duration: 0.25s;
        animation-fill-mode: forwards;
        animation-iteration-count: 1;
        animation-play-state: running;
        animation-timing-function: linear; 
    }
    @keyframes iui-combobox-header-animate-leave {
        0% { box-shadow: 2px 3px 3px #e5e5e5; }
        100% { box-shadow: 0 0 0 transparent; }
    } 
`;var bk=De`
    .iui-treeview {
        background: var(--iui-treeview-background, white);
        border: var(--iui-treeview-border, thin solid #cecece);
        border-color:  var(--iui-treeview-border-color, #cecece);
        border-radius: var(--iui-treeview-border-radius, 1px);
        border-width: var(--iui-treeview-border-width, thin);
        color: var(--iui-treeview-color, black);
        cursor: var(--iui-treeview-cursor, default);
        display: var(--iui-treeview-display, block);
        float: var(--iui-treeview-float, none);
        height: var(--iui-treeview-height, 100%);
        margin: var(--iui-treeview-margin, 0);
        opacity: var(--iui-treeview-opacity, 1);
        overflow: hidden;
        padding: var(--iui-treeview-padding, 0);
        position: var(--iui-treeview-position, relative);
        width: var(--iui-treeview-width, auto);
        z-index: var(--iui-treeview-z-index, auto);

        -webkit-user-select: none;
        -khtml-user-select: none;
        -moz-user-select: none;
        -o-user-select: none;
        -ms-user-select: none;
        user-select: none;
    }
    .iui-treeview-item-empty-content {
        background: #f5f5f5;
        margin: 0;
    }

    .iui-treeview-block-hover, .iui-treeview-block-select {
        background: var(--iui-treeview-block-background, transparent);
        border: var(--iui-treeview-block-border, thin solid #cecece);
        box-shadow: var(--iui-treeview-block-box-shadow, 2px 3px 3px #e5e5e5);
        pointer-events: none;
        position: absolute;
        z-index: 99;
    }
    .iui-treeview-block-hover > div, .iui-treeview-block-select > div {
        background: var(--iui-treeview-block-panel-background, #f5f5f5);
        pointer-events: auto;
        position: absolute;
        right: 0;
        top: 0;
        z-index: 98;
    }

    /* Disabled State */
    .iui-treeview-disabled div, .iui-treeview-disabled ul {
        opacity: var(--iui-treeview-disabled-opacity, 0.75);
        pointer-events: none;
    }
`;var $z=De`
`;var wk=De`
    .iui-treeview {
        background: #363636;
        border: #121212;
        color: #c5c5c5;
    }
`;var qz=De`
    .iui-treeview {
        background: var(--iui-treeview-background, white);
        border: var(--iui-treeview-border, thin solid #d9d9d9);
        color: var(--iui-treeview-color, black);
    }
`;var Sk=De`
    .iui-treeitem {
        background: var(--iui-treeitem-background, transparent);
        color: var(--iui-treeitem-color, black);
        list-style-type: none;
        overflow: hidden;
        margin: var(--iui-treeitem-margin, 0);
        padding: var(--iui-treeitem-padding, 0);
        font-family: arial, sans-serif !important;
        font-size: 0.9rem !important;
    }
    .iui-treeitem-block {
        border: var(--iui-treeitem-border, 1px solid transparent);
        border-color: var(--iui-treeitem-border-color, transparent);
        border-width: var(--iui-treeitem-border-width, 1px);
    }
    .iui-treeitem-hovered {
        color: var(--iui-treeitem-hovered-color, black);
    }
    .iui-treeitem-selected {
        color: var(--iui-treeitem-selected-color, black);
    }
    .iui-treeitem-content-block {
        border: var(--iui-treeitem-content-border, 1px solid transparent);
        border-color: var(--iui-treeitem-content-border-color, transparent);
        border-width: var(--iui-treeitem-content-border-width, 1px);
        display: inline-flex;
        align-items: center;
    }
    .iui-treeitem-content-hovered {
        color: var(--iui-treeitem-content-hovered-color, black);
    }
    .iui-treeitem-content-selected {
        background: var(--iui-treeitem-content-selected-background, #e5e5e5);
        color: var(--iui-treeitem-content-selected-color, black);
    }
    .iui-treeitem-content-block:focus {
        background: var(--iui-treeitem-content-selected-background, #e5e5e5);
        color: var(--iui-treeitem-content-selected-color, black);
    }
   
    div > div > ul > li.iui-treeitem.iui-treeitem-block.iui-treeitem-selected > div > div > div {
        background-color: var(--lightColor);
        border: var(--iui-treeitem-content-border, 1px solid transparent);
        border-color: var(--fwcGrey7);
    }
    div > div > ul > li.iui-treeitem.iui-treeitem-block.iui-treeitem-selected > div > div > div > div {
        background-color: var(--lightColor);
        max-width: max-content;    
        font-weight: bold !important;
    }
    div > div > ul > li.iui-treeitem.iui-treeitem-block.iui-treeitem-selected > div > div > div > div:hover {
        background-color: var(--lightColor) !important;
        max-width: max-content !important;
    }

    
    .iui-treeitem:focus {
        outline: none !important;
    }
    .iui-treeitem-empty {
        list-style-type: none;
        margin: 0;
        padding: 0;
    }
    .iui-treeitem-content {
        display: block;
        margin: 0;
        padding: var(--iui-treeitem-content-padding, 0px);
        position: relative;
        white-space: nowrap;
        max-width: max-content;
        line-height: 1.25;
    }
    .iui-treeitem-content:hover {
        background-color: var(--lightColor);
    }
    .iui-treeitem-content-focused {
        max-width: max-content;
    }
    .iui-treeitem-content:focus {
        outline: none !important;
    }
    .iui-treeitem-content-template {
        display: var(--iui-treeitem-content-template-display, inline-block);
        vertical-align: var(--iui-treeitem-content-template-vertical-align, middle);
    }
    .iui-treeitem-expand-box {
        background: url(../../icons/expandbox-icons.png) no-repeat 0 -48px;
        display: inline-block;
        overflow: hidden;
        padding: 0;
        margin: var(--iui-treeitem-expand-box-margin, 1px 5px 0 0);
        width: 16px;
        height: 16px;
        vertical-align: top;
        color: #333 !important;
        filter: invert(0%) brightness(0%);
    }      
        .iui-treeview-enter .iui-treeitem-expand-box-general {
        animation-name: iui-treeview-animate-expand-box-enter;
        animation-delay: 0s;
        animation-direction: normal;
        animation-duration: 0.4s;
        animation-fill-mode: forwards;
        animation-iteration-count: 1;
        animation-play-state: running;
        animation-timing-function: linear; 
    }
    @keyframes iui-treeview-animate-expand-box-enter {
        0% { opacity: 0; }
        100% { opacity: 1; }
    } 
    .iui-treeview-leave .iui-treeitem-expand-box-general {
        animation-name: iui-treeview-animate-expand-box-leave;
        animation-delay: 0s;
        animation-direction: normal;
        animation-duration: 1s;
        animation-fill-mode: forwards;
        animation-iteration-count: 1;
        animation-play-state: running;
        animation-timing-function: linear; 
    }
    @keyframes iui-treeview-animate-expand-box-leave {
        0% { opacity: 1; }
        100% { opacity: 0; }
    } 
    .iui-treeitem-expand-box-open {
        background-position: 0 -16px;
    }
    .iui-treeitem-expand-box-open-animate {
        background-position: 0 0;
    
        animation-name: expand-box-open;
        animation-delay: 0s;
        animation-direction: normal;
        animation-duration: 0.25s;
        animation-fill-mode: forwards;
        animation-iteration-count: 1;
        animation-play-state: running;
        animation-timing-function: linear; 
    }
    @keyframes expand-box-open {
        0% { 
            -ms-transform: rotate(0deg); /* IE 9 */
            -webkit-transform: rotate(0deg); /* Chrome, Safari, Opera */
            transform: rotate(0deg);
        }
        100% { 
            -ms-transform: rotate(90deg); /* IE 9 */
            -webkit-transform: rotate(90deg); /* Chrome, Safari, Opera */
            transform: rotate(90deg);
        }
    }
    .iui-treeitem-expand-box-close {
        background-position: 0 0;
    }
    .iui-treeitem-expand-box-close-animate {
        background-position: 0 0;

        animation-name: expand-box-close;
        animation-delay: 0s;
        animation-direction: normal;
        animation-duration: 0.25s;
        animation-fill-mode: forwards;
        animation-iteration-count: 1;
        animation-play-state: running;
        animation-timing-function: linear; 
    }
    @keyframes expand-box-close {
        0% { 
            -ms-transform: rotate(90deg); /* IE 9 */
            -webkit-transform: rotate(90deg); /* Chrome, Safari, Opera */
            transform: rotate(90deg);
        }
        100% { 
            -ms-transform: rotate(0deg); /* IE 9 */
            -webkit-transform: rotate(0deg); /* Chrome, Safari, Opera */
            transform: rotate(0deg);
        }
    }
    .iui-treeitem-expand-box-load {
        background: var(--iui-treeitem-expand-box-load-background-image, url(../../icons/load.gif)) no-repeat 0 0 !important;
    }
    .iui-treeitem-list {
        list-style-type: none;
        margin: 0;
        padding: 0 0 0 20px;
        overflow: hidden;
    }

    /* Disabled State */
    .iui-treeitem-disabled div {
        opacity: var(--iui-treeitem-disabled-opacity, 0.75);
        pointer-events: none;
    }

    /* CheckBox */
    .iui-treeitem-checkbox {
        background-image: var(--iui-treeitem-checkbox-background-image, url(../../icons/checkbox-unchecked.ico));
        background-repeat: no-repeat;
        display: inline-block;
        overflow: hidden;
        padding: var(--iui-treeitem-checkbox-padding, 0);
        margin: var(--iui-treeitem-checkbox-margin, 0 5px 0 0);
        width: 16px;
        height: 16px;
        vertical-align: var(--iui-treeitem-checkbox-vertical-align, middle);
    }
    .iui-treeitem-checkbox-checked {
        background-image: var(--iui-treeitem-checkbox-checked-background-image, url(../../icons/checkbox-checked.ico));
    }
    .iui-treeitem-checkbox-indeterminate {
        background-image: var(--iui-treeitem-checkbox-indeterminate-background-image, url(../../icons/checkbox-indeterminate.ico));
    }

    /* Animations */
    .iui-treeitem-animate {
        border: 0 solid transparent;
        background-color: transparent;
        box-shadow: none;
        list-style-type: none;
        position: relative;
    }
`;var Yz=De`
    .iui-treeitem {
        transition-duration: var(--iui-treeitem-transition-duration, 0.15s);
        transition-property: var(--iui-treeitem-transition-property, background, border-color, color);
        transition-timing-function: var(--iui-treeitem-transition-timing-function, ease-in-out);
    }
`;var Ak=De`
    .iui-treeitem {
        background: var(--iui-treeitem-background, transparent);
        color: var(--fwcDark)!important;
    }
    .iui-treeitem-hovered {
        color: var(--iui-treeitem-hovered-color, #eeeeee);
        max-width: max-content;
    }
    .iui-treeitem-selected {
        color: var(--iui-treeitem-selected-color, white);
        max-width: max-content;
    }
    .iui-treeitem-content-hovered,
    .iui-treeitem-content-selected {
        color: var(--iui-treeitem-content-selected-color, white);
        max-width: max-content;
    }
    .iui-treeitem-selected .iui-treeitem-expand-box, .iui-treeitem-content-selected .iui-treeitem-expand-box {
    }
    .iui-treeitem-expand-box {
        background: url(../../../icons/expandbox-icons.png) no-repeat -48px -48px;
    }
    .iui-treeitem-expand-box-open {
        background-position: -48px -16px;
    }
    .iui-treeitem-expand-box-open:hover {
    }
    .iui-treeitem-expand-box-close {
        background-position: -48px 0;
    }
    .iui-treeitem-expand-box-close:hover {
    }
    .iui-treeitem-expand-box-open-animate {
        background-position: -48px 0;
    }
    .iui-treeitem-expand-box-close-animate {
        background-position: -48px 0;
    }
    div > div > ul > li:nth-child(1) > div > div > div > div > iui-contextmenu > div > span.fwc-label.fwcDark {
        color: white;
    }
    div > div > ul > li:first-child.iui-treeitem.iui-treeitem-block.iui-treeitem-selected,
    div > div > ul > li.first-selected.iui-treeitem.iui-treeitem-block {
        font-weight: 700; 
        color: white;       
    }
`;var Jz=De`
    .iui-treeitem {
        background: var(--iui-treeitem-background, white);
        color: var(--iui-treeitem-color, black);
    }
    .iui-treeitem-hovered {
        color: var(--iui-treeitem-hovered-color, #323232);
        max-width: max-content;
    }
    .iui-treeitem-selected {
        color: var(--iui-treeitem-selected-color, black);
        max-width: max-content;
    } 
    .iui-treeitem-content-hovered,
    .iui-treeitem-content-selected {
        color: var(--iui-treeitem-content-hovered-color, #323232);
        max-width: max-content;
    }
    .iui-treeitem-content-selected {
        color: var(--iui-treeitem-content-selected-color, black);
        max-width: max-content;
    }

    .iui-treeitem-expand-box {
        background: url(../../../icons/expandbox-icons.png) no-repeat -80px -48px;
    }
    .iui-treeitem-expand-box-open {
        background-position: -80px -16px;
    }
    .iui-treeitem-expand-box-open:hover {
        background-position: -64px -16px;
    }
    .iui-treeitem-expand-box-close {
        background-position: -80px 0;
    }
    .iui-treeitem-expand-box-close:hover {
        background-position: -64px 0;
    }
    .iui-treeitem-expand-box-open-animate {
        background-position: -64px 0;
    }
    .iui-treeitem-expand-box-close-animate {
        background-position: -64px 0;
    }
    .iui-treeitem.iui-treeitem-block.iui-treeitem-focused {
        font-weight: 700;
        color:black;
    }
    div > div > ul > li:first-child.iui-treeitem.iui-treeitem-block.iui-treeitem-selected,
    div > div > ul > li.first-selected.iui-treeitem.iui-treeitem-block {
        font-weight: 700; 
        color: black;       
    }
    div > div > ul > li:nth-child(1) > div > div > div > div > iui-contextmenu > div > span.fwc-label.fwcDark {
        color: black;
    }
`;var Ek=class extends zz{_init(){super._init(),this._isCheckBoxVisible=!1,this._currentCheckMode=_d.TwoState,this._isThereChildItems=!1,this._fullMoveList=[],this._currentItemDisplay=oo.Full,this._currentItemSize={width:1999,height:1999},this._isExpandBoxVisible=!0,this._isLongestInProcess=!1,this._longestObj={data:null,width:0},this._currentBaseColorSchemeSettings=De``,this._currentBaseStyleSettings=vk,this._currentControlStyleSettings=bk,this._currentItemColorSchemeSettings=De``,this._currentItemStyleSettings=Sk,this._currentItemThemeSettings=De``,this._currentScrollColorSchemeSettings=De``,this._currentScrollStyleSettings=Xm,this._generalClassName="iui-treeview",this._itemClassName="iui-treeitem",this._itemContentClassName=this._itemClassName+"-content",this._expandBoxClassName=this._itemClassName+"-expand-box",this._isExpandBoxTouched=!1,this._updateOptions(),this._initStyle(),this._updateData(),this._resizeObserver=new ResizeObserver(n=>{let e=this;if(!e._isAnimationInProcess&&n&&n.length>0&&n[0].contentRect){let t=!1;e._elemRef&&e._updateClientRect(),e._clientRect.width!==e._prevClientRect.width&&(e._prevClientRect.width=e._clientRect.width,t=!0),e._clientRect.height!==e._prevClientRect.height&&(e._prevClientRect.height=e._clientRect.height,t=!0),t&&(e._updateScrollLayout(),e._invokeEvent("sizeChanged",{size:e._clientRect}))}})}connectedCallback(){super.connectedCallback()}disconnectedCallback(){super.disconnectedCallback(),this._resizeObserver&&this._resizeObserver.disconnect(),this._resizeObserver=null,this._removeDropMark(),this._loadingEndTimeout&&clearTimeout(this._loadingEndTimeout),this._resetLayoutTimer()}_initStyle(){this._defaultStyle={general:{disabled:this._generalClassName+"-disabled",focused:this._generalClassName+"-focused",normal:this._generalClassName,hovered:this._generalClassName+"-hovered",selected:this._generalClassName+"-selected"},item:{general:{disabled:this._itemClassName+"-disabled",focused:this._itemClassName+"-focused",normal:this._itemClassName,hovered:this._itemClassName+"-hovered",selected:this._itemClassName+"-selected"},expandBox:{general:this._expandBoxClassName,load:this._expandBoxClassName+"-load",expanded:this._expandBoxClassName+"-open",collapsed:this._expandBoxClassName+"-close"},content:{disabled:this._itemContentClassName+"-disabled",focused:this._itemContentClassName+"-focused",normal:this._itemContentClassName,hovered:this._itemContentClassName+"-hovered",selected:this._itemContentClassName+"-selected"}}},this._updateStyle(this.controlStyle),this._updateControlClass(),this._updateColorSchemeSettings(this._currentColorScheme),this.refresh()}attributeChangedCallback(n,e,t){super.attributeChangedCallback(n,e,t)}static get properties(){return{autoExpand:{type:Boolean,attribute:"auto-expand",reflect:!0},autoSize:{type:Boolean,attribute:"auto-size",reflect:!0},checkBoxes:{type:Boolean,attribute:"check-boxes",reflect:!1},checkMode:{attribute:"check-mode",converter:{fromAttribute:n=>(n=n.replace(/"|'/,"").replace(/"|'/,"")).toLowerCase()==="twostate"?_d.TwoState:_d.ThreeState,toAttribute:(n,e)=>n===_d.TwoState?"twostate":"threestate"},reflect:!0},compactMode:{type:Boolean,attribute:"compact-mode",reflect:!0},indent:{type:Number,reflect:!0},itemDisplay:{attribute:"item-display",converter:{fromAttribute:n=>(n=n.replace(/"|'/,"").replace(/"|'/,"")).toLowerCase()==="partial"?oo.Partial:oo.Full,toAttribute:(n,e)=>n===oo.Partial?"Partial":"Full"},reflect:!0},showExpandBox:{type:Boolean,attribute:"show-expandbox",reflect:!0}}}get autoExpand(){return this._isAutoExpanded}set autoExpand(n){if(this._isAutoExpanded!==n){let e=this._isAutoExpanded;this._isAutoExpanded=n,this.requestUpdate("autoExpand",e)}}get autoSize(){return this._isAutoSized}set autoSize(n){if(this._isAutoSized!==n){let e=this._isAutoSized;this._isAutoSized=n,this.requestUpdate("autoSize",e),this._internalUpdateLayout()}}get checkBoxes(){return this._isCheckBoxVisible}set checkBoxes(n){if(this._isCheckBoxVisible!==n){let e=this._isCheckBoxVisible;this._isCheckBoxVisible=n,this.requestUpdate("checkBoxes",e),this._internalUpdateLayout()}}get checkMode(){return this._currentCheckMode}set checkMode(n){if(this._currentCheckMode!==n){let e=this._currentCheckMode;this._currentCheckMode=n,this.requestUpdate("checkMode",e),this._internalUpdateLayout()}}get compactMode(){return this._currentCompactMode}set compactMode(n){if(this._currentCompactMode!==n){let e=this._currentCompactMode;this._currentCompactMode=n,this.requestUpdate("compactMode",e),this._internalUpdateLayout()}}get indent(){return this._options.indent}set indent(n){if(this._options.indent!==n){let e=this._options.indent;this._options.indent=n,this.requestUpdate("indent",e),this._internalUpdateLayout()}}get itemDisplay(){return this._currentItemDisplay}set itemDisplay(n){if(this._currentItemDisplay!==n){let e=this._currentItemDisplay;this._currentItemDisplay=n,this.requestUpdate("itemDisplay",e),this._internalUpdateLayout()}}get showExpandBox(){return this._isExpandBoxVisible}set showExpandBox(n){if(this._isExpandBoxVisible!==n){let e=this._isExpandBoxVisible;this._isExpandBoxVisible=n,this.requestUpdate("showExpandBox",e),this._internalUpdateLayout()}}_moveItemAt(n,e,t,r){return N(this,null,function*(){let o=this;return(t===Kt.Before||t===Kt.After||t===Kt.Left||t===Kt.Right)&&!e?Promise.resolve():new Promise(s=>{let a=n.filter(l=>o._fullList.indexOf(l)>=0);if(a.length>0){let l=[],c=!0,d=0,p=!1,g=-1,C=null;switch(t){case Kt.At:e?(g=o._getItemCurrentIndex(e),o._commonService.isIndexInRange(g,o._currentList)&&o.isItemExpanded(e)&&(l=o._currentList.filter(y=>y.data.type!=="group"&&y.data[o._options.dataFields.pid]===e[o._options.dataFields.id]))):l=o._currentList.filter(y=>y.data.type!=="group"&&!y.data[o._options.dataFields.pid]),o._commonService.isIndexInRange(r,l)?C=l[r].data:(r=-1,(C=l.length>0?l[l.length-1].data:e)&&(t=Kt.After,e=C,C=o._getLastChildItemFromExpanded(C)));break;case Kt.First:r=0,e?(C=e,d=1):o._currentList.length>0&&(C=o._currentList[0].data);break;case Kt.Last:r=-1,e?C=o._getLastChildItemFromExpanded(e):(l=o._currentList.filter(y=>y.data.type!=="group"&&!y.data[o._options.dataFields.pid]),(C=l.length>0?l[l.length-1].data:null)&&(t=Kt.After,e=C,C=o._getLastChildItemFromExpanded(C)));break;case Kt.Left:e?(t=Kt.After,p=!0,C=o._getLastChildItemFromExpanded(e),(!o.isItemExpanded(e)||a.indexOf(C)>=0)&&(C=null)):c=!1;break;case Kt.Right:r=-1;break;default:e?(C=e,(t===Kt.After||t===Kt.Down)&&(t=Kt.After,C=o._getLastChildItemFromExpanded(C))):c=!1}if(!p&&c){let y=!1;if(e)for(let v=0;v<a.length&&!(y=e===a[v]?!0:o._isChildOf(e,a[v]));v++);if(!y&&C)for(let v=0;v<a.length&&!(y=C===a[v]?!0:o._isChildOf(C,a[v]));v++);c=!y}if(c){for(let v=0;v<a.length;v++)o._dataService.removeAt(a[v]);let y=t===Kt.Before||t===Kt.Up?a:a.toReversed();for(let v=0;v<y.length;v++){let w=y[v];t===Kt.First||t===Kt.Last||t===Kt.Right||t===Kt.At?o._dataService.insert(w,r,e):t===Kt.Before||t===Kt.Up?o._dataService.insertByRef(w,e):(t===Kt.After||t===Kt.Left||t===Kt.Down)&&o._dataService.insertByRef(w,e,!0)}setTimeout(function(){return N(this,null,function*(){let v=o._getObjFromScrollItem(C);if(v){let w=o._getItemCurrentIndex(C),E=o._getItemScrollIndex(v);t===Kt.After||t===Kt.Down||t===Kt.Last?E+=1:t===Kt.First&&(E+=d),o._fullMoveList.length=0,o._updateMoveList(a);let T=0;for(let F=0;F<o._fullMoveList.length;F++){let G=o._getItemCurrentIndex(o._fullMoveList[F]),z=o._getObjFromScrollItem(o._fullMoveList[F]);G<w&&!z&&T++}if(o._isAnimationAllowed&&(o._isAnimationInProcess=!0,o._scrollItemList.length>0)){let F=o._scrollItemList[0],G=o._scrollItemList.length-1,z=o._scrollItemList[G],X=[];for(let se=0;se<o._fullMoveList.length;se++){let ye=o._getObjFromScrollItem(o._fullMoveList[se]);if(ye)X.push(ye);else{let Ce=o._getObjFromItem(o._fullMoveList[se]),we=o._getItemCurrentIndex(o._fullMoveList[se]),Be={clickPos:{x:0,y:0},data:o._fullMoveList[se],indent:Ce?Ce.indent:0,index:G+se+1,inlineStyle:{},position:{x:z.position.x,y:z.position.y+o._currentItemSize.height},showCheckBox:o._isItemCheckBoxAllowed(o._fullMoveList[se]),showRadioButton:o._isItemRadioButtonAllowed(o._fullMoveList[se]),size:{width:0,height:o._currentItemSize.height},targetPosition:{x:z.position.x,y:z.position.y+o._currentItemSize.height},style:{},tabIndex:0,zIndex:0};we<w&&(Be.position.y=F.position.y-o._currentItemSize.height,Be.targetPosition.y=Be.position.y),o._updateItemStyle(Be),X.push(Be),o._scrollItemList.splice(Be.index,0,Be)}}o.update();let ne=o._scrollItemList.filter(se=>o._fullMoveList.indexOf(se.data)<0),Y={x:o._ctrlPadding.left,y:o._ctrlPadding.top};for(let se=0;se<o._scrollItemList.length&&se<E+T;se++){let ye=o._scrollItemList[se];X.indexOf(ye)<0&&(ye.targetPosition.y=Y.y,Y.y+=o._currentItemSize.height)}X.forEach(se=>{se.targetPosition.y=Y.y,se.zIndex=999,Y.y+=o._currentItemSize.height});for(let se=E+T;se<o._scrollItemList.length;se++){let ye=o._scrollItemList[se];X.indexOf(ye)<0&&(ye.targetPosition.y=Y.y,Y.y+=o._currentItemSize.height)}o._repositionItems(X,0,250),yield o._repositionItems(ne,0,250)}o._currentIndex=Math.max(0,o._currentIndex-T),o._currentScrollPos.y=Math.max(0,Math.min(o._avgItemHeight*o._currentIndex,o._maxScrollPos.y))}yield o._processUpdateCurrentLayout(),o._invokeEvent("itemMoved",{item:a}),o._isAnimationInProcess=!1,s()})},1)}else s()}else s()})})}_updateMoveList(n){let e=this;n.forEach(t=>{e._getItemCurrentIndex(t)>=0&&e._isItemAllowed(t)&&(e._fullMoveList.push(t),t[e._options.dataFields.items]&&e.isItemExpanded(t)&&e._updateMoveList(t[e._options.dataFields.items]))})}_itemDblClickEvent(n,e){if(this._isEnabled){let t={cancel:!1,event:n,item:e.data};this._invokeEvent("itemDblClick",t),t.cancel!==!0&&this.toggle(e.data)}}_checkItem(n,e){if(e){let t=this._getItemCheckValue(e);t=t===void 0||t===Jr.Indeterminate||t===Jr.Unchecked?Jr.Checked:Jr.Unchecked,this._updateCheckValue(e,t),this._updateChildItemCheckValue(e),this._updateParentItemCheckValue(e),this.refresh(),this._invokeEvent("checkStateChanged",{item:e,checked:e[this._options.dataFields.checked],checkState:e[this._options.dataFields.checkState]})}n.stopPropagation()}_getItemCheckValue(n){return n?this._currentCheckMode===_d.ThreeState?n[this._options.dataFields.checkState]:n[this._options.dataFields.checked]===!0?Jr.Checked:Jr.Unchecked:Jr.Unchecked}_updateCheckValue(n,e){n&&(n[this._options.dataFields.checkState]=e,n[this._options.dataFields.checked]=e===Jr.Checked)}_updateChildItemCheckValue(n){if(n&&n[this._options.dataFields.items])for(let e=0;e<n[this._options.dataFields.items].length;e++){let t=this._getItemCheckValue(n);t===Jr.Checked?this._updateCheckValue(n.items[e],Jr.Checked):t===Jr.Unchecked&&this._updateCheckValue(n.items[e],Jr.Unchecked),this._updateChildItemCheckValue(n.items[e])}}_updateParentItemCheckValue(n){let e=this.getItemParent(n);for(;e;){let t=e[this._options.dataFields.items];if(t){let r=0,o=0;for(let a=0;a<t.length;a++){let l=this._getItemCheckValue(t[a]);l===Jr.Checked?r++:l===Jr.Indeterminate&&o++}let s=Jr.Unchecked;r===t.length?s=Jr.Checked:(r>0||o>0)&&(s=Jr.Indeterminate),this._updateCheckValue(e,s)}e=this.getItemParent(e)}}_updateCheckState(){this._currentCheckMode===_d.ThreeState&&this._updateChildrenCheckState(this._dataService.getList())}_updateChildrenCheckState(n){n&&n.forEach(e=>{this._updateChildItemCheckValue(e),this._updateParentItemCheckValue(e),this._updateChildrenCheckState(e[this._options.dataFields.items])})}_updateData(){this._dataService.init([{data:this.items,fields:this._options.dataFields}]),this._internalUpdateLayout()}_updateOptions(n){n?(this._options={allowDrag:this._commonService.isFieldAvailable(n.allowDrag,!1),allowDrop:this._commonService.isFieldAvailable(n.allowDrop,!1),allowFilter:this._commonService.isFieldAvailable(n.allowFilter,!1),compactMode:this._commonService.isFieldAvailable(n.compactMode,!1),dataFields:null,indent:this._commonService.isFieldAvailable(n.indent,15),loadItems:[],selectedItem:this._commonService.isFieldAvailable(n.selectedItem,this._options.selectedItem?this._options.selectedItem:null)},this._updateShowScroll(n.showScroll)):(this._options={allowDrag:!1,allowDrop:!1,allowFilter:!1,compactMode:!1,dataFields:null,indent:15,loadItems:[],selectedItem:null},this._updateDataFields(),this._updateShowScroll())}_updateDataFields(n){n?this._options.dataFields={allowCheckBox:n.allowCheckBox?n.allowCheckBox:"allowCheckBox",allowDrag:n.allowDrag?n.allowDrag:"allowDrag",allowDrop:n.allowDrop?n.allowDrop:"allowDrop",allowEdit:n.allowEdit?n.allowEdit:"allowEdit",allowFocus:n.allowFocus?n.allowFocus:"allowFocus",allowRadioButton:n.allowRadioButton?n.allowRadioButton:"allowRadioButton",autoCheck:n.autoCheck?n.autoCheck:"autoCheck",canSelect:n.canSelect?n.canSelect:"canSelect",checkBoxSettings:n.checkBoxSettings?n.checkBoxSettings:"checkBoxSettings",checked:n.checked?n.checked:"checked",checkState:n.checkState?n.checkState:"checkState",content:n.content?n.content:"content",contentVisibility:n.contentVisibility?n.contentVisibility:"contentVisibility",contextMenu:n.contextMenu?n.contextMenu:"contextMenu",data:n.data?n.data:"data",enabled:n.enabled?n.enabled:"enabled",expanded:n.expanded?n.expanded:"expanded",hasChildren:n.hasChildren?n.hasChildren:"hasChildren",icon:n.icon?n.icon:"icon",iconUrl:n.iconUrl?n.iconUrl:"iconUrl",id:n.id?n.id:"id",isRoot:n.isRoot?n.id:"isRoot",items:n.items?n.items:"items",objects:n.items?n.items:"items",pid:n.pid?n.pid:"pid",selected:n.selected?n.selected:"selected",showCheckBox:n.showCheckBox?n.showCheckBox:"showCheckBox",statusIcon:n.statusIcon?n.statusIcon:"statusIcon",style:n.style?n.style:"style",templateObj:n.templateObj?n.templateObj:"templateObj",text:n.text?n.text:"text",tooltip:n.tooltip?n.tooltip:"tooltip",value:n.value?n.value:"value",visible:n.value?n.visible:"visible"}:this._options.dataFields={allowCheckBox:"allowCheckBox",allowDrag:"allowDrag",allowDrop:"allowDrop",allowEdit:"allowEdit",allowFocus:"allowFocus",allowRadioButton:"allowRadioButton",autoCheck:"autoCheck",checkBoxSettings:"checkBoxSettings",canSelect:"canSelect",checked:"checked",checkState:"checkState",content:"content",contentVisibility:"contentVisibility",contextMenu:"contextMenu",data:"data",enabled:"enabled",expanded:"expanded",hasChildren:"hasChildren",icon:"icon",iconUrl:"iconUrl",id:"id",isRoot:"isRoot",items:"items",objects:"items",pid:"pid",selected:"selected",showCheckBox:"showCheckBox",statusIcon:"statusIcon",style:"style",templateObj:"templateObj",text:"text",tooltip:"tooltip",value:"value",visible:"visible"},this._dataService&&this._dataService.updateDataFields(this._options.dataFields)}_updateCurrentList(){this._currentList.length=0,this._isThereChildItems=!1;let n=this._dataService.getList();this._options.compactMode===!0&&(n=this._createCompactList(n)),n&&(n=this._applySorting(n)).forEach(e=>this._addChildItems(e,0,null,!1))}_addChildItems(n,e,t,r,o){let s=!0;if(!n[this._options.dataFields.items])return s=this._addItemToCurrentList(n,e,t,r,o);if(this._addItemToCurrentList(n,e,t,r,o)){s=!0;let a=0;if(r||this.isItemExpanded(n)){let l=n[this._options.dataFields.items];l&&(l=this._applySorting(l)).forEach(c=>{this._addChildItems(c,e+this._options.indent,n[this._options.dataFields.id],r,n)&&a++})}!r&&!this._isThereChildItems&&(a>0||this._isThereItems(n))&&(this._isThereChildItems=!0)}return s}_addItemToCurrentList(n,e,t,r,o){n.type="item",n[this._options.dataFields.id]||(n[this._options.dataFields.id]=this._commonService.getUniqueId()),t?n[this._options.dataFields.pid]=t:delete n[this._options.dataFields.pid];let s=this._isItemAllowed(n);return s&&(r?this._fullList.push(n):this._currentList.push({data:n,dragIndent:e,indent:e,inlineStyle:{},style:{general:{},expandBox:{},content:{}}})),s}_isThereItems(n){return!this.isItemExpanded(n)&&n[this._options.dataFields.items]&&n[this._options.dataFields.items].length>0&&this._isThereVisibleChildren(n)}_resetVisiblity(n){n&&n.forEach(e=>{e[this._options.dataFields.visible]=!0,this._resetVisiblity(e[this._options.dataFields.items])})}_collapseChildren(n){n&&n.forEach(e=>{e[this._options.dataFields.expanded]=!1,this._collapseChildren(e[this._options.dataFields.items])})}_createCompactList(n){if(this._resetVisiblity(n),this.selectedItem){let e=this.selectedItem,t=this.getItemParent(this.selectedItem),r=t,o=this.selectedItem;if(this._collapseChildren(o[this._options.dataFields.items]),t)for(;t;){this._updateChildren(t,o);let s=this.getItemParent(t);s||(e=t),o=t,t=s}n.forEach(s=>{this._commonService.isEqual(s[this._options.dataFields.id],e[this._options.dataFields.id])||(s[this._options.dataFields.visible]=r&&this.isItemExpanded(e)?!1:!(this.isItemExpanded(o)&&this._isThereVisibleChildren(this.selectedItem)))})}return n}_updateChildren(n,e){n[this._options.dataFields.items].forEach(t=>{this._commonService.isEqual(t[this._options.dataFields.id],e[this._options.dataFields.id])||(t[this._options.dataFields.expanded]=!1,t[this._options.dataFields.visible]=!(this.isItemExpanded(e)&&this._isThereVisibleChildren(e)))})}loadData(n,e,t,r){this._processLoadData(n,e,t,r)}_updateScrollItemList(n){let e=this;e._resetScrollItemList(),e._scrollItemList.length=0,e.update();let t=e._isInitAnimationAllowed(),r=t?{x:-e._clientRect.width,y:0}:{x:0,y:0},o={x:e._ctrlPadding.left+r.x,y:e._ctrlPadding.top+r.y},s=e._currentIndex,a=0;for(;s+a<e._currentList.length&&s<e._currentIndex+e._visibleRange;){let l=e._currentList[s+a];if(e._isItemDragged(l.data))a++;else{n&&l.data===n&&(o.y+=e._dragListSize.height);let c={clickPos:{x:0,y:0},data:l.data,indent:l.indent,index:s-e._currentIndex,inlineStyle:e._getItemInlineStyle(l),position:{x:t?o.x-25*s:o.x,y:o.y},showCheckBox:e._isItemCheckBoxAllowed(l.data),showRadioButton:e._isItemRadioButtonAllowed(l.data),size:{width:0,height:e._currentItemSize.height},style:{},tabIndex:0,targetPosition:{x:e._ctrlPadding.left,y:o.y},zIndex:e._currentIndex+e._visibleRange-s};e._updateItemStyle(c),e._scrollItemList.push(c),o.y+=e._currentItemSize.height,s++}}}_checkForChildren(n){let e=!1,t=n[this._options.dataFields.items];if(t){for(let r=0;r<t.length;r++)if(this._isItemAllowed(t[r])){e=!0;break}}return e}_updateIsThereChildItems(){let n=!1,e=this._dataService.getList();if(e)for(let t=0;t<e.length&&!(n=this._checkForChildren(e[t]));t++);this.isThereChildItems=n}_processItemAdd(n,e){this._isUpdateAllowed&&this._updateIsThereChildItems()}_processItemRemoval(n,e){this._isUpdateAllowed&&this._updateIsThereChildItems()}_itemDragDrop(n,e){this._isEnabled&&this._currentDragDropMode===Dr.Static&&(this._expandItem=null,this._expandTimeout&&clearTimeout(this._expandTimeout),this._processDragDropStatic(n,e.data),n.stopPropagation())}collapse(n){return N(this,null,function*(){return this.toggle(n,!1)})}expand(n){return N(this,null,function*(){return this.toggle(n,!0)})}_expandBoxMouseDown(n,e){this._isEnabled&&(n.which===1&&!this._isExpandBoxTouched&&this.toggle(e),this._isExpandBoxTouched=!1),n.stopPropagation()}_expandBoxMouseUp(n){this._isExpandBoxTouched=!1,n.stopPropagation()}_expandBoxTouchStart(n,e){this._isEnabled&&(this._isExpandBoxTouched=!0,this.toggle(e)),n.stopPropagation()}_expandBoxTouchEnd(n,e){}toggle(n,e){return N(this,null,function*(){let t=this,r=Promise.resolve();if(n){if(!n[t._options.dataFields.hasChildren]&&(!n[t._options.dataFields.items]||n[t._options.dataFields.items].length===0))return;if(e&&n[t._options.dataFields.expanded]!==!1)return;if(e===!1&&n[t._options.dataFields.expanded]===!1)return;let o=e!==void 0?e:n[t._options.dataFields.expanded]!==!1,s=e!==void 0?e:!o,a={cancel:!1,item:n};e!==void 0?e?t._invokeEvent("beforeExpand",a):t._invokeEvent("beforeCollapse",a):o?t._invokeEvent("beforeCollapse",a):t._invokeEvent("beforeExpand",a),a.cancel!==!0&&(s!==n[t._options.dataFields.expanded]&&(n[t._options.dataFields.expanded]=s,t._isAnimationAllowed?t._options.compactMode===!0?t._processSelection(null,n):(t._isAnimationInProcess=!0,t._clearAnimations(),s?r=t._updateItemExpand(n):r=t._updateItemCollapse(n)):t._internalUpdateCurrentLayout()),t.isItemExpanded(n)?t._invokeEvent("afterExpand",{item:n}):t._invokeEvent("afterCollapse",{item:n}))}else t.getFullList().forEach(o=>o[t._options.dataFields.expanded]=e),t._internalUpdateCurrentLayout();return t.update(),r})}exportToJSON(n,e,t,r){t=t||null,n=n||(r===!1?this.items:this.getFullList());let o=e||[this._options.dataFields.allowDrag,this._options.dataFields.allowDrop,this._options.dataFields.allowEdit,this._options.dataFields.allowFocus,this._options.dataFields.autoCheck,this._options.dataFields.canSelect,this._options.dataFields.checkBoxSettings,this._options.dataFields.checked,this._options.dataFields.checkState,this._options.dataFields.content,this._options.dataFields.contextMenu,this._options.dataFields.contentVisibility,this._options.dataFields.enabled,this._options.dataFields.expanded,this._options.dataFields.fixed,this._options.dataFields.fixChildren,this._options.dataFields.hasChildren,this._options.dataFields.icon,this._options.dataFields.id,this._options.dataFields.pid,this._options.dataFields.selected,this._options.dataFields.showCheckBox,this._options.dataFields.statusIcon,this._options.dataFields.style,this._options.dataFields.templateObj,this._options.dataFields.text,this._options.dataFields.tooltip,this._options.dataFields.value,this._options.dataFields.visible];return r===!1&&o.push(this._options.dataFields.items),JSON.stringify(n,o,t)}_getCheckedItems(){return this._fullList.filter(n=>n[this._options.dataFields.checked]===!0)}_getDisplayMode(){return this._currentItemDisplay===oo.Partial&&!this._isHoverTemplatePresent&&!this._isSelectedTemplatePresent?oo.Partial:oo.Full}updateFullList(){this._fullList.length=0;let n=this._dataService.getList();return n&&n.forEach(e=>this._addChildItems(e,0,null,!0)),this._fullList}getItemLevel(n){let e=0,t=this.getItemParent(n);for(;t;)e++,t=this.getItemParent(t);return e}getItemParent(n){return this._dataService.getParent(n)}getList(n,e){let t=[];switch(n){case"checked":t=this._getCheckedItems();break;case"current":t=this._currentList;break;case"selected":t=this._currentSelectedItems;break;case"virtual":t=this._scrollItemList?this._scrollItemList.map(r=>r.data):[];break;default:t=this._dataService.getList(e)}return t}_isChildOf(n,e){let t=!1;if(n&&e){let r=e[this._options.dataFields.items];if(r&&r.length>0)for(let o=0;o<r.length;o++){if(this._commonService.isEqual(n[this._options.dataFields.id],r[o][this._options.dataFields.id])){t=!0;break}else t=this._isChildOf(n,r[o]);if(t)break}}return t}_isItemCheckBoxAllowed(n){return this._isCheckBoxVisible&&n&&this._commonService.isTrue(n[this._options.dataFields.allowCheckBox])}_isParentOf(n,e){let t=this._dataService.getParent(e);return!!(n&&e&&t&&this._commonService.isEqual(n[this._options.dataFields.id],t[this._options.dataFields.id]))}isThereChildren(){return this._isThereChildItems}_isThereVisibleChildren(n){let e=!1;if(n){let t=n[this._options.dataFields.items];if(t){for(let r=0;r<t.length;r++)if(this._isItemAllowed(t[r])){e=!0;break}}}return e}_getFirstItem(n){let e=null,t=this._dataService.getList();return n&&(t=n[this._options.dataFields.items]),t=this._applySorting(t),Array.isArray(t)&&t.length>0&&(e=t[0]),e}_getItemRealIndex(n){let e=this._dataService.getList();return e?e.indexOf(n):-1}getPrevItem(n){let e=null;if(n){let t=this._dataService.getList(),r=this.getItemParent(n);if(r&&(t=r[this._options.dataFields.items]),t=this._applySorting(t),Array.isArray(t)){let o=t.indexOf(n);(o=o>0?o-1:-1)>=0&&(e=t[o])}}return e}getNextItem(n){let e=null;if(n){let t=this._dataService.getList(),r=this.getItemParent(n);if(r&&(t=r[this._options.dataFields.items]),t=this._applySorting(t),Array.isArray(t)){let o=t.indexOf(n);(o=o<t.length-1?o+1:-1)>=0&&(e=t[o])}}return e}_getLastItem(n){let e=null,t=this._dataService.getList();return n&&(t=n[this._options.dataFields.items]),t=this._applySorting(t),Array.isArray(t)&&t.length>0&&(e=t[t.length-1]),e}moveItem(n,e,t,r){return N(this,null,function*(){if(n){let o=-1;switch(e){case Kt.At:o=r;break;case Kt.Down:t=this.getNextItem(n);break;case Kt.Left:t=this.getItemParent(n);break;case Kt.Right:case Kt.Up:t=this.getPrevItem(n);break;default:o=-1}let s=Array.isArray(n)?n:[n],a=[];for(let l=0;l<s.length;l++){let c=s[l],d=!1,p=this.getItemParent(c);for(;p;){if(s.indexOf(p)>=0){d=!0;break}p=this.getItemParent(p)}d||a.push(c)}a.length>0&&this._getItemCurrentIndex(a[0])>this._getItemCurrentIndex(a[a.length-1])&&(a=a.toReversed()),yield this._moveItemAt(a,t,e,o)}return Promise.resolve()})}_processLeftArrowKey(n,e){return this.collapse(n.data),this._refreshFocusedItem(n),null}_processRightArrowKey(n,e){return this.expand(n.data),this._refreshFocusedItem(n),null}_updateBlockSize(){this._currentItemDisplay===oo.Partial?this.virtualMode!==!1&&this._updateLongestItem():(this._blockSize={width:this._scrollBarSize.width+2,height:this._scrollBarSize.height+2},this._currentScrollAppearance===Sn.Dynamic&&(this._blockSize.width+=5),this._longestItemWidthValue=this._getFullItemWidth())}_isItemInCurrentList(n){let e=!1;if(n){for(let t=0;t<this._currentList.length;t++)if(this._currentList[t].data.id===n.id){e=!0;break}}return e}_getFullItemWidth(){return!this._isLongestInProcess&&this._currentItemDisplay===oo.Partial&&(this._isHoverTemplatePresent||this._isSelectedTemplatePresent)?this._longestItemWidth+"px":this._currentItemSize.width+"px"}_updateLongestItem(){let n=this;n._isLongestInProcess=!0,n._prevLongestItemWidth=n._longestObj&&n._isItemInCurrentList(n._longestObj.data)?n._longestObj.width:0,setTimeout(function(){n._longestObj&&!n._isItemInCurrentList(n._longestObj.data)&&(n._longestObj={data:null,width:0});let e=n._getItemContentElemList();e&&(n._calcLongestItem(e),n._prevLongestItemWidth<n._clientRect.width&&(n._prevLongestItemWidth=n._clientRect.width));let t=n._commonService.getPadding(n._elemRef);n._blockSize.width=n._longestObj.width+(t.left+t.right),n._isLongestInProcess=!1,n._longestItemWidth=n._prevLongestItemWidth,n._longestItemWidthValue=n._getFullItemWidth(),n._updateScrollSize()},1)}_calcLongestItem(n,e){let t=0;for(let r=0;r<n.length;r++)if(r<this._scrollItemList.length){let o=this._scrollItemList[r].data,s=this._getObjFromItem(o);if(s){let a=n[r].offsetWidth+s.indent;if(!e&&this._longestObj.data===s.data){this._calcLongestItem(n,!0);break}t<a&&a>=this._longestObj.width&&(t=a,this._longestObj={data:s.data,width:t},this._prevLongestItemWidth=t)}}}_processUpdateCurrentLayout(){let n=this;return new Promise(e=>{if(n._isAnimationAllowed||n._isUpdateAllowed){let t=n._currentFocusObj?n._currentFocusObj.data:null;n._currentCtrlSize={width:n._clientRect.width,height:n._clientRect.height},n._updateClientRect(),n._updateCurrentList(),n.updateFullList(),n._updateScrollItemList(),n.update(),n._updateScrollSize(),n._updateBlockSize(),n._updateItemElems(),n._updateCurrentItemSize(),n._updateVisibleRange(),n._updateScrollItemList(),n._currentItemDisplay===oo.Partial&&n._virtualMode!==!1?n._updateLongestItem():n._updateScrollSize(),n._currentItemSize.width=n._contentSize.width,n._isAutoSized&&(n._clientRect.height=n._visibleRange*n._avgItemHeight,n._updateCtrlSize(10)),n._updateHoverContentPos(),n._updateSelectContentPos(),t&&(n.focusedItem=t),n.update(),n._updateItemElems()}e()})}_updateCurrentLayout(n){let e=this;e._isUpdateAllowed&&(e._resetLayoutTimer(),e._updateCurrentList(),this._isAutoSized&&this._updateVisibleRange(),n&&e.updateFullList(),e._updateScrollItemList(),this._currentItemDisplay===oo.Partial&&this._virtualMode!==!1?e._updateLongestItem():e._updateScrollSize(),e._updateTimer=setTimeout(function(){e._updateBlockSize(),e.update(),e._updateItemElems(),e._updateHoverContentPos(),e._updateSelectContentPos(),e.update(),clearTimeout(e._updateTimer)},1))}_updateScrollLayout(){this._updateClientRect(),this._updateBlockSize(),this._updateScrollSize(),this._currentItemSize={width:this._contentSize.width,height:this._avgItemHeight},this.refresh(),this._updateItemElems(),this.update()}_updateScrollSize(){let n=this;n._contentSize={width:n._clientRect.width-3,height:n._clientRect.height},n._scrollSize={width:n._currentItemDisplay===oo.Partial?n._blockSize.width-n._clientRect.width-2:0,height:n._avgItemHeight*n._currentList.length-n._clientRect.height+n._avgItemHeight},n._isDragActive&&(n._scrollSize.height+=n._scrollSizeAddition),n.isVerScrollVisible()&&(n._currentScrollAppearance===Sn.Static?n._contentSize.width-=16:(n._isHoverTemplatePresent||n._isSelectedTemplatePresent)&&(n._contentSize.width-=13)),n._currentItemDisplay===oo.Partial&&n._scrollSize.width>=-6&&(n.isVerScrollVisible()&&(n._scrollSize.width+=16),(n._isHoverTemplatePresent||n._isSelectedTemplatePresent)&&(n._scrollSize.width+=4)),n.isHorScrollVisible()&&(n._scrollSize.height+=16),n._scrollSize.width=Math.max(0,n._scrollSize.width),n._scrollSize.height=Math.max(0,n._scrollSize.height),n._maxScrollPos={x:n._scrollSize.width,y:n._scrollSize.height},n._currentScrollPos.x>n._maxScrollPos.x&&n._changeHorizontalScrollPos(n._maxScrollPos.x),n._currentScrollPos.y>n._maxScrollPos.y&&n._changeVerticalScrollPos(n._maxScrollPos.y),n._scrollBarSize={width:n.isVerScrollVisible()?n._clientRect.width-16:n._clientRect.width,height:n.isHorScrollVisible()?n._clientRect.height-16:n._clientRect.height},n._currentScrollAppearance===Sn.Static?(n._scrollBarSize.width-=2,n._scrollBarSize.height-=2):(n.isVerScrollVisible()&&(n._scrollBarSize.height+=2),n.isHorScrollVisible()&&(n._scrollBarSize.width+=2),n.isVerScrollVisible()&&n.isHorScrollVisible()&&(n._scrollBarSize.width+=5,n._scrollBarSize.height+=5)),n._scrollLargeChange={x:n._scrollBarSize.width,y:n._scrollBarSize.height},n._blockHoverRect.width=n._clientRect.width-2;let e={height:n._avgItemHeight-2,left:0,top:-9999999,width:n._clientRect.width-2};n.isVerScrollVisible()&&(n._blockHoverRect.width-=16,e.width-=16,n._currentScrollAppearance===Sn.Dynamic&&(n._blockHoverRect.width+=7,e.width+=7)),n._blockSelectRect.forEach(t=>{t.width=e.width,t.height=e.height})}beginLoad(n){if(n)this._options.loadItems.indexOf(n)<0&&this._options.loadItems.push(n);else{this._isLoading=!0,this.update();let e=this.shadowRoot.querySelector(".iui-loading-icon");e&&(this._loadIconPos={top:(this._clientRect.height-e.offsetHeight)/2,left:(this._clientRect.width-e.offsetWidth)/2})}this.update()}endLoad(n){let e=this;if(n){let t=e._options.loadItems.indexOf(n);t>=0&&e._options.loadItems.splice(t,1),e._updateCurrentLayout(!0)}else e._options.loadItems.length=0,e._isLoading=!1,e._isLoadingEnd=!0,e.refresh(),e._loadingEndTimeout=setTimeout(function(){e._isLoadingEnd=!1,e.update(),clearTimeout(e._loadingEndTimeout)},400)}_isItemLoading(n){return this._options.loadItems.indexOf(n)>=0}_checkedChanged(n,e){if(!this._isAnimationInProcess){let t=n.detail.checked;e.data[this._options.dataFields.checked]!==t&&(e.data[this._options.dataFields.checked]=t,this._updateItemRadioButtonValue(e),this._invokeEvent("checkedChanged",{event:n,item:e.data,checked:e.data[this._options.dataFields.checked]}),this.update())}}_getItemRadioValue(n){return!!(n&&n[this._options.dataFields.checked]===!0)}_isItemRadioButtonAllowed(n){return n&&n[this._options.dataFields.allowRadioButton]===!0}_updateItemRadioButtonValue(n){if(n){let e=this.getItemParent(n.data);(e?e[this._options.dataFields.items]:[]).forEach(t=>{this._isItemRadioButtonAllowed(t)&&t!==n.data&&(t[this._options.dataFields.checked]=!1)})}}scrollTo(n,e){let t=this;if(t.virtualMode!==!1&&n)if(e!==void 0){let r=t._getItemCurrentIndex(n);r>=0&&t.scrollPos({x:t._currentScrollPos.x,y:e!==void 0?t._avgItemHeight*(r-e):t._avgItemHeight*(r+1-Math.floor(t._visibleRange/2))}),t._processUpdateLayout()}else{t.suspendLayout();let r=t.getItemParent(n);for(;r!==null;)t.expand(r),r=t.getItemParent(r);t.resumeLayout();let o=setTimeout(function(){let s=t._getItemCurrentIndex(n);s>=0&&(t.scrollPos({x:t._currentScrollPos.x,y:t._avgItemHeight*(s-Math.floor(t._visibleRange/2))}),t._processUpdateLayout()),clearTimeout(o)},150)}}_callAfterSelectEvent(n){let e={item:n};this._invokeEvent("afterSelect",e),this._invokeEvent("selectionChanged",e),this._options.compactMode===!0&&(this.getItemParent(n)&&(n[this._options.dataFields.expanded]=!0),this._processUpdateLayout())}_getControlStyle(){let n=this._currentInlineStyle||{};if(n.cursor=this._ctrlCursor,n.overflow=this.virtualMode?"hidden":"auto",this._ctrlSize.width>0&&(n.width=this._ctrlSize.width+"px"),this._isAutoSized){let e=this._currentCtrlSize.height;this.isHorScrollVisible()&&(e+=16),n.height=e+"px"}else this._ctrlSize.height>0&&(n.height=this._ctrlSize.height+"px");return n}_getBlockStyle(){let n={};return this._currentItemDisplay===oo.Partial&&(n={width:this._blockSize.width+"px"}),n}_getItemInlineContentStyle(n){let e={};return e["padding-left"]=n.indent+"px",e}_isThereNoItems(n){return n[this._options.dataFields.items]&&n[this._options.dataFields.items].length===0}_itemHasChildren(n){return n[this._options.dataFields.hasChildren]&&(this._isThereVisibleChildren(n)||!n[this._options.dataFields.items]||this._isThereNoItems(n))}_updateItemStyle(n){if(n){n.style={general:{},expandBox:{},content:{}},n.inlineStyle=this._getItemInlineStyle(n),n.style.general[this._itemClassName]=!0,n.style.general[this._options.currentStyle.item.general.normal]=!0,n.style.content[this._itemContentClassName]=!0,n.style.content[this._options.currentStyle.item.content.normal]=!0,this._getDisplayMode()===oo.Partial?(n.style.content["iui-treeitem-content-block"]=!0,this._isItemEnabled(n.data)?this._isItemSelected(n.data)?n.style.content[this._options.currentStyle.item.content.selected]=!0:this._isItemHovered(n.data)&&(n.style.content[this._options.currentStyle.item.content.hovered]=!0):n.style.content[this._options.currentStyle.item.content.disabled]=!0):(n.style.general["iui-treeitem-block"]=!0,this._isItemEnabled(n.data)?this._isItemSelected(n.data)?n.style.general[this._options.currentStyle.item.general.selected]=!0:this._isItemHovered(n.data)&&(n.style.general[this._options.currentStyle.item.general.hovered]=!0):n.style.general[this._options.currentStyle.item.general.disabled]=!0),this._options.allowFocus&&this._currentFocusObj&&n.data===this._currentFocusObj.data&&(n.style.content[this._options.currentStyle.item.content.focused]=!0),(this._isThereChildItems||n.data[this._options.dataFields.hasChildren])&&(n.style.expandBox[this._options.currentStyle.item.expandBox.general]=!0),(this._itemHasChildren(n.data)||this._isThereVisibleChildren(n.data))&&(this._isItemLoading(n.data)?n.style.expandBox[this._options.currentStyle.item.expandBox.load]=!0:n.data[this._options.dataFields.expanded]!==!1?n.style.expandBox[this._options.currentStyle.item.expandBox.expanded]=!0:n.style.expandBox[this._options.currentStyle.item.expandBox.collapsed]=!0);let e=this._getObjFromItem(n.data);e&&(e.style=n.style,e.inlineStyle=n.inlineStyle)}}_getAppliedExpandBoxClass(n){return n.style.expandBox}_getAppliedItemClass(n){return n.style.general}_getAppliedItemStyle(n,e){let t=this._commonService.getStyle(n.inlineStyle),r=re({},t.normal)||{};return this._isItemEnabled(n.data)?this._isItemSelected(n.data)?r=re({},t.selected)||{}:this._isItemHovered(n.data)&&(r=re({},t.hovered)||{}):r=re({},t.disabled)||{},r.position="absolute",n.position&&(r.top=n.position.y+"px",n.removeStart||(r.left=n.position.x-this._currentScrollPos.x+"px")),n.scale!==void 0&&(r.transform="scale("+n.scale+")"),n.animateLeft!==void 0&&(r.left=n.animateLeft+"%"),r.zIndex=n.zIndex!==void 0?n.zIndex:this._visibleRange-e,r.display=this._currentItemDisplay===oo.Partial?"inline-block":"block",r.width=this._longestItemWidthValue,r}_getAppliedItemExpandBoxStyle(n){return this._commonService.getStyle(n.inlineStyle).expandBox||{}}_getCheckBoxClass(n){let e={"iui-treeitem-checkbox":!0};if(this._currentCheckMode===_d.ThreeState)switch(n[this._options.dataFields.checkState]){case Jr.Indeterminate:e["iui-treeitem-checkbox-indeterminate"]=!0;break;case Jr.Checked:e["iui-treeitem-checkbox-checked"]=!0;break;default:this._defaultFunc()}else n[this._options.dataFields.checked]&&(e["iui-treeitem-checkbox-checked"]=!0);return e}_getItemStyle(n){return n?{general:this._getItemGeneralStyle(n.general),expandBox:this._getItemExpandBoxStyle(n.expandBox),content:this._getItemContentStyle(n.content)}:this._getDefaultItemStyle()}_getItemExpandBoxStyle(n){return this._commonService.isString(n)?n:n?{general:this._commonService.isFieldAvailable(n.disabled,this._expandBoxClassName),load:this._commonService.isFieldAvailable(n.focused,this._expandBoxClassName+"-load"),expanded:this._commonService.isFieldAvailable(n.normal,this._expandBoxClassName+"-open"),collapsed:this._commonService.isFieldAvailable(n.hovered,this._expandBoxClassName+"-close")}:this._getDefaultItemExpandBoxStyle()}_getDefaultItemStyle(){return{general:this._getDefaultItemGeneralStyle(),expandBox:this._getDefaultItemExpandBoxStyle(),content:this._getDefaultItemContentStyle()}}_getDefaultItemExpandBoxStyle(){return{general:this._defaultStyle.item.expandBox.general,load:this._defaultStyle.item.expandBox.load,expanded:this._defaultStyle.item.expandBox.expanded,collapsed:this._defaultStyle.item.expandBox.collapsed}}_getDefaultListStyle(){return{general:this._getDefaultGeneralStyle(),item:this._getDefaultItemStyle()}}_updateColorSchemeSettings(n){switch(this._currentBaseColorSchemeSettings=De``,this._currentColorSchemeSettings=De``,this._currentItemColorSchemeSettings=De``,this._currentScrollColorSchemeSettings=De``,n){case mi.Dark:this._currentBaseColorSchemeSettings.cssText=this._commonService.replaceAll(Wz.cssText,"../../../icons",this._currentResourcePath),this._currentColorSchemeSettings.cssText=this._commonService.replaceAll(wk.cssText,"../../../icons",this._currentResourcePath),this._currentItemColorSchemeSettings.cssText=this._commonService.replaceAll(Ak.cssText,"../../../icons",this._currentResourcePath),this._currentScrollColorSchemeSettings.cssText=this._commonService.replaceAll(uC.cssText,"../../../icons",this._currentResourcePath);break;case mi.Light:this._currentBaseColorSchemeSettings.cssText=this._commonService.replaceAll(Kz.cssText,"../../../icons",this._currentResourcePath),this._currentColorSchemeSettings.cssText=this._commonService.replaceAll(qz.cssText,"../../../icons",this._currentResourcePath),this._currentItemColorSchemeSettings.cssText=this._commonService.replaceAll(Jz.cssText,"../../../icons",this._currentResourcePath),this._currentScrollColorSchemeSettings.cssText=this._commonService.replaceAll(_S.cssText,"../../../icons",this._currentResourcePath);break;default:this._currentBaseColorSchemeSettings.cssText="",this._currentColorSchemeSettings.cssText="",this._currentItemColorSchemeSettings.cssText="",this._currentScrollColorSchemeSettings.cssText=""}}_updateThemeSettings(n){switch(this._currentThemeSettings=De``,this._currentItemThemeSettings=De``,this._currentScrollStyleSettings=De``,n){case An.Office:this._currentThemeSettings.cssText=this._commonService.replaceAll($z.cssText,"../../icons",this._currentResourcePath),this._currentItemThemeSettings.cssText=this._commonService.replaceAll(Yz.cssText,"../../icons",this._currentResourcePath),this._currentScrollStyleSettings.cssText=this._commonService.replaceAll(gS.cssText,"../../icons",this._currentResourcePath);break;case An.Dark:this._currentThemeSettings.cssText=this._commonService.replaceAll(wk.cssText,"../../../icons",this._currentResourcePath),this._currentItemThemeSettings.cssText=this._commonService.replaceAll(Ak.cssText,"../../../icons",this._currentResourcePath),this._currentScrollStyleSettings.cssText=this._commonService.replaceAll(uC.cssText,"../../../icons",this._currentResourcePath);break;default:this._currentThemeSettings.cssText="",this._currentItemThemeSettings.cssText="",this._currentScrollStyleSettings.cssText=this._commonService.replaceAll(Xm.cssText,"../../icons",this._currentResourcePath)}}_getItemTemplate(n,e){let t=null,r=null;switch(e){case"hover":t=this.itemHoverTemplate;break;case"select":t=this.itemSelectTemplate;break;default:t=this.itemTemplate}if(t){let o=t(n,this._getItemCurrentIndex(n));o&&(r=new Al(o.strings,o.values,"html",sh))}if(!r){let o={},s=this._commonService.isString(n[this._options.dataFields.icon])?n[this._options.dataFields.icon].split(" "):[];s.map(a=>o[a]=!0),r=Ke`                 ${s.length>0?Ke`<span class=${wn(o)}></span>`:Ke``}                 ${n[this._options.dataFields.iconUrl]?Ke`<img style=${Ji({verticalAlign:"middle"})} src="${n[this._options.dataFields.iconUrl]} />`:Ke``}                 <span class="iui-item-label" >${n[this._options.dataFields.text]}</span>             `}return r}_getDragTemplate(n){return Ke`             <div class=${wn({[this._itemClassName]:!0})}>                 <div style=${Ji({"padding-left":n.indent+"px"})}>                     <div class=${wn({[this._itemContentClassName]:!0})}>                         ${this.showExpandBox?Ke`<span class=${wn(n.style.expandBox)}></span>`:Ke``}                         ${this._isCheckBoxVisible?Ke`<span class=${wn(this._getCheckBoxClass(n.data))}></span>`:Ke``}                         <div style="display:inline-block">                             ${this._getItemTemplate(n.data)}                         </div>                     </div>                 </div>             </div>         `}_isExpandBoxPresent(n){return this._isThereChildItems||n[this._options.dataFields.hasChildren]}_getDragItemExpandBoxStyle(n){let e={};return(this._isThereChildItems||n[this._options.dataFields.hasChildren])&&(e[this._expandBoxClassName]=!0),(this._itemHasChildren(n)||this._isThereVisibleChildren(n))&&(e[this._expandBoxClassName+"-close"]=!0),e}_calcDragMoveSpace(){return Math.floor(.25*this._currentItemSize.height)}_getDragDropTarget(n){let e=null,t=this._dragDropService.getData();if(this._currentDragPos.y>this._prevDragPos.y)for(let r=this._scrollItemList.length-1;r>=0;r--){let o=this._scrollItemList[r];if(e=o,this._dragListPos.top+this._dragListSize.height>o.position.y&&this._isDropAllowed(t.source,e.data)){this._dropPos=1,this._dragListPos.top+this._dragListSize.height>o.position.y+this._dragMoveSpace&&(this._dragListIndex=r+1,this._dropPos=0,this._dragListPos.top>o.position.y+o.size.height+this._dragMoveSpace/2?this._dropPos=-1:this._dragListPos.top>o.position.y+o.size.height-this._dragMoveSpace&&(this._dropPos=2)),n=!0,this._dragTargetIndex=r;break}}else if(this._currentDragPos.y<this._prevDragPos.y)for(let r=0;r<this._scrollItemList.length;r++){let o=this._scrollItemList[r];if(e=o,this._dragListPos.top<o.position.y+o.size.height&&this._isDropAllowed(t.source,e.data)){this._dropPos=2,this._dragListPos.top<o.position.y+o.size.height-this._dragMoveSpace&&(this._dropPos=0,this._dragListPos.top<o.position.y+o.size.height/2&&(this._dragListIndex=r,this._dropPos=1)),n=!0,this._dragTargetIndex=r;break}}return{pass:n,target:e}}_updateDragIndent(n){this._activeAnimations.filter(e=>e.getTarget()==="INDENT").length===0&&this._animateIndent(this._dragItemList,this._dropPos===0?n+this._options.indent:n)}_animateIndent(n,e){let t=this._updateIndentAnimation.bind(this),r=new Lo("INDENT");this._activeAnimations.push(r);let o=[];n.forEach(s=>o.push({element:s,current:{paddingLeft:s.indent},values:{paddingLeft:e}})),r.animate(o,0,this._currentAnimationSpeedValue,t)}_updateIndentAnimation(n,e,t){n.length>0&&(n.forEach(r=>{r.element&&(r.element.indent=r.values.paddingLeft,e&&(this._clearTargetAnimation("INDENT"),this._clearInactiveAnimations()))}),this.update())}_getRadioButtonLayout(n){let e=Ke``;if(n.showRadioButton){let t=De`                 .iui-radio-button {                     margin: var(--iui-radio-button-margin, 0 3px);                     padding: var(--iui-radio-button-padding, 3px 0);                 }                 .iui-radio-button-btn {                     margin: var(--iui-radio-button-btn-margin, 0);                 }                 .iui-radio-button-btn span {                     height: var(--iui-radio-button-btn-content-height, 10px);                     width: var(--iui-radio-button-btn-content-width, 10px);                 }             `;e=Ke`                 <iui-radiobutton                      .checked=${this._getItemRadioValue(n.data)}                     .colorScheme="${this._currentColorScheme}"                     .customStyle="${[t,this.customStyle]}"                     .enabled="${this.enabled}"                      .theme="${this._currentTheme}"                     @checkedChanged="${r=>this._checkedChanged(r,n)}"                 ></iui-radiobutton>`}return e}render(){return Ke`                 <style>                     ${Xm}                     ${this._currentBaseStyleSettings}                     ${this._currentBaseColorSchemeSettings}                     ${this._currentScrollStyleSettings}                     ${this._currentControlStyleSettings}                     ${this._currentItemStyleSettings}                     ${this._currentThemeSettings}                     ${this._currentItemThemeSettings}                     ${this._currentColorSchemeSettings}                     ${this._currentItemColorSchemeSettings}                     ${this._currentScrollColorSchemeSettings}                     ${this._currentCustomStyle}                 </style>                 <div data-ctrl="treeview" class=${wn(this._getControlClass())} style=${Ji(this._getControlStyle())} @DOMMouseScroll="${n=>this._processMouseWheel(n)}" @mousewheel="${n=>this._processMouseWheel(n)}" @mouseenter="${n=>this._ctrlMouseEnter(n)}" @mouseleave="${n=>this._ctrlMouseLeave(n)}" @mousemove="${n=>this._onCtrlMouseMove(n)}" @dragenter="${n=>this._ctrlDragEnter(n)}" @dragleave="${n=>this._ctrlDragLeave(n)}" @dragover="${n=>this._ctrlDragOver(n)}" @drop="${n=>this._ctrlDragDrop(n)}" @dragend="${n=>this._ctrlDragEnd(n)}" @scroll="${n=>this._onScroll(n)}">                     <div class=${wn({"iui-base-loading":!!this._isLoading,"iui-base-loading-end":!!this._isLoadingEnd})}>                         <ul style=${Ji({width:this._currentItemDisplay===oo.Partial?"9999px":this._blockSize.width+"px",height:this._contentSize.height+"px",margin:this._isScrollListInit?"-9999px 0 0 0":0,padding:0})} @touchstart="${n=>this._ctrlTouchStart(n)}" @touchend="${n=>this._ctrlTouchEnd(n)}">                             ${this._scrollItemList.map((n,e)=>Ke`                                 <li data-item class=${wn(this._getAppliedItemClass(n))} style=${Ji(this._getAppliedItemStyle(n,e))} @mouseenter="${t=>this._itemMouseEnter(t,n)}" @mousemove="${t=>this._itemMouseMove(t,n)}" @mouseleave="${t=>this._itemMouseLeave(t,n)}">                                     <div style=${Ji({"padding-left":n.indent+"px"})} draggable="true" @mousedown="${t=>this._itemMouseDown(t,n)}" @mouseup="${t=>this._itemMouseUp(t,n)}" @dragstart="${t=>this._itemDragStart(t,n,e)}" @dragover="${t=>this._itemDragOver(t,n,e)}" @drop="${t=>this._itemDragDrop(t,n)}" @dragend="${t=>this._ctrlDragEnd(t)}" @touchstart="${t=>this._itemTouchStart(t,n)}" @touchmove="${t=>this._itemTouchMove(t,n)}" @touchend="${t=>this._itemTouchEnd(t,n)}">                                         <div data-item-content class=${wn(n.style.content)} style=${Ji({display:this._currentItemDisplay===oo.Partial?"inline-block":"block"})} tabindex="${n.tabIndex}" @focus="${()=>this._itemGotFocus(n)}" @blur="${()=>this._itemLostFocus(n)}" @keydown="${t=>this._itemKeyDown(t,n)}" @keypress="${t=>this._itemKeyPress(t,n)}" @keyup="${t=>this._itemKeyUp(t,n)}">                                             <div class="iui-treeitem-content-block">                                                 ${this.showExpandBox?Ke`<span class=${wn(this._getAppliedExpandBoxClass(n))} style=${Ji(this._getAppliedItemExpandBoxStyle(n))} @mousedown="${t=>this._expandBoxMouseDown(t,n.data)}" @mouseup="${t=>this._expandBoxMouseUp(t)}" @touchstart="${t=>this._expandBoxTouchStart(t,n.data)}" @touchend="${t=>this._expandBoxTouchEnd(t,n.data)}"></span>`:Ke``}                                                 ${n.showCheckBox?Ke`<span class=${wn(this._getCheckBoxClass(n.data))} @mousedown="${t=>this._checkItem(t,n.data)}" @touchstart="${t=>this._checkItem(t,n.data)}"></span>`:Ke``}                                                 ${this._getRadioButtonLayout(n)}                                                 <div class="iui-treeitem-content-template" @click="${t=>this._itemClickEvent(t,n)}" @dblclick="${t=>this._itemDblClickEvent(t,n)}" @contextmenu="${t=>this._itemRightClickEvent(t,n)}">                                                     ${this._getItemTemplate(n.data)}                                                 </div>                                             </div>                                         </div>                                     </div>                                 </li>                             `)}                         </ul>                         ${!this._isDragActive&&!this._isAnimationInProcess&&this._isHoverTemplatePresent&&this._hoverItemObj&&this._isContentAllowed(this._hoverItemObj.data,"hover")?Ke`<div class="iui-treeview-block iui-treeview-block-hover" style=${Ji({left:this._blockHoverRect.left+"px",top:this._blockHoverRect.top+"px",height:this._blockHoverRect.height+"px",width:this._blockHoverRect.width+"px"})}>                                     <div style=${Ji({height:this._blockHoverRect.height+"px"})} @mousemove="${n=>this._hoverBlockMouseMove(n)}" @mouseleave="${n=>this._hoverBlockMouseLeave(n)}">                                         ${this._getItemTemplate(this._hoverItemObj.data,"hover")}                                     </div>                                 </div>`:Ke``}                         ${!this._isDragActive&&!this._isAnimationInProcess&&this._isSelectedTemplatePresent?this._currentSelectedItems.map((n,e)=>Ke`<span>                                     ${this._isContentAllowed(n,"select")?Ke`<div class="iui-treeview-block iui-treeview-block-select" style=${Ji(this._getSelectBlockRect(e))}>                                             <div style=${Ji({height:this._blockSelectHeight+"px"})}>                                                 ${this._getItemTemplate(n,"select")}                                             </div>                                         </div>`:Ke``}                                     </span>`):Ke``}                         ${this.isVerScrollVisible()?Ke`<iui-scrollbar id="ver-scroll" .allowAnimation="${this._isAnimationAllowed}" .appearance="${this._currentScrollAppearance}" .colorScheme="${this._currentColorScheme}" .enabled="${this.enabled}" .value="${this._currentScrollPos.y}" .max="${this._maxScrollPos.y}" .largeChange="${this._scrollLargeChange.y}" .height="${this._scrollBarSize.height}" .theme="${this._currentTheme}" .visible="${this._isScrollVisible}" @mouseenter="${n=>this._scrollMouseEnter(n)}" @valueChanged="${n=>this._onVerticalScrollChanged(n)}" @scrollStart="${n=>this._onVerticalScrollStart(n)}" @scrollEnd="${n=>this._onVerticalScrollEnd(n)}"></iui-scrollbar>`:Ke``}                         ${this.isHorScrollVisible()?Ke`<iui-scrollbar id="hor-scroll" .allowAnimation="${this._isAnimationAllowed}" .appearance="${this._currentScrollAppearance}" .colorScheme="${this._currentColorScheme}" .enabled="${this.enabled}" orientation="Horizontal" .value="${this._currentScrollPos.x}" .max="${this._maxScrollPos.x}" .width="${this._scrollBarSize.width}" .theme="${this._currentTheme}" .visible="${this._isScrollVisible}" @mouseenter="${n=>this._scrollMouseEnter(n)}" @valueChanged="${n=>this._onHorizontalScrollChanged(n)}" @scrollStart="${n=>this._onHorizontalScrollStart(n)}" @scrollEnd="${n=>this._onHorizontalScrollEnd(n)}"></iui-scrollbar>`:Ke``}                         ${this.isVerScrollVisible()&&this.isHorScrollVisible()?Ke`<div class=${wn(this._getScrollCornerClass())}></div>`:Ke``}                     </div>                     ${this._isDragActive&&this._isCtrlDragEntered?Ke`<div id="drag-content" class=${wn(this._getDragListClass())} style=${Ji({top:this._dragListPos.top+"px",width:this._contentSize.width-2+"px"})}>                                 ${this._isDragCopy?Ke`<span class="iui-draglist-copy" style=${Ji({top:this._currentDragItems===1?this._dragListSize.height/2-8+"px":"3px",left:this._dragListSize.width/2-8+"px"})}></span>`:Ke``}                                 <ul style=${Ji({margin:0,padding:0})}>                                     ${this._dragItemList.filter((n,e)=>e<this._maxDragItems).map((n,e)=>Ke`                                         <li class=${wn({"iui-listitem-animate":this.allowAnimation})} style=${Ji({border:"thin solid gray2"})}>                                             ${this._getDragTemplate(n)}                                         </li>                                     `)}                                 </ul>                                 ${this._totalDragItems>this._currentDragItems?Ke`<div class="iui-draglist-corner">                                             <div class="iui-draglist-corner-block"></div>                                             <div class="iui-draglist-num">+${this._totalDragItems-this._currentDragItems}</div>                                         </div>`:Ke``}                             </div>`:Ke``}                     ${this._isLoading?Ke`<div class="iui-loading-icon" style=${Ji({top:this._loadIconPos.top+"px",left:this._loadIconPos.left+"px"})}></div>`:Ke``}                 </div>             `}firstUpdated(n){let e=this;e._updateReferences(),setTimeout(function(){e._isHoverTemplatePresent=!!e.itemHoverTemplate,e._isSelectedTemplatePresent=!!e.itemSelectTemplate,e._internalUpdateLayout()},1)}updated(n){n.forEach((e,t)=>{}),this._updateFocusItem()}_updateControlStyleSettings(n){this._currentBaseStyleSettings=De``,this._currentBaseStyleSettings.cssText=this._commonService.replaceAll(vk.cssText,"../../icons",n),this._currentControlStyleSettings=De``,this._currentControlStyleSettings.cssText=this._commonService.replaceAll(bk.cssText,"../../icons",n),this._currentItemStyleSettings=De``,this._currentItemStyleSettings.cssText=this._commonService.replaceAll(Sk.cssText,"../../icons",n)}_updateReferences(){this._elemRef=this.shadowRoot.querySelector("div[data-ctrl=treeview]"),this._resizeObserver&&this._resizeObserver.observe(this._elemRef)}};window.customElements.define("iui-treeview",Ek);var Xz=De`
  .fwcBadge {
    display: inline-block;
    border-radius: 50%;
    color: var(--fwcWhite);
    height: 1.3rem;
    width: 1.3rem;
    line-height: 1.3rem;
    text-align: center;
    margin-bottom: 0.2rem;
  }

  .fwcBadgeFw {
    float: left;
    width: 13px;
    height: 13px;
    display: flex; /* Added for centering content */
    align-items: center; /* Vertically center content */
    justify-content: center; /* Horizontally center content */

    p {
      font-size: 9px;
      font-weight: bold;
      text-align: center;
      color: var(--fwcWhite);
      margin: 0; /* Reset margin to avoid unexpected space */
      line-height: 1; /* Ensure single line height */
    }

    &.fwcBadgeFw-C {
      background-color: var(--fwcPaleOrange);      
      margin-right: 1px;
    }

    &.fwcBadgeFw-I {
      background-color: var(--fwcOrange);     
    }
  }

  .spanInfoPill {
    display: inline-block;
    border: 1px solid var(--fwcDarkBlue);
    border-radius: 3px;

    span:first-child {
      color: var(--fwcWhite);
      display: inline-block;
      background-color: var(--fwcDarkBlue);
      border: 1px solid var(--fwcDarkBlue);
      padding: 0 0.4rem;

      p {
        vertical-align: middle;
        display: inline-block;
        margin: 0;
        padding: 0;
        font-family: monospace;
        font-size: smaller;
        text-transform: uppercase;
      }
    }

    span:last-child {
      padding: 0 3px;
    }

    &.pillSuccess {
      border: 1px solid var(--fwcGreen);
      color: var(--fwcDarkGreen);

      span:first-child {
        background: var(--fwcPaleGreen);
        border: 1px solid var(--fwcPaleGreen);
        border-right: 1px solid var(--fwcGreen);
        color: var(--fwcDark);
      }
    }

    &.pillDanger {
      border: 1px solid var(--fwcRed2);
      color: var(--fwcRed2);

      span:first-child {
        background: var(--fwcPaleRed);
        border: 1px solid var(--fwcPaleRed);
        border-right: 1px solid var(--fwcRed2);
        color: var(--fwcRed2);
      }
    }

    &.pillInfo {
      border: 1px solid var(--fwcBlue);
      color: var(--fwcBlue);

      span:first-child {
        background: var(--fwcPaleBlue);
        border: 1px solid var(--fwcPaleBlue);
        border-right: 1px solid var(--fwcBlue);
        color: var(--fwcDarkBlue);
      }
    }

    &.pillInfoBadge {
      border: 1px solid var(--fwcPaleBlue);

      span:first-child {
        background: var(--fwcPaleBlue);

        p {
          color: var(--fwcWhite);
          font-family: inherit;
          text-transform: none;
        }
      }
    }

    &.pillWarnBadge {
      border: 1px solid var(--fwcGreen);

      span:first-child {
        background: var(--fwcGreen);

        p {
          color: var(--fwcWhite);
          font-family: inherit;
          text-transform: none;
        }
      }
    }

    &.pillSecondaryBadge {
      border: 1px solid var(--fwcPaleDark);

      span:first-child {
        background: var(--fwcPaleDark);

        p {
          color: var(--fwcWhite);
          font-family: inherit;
          text-transform: none;
        }
      }
    }
  }

  .spanSimplePill {
    display: inline-block;
    border: 1px solid var(--fwcDarkBlue);
    border-radius: 3px;
    margin: 0 0.5rem;
    padding-left: 3px;
    padding-right: 0.5rem;
    background-color: var(--fwcWhite);
    cursor: pointer;

    &-select {
      font-weight: normal;
      font-style: normal;
      color: var(--fwcMidDark);
    }
  }
`;var Qz=De`
  .flag-icon {
    display: inline-block;
    width: 1.3em;
    height: 1em;
    background-size: cover;
    background-position: 50%;
    background-repeat: no-repeat;
  }
  .flag-icon-ac { background-image: url('/assets/flags/4x3/ac.svg'); }
.flag-icon-ad { background-image: url('/assets/flags/4x3/ad.svg'); }
.flag-icon-ae { background-image: url('/assets/flags/4x3/ae.svg'); }
.flag-icon-af { background-image: url('/assets/flags/4x3/af.svg'); }
.flag-icon-ag { background-image: url('/assets/flags/4x3/ag.svg'); }
.flag-icon-ai { background-image: url('/assets/flags/4x3/ai.svg'); }
.flag-icon-al { background-image: url('/assets/flags/4x3/al.svg'); }
.flag-icon-am { background-image: url('/assets/flags/4x3/am.svg'); }
.flag-icon-ao { background-image: url('/assets/flags/4x3/ao.svg'); }
.flag-icon-aq { background-image: url('/assets/flags/4x3/aq.svg'); }
.flag-icon-ar { background-image: url('/assets/flags/4x3/ar.svg'); }
.flag-icon-as { background-image: url('/assets/flags/4x3/as.svg'); }
.flag-icon-at { background-image: url('/assets/flags/4x3/at.svg'); }
.flag-icon-au { background-image: url('/assets/flags/4x3/au.svg'); }
.flag-icon-aw { background-image: url('/assets/flags/4x3/aw.svg'); }
.flag-icon-ax { background-image: url('/assets/flags/4x3/ax.svg'); }
.flag-icon-az { background-image: url('/assets/flags/4x3/az.svg'); }
.flag-icon-ba { background-image: url('/assets/flags/4x3/ba.svg'); }
.flag-icon-bb { background-image: url('/assets/flags/4x3/bb.svg'); }
.flag-icon-bd { background-image: url('/assets/flags/4x3/bd.svg'); }
.flag-icon-be { background-image: url('/assets/flags/4x3/be.svg'); }
.flag-icon-bf { background-image: url('/assets/flags/4x3/bf.svg'); }
.flag-icon-bg { background-image: url('/assets/flags/4x3/bg.svg'); }
.flag-icon-bh { background-image: url('/assets/flags/4x3/bh.svg'); }
.flag-icon-bi { background-image: url('/assets/flags/4x3/bi.svg'); }
.flag-icon-bj { background-image: url('/assets/flags/4x3/bj.svg'); }
.flag-icon-bl { background-image: url('/assets/flags/4x3/bl.svg'); }
.flag-icon-bm { background-image: url('/assets/flags/4x3/bm.svg'); }
.flag-icon-bn { background-image: url('/assets/flags/4x3/bn.svg'); }
.flag-icon-bo { background-image: url('/assets/flags/4x3/bo.svg'); }
.flag-icon-bq { background-image: url('/assets/flags/4x3/bq.svg'); }
.flag-icon-br { background-image: url('/assets/flags/4x3/br.svg'); }
.flag-icon-bs { background-image: url('/assets/flags/4x3/bs.svg'); }
.flag-icon-bt { background-image: url('/assets/flags/4x3/bt.svg'); }
.flag-icon-bv { background-image: url('/assets/flags/4x3/bv.svg'); }
.flag-icon-bw { background-image: url('/assets/flags/4x3/bw.svg'); }
.flag-icon-by { background-image: url('/assets/flags/4x3/by.svg'); }
.flag-icon-bz { background-image: url('/assets/flags/4x3/bz.svg'); }
.flag-icon-ca { background-image: url('/assets/flags/4x3/ca.svg'); }
.flag-icon-cc { background-image: url('/assets/flags/4x3/cc.svg'); }
.flag-icon-cd { background-image: url('/assets/flags/4x3/cd.svg'); }
.flag-icon-cf { background-image: url('/assets/flags/4x3/cf.svg'); }
.flag-icon-cg { background-image: url('/assets/flags/4x3/cg.svg'); }
.flag-icon-ch { background-image: url('/assets/flags/4x3/ch.svg'); }
.flag-icon-ci { background-image: url('/assets/flags/4x3/ci.svg'); }
.flag-icon-ck { background-image: url('/assets/flags/4x3/ck.svg'); }
.flag-icon-cl { background-image: url('/assets/flags/4x3/cl.svg'); }
.flag-icon-cm { background-image: url('/assets/flags/4x3/cm.svg'); }
.flag-icon-cn { background-image: url('/assets/flags/4x3/cn.svg'); }
.flag-icon-co { background-image: url('/assets/flags/4x3/co.svg'); }
.flag-icon-cp { background-image: url('/assets/flags/4x3/cp.svg'); }
.flag-icon-cr { background-image: url('/assets/flags/4x3/cr.svg'); }
.flag-icon-cu { background-image: url('/assets/flags/4x3/cu.svg'); }
.flag-icon-cv { background-image: url('/assets/flags/4x3/cv.svg'); }
.flag-icon-cw { background-image: url('/assets/flags/4x3/cw.svg'); }
.flag-icon-cx { background-image: url('/assets/flags/4x3/cx.svg'); }
.flag-icon-cy { background-image: url('/assets/flags/4x3/cy.svg'); }
.flag-icon-cz { background-image: url('/assets/flags/4x3/cz.svg'); }
.flag-icon-de { background-image: url('/assets/flags/4x3/de.svg'); }
.flag-icon-dg { background-image: url('/assets/flags/4x3/dg.svg'); }
.flag-icon-dj { background-image: url('/assets/flags/4x3/dj.svg'); }
.flag-icon-dk { background-image: url('/assets/flags/4x3/dk.svg'); }
.flag-icon-dm { background-image: url('/assets/flags/4x3/dm.svg'); }
.flag-icon-do { background-image: url('/assets/flags/4x3/do.svg'); }
.flag-icon-dz { background-image: url('/assets/flags/4x3/dz.svg'); }
.flag-icon-ea { background-image: url('/assets/flags/4x3/ea.svg'); }
.flag-icon-ec { background-image: url('/assets/flags/4x3/ec.svg'); }
.flag-icon-ee { background-image: url('/assets/flags/4x3/ee.svg'); }
.flag-icon-eg { background-image: url('/assets/flags/4x3/eg.svg'); }
.flag-icon-eh { background-image: url('/assets/flags/4x3/eh.svg'); }
.flag-icon-er { background-image: url('/assets/flags/4x3/er.svg'); }
.flag-icon-es-ct { background-image: url('/assets/flags/4x3/es-ct.svg'); }
.flag-icon-es-ga { background-image: url('/assets/flags/4x3/es-ga.svg'); }
.flag-icon-es { background-image: url('/assets/flags/4x3/es.svg'); }
.flag-icon-et { background-image: url('/assets/flags/4x3/et.svg'); }
.flag-icon-eu { background-image: url('/assets/flags/4x3/eu.svg'); }
.flag-icon-fi { background-image: url('/assets/flags/4x3/fi.svg'); }
.flag-icon-fj { background-image: url('/assets/flags/4x3/fj.svg'); }
.flag-icon-fk { background-image: url('/assets/flags/4x3/fk.svg'); }
.flag-icon-fm { background-image: url('/assets/flags/4x3/fm.svg'); }
.flag-icon-fo { background-image: url('/assets/flags/4x3/fo.svg'); }
.flag-icon-fr { background-image: url('/assets/flags/4x3/fr.svg'); }
.flag-icon-ga { background-image: url('/assets/flags/4x3/ga.svg'); }
.flag-icon-gb-eng { background-image: url('/assets/flags/4x3/gb-eng.svg'); }
.flag-icon-gb-nir { background-image: url('/assets/flags/4x3/gb-nir.svg'); }
.flag-icon-gb-sct { background-image: url('/assets/flags/4x3/gb-sct.svg'); }
.flag-icon-gb-wls { background-image: url('/assets/flags/4x3/gb-wls.svg'); }
.flag-icon-gb { background-image: url('/assets/flags/4x3/gb.svg'); }
.flag-icon-gd { background-image: url('/assets/flags/4x3/gd.svg'); }
.flag-icon-ge { background-image: url('/assets/flags/4x3/ge.svg'); }
.flag-icon-gf { background-image: url('/assets/flags/4x3/gf.svg'); }
.flag-icon-gg { background-image: url('/assets/flags/4x3/gg.svg'); }
.flag-icon-gh { background-image: url('/assets/flags/4x3/gh.svg'); }
.flag-icon-gi { background-image: url('/assets/flags/4x3/gi.svg'); }
.flag-icon-gl { background-image: url('/assets/flags/4x3/gl.svg'); }
.flag-icon-gm { background-image: url('/assets/flags/4x3/gm.svg'); }
.flag-icon-gn { background-image: url('/assets/flags/4x3/gn.svg'); }
.flag-icon-gp { background-image: url('/assets/flags/4x3/gp.svg'); }
.flag-icon-gq { background-image: url('/assets/flags/4x3/gq.svg'); }
.flag-icon-gr { background-image: url('/assets/flags/4x3/gr.svg'); }
.flag-icon-gs { background-image: url('/assets/flags/4x3/gs.svg'); }
.flag-icon-gt { background-image: url('/assets/flags/4x3/gt.svg'); }
.flag-icon-gu { background-image: url('/assets/flags/4x3/gu.svg'); }
.flag-icon-gw { background-image: url('/assets/flags/4x3/gw.svg'); }
.flag-icon-gy { background-image: url('/assets/flags/4x3/gy.svg'); }
.flag-icon-hk { background-image: url('/assets/flags/4x3/hk.svg'); }
.flag-icon-hm { background-image: url('/assets/flags/4x3/hm.svg'); }
.flag-icon-hn { background-image: url('/assets/flags/4x3/hn.svg'); }
.flag-icon-hr { background-image: url('/assets/flags/4x3/hr.svg'); }
.flag-icon-ht { background-image: url('/assets/flags/4x3/ht.svg'); }
.flag-icon-hu { background-image: url('/assets/flags/4x3/hu.svg'); }
.flag-icon-ic { background-image: url('/assets/flags/4x3/ic.svg'); }
.flag-icon-id { background-image: url('/assets/flags/4x3/id.svg'); }
.flag-icon-ie { background-image: url('/assets/flags/4x3/ie.svg'); }
.flag-icon-il { background-image: url('/assets/flags/4x3/il.svg'); }
.flag-icon-im { background-image: url('/assets/flags/4x3/im.svg'); }
.flag-icon-in { background-image: url('/assets/flags/4x3/in.svg'); }
.flag-icon-io { background-image: url('/assets/flags/4x3/io.svg'); }
.flag-icon-iq { background-image: url('/assets/flags/4x3/iq.svg'); }
.flag-icon-ir { background-image: url('/assets/flags/4x3/ir.svg'); }
.flag-icon-is { background-image: url('/assets/flags/4x3/is.svg'); }
.flag-icon-it { background-image: url('/assets/flags/4x3/it.svg'); }
.flag-icon-je { background-image: url('/assets/flags/4x3/je.svg'); }
.flag-icon-jm { background-image: url('/assets/flags/4x3/jm.svg'); }
.flag-icon-jo { background-image: url('/assets/flags/4x3/jo.svg'); }
.flag-icon-jp { background-image: url('/assets/flags/4x3/jp.svg'); }
.flag-icon-ke { background-image: url('/assets/flags/4x3/ke.svg'); }
.flag-icon-kg { background-image: url('/assets/flags/4x3/kg.svg'); }
.flag-icon-kh { background-image: url('/assets/flags/4x3/kh.svg'); }
.flag-icon-ki { background-image: url('/assets/flags/4x3/ki.svg'); }
.flag-icon-km { background-image: url('/assets/flags/4x3/km.svg'); }
.flag-icon-kn { background-image: url('/assets/flags/4x3/kn.svg'); }
.flag-icon-kp { background-image: url('/assets/flags/4x3/kp.svg'); }
.flag-icon-kr { background-image: url('/assets/flags/4x3/kr.svg'); }
.flag-icon-kw { background-image: url('/assets/flags/4x3/kw.svg'); }
.flag-icon-ky { background-image: url('/assets/flags/4x3/ky.svg'); }
.flag-icon-kz { background-image: url('/assets/flags/4x3/kz.svg'); }
.flag-icon-la { background-image: url('/assets/flags/4x3/la.svg'); }
.flag-icon-lb { background-image: url('/assets/flags/4x3/lb.svg'); }
.flag-icon-lc { background-image: url('/assets/flags/4x3/lc.svg'); }
.flag-icon-li { background-image: url('/assets/flags/4x3/li.svg'); }
.flag-icon-lk { background-image: url('/assets/flags/4x3/lk.svg'); }
.flag-icon-lr { background-image: url('/assets/flags/4x3/lr.svg'); }
.flag-icon-ls { background-image: url('/assets/flags/4x3/ls.svg'); }
.flag-icon-lt { background-image: url('/assets/flags/4x3/lt.svg'); }
.flag-icon-lu { background-image: url('/assets/flags/4x3/lu.svg'); }
.flag-icon-lv { background-image: url('/assets/flags/4x3/lv.svg'); }
.flag-icon-ly { background-image: url('/assets/flags/4x3/ly.svg'); }
.flag-icon-ma { background-image: url('/assets/flags/4x3/ma.svg'); }
.flag-icon-mc { background-image: url('/assets/flags/4x3/mc.svg'); }
.flag-icon-md { background-image: url('/assets/flags/4x3/md.svg'); }
.flag-icon-me { background-image: url('/assets/flags/4x3/me.svg'); }
.flag-icon-mf { background-image: url('/assets/flags/4x3/mf.svg'); }
.flag-icon-mg { background-image: url('/assets/flags/4x3/mg.svg'); }
.flag-icon-mh { background-image: url('/assets/flags/4x3/mh.svg'); }
.flag-icon-mk { background-image: url('/assets/flags/4x3/mk.svg'); }
.flag-icon-ml { background-image: url('/assets/flags/4x3/ml.svg'); }
.flag-icon-mm { background-image: url('/assets/flags/4x3/mm.svg'); }
.flag-icon-mn { background-image: url('/assets/flags/4x3/mn.svg'); }
.flag-icon-mo { background-image: url('/assets/flags/4x3/mo.svg'); }
.flag-icon-mp { background-image: url('/assets/flags/4x3/mp.svg'); }
.flag-icon-mq { background-image: url('/assets/flags/4x3/mq.svg'); }
.flag-icon-mr { background-image: url('/assets/flags/4x3/mr.svg'); }
.flag-icon-ms { background-image: url('/assets/flags/4x3/ms.svg'); }
.flag-icon-mt { background-image: url('/assets/flags/4x3/mt.svg'); }
.flag-icon-mu { background-image: url('/assets/flags/4x3/mu.svg'); }
.flag-icon-mv { background-image: url('/assets/flags/4x3/mv.svg'); }
.flag-icon-mw { background-image: url('/assets/flags/4x3/mw.svg'); }
.flag-icon-mx { background-image: url('/assets/flags/4x3/mx.svg'); }
.flag-icon-my { background-image: url('/assets/flags/4x3/my.svg'); }
.flag-icon-mz { background-image: url('/assets/flags/4x3/mz.svg'); }
.flag-icon-na { background-image: url('/assets/flags/4x3/na.svg'); }
.flag-icon-nc { background-image: url('/assets/flags/4x3/nc.svg'); }
.flag-icon-ne { background-image: url('/assets/flags/4x3/ne.svg'); }
.flag-icon-nf { background-image: url('/assets/flags/4x3/nf.svg'); }
.flag-icon-ng { background-image: url('/assets/flags/4x3/ng.svg'); }
.flag-icon-ni { background-image: url('/assets/flags/4x3/ni.svg'); }
.flag-icon-nl { background-image: url('/assets/flags/4x3/nl.svg'); }
.flag-icon-no { background-image: url('/assets/flags/4x3/no.svg'); }
.flag-icon-np { background-image: url('/assets/flags/4x3/np.svg'); }
.flag-icon-nr { background-image: url('/assets/flags/4x3/nr.svg'); }
.flag-icon-nu { background-image: url('/assets/flags/4x3/nu.svg'); }
.flag-icon-nz { background-image: url('/assets/flags/4x3/nz.svg'); }
.flag-icon-om { background-image: url('/assets/flags/4x3/om.svg'); }
.flag-icon-pa { background-image: url('/assets/flags/4x3/pa.svg'); }
.flag-icon-pe { background-image: url('/assets/flags/4x3/pe.svg'); }
.flag-icon-pf { background-image: url('/assets/flags/4x3/pf.svg'); }
.flag-icon-pg { background-image: url('/assets/flags/4x3/pg.svg'); }
.flag-icon-ph { background-image: url('/assets/flags/4x3/ph.svg'); }
.flag-icon-pk { background-image: url('/assets/flags/4x3/pk.svg'); }
.flag-icon-pl { background-image: url('/assets/flags/4x3/pl.svg'); }
.flag-icon-pm { background-image: url('/assets/flags/4x3/pm.svg'); }
.flag-icon-pn { background-image: url('/assets/flags/4x3/pn.svg'); }
.flag-icon-pr { background-image: url('/assets/flags/4x3/pr.svg'); }
.flag-icon-ps { background-image: url('/assets/flags/4x3/ps.svg'); }
.flag-icon-pt { background-image: url('/assets/flags/4x3/pt.svg'); }
.flag-icon-pw { background-image: url('/assets/flags/4x3/pw.svg'); }
.flag-icon-py { background-image: url('/assets/flags/4x3/py.svg'); }
.flag-icon-qa { background-image: url('/assets/flags/4x3/qa.svg'); }
.flag-icon-re { background-image: url('/assets/flags/4x3/re.svg'); }
.flag-icon-ro { background-image: url('/assets/flags/4x3/ro.svg'); }
.flag-icon-rs { background-image: url('/assets/flags/4x3/rs.svg'); }
.flag-icon-ru { background-image: url('/assets/flags/4x3/ru.svg'); }
.flag-icon-rw { background-image: url('/assets/flags/4x3/rw.svg'); }
.flag-icon-sa { background-image: url('/assets/flags/4x3/sa.svg'); }
.flag-icon-sb { background-image: url('/assets/flags/4x3/sb.svg'); }
.flag-icon-sc { background-image: url('/assets/flags/4x3/sc.svg'); }
.flag-icon-sd { background-image: url('/assets/flags/4x3/sd.svg'); }
.flag-icon-se { background-image: url('/assets/flags/4x3/se.svg'); }
.flag-icon-sg { background-image: url('/assets/flags/4x3/sg.svg'); }
.flag-icon-sh { background-image: url('/assets/flags/4x3/sh.svg'); }
.flag-icon-si { background-image: url('/assets/flags/4x3/si.svg'); }
.flag-icon-sj { background-image: url('/assets/flags/4x3/sj.svg'); }
.flag-icon-sk { background-image: url('/assets/flags/4x3/sk.svg'); }
.flag-icon-sl { background-image: url('/assets/flags/4x3/sl.svg'); }
.flag-icon-sm { background-image: url('/assets/flags/4x3/sm.svg'); }
.flag-icon-sn { background-image: url('/assets/flags/4x3/sn.svg'); }
.flag-icon-so { background-image: url('/assets/flags/4x3/so.svg'); }
.flag-icon-sr { background-image: url('/assets/flags/4x3/sr.svg'); }
.flag-icon-ss { background-image: url('/assets/flags/4x3/ss.svg'); }
.flag-icon-st { background-image: url('/assets/flags/4x3/st.svg'); }
.flag-icon-sv { background-image: url('/assets/flags/4x3/sv.svg'); }
.flag-icon-sx { background-image: url('/assets/flags/4x3/sx.svg'); }
.flag-icon-sy { background-image: url('/assets/flags/4x3/sy.svg'); }
.flag-icon-sz { background-image: url('/assets/flags/4x3/sz.svg'); }
.flag-icon-ta { background-image: url('/assets/flags/4x3/ta.svg'); }
.flag-icon-tc { background-image: url('/assets/flags/4x3/tc.svg'); }
.flag-icon-td { background-image: url('/assets/flags/4x3/td.svg'); }
.flag-icon-tf { background-image: url('/assets/flags/4x3/tf.svg'); }
.flag-icon-tg { background-image: url('/assets/flags/4x3/tg.svg'); }
.flag-icon-th { background-image: url('/assets/flags/4x3/th.svg'); }
.flag-icon-tj { background-image: url('/assets/flags/4x3/tj.svg'); }
.flag-icon-tk { background-image: url('/assets/flags/4x3/tk.svg'); }
.flag-icon-tl { background-image: url('/assets/flags/4x3/tl.svg'); }
.flag-icon-tm { background-image: url('/assets/flags/4x3/tm.svg'); }
.flag-icon-tn { background-image: url('/assets/flags/4x3/tn.svg'); }
.flag-icon-to { background-image: url('/assets/flags/4x3/to.svg'); }
.flag-icon-tr { background-image: url('/assets/flags/4x3/tr.svg'); }
.flag-icon-tt { background-image: url('/assets/flags/4x3/tt.svg'); }
.flag-icon-tv { background-image: url('/assets/flags/4x3/tv.svg'); }
.flag-icon-tw { background-image: url('/assets/flags/4x3/tw.svg'); }
.flag-icon-tz { background-image: url('/assets/flags/4x3/tz.svg'); }
.flag-icon-ua { background-image: url('/assets/flags/4x3/ua.svg'); }
.flag-icon-ug { background-image: url('/assets/flags/4x3/ug.svg'); }
.flag-icon-um { background-image: url('/assets/flags/4x3/um.svg'); }
.flag-icon-un { background-image: url('/assets/flags/4x3/un.svg'); }
.flag-icon-us { background-image: url('/assets/flags/4x3/us.svg'); }
.flag-icon-uy { background-image: url('/assets/flags/4x3/uy.svg'); }
.flag-icon-uz { background-image: url('/assets/flags/4x3/uz.svg'); }
.flag-icon-va { background-image: url('/assets/flags/4x3/va.svg'); }
.flag-icon-vc { background-image: url('/assets/flags/4x3/vc.svg'); }
.flag-icon-ve { background-image: url('/assets/flags/4x3/ve.svg'); }
.flag-icon-vg { background-image: url('/assets/flags/4x3/vg.svg'); }
.flag-icon-vi { background-image: url('/assets/flags/4x3/vi.svg'); }
.flag-icon-vn { background-image: url('/assets/flags/4x3/vn.svg'); }
.flag-icon-vu { background-image: url('/assets/flags/4x3/vu.svg'); }
.flag-icon-wf { background-image: url('/assets/flags/4x3/wf.svg'); }
.flag-icon-ws { background-image: url('/assets/flags/4x3/ws.svg'); }
.flag-icon-xk { background-image: url('/assets/flags/4x3/xk.svg'); }
.flag-icon-xx { background-image: url('/assets/flags/4x3/xx.svg'); }
.flag-icon-ye { background-image: url('/assets/flags/4x3/ye.svg'); }
.flag-icon-yt { background-image: url('/assets/flags/4x3/yt.svg'); }
.flag-icon-za { background-image: url('/assets/flags/4x3/za.svg'); }
.flag-icon-zm { background-image: url('/assets/flags/4x3/zm.svg'); }
.flag-icon-zw { background-image: url('/assets/flags/4x3/zw.svg'); }

`;var Zz=De`
  .fwcBlue {
    color: var(--fwcBlue);
  }
  .fwcOrange {
    color: var(--fwcOrange);
  }
  .fwcDarkBlue {
    color: var(--fwcDarkBlue);
  }
  .fwcTree-item {
    display: inline-flex;
    align-items: center;
    margin-left: 0;
    transition: all 0.3s;
    height: 27px !important;
  }
  
  .fwcTree-item * {
    pointer-events: none;
    margin-right: 0.25rem;
  }
  .fwcTree-item .fwcTreeIcon{
    margin-top: 5px;   
  }
  .fwcTree-item.fwcHighlightNode {
    margin-left: 0.2em;
    background-color: var(--fwcPaleGreen) !important;
    padding-right: 8em;
  }
  
  .fwcTree-item.fwcSelectedPolicyNode .fwc-label {
    font-weight: bold !important;
  }
  
  div.fwcTree-item--disabled .fwcTreeIcon::before {
    content: "";    
    position: absolute;
    top: 0.35em;
  }
  
  .fwcTree-item--disabled .fwc-label {
    color: var(--fwcPaleDark) !important;
  }

  .fwcTree-item-highlight{
    margin-left: 0.2em;
    background-color: var(--fwcPaleGreen) !important;
    padding-right: 8em;
  }



  .clickable-area {
    display: block;
    width: 100%;
    height: 100%;
    cursor: pointer;
  }
  div > div > ul > li:nth-child(1) > div > div > div > div > iui-contextmenu > div > span.fwcDark {
    margin-left: -0.5rem;
  }
`;var eW=De`
    @import url('node_modules/@fortawesome/fontawesome-free/css/all.css');

    .fa-brands {
        display: inline-block;
        font-family: 'Font Awesome 5 Brands';
        font-weight: normal;
        font-style: normal;
        font-size: inherit;
        text-rendering: auto;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
    }

    .fa-windows:before {
        content: "\\f17a";
    }
`;var tW=(()=>{class i{constructor(e,t){this.el=e,this.tr=t}ngAfterViewInit(){}static{this.\u0275fac=function(t){return new(t||i)(b(ze),b(ea))}}static{this.\u0275dir=gt({type:i,selectors:[["","appStepContent",""]],inputs:{stepTitle:"stepTitle"}})}}return i})();var iW=(()=>{class i extends ei{constructor(e,t,r,o,s,a,l){super(r,t,e,s,l,a),this.itemSelectedService=e,this.appOptionsService=t,this.appDialogPanelsService=r,this.translate=o,this.cd=s,this.router=a,this.store=l,this.onStepDisplay=new Q,this.translate.get("CONFIG_PANEL.TITLE").subscribe(c=>{this.createDialog(c,"fa fa-magic")})}ngOnInit(){this.resetState()}ngOnDestroy(){super.ngOnDestroy()}ngAfterViewInit(){this.stepsTemplates&&this.stepsTemplates.length&&(this.stepsTemplates.forEach((e,t)=>{this.state.steps.push({stepItem:{id:""+t,label:this.translate.instant(e.stepTitle)},stepTemplate:e})}),this.displayStepContent(0))}resetState(){this.state={loadingData:!1,errorMessages:[],selectedStep:0,steps:this.state&&this.state.steps?this.state.steps:[]}}getStepsItems(){let e=[];return this.state&&Array.isArray(this.state.steps)&&this.state.steps.forEach(t=>{e.push(t.stepItem)}),e}getSelectedStep(){let e=null;return this.state&&Array.isArray(this.state.steps)&&this.state.selectedStep>=0&&this.state.selectedStep<=this.state.steps.length&&(e=this.state.steps[this.state.selectedStep]),e}getSelectedStepTemplate(){let e=null,t=this.getSelectedStep();return t&&(e=t.stepTemplate),e}displayStepContent(e){this.state.selectedStep=e,this.recenterDialog(),this.onStepDisplay.emit(e)}handleClose(e){this.hideDialog(),e&&this.reloadCurrentRouteAlt()}reloadCurrentRoute(){let e=this.router.url;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([e])})}reloadCurrentRouteAlt(){let e=this.router.url;this.router.routeReuseStrategy.shouldReuseRoute=()=>!1,this.router.onSameUrlNavigation="reload",this.router.navigate([e])}static{this.\u0275fac=function(t){return new(t||i)(b(At),b(Bt),b(Mt),b(Xe),b(Ie),b(ct),b(rt))}}static{this.\u0275cmp=ie({type:i,selectors:[["sts-fwc-wizard-panel"]],viewQuery:function(t,r){if(t&1&&de(tW,5),t&2){let o;ee(o=te())&&(r.stepsTemplates=o)}},outputs:{onStepDisplay:"onStepDisplay"},features:[ve],decls:0,vars:0,template:function(t,r){},encapsulation:2})}}return i})();var pC=class extends zm{constructor(n){super(n),n&&(this.firewall=n.firewall,this.cluster=n.cluster,this.name=n.name,this.comment=n.comment,this.install_user=n.install_user,this.install_pass=n.install_pass,this.save_user_pass=n.save_user_pass,this.install_interface=n.install_interface,this.install_ipobj=n.install_ipobj,this.fwmaster=n.fwmaster,this.install_port=n.install_port,this.options=n.options,this.plugins=n.plugins,this.install_communication=n.install_communication,this.install_protocol=n.install_protocol,this.install_apikey=n.install_apikey)}getValue(){return Pe(re({},super.getValue()),{firewall:this.firewall,cluster:this.cluster,name:this.name,comment:this.comment,install_user:this.install_user,install_pass:this.install_pass,save_user_pass:this.save_user_pass,install_interface:this.install_interface,install_ipobj:this.install_ipobj,fwmaster:this.fwmaster,install_port:this.install_port,options:this.options,plugins:this.plugins,install_communication:this.install_communication,install_protocol:this.install_protocol,install_apikey:this.install_apikey})}};var yHe=["fwcInterfacesEditor"],IHe=["buttonNext"],vHe=["inputObjName"],bHe=["fwcIptablesSaveComponent"],wHe=["inputNode"],SHe=["inputDiscoverNode"],AHe=i=>({visibility:i}),EHe=i=>({error:i}),nW=i=>({objName:i});function xHe(i,n){i&1&&(m(0,"div",16)(1,"h6",17),O(2,"i",18),D(3),R(4,"translate"),_()()),i&2&&(u(3),J(" ",k(4,1,"WIZARDS.FIREWALL_IMPORT.TITLE")," "))}function THe(i,n){if(i&1&&(m(0,"div",19),ue(1,21),_()),i&2){let e=f(3);u(),h("ngTemplateOutlet",e.getSelectedStepTemplate().tr)}}function OHe(i,n){if(i&1){let e=B();m(0,"div",19)(1,"p-steps",20),Ve("activeIndexChange",function(r){S(e);let o=f(2);return Ue(o.state.selectedStep,r)||(o.state.selectedStep=r),A(r)}),_(),m(2,"div",9),I(3,THe,2,1,"div",19),_()()}if(i&2){let e,t=f(2);u(),h("model",t.getStepsItems())("readonly",!0),Ne("activeIndex",t.state.selectedStep),u(2),q((e=t.getSelectedStepTemplate())!=null&&e.tr&&!(!(t.state==null||t.state.errorMessages==null)&&t.state.errorMessages.length)?3:-1)}}function DHe(i,n){if(i&1){let e=B();m(0,"div",19)(1,"p-messages",22),Ve("valueChange",function(r){S(e);let o=f(2);return Ue(o.state.errorMessages,r)||(o.state.errorMessages=r),A(r)}),_()()}if(i&2){let e=f(2);u(),Ne("value",e.state.errorMessages),h("closable",!1)}}function RHe(i,n){if(i&1&&(m(0,"div",9),I(1,OHe,4,4,"div",19)(2,DHe,2,2,"div",19),_()),i&2){let e,t=f();u(),q((e=t.getStepsItems())!=null&&e.length?1:-1),u(),q(t.state.errorMessages!=null&&t.state.errorMessages.length?2:-1)}}function PHe(i,n){if(i&1){let e=B();m(0,"button",26),R(1,"translate"),P("click",function(){S(e);let r=f(2);return A(r.handleClose())}),_()}if(i&2){let e=f(2);ae("label",k(1,2,"GLOBALS.MSG_BUTTONS.CANCEL")),h("disabled",e.state==null?null:e.state.loadingData)}}function kHe(i,n){if(i&1){let e=B();m(0,"button",30,1),R(2,"translate"),P("click",function(){S(e);let r=f(3);return A(r.handlePrevNextButton(!0))}),_()}if(i&2){let e=f(3);ae("label",k(2,2,"WIZARDS.GLOBALS.BUTTONS.NEXT")),h("disabled",e.state.loadingData||e.isPrevNextButtonDisabled(!0))}}function FHe(i,n){if(i&1){let e=B();m(0,"button",31),R(1,"translate"),P("click",function(){S(e);let r=f(3);return A(r.handleClose(!0))}),_()}i&2&&ae("label",k(1,1,"GLOBALS.MSG_BUTTONS.FINISH"))}function LHe(i,n){if(i&1){let e=B();m(0,"div",25)(1,"button",27),R(2,"translate"),P("click",function(){S(e);let r=f(2);return A(r.handlePrevNextButton())}),_(),I(3,kHe,3,4,"button",28)(4,FHe,2,3,"button",29),_()}if(i&2){let e=f(2);u(),ae("label",k(2,3,"WIZARDS.GLOBALS.BUTTONS.PREVIOUS")),h("disabled",e.state.loadingData||e.isPrevNextButtonDisabled()),u(2),q(e.state.selectedStep<e.getStepsItems().length-1?3:4)}}function MHe(i,n){if(i&1&&(m(0,"div",9)(1,"div",23),I(2,PHe,2,4,"button",24),_(),I(3,LHe,5,5,"div",25),_()),i&2){let e=f();u(2),q(e.state.selectedStep<e.getStepsItems().length-2?2:-1),u(),q(!(e.state==null||e.state.errorMessages==null)&&e.state.errorMessages.length?-1:3)}}function NHe(i,n){i&1&&(m(0,"div",9)(1,"div",32),O(2,"img",33),_(),O(3,"div",34),R(4,"translate"),_()),i&2&&(u(3),ae("innerHTML",k(4,1,"WIZARDS.FIREWALL_IMPORT.STEPS.0.TEXT"),Xi))}function VHe(i,n){}function BHe(i,n){i&1&&(m(0,"p",55),D(1),R(2,"translate"),_()),i&2&&(u(),J(" ",k(2,1,"ITEM_PANEL.ERRORS.FIELD_INVALID_NAME")," "))}function UHe(i,n){if(i&1){let e=B();m(0,"button",59),R(1,"translate"),P("click",function(){S(e);let r=f().$index,o=f(3);return A(o.nodeRemove(r))}),_()}if(i&2){let e=f(4);ae("pTooltip",k(1,2,"CLUSTER.MSG_CLUSTER_EDITION.TT_NODE_DELETE")),h("disabled",e.state==null?null:e.state.loadingData)}}function jHe(i,n){if(i&1){let e=B();m(0,"button",60),R(1,"translate"),P("click",function(){S(e);let r=f(4);return A(r.nodeAdd())}),_()}if(i&2){let e=f(4);ae("pTooltip",k(1,2,"CLUSTER.MSG_CLUSTER_EDITION.TT_NODE_ADD")),h("disabled",(e.state==null?null:e.state.loadingData)||!e.formModel.get("fwnodes").valid)}}function HHe(i,n){if(i&1&&(m(0,"div",53)(1,"div",43)(2,"div",44)(3,"label",45),D(4),R(5,"translate"),_()(),m(6,"div",46),O(7,"input",54,3),R(9,"translate"),I(10,BHe,3,3,"p",55),_(),m(11,"div",56),I(12,UHe,2,4,"button",57)(13,jHe,2,4,"button",58),_()()()),i&2){let e=n.$implicit,t=n.$index,r=f(3);h("formGroupName",t),u(4),J(" ",k(5,8,"FW.MSG_FW_EDITION.NAME")," "),u(3),hI("id","fwName",t,""),ae("placeholder",k(9,10,"CLUSTER.MSG_CLUSTER_EDITION.NODE_NAME")),u(3),q(!e.get("name").valid&&!e.get("name").pristine?10:-1),u(2),q(r.getFormNodes().controls.length>1?12:-1),u(),q(t+1==r.getFormNodes().controls.length?13:-1)}}function GHe(i,n){if(i&1&&(m(0,"div",51)(1,"div",19)(2,"h5",52),D(3),R(4,"translate"),_()(),jr(5,HHe,14,12,"div",53,Ur),_()),i&2){let e=f(2);u(3),J(" ",k(4,1,"CLUSTER.MSG_CLUSTER_EDITION.NODES")," "),u(2),Hr(e.getFormNodes().controls)}}function zHe(i,n){if(i&1){let e=B();m(0,"div",9)(1,"div",35),D(2),R(3,"translate"),_(),m(4,"div",19)(5,"div",36)(6,"span",37)(7,"p-radioButton",38),R(8,"translate"),Ve("ngModelChange",function(r){S(e);let o=f();return Ue(o.selectFwCluster,r)||(o.selectFwCluster=r),A(r)}),P("click",function(){S(e);let r=f();return A(r.handleSelectObjType())}),_()(),O(9,"span",39),m(10,"span",37)(11,"p-radioButton",38),R(12,"translate"),Ve("ngModelChange",function(r){S(e);let o=f();return Ue(o.selectFwCluster,r)||(o.selectFwCluster=r),A(r)}),P("click",function(){S(e);let r=f();return A(r.handleSelectObjType())}),_()()()()(),m(13,"form",40)(14,"fieldset",41),P("keyup.enter",function(){S(e);let r=f();return A(r.handlePrevNextButton(!0))}),m(15,"div",9)(16,"div",42)(17,"div",43)(18,"div",44)(19,"label",45),D(20),R(21,"translate"),_()(),m(22,"div",46),O(23,"input",47,2),R(25,"translate"),_()(),m(26,"p",48),D(27),R(28,"translate"),_()(),m(29,"div",42)(30,"div",43)(31,"div",44)(32,"label",49),D(33),R(34,"translate"),_()(),m(35,"div",46),O(36,"input",50),R(37,"translate"),_()()()(),I(38,VHe,0,0)(39,GHe,7,3,"div",51),_()()}if(i&2){let e=f();u(2),J(" ",k(3,15,"WIZARDS.FIREWALL_IMPORT.STEPS.1.TEXT")," "),u(5),ae("label",k(8,17,"WIZARDS.FIREWALL_IMPORT.STEPS.1.OPTIONS.FW")),h("value",e.ObjectTypes.OBJ_FIREWALL),Ne("ngModel",e.selectFwCluster),u(4),ae("label",k(12,19,"WIZARDS.FIREWALL_IMPORT.STEPS.1.OPTIONS.CLUSTER")),h("value",e.ObjectTypes.OBJ_CLUSTER),Ne("ngModel",e.selectFwCluster),u(2),h("formGroup",e.formModel),u(7),$(k(21,21,"FW.MSG_FW_EDITION.NAME")),u(3),ae("placeholder",k(25,23,"FW.MSG_FW_EDITION.NAME")),u(3),h("ngStyle",oe(31,AHe,e.formModel.get("name").valid||e.formModel.get("name").pristine?"hidden":"visible")),u(),J(" ",k(28,25,"ITEM_PANEL.ERRORS.FIELD_INVALID_NAME")," "),u(6),$(k(34,27,"FW.MSG_FW_EDITION.DESC")),u(3),ae("placeholder",k(37,29,"FW.MSG_FW_EDITION.DESC")),u(2),q(e.selectFwCluster===e.ObjectTypes.OBJ_FIREWALL?38:39)}}function WHe(i,n){if(i&1){let e=B();m(0,"div",72)(1,"div",68)(2,"select",75),P("change",function(){return S(e),A(!0)}),m(3,"option",76),D(4),R(5,"translate"),_(),m(6,"option",77),D(7,"HTTPS"),_(),m(8,"option",78),D(9,"HTTP"),_()()()(),m(10,"div",79)(11,"div",68),O(12,"input",80),R(13,"translate"),m(14,"button",81),P("mousedown",function(){S(e);let r=f().$index,o=f(4);return A(o.displayApiKey[r]=!0)})("mouseup",function(){S(e);let r=f().$index,o=f(4);return A(o.displayApiKey[r]=!1)})("mouseout",function(){S(e);let r=f().$index,o=f(4);return A(o.displayApiKey[r]=!1)}),_()()()}if(i&2){let e=f().$index,t=f(4);u(3),h("value",null),u(),J(" ",k(5,5,"FW.MSG_FW_EDITION.AGENT_PROTOCOL")," "),u(8),ae("placeholder",k(13,7,"FW.MSG_FW_EDITION.AGENT_APIKEY")),h("showPassword",t.displayApiKey[e])("feedback",!1)}}function KHe(i,n){if(i&1){let e=B();m(0,"div",82),O(1,"input",83),R(2,"translate"),_(),m(3,"div",82)(4,"div",68),O(5,"input",84),R(6,"translate"),R(7,"translate"),m(8,"button",81),P("mousedown",function(){S(e);let r=f().$index,o=f(4);return A(o.displaySSH[r]=!0)})("mouseup",function(){S(e);let r=f().$index,o=f(4);return A(o.displaySSH[r]=!1)})("mouseout",function(){S(e);let r=f().$index,o=f(4);return A(o.displaySSH[r]=!1)}),_()()()}if(i&2){let e=f().$index,t=f(4);u(),ae("placeholder",k(2,5,"CLUSTER.MSG_CLUSTER_EDITION.SSH_USER")),u(4),ae("placeholder",k(6,7,"CLUSTER.MSG_CLUSTER_EDITION.SSH_PASS")),h("showPassword",t.displaySSH[e])("promptLabel",k(7,9,"GLOBALS.MSG_PASSWORD.PASS"))("feedback",!1)}}function $He(i,n){if(i&1&&(m(0,"div",72),O(1,"p-dropdown",85),_()),i&2){let e=f(5);u(),h("options",e.nodeRoleOptions)}}function qHe(i,n){i&1&&(m(0,"span"),O(1,"i",86),R(2,"translate"),_()),i&2&&(u(),ae("pTooltip",k(2,2,"WIZARDS.FIREWALL_IMPORT.ERRORS.FORM_VALUES")),h("showDelay",300))}function YHe(i,n){i&1&&(m(0,"span"),O(1,"i",87),_())}function JHe(i,n){i&1&&(m(0,"span"),O(1,"i",88),_())}function XHe(i,n){i&1&&(m(0,"span"),O(1,"i",89),_())}function QHe(i,n){if(i&1&&(m(0,"p",55),D(1),R(2,"translate"),_()),i&2){let e=f().$implicit;u(),J(" ",Di(2,1,"WIZARDS.FIREWALL_IMPORT.ERRORS.SSH_ERROR",oe(4,EHe,e.get("statusMsg").value))," ")}}function ZHe(i,n){if(i&1){let e=B();m(0,"div",62)(1,"p-fieldset",65)(2,"div",66)(3,"div",67)(4,"div",68)(5,"button",69),R(6,"translate"),R(7,"translate"),P("click",function(){let r=S(e).$implicit,o=f(4);return A(o.onClusterNodeInstallCommChange(r))}),_(),O(8,"input",70,4),R(10,"translate"),_()(),m(11,"div",67),O(12,"input",71),R(13,"translate"),_(),I(14,WHe,15,9)(15,KHe,9,11)(16,$He,2,1,"div",72),m(17,"div",73),I(18,qHe,3,4,"span")(19,YHe,2,0,"span")(20,JHe,2,0,"span")(21,XHe,2,0,"span"),_(),m(22,"div",74),I(23,QHe,3,6,"p",55),_()()()()}if(i&2){let e,t=n.$implicit,r=n.$index,o=f(4);h("formGroupName",r),u(),h("legend",o.buildNodeHeader(r,t.get("name").value,t.get("install_communication").value)),u(2),h("ngClass",o.selectFwCluster===o.ObjectTypes.OBJ_CLUSTER?"col-2":"col-3"),u(2),h("icon",t.get("install_communication").value==="agent"?"fa fa-user-secret":"fa fa-terminal")("pTooltip",t.get("install_communication").value==="agent"?k(6,13,"CLUSTER.MSG_CLUSTER_EDITION.COMM_FWCAGENT"):k(7,15,"CLUSTER.MSG_CLUSTER_EDITION.COMM_SSH")),u(3),ae("placeholder",k(10,17,"ITEM_PANEL.FIELDS.ADDRESS")),u(3),h("ngClass",o.selectFwCluster===o.ObjectTypes.OBJ_CLUSTER?"col-1":"col-2"),u(),ae("placeholder",k(13,19,"CLUSTER.MSG_CLUSTER_EDITION.PORT")),u(2),q(t.get("install_communication").value==="agent"?14:15),u(2),q(o.selectFwCluster===o.ObjectTypes.OBJ_CLUSTER?16:-1),u(2),q(t.dirty&&t.enabled&&!t.valid?18:-1),u(),q((e=t.get("status").value)===o.ItemBatchOperationStatus.RUNNING?19:e===o.ItemBatchOperationStatus.ERROR?20:e===o.ItemBatchOperationStatus.SUCCESS?21:-1),u(4),q(t.get("status").value===o.ItemBatchOperationStatus.ERROR?23:-1)}}function eGe(i,n){if(i&1){let e=B();m(0,"div",19)(1,"h5",52),D(2),R(3,"translate"),m(4,"strong"),D(5),_()()(),jr(6,ZHe,24,21,"div",62,Ur),m(8,"div",63)(9,"button",64),R(10,"translate"),P("click",function(){S(e);let r=f(3);return A(r.handleDiscoverInterfaces())}),_()()}if(i&2){let e=f(3);u(2),J(" ",k(3,4,"GLOBALS.DB_OBJECT_NAMES."+e.selectFwCluster)," "),u(3),$(e.formModel.get("name").value),u(),Hr(e.getSSHFormNodes().controls),u(3),ae("label",k(10,6,"FW.MSG_FW_EDITION.DISCOVER_IF")),h("disabled",(e.state==null?null:e.state.loadingData)||!e.sshFormModel.valid)}}function tGe(i,n){if(i&1){let e=B();m(0,"div",19)(1,"sts-fwc-interfaces-tree-editor",90,5),P("onStartAutodiscover",function(){S(e);let r=f(3);return A(r.handleDiscoverInterfaces())}),_()()}if(i&2){let e=f(3);u(),h("options",e.interfacesEditorOptions)("manualMode",!0)("minimized",!e.autodiscoverFinished)}}function iGe(i,n){if(i&1){let e=B();m(0,"form",61),P("keyup.enter",function(){S(e);let r=f(2);return A(r.handleDiscoverInterfaces())}),m(1,"div",51)(2,"div",35),D(3),R(4,"translate"),_(),I(5,eGe,11,8)(6,tGe,3,3,"div",19),_()()}if(i&2){let e=f(2);h("formGroup",e.sshFormModel),u(3),J(" ",k(4,4,"WIZARDS.FIREWALL_IMPORT.STEPS.2.TEXT")," "),u(2),q(e.autodiscoverFinished?-1:5),u(),q(e.autodiscoverFinished||e.showInterfacesEditor?6:-1)}}function nGe(i,n){if(i&1&&I(0,iGe,7,6,"form",40),i&2){let e=f();q(e.sshFormModel?0:-1)}}function rGe(i,n){if(i&1){let e=B();m(0,"div",9)(1,"div",35),D(2),R(3,"translate"),_()(),m(4,"sts-fwc-iptables-save",91,6),P("onFinish",function(r){S(e);let o=f();return A(o.handleIptablesSaveFinish(r))}),_()}if(i&2){let e=f();u(2),J(" ",k(3,3,"WIZARDS.FIREWALL_IMPORT.STEPS.3.TEXT")," "),u(2),h("hideUI",!0)("importSSHData",e.importSSHData)}}function oGe(i,n){i&1&&(m(0,"div"),O(1,"i",96),m(2,"h6"),D(3),R(4,"translate"),_()()),i&2&&(u(3),$(k(4,1,"WIZARDS.FIREWALL_IMPORT.INFO.IMPORT")))}function sGe(i,n){i&1&&(O(0,"i",97),m(1,"h6"),D(2),R(3,"translate"),_()),i&2&&(u(2),$(k(3,1,"WIZARDS.FIREWALL_IMPORT.ERRORS.IMPORT")))}function aGe(i,n){if(i&1&&(m(0,"div",100),O(1,"i",101)(2,"span",99),_()),i&2){let e=n.$implicit;u(2),h("innerHTML",e,Xi)}}function lGe(i,n){if(i&1&&(m(0,"div",94),O(1,"i",98)(2,"span",99),jr(3,aGe,3,1,"div",100,Ur),_()),i&2){let e=n.$implicit;u(),h("ngClass",e.success?"fa-check-circle fwcGreen":"fa-exclamation-triangle fwcOrange"),u(),h("innerHTML",e.summary,Xi),u(),Hr(e.details)}}function cGe(i,n){if(i&1&&(m(0,"div"),D(1),R(2,"translate"),R(3,"translate"),R(4,"lowercase"),R(5,"translate"),_()),i&2){let e=f(3);u(),ef(" ",k(2,3,"WIZARDS.FIREWALL_IMPORT.INFO.SUMMARY1")," ",k(4,7,k(3,5,"GLOBALS.DB_OBJECT_NAMES."+e.selectFwCluster))," ",Di(5,9,"WIZARDS.FIREWALL_IMPORT.INFO.SUMMARY2",oe(12,nW,e.formModel.get("name").value))," ")}}function dGe(i,n){if(i&1&&(D(0),R(1,"translate"),R(2,"translate"),R(3,"lowercase"),R(4,"translate")),i&2){let e=f(3);ef(" ",k(1,3,"WIZARDS.FIREWALL_IMPORT.ERRORS.SUMMARY1")," ",k(3,7,k(2,5,"GLOBALS.DB_OBJECT_NAMES."+e.selectFwCluster))," ",Di(4,9,"WIZARDS.FIREWALL_IMPORT.ERRORS.SUMMARY2",oe(12,nW,e.formModel.get("name").value))," ")}}function uGe(i,n){if(i&1&&(m(0,"div",92)(1,"div",93),I(2,oGe,5,3,"div")(3,sGe,4,3),_(),m(4,"div",19)(5,"h6"),D(6),R(7,"translate"),_()(),jr(8,lGe,5,2,"div",94,Ur),m(10,"div",19),O(11,"hr"),_(),m(12,"div",95),I(13,cGe,6,14,"div")(14,dGe,5,14),_()()),i&2){let e=f(2);u(2),q(e.areAllOperationsSuccessful()?2:3),u(4),$(k(7,3,"WIZARDS.FIREWALL_IMPORT.INFO.OPERATIONS")),u(2),Hr(e.operationResults),u(5),q(e.areAllOperationsSuccessful()?13:14)}}function pGe(i,n){if(i&1&&I(0,uGe,15,5,"div",92),i&2){let e=f();q(e.operationResults?0:-1)}}var rW=(()=>{class i extends iW{constructor(e,t,r,o,s,a,l,c,d,p,g,C,y,v){super(a,r,l,d,g,C,v),this.fwcUserService=e,this.utilService=t,this.appOptionsService=r,this.fwcFirewallService=o,this.fwcObjectTreeService=s,this.itemSelectedService=a,this.appDialogPanelsService=l,this.fwcErrorPipe=c,this.translate=d,this.formBuilder=p,this.cd=g,this.router=C,this.confirmationService=y,this.store=v,this.operationResults=[],this.selectFwCluster=L.OBJ_FIREWALL,this.displaySSH=[],this.displayApiKey=[],this.showInterfacesEditor=!1,this.autodiscoverFinished=!1,this.ObjectTypes=L,this.ItemBatchOperationStatus=er,this.iptablesSaveFinished=!1,this.createDialog(d.instant("WIZARDS.FIREWALL_IMPORT.TITLE"),"fa fa-magic",Ai.FIREWALL_IMPORT_WIZARD)}ngOnInit(){super.ngOnInit(),this.utilService.fwcAPICall(this.fwcObjectTreeService.getNodes.bind(this.fwcObjectTreeService),H.FOLDER_FW,this.fwcUserService.getActualFwSelectedCloud()).then(e=>{Array.isArray(e.data)&&e.data.length===1&&(this.parentNodeId=e.data[0].id,this.createForm(),this.nodeRoleOptions=[{value:null,label:this.translate.instant("CLUSTER.CLUSTER_NODE_ROLES.NO_ROLE")},{value:"M",label:this.translate.instant("CLUSTER.CLUSTER_NODE_ROLES.MASTER")},{value:"S",label:this.translate.instant("CLUSTER.CLUSTER_NODE_ROLES.SLAVE")},{value:"N",label:this.translate.instant("CLUSTER.CLUSTER_NODE_ROLES.NODE")}])}).catch(e=>{this.state.errorMessages=[{severity:"error",summary:this.translate.instant("WIZARDS.FIREWALL_IMPORT.ERRORS.GETTING_TREE.0"),detail:this.translate.instant("WIZARDS.FIREWALL_IMPORT.ERRORS.GETTING_TREE.1")}]}),this.onStepDisplay.subscribe(e=>{switch(e){case 0:this.buttonNext&&this.buttonNext.nativeElement.focus();break;case 1:this.inputObjName&&this.inputObjName.nativeElement.focus();break;case 2:this.inputDiscoverNodes&&this.inputDiscoverNodes.first.nativeElement.focus();break}})}ngAfterViewInit(){super.ngAfterViewInit()}ngOnDestroy(){super.ngOnDestroy()}createForm(){let e=vo();this.formModel=this.formBuilder.group({id:new Se(void 0),name:new Se("",[$e.required]),comment:new Se(""),firewallUUID:new Se(e),fwnodes:new hl([this.createNode()],wi.distinctNameValidator.bind(this))})}onHideDialog(){if(this.state.selectedStep>=3){let e={_fwcObjType:this.selectFwCluster,container:bt.C_FIREWALLS,_fwcTreeAction:mn.NEW_ITEM,_fwcObjId:this.formModel.get("id").value};this.itemSelectedService.setModifiedItem(e)}this.dynamicComponentRef&&this.dynamicComponentRef.destroy()}isPrevNextButtonDisabled(e){let t=!1;if(e)switch(this.state.selectedStep){case 1:t=this.selectFwCluster===L.OBJ_FIREWALL&&this.formModel.get("name").invalid||this.selectFwCluster===L.OBJ_CLUSTER&&this.formModel.invalid;break;case 2:t=!this.autodiscoverFinished;break;case 3:t=!this.iptablesSaveFinished;break;case this.state.steps.length-1:t=!0}else switch(this.state.selectedStep){case 0:t=!0;break;case 3:t=!0;break;case 4:t=!0;break}return t}handlePrevNextButton(e){return N(this,null,function*(){if(e)switch(this.state.selectedStep){case 1:if(this.state.loadingData||this.selectFwCluster===L.OBJ_FIREWALL&&this.formModel.get("name").invalid||this.selectFwCluster===L.OBJ_CLUSTER&&this.formModel.invalid)return;this.buildSSHFormModel(),this.displayStepContent(this.state.selectedStep+1);break;case 2:let t,r;this.selectFwCluster===L.OBJ_FIREWALL?(t=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.FIREWALL"),r=this.doCreateFirewall):(t=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.CLUSTER"),r=this.doCreateCluster),this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_CONFIRM"),icon:"fa fa-question-circle fwcBlue iconBig",message:this.translate.instant("WIZARDS.FIREWALL_IMPORT.STEPS.2.CONFIRM_NEXT",{objType:t.toLowerCase()}),accept:()=>{r.call(this)},rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES")});break;default:this.state.selectedStep<this.state.steps.length&&this.displayStepContent(this.state.selectedStep+1)}else switch(this.state.selectedStep){case 2:this.autodiscoverFinished?this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_CONFIRM"),icon:"fa fa-question-circle fwcBlue iconBig",message:this.translate.instant("WIZARDS.FIREWALL_IMPORT.STEPS.2.CONFIRM_PREV"),accept:()=>{this.fwcInterfacesEditor.resetProperties(),this.interfacesEditorOptions=null,this.autodiscoverFinished=!1,this.showInterfacesEditor=!1,this.displayStepContent(1)},rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES")}):this.displayStepContent(this.state.selectedStep-1);break;default:this.state.selectedStep&&this.displayStepContent(this.state.selectedStep-1)}})}createNode(){return new mo({name:new Se("",[$e.required,$e.pattern(wi.nameRegExp)])})}getFormNodes(){return this.formModel.get("fwnodes")}getSSHFormNodes(){return this.sshFormModel.get("fwnodes")}nodeAdd(){let e=this.formModel.get("fwnodes");if(e){let t=this.createNode();e.push(t)}this.recenterDialog();try{this.inputNodes.last.nativeElement.focus()}catch{}}nodeRemove(e){let t=this.formModel.get("fwnodes"),r=t.length;!t||t.length<2||e<0||e>=t.length||t.at(e).value.id&&r<2||(t.removeAt(e),this.recenterDialog())}handleSelectObjType(){this.inputObjName&&this.inputObjName.nativeElement.focus(),this.recenterDialog()}buildSSHFormModel(){let e;if(this.selectFwCluster===L.OBJ_FIREWALL?this.formModel.get("name").valid&&(e=new hl([new mo({name:new Se(this.formModel.get("name").value,[$e.required,$e.pattern(wi.nameRegExp)]),firewallUUID:new Se(this.formModel.get("firewallUUID").value)})])):this.formModel.get("fwnodes").valid&&(e=this.formModel.get("fwnodes")),e){this.sshFormModel=this.formBuilder.group({fwnodes:new hl([])});let t=this.sshFormModel.get("fwnodes");for(let r=0;r<e.length;r++){let o=e.at(r),s;o.get("firewallUUID")?s=o.get("firewallUUID").value:s=vo(),t.push(new mo({name:new Se(o.get("name").value),address:new Se("",[$e.required,$e.pattern(wi.ipV4Regexp)]),install_port:new Se(22,[$e.required,$e.pattern(wi.portRegexp)]),install_user:new Se("",[$e.required,$e.pattern(wi.linuxUsername)]),install_pass:new Se("",[$e.required,$e.pattern(wi.linuxPassword)]),role:new Se(null),firewallUUID:new Se(s),install_communication:new Se("ssh",[$e.required]),install_protocol:new Se("https"),install_apikey:new Se(""),status:new Se(er.PENDING),statusMsg:new Se("")}))}}}onClusterNodeInstallCommChange(e){if(e){let r=e.get("install_communication").value==="agent"?"ssh":"agent";e.get("install_communication").setValue(r),r==="agent"?(e.get("install_protocol").setValidators([$e.required]),e.get("install_apikey").setValidators([$e.required]),e.get("install_port").setValue(33033),e.get("install_user").clearValidators(),e.get("install_pass").clearValidators()):(e.get("install_protocol").clearValidators(),e.get("install_apikey").clearValidators(),e.get("install_port").setValue(22),e.get("install_user").setValidators([$e.required,$e.pattern(wi.linuxUsername)]),e.get("install_pass").setValidators([$e.required,$e.pattern(wi.linuxPassword)])),e.get("install_protocol").updateValueAndValidity(),e.get("install_apikey").updateValueAndValidity(),e.get("install_user").updateValueAndValidity(),e.get("install_pass").updateValueAndValidity()}}buildNodeHeader(e,t,r){let o="";return this.selectFwCluster===L.OBJ_CLUSTER?o=this.translate.instant("CLUSTER.CLUSTER_NODE_ROLES.NODE")+" '"+t+"'":o=this.translate.instant("FW.MSG_FW_EDITION.ACCESS"),o+=` (${r==="ssh"?"SSH":"FWCloud-Agent"})`,o}handleDiscoverInterfaces(){this.sshFormModel.valid&&(this.interfacesEditorOptions=null,this.sshFormModel.disable(),this.autodiscoverFinished=!1,this.autodiscoverOpIndex=0,this.showInterfacesEditor=!0,this.doDiscoverInterfaces())}doDiscoverInterfaces(){return N(this,null,function*(){let e=this.sshFormModel.get("fwnodes");if(e){if(this.autodiscoverOpIndex>=0&&this.autodiscoverOpIndex<e.length){let t=e.at(this.autodiscoverOpIndex);if(t.get("status").value===er.SUCCESS)this.autodiscoverOpIndex++,this.doDiscoverInterfaces();else{t.get("status").setValue(er.RUNNING),t.get("statusMsg").setValue("");let r=this.translate.instant("GLOBALS.DB_OBJECT_NAMES."+this.selectFwCluster),o=this.formModel.get("name").value;this.autodiscoverHeader=this.translate.instant("FW.MSG_AUTODISCOVER.LOADING_CUSTOM.HEADER",{objType:r.toLowerCase(),objName:o}),this.selectFwCluster===L.OBJ_FIREWALL?this.autodiscoverText=this.translate.instant("FW.MSG_AUTODISCOVER.LOADING_CUSTOM.TEXT_FW"):this.autodiscoverText=this.translate.instant("FW.MSG_AUTODISCOVER.LOADING_CUSTOM.TEXT_CLUSTER",{objName:t.get("name").value});let s=this.fwcUserService.getActualFwcUser().publicKey,a=t.get("install_communication").value,l={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),ip:t.get("address").value,port:+t.get("install_port").value,communication:a};if(a==="ssh"){let c=t.get("install_user").value,d=t.get("install_pass").value;c&&(c=yield this.utilService.openPGPEncrypt(c,s)),d&&(d=yield this.utilService.openPGPEncrypt(d,s)),l.sshuser=c,l.sshpass=d}else{let c=t.get("install_apikey").value;c&&(c=yield this.utilService.openPGPEncrypt(c,s)),l.apikey=c,l.protocol=t.get("install_protocol").value}this.state.loadingData=!0,this.recenterDialog(),this.utilService.fwcAPICall(this.fwcFirewallService.autoDiscoverInterfaces.bind(this.fwcFirewallService),l).then(c=>{if(Array.isArray(c.data)){let d=c.data;if(t.get("status").setValue(er.SUCCESS),t.get("statusMsg").setValue(""),t.disable(),this.selectFwCluster===L.OBJ_CLUSTER){let C=t.get("role").value;C==="N"&&(C=t.get("name").value),C&&(d=d.map(y=>(y.suffixToAdd=C,y)))}let p=t.get("firewallUUID").value,g={isCluster:this.selectFwCluster===L.OBJ_CLUSTER,firewalls:[],discoveredFirewallUUID:p,discoveredAddress:t.get("address").value,discoveredIfs:[],existingIfs:[],hideActionButtons:!0};g.discoveredIfs=[...g.discoveredIfs,...d];for(let C=0;C<e.length;C++){let y=e.at(C),v=y.get("firewallUUID").value,w;this.fwcInterfacesEditor&&(w=this.fwcInterfacesEditor.getInstallationData(v)),g.firewalls.push({firewallUUID:v,firewall_name:y.get("name").value,firewall:void 0,cluster:void 0,installOptions:{firewallUUID:v,interface:w&&w.interface,ipobj:w&&w.address}})}this.fwcInterfacesEditor.processOptions(g),this.autodiscoverOpIndex++,this.doDiscoverInterfaces()}this.refreshDialog()}).catch(c=>{this.state.loadingData=!1;let d=this.utilService.isCommunicationError(c.error);t.get("status").setValue(er.ERROR),d?t.get("statusMsg").setValue("("+d+")"):t.get("statusMsg").setValue("("+this.fwcErrorPipe.transform(c)+")"),t.enable(),this.refreshDialog()})}}else if(this.autodiscoverOpIndex===e.length){this.autodiscoverFinished=!0,this.fwcInterfacesEditor.selectAllNodes(!0);let t,r=[];if(this.selectFwCluster===L.OBJ_FIREWALL)t=this.translate.instant("WIZARDS.FIREWALL_IMPORT.INFO.AUTODISCOVER_FW",{ip:e.at(0).get("address").value});else{t=this.translate.instant("WIZARDS.FIREWALL_IMPORT.INFO.AUTODISCOVER_CLUSTER");for(let s=0;s<e.length;s++){let a=e.at(s);r.push(this.translate.instant("WIZARDS.FIREWALL_IMPORT.INFO.AUTODISCOVER_NODE",{name:a.get("name").value,ip:a.get("address").value}))}}let o={success:!0,summary:t,details:r};this.state.loadingData=!1,this.operationResults.push(o),this.refreshDialog()}}})}doCreateFirewall(){return N(this,null,function*(){if(this.sshFormModel.enable(),this.sshFormModel.valid){let e,r=this.sshFormModel.get("fwnodes").at(0),o=this.fwcUserService.getActualFwcUser().publicKey,s=yield this.utilService.openPGPEncrypt(r.get("install_user").value,o),a=yield this.utilService.openPGPEncrypt(r.get("install_pass").value,o),l=yield this.utilService.openPGPEncrypt(r.get("install_apikey").value,o);e={name:this.formModel.get("name").value,comment:this.formModel.get("comment").value,install_user:s,install_pass:"",install_port:r.get("install_port").value,save_user_pass:1,fwmaster:1,options:3,plugins:0,install_communication:r.get("install_communication").value,install_protocol:r.get("install_protocol").value,install_apikey:l,fwcloud:this.fwcUserService.getActualFwSelectedCloud(),node_id:this.parentNodeId},this.state.loadingData=!0,this.refreshDialog(),this.utilService.fwcAPICall(this.fwcFirewallService.newFirewall.bind(this.fwcFirewallService),e).then(c=>{let d=c.data.insertId;this.formModel.get("id").setValue(d),this.processFwInterfacesOperations(e,c.data).then(()=>{this.operationResults.push({success:!0,summary:this.translate.instant("WIZARDS.FIREWALL_IMPORT.INFO.CREATE_FW",{name:this.formModel.get("name").value})}),this.importSSHData=this.buildSSHApiObject(d),this.displayStepContent(3)}).catch(p=>{this.state.errorMessages=[{severity:"error",summary:this.translate.instant("WIZARDS.FIREWALL_IMPORT.ERRORS.PROCESS_FW_IFS.ERR_GEN"),detail:p.message}],this.recenterDialog()}).finally(()=>{this.state.loadingData=!1,this.refreshDialog()})}).catch(c=>{let d=this.translate.instant("GLOBALS.DB_OBJECT_NAMES."+this.selectFwCluster);this.state.errorMessages=[{severity:"error",summary:this.translate.instant("WIZARDS.FIREWALL_IMPORT.ERRORS.CREATING_FW_CLUSTER.0",{objType:d.toLowerCase()}),detail:this.translate.instant("WIZARDS.FIREWALL_IMPORT.ERRORS.CREATING_FW_CLUSTER.1",{objType:d.toLowerCase()})}],this.state.loadingData=!1,this.recenterDialog()})}})}processFwInterfacesOperations(e,t){return new Promise((r,o)=>N(this,null,function*(){try{if(this.fwcInterfacesEditor&&this.fwcInterfacesEditor.areTherePendingOperations()){let s=this.fwcInterfacesEditor.getSelectedTreeNodes(),a=t.insertId;this.fwcInterfacesEditor.setNewLoIds(t);let c=(yield this.utilService.fwcAPICall(this.fwcObjectTreeService.getTree.bind(this.fwcObjectTreeService),this.appOptionsService.optionsTreeFw,this.fwcUserService.getActualFwSelectedCloud())).data,d=[];d.push(c);let p=this.fwcObjectTreeService.getNodesFull(d,H.OBJ_FIREWALL,a);if(p&&Array.isArray(p.items)){let g=p.items.find(C=>C.node_type===H.FOLDER_INTERFACES);if(g){let C={parentObject:{fwcloud:this.fwcUserService.getActualFwSelectedCloud(),name:p.text,type:L.OBJ_FIREWALL,id:a,id_node:g.id},objectTreeNodes:s,onClose:v=>N(this,null,function*(){let w,E,T=!1;if(v.forEach(F=>{F.operationStatus===er.SUCCESS&&F.operationResult&&F.object.installFirewallUUIDs&&F.object.installFirewallUUIDs.has(this.formModel.get("firewallUUID").value)&&(F.object.type===L.OBJ_INTERFACE_FIREWALL?w=F.operationResult.insertId:F.object.type===L.OBJ_ADDRESS&&(E=F.operationResult.insertId)),F.operationStatus===er.ERROR&&(T=!0)}),T)return o(new Error(this.translate.instant("WIZARDS.FIREWALL_IMPORT.ERRORS.PROCESS_FW_IFS.ERR_IFS_OPERATIONS")));if(w&&E){let F=new pC(e);F.firewall=a,F.install_interface=w,F.install_ipobj=E,F.install_pass="";try{let G=F.getValue(),z=yield this.utilService.fwcAPICall(this.fwcFirewallService.updateFirewall.bind(this.fwcFirewallService),G)}catch{return o(new Error(this.translate.instant("WIZARDS.FIREWALL_IMPORT.ERRORS.PROCESS_FW_IFS.ERR_UPDATING_INST")))}}r()})},y={uuid:Ai.ITEM_BATCH_MANAGER,data:C};this.appDialogPanelsService.searchAndShowDialog(y)}}else return o(new Error(this.translate.instant("WIZARDS.FIREWALL_IMPORT.ERRORS.PROCESS_FW_IFS.ERR_MISSING_FIREWALL_NODE")))}else r()}catch{o(new Error(this.translate.instant("WIZARDS.FIREWALL_IMPORT.ERRORS.PROCESS_FW_IFS.ERR_UNKNOWN")))}}))}doCreateCluster(){return N(this,null,function*(){if(this.sshFormModel.enable(),this.sshFormModel.valid){let e,t=this.fwcUserService.getActualFwcUser().publicKey,r=this.sshFormModel.get("fwnodes"),o=[];for(let s=0;s<r.length;s++){let a=r.at(s),l=yield this.utilService.openPGPEncrypt(a.get("install_user").value,t),c=yield this.utilService.openPGPEncrypt(a.get("install_pass").value,t),d=yield this.utilService.openPGPEncrypt(a.get("install_apikey").value,t);o.push({name:a.get("name").value,comment:null,install_user:l,install_pass:"",install_port:a.get("install_port").value,save_user_pass:1,fwmaster:s?0:1,install_communication:a.get("install_communication").value,install_protocol:a.get("install_protocol").value,install_apikey:d})}e={name:this.formModel.get("name").value,comment:this.formModel.get("comment").value,options:3,plugins:0,fwnodes:o},this.state.loadingData=!0,this.refreshDialog(),this.utilService.fwcAPICall(this.fwcFirewallService.newCluster.bind(this.fwcFirewallService),e,this.fwcUserService.getActualFwSelectedCloud(),this.parentNodeId).then(s=>{let a=s.data.insertId;this.formModel.get("id").setValue(a),this.processClusterInterfacesOperations(a,s.data).then(l=>{let c={success:!0,summary:this.translate.instant("WIZARDS.FIREWALL_IMPORT.INFO.CREATE_CLUSTER",{name:this.formModel.get("name").value}),details:[]},d=this.sshFormModel.get("fwnodes"),p=[];for(let g=0;g<d.length;g++){let C=d.at(g);p.push(C.get("name").value)}c.details.push(p.join(", ")),this.operationResults.push(c),this.importSSHData=this.buildSSHApiObject(l),this.displayStepContent(3)}).catch(l=>{this.state.errorMessages=[{severity:"error",summary:this.translate.instant("CLUSTER.MSG_CLUSTER_BATCH.ERR_CREATING_IFS"),detail:l.message}],this.recenterDialog()}).finally(()=>{this.state.loadingData=!1,this.refreshDialog()})}).catch(s=>{let a=this.translate.instant("GLOBALS.DB_OBJECT_NAMES."+this.selectFwCluster);this.state.errorMessages=[{severity:"error",summary:this.translate.instant("WIZARDS.FIREWALL_IMPORT.ERRORS.CREATING_FW_CLUSTER.0",{objType:a.toLowerCase()}),detail:this.translate.instant("WIZARDS.FIREWALL_IMPORT.ERRORS.CREATING_FW_CLUSTER.1",{objType:a.toLowerCase()})}],this.state.loadingData=!1,this.recenterDialog()})}})}processClusterInterfacesOperations(e,t){return new Promise((r,o)=>N(this,null,function*(){try{if(this.fwcInterfacesEditor&&this.fwcInterfacesEditor.areTherePendingOperations()){let s=this.fwcInterfacesEditor.getSelectedTreeNodes();t&&t.loData&&this.fwcInterfacesEditor.setNewLoIds(t);let[a,l]=yield Promise.all([this.utilService.fwcAPICall(this.fwcFirewallService.getCluster.bind(this.fwcFirewallService),e,this.fwcUserService.getActualFwSelectedCloud()),this.utilService.fwcAPICall(this.fwcObjectTreeService.getTree.bind(this.fwcObjectTreeService),this.appOptionsService.optionsTreeFw,this.fwcUserService.getActualFwSelectedCloud())]),c=a.data,d;if(c&&Array.isArray(c.nodes)&&(d=c.nodes),!d||!d.length)return o(new Error(this.translate.instant("CLUSTER.MSG_CLUSTER_BATCH.ERR_EMPTY_CLUSTER")));let p=this.sshFormModel.get("fwnodes").value,g,C=this.fwcUserService.getActualFwcUser().publicKey;for(let E=0;E<d.length;E++){let T=d[E],F=p.find(G=>G.name===T.name);if(F){T.firewallUUID=F.firewallUUID;let G=F.install_user,z=F.install_pass,X=F.install_apikey;G&&(T.install_user=yield this.utilService.openPGPEncrypt(G,C)),z&&(T.install_pass=yield this.utilService.openPGPEncrypt(z,C)),X&&(T.install_apikey=yield this.utilService.openPGPEncrypt(X,C))}else return o(new Error(this.translate.instant("CLUSTER.MSG_CLUSTER_BATCH.ERR_MISSING_NODE")));T.fwmaster&&(g=T.id)}let y=l.data,v=[];v.push(y);let w=this.fwcObjectTreeService.getNodesFull(v,H.OBJ_CLUSTER,e);if(w&&Array.isArray(w.items)){let E=w.items.find(T=>T.node_type===H.FOLDER_INTERFACES);if(E){let T={parentObject:{fwcloud:this.fwcUserService.getActualFwSelectedCloud(),name:w.text,type:L.OBJ_FIREWALL,id:g,id_node:E.id},objectTreeNodes:s,onClose:G=>N(this,null,function*(){let z=!1,X=new Map;if(G.forEach(ne=>{if(ne.operationStatus===er.SUCCESS&&ne.operationResult&&ne.object.installFirewallUUIDs){let Y;ne.object.type===L.OBJ_INTERFACE_FIREWALL?Y={install_interface:ne.operationResult.insertId}:ne.object.type===L.OBJ_ADDRESS&&(Y={install_ipobj:ne.operationResult.insertId}),ne.object.installFirewallUUIDs&&ne.object.installFirewallUUIDs.forEach(se=>{let ye=X.get(se);Y=re(re({},ye),Y),X.set(se,Y)})}ne.operationStatus===er.ERROR&&(z=!0)}),z)return o(new Error(this.translate.instant("CLUSTER.MSG_CLUSTER_BATCH.ERR_IFS_OPERATIONS")));{let ne;if(X.size)for(let[Y,se]of X){let ye=d.find(Ce=>Ce.firewallUUID===Y);if(ye){ne=new pC(ye),ne.fwcloud=this.fwcUserService.getActualFwSelectedCloud(),ne.firewall=ye.id,ne.install_interface=se.install_interface,ne.install_ipobj=se.install_ipobj,ne.install_pass="",ne.plugins=0;try{let Ce=ne.getValue(),we=yield this.utilService.fwcAPICall(this.fwcFirewallService.updateFirewall.bind(this.fwcFirewallService),Ce)}catch{return o(new Error(this.translate.instant("CLUSTER.MSG_CLUSTER_BATCH.ERR_UPDATING_INST",{name:ye.name})))}}else return o(new Error(this.translate.instant("CLUSTER.MSG_CLUSTER_BATCH.ERR_UPDATING_INST_MISSING")))}}r(g)})},F={uuid:Ai.ITEM_BATCH_MANAGER,data:T};this.appDialogPanelsService.searchAndShowDialog(F)}else return o(new Error(this.translate.instant("CLUSTER.MSG_CLUSTER_BATCH.ERR_NO_IFS_NODE")))}else return o(new Error(this.translate.instant("CLUSTER.MSG_CLUSTER_BATCH.ERR_MISSING_CLUSTER_NODE")))}else r(null)}catch{o(new Error(this.translate.instant("CLUSTER.MSG_CLUSTER_BATCH.ERR_UNKNOWN")))}}))}handleIptablesSaveFinish(e){let t=e.success?"INFO":"ERRORS";this.operationResults.push({success:e.success,summary:this.translate.instant("WIZARDS.FIREWALL_IMPORT."+t+".IPTABLES_SAVE",{ip:this.sshFormModel.get("fwnodes").at(0).get("address").value})}),this.iptablesSaveFinished=!0,this.state.loadingData=!1,this.recenterDialog()}buildSSHApiObject(e){let t;if(this.sshFormModel){let r=this.sshFormModel.get("fwnodes").at(0);t={firewall:e,fwcloud:this.fwcUserService.getActualFwSelectedCloud(),type:"remote",ip_version:4,ip:r.get("address").value,port:r.get("install_port").value,sshuser:r.get("install_user").value,sshpass:r.get("install_pass").value,communication:r.get("install_communication").value,protocol:r.get("install_protocol").value,apikey:r.get("install_apikey").value}}return t}areAllOperationsSuccessful(){let e=!1;return this.operationResults&&(e=this.operationResults.every(t=>t.success)),e}static{this.\u0275fac=function(t){return new(t||i)(b(pt),b(Et),b(Bt),b(Zt),b(Do),b(At),b(Mt),b(Wi),b(Xe),b(Fr),b(Ie),b(ct),b(si),b(rt))}}static{this.\u0275cmp=ie({type:i,selectors:[["sts-fwc-wizard-firewall-import"]],viewQuery:function(t,r){if(t&1&&(de(yHe,5),de(IHe,5),de(vHe,5),de(bHe,5),de(wHe,5),de(SHe,5)),t&2){let o;ee(o=te())&&(r.fwcInterfacesEditor=o.first),ee(o=te())&&(r.buttonNext=o.first),ee(o=te())&&(r.inputObjName=o.first),ee(o=te())&&(r.fwcIptablesSaveComponent=o.first),ee(o=te())&&(r.inputNodes=o),ee(o=te())&&(r.inputDiscoverNodes=o)}},features:[Ze([Zt,Do]),ve],decls:10,vars:5,consts:[["dlgWizardDialog",""],["buttonNext",""],["inputObjName",""],["inputNode",""],["inputDiscoverNode",""],["fwcInterfacesEditor",""],["fwcIptablesSaveComponent",""],["styleClass","dlgFwcDialog dlgFwcDialog--medium",3,"visibleChange","onHide","visible","modal","closable","resizable"],["pTemplate","header"],[1,"grid"],["pTemplate","footer"],["appStepContent","","stepTitle","WIZARDS.FIREWALL_IMPORT.STEPS.0.TITLE"],["appStepContent","","stepTitle","WIZARDS.FIREWALL_IMPORT.STEPS.1.TITLE"],["appStepContent","","stepTitle","WIZARDS.FIREWALL_IMPORT.STEPS.2.TITLE"],["appStepContent","","stepTitle","WIZARDS.FIREWALL_IMPORT.STEPS.3.TITLE"],["appStepContent","","stepTitle","WIZARDS.FIREWALL_IMPORT.STEPS.4.TITLE"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"fa","fa-magic","fwcOrange"],[1,"col-12"],[3,"activeIndexChange","model","readonly","activeIndex"],[3,"ngTemplateOutlet"],[3,"valueChange","value","closable"],[1,"col-6","fwc-left"],["type","button","pButton","","icon","fa fa-close",1,"p-button-warning",3,"disabled","label"],[1,"col-6"],["type","button","pButton","","icon","fa fa-close",1,"p-button-warning",3,"click","disabled","label"],["type","button","pButton","","icon","fa fa-arrow-left",1,"p-button-primary",3,"click","disabled","label"],["type","button","pButton","","icon","fa fa-arrow-right",1,"p-button-primary",3,"disabled","label"],["type","button","pButton","","icon","fa fa-check",1,"p-button-success",3,"label"],["type","button","pButton","","icon","fa fa-arrow-right",1,"p-button-primary",3,"click","disabled","label"],["type","button","pButton","","icon","fa fa-check",1,"p-button-success",3,"click","label"],[1,"col-3",2,"padding","2.1875rem"],["src","assets/img/import_wizard.png","height","200px","width","auto"],[1,"col-9",2,"padding-left","0.5rem","padding-top","2.1875rem","font-family","Montserrat, Arial, sans-serif",3,"innerHTML"],[1,"col-12",2,"padding-left","0.5rem","padding-top","2.1875rem","font-family","Montserrat, Arial, sans-serif","font-size",".9rem"],[1,"divInlineInput"],[1,"spanField"],["name","selectFwCluster",3,"ngModelChange","click","value","label","ngModel"],[1,"fwcSepShort"],[2,"width","100%",3,"formGroup"],[3,"keyup.enter"],[1,"col-12","md:col-6"],[1,"divFlexInput"],[1,"divFlexInput-label"],["for","name"],[1,"divFlexInput-control"],["type","text","maxlength","64","pInputText","","formControlName","name","name","name",3,"placeholder"],[1,"fwc-error",3,"ngStyle"],["for","comment"],["type","text","maxlength","255","pInputText","","formControlName","comment","name","comment",3,"placeholder"],["formArrayName","fwnodes",1,"grid"],[1,"fwcBlue"],[1,"col-12","md:col-6",3,"formGroupName"],["formControlName","name","maxlength","64","type","text","pInputText","",3,"id","placeholder"],[1,"fwc-error"],[1,"divFlexInput-buttons"],["tooltipPosition","bottom","showDelay","500","pButton","","type","button","icon","pi pi-minus",1,"p-button-danger","fwcButtonHeight",3,"disabled","pTooltip"],["pButton","","type","button","icon","fa fa-plus","tooltipPosition","bottom","showDelay","500",1,"p-button-primary","fwcButtonHeight",3,"disabled","pTooltip"],["tooltipPosition","bottom","showDelay","500","pButton","","type","button","icon","pi pi-minus",1,"p-button-danger","fwcButtonHeight",3,"click","disabled","pTooltip"],["pButton","","type","button","icon","fa fa-plus","tooltipPosition","bottom","showDelay","500",1,"p-button-primary","fwcButtonHeight",3,"click","disabled","pTooltip"],[2,"width","100%",3,"keyup.enter","formGroup"],[1,"col-12",3,"formGroupName"],[1,"col-12","fwc-centered"],["type","button","pButton","","icon","fa fa-search-plus",1,"p-button-primary",3,"click","disabled","label"],[3,"legend"],[1,"grid",2,"width","100%"],[3,"ngClass"],[1,"p-inputgroup"],["pButton","","type","button","tooltipPosition","top","showDelay","500",1,"p-button-primary","fwcButtonHeight",3,"click","icon","pTooltip"],["maxlength","64","type","text","formControlName","address","pInputText","",3,"placeholder"],["maxlength","64","type","number","formControlName","install_port","pInputText","",3,"placeholder"],[1,"col-2"],[1,"col",2,"line-height","2.4rem"],[1,"col-12","grid","grid-nogutter",2,"width","auto"],["formControlName","install_protocol","name","install_protocol",1,"selNoMargin",3,"change"],["disabled","",3,"value"],["value","https"],["value","http"],[1,"col-4"],["formControlName","install_apikey","name","install_apikey","pPassword","","maxlength","64",3,"showPassword","placeholder","feedback"],["pButton","","type","button","icon","fa fa-eye",1,"p-button-secondary",3,"mousedown","mouseup","mouseout"],[1,"col-3"],["maxlength","64","type","text","formControlName","install_user","pInputText","",3,"placeholder"],["maxlength","64","type","password","formControlName","install_pass","pPassword","",3,"showPassword","placeholder","promptLabel","feedback"],["formControlName","role","styleClass","dropDownForm","appendTo","body",3,"options"],["tooltipPosition","top",1,"fa","fa-lg","fa-exclamation-triangle","fwcRed",3,"pTooltip","showDelay"],[1,"fa","fa-lg","fa-cog","fa-spin","fwcBlue"],[1,"fa","fa-lg","fa-exclamation-circle","fwcRed"],[1,"fa","fa-lg","fa-check-circle","fwcGreen"],[3,"onStartAutodiscover","options","manualMode","minimized"],[3,"onFinish","hideUI","importSSHData"],[1,"grid","divSummary"],[1,"col-12","divSummary-header"],[1,"col-12","divSummary-result"],[1,"col-12","divSummary-footer"],[1,"fa","fa-4x","fa-check-circle","fwcGreen"],[1,"fa","fa-4x","fa-exclamation-triangle","fwcOrange"],[1,"fa","fa-lg","fa-fw",3,"ngClass"],[3,"innerHTML"],[1,"divSummary-details"],[1,"fa","fa-check","fwcGreen"]],template:function(t,r){if(t&1){let o=B();m(0,"p-dialog",7,0),Ve("visibleChange",function(a){return S(o),Ue(r.displayDialog,a)||(r.displayDialog=a),A(a)}),P("onHide",function(){return S(o),A(r.onHideDialog())}),I(2,xHe,5,3,"ng-template",8)(3,RHe,3,2,"div",9)(4,MHe,4,2,"ng-template",10),_(),I(5,NHe,5,3,"ng-template",11)(6,zHe,40,33,"ng-template",12)(7,nGe,1,1,"ng-template",13)(8,rGe,6,5,"ng-template",14)(9,pGe,1,1,"ng-template",15)}t&2&&(Ne("visible",r.displayDialog),h("modal",!0)("closable",!1)("resizable",!0),u(3),q(r.state?3:-1))},styles:[`:root{--lightColor: #eee;--darkColor: #222;--inputBackgroundColor: #eee;--inputBorderColor: #cacaca;--inputColor: #222;--surfaceBackgroundColor: white;--fixedWhiteColor: #eee;--fixedDarkColor: #333;--translucidColor: transparent;--menuBackground: url(/assets/img/fwc-fondo-menu.jpg);--mainBackground: url(/assets/img/fwc-fondo-home.jpg);--fwcBlue: #0069a7;--fwcBlueDarkened: #005e96;--fwcDarkBlue: #003351;--fwcDarkBlue2: #014071;--fwcLightBlue: #1779ba;--fwcPaleBlue: #689fe1;--fwcPaleBlue2: #cce2f8;--fwcPaleBlue3: #e6f1fd;--fwcBlueGradient1: #386ea0;--fwcBlueGradient2: #21517e;--fwcLightGreyGradient1: #f6f7f9;--fwcLightGreyGradient2: #ebedf0;--fwcOrange: #eb6400;--fwcPaleOrange: #e67e22;--fwcPaleOrange2: #ffcfa4;--fwcPaleOrange3: #fe7815;--fwcOrangeRed: #e74c3c;--fwcRed: #f00;--fwcRed2: #b40b00;--fwcPaleRed: #f77676;--fwcPaleRed2: #ffe1e1;--fwcTranslucidRed: rgba(255, 0, 0, .15);--fwcDarkGreen: #023008;--fwcGreen: #009900;--fwcLightGreen: #28ff28;--fwcPaleGreen: #c7e6c8;--fwcLime: #baf649;--fwcWhite: #eee;--fwcPaleWhite: #f5f5f5;--fwcPaleWhite2: #f4f4f4;--fwcDark: #222;--fwcLightDark: #1e1e1e;--fwcMidDark: #555;--fwcMidDark2: #333;--fwcPaleDark: #888;--fwcPaleDark2: #383838;--fwcGrey: #cacaca;--fwcGrey2: #cecece;--fwcGrey3: #eee;--fwcGrey4: #e5e5e5;--fwcGrey5: #c8c8c8;--fwcGrey6: #efefef;--fwcGrey7: #dedede;--fwcAccent: #ff4081;--fwcShadow: #bbb;--fwcSelected: #ddd;--fwcSelectedB: #0069a7;--fwcRulePink: #ef9a9a;--fwcRulePurple: #ce93d8;--fwcRuleBlue: #90caf9;--fwcRuleTeal: #80cbc4;--fwcRuleGreen: #a5d6a7;--fwcRuleYellow: #fff59d;--fwcRuleOrange: #ffcc80}.divFlexInput{display:flex}.divFlexInput-label{flex:0;line-height:2.4rem;margin-right:1rem}.divFlexInput-control{flex:1}.divFlexInput-buttons{display:flex;margin-left:.5rem}.divSummary-header{text-align:center}.divSummary-header i{margin-bottom:.3rem}.divSummary-result{padding-left:2.5rem}.divSummary-result i{padding-right:.3rem}.divSummary-details{font-size:.9rem;color:var(--fwcMidDark);padding:.3rem 0 .3rem 2.5rem}.divSummary-details i{padding-right:.3rem}.divSummary hr{border:0;height:1px;background-image:linear-gradient(to right,#0000,#0000004d,#0000)}.divSummary-footer{margin-top:.5rem}.p-steps{padding-top:1.5625rem}.p-toggleable-content{width:100%}.p-fieldset-content{display:flex;flex-direction:row;width:100%}body .p-fieldset{border:1px solid #c8c8c8;background-color:transparent;color:#333}body .p-corner-all{-moz-border-radius:3px;-webkit-border-radius:3px;border-radius:3px}.p-fieldset .p-fieldset-legend{border:1px solid transparent;background:none;font-weight:400}.p-fieldset .p-fieldset-legend-text{margin-left:15px;font-family:Montserrat,Arial,sans-serif}
`],encapsulation:2,changeDetection:0})}}return i})();var hC=function(i){return i.OBJECT_NAME="POLICY.TREE_SEARCH_OPTIONS.OBJECT_NAME",i.TCP_UDP_PORT="POLICY.TREE_SEARCH_OPTIONS.TCP_UDP_PORT",i.IP_ADDRESS="POLICY.TREE_SEARCH_OPTIONS.IP_ADDRESS",i.IP_OPENVPN="POLICY.TREE_SEARCH_OPTIONS.IP_OPENVPN",i}(hC||{});var oW=Ja(rC());var hGe=()=>({width:"100%","max-height":"20em",overflow:"auto"}),fGe=i=>({"font-weight":i});function mGe(i,n){i&1&&(m(0,"div",7)(1,"h6",8),O(2,"i",9),D(3),R(4,"translate"),_()()),i&2&&(u(3),J(" ",k(4,1,"VPN.STATUS.NODE_SELECT_DIALOG.TITLE")," "))}function gGe(i,n){if(i&1){let e=B();m(0,"span",10),P("dblclick",function(){let r=S(e).$implicit,o=f();return A(o.onNodeSelect(r))}),O(1,"i",11),R(2,"fwcIcon"),m(3,"span",12),D(4),_()()}if(i&2){let e=n.$implicit;u(),ra("fwcTreeIcon ",k(2,5,e.data==null?null:e.data.object_type),""),u(2),h("ngStyle",oe(7,fGe,e.selectable?"normal":"bold")),u(),J(" ",e.label," ")}}function _Ge(i,n){if(i&1){let e=B();m(0,"button",13),R(1,"translate"),P("click",function(){S(e);let r=f();return A(r.onNodeSelect(r.selectedNode))}),_(),m(2,"button",14),R(3,"translate"),P("click",function(){S(e);let r=f();return A(r.onSelectCancel())}),_()}if(i&2){let e=f();ae("label",k(1,3,"GLOBALS.MSG_BUTTONS.SELECT")),h("disabled",!e.selectedNode),u(2),ae("label",k(3,5,"GLOBALS.MSG_BUTTONS.CANCEL"))}}var CS=(()=>{class i extends ei{constructor(e,t,r,o,s,a,l,c,d,p,g,C,y,v){super(e,t,r,o,g,c),this.appDialogPanelsService=e,this.appOptionsService=t,this.itemSelectedService=r,this.cd=o,this.translate=s,this.fwcUserService=a,this.utilService=l,this.router=c,this.fwcFirewallService=d,this.fwcVpnService=p,this.store=g,this.inputDataService=C,this.confirmationService=y,this.fwcEventService=v,this.displayNodeSelectDialog=!1,this.serviceMap={OSR:Dl.openvpn,S01:Dl.dhcp,S02:Dl.keepalived,S03:Dl.HAProxy},this.createDialog(s.instant("VPN.STATUS.NODE_SELECT_DIALOG.TITLE"),"fwcMenuIcon fwci-firewalls fwcOrange")}onNodeSelect(e){return N(this,null,function*(){if(!e||!e.selectable)return;let t=this.clusterNodes.find(r=>r.id===e.data.firewall_id);if(t){this.displayNodeSelectDialog=!1;let r=this.utilService.createDynamicComponentRef(Ym),o=r.instance;o.setDynamicComponentRef(r);let s={fwcloud:this.selectedItem.fwcloud,firewall:t.id,service:this.serviceMap[this.selectedItem.node_type]==="openvpn"?this.serviceMap[this.selectedItem.node_type]+"@"+this.selectedItem._fwcObjName:this.serviceMap[this.selectedItem.node_type]};o.systemCtlSelectorDialog(s)}})}selectNodes(e){this.selectedItem=e,this.utilService.fwcAPICall(this.fwcFirewallService.getClusterNodes.bind(this.fwcFirewallService),this.selectedItem.cluster_id,this.fwcUserService.getActualFwSelectedCloud()).then(t=>{this.clusterNodes=t.data,this.clusterNodes&&(this.clusterTreeNodes=this.buildNodesTree(this.clusterNodes,this.selectedItem.cluster_name),this.displayNodeSelectDialog=!0)}).catch(t=>{console.error(t)})}buildNodesTree(e,t){let r=[],o={label:t,data:{object_type:L.OBJ_CLUSTER},selectable:!1,expanded:!0,children:[]};return e.forEach(s=>{o.children.push({label:s.name,data:{object_type:L.OBJ_FIREWALL,firewall_id:s.id},selectable:!0})}),r.push(o),r}onSelectHide(e){}onSelectCancel(){this.displayNodeSelectDialog=!1,super.hideDialog()}static{this.\u0275fac=function(t){return new(t||i)(b(Mt),b(Bt),b(At),b(Ie),b(Xe),b(pt),b(Et),b(ct),b(Zt),b(os),b(rt),b(Ro),b(si),b(Vn))}}static{this.\u0275cmp=ie({type:i,selectors:[["sts-fwc-systemctl-nodes-selector-panel"]],features:[ve],decls:11,vars:12,consts:[["styleClass","dlgFwcDialog dlgFwcDialog--small",3,"visibleChange","onHide","visible","resizable","closable","modal"],["pTemplate","header"],[1,"grid"],[1,"col-12"],["selectionMode","single","styleClass","treeSelector",3,"selectionChange","value","selection"],["pTemplate","default"],["pTemplate","footer"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"fwcMenuIcon","fwci-firewalls","fwcOrange"],[1,"nodeselect",3,"dblclick"],["aria-hidden","true"],[3,"ngStyle"],["pButton","","icon","pi pi-check",1,"p-button-success",3,"click","disabled","label"],["pButton","","icon","pi pi-times",1,"p-button-primary",3,"click","label"]],template:function(t,r){t&1&&(m(0,"p-dialog",0),Ve("visibleChange",function(s){return Ue(r.displayNodeSelectDialog,s)||(r.displayNodeSelectDialog=s),s}),P("onHide",function(s){return r.onSelectHide(s)}),I(1,mGe,5,3,"ng-template",1),m(2,"div",2)(3,"div",3)(4,"p"),D(5),R(6,"translate"),_()(),m(7,"div",3)(8,"p-tree",4),Ve("selectionChange",function(s){return Ue(r.selectedNode,s)||(r.selectedNode=s),s}),I(9,gGe,5,9,"ng-template",5),_()()(),I(10,_Ge,4,7,"ng-template",6),_()),t&2&&(Ne("visible",r.displayNodeSelectDialog),h("resizable",!1)("closable",!1)("modal",!0),u(5),$(k(6,9,"VPN.STATUS.NODE_SELECT_DIALOG.TEXT")),u(3),dt(Ae(11,hGe)),h("value",r.clusterTreeNodes),Ne("selection",r.selectedNode))}})}}return i})();var CGe=["treeview"],yGe=["hintFirstTreeElement"],IGe=$c.concat([H.FOLDER_POLICY,H.FOLDER_INTERFACES,H.POLICY_ROUTING,H.OPENVPN_ROOT,H.OPENVPN_PREFIX_FOLDER]).filter(i=>i!==H.ROUTING_TABLE),wjt=(()=>{class i{onContextMenuEvent(e,t){e.preventDefault(),this.contextMenuReference&&this.clearObjectInfo()}fwcIcon(e,t){return Rn.prototype.transform(e,t)}set treeOptions(e){this.options=Object.assign({},e),this.treeExpandedNodes=new Set,this.selectedPolicyNode=void 0,this.treeLoad(),this.cd.detectChanges()}set searchString(e){this._searchString=e,this.treeFilter()}get searchString(){return this._searchString}set treeSearchOptions(e){this._treeSearchOptions=e,this.treeFilterByOptions()}constructor(e,t,r,o,s,a,l,c,d,p,g,C,y,v,w,E,T,F,G,z,X,ne,Y,se,ye,Ce,we,Be){this.refService=e,this.fwcObjectTreeService=t,this.itemSelectedService=r,this.fwcPolicyService=o,this.fwcRoutingTableService=s,this.fwcUserService=a,this.fwcFirewallService=l,this.fwcObjectService=c,this.fwcInterfaceService=d,this.fwcContextMenuService=p,this.fwcDhcpPolicyService=g,this.fwcHAProxyPolicyService=C,this.fwcKeepalivedPolicyService=y,this.fwcErrorPipe=v,this.fwcPolicyGridRoutingTableFunctionalityService=w,this.confirmationService=E,this.messageService=T,this.inputDataService=F,this.utilService=G,this.fwcVpnService=z,this.appHintService=X,this.appDialogPanelsService=ne,this.dialogService=Y,this.cd=se,this.translate=ye,this.store=Ce,this.parentFwcTreePanelComponent=we,this.fwcTreePanelMenuService=Be,this.currentResourcePath="app/integralui/icons",this.treeIntegralUIStyle=[Zz,Cd,Xz,Id,yd,Qz],this.currentDragDrop=Dr.Static,this.currentItemTemplate=Fe=>Ke`
      <iui-contextmenu
        .allowAnimation="${!1}"     
        .customStyle="${[Cd,eW,Id,yd]}"
        .colorScheme="${this.currentColorScheme}"
        .settings=${this.treeContextMenu[Fe.node_type]?this.treeContextMenu[Fe.node_type]:this.treeContextMenu.NO_MENU}
        @menuOpening=${Qe=>this.onContextMenuLoad(Qe)}
        @menuClick=${Qe=>this.onContextMenuHandler(Qe)}>
        <div class="fwcTree-item 
          ${this.selectedPolicyNode&&Fe.id==this.selectedPolicyNode.id?"fwcSelectedPolicyNode":""}
          ${Fe.id==this.highlightNodeId?"fwcTree-item-highlight":""}
          ${Fe.obj_type==this.ObjectTypes.OBJ_VPN_CONFIG_CLI&&Fe.openvpn_disabled&&!Fe._fwcOpenvpnStatus?"fwcTree-item--disabled":""}"
        @mouseenter=${Qe=>this.showObjectInfo(Fe,Qe)}
        @mouseleave=${Qe=>this.clearObjectInfo(Qe)}
        @click=${Qe=>this.onItemClickEvent(Qe)}
        @dblclick=${Qe=>this.onItemDblClickEvent(Qe)}
        .draggable=${Fe.allowDrag}
        @dragstart=${Qe=>this.onItemDragStart(Fe,Qe)}
        @wheel="${()=>this.clearObjectInfo()}"
        @contextmenu=${Qe=>this.onContextMenuEvent(Qe,Fe)}
      }}
      >
      ${Fe.obj_type==this.ObjectTypes.OBJ_CA&&Fe._fwcCaStatus?Ke`
      <span>
        <i class="fa fa-spin fa-spinner fwcBlue"></i>
      </span>`:""}

    ${Fe.obj_type==this.ObjectTypes.OBJ_COUNTRIE?Ke`
      <span>
        <i class="flag-icon flag-icon-${Fe.parent_name.toLowerCase()}"></i>
      </span>`:""}
      ${Fe.obj_type==this.ObjectTypes.OBJ_CONTINENT?Ke`
          <span>
            <i class="fwcTreeIcon ${this.fwcIcon(Fe.obj_type,Fe.parent_name)}"></i>
          </span>`:""}
      ${Fe.obj_type!=this.ObjectTypes.OBJ_COUNTRIE&&Fe.obj_type!=this.ObjectTypes.OBJ_CONTINENT?Ke`
          <i class="fwcTreeIcon ${this.fwcIcon(Fe.obj_type,Fe.node_type)}" aria-hidden="true"></i>
      `:""}
      
      ${Fe.obj_type==this.ObjectTypes.OBJ_VPN_CONFIG_CLI&&Fe.openvpn_disabled&&!Fe._fwcOpenvpnStatus?Ke`
        <span class="fwcTree-item--disabled" style="margin-left: -0.15em; margin-top:0.3125em;">
          <img width="17.5" height="17.5" src="assets/img/openvpn-disabled.png" />
        </span>`:""}
        
      ${Fe.node_type=="SYS"?Ke`
      <span style="font-size: 16px; margin-left: -0.15rem; margin-right: -0.09em;">
        <i class="fa fa-gear fwcBlue"></i>
      </span>`:""}

    ${["S01","S04"].includes(Fe.node_type)?Ke`
      <span style="margin-right: -0.09em; margin-top: 0.3125em;">
        <img width="15" height="15" src="assets/img/isc-dhcp.png" />
      </span>`:""}

    ${Fe.node_type=="S02"?Ke`
      <span style="margin-right: -0.09em; margin-top:0.3125em;">
        <img width="15" height="15" src="assets/img/keepalived.png" />
      </span>`:""}

    ${Fe.node_type=="S03"?Ke`
      <span style="margin-right: -0.09em; margin-top:0.3125em;">
        <img width="15" height="15" src="assets/img/ha-proxy.png" />
      </span>`:""}

    ${Fe.node_type=="FDF"?Ke`
      <span>
        <i class="fwcTreeIcon fwci-clusters fwcDarkBlue" aria-hidden="true"></i>
      </span>`:""}

      ${(Fe.obj_type==this.ObjectTypes.OBJ_CLUSTER||Fe.obj_type==this.ObjectTypes.OBJ_FIREWALL)&&Fe.status_compiled?Ke`
      <span class="fwcBadgeFw fwcBadgeFw-C">
        <p>C</p>
      </span>`:""}
    
    ${(Fe.obj_type==this.ObjectTypes.OBJ_CLUSTER||Fe.obj_type==this.ObjectTypes.OBJ_FIREWALL)&&Fe.status_compiled||(Fe.obj_type==this.ObjectTypes.OBJ_CLUSTER||Fe.obj_type==this.ObjectTypes.OBJ_FIREWALL)&&!Fe.status_compiled&&Fe.status_installed?Ke`
      <span class="fwcBadgeFw fwcBadgeFw-I">
        <p>I</p>
      </span>`:""}
    
    ${(Fe.obj_type==this.ObjectTypes.OBJ_VPN_CONFIG_CLI||Fe.obj_type==this.ObjectTypes.OBJ_VPN_CONFIG_SER)&&Fe._fwcOpenvpnStatus?Ke`
      <span class="fwcBadgeFw fwcBadgeFw-I">
        <p>I</p>
      </span>`:""}
      <span class="fwc-label ${Fe.fwcloud===null&&Fe.id_obj!==null?"fwcBlue":"fwcDark"}" 
      style="font-weight: ${Fe._fwcObjId===null?"bold":"normal"};
      margin-left: ${Fe.obj_type==this.ObjectTypes.OBJ_CLUSTER||Fe.obj_type==this.ObjectTypes.OBJ_FIREWALL?"3px":"1px"}">

      ${Fe.text}
      ${Fe.labelName&&Fe.labelName!==""?Ke`<span>[${Fe.labelName}]</span>`:""}      
      ${(Fe.parent_type===this.ObjectTypes.OBJ_HOST||Fe.parent_type===this.ObjectTypes.OBJ_FIREWALL||Fe.if_id)&&(Fe.obj_type==this.ObjectTypes.OBJ_VPN_CONFIG_CLI||Fe.obj_type==this.ObjectTypes.OBJ_VPN_CONFIG_SER)&&Fe.address&&Fe.address!==""?Ke`<span>(${Fe.address})</span>`:""}
      ${Fe.obj_type==this.ObjectTypes.OBJ_CA&&Fe._fwcCaStatus?Ke`
        <span style="margin-left: 0.3em">
          <i class="fa fa-question-circle fwcOrange" @mouseenter="${Qe=>this.appHintService.showRegisteredHint(Up.HINT_CA_CREATING,void 0,Qe)}" aria-hidden="true"></i>
        </span>`:""}
    </span>
    </div>
    </iui-contextmenu>
    `,this.applicationRef=null,this.contextMenuReference=null,this.treeExpandedNodes=new Set,this.isKeepalivedPolicy=!1,this.searchOptions={allowParent:!0,caseSensitive:!1,conditions:{value:"",operation:"[]",negative:!1}},this.isHAProxyPolicy=!1,this.customSearchOptions={callback:(Fe,Qe)=>{}},this._searchString="",this.alive=!0,this.ObjectTypes=L,this.NodeTypes=H,this.infoTooltipShown=!1,this.CACertTypes=Bf,this.HintsIds=Up,this.serviceMap={OSR:Dl.openvpn,S01:Dl.dhcp,S02:Dl.keepalived,S03:Dl.HAProxy},this.items=[],this.fwcTreePanelMenuService.forwardSelection.subscribe(Fe=>{this.onContextMenuHandler(Fe.e,Fe.panel_type)})}ngOnInit(){this.treeContextMenu=this.fwcContextMenuService.getTreeMenus(),this.nodeTranslations=this.translate.instant("NODE_TYPES"),this.store.pipe(kt(()=>this.alive),zn(Ns)).subscribe(e=>{e==="dark"?this.currentColorScheme=mi.Dark:this.currentColorScheme=mi.Light}),this.store.pipe(kt(()=>this.alive),zn(V_.selectItemToSelect),co(e=>!!e)).subscribe(e=>{this.treeFindItem(e._fwcObjId,e._fwcObjType,!0,e._fwcSubObjId,e._fwcSubObjType)}),this.options&&(this.options.container===bt.C_FIREWALLS||this.options.container===bt.C_FIREWALLS_CONDENSED)&&this.store.pipe(kt(()=>this.alive),zn(V_.selectItemUpdateFwStatus),co(e=>!!e)).subscribe(e=>{this.treeUpdateFwStatus(this.items,e)}),this.itemSelectedService.getItem().pipe(kt(()=>this.alive)).subscribe(e=>{e.container||this.treeFindItem(e._fwcObjId,e._fwcObjType,!1,e._fwcSubObjId,e._fwcSubObjType)}),this.fwcPolicyService.getSelectedPolicy().pipe(kt(()=>this.alive)).subscribe(e=>{if(this.options.container==bt.C_FIREWALLS&&e._fwcFwId!==null&&e._fwcFwId!==void 0&&!e._dontLocateInTree){let t=this.treeFindPolicyItem(this.items,e._fwcFwId,e._fwcPolicyType,e._fwcObjId);t&&(this.selectedPolicyNode=t,t!=this.treeview.nativeElement.selectedItem&&(this.treeview.nativeElement.clearSelection(),this.treeview.nativeElement.scrollTo(t),this.treeview.nativeElement.selectItems([t])))}}),this.itemSelectedService.getModifiedItem().pipe(kt(()=>this.alive)).subscribe(e=>{if(!(e.deleteFromList||e.addToList||e.selectItemInPosition)){switch(e._fwcTreeAction){case mn.NEW_ITEM:this.treeNewItem(e);break;case mn.DELETE_ITEM:this.treeDeleteItem(e);break;case mn.NEW_GROUP_ITEM:this.treeNewItem(e,!0);break;case mn.DELETE_GROUP_ITEM:this.treeDeleteItem(e,!0);break;case mn.RELOAD_TREE:(e.containerToReload===this.options.container||Array.isArray(this.items)&&this.items.length&&this.items[0].node_type===e.treeNodeToReload)&&this.treeLoad(e.treeNodeToSelect);break;case mn.MODIFY_ITEM:default:this.treeModifyItem(e);break}this.cd.detectChanges()}}),this.fwcUserService.getFwcUser().pipe(kt(()=>this.alive)).subscribe(e=>{this.fwcUser&&this.fwcUser.selectedLanguage!=e.selectedLanguage&&this.translate.use(e.selectedLanguage),this.fwcUser=e}),this.fwcObjectTreeService.getTreeChildTypes().subscribe(e=>{this.fwcChildTypes=e}),this.appHintService.registerHint({id:Up.HINT_NO_FW,caption:"HINTS.HINT_NO_FW.CAPTION",description:"HINTS.HINT_NO_FW.DESC",imageURL:"assets/img/cloud.png",target:this.hintFirstTreeElement}),this.appHintService.registerHint({id:Up.HINT_CA_CREATING,caption:"HINTS.HINT_CA_CREATING.CAPTION",description:"HINTS.HINT_CA_CREATING.DESC",imageURL:"assets/img/cloud.png",target:this.hintFirstTreeElement})}ngAfterViewInit(){let e=this;setTimeout(function(){let t=e.refService.getAppRef();e.contextMenuReference=t,e.applicationRef=t}.bind(this),1)}ngOnDestroy(){this.alive=!1}setExpandedNodes(e,t){let r;e.detail&&(r=e.detail.item,t?this.treeExpandedNodes.add(r.id):this.treeExpandedNodes.delete(r.id))}treeLoad(e,t){let r=this.fwcUserService.getActualFwSelectedCloud();this.items.length=0,this.options.container==bt.C_FIREWALLS||this.options.container==bt.C_FIREWALLS_CONDENSED?(this.store.dispatch(Ei.requestBlockUI()),Promise.all([this.getTree(this.options),this.getAllFirewalls()]).then(([o,s])=>{let a,l,c=o.data;c.text=" ",c.expanded=!0,this.items.push(c),this.treeview.nativeElement.updateLayout(),this.treeClusters=[],a=Array.isArray(s.data)?s.data:[];for(let d=0;d<a.length;d++)if(a[d].cluster!==void 0&&a[d].cluster!==null){l=!1;for(let p=0;p<this.treeClusters.length;p++)a[d].cluster==this.treeClusters[p].clusterId&&(this.treeClusters[p].fwnodes.push(a[d]),a[d].fwmaster&&(this.treeClusters[p].fwMasterId=a[d].id),l=!0);if(!l){let p=this.treeClusters.push({clusterId:a[d].cluster,fwnodes:[]});a[d].fwmaster&&(this.treeClusters[p-1].fwMasterId=a[d].id),this.treeClusters[p-1].fwnodes.push(a[d])}}this.buildTree(e,t),this.cd.detectChanges(),this.store.dispatch(Ei.requestUnblockUI()),setTimeout(()=>{this.options.container==bt.C_FIREWALLS&&Array.isArray(this.items)&&this.items.length&&Array.isArray(this.items[0].items)&&!this.items[0].items.length&&(this.appHintService.showRegisteredHint(Up.HINT_NO_FW,this.hintFirstTreeElement),this.hintFirstTreeElement&&this.appHintService.setHintElement(this.hintFirstTreeElement))},500)}).catch(o=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(o)}),this.store.dispatch(Ei.requestUnblockUI())}),this.cd.detectChanges()):this.options.container==bt.C_CA?(this.store.dispatch(Ei.requestBlockUI()),this.fwcObjectTreeService.getTree(this.options,r).subscribe({next:o=>{let s=o.data;s.text=" ",s.expanded=!0,this.items.push(s),this.treeview.nativeElement.updateLayout(),this.buildTree(e,t),this.store.dispatch(Ei.requestUnblockUI())},error:o=>{this.errorMessage=o,this.store.dispatch(Ei.requestUnblockUI())}}),this.cd.detectChanges()):(this.store.dispatch(Ei.requestBlockUI()),this.fwcObjectTreeService.getTree(this.options,r).subscribe({next:o=>{let s;if(o.data.length>1){s=o.data;for(let a=0;a<s.length;a++)s[a].text=this.nodeTranslations+"."+s[a].node_type,s[a].expanded=!0,this.reorderTreeStdNodes(s[a]),this.items.push(s[a]),this.treeview.nativeElement.updateLayout()}else s=o.data,s.text=" ",s.expanded=!0,this.reorderTreeStdNodes(s),this.items.push(s),this.treeview.nativeElement.updateLayout();this.buildTree(e,t),this.store.dispatch(Ei.requestUnblockUI())},error:o=>{this.errorMessage=o,this.store.dispatch(Ei.requestUnblockUI())}}),this.cd.detectChanges())}getTree(e){return new Promise((r,o)=>{let s=this.fwcUserService.getActualFwcUser(),a=-1;s.selectedFwCloud!==null&&s.selectedFwCloud!==void 0&&(a=s.selectedFwCloud),this.fwcObjectTreeService.getTree(e,a).subscribe({next:l=>{r(l)},error:l=>{o(l)}})})}getAllFirewalls(){return new Promise((t,r)=>{let o=this.fwcUserService.getActualFwSelectedCloud();this.fwcFirewallService.getFirewallsByCloud(o).subscribe(s=>{t(s)},s=>{r(s)})})}reorderTreeStdNodes(e){}buildTree(e,t){if(this.treePrepare(this.items),this.treeview.nativeElement.updateLayout(),this.selectedPolicyNode&&(this.selectedPolicyNode=this.findItemByIdType(this.items,this.selectedPolicyNode._fwcObjId,this.selectedPolicyNode._fwcObjType),e||(e=this.selectedPolicyNode)),e){let r=this.items[0];this.options.container==e.container&&(t?e._fwcObjTreeParentId!==void 0?r=this.treeview.nativeElement.findItemById(e._fwcObjTreeParentId):e.pid!==void 0&&(r=this.treeview.nativeElement.findItemById(e.pid)):e._fwcObjTreeId!==void 0?r=this.treeview.nativeElement.findItemById(e._fwcObjTreeId):e._fwcObjId!==void 0&&e._fwcObjType!==void 0&&(r=this.findItemByIdType(this.items,e._fwcObjId,e._fwcObjType))),r&&(this.treeview.nativeElement.scrollTo(r),this.treeview.nativeElement.expand(r),this.treeview.nativeElement.selectItems([r]),$c.findIndex(o=>r.node_type==o)!=-1&&(this.selectedPolicyNode=r),this.treeview.nativeElement.updateView(),this.itemSelectedService.setSelectedTreeNode(r))}this.treeview.nativeElement.updateLayout()}treePrepare(e,t){let r=t||{};for(let o=0;o<e.length;o++){let s=e[o],a,l,c,d,p=[],g=[],C=[],y=[],v,w,E,T;if(s.node_type==H.CONTINENT&&(l=s.text,s.text=this.nodeTranslations[s.text]),s.node_type==H.COUNTRIE&&(l=s.text,s.text=this.translate.instant("COUNTRIES."+s.text)),this.nodeTranslations[s.node_type]&&!s.id_obj&&(s.text=this.nodeTranslations[s.node_type]),this.options.container===bt.C_FIREWALLS_CONDENSED&&(s.node_type===H.OBJ_FIREWALL||s.node_type===H.OBJ_CLUSTER))for(let F=0;F<s.items.length;F++)s.items[F].node_type!=H.OPENVPN_ROOT&&(s.items.splice(F,1),F=F-1);if($c.findIndex(F=>F==s.node_type)!=-1&&(s.obj_type=+Si[s.node_type]),hV.findIndex(F=>F===s.node_type)!=-1&&(s.show_action=!0),p=r.fw_status,g=r.ca_status,C=r.openvpn_status,y=r.openvpn_info,this.treeExpandedNodes.has(s.id)&&(s.expanded=!0),s.container=this.options.container,s.containerReadOnly=this.options.containerReadOnly,s.obj_type==L.OBJ_INTERFACE_FIREWALL||s.obj_type==L.OBJ_INTERFACE_HOST){let F=/(.+)\s+\[(.+)\]$/.exec(s.text);s.labelName="",F&&(s.text=F[1],s.labelName=F[2])}if(s.obj_type==L.OBJ_ADDRESS){let F=/^(.+)\s+\((.+)\)$/.exec(s.text);F&&s.address&&s.address===F[2]&&(s.text=F[1])}if(s._fwcObjName=s.text,s._fwcObjType=s.obj_type,s._fwcObjId=s.id_obj,r.prefix_name!==void 0&&r.prefix_name!==null&&(s._fwcObjName=r.prefix_name+s.text),(s.obj_type==L.OBJ_PREFIX_FOLDER||s.obj_type==L.OBJ_OPENVPN_PREFIX)&&(T=s.text,E=r.parent_cert_name),r.parent_cert_name!==void 0&&r.parent_cert_name!==null&&(s._fwcParentConfigName=r.parent_cert_name),s.obj_type==L.OBJ_VPN_CONFIG_SER&&(E=s._fwcObjName),s.container===bt.C_FIREWALLS||s.container===bt.C_OBJECTS||s.container===bt.C_FIREWALLS_CONDENSED?(r.parent_id&&(a=r.parent_id,l=r.parent_name,c=r.parent_type,d=r.fw_master,r.parent_type===L.OBJ_FIREWALL&&(s._fwcFwId=a,s._fwcFwName=l,s.firewall_id=a,s.firewall_name=l),r.parent_type===L.OBJ_CLUSTER&&(s._fwcClusterId=a,s._fwcClusterName=l,s.cluster_id=a,s.cluster_name=l),r.parent_type===L.OBJ_HOST&&(s._fwcHostId=a,s._fwcHostName=l,s.host_id=a,s.host_name=l)),r.openvpn_id&&(s._fwcOpenVPNId=r.openvpn_id),s.fw_status&&s.fw_status.length&&(p=s.fw_status),s.openvpn_status&&s.openvpn_status.length&&(C=s.openvpn_status),s.openvpn_info&&s.openvpn_info.length&&(y=s.openvpn_info),(s.node_type===H.OBJ_FIREWALL||s.node_type===H.OBJ_CLUSTER||s.node_type===H.OBJ_HOST)&&(a=s.id_obj,l=s.text,c=s.obj_type,s.node_type==H.OBJ_FIREWALL&&(s._fwcFwId=a,s._fwcFwName=l,this.updateFwNodeStatus(s,p)),s.node_type==H.OBJ_CLUSTER&&this.updateClusterNodeStatus(s,p)),(s.obj_type===L.OBJ_VPN_CONFIG_CLI||s.obj_type===L.OBJ_VPN_CONFIG_SER)&&this.updateOPVNStatus(s,C),s.obj_type===L.OBJ_VPN_CONFIG_CLI&&this.updateOPVNInfo(s,y),(s.node_type===H.FOLDER_INTERFACES||s.node_type===H.FOLDER_CLUSTER_FW||s.node_type===H.FOLDER_ROUTING)&&s._fwcClusterId&&(d=s.id_obj),s.parent_id=a,s.parent_name=l,s.parent_type=c,d&&(s._fwcFwId=d),s.node_type===H.OPENVPN_CONFIG_SER&&(s.items=s.items.sort((F,G)=>F.text>G.text?1:-1),w=s.id_obj),s.node_type===H.OPENVPN_PREFIX&&(s.items=s.items.sort((F,G)=>F.text>G.text?1:-1),w=s._fwcOpenVPNId)):s.container===bt.C_CA&&(s.ca_status&&s.ca_status.length&&(g=s.ca_status),s.obj_type==L.OBJ_CA&&(v=s.id_obj),s.obj_type==L.OBJ_PREFIX_FOLDER&&(v=r.ca_id),r.ca_id&&(s._fwcParentCA=r.ca_id),s.obj_type==L.OBJ_CA&&this.updateCAStatus(s,g)),s.expanded=!!s.expanded,s.allowDrag=this.checkItemDraggable(s),$c.findIndex(F=>s.node_type==F)!=-1&&(s._fwcPolicyFwId=s.id_obj),s.items&&s.items.length){let F={fw_status:p,parent_id:a,parent_name:l,parent_type:c,fw_master:d,ca_status:g,openvpn_status:C,openvpn_info:y,ca_id:v,openvpn_id:w,prefix_name:T,parent_cert_name:E};this.treePrepare(s.items,F)}}this.isKeepalivedPolicy&&e.filter(s=>s.parent_type===L.OBJ_FIREWALL&&s.cluster_id&&s.node_type===H.OBJ_FIREWALL).forEach(s=>{s.allowDrag=!0})}checkItemDraggable(e){let t;if(e)return e._fwcObjId===null||e._fwcObjType===null||pV.findIndex(r=>e.node_type==r)!=-1||e.obj_type===L.OBJ_FIREWALL&&e._fwcClusterId!==null&&e._fwcClusterId!==void 0?t=!1:t=!0,t}updateFwNodeStatus(e,t){let r,o;if(Array.isArray(t))for(let s=0;s<t.length;s++){let a=t[s];a&&(a.id==e.id_obj&&(r=a),e._fwcClusterId!==null&&e._fwcClusterId!==void 0&&a.cluster==e._fwcClusterId&&(o={clusterId:a.cluster,status_compiled:0,status_installed:a.status&2?1:0}))}r&&(e.status_compiled=r.status&1?1:0,e.status_installed=r.status&2?1:0),o&&e._fwcClusterId!==null&&e._fwcClusterId!==void 0&&e._fwcClusterId==o.clusterId&&(e.status_compiled=0,e.status_installed=o.status_installed)}updateClusterNodeStatus(e,t){let r,o,s=0;if(e){for(let a=0;a<this.treeClusters.length;a++)if(this.treeClusters[a].clusterId==e.id_obj){o=this.treeClusters[a];break}if(Array.isArray(t))for(let a=0;a<t.length;a++){let l=t[a];l&&l.cluster==e.id_obj&&(r=l,o&&o.clusterId==r.cluster&&(o.fwMasterId==r.id&&(e.status_compiled=r.status&1?1:0),r.status&2&&(s=1)))}e.status_installed=s}}updateCAStatus(e,t){let r;if(e){if(Array.isArray(t)){for(let o=0;o<t.length;o++)if(t[o]&&e.id_obj==t[o].id&&t[o].status){r=1;break}}e._fwcCaStatus=r}}updateOPVNInfo(e,t){if(!(!e||!Array.isArray(t)))for(let r=0;r<t.length;r++)t[r]&&e.id_obj==t[r].openvpn&&(e.openvpn_disabled=!!t[r].openvpn_disabled)}updateOPVNStatus(e,t){let r;if(!(!e||!Array.isArray(t))){for(let o=0;o<t.length;o++)if(t[o]&&e.id_obj==t[o].id&&t[o].status){r=1;break}e._fwcOpenvpnStatus=r}}treeFindItem(e,t,r,o,s){return N(this,null,function*(){let a=this.findItemByIdType(this.items,e,t,o,s);a&&(r&&this.parentFwcTreePanelComponent&&!this.parentFwcTreePanelComponent.expanded&&(yield this.parentFwcTreePanelComponent.togglePanel()),this.treeview.nativeElement.clearSelection(),this.treeview.nativeElement.scrollTo(a),this.treeview.nativeElement.selectItems([a]),this.treeview.nativeElement.updateLayout())})}treeFindPolicyItem(e,t,r,o){let s=null;for(let a=0;a<e.length&&!s;a++){let l=e[a];r!==Mr.ROUTING_TABLE&&l._fwcPolicyFwId==t&&l._fwcObjType==r||l.node_type===H.ROUTING_TABLE&&l._fwcFwId===t&&l._fwcObjId===o?s=l:r===Si[H.DHCP]||r===Si[H.DHCP_FIXED_IP]||r===Si[H.KEEPALIVED]||r===Si[H.HAPROXY]?(o=void 0,s=this.treeFindPolicyItem(l.items,t,r,o)):l.items&&l.items.length&&(s=this.treeFindPolicyItem(l.items,t,r,o))}return s}findItemsByIdType(e,t,r,o,s){let a=[],l;for(let c=0;c<e.length;c++)if(e[c]._fwcObjId==t&&e[c]._fwcObjType==r&&e[c].node_type!=H.FOLDER_INTERFACES)if(l=e[c],o&&l.items){let d=this.findItemsByIdType(l.items,o,s);d&&d.length&&(a=a.concat(d))}else a=a.concat(l);else e[c].items&&e[c].items.length&&(a=a.concat(this.findItemsByIdType(e[c].items,t,r,o,s)));return a}findItemByIdType(e,t,r,o,s){let a=null;for(let l=0;l<e.length&&!a;l++)if(e[l]._fwcObjId==t&&e[l]._fwcObjType==r){if(a=e[l],o&&a.items){let c=this.findItemByIdType(a.items,o,s);c&&(a=c)}}else e[l].items&&e[l].items.length&&(a=this.findItemByIdType(e[l].items,t,r,o,s));return a}treeFindNode(e,t,r){let o;return e==this.options.container&&(o=this.findItemByIdType(this.items,t,r)),o}treeModifyItem(e){if(this.items&&this.items.length&&e.id!==null&&e.id!==void 0&&e.type!==null&&e.type!==void 0||e.node_id!==null&&e.node_id!==void 0){let t=[];if(e.node_id){let r=this.treeview.nativeElement.findItemById(e.node_id);r&&t.push(r)}else t=this.findItemsByIdType(this.items,e.id,+e.type);if(t&&t.length)for(let r of t){let o=""+r.type,s=r.id;for(let a of Object.keys(r))e[a]!==void 0&&(r[a]=e[a]);r.type=o,r.id=s,e.address&&e.if_id?(r.if_id=e.if_id,r.address=e.address,r.text=e.name,r._fwcObjName=`${e.name} (${e.address})`,r.text=r._fwcObjName):r._fwcObjName=r.text=e.name,this.treeview.nativeElement.updateLayout()}}}treeNewItem(e,t){if(e.container==this.options.container)if(t){let r=this.treeview.nativeElement.findItemById(e._fwcObjTreeParentId);if(r){let o=r.items?r.items:[];e.items=[],this.treeview.nativeElement.insertItemAt(e,o.length,r),this.treeview.nativeElement.expand(r),this.treeview.nativeElement.updateLayout()}}else this.treeLoad(e,t);else this.options.container==bt.C_FIREWALLS&&e.fw_status&&e.fw_status.length&&this.treeLoad(e,t)}treeDeleteItem(e,t){if(e.container==this.options.container)if(t){let r=this.treeview.nativeElement.findItemById(e._fwcObjTreeParentId);if(r){let s=(r.items?r.items:[]).findIndex(a=>a._fwcObjId==e._fwcObjId&&a._fwcObjType==e._fwcObjType);s!=-1&&(this.treeview.nativeElement.removeItemAt(s,r),this.treeview.nativeElement.selectItems([r]),this.treeview.nativeElement.updateLayout())}}else this.treeLoad(e,t);else this.options.container==bt.C_FIREWALLS&&e.fw_status&&e.fw_status.length&&this.treeLoad(e,!0)}treeFilter(){this._searchString&&this._searchString.length?(this.searchOptions.conditions.value=this._searchString,this.treeview.nativeElement.filter(this.searchOptions)):this.treeview.nativeElement.filter()}treeFilterByOptions(){let e,t,r=s=>Number(s.split(".").map(a=>("000"+a).substr(-3)).join("")),o={callback:(s,a)=>{let l=!1,c=this._treeSearchOptions.searchFields,d=[a];for(;d&&d.length&&!l;){let p=d.shift();if(c.find(g=>g===hC.OBJECT_NAME)&&p.text&&(l=p.text.toLowerCase().includes(this._treeSearchOptions.keyword.toLowerCase())),!l&&c.find(g=>g===hC.TCP_UDP_PORT)&&(p.source_port_start||p.source_port_end||p.destination_port_start||p.destination_port_end)){let g=parseInt(this._treeSearchOptions.keyword);g!=null&&(l=g>=p.source_port_start&&g<=p.source_port_end||g>=p.destination_port_start&&g<=p.destination_port_end)}if(!l&&c.find(g=>g===hC.IP_ADDRESS)&&(p.address||p.range_start||p.range_end)&&(p.address?l=p.address.includes(this._treeSearchOptions.keyword):p.range_start&&p.range_end&&(l=oW.isValid(this._treeSearchOptions.keyword)&&r(this._treeSearchOptions.keyword)>=r(p.range_start)&&r(this._treeSearchOptions.keyword)<=r(p.range_end))),l){let g=this.treeview.nativeElement.getItemParent(p);for(;g;)g.expanded=!0,g=this.treeview.nativeElement.getItemParent(g)}Array.isArray(p.items)&&d.push(...p.items)}return l}};if(this.treeview.nativeElement.suspendLayout(),this._treeSearchOptions&&this._treeSearchOptions.keyword)this.treeview.nativeElement.filter(o);else if(this.treeview.nativeElement.filter(),Array.isArray(this.treeview.nativeElement.items)&&this.treeview.nativeElement.items.length){this.treeview.nativeElement.collapse();let s=this.treeview.nativeElement.getFullList();for(let a=0;a<s.length;a++){let l=s[a];l.expanded=a===0||this.treeExpandedNodes.has(l.id)}}this.treeview.nativeElement.resumeLayout(),Array.isArray(this.treeview.nativeElement.items)&&this.treeview.nativeElement.items.length&&this.treeview.nativeElement.scrollTo(this.treeview.nativeElement.items[0])}treeUpdateFwStatus(e,t){let r=null;for(let o=0;o<e.length;o++){let s=e[o];s.node_type==H.OBJ_FIREWALL&&this.updateFwNodeStatus(s,t),s.node_type==H.OBJ_CLUSTER&&this.updateClusterNodeStatus(s,t),s.items&&s.items.length&&(r=this.treeUpdateFwStatus(s.items,t))}return r}onContextMenuLoad(e){let t=this.treeview.nativeElement.selectedItem;if(!t||this.options.container==bt.C_FIREWALLS_CONDENSED&&t.node_type!=H.OPENVPN_CONFIG_SER&&t.node_type!=H.OPENVPN_CONFIG_CLI&&t.node_type!=H.OPENVPN_PREFIX||t.node_type==H.OBJ_FIREWALL&&t._fwcClusterId){e.detail.cancel=!0;return}let r=t._fwcObjId!==null&&t._fwcObjId!==void 0,o=t.fwcloud!==null&&t.fwcloud!==void 0,s,a,l=t.items.length,c=!t._fwcOpenvpnStatus,d=t.obj_type==L.OBJ_VPN_CONFIG_CLI&&t.openvpn_disabled&&c;a=this.treeview.nativeElement.getItemParent(t),s=!!(a&&(a.obj_type==L.OBJ_GROUP||a.obj_type==L.OBJ_SERVICE_GROUP)&&a.id_obj);let p=this.treeContextMenu[t.node_type];p&&p.items?p.items.forEach(g=>{g.type!=="separator"&&(g.id==U.FOLDER_EXPAND?g.visible=!!(!t.expanded&&l):g.id==U.FOLDER_COLLAPSE?g.visible=!!(t.expanded&&l):g.id==U.VPN_CONFIG_BLOCK&&d||g.id==U.VPN_CONFIG_UNBLOCK&&!d||g.userObject&&!o||g.objectInGroup&&!s||g.objectInGroup===!1&&s||g.clusterNode&&!t._fwcClusterId||g.clusterNode===!1&&t._fwcClusterId||g.onlyOnNodeType&&g.onlyOnNodeType!=t.node_type||g.onlyIfConfigInstalled&&!c?g.visible=!1:g.visible=!!(g.finalObject&&r||!g.finalObject&&!r),g.disableOnCACreation&&t._fwcCaStatus?g.enabled=!1:g.enabled=!0)}):e.detail.cancel=!0}onContextMenuHandler(e,t){return N(this,null,function*(){if(e.detail.item){let r=this.treeview.nativeElement.selectedItem;if(t&&(e.detail.item.id==U.TREE_RELOAD||e.detail.item.id==U.TREE_REPAIR)){if(this.parentFwcTreePanelComponent.panel_type!=t)return}else{if(!r)return;r._fwcUserId=this.fwcUser.user_id}switch(e.detail.item.id){case U.WHERE_USED:let o=Object.assign({},r);o._fwcUserId=this.fwcUser.user_id,o._fwcCloud=this.fwcUser.selectedFwCloud,o.whereUsedAction=!0,this.itemSelectedService.setItem(o);break;case U.FOLDER_EXPAND:this.treeview.nativeElement.expand(r);break;case U.FOLDER_COLLAPSE:this.treeview.nativeElement.collapse(r);break;case U.TREE_RELOAD:this.treeLoad(),this.cd.detectChanges();break;case U.TREE_REPAIR:{let je=t||r.node_type,Le={tree_name:this.translate.instant("NODE_TYPES."+je).toLowerCase()},xe=vo(),it={channelId:xe,headerIcon:"fa fa-3x fa-wrench fwcBlue",textHeader:this.translate.instant("TREE_REPAIR_PANEL.HEADER",Le),textMessage:this.translate.instant("TREE_REPAIR_PANEL.TEXT"),apiCall:this.fwcObjectTreeService.repairTree.bind(this.fwcObjectTreeService),apiParams:[je,this.fwcUserService.getActualFwSelectedCloud(),xe],onClose:Rt=>{Rt&&!Rt.error?(this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:this.translate.instant("TREE_REPAIR_PANEL.REPAIR_OK")}),this.treeLoad()):this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.translate.instant("TREE_REPAIR_PANEL.REPAIR_ERRORS")})}},Dt=this.utilService.createDynamicComponentRef(Ia),Ht=Dt.instance;Ht.setDynamicComponentRef(Dt),this.communicationSubscription=Ht.socketEventEmitter.subscribe(Rt=>{Rt=="connected"&&this.appDialogPanelsService.searchAndShowDialog({uuid:Ai.BLOCK_UI_PANEL,data:it}),this.communicationSubscription.unsubscribe()}),Ht.checkConnection();break}case U.FIREWALL_IMPORT:{let je=this.utilService.createDynamicComponentRef(rW),Le=je.instance;Le.setDynamicComponentRef(je),Le.displayDialog=!0;break}case U.NGFW:r.ngfw=!0,this.itemSelectedService.setItem(r);break;case U.PLUGINS:r.plugins=!0,this.itemSelectedService.setItem(r);break;case U.FIREWALL_EDIT:r.ngfw=!1,this.itemSelectedService.setItem(r);break;case U.NODE_EDIT:this.itemSelectedService.setItem(r);break;case U.POLICY_LOAD:this.actionLoadPolicy(r);break;case U.FIREWALL_NEW:let s={id_obj:null,obj_type:L.OBJ_FIREWALL,_fwcObjType:L.OBJ_FIREWALL,node_id:r.id};this.itemSelectedService.setItem(s);break;case U.FIREWALL_DELETE:let a=Object.assign({},r);a.deleteAction=!0,this.itemSelectedService.setItem(a);break;case U.NODE_DELETE:let l=Object.assign({},r);l.deleteAction=!0,this.itemSelectedService.setItem(l);break;case U.FIREWALL_COMPILE:case U.FIREWALL_INSTALL:let c;c={compileAction:e.detail.item.id===U.FIREWALL_INSTALL?Kr.COMP_INSTALL:Kr.COMP_COMPILE,compileWhat:r._fwcObjType===L.OBJ_FIREWALL?Kr.COMP_FIREWALL:Kr.COMP_CLUSTER,compileId:r._fwcObjId,compileType:r._fwcObjType},this.itemSelectedService.setCloudToCompile(c);break;case U.POLICY_PANEL_SHOW:let d=this.utilService.createDynamicComponentRef(rk),p=d.instance;p.setDynamicComponentRef(d),p.show(r._fwcObjId);break;case U.POLICY_PANEL_DOWNLOAD:let g=this.utilService.createDynamicComponentRef(rk),C=g.instance;C.setDynamicComponentRef(g),C.downloadPolicyScript(r._fwcObjId);break;case U.FIREWALL_COMPILE_ALL:this.itemSelectedService.setCloudToCompile({compileAction:Kr.COMP_COMPILE,compileWhat:Kr.COMP_CLOUD,compileId:this.fwcUserService.getActualFwSelectedCloud()});break;case U.FIREWALL_INSTALL_ALL:this.itemSelectedService.setCloudToCompile({compileAction:Kr.COMP_INSTALL,compileWhat:Kr.COMP_CLOUD,compileId:this.fwcUserService.getActualFwSelectedCloud()});break;case U.FIREWALL_CLONE:let y={header:this.translate.instant("TREE.FW_CLONE.HEADER",{name:r._fwcObjName}),helpText:this.translate.instant("TREE.FW_CLONE.TEXT"),formControls:[{name:"firewall",type:"hidden",value:r._fwcObjId},{name:"type",type:"hidden",value:r._fwcObjType},{name:"fwcloud",type:"hidden",value:this.fwcUserService.getActualFwSelectedCloud()},{name:"node_id",type:"hidden",value:r.pid},{name:"name",label:this.translate.instant("TREE.FW_CLONE.NAME"),type:"text",required:!0,value:`${r._fwcObjName}_CLONE`},{name:"comment",label:this.translate.instant("TREE.FW_CLONE.COMMENT"),type:"textarea",value:""}],onAccept:this.processInputDialogData.bind(this)};this.inputDataService.setInputData(y);break;case U.FIREWALL_TO_CLUSTER:this.confirmationService.confirm({header:this.translate.instant("TREE.MSG_CONFIRM_OP"),icon:"fa fa-question-circle fwcBlue iconBig",message:this.translate.instant("TREE.MSG_FW_TO_CLUSTER_1",{name:r._fwcObjName}),rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES"),accept:()=>{let je={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),firewall:r._fwcObjId,node_id:r.pid};this.utilService.fwcAPICall(this.fwcFirewallService.convertFwToCluster.bind(this.fwcFirewallService),je).then(Le=>{let xe={},it=Le.data.insertId;xe.id=xe.id_obj=xe._fwcObjId=it,xe._fwcObjType=L.OBJ_CLUSTER,xe._fwcTreeAction=mn.NEW_ITEM,xe.container=bt.C_FIREWALLS,this.treeNewItem(xe);let Dt={_fwcFwId:null},Ht=this.fwcPolicyService.getActualSelectedPolicy();this.fwcPolicyService.setSelectedPolicy(Dt),this.itemSelectedService.hideObjectPanel(),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:this.translate.instant("TREE.MSG_FW_TO_CLUSTER_OK_1",{name:r._fwcObjName})})}).catch(Le=>{Le.error.fwcErr==8001||Le.error.fwcErr==8002?this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),icon:"fa fa-exclamation-circle fwcRed iconBig",message:this.translate.instant("API_ERROR."+Le.error.fwcErr),rejectVisible:!1,acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.OK"),accept:()=>{}}):this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),detail:this.fwcErrorPipe.transform(Le)})})}});break;case U.FIREWALL_IPTABLES_IMPORT:case U.FIREWALL_IPTABLES_EXPORT:let v=this.translate.instant("PANELS.IPTABLES_SAVE.TITLE_IMPORT"),w={operation:ds.IMPORT,objId:r._fwcObjId,objType:r._fwcObjType,objName:r._fwcObjName};e.detail.item.id===U.FIREWALL_IPTABLES_EXPORT&&(w.operation=ds.EXPORT,v=this.translate.instant("PANELS.IPTABLES_SAVE.TITLE_EXPORT")),this.dialogService.open(uS,{showHeader:!0,header:v,closable:!1,closeOnEscape:!1,data:w,styleClass:"custom-dialog"}).onClose.pipe(kt(()=>this.alive)).subscribe(je=>{});break;case U.FOLDER_NEW:let T={header:this.translate.instant("TREE.FOLDER.HEADER_NEW"),helpText:this.translate.instant("TREE.FOLDER.TEXT_NEW"),formControls:[{name:"id_parent",type:"hidden",value:r.id},{name:"fwcloud",type:"hidden",value:this.fwcUserService.getActualFwSelectedCloud()},{name:"folder_name",label:this.translate.instant("TREE.FOLDER.NAME"),type:"text",required:!0,value:""}],onAccept:this.processInputDialogData.bind(this)};this.inputDataService.setInputData(T);break;case U.FOLDER_DELETE:if(r.node_type==H.FOLDER)if(r.items&&r.items.length)this.confirmationService.confirm({header:"Error",icon:"pi pi-exclamation-triangle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:this.translate.instant("TREE.MSG_FOLDER_NOT_EMPTY_ERROR")});else{let je={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),id:r.id};this.utilService.fwcAPICall(this.fwcObjectTreeService.deleteFolder.bind(this.fwcObjectTreeService),je).then(Le=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("TREE.FOLDER.SUCCESS_DELETE")}),this.treeLoad()}).catch(Le=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(Le)})})}break;case U.FOLDER_RENAME:let F={header:this.translate.instant("TREE.FOLDER.HEADER_RENAME",{name:r._fwcObjName}),helpText:this.translate.instant("TREE.FOLDER.TEXT_RENAME"),formControls:[{name:"id",type:"hidden",value:r.id},{name:"old_name",type:"hidden",value:r._fwcObjName},{name:"fwcloud",type:"hidden",value:this.fwcUserService.getActualFwSelectedCloud()},{name:"folder_newname",label:this.translate.instant("TREE.FOLDER.NAME"),type:"text",required:!0,value:""}],onAccept:this.processInputDialogData.bind(this)};this.inputDataService.setInputData(F);break;case U.CLUSTER_NEW:let G={id_obj:null,obj_type:L.OBJ_CLUSTER,_fwcObjType:L.OBJ_CLUSTER,node_id:r.id};this.itemSelectedService.setItem(G);break;case U.NGFW:r.ngfw=!0,this.itemSelectedService.setItem(r);break;case U.PLUGINS:r.plugins=!0,this.itemSelectedService.setItem(r);break;case U.CLUSTER_EDIT:r.ngfw=!1,this.itemSelectedService.setItem(r);break;case U.CLUSTER_DELETE:let z=Object.assign({},r);z.deleteAction=!0,this.itemSelectedService.setItem(z);break;case U.CLUSTER_COMPILE_ALL:this.itemSelectedService.setCloudToCompile({compileAction:Kr.COMP_COMPILE,compileWhat:Kr.COMP_CLUSTERS_ALL,compileId:void 0});break;case U.CLUSTER_CLONE:let X={header:this.translate.instant("TREE.CL_CLONE.HEADER",{name:r._fwcObjName}),helpText:this.translate.instant("TREE.CL_CLONE.TEXT"),formControls:[{name:"cluster",type:"hidden",value:r._fwcObjId},{name:"type",type:"hidden",value:r._fwcObjType},{name:"fwcloud",type:"hidden",value:this.fwcUserService.getActualFwSelectedCloud()},{name:"node_id",type:"hidden",value:r.pid},{name:"name",label:this.translate.instant("TREE.CL_CLONE.NAME"),type:"text",required:!0,value:`${r._fwcObjName}_CLONE`},{name:"comment",label:this.translate.instant("TREE.CL_CLONE.COMMENT"),type:"textarea",value:""}],onAccept:this.processInputDialogData.bind(this)};this.inputDataService.setInputData(X);break;case U.CLUSTER_TO_FIREWALL:this.confirmationService.confirm({header:this.translate.instant("TREE.MSG_CONFIRM_OP"),icon:"fa fa-question-circle fwcBlue iconBig",message:this.translate.instant("TREE.MSG_CLUSTER_TO_FW_1",{name:r._fwcObjName}),rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES"),accept:()=>{let je={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),cluster:r._fwcObjId,node_id:r.pid};this.utilService.fwcAPICall(this.fwcFirewallService.convertClusterToFw.bind(this.fwcFirewallService),je).then(Le=>{let xe={},it=Le.data.insertId;xe.id=xe.id_obj=xe._fwcObjId=it,xe._fwcObjType=L.OBJ_FIREWALL,xe._fwcTreeAction=mn.NEW_ITEM,xe.container=bt.C_FIREWALLS,this.treeNewItem(xe);let Dt={_fwcFwId:null},Ht=this.fwcPolicyService.getActualSelectedPolicy();this.fwcPolicyService.setSelectedPolicy(Dt),this.itemSelectedService.hideObjectPanel(),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:this.translate.instant("TREE.MSG_CLUSTER_TO_FW_OK_1",{name:r._fwcObjName})})}).catch(Le=>{Le.error.fwcErr==8001||Le.error.fwcErr==8002?this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),icon:"fa fa-exclamation-circle fwcRed iconBig",message:this.translate.instant("API_ERROR."+Le.error.fwcErr),rejectVisible:!1,acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.OK"),accept:()=>{}}):this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),detail:this.fwcErrorPipe.transform(Le)})})}});break;case U.NEW_INTERFACE:if(r._fwcFwId&&r._fwcObjType==L.OBJ_INTERFACE_FIREWALL||r._fwcClusterId&&r._fwcObjType==L.OBJ_INTERFACE_FIREWALL||r._fwcObjId&&!r._fwcFwId&&r._fwcObjType==L.OBJ_HOST){let je,Le;r._fwcObjType==L.OBJ_INTERFACE_FIREWALL?Le=L.OBJ_INTERFACE_FIREWALL:Le=L.OBJ_INTERFACE_HOST;let xe=this.fwcChildTypes.data.filter(function(yi){return yi.id_node==r.node_type}),it,Dt=r._fwcObjId!==null&&r._fwcObjId!==void 0;if(xe.forEach(yi=>{(yi.is_object&&Dt||!yi.is_object&&!Dt)&&(it=yi)}),!it){this.confirmationService.confirm({header:"Error",icon:"pi pi-exclamation-triangle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:this.translate.instant("TREE.MSG_ADD_IF_ERROR")});return}let Ht,Rt,Ci;r.parent_type===L.OBJ_FIREWALL&&(Ht=r.parent_id),r.parent_type===L.OBJ_CLUSTER&&(Ht=r._fwcFwId,Rt=r.parent_id),r.parent_type===L.OBJ_HOST&&(Ci=r.parent_id);let Ti;Rt&&Ht?Ti="CLUSTER "+Rt+", MASTER FIREWALL: "+Ht:Ci?Ti="HOST "+Ci:Ti="FIREWALL "+Ht,je={node_parent:r.id,node_order:1,node_type:it.node_type,host:Ci,firewall:Ht,cluster:Rt,interface_type:Le,_fwcObjId:void 0,_fwcObjType:Le,fwcloud:this.fwcUser.selectedFwCloud,_fwcUserId:this.fwcUser.user_id,container:this.options.container,containerReadOnly:!0,parent_id:r.parent_id,parent_name:r.parent_name,parent_type:r.parent_type},this.itemSelectedService.setItem(je)}else this.confirmationService.confirm({header:"Error",icon:"pi pi-exclamation-triangle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:this.translate.instant("TREE.MSG_ADD_IF_ERROR")});break;case U.NEW_ADDRESS:case U.NEW_GROUP:case U.NEW_NETWORK:case U.NEW_IP_RANGE:case U.NEW_HOST:case U.NEW_IP_SERVICE:case U.NEW_ICMP_SERVICE:case U.NEW_TCP_SERVICE:case U.NEW_UDP_SERVICE:case U.NEW_SERVICE_GROUP:case U.NEW_DNS:let ne,Y="",se=this.fwcChildTypes.data.filter(je=>je.id_node==r.node_type),ye,Ce=r._fwcObjId!==null&&r._fwcObjId!==void 0;if(se.forEach(je=>{(je.is_object&&Ce||!je.is_object&&!Ce)&&(ye=je)}),!ye){this.confirmationService.confirm({header:"Error",icon:"pi pi-exclamation-triangle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:this.translate.instant("TREE.MSG_ADD_OBJ_ERROR")});return}let we=r._fwcObjType,Be,Fe;if(e.detail.item.id==U.NEW_ADDRESS&&(r._fwcObjType==L.OBJ_INTERFACE_FIREWALL||r._fwcObjType==L.OBJ_INTERFACE_HOST)){we=L.OBJ_ADDRESS,Be=r._fwcObjId,Fe=r._fwcObjType;let je=-1,Le=r._fwcFwName,xe=r._fwcObjName,it=`^${xe}$`,Dt=new RegExp(it,"g"),Ht=`^${xe}:(\\d+)$`,Rt=new RegExp(Ht,"g");if(r._fwcClusterName&&r._fwcClusterName.length&&(Le=r._fwcClusterName),r._fwcHostName&&r._fwcHostName.length&&(Le=r._fwcHostName),r.items&&r.items.constructor===Array)for(let Ci=0;Ci<r.items.length;Ci++){let Ti=r.items[Ci]._fwcObjName,yi,xn;yi=Dt.exec(Ti),yi&&je==-1&&(je=0),yi=Rt.exec(Ti),yi&&(xn=+yi[1],je=xn+1)}je==-1?Y=`${xe}`:Y=`${xe}:${je}`}let Qe;switch(e.detail.item.id){case U.NEW_TCP_SERVICE:Qe=6;break;case U.NEW_ICMP_SERVICE:Qe=1;break;case U.NEW_UDP_SERVICE:Qe=17;break}ne={_fwcObjId:void 0,_fwcObjType:we,_fwcObjName:Y,fwcloud:this.fwcUser.selectedFwCloud,_fwcUserId:this.fwcUser.user_id,interface:Be,_fwcParentInterfaceType:Fe,_fwcParentObjName:r._fwcObjName,container:this.options.container,containerReadOnly:!0,node_parent:r.id,node_order:1,node_type:ye.node_type,protocol:Qe},this.itemSelectedService.setItem(ne);break;case U.DUPLICATE:this.onItemDblClickEvent(void 0,!0);break;case U.EDIT:this.onItemDblClickEvent(void 0);break;case U.DELETE:if(r.fwcloud==null||r.fwcloud==null){this.confirmationService.confirm({header:"Error",icon:"pi pi-exclamation-triangle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:this.translate.instant("TREE.MSG_DELETE_OBJ_ERROR_1",{name:r._fwcObjName})});return}let Ot=Object.assign({},r);Ot.deleteAction=!0,this.itemSelectedService.setItem(Ot);break;case U.DELETE_FROM_GROUP:let di=this.translate.instant("TREE.MSG_DELETE_OBJ_GROUP_1",{name:r._fwcObjName});this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_CONFIRM"),icon:"fa fa-question-circle fwcBlue iconBig",message:di,rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES"),accept:()=>{let je=this.treeview.nativeElement.getItemParent(r),Le={fwcloud:this.fwcUser.selectedFwCloud,ipobj_g:je.id_obj,ipobj:r._fwcObjId,obj_type:r._fwcObjType};this.utilService.fwcAPICall(this.fwcObjectService.deleteObjectGroupObject.bind(this.fwcObjectService),Le).then(xe=>{let it=Object.assign({},r);xe.data&&xe.data.length&&(it.fw_status=xe.data),it._fwcObjTreeParentId=it.pid,this.treeDeleteItem(it,!0);let Dt=this.itemSelectedService.getActualItem();this.store.dispatch(gn.reloadDialog({dialogUuids:[Ai.ITEM_PANEL]})),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:this.translate.instant("TREE.MSG_DELETE_OBJ_GROUP_SUCCESS")})}).catch(xe=>{xe.error&&(xe.error.restrictions?this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("TREE.RESTR_ERROR.HEADER"),detail:this.translate.instant("TREE.RESTR_ERROR.TEXT",{name:r._fwcObjName})}):xe.error.fwcErr==5001?this.confirmationService.confirm({header:this.translate.instant("TREE.MSG_DELETE_OBJ_GROUP_ERROR"),icon:"fa fa-exclamation-circle fwcRed iconBig",message:this.translate.instant("TREE.MSG_DELETE_OBJ_GROUP_EMPTY",{name:r._fwcObjName}),rejectVisible:!1,acceptLabel:"Ok",accept:()=>{}}):this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(xe)}))})}});break;case U.CA_NEW:case U.CA_CRT_NEW:let xi={_fwcObjId:void 0,container:this.options.container,node_id:r.id,node_type:r.node_type,obj_type:L.OBJ_CA};if(e.detail.item.id==U.CA_CRT_NEW){if(xi.type=Bf.client,xi.obj_type=L.OBJ_CERT_CLI,r.obj_type==L.OBJ_CA)xi.ca=r.id_obj,xi.ca_name=r.text;else if(r.obj_type==L.OBJ_PREFIX_FOLDER){let je=this.treeview.nativeElement.getItemParent(r);xi.ca=je.id_obj,xi.ca_name=je.text,xi.folder_prefix=r.text}}this.itemSelectedService.setItem(xi);break;case U.CA_VIEW:case U.CA_CRT_VIEW:r.containerReadOnly=!0,this.itemSelectedService.setItem(r);break;case U.CA_EDIT:case U.CA_CRT_EDIT:r.containerReadOnly=!1,this.itemSelectedService.setItem(r);break;case U.CA_DELETE:case U.CA_CRT_DELETE:let Ni,Gt,Gi,oi={fwcloud:this.fwcUserService.getActualFwSelectedCloud()};e.detail.item.id==U.CA_DELETE?(Gt=this.fwcVpnService.deleteCA.bind(this.fwcVpnService),Ni=this.fwcVpnService.checkCARestrictions.bind(this.fwcVpnService),Gi=this.translate.instant("TREE.VPN.CA_DELETE_CONF",{ca_name:r.text}),oi.ca=r.id_obj):(Gt=this.fwcVpnService.deleteCertificate.bind(this.fwcVpnService),Ni=this.fwcVpnService.checkCertificateRestrictions.bind(this.fwcVpnService),Gi=this.translate.instant("TREE.VPN.CERT_DELETE_CONF",{cert_name:r.text}),oi.crt=r.id_obj),Ni(oi).subscribe(je=>{this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_CONFIRM"),icon:"pi pi-exclamation-triangle fwcRed iconBig",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES"),rejectLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.NO"),rejectVisible:!0,message:Gi,accept:()=>{this.utilService.fwcAPICall(Gt,oi).then(Le=>{let xe=Object.assign({},r);xe._fwcTreeAction=mn.DELETE_ITEM,this.treeDeleteItem(xe),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:this.translate.instant("TREE.VPN.DELETE_OK")}),this.fwcUserService.setConfirmationToken(void 0)}).catch(Le=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(Le)})})},reject:()=>{}})},je=>{if(je.error&&je.error.restrictions){let Le=je.error.restrictions,xe,it;Le&&(Le.caHasCertificates?(xe=this.translate.instant("TREE.VPN.CA_DELETE_RESTR"),it=this.translate.instant("TREE.VPN.CA_DELETE_RESTR_MSG",{ca_name:r.text})):Le.crtUsedInOpenvpn?(xe=this.translate.instant("TREE.VPN.CERT_DELETE_RESTR"),it=this.translate.instant("TREE.VPN.CERT_DELETE_RESTR_MSG",{cert_name:r.text})):Le.caHasPrefixes&&(xe=this.translate.instant("TREE.VPN.CA_DELETE_RESTR"),it=this.translate.instant("TREE.VPN.CA_DELETE_PREFIXES_MSG",{ca_name:r.text}))),this.confirmationService.confirm({header:xe,icon:"pi pi-exclamation-triangle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:it})}else this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(je)})});break;case U.CA_CRT_NEW_PREFIX:case U.VPN_CONFIG_NEW_PREFIX:let li=Object.assign({},r);li._fwcObjType=li.obj_type=r._fwcObjType==L.OBJ_VPN_CONFIG_SER?L.OBJ_OPENVPN_PREFIX:L.OBJ_PREFIX_FOLDER,li.newPrefixAction=!0,this.itemSelectedService.setItem(li);break;case U.CA_CRT_EDIT_PREFIX:case U.CA_CRT_DELETE_PREFIX:case U.VPN_CONFIG_EDIT_PREFIX:case U.VPN_CONFIG_DELETE_PREFIX:let Nt=Object.assign({},r);Nt.editPrefixAction=e.detail.item.id==U.CA_CRT_EDIT_PREFIX||e.detail.item.id==U.VPN_CONFIG_EDIT_PREFIX,Nt.deletePrefixFolderAction=e.detail.item.id==U.CA_CRT_DELETE_PREFIX,Nt.deleteAction=e.detail.item.id==U.VPN_CONFIG_DELETE_PREFIX,this.itemSelectedService.setItem(Nt);break;case U.VPN_CONFIG_FILE:case U.VPN_CONFIG_DELETE:case U.VPN_CONFIG_INSTALL:case U.VPN_CONFIG_SYNC_CCD:case U.VPN_CONFIG_SYNC_PENDING_CCD:case U.VPN_CONFIG_UNINSTALL:case U.VPN_CONFIG_BLOCK:case U.VPN_CONFIG_UNBLOCK:case U.VPN_CONFIG_SYSTEMCTL:let ti=Object.assign({},r),pi=je=>{let Le=!0,xe=[];for(xe.push(...r.items);xe.length;){let it=xe.pop();if(it._fwcObjType==L.OBJ_VPN_CONFIG_CLI){this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_NOT_POSSIBLE"),icon:"pi pi-exclamation-triangle fwcRed iconBig",message:je,rejectVisible:!1,acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.OK")}),Le=!1;break}else it.items&&it.items.length&&xe.push(...it.items)}return Le};e.detail.item.id==U.VPN_CONFIG_UNINSTALL?pi(this.translate.instant("TREE.VPN.CONF_UNINSTALL.RESTR",{name:r._fwcObjName}))&&(ti.uninstallAction=!0,this.itemSelectedService.setItem(ti)):(ti.deleteAction=e.detail.item.id==U.VPN_CONFIG_DELETE,ti.configFileAction=e.detail.item.id==U.VPN_CONFIG_FILE,ti.installAction=e.detail.item.id==U.VPN_CONFIG_INSTALL,ti.syncCCDAction=e.detail.item.id==U.VPN_CONFIG_SYNC_CCD,ti.syncPendingCCDAction=e.detail.item.id==U.VPN_CONFIG_SYNC_PENDING_CCD,ti.blockVPNAction=e.detail.item.id==U.VPN_CONFIG_BLOCK,ti.unblockVPNAction=e.detail.item.id==U.VPN_CONFIG_UNBLOCK,ti.systemctlAction=e.detail.item.id==U.VPN_CONFIG_SYSTEMCTL,this.itemSelectedService.setItem(ti)),ti.blockVPNAction?r.openvpn_disabled=!0:ti.unblockVPNAction&&(r.openvpn_disabled=!1);break;case U.VPN_CONFIG_INST_WINDOWS:{let je=this.utilService.createDynamicComponentRef(az),Le=je.instance;Le.setDynamicComponentRef(je);let xe={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),fwcloudName:this.fwcUserService.getActualFwcUser().selectedFwCloudName,cluster:r._fwcClusterId,clusterName:r._fwcClusterName,firewall:r._fwcFwId,firewallName:r._fwcFwName,openvpn:r._fwcObjId,parentConfigName:r._fwcObjName};Le.showDialog(xe);break}case U.VPN_CONFIG_STATUS:let En=Object.assign({},r);En.statusAction=!0,this.itemSelectedService.setItem(En);break;case U.VPN_CONFIG_HISTORIC:{let je={cloudId:this.fwcUserService.getActualFwSelectedCloud(),openVpnConfigId:r._fwcOpenVPNId||r._fwcObjId,openVpnConfigType:r._fwcObjType,openVpnConfigName:r._fwcObjName,firewallId:r._fwcFwId,clusterId:r._fwcClusterId},Le=this.utilService.createDynamicComponentRef(kz),xe=Le.instance;xe.setDynamicComponentRef(Le),xe.updateAndShow(je);break}case U.SYSTEMCTL:{let je=this.utilService.createDynamicComponentRef(Ym),Le=je.instance;Le.setDynamicComponentRef(je);let xe=r.firewall_id;if(r.cluster_id){let it=this.utilService.createDynamicComponentRef(CS),Dt=it.instance;Dt.setDynamicComponentRef(it),Dt.selectNodes(r)}else{let it={fwcloud:r.fwcloud,firewall:xe,service:this.serviceMap[r.node_type]=="openvpn"?this.serviceMap[r.node_type]+"@"+r._fwcObjName:this.serviceMap[r.node_type]};Le.systemCtlSelectorDialog(it)}break}case U.SYSTEM_SHOW_CONFIG:case U.SYSTEM_COMPILE:{let je=r.firewall_id,Le=this.fwcUserService.getActualFwSelectedCloud(),xe,it,Dt,Ht,Rt;if(r.parent_type==L.OBJ_CLUSTER)this.fwcFirewallService.getClusterMasterNode(r.cluster_id,this.fwcUserService.getActualFwSelectedCloud()).subscribe(Ci=>N(this,null,function*(){je=Ci.data.id,r.obj_type===Si[H.DHCP]?(xe=(yield this.utilService.fwcAPICall(this.fwcDhcpPolicyService.getDhcpPolicy.bind(this.fwcDhcpPolicyService),je,this.fwcUserService.getActualFwSelectedCloud())).data,xe.length===0?this.confirmationService.confirm({header:this.translate.instant("PANELS.DHCP_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.SUMMARY"),icon:"fa fa-exclamation-triangle fwcOrange iconBig",message:this.translate.instant("PANELS.DHCP_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.TEXT"),rejectVisible:!1,acceptLabel:"Ok"}):(it=yield this.fwcDhcpPolicyService.compileDhcpPolicyRules.bind(this.fwcFirewallService),Dt=this.translate.instant("DHCP.POLICY.COMPILE_DIALOG_TITLE"),Ht=this.translate.instant("DHCP.POLICY.RULE"),Rt="dhcp",yield this.utilService.fwcAPICall(it,je,Le).then(Ti=>{let yi=this.utilService.createDynamicComponentRef(va),xn=yi.instance;xn.setDynamicComponentRef(yi),xn.showCompilationData(Ti.data,xe,Ht,Dt,void 0,Rt)}))):r.obj_type===Si[H.KEEPALIVED]?(it=yield this.fwcKeepalivedPolicyService.compileKeepalivedPolicyRules.bind(this.fwcFirewallService),Dt=this.translate.instant("KEEPALIVED.POLICY.COMPILE_DIALOG_TITLE"),Ht=this.translate.instant("KEEPALIVED.POLICY.RULE"),Rt="keepalived",xe=(yield this.utilService.fwcAPICall(this.fwcKeepalivedPolicyService.getKeepalivedPolicy.bind(this.fwcKeepalivedPolicyService),je,this.fwcUserService.getActualFwSelectedCloud())).data,xe.length===0&&this.confirmationService.confirm({header:this.translate.instant("PANELS.DHCP_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.SUMMARY"),icon:"fa fa-exclamation-triangle fwcOrange iconBig",message:this.translate.instant("PANELS.DHCP_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.TEXT"),rejectVisible:!1,acceptLabel:"Ok"}),yield this.utilService.fwcAPICall(it,je,Le).then(Ti=>{let yi=this.utilService.createDynamicComponentRef(va),xn=yi.instance;xn.setDynamicComponentRef(yi),xn.showCompilationData(Ti.data,xe,Ht,Dt,void 0,Rt)})):r.obj_type===Si[H.HAPROXY]&&(it=yield this.fwcHAProxyPolicyService.compileHAProxyPolicyRules.bind(this.fwcFirewallService),Dt=this.translate.instant("HAPROXY.POLICY.COMPILE_DIALOG_TITLE"),Ht=this.translate.instant("HAPROXY.POLICY.RULE"),Rt="haproxy",xe=(yield this.utilService.fwcAPICall(this.fwcHAProxyPolicyService.getHAProxyPolicy.bind(this.fwcHAProxyPolicyService),je,this.fwcUserService.getActualFwSelectedCloud())).data,xe.length===0&&this.confirmationService.confirm({header:this.translate.instant("PANELS.DHCP_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.SUMMARY"),icon:"fa fa-exclamation-triangle fwcOrange iconBig",message:this.translate.instant("PANELS.DHCP_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.TEXT"),rejectVisible:!1,acceptLabel:"Ok"}),yield this.utilService.fwcAPICall(it,je,Le).then(Ti=>{let yi=this.utilService.createDynamicComponentRef(va),xn=yi.instance;xn.setDynamicComponentRef(yi),xn.showCompilationData(Ti.data,xe,Ht,Dt,void 0,Rt)}))}));else if(r.parent_type==L.OBJ_FIREWALL){if(r.obj_type===Si[H.DHCP])xe=(yield this.utilService.fwcAPICall(this.fwcDhcpPolicyService.getDhcpPolicy.bind(this.fwcDhcpPolicyService),je,Le)).data,xe.length===0?this.confirmationService.confirm({header:this.translate.instant("PANELS.DHCP_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.SUMMARY"),icon:"fa fa-exclamation-triangle fwcOrange iconBig",message:this.translate.instant("PANELS.DHCP_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.TEXT"),rejectVisible:!1,acceptLabel:"Ok"}):(it=yield this.fwcDhcpPolicyService.compileDhcpPolicyRules.bind(this.fwcFirewallService),Dt=this.translate.instant("DHCP.POLICY.COMPILE_DIALOG_TITLE"),Ht=this.translate.instant("DHCP.POLICY.RULE"),Rt="dhcp",yield this.utilService.fwcAPICall(it,je,this.fwcUserService.getActualFwSelectedCloud(),xe.map(Ci=>Ci.id)).then(Ci=>{let Ti=this.utilService.createDynamicComponentRef(va),yi=Ti.instance;yi.setDynamicComponentRef(Ti),yi.showCompilationData(Ci.data,xe,Ht,Dt,void 0,Rt)}));else if(r.obj_type===Si[H.HAPROXY])xe=(yield this.utilService.fwcAPICall(this.fwcHAProxyPolicyService.getHAProxyPolicy.bind(this.fwcHAProxyPolicyService),je,Le)).data,xe.length===0?this.confirmationService.confirm({header:this.translate.instant("PANELS.HAPROXY_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.SUMMARY"),icon:"fa fa-exclamation-triangle fwcOrange iconBig",message:this.translate.instant("PANELS.HAPROXY_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.TEXT"),rejectVisible:!1,acceptLabel:"Ok"}):(it=yield this.fwcHAProxyPolicyService.compileHAProxyPolicyRules.bind(this.fwcFirewallService),Dt=this.translate.instant("HAPROXY.POLICY.COMPILE_DIALOG_TITLE"),Ht=this.translate.instant("HAPROXY.POLICY.RULE"),Rt="haproxy",yield this.utilService.fwcAPICall(it,je,this.fwcUserService.getActualFwSelectedCloud(),xe.map(Ci=>Ci.id)).then(Ci=>{let Ti=this.utilService.createDynamicComponentRef(va),yi=Ti.instance;yi.setDynamicComponentRef(Ti),yi.showCompilationData(Ci.data,xe,Ht,Dt,void 0,Rt)}));else if(r.obj_type===Si[H.KEEPALIVED]){this.confirmationService.confirm({header:this.translate.instant("PANELS.KEEPALIVED_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.SUMMARY"),icon:"fa fa-exclamation-triangle fwcOrange iconBig",message:this.translate.instant("PANELS.KEEPALIVED_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.TEXT"),rejectVisible:!1,acceptLabel:"Ok"});return}}break}case U.SYSTEM_DOWNLOAD_CONFIG:{let je=this.fwcUserService.getActualFwSelectedCloud(),Le=r.firewall_id,xe,it,Dt;if(r.parent_type===L.OBJ_CLUSTER)this.fwcFirewallService.getClusterMasterNode(r.cluster_id,je).subscribe(Ht=>N(this,null,function*(){Le=Ht.data.id,r.obj_type===Si[H.DHCP]?(xe=yield this.fwcDhcpPolicyService.compileDhcpPolicyRules.bind(this.fwcFirewallService),it=(yield this.utilService.fwcAPICall(this.fwcDhcpPolicyService.getDhcpPolicy.bind(this.fwcDhcpPolicyService),Le,je)).data,Dt="dhcp",it.length===0?this.confirmationService.confirm({header:this.translate.instant("PANELS.DHCP_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.SUMMARY"),icon:"fa fa-exclamation-triangle fwcOrange iconBig",message:this.translate.instant("PANELS.DHCP_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.TEXT"),rejectVisible:!1,acceptLabel:"Ok"}):yield this.utilService.fwcAPICall(xe,Le,je).then(Rt=>{let Ci="",Ti=Rt.data;if(Array.isArray(Ti))for(let Zm of Ti)Ci+=Zm.cs,Ci+=`
`;let yi=this.utilService.createDynamicComponentRef(va),xn=yi.instance;xn.setDynamicComponentRef(yi),xn.onDownloadConfigFile(Ci,Dt)})):r.obj_type===Si[H.KEEPALIVED]?(xe=yield this.fwcKeepalivedPolicyService.compileKeepalivedPolicyRules.bind(this.fwcFirewallService),it=(yield this.utilService.fwcAPICall(this.fwcKeepalivedPolicyService.getKeepalivedPolicy.bind(this.fwcKeepalivedPolicyService),Le,je)).data,Dt="keepalived",it.length===0?this.confirmationService.confirm({header:this.translate.instant("PANELS.KEEPALIVED_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.SUMMARY"),icon:"fa fa-exclamation-triangle fwcOrange iconBig",message:this.translate.instant("PANELS.KEEPALIVED_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.TEXT"),rejectVisible:!1,acceptLabel:"Ok"}):yield this.utilService.fwcAPICall(xe,Le,je).then(Rt=>{let Ci="",Ti=Rt.data;if(Array.isArray(Ti))for(let Zm of Ti)Ci+=Zm.cs,Ci+=`
`;let yi=this.utilService.createDynamicComponentRef(va),xn=yi.instance;xn.setDynamicComponentRef(yi),xn.onDownloadConfigFile(Ci,Dt)})):r.obj_type===Si[H.HAPROXY]&&(xe=yield this.fwcHAProxyPolicyService.compileHAProxyPolicyRules.bind(this.fwcFirewallService),it=(yield this.utilService.fwcAPICall(this.fwcHAProxyPolicyService.getHAProxyPolicy.bind(this.fwcHAProxyPolicyService),Le,je)).data,Dt="haproxy",it.length===0?this.confirmationService.confirm({header:this.translate.instant("PANELS.HAPROXY_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.SUMMARY"),icon:"fa fa-exclamation-triangle fwcOrange iconBig",message:this.translate.instant("PANELS.HAPROXY_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.TEXT")}):yield this.utilService.fwcAPICall(xe,Le,je).then(Rt=>{let Ci="",Ti=Rt.data;if(Array.isArray(Ti))for(let Zm of Ti)Ci+=Zm.cs,Ci+=`
`;let yi=this.utilService.createDynamicComponentRef(va),xn=yi.instance;xn.setDynamicComponentRef(yi),xn.onDownloadConfigFile(Ci,Dt)}))}));else if(r.parent_type===L.OBJ_FIREWALL){if(r.obj_type===Si[H.DHCP])xe=yield this.fwcDhcpPolicyService.compileDhcpPolicyRules.bind(this.fwcFirewallService),it=(yield this.utilService.fwcAPICall(this.fwcDhcpPolicyService.getDhcpPolicy.bind(this.fwcDhcpPolicyService),Le,je)).data,Dt="dhcp",it.length===0?this.confirmationService.confirm({header:this.translate.instant("PANELS.DHCP_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.SUMMARY"),icon:"fa fa-exclamation-triangle fwcOrange iconBig",message:this.translate.instant("PANELS.DHCP_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.TEXT"),rejectVisible:!1,acceptLabel:"Ok"}):yield this.utilService.fwcAPICall(xe,Le,je).then(Ht=>{let Rt="",Ci=Ht.data;if(Array.isArray(Ci))for(let xn of Ci)Rt+=xn.cs,Rt+=`
`;let Ti=this.utilService.createDynamicComponentRef(va),yi=Ti.instance;yi.setDynamicComponentRef(Ti),yi.onDownloadConfigFile(Rt,Dt)});else if(r.obj_type===Si[H.HAPROXY])xe=yield this.fwcHAProxyPolicyService.compileHAProxyPolicyRules.bind(this.fwcFirewallService),it=(yield this.utilService.fwcAPICall(this.fwcHAProxyPolicyService.getHAProxyPolicy.bind(this.fwcHAProxyPolicyService),Le,je)).data,Dt="haproxy",it.length===0?this.confirmationService.confirm({header:this.translate.instant("PANELS.HAPROXY_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.SUMMARY"),icon:"fa fa-exclamation-triangle fwcOrange iconBig",message:this.translate.instant("PANELS.HAPROXY_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.TEXT"),rejectVisible:!1,acceptLabel:"Ok"}):yield this.utilService.fwcAPICall(xe,Le,je).then(Ht=>{let Rt="",Ci=Ht.data;if(Array.isArray(Ci))for(let xn of Ci)Rt+=xn.cs,Rt+=`
`;let Ti=this.utilService.createDynamicComponentRef(va),yi=Ti.instance;yi.setDynamicComponentRef(Ti),yi.onDownloadConfigFile(Rt,Dt)});else if(r.obj_type===Si[H.KEEPALIVED]){this.confirmationService.confirm({header:this.translate.instant("PANELS.KEEPALIVED_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.SUMMARY"),icon:"fa fa-exclamation-triangle fwcOrange iconBig",message:this.translate.instant("PANELS.KEEPALIVED_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.TEXT"),rejectVisible:!1,acceptLabel:"Ok"});return}}break}case U.SYSTEM_INSTALL:{let je=r.firewall_id,Le=this.fwcUserService.getActualFwSelectedCloud(),xe;if(r.parent_type===L.OBJ_CLUSTER){let it,Dt=[];this.fwcFirewallService.getCluster(r.cluster_id,Le).subscribe(Ht=>N(this,null,function*(){let Rt=Ht.data.nodes;it=!0;for(let Ci=0;Ci<Rt.length;Ci++){let Ti=Rt[Ci];Ti.install_communication==="agent"&&Dt.push(Ti)}if(Dt.length===0){this.confirmationService.confirm({header:this.translate.instant("PANELS.DHCP_RULE_PANEL.ERRORS.COMMUNICATION_INSTALL_ERROR.SUMMARY"),icon:"fa fa-exclamation-triangle fwcOrange iconBig",message:this.translate.instant("PANELS.DHCP_RULE_PANEL.ERRORS.COMMUNICATION_INSTALL_ERROR.CLUSTER_TEXT"),rejectVisible:!1,acceptLabel:"Ok"}),it=!1;return}else if(it){r.obj_type===(Si[H.DHCP]||Si[H.DHCP_FIXED_IP])?this.fwcFirewallService.getClusterMasterNode(r.cluster_id,Le).subscribe(xn=>N(this,null,function*(){je=xn.data.id,xe=(yield this.utilService.fwcAPICall(this.fwcDhcpPolicyService.getDhcpPolicy.bind(this.fwcDhcpPolicyService),je,Le)).data,xe.length===0&&this.confirmationService.confirm({header:this.translate.instant("PANELS.DHCP_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.SUMMARY"),icon:"fa fa-exclamation-triangle fwcOrange iconBig",message:this.translate.instant("PANELS.DHCP_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.TEXT"),rejectVisible:!1,acceptLabel:"Ok"})})):r.obj_type===Si[H.KEEPALIVED]?this.fwcFirewallService.getClusterMasterNode(r.cluster_id,Le).subscribe(xn=>N(this,null,function*(){je=xn.data.id,xe=yield this.utilService.fwcAPICall(this.fwcKeepalivedPolicyService.getKeepalivedPolicy.bind(this.fwcKeepalivedPolicyService),je,Le),xe.length===0&&this.confirmationService.confirm({header:this.translate.instant("PANELS.KEEPALIVED_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.SUMMARY"),icon:"fa fa-exclamation-triangle fwcOrange iconBig",message:this.translate.instant("PANELS.KEEPALIVED_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.TEXT"),rejectVisible:!1,acceptLabel:"Ok"})})):r.obj_type===Si[H.HAPROXY]&&this.fwcFirewallService.getClusterMasterNode(r.cluster_id,Le).subscribe(xn=>N(this,null,function*(){je=xn.data.id,xe=(yield this.utilService.fwcAPICall(this.fwcHAProxyPolicyService.getHAProxyPolicy.bind(this.fwcHAProxyPolicyService),je,Le)).data,xe.length===0&&this.confirmationService.confirm({header:this.translate.instant("PANELS.HAPROXY_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.SUMMARY"),icon:"fa fa-exclamation-triangle fwcOrange iconBig",message:this.translate.instant("PANELS.HAPROXY_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.TEXT")})}));let Ci=Object.assign({},r),Ti=this.utilService.createDynamicComponentRef(Jm),yi=Ti.instance;yi.setDynamicComponentRef(Ti),yield yi.onItemManage(Ci)}}))}else this.fwcFirewallService.getFirewall(r.firewall_id,Le).subscribe(it=>N(this,null,function*(){if(it.data.install_communication!=="agent"){this.confirmationService.confirm({header:this.translate.instant("PANELS.DHCP_RULE_PANEL.ERRORS.COMMUNICATION_INSTALL_ERROR.SUMMARY"),icon:"fa fa-exclamation-triangle fwcOrange iconBig",message:this.translate.instant("PANELS.DHCP_RULE_PANEL.ERRORS.COMMUNICATION_INSTALL_ERROR.TEXT"),rejectVisible:!1,acceptLabel:"Ok"});return}if(r.obj_type===(Si[H.DHCP]||Si[H.DHCP_FIXED_IP]))if(xe=(yield this.utilService.fwcAPICall(this.fwcDhcpPolicyService.getDhcpPolicy.bind(this.fwcDhcpPolicyService),je,Le)).data,xe.length===0)this.confirmationService.confirm({header:this.translate.instant("PANELS.DHCP_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.SUMMARY"),icon:"fa fa-exclamation-triangle fwcOrange iconBig",message:this.translate.instant("PANELS.DHCP_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.TEXT"),rejectVisible:!1,acceptLabel:"Ok"});else{let Dt=Object.assign({},r),Ht=this.utilService.createDynamicComponentRef(Jm),Rt=Ht.instance;Rt.setDynamicComponentRef(Ht),yield Rt.onItemManage(Dt)}else if(r.obj_type===Si[H.KEEPALIVED]){this.confirmationService.confirm({header:this.translate.instant("PANELS.KEEPALIVED_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.SUMMARY"),icon:"fa fa-exclamation-triangle fwcOrange iconBig",message:this.translate.instant("PANELS.KEEPALIVED_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.TEXT"),rejectVisible:!1,acceptLabel:"Ok"});return}else if(r.obj_type===Si[H.HAPROXY])if(xe=(yield this.utilService.fwcAPICall(this.fwcHAProxyPolicyService.getHAProxyPolicy.bind(this.fwcHAProxyPolicyService),je,Le)).data,xe.length===0)this.confirmationService.confirm({header:this.translate.instant("PANELS.HAPROXY_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.SUMMARY"),icon:"fa fa-exclamation-triangle fwcOrange iconBig",message:this.translate.instant("PANELS.HAPROXY_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.TEXT"),rejectVisible:!1,acceptLabel:"Ok"});else{let Dt=Object.assign({},r),Ht=this.utilService.createDynamicComponentRef(Jm),Rt=Ht.instance;Rt.setDynamicComponentRef(Ht),yield Rt.onItemManage(Dt)}}));break}case U.MARK_NEW:let Ki=Object.assign({},r);Ki._fwcObjName="",Ki.node_parent=r.id,this.itemSelectedService.setItem(Ki);break;case U.ROUTING_TABLE_NEW:{this.fwcPolicyGridRoutingTableFunctionalityService.showNewRoutingTableDialog(r._fwcClusterId,r._fwcClusterName,r._fwcFwId,r._fwcFwName,this.fwcUserService.getActualFwSelectedCloud());break}case U.ROUTING_TABLE_EDIT:{this.fwcPolicyGridRoutingTableFunctionalityService.showNewRoutingTableDialog(r._fwcClusterId,r._fwcClusterName,r._fwcFwId,r._fwcFwName,this.fwcUserService.getActualFwSelectedCloud(),r._fwcObjId);break}case U.ROUTING_TABLE_DELETE:{this.deleteRoutingTable(r._fwcFwId,r.id_obj,r._fwcObjName);break}case U.ROUTING_TABLE_NEW_ROUTE:{this.fwcPolicyGridRoutingTableFunctionalityService.showNewRouteDialog(r._fwcClusterId,r._fwcFwId,r.id_obj,r._fwcObjName);break}}}})}onItemClickEvent(e){let t=this.treeview.nativeElement.selectedItem,r=$c;this.clearObjectInfo(void 0),r.findIndex(o=>t.node_type==o)!=-1&&this.actionLoadPolicy(t)}onItemDblClickEvent(e,t){return N(this,null,function*(){if(this.clearObjectInfo(void 0),!this.treeview||!this.treeview.nativeElement.selectedItem)return;let r=Object.assign({},this.treeview.nativeElement.selectedItem);switch(r.node_type){case H.FOLDER_POLICY:case H.POLICY_INPUT:case H.POLICY_OUTPUT:case H.POLICY_FORWARD:case H.FOLDER_NAT:case H.POLICY_SNAT:case H.POLICY_DNAT:case H.POLICY_ROUTING:case H.FOLDER_SYSTEM:case H.DHCP:case H.DHCP_FIXED_IP:case H.KEEPALIVED:case H.HAPROXY:break;case H.FOLDER_POLICY6:case H.POLICY_INPUT6:case H.POLICY_OUTPUT6:case H.POLICY_FORWARD6:case H.POLICY_SNAT6:case H.POLICY_DNAT6:case H.POLICY_ROUTING6:break;case H.OPENVPN_CA:case H.OPENVPN_CERT:r.containerReadOnly=!1,this.itemSelectedService.setItem(r);case H.FOLDER_ROUTING:case H.ROUTING_TABLES:case H.FOLDER_INTERFACES:case H.FOLDER_CLUSTER_FW:break;case H.OPENVPN_PREFIX_FOLDER:case H.OPENVPN_PREFIX:r.editPrefixAction=!0,this.itemSelectedService.setItem(r);break;case H.ROUTING_TABLE:this.fwcPolicyGridRoutingTableFunctionalityService.showNewRoutingTableDialog(r._fwcClusterId,r._fwcClusterName,r._fwcFwId,r._fwcFwName,this.fwcUserService.getActualFwSelectedCloud(),r._fwcObjId);break;default:if(r._fwcObjId!==null){let o=this.treeview.nativeElement.getItemParent(r);if(!o)return;if(r.node_type==H.OBJ_FIREWALL&&r._fwcClusterId&&this.onContextMenuHandler(e,r.node_type),r.obj_type==L.OBJ_ADDRESS&&(o._fwcObjType==L.OBJ_INTERFACE_FIREWALL||o._fwcObjType==L.OBJ_INTERFACE_HOST)&&(r._fwcParentInterfaceType=o._fwcObjType,r._fwcParentObjName=o._fwcObjName),t){let s=this.treeview.nativeElement.getItemParent(r);if(s.node_type==H.STANDARD)if(s.pid)r.node_parent=s.pid;else return;else r.node_parent=r.pid;r.duplicateObjectAction=!0}this.itemSelectedService.setItem(r)}break}e&&e.stopPropagation()})}actionLoadPolicy(e){if($c.findIndex(s=>e.node_type==s)==-1)return;let r={},o=e.id_obj;switch(e.node_type===H.ROUTING_TABLE&&(o=e._fwcFwId),r._fwcUserId=this.fwcUser.user_id,r._fwcFwId=o,r._fwcFwName=e._fwcFwName,r.fwcloud=e.fwcloud,r._fwcObjId=e._fwcObjId,this.isHAProxyPolicy=!1,this.fwcHAProxyPolicyService.setIsHAProxyPolicy(!1),this.isKeepalivedPolicy=!1,this.fwcKeepalivedPolicyService.setIsKeepalivedPolicy(!1),e.node_type){case H.POLICY_ROUTING:r._fwcPolicyType=Mr.POLICY_ROUTING;break;case H.ROUTING_TABLE:r._fwcPolicyType=Mr.ROUTING_TABLE,r._fwcPolicyName=e._fwcObjName;break;case H.DHCP:r._fwcPolicyType=Si[H.DHCP],r._fwcPolicyName=e._fwcObjName;break;case H.DHCP_FIXED_IP:r._fwcPolicyType=Si[H.DHCP_FIXED_IP],r._fwcPolicyName=e._fwcObjName;break;case H.KEEPALIVED:e.cluster_id?(r._fwcPolicyType=Si[H.KEEPALIVED],r._fwcPolicyName=e._fwcObjName,this.isKeepalivedPolicy=!0,this.fwcKeepalivedPolicyService.setIsKeepalivedPolicy(!0),this.fwcKeepalivedPolicyService.setKeepalivedClusterId(e.cluster_id),this.buildTree()):this.confirmationService.confirm({header:"Keepalived Policy Error",icon:"fa fa-exclamation-circle fwcRed iconBig",message:this.translate.instant("KEEPALIVED.POLICY.ERROR_POLICY_FIREWALL"),rejectVisible:!1,acceptLabel:"Ok",accept:()=>{}});break;case H.HAPROXY:r._fwcPolicyType=Si[H.HAPROXY],r._fwcPolicyName=e._fwcObjName,this.isHAProxyPolicy=!0,this.fwcHAProxyPolicyService.setIsHAProxyPolicy(!0),this.buildTree();break;default:r._fwcPolicyType=e.obj_type}e._fwcClusterId&&(r._fwcClusterId=e._fwcClusterId,r._fwcFwName=e._fwcClusterName),r._fwcFwId&&r._fwcPolicyType&&this.fwcPolicyService.setSelectedPolicy(r)}onItemDragStart(e,t){this.clearObjectInfo(void 0);let r;r=Object.assign({},e),r.obj_type==L.OBJ_CONTINENT&&(r.name=r.parent_name),r.obj_type==L.OBJ_COUNTRIE&&(r.name=r.parent_name),this.itemSelectedService.setDragItem(r),t.dataTransfer.setData("dragItemId",r.id),t.dataTransfer.dropEffect="copy",t.dataTransfer.effectAllowed="copyMove",this.clearObjectInfo(void 0)}checkDnDAllowance(e,t){return this.clearObjectInfo(void 0),!!(e&&t&&((e.node_type==H.FOLDER||e.node_type==H.FOLDER_FW)&&(t.node_type==H.FOLDER||t.node_type==H.OBJ_CLUSTER||t.node_type==H.OBJ_FIREWALL)||(e.node_type==H.OBJ_FIREWALL||e.node_type==H.OBJ_CLUSTER)&&t.obj_type==L.OBJ_CERT_SER||e.node_type==H.OPENVPN_CONFIG_SER&&t.obj_type==L.OBJ_CERT_CLI)&&e.id!=t.id&&e.id!=t.pid&&(t.items&&t.items.length&&!t.items.find(function(r){return r.id==e.id})||t.items&&!t.items.length))}onDragOver(e){if(e){let t=e.detail;if(t){let r=t.targetObj,o=t.dragObj;this.checkDnDAllowance(r,o)?this.highlightNodeId=r.id:this.highlightNodeId=void 0}}this.treeview.nativeElement.refresh()}onDragLeave(e){this.highlightNodeId=void 0}onDragDrop(e){let t=e.detail;if(t){let r=t.targetObj,o=t.dragObj;if(this.clearObjectInfo(void 0),this.checkDnDAllowance(r,o)){let s=this.fwcUserService.getActualFwSelectedCloud(),a={fwcloud:s,src:o.id,dst:r.id};if(o&&o.node_type==H.OPENVPN_CERT){let l,c=o,d=r,p,g,C;if(d.node_type==H.OBJ_FIREWALL||d.node_type==H.OBJ_CLUSTER){if(d.items&&d.items.length){for(let y=0;y<d.items.length;y++)if(d.items[y].node_type==H.OPENVPN_ROOT){l=d.items[y];break}}C=L.OBJ_VPN_CONFIG_SER}else d.node_type==H.OPENVPN_CONFIG_SER&&(l=d,C=L.OBJ_VPN_CONFIG_CLI,p=l._fwcObjId,g=l._fwcObjName);if(l){let y=[];Array.isArray(l.items)&&l.items.forEach(E=>{E.node_type===H.OPENVPN_CONFIG_CLI?y.push({id_obj:E.id_obj,obj_type:E.obj_type,name:E._fwcObjName}):E.node_type===H.OPENVPN_PREFIX&&Array.isArray(E.items)&&E.items.forEach(T=>{y.push({id_obj:T.id_obj,obj_type:T.obj_type,name:T._fwcObjName})})});let v={fwcloud:s,obj_type:C,crt:c.id_obj,node_id:l.id,openvpn:p,parent_id:d.parent_id,parent_type:d.parent_type,parent_name:d.parent_name,_fwcObjId:void 0,_fwcCrtType:c.obj_type,_fwcCrtName:c._fwcObjName,_fwcParentConfigName:g,_fwcParentCA:c._fwcParentCA,_fwcChildClientNodes:y},w=this.checkOpenVPNOperationErrors(l,v);w?this.confirmationService.confirm({header:this.translate.instant("VPN.CONFIG.ERRORS.RESTRICTIONS.HEADER"),icon:"pi pi-exclamation-triangle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:this.translate.instant(w)}):this.itemSelectedService.setItem(v)}}else this.utilService.fwcAPICall(this.fwcObjectTreeService.dropInFolder.bind(this.fwcObjectTreeService),a).then(l=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("TREE.FOLDER.SUCCESS_DROP")}),this.treeLoad()}).catch(l=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(l)})})}}this.highlightNodeId=void 0,e.detail.cancel=!0}checkOpenVPNOperationErrors(e,t){let r,o;if(!e||!t)return"BAD PARAMETERS";this.items&&Array.isArray(this.items)&&this.items.length&&(o=this.items[0].openvpn_info);let s=t.crt,a=t.openvpn,l=t._fwcParentCA;if(o)for(let c=0;c<o.length;c++){let d=o[c];if(t.openvpn===void 0&&d.crt==s)return this.translate.instant("VPN.CONFIG.ERRORS.RESTRICTIONS.SERVER_SAME_CERT");if(t.openvpn!==void 0&&d.openvpn_parent==a&&d.crt==s)return this.translate.instant("VPN.CONFIG.ERRORS.RESTRICTIONS.CERT_ALREADY_EXISTS_ON_CONFIG");if(t.openvpn!==void 0&&d.openvpn==a&&d.ca!=l)return this.translate.instant("VPN.CONFIG.ERRORS.RESTRICTIONS.DIFFERENT_CA")}return r}deleteRoutingTable(e,t,r){let o={deleteAction:!0,_fwcObjId:t,_fwcObjName:r,_fwcObjType:L.OBJ_ROUTING_TABLE,_fwcFwId:e};this.itemSelectedService.setItem(o)}processInputDialogData(e){return N(this,null,function*(){let t;if(e)if(e.folder_name)e.name=e.folder_name,delete e.folder_name,this.utilService.fwcAPICall(this.fwcObjectTreeService.newFolder.bind(this.fwcObjectTreeService),e).then(r=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("TREE.FOLDER.SUCCESS")}),this.treeLoad()}).catch(r=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(r)})});else if(e.folder_newname)e.new_name=e.folder_newname,delete e.folder_newname,this.utilService.fwcAPICall(this.fwcObjectTreeService.updateFolder.bind(this.fwcObjectTreeService),e).then(r=>{let o;this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("TREE.FOLDER.SUCCESS_RENAME")}),o={node_id:e.id,name:e.new_name,_fwcTreeAction:mn.MODIFY_ITEM},this.treeModifyItem(o)}).catch(r=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(r)})});else{let r;if(e.firewall!==void 0&&e.firewall!==null)r=this.fwcFirewallService.cloneFirewall.bind(this.fwcFirewallService);else if(e.cluster!==void 0&&e.cluster!=null)r=this.fwcFirewallService.cloneCluster.bind(this.fwcFirewallService);else return;t=Object.assign({},e),delete t.type;let o={channelId:void 0,headerIcon:"fa fa-3x fa-vault fwcBlue",textHeader:this.translate.instant("FW.MSG_FW_CLONE.TITLE"),textMessage:this.translate.instant("FW.MSG_FW_CLONE.TEXT"),apiCall:r,apiParams:[t],onClose:s=>{if(s&&!s.error){let a=s.data.insertId,l={};l.container=bt.C_FIREWALLS,l.id=l.id_obj=l._fwcObjId=a,l._fwcObjType=e.type,l._fwcTreeAction=mn.NEW_ITEM,this.treeNewItem(l),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("TREE.FW_CLONE.SUCCESS")})}else s.error&&(s.data.fwcErr==8001||s.data.fwcErr==8002?this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),icon:"fa fa-exclamation-circle fwcRed iconBig",message:this.translate.instant("API_ERROR."+s.data.fwcErr),rejectVisible:!1,acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.OK"),accept:()=>{}}):this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(s.data)}))}};this.appDialogPanelsService.searchAndShowDialog({uuid:Ai.BLOCK_UI_PANEL,data:o})}})}handleClickNodeAction(e){switch(e.node_type){case H.ROUTING_TABLES:{this.fwcPolicyGridRoutingTableFunctionalityService.showNewRoutingTableDialog(e._fwcClusterId,e._fwcClusterName,e._fwcFwId,e._fwcFwName,this.fwcUserService.getActualFwSelectedCloud());break}}}showObjectInfo(e,t){if(!e)return;t&&t.preventDefault();let r=t.target||t.currentTarget;if(!r&&t.composedPath&&t.composedPath().length>0&&(r=t.composedPath()[0]),!r){console.error("No target element found for the event.");return}let o=e.node_type;if(!this.infoTooltipTimer&&!this.infoTooltipShown&&e._fwcObjId!==null&&e._fwcObjType!==null&&IGe.findIndex(s=>o===s)===-1){let s={objId:e._fwcObjId,objType:e._fwcObjType,fwId:e._fwcFwId,clusterId:e._fwcClusterId,objParentId:e.parent_id};this.infoTooltipTimer=setTimeout(()=>{this.infoTooltipShown=!0,this.itemSelectedService.setObjectInfo(s,{event:t,targetElement:r})},1e3)}}clearObjectInfo(e){e&&e.preventDefault(),this.infoTooltipTimer&&(clearTimeout(this.infoTooltipTimer),this.infoTooltipTimer=void 0),this.infoTooltipShown&&(setTimeout(()=>this.itemSelectedService.setObjectInfo(void 0,e),500),this.infoTooltipShown=!1)}static{this.\u0275fac=function(t){return new(t||i)(b(Ba),b(Do),b(At),b(Pn),b(rs),b(pt),b(Zt),b(Ir),b(ro),b(tm),b(Qu),b(rp),b(np),b(Wi),b(tp),b(si),b(ci),b(Ro),b(Et),b(os),b(Bv),b(Mt),b(Xu),b(Ie),b(Xe),b(rt),b(G9,8),b(Nw))}}static{this.\u0275cmp=ie({type:i,selectors:[["sts-fwc-tree"]],viewQuery:function(t,r){if(t&1&&(de(CGe,7),de(yGe,5)),t&2){let o;ee(o=te())&&(r.treeview=o.first),ee(o=te())&&(r.hintFirstTreeElement=o.first)}},inputs:{treeOptions:"treeOptions",treeStyle:"treeStyle",searchString:"searchString",treeSearchOptions:"treeSearchOptions"},features:[Ze([Do,Ir,Zt,ro,tp,Xu,Rn])],decls:2,vars:14,consts:[["treeview",""],[3,"afterExpand","afterCollapse","dragOver","dragLeave","dragDrop","items","itemTemplate","allowDrag","allowDrop","allowFocus","virtualMode","itemDisplay","autoExpand","resourcePath","customStyle","allowAnimation","allowFilter","colorScheme","dragDropMode"]],template:function(t,r){if(t&1){let o=B();m(0,"iui-treeview",1,0),P("afterExpand",function(a){return S(o),A(r.setExpandedNodes(a,!0))})("afterCollapse",function(a){return S(o),A(r.setExpandedNodes(a,!1))})("dragOver",function(a){return S(o),A(r.onDragOver(a))})("dragLeave",function(a){return S(o),A(r.onDragLeave(a))})("dragDrop",function(a){return S(o),A(r.onDragDrop(a))}),_()}t&2&&h("items",r.items)("itemTemplate",r.currentItemTemplate)("allowDrag",!0)("allowDrop",!0)("allowFocus",!0)("virtualMode",!0)("itemDisplay",0)("autoExpand",!(r.options!=null&&r.options.containerReadOnly))("resourcePath",r.currentResourcePath)("customStyle",r.treeIntegralUIStyle)("allowAnimation",!1)("allowFilter",!0)("colorScheme",r.currentColorScheme)("dragDropMode",r.currentDragDrop)},styles:[`:root{--lightColor: #eee;--darkColor: #222;--inputBackgroundColor: #eee;--inputBorderColor: #cacaca;--inputColor: #222;--surfaceBackgroundColor: white;--fixedWhiteColor: #eee;--fixedDarkColor: #333;--translucidColor: transparent;--menuBackground: url(/assets/img/fwc-fondo-menu.jpg);--mainBackground: url(/assets/img/fwc-fondo-home.jpg);--fwcBlue: #0069a7;--fwcBlueDarkened: #005e96;--fwcDarkBlue: #003351;--fwcDarkBlue2: #014071;--fwcLightBlue: #1779ba;--fwcPaleBlue: #689fe1;--fwcPaleBlue2: #cce2f8;--fwcPaleBlue3: #e6f1fd;--fwcBlueGradient1: #386ea0;--fwcBlueGradient2: #21517e;--fwcLightGreyGradient1: #f6f7f9;--fwcLightGreyGradient2: #ebedf0;--fwcOrange: #eb6400;--fwcPaleOrange: #e67e22;--fwcPaleOrange2: #ffcfa4;--fwcPaleOrange3: #fe7815;--fwcOrangeRed: #e74c3c;--fwcRed: #f00;--fwcRed2: #b40b00;--fwcPaleRed: #f77676;--fwcPaleRed2: #ffe1e1;--fwcTranslucidRed: rgba(255, 0, 0, .15);--fwcDarkGreen: #023008;--fwcGreen: #009900;--fwcLightGreen: #28ff28;--fwcPaleGreen: #c7e6c8;--fwcLime: #baf649;--fwcWhite: #eee;--fwcPaleWhite: #f5f5f5;--fwcPaleWhite2: #f4f4f4;--fwcDark: #222;--fwcLightDark: #1e1e1e;--fwcMidDark: #555;--fwcMidDark2: #333;--fwcPaleDark: #888;--fwcPaleDark2: #383838;--fwcGrey: #cacaca;--fwcGrey2: #cecece;--fwcGrey3: #eee;--fwcGrey4: #e5e5e5;--fwcGrey5: #c8c8c8;--fwcGrey6: #efefef;--fwcGrey7: #dedede;--fwcAccent: #ff4081;--fwcShadow: #bbb;--fwcSelected: #ddd;--fwcSelectedB: #0069a7;--fwcRulePink: #ef9a9a;--fwcRulePurple: #ce93d8;--fwcRuleBlue: #90caf9;--fwcRuleTeal: #80cbc4;--fwcRuleGreen: #a5d6a7;--fwcRuleYellow: #fff59d;--fwcRuleOrange: #ffcc80}fwcTree-item{display:inline-block;margin-left:0;transition:all .3s}fwcTree-item *{pointer-events:none}fwcTree-item.fwcHighlightNode{margin-left:.2em;background-color:var(--fwcPaleGreen)!important;padding-right:8em}fwcTree-item.fwcSelectedPolicyNode span.fwc-label{font-weight:700!important}fwcTree-item--disabled .fwcTreeIcon:after{content:"\\\\";font-weight:700;color:var(--fwcRed);position:absolute;left:.9em;top:-.4em;font-size:1.7em;font-style:normal}fwcTree-item--disabled .fwc-label{color:var(--fwcPaleDark)!important}
`],encapsulation:2})}}return i})();var vGe=["fwcGroup"];function bGe(i,n){if(i&1){let e=B();m(0,"div",4),P("contextmenu",function(){let r=S(e).$implicit,o=f();return A(o.selectedItem=r)})("mouseenter",function(r){let o=S(e).$implicit,s=f();return A(s.showObjectInfo(o,r))})("mouseleave",function(r){S(e);let o=f();return A(o.clearObjectInfo(r))})("dblclick",function(){let r=S(e).$implicit,o=f();return A(o.onItemDblClick(r))}),m(1,"div"),O(2,"i",5),R(3,"fwcIcon"),m(4,"span",6),D(5),_()()()}if(i&2){let e=n.$implicit;yn("item-rightclicked",e.rightclicked==!0),V("data-obj_id",e.id),u(2),ra("fwcIcon ",k(3,7,e._fwcObjType),""),u(3),J(" ",e._fwcObjName,"")}}var _h=(()=>{class i{set ipobjs(e){this._ipobjs=e}constructor(e,t,r,o,s,a,l,c,d,p,g,C,y,v,w){this.refService=e,this.store=t,this.renderer=r,this.fwcObjectService=o,this.itemSelectedService=s,this.fwcInterfaceService=a,this.fwcContextMenuService=l,this.fwcKeepalivedPolicyService=c,this.fwcHAProxyPolicyService=d,this.fwcErrorPipe=p,this.fwcUserService=g,this.confirmationService=C,this.utilService=y,this.messageService=v,this.translate=w,this._ipobjs=[],this.groupChanged=new Q,this.onVirtualIpChange=new Q,this.onHAProxyIpChange=new Q,this.applicationRef=null,this.contextMenuReference=null,this.contextMenuStyle=[Cd,Id,yd],this.groupAllowedTypes=[],this.infoTooltipShown=!1,this.alive=!0,this.customFormMode=!1,this.isDisabled=!1,this.isKeepalived=!1,this.keepalivedClusterId=0,this.isHAProxy=!1,this.onChange=E=>{},this.onTouch=()=>{}}writeValue(e){this.customFormMode=!0,this.formValue=e}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouch=e}setDisabledState(e){this.isDisabled=e}ngOnInit(){this.contextMenu=this.fwcContextMenuService.getGroupObjectMenus(),this.store.pipe(kt(()=>this.alive),zn(Ns)).subscribe(e=>{e==="dark"?this.currentColorScheme=mi.Dark:this.currentColorScheme=mi.Light}),this.fwcObjectService.getObjectGroupAllowedTypes().subscribe(e=>{this.groupAllowedTypes=e}),this.fwcUserService.getFwcUser().pipe(kt(()=>this.alive)).subscribe(e=>{this.fwcUser=e}),this.fwcKeepalivedPolicyService.isKeepalivedPolicy$.subscribe(e=>{this.isKeepalived=e}),this.fwcHAProxyPolicyService.isHAProxyPolicy$.subscribe(e=>{this.isHAProxy=e})}ngOnDestroy(){this.alive=!1}ngAfterViewInit(){let e=this;setTimeout(()=>{let t=e.refService.getAppRef();e.contextMenuReference=t,e.applicationRef=t},1)}listDragOver(e){e.preventDefault()}listDragEnter(e){let t;if(this.renderer.addClass(this.fwcGroup.nativeElement,"draggedOver"),e.target==this.fwcGroup.nativeElement&&(t=this.itemSelectedService.getDragItem(),t)){let r=+t._fwcObjType;!t.container||this.groupAllowedTypes[this.groupType].indexOf(r)==-1||this._ipobjs&&this._ipobjs.length&&this._ipobjs.some(function(o){return t._fwcObjId==o._fwcObjId&&t._fwcObjType==o._fwcObjType})||this.readOnly?this.renderer.addClass(this.fwcGroup.nativeElement,"fwcObjectForbidden"):this.renderer.addClass(this.fwcGroup.nativeElement,"fwcObjectAllowed")}}listDragDrop(e){return N(this,null,function*(){let t,r;e.preventDefault(),this.renderer.removeClass(this.fwcGroup.nativeElement,"draggedOver"),this.renderer.removeClass(this.fwcGroup.nativeElement,"fwcObjectForbidden"),this.renderer.removeClass(this.fwcGroup.nativeElement,"fwcObjectAllowed"),r=this.itemSelectedService.getDragItem(),this.itemSelectedService.clearDragItem(),r&&(!r.container||this.readOnly||(t=yield this.checkOperation(r),t?this.confirmationService.confirm({header:"Error",icon:"fa fa-exclamation-circle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:t}):(r._fwcObjTreeParentId=r.pid,this.addObject(r))))})}listDragLeave(e){e.target==this.fwcGroup.nativeElement&&(this.renderer.removeClass(this.fwcGroup.nativeElement,"draggedOver"),this.renderer.removeClass(this.fwcGroup.nativeElement,"fwcObjectForbidden"),this.renderer.removeClass(this.fwcGroup.nativeElement,"fwcObjectAllowed"))}checkOperation(e){return N(this,null,function*(){let t,r=+e._fwcObjType;if(this.groupAllowedTypes[this.groupType].indexOf(r)==-1)t=this.msgNotAllowed?this.msgNotAllowed:this.translate.instant("GROUP.ERROR_NOTALLOWED");else if(this._ipobjs&&this._ipobjs.length&&this._ipobjs.some(o=>e._fwcObjId==o._fwcObjId&&e._fwcObjType==o._fwcObjType))t=this.msgAlreadyExisting?this.msgAlreadyExisting:this.translate.instant("GROUP.ERR_EXISTS",{name:e._fwcObjName});else if((e._fwcObjType===L.OBJ_GROUP||e._fwcObjType===L.OBJ_SERVICE_GROUP)&&(!e.items||!e.items.length))t=this.translate.instant("GROUP.ERROR_EMPTY_GROUP",{name:e._fwcObjName});else if(e._fwcObjType===L.OBJ_INTERFACE_FIREWALL||e._fwcObjType===L.OBJ_INTERFACE_HOST){let o,s;r==L.OBJ_INTERFACE_HOST?(s=this.fwcInterfaceService.getInterfaceHost.bind(this.fwcInterfaceService),o=e.host_id):(s=this.fwcInterfaceService.getInterface.bind(this.fwcInterfaceService),e.cluster_id?o=e._fwcFwId:o=e.firewall_id||e._fwcFwId);let l=(yield s(o,e.id_obj,e.fwcloud).toPromise()).data;(l.mac==null||l.mac==null)&&(t=this.translate.instant("DHCP.POLICY.ERROR_EMPTY_MAC"))}else if(e._fwcObjType===L.OBJ_HOST){let o=!1;if(Array.isArray(e.items)&&e.items.length){for(let s of e.items)if(Array.isArray(s.items)&&s.items.length){o=!!s.items.find(a=>a._fwcObjType===L.OBJ_ADDRESS);break}}o||(t=this.translate.instant("GROUP.ERROR_EMPTY_HOST",{name:e._fwcObjName}))}return t})}addObject(e){if(e){let t=Object.assign({},e);if(this.isHAProxy&&(this.customFormMode=!0),this.isKeepalived&&(this.customFormMode=!0),this.customFormMode){this.formValue=t._fwcObjId;try{if(this.isKeepalived&&(t._fwcObjType===L.OBJ_FIREWALL||t._fwcObjType===L.OBJ_ADDRESS||t._fwcObjType===L.OBJ_INTERFACE_FIREWALL)){let r=this.fwcKeepalivedPolicyService.getKeepalivedClusterId();if(this.keepalivedClusterId=r,t.cluster_id!==r)throw new Error("Invalid cluster")}if(t._fwcObjType===L.OBJ_ADDRESS&&this.isKeepalived)Array.isArray(this.formValue)||(this.formValueArray=[]),this.formValueArray.push(t._fwcObjId),this._ipobjs.push(t),this.onVirtualIpChange.emit({id:t._fwcObjId,type:t._fwcObjType});else try{this.groupType===L.OBJ_HAPROXY_RULE_FRONTEND_IP&&this.isHAProxy?(this._ipobjs=[t],this.onHAProxyIpChange.emit({id:t._fwcObjId,type:t._fwcObjType})):t._fwcObjType===L.OBJ_ADDRESS&&this.isHAProxy?(Array.isArray(this.formValue)||(this.formValueArray=[]),this.formValueArray.push(t._fwcObjId),this._ipobjs.push(t),this.onHAProxyIpChange.emit({id:t._fwcObjId,type:t._fwcObjType})):(this._ipobjs=[t],this.onChange({id:t._fwcObjId,type:t._fwcObjType}))}catch(r){r.message==="Invalid cluster"?this.confirmationService.confirm({header:this.translate.instant("POSITION.ERROR_HEADER"),icon:"fa fa-exclamation-circle fwcRed iconBig",message:this.translate.instant("KEEPALIVED.POLICY.ERROR_CLUSTER_NODES"),rejectVisible:!1,acceptLabel:"Ok",accept:()=>{}}):this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(r)});return}}catch(r){r.message==="Invalid cluster"?this.confirmationService.confirm({header:this.translate.instant("POSITION.ERROR_HEADER"),icon:"fa fa-exclamation-circle fwcRed iconBig",message:this.translate.instant("KEEPALIVED.POLICY.ERROR_CLUSTER_NODES"),rejectVisible:!1,acceptLabel:"Ok",accept:()=>{}}):this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(r)});return}}else{t.selected=!1,t.fwcloud=this.fwcUserService.getActualFwSelectedCloud();let r;r={fwcloud:this.fwcUser.selectedFwCloud,node_parent:this.groupTreeId,node_order:1,node_type:t.node_type,ipobj_g:this.groupId,ipobj:t._fwcObjId},this.utilService.fwcAPICall(this.fwcObjectService.newObjectGroupObject.bind(this.fwcObjectService),r).then(o=>{t._fwcTreeAction=mn.NEW_GROUP_ITEM,this.groupType==L.OBJ_SERVICE_GROUP?t.container=bt.C_SERVICES:this.groupType==L.OBJ_GROUP&&(t.container=bt.C_OBJECTS),o.data&&o.data.length&&(t.fw_status=o.data),t._fwcObjTreeParentId=this.groupTreeId,t.text=t._fwcObjName,this.itemSelectedService.setModifiedItem(t),(!this._ipobjs||!Array.isArray(this._ipobjs))&&(this._ipobjs=[]),this._ipobjs.push(t),this.groupChanged.emit(!0),setTimeout(()=>{this.fwcGroup.nativeElement.scrollTop=this.fwcGroup.nativeElement.scrollHeight-this.fwcGroup.nativeElement.clientHeight},1),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("GROUP.OBJ_ADDED")})}).catch(o=>{o.error&&o.error.fwcErr==5001?this.confirmationService.confirm({header:this.translate.instant("POSITION.ERROR_HEADER"),icon:"fa fa-exclamation-circle fwcRed iconBig",message:this.translate.instant("GROUP.ERROR_EMPTY_CONTAINER",{name:t._fwcObjName}),rejectVisible:!1,acceptLabel:"Ok",accept:()=>{}}):this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(o)})})}}}onItemRightClick(e){this.selectedItem=e,this.clearObjectInfo()}onItemDblClick(e){let t=Object.assign({},e);this.store.dispatch(Nr.selectTreeItem({item:t}))}onContextMenuLoad(e){let t=!1,r=!1,o=this.contextMenu.OBJECT;this.customFormMode&&(o=this.contextMenu.OBJECT_CUSTOMFORM),e.detail.event&&e.detail.event.target&&!e.detail.event.target.getAttribute("data-obj_id")&&(t=!0,this.selectedItem=void 0),this.selectedItem&&(this.selectedItem.rightclicked=!0),(this.selectedItem&&this.selectedItem._fwcObjType==L.OBJ_ANY||!this._ipobjs.length||t)&&(r=!0),o&&o.items&&o.items.forEach(s=>{s.userObject&&this.readOnly?s.visible=!1:s.visible=!r&&s.id!=U.NO_MENU||r&&s.id==U.NO_MENU})}onContextMenuClose(e){this.selectedItem&&(this.selectedItem.rightclicked=!1)}onContextMenuHandler(e){let t=this.selectedItem;if(t&&e.detail.item)switch(e.detail.item.id){case U.FIND_IN_TREE:this.onItemDblClick(t);break;case U.WHERE_USED:let r=Object.assign({},t);r.whereUsedAction=!0,this.itemSelectedService.setItem(r);break;case U.DELETE_FROM_GROUP:this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_CONFIRM"),message:this.translate.instant("GROUP.DEL_OBJ",{name:t._fwcObjName}),icon:"fa fa-question-circle fwcBlue iconBig",rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES"),accept:()=>{let o={fwcloud:this.fwcUser.selectedFwCloud,ipobj_g:this.groupId,ipobj:t._fwcObjId,obj_type:t._fwcObjType};this.utilService.fwcAPICall(this.fwcObjectService.deleteObjectGroupObject.bind(this.fwcObjectService),o).then(s=>{let a=Object.assign({},t);this.removeItem(t),this.groupChanged.emit(!0),this.groupType==L.OBJ_SERVICE_GROUP?a.container=bt.C_SERVICES:this.groupType==L.OBJ_GROUP&&(a.container=bt.C_OBJECTS),a._fwcObjTreeParentId=this.groupTreeId,a._fwcTreeAction=mn.DELETE_GROUP_ITEM,s.data&&s.data.length&&(a.fw_status=s.data),this.itemSelectedService.setModifiedItem(a),this.store.dispatch(gn.reloadDialog({dialogUuids:[Ai.ITEM_PANEL]})),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("GROUP.OBJ_DELETED")})}).catch(s=>{s.error&&s.error.fwcErr==5001?this.confirmationService.confirm({header:this.translate.instant("TREE.MSG_DELETE_OBJ_GROUP_ERROR"),icon:"fa fa-exclamation-circle fwcRed iconBig",message:this.translate.instant("TREE.MSG_DELETE_OBJ_GROUP_EMPTY",{name:t._fwcObjName}),rejectVisible:!1,acceptLabel:"Ok",accept:()=>{}}):this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.translate.instant("GROUP.ERR_DELETING")})})}});break;case U.DELETE:{this._ipobjs=[],this.formValue=void 0,this.onChange(void 0);break}}}removeItem(e){let t=-1;if(!this._ipobjs)return-1;for(let r=0;r<this._ipobjs.length;r++)if(this._ipobjs[r]._fwcObjId!=L.OBJ_ANY&&this._ipobjs[r]._fwcObjId==e._fwcObjId){t=r;break}return t>=0&&this._ipobjs.splice(t,1),t}showObjectInfo(e,t){if(t&&t.preventDefault(),e&&!this.infoTooltipTimer&&!this.infoTooltipShown){let r={objId:e._fwcObjId,objType:e._fwcObjType,objParentId:e.parent_id,fwId:e._fwcFwId,clusterId:e.cluster_id};e.highlighted&&delete e.highlighted,r.objId!==null&&r.objType!==null&&r.objType!=L.OBJ_ANY&&(this.infoTooltipTimer=setTimeout(()=>{this.infoTooltipShown=!0,this.itemSelectedService.setObjectInfo(r,t)},1e3))}}clearObjectInfo(e){e&&e.preventDefault(),this.infoTooltipTimer&&(clearTimeout(this.infoTooltipTimer),this.infoTooltipTimer=void 0),this.itemSelectedService.setObjectInfo(void 0,e),this.infoTooltipShown=!1}static{this.\u0275fac=function(t){return new(t||i)(b(Ba),b(rt),b(Ft),b(Ir),b(At),b(ro),b(tm),b(np),b(rp),b(Wi),b(pt),b(si),b(Et),b(ci),b(Xe))}}static{this.\u0275cmp=ie({type:i,selectors:[["sts-fwc-object-group"]],viewQuery:function(t,r){if(t&1&&de(vGe,5),t&2){let o;ee(o=te())&&(r.fwcGroup=o.first)}},inputs:{groupId:"groupId",groupType:"groupType",groupTreeId:"groupTreeId",readOnly:"readOnly",ipobjs:"ipobjs",msgNotAllowed:"msgNotAllowed",msgAlreadyExisting:"msgAlreadyExisting"},outputs:{groupChanged:"groupChanged",onVirtualIpChange:"onVirtualIpChange",onHAProxyIpChange:"onHAProxyIpChange"},features:[Ze([Ir,ro,{provide:nn,useExisting:zt(()=>i),multi:!0}])],decls:5,vars:5,consts:[["fwcGroup",""],[3,"menuClick","menuOpening","menuClosed","settings","allowAnimation","customStyle","colorScheme","contextMenuRef"],[1,"divFwcPosition","divFwcGroup",3,"dragover","dragenter","dragleave","drop","mouseenter"],[1,"divFwcPosition-item","item-general-default","noselect",3,"item-rightclicked"],[1,"divFwcPosition-item","item-general-default","noselect",3,"contextmenu","mouseenter","mouseleave","dblclick"],["aria-hidden","true"],[1,"fwc-label"]],template:function(t,r){if(t&1){let o=B();m(0,"iui-contextmenu",1),P("menuClick",function(a){return S(o),A(r.onContextMenuHandler(a))})("menuOpening",function(a){return S(o),A(r.onContextMenuLoad(a))})("menuClosed",function(a){return S(o),A(r.onContextMenuClose(a))}),m(1,"div",2,0),P("dragover",function(a){return S(o),A(r.listDragOver(a))})("dragenter",function(a){return S(o),A(r.listDragEnter(a))})("dragleave",function(a){return S(o),A(r.listDragLeave(a))})("drop",function(a){return S(o),A(r.listDragDrop(a))})("mouseenter",function(a){return S(o),A(r.clearObjectInfo(a))}),jr(3,bGe,6,9,"div",3,Ur),_()()}t&2&&(h("settings",r.customFormMode?r.contextMenu.OBJECT_CUSTOMFORM:r.contextMenu.OBJECT)("allowAnimation",!1)("customStyle",r.contextMenuStyle)("colorScheme",r.currentColorScheme)("contextMenuRef",r.contextMenuReference),u(3),Hr(r._ipobjs))},encapsulation:2})}}return i})();var wGe=["treePanel"],SGe=()=>({"max-height":"20em",overflow:"auto"}),AGe=i=>({"font-weight":i});function EGe(i,n){if(i&1){let e=B();m(0,"div",1)(1,"span",11)(2,"input",12),Ve("ngModelChange",function(r){S(e);let o=f();return Ue(o.selectedObjectName,r)||(o.selectedObjectName=r),A(r)}),_(),m(3,"label",13),D(4),R(5,"translate"),_()(),m(6,"button",14),P("click",function(r){S(e),f();let o=We(2);return A(o.toggle(r))}),_()()}if(i&2){let e=f();u(2),Ne("ngModel",e.selectedObjectName),u(2),$(k(5,2,"ITEM_PANEL.FIELDS.NAME"))}}function xGe(i,n){if(i&1){let e=B();m(0,"span",15),P("dblclick",function(){let r=S(e).$implicit,o=f();return A(o.onSelectObjectNode(r))}),O(1,"i",16),R(2,"fwcIcon"),m(3,"span",17),D(4),_()()}if(i&2){let e=n.$implicit;u(),ra("fwcTreeIcon ",Di(2,5,e.data==null?null:e.data.obj_type,e.data==null?null:e.data.node_type),""),u(2),h("ngStyle",oe(8,AGe,e.selectable||e.data!=null&&e.data.alreadySelected?"normal":"bold")),u(),J(" ",e.label," ")}}var Qm=(()=>{class i{set disabledObjects(e){this._disabledObjects=e,this.manageOptions(e)}set fwcloudId(e){this._fwcloudId=e}constructor(e,t,r,o,s,a,l){this.appOptionsService=e,this.fwcObjectTreeService=t,this.fwcErrorPipe=r,this.messageService=o,this.translate=s,this.fwcUserService=a,this.cd=l,this.objectSelected=new Q}ngOnInit(){}ngOnChanges(e){e.fwcloudId&&this.reloadData(this._fwcloudId)}reloadData(e){let t=this.fwcUserService.getActualFwcUser();this.nodeTranslations=this.translate.instant("NODE_TYPES");let r=Object.assign({},this.appOptionsService.optionsTreeFw),o=Object.assign({},this.appOptionsService.optionsTreeObj);r.user_id=o.user_id=t.user_id,r.fwcloud=o.fwcloud=e!==null?e:t.selectedFwCloud,r.objStandard=o.objStandard=0,r.objCloud=o.objCloud=1,Promise.all([this.getTree(r,this.fwTreeNodes),this.getTree(o,this.objectTreeNodes)]).then(([s,a])=>{this.treeData=s.concat(a),this.manageOptions(this._disabledObjects)}).catch(s=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(s)})})}getTree(e,t){let r;return r=new Promise((o,s)=>{let a=[];Array.isArray(t)&&t.length?this.fwcObjectTreeService.getTree(e,e.fwcloud).subscribe(l=>{let c;if(l.data.length?c=l.data[0]:c=l.data,Array.isArray(c.items)&&c.items.length)for(let d=0;d<c.items.length;d++){let p=c.items[d];t.findIndex(g=>p.node_type==g)==-1&&(c.items.splice(d,1),d=d-1)}a=this.convertTree([c],t),o(a)},l=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(l)}),s(l)}):o([])}),this.cd.detectChanges(),r}convertTree(e,t,r){let o=[];return Array.isArray(t)||(t=[]),Array.isArray(this.selectableObjects)||(this.selectableObjects=[]),e.forEach(s=>{this.nodeTranslations[s.node_type]&&!s.id_obj&&(s.text=this.nodeTranslations[s.node_type]);let a=t.findIndex(c=>s.node_type==c)!=-1,l=this.selectableObjects.findIndex(c=>s.obj_type==c)!=-1&&s.id_obj!==null;if(s.node_type!=H.STANDARD&&a||!r){let c={label:s.text,data:{name:s.text,id_obj:s.id_obj,obj_type:s.obj_type,node_type:s.node_type,parent_id:r?r.id_obj:void 0},selectable:l,expanded:!r,children:[]};s.items&&s.items.length&&(c.children=this.convertTree(s.items,t,s)),o.push(c)}}),o}showTree(e,t,r){this.treeMetadata=t,r&&(this.selectedObjectNode=null,this.selectedObjectName=""),this.treePanel.toggle(e)}setOptionSelectable(e,t){let r=this.treeData.slice(0);if(e!=null){for(;r.length;){let o=r.shift();o.data&&o.data.id_obj==e&&(o.data.alreadySelected=!t,o.selectable=t),o.children&&o.children.length&&r.push(...o.children)}this.selectedObjectNode=null,this.selectedObjectName=""}}manageOptions(e){if(!this.treeData)return;let t=this.treeData.slice(0);for(Array.isArray(e)||(e=[]);t.length;){let r=t.shift(),o=e.findIndex(s=>s.ipobj==r.data.id_obj);o!=-1&&(r.data.alreadySelected=!0,e.splice(o,1)),r.children&&r.children.length&&t.push(...r.children)}this.selectedObjectNode=null,this.selectedObjectName=""}onSelectObjectNode(e){if(!e||!e.selectable)return;let t=re({},e.data);this.selectedObjectName=e.label,this.treePanel&&this.treePanel.hide(),this.treeMetadata&&(t._metadata=this.treeMetadata),this.objectSelected.emit(t)}static{this.\u0275fac=function(t){return new(t||i)(b(Bt),b(Do),b(Wi),b(ci),b(Xe),b(pt),b(Ie))}}static{this.\u0275cmp=ie({type:i,selectors:[["sts-fwc-tree-selector"]],viewQuery:function(t,r){if(t&1&&de(wGe,5),t&2){let o;ee(o=te())&&(r.treePanel=o.first)}},inputs:{fwTreeNodes:"fwTreeNodes",objectTreeNodes:"objectTreeNodes",selectableObjects:"selectableObjects",hideObjectName:"hideObjectName",disabledObjects:"disabledObjects",fwcloudId:"fwcloudId"},outputs:{objectSelected:"objectSelected"},features:[Ze([Do]),en],decls:11,vars:8,consts:[["treePanel",""],[1,"p-inputgroup"],["appendTo","body",3,"dismissable"],["selectionMode","single","styleClass","treeSelector",3,"selectionChange","value","selection"],["pTemplate","default"],[1,"grid"],[1,"col-12"],[1,"fwc-right-float"],["pButton","","type","button","icon","fa fa-times",1,"p-button-warning",3,"click"],[1,"fwcSepShort"],["pButton","","type","button","icon","fa fa-check",1,"p-button-success",3,"click","disabled"],[1,"p-float-label"],["type","text","pInputText","","maxlength","64","name","_object_name","disabled","true",3,"ngModelChange","ngModel"],["for","_object_name"],["pButton","","type","button","icon","fa fa-search",1,"p-button-secondary",2,"width","2rem","height","2.5rem","max-height","100%",3,"click"],[1,"noselect",3,"dblclick"],["aria-hidden","true"],[3,"ngStyle"]],template:function(t,r){if(t&1){let o=B();I(0,EGe,7,4,"div",1),m(1,"p-overlayPanel",2,0)(3,"p-tree",3),Ve("selectionChange",function(a){return S(o),Ue(r.selectedObjectNode,a)||(r.selectedObjectNode=a),A(a)}),I(4,xGe,5,10,"ng-template",4),_(),m(5,"div",5)(6,"div",6)(7,"div",7)(8,"button",8),P("click",function(){S(o);let a=We(2);return A(a.hide())}),_(),O(9,"span",9),m(10,"button",10),P("click",function(){return S(o),A(r.onSelectObjectNode(r.selectedObjectNode))}),_()()()()()}t&2&&(q(r.hideObjectName?-1:0),u(),h("dismissable",!1),u(2),dt(Ae(7,SGe)),h("value",r.treeData),Ne("selection",r.selectedObjectNode),u(7),h("disabled",!r.selectedObjectNode))},dependencies:[Ee,pn,cn,Qr,Gn,be,mt,Fp,$a,On,vt,Rn],encapsulation:2})}}return i})();var aW=Ja(rC());var TGe=["optionsTable"],OGe=["routesTreeSelector"],DGe=()=>({width:"40rem",height:"28rem"}),RGe=(i,n,e,t,r,o)=>[i,n,e,t,r,o],PGe=(i,n,e,t)=>[i,n,e,t],kGe=(i,n)=>[i,n];function FGe(i,n){i&1&&(m(0,"tr"),O(1,"th",8),m(2,"th",9),D(3),R(4,"translate"),O(5,"p-sortIcon",10),_(),m(6,"th"),D(7),R(8,"translate"),_(),m(9,"th"),D(10),R(11,"translate"),_()()),i&2&&(u(3),J(" ",k(4,3,"VPN.CONFIG.GRID_HEADER.0")," "),u(4),$(k(8,5,"VPN.CONFIG.GRID_HEADER.1")),u(3),$(k(11,7,"VPN.CONFIG.GRID_HEADER.2")))}function LGe(i,n){if(i&1&&(m(0,"span"),D(1),_()),i&2){let e=n.$implicit;u(),$(e.label)}}function MGe(i,n){if(i&1&&(m(0,"div")(1,"div"),D(2),_()()),i&2){let e=n.$implicit;u(2),$(e.label)}}function NGe(i,n){if(i&1){let e=B();m(0,"p-dropdown",19),R(1,"translate"),Ve("ngModelChange",function(r){S(e);let o=f(2).$implicit;return Ue(o.name,r)||(o.name=r),A(r)}),P("onChange",function(r){S(e);let o=f(3);return A(o.onDataChanged(r))}),I(2,LGe,2,1,"ng-template",20)(3,MGe,3,1,"ng-template",21),_()}if(i&2){let e=f(2).$implicit,t=f();h("options",t.availableKeywords),Ne("ngModel",e.name),h("autoDisplayFirst",!1)("emptyFilterMessage",k(1,4,"VPN.CONFIG.NO_OPS"))}}function VGe(i,n){if(i&1&&D(0),i&2){let e=f(2).$implicit;J(" ",e.name," ")}}function BGe(i,n){i&1&&(m(0,"div",24)(1,"h6",25),O(2,"i",26),D(3),R(4,"translate"),_()()),i&2&&(u(3),J(" ",k(4,1,"VPN.CONFIG.DATA_CIPHERS.HEADER")," "))}function UGe(i,n){if(i&1){let e=B();m(0,"div",27)(1,"div",28)(2,"label",29),D(3),R(4,"translate"),_(),m(5,"p-listbox",30),Ve("ngModelChange",function(r){S(e);let o=f(4);return Ue(o.selectedItems,r)||(o.selectedItems=r),A(r)}),_()(),m(6,"div",31)(7,"button",32),P("click",function(){S(e);let r=f(4);return A(r.addSelected())}),_(),m(8,"button",33),P("click",function(){S(e);let r=f(4);return A(r.removeSelected())}),_()(),m(9,"div",34)(10,"label",29),D(11),R(12,"translate"),_(),m(13,"p-listbox",30),Ve("ngModelChange",function(r){S(e);let o=f(4);return Ue(o.removedItems,r)||(o.removedItems=r),A(r)}),_()()()}if(i&2){let e=f(4);u(3),$(k(4,8,"VPN.CONFIG.DATA_CIPHERS.AVAILABLE_CIPHERS")),u(2),h("options",e.unselectedOptions),Ne("ngModel",e.selectedItems),h("multiple",!0),u(6),$(k(12,10,"VPN.CONFIG.DATA_CIPHERS.SELECTED_CIPHERS")),u(2),h("options",e.selectedOptions),Ne("ngModel",e.removedItems),h("multiple",!0)}}function jGe(i,n){if(i&1){let e=B();m(0,"button",35),R(1,"translate"),P("click",function(){S(e);let r=f(3).$implicit,o=f();return A(o.confirmSelection(r))}),_(),m(2,"button",36),R(3,"translate"),P("click",function(){S(e);let r=f(4);return A(r.onCloseDialog())}),_()}if(i&2){let e=f(4);ae("label",k(1,3,"GLOBALS.MSG_BUTTONS.ACCEPT")),h("disabled",e.selectedOptions.length===0),u(2),ae("label",k(3,5,"GLOBALS.MSG_BUTTONS.CANCEL"))}}function HGe(i,n){if(i&1){let e=B();m(0,"td",15),P("click",function(){S(e);let r=f(2).$implicit,o=f();return A(o.openDialog(r))}),m(1,"p-dialog",22),Ve("visibleChange",function(r){S(e);let o=f(3);return Ue(o.displayDialog,r)||(o.displayDialog=r),A(r)}),P("onHide",function(){S(e);let r=f(3);return A(r.onCloseDialog())}),I(2,BGe,5,3,"ng-template",4)(3,UGe,14,12,"ng-template",16)(4,jGe,4,7,"ng-template",23),_(),m(5,"p"),D(6),_()()}if(i&2){let e=f(2).$implicit,t=f();u(),dt(Ae(6,DGe)),Ne("visible",t.displayDialog),h("modal",!0)("closable",!0),u(5),J(" ",t.getOptionArgsWithDefault(e)," ")}}function GGe(i,n){if(i&1&&(m(0,"span"),D(1),_()),i&2){let e=n.$implicit;u(),$(e.label)}}function zGe(i,n){if(i&1&&(m(0,"div"),D(1),_()),i&2){let e=n.$implicit;u(),$(e.label)}}function WGe(i,n){if(i&1){let e=B();m(0,"p-dropdown",19),R(1,"translate"),Ve("ngModelChange",function(r){S(e);let o=f(4).$implicit;return Ue(o.arg,r)||(o.arg=r),A(r)}),P("onChange",function(r){S(e);let o=f(5);return A(o.onDataChanged(r))}),I(2,GGe,2,1,"ng-template",20)(3,zGe,2,1,"ng-template",21),_()}if(i&2){let e=f(4).$implicit,t=f();h("options",t.availableCiphers),Ne("ngModel",e.arg),h("autoDisplayFirst",!1)("emptyFilterMessage",k(1,4,"VPN.CONFIG.NO_OPS"))}}function KGe(i,n){if(i&1&&(m(0,"p"),D(1),_()),i&2){let e=f(4).$implicit,t=f();u(),$(t.getOptionArgsWithDefault(e))}}function $Ge(i,n){i&1&&(m(0,"p-cellEditor"),I(1,WGe,4,6,"ng-template",16)(2,KGe,2,1,"ng-template",17),_())}function qGe(i,n){if(i&1&&(m(0,"span"),D(1),_()),i&2){let e=n.$implicit;u(),$(e.label)}}function YGe(i,n){if(i&1&&(m(0,"div"),D(1),_()),i&2){let e=n.$implicit;u(),$(e.label)}}function JGe(i,n){if(i&1){let e=B();m(0,"p-dropdown",19),R(1,"translate"),Ve("ngModelChange",function(r){S(e);let o=f(4).$implicit;return Ue(o.arg,r)||(o.arg=r),A(r)}),P("onChange",function(r){S(e);let o=f(5);return A(o.onDataChanged(r))}),I(2,qGe,2,1,"ng-template",20)(3,YGe,2,1,"ng-template",21),_()}if(i&2){let e=f(4).$implicit,t=f();h("options",t.complzoOptions),Ne("ngModel",e.arg),h("autoDisplayFirst",!1)("emptyFilterMessage",k(1,4,"VPN.CONFIG.NO_OPS"))}}function XGe(i,n){if(i&1&&(m(0,"p"),D(1),_()),i&2){let e=f(4).$implicit,t=f();u(),J(" ",t.getOptionArgsWithDefault(e),"")}}function QGe(i,n){i&1&&(m(0,"p-cellEditor"),I(1,JGe,4,6,"ng-template",16)(2,XGe,2,1,"ng-template",17),_())}function ZGe(i,n){if(i&1){let e=B();m(0,"input",38),Ve("ngModelChange",function(r){S(e);let o=f(5).$implicit;return Ue(o.arg,r)||(o.arg=r),A(r)}),P("change",function(r){S(e);let o=f(6);return A(o.onDataChanged(r))}),_()}if(i&2){let e=f(5).$implicit;Ne("ngModel",e.arg)}}function eze(i,n){if(i&1&&I(0,ZGe,1,1,"input",37),i&2){let e=f(4).$implicit,t=f();q(t.checkFlagOption(e)?-1:0)}}function tze(i,n){if(i&1&&D(0),i&2){let e=f(4).$implicit;J(" ",e.arg," ")}}function ize(i,n){i&1&&(m(0,"p-cellEditor"),I(1,eze,1,1,"ng-template",16)(2,tze,1,1,"ng-template",17),_())}function nze(i,n){if(i&1){let e=B();m(0,"td",15),P("click",function(r){S(e);let o=f(3);return A(o.scrollToEditorCell(r))}),I(1,$Ge,3,0,"p-cellEditor")(2,QGe,3,0,"p-cellEditor")(3,ize,3,0,"p-cellEditor"),_()}if(i&2){let e=f(2).$implicit;u(),q(e.name==="cipher"||e.name==="data-ciphers-fallback"?1:e.name==="comp-lzo"?2:3)}}function rze(i,n){if(i&1){let e=B();m(0,"input",38),Ve("ngModelChange",function(r){S(e);let o=f(2).$implicit;return Ue(o.comment,r)||(o.comment=r),A(r)}),P("change",function(r){S(e);let o=f(3);return A(o.onDataChanged(r))}),_()}if(i&2){let e=f(2).$implicit;Ne("ngModel",e.comment)}}function oze(i,n){if(i&1&&(m(0,"div",39),D(1),_()),i&2){let e=f(2).$implicit;u(),J(" ",e.comment," ")}}function sze(i,n){if(i&1){let e=B();m(0,"td",15),P("click",function(r){S(e);let o=f(2);return A(o.scrollToEditorCell(r))}),m(1,"p-cellEditor"),I(2,NGe,4,6,"ng-template",16)(3,VGe,1,1,"ng-template",17),_()(),I(4,HGe,7,7,"td",18)(5,nze,4,1,"td",18),m(6,"td",18)(7,"p-cellEditor"),I(8,rze,1,1,"ng-template",16)(9,oze,2,1,"ng-template",17),_()()}if(i&2){let e=f().$implicit;u(4),q(e.name==="data-ciphers"?4:5)}}function aze(i,n){if(i&1&&(O(0,"i",40),R(1,"translate")),i&2){let e=f(2).$implicit;ae("pTooltip",k(1,1,e.emptyMessageKey))}}function lze(i,n){if(i&1){let e=B();m(0,"span"),D(1," \xA0 "),m(2,"i",41),P("mouseenter",function(r){S(e);let o=f(2).$implicit,s=f();return A(s.showObjectInfo(o,r))})("mouseleave",function(r){S(e);let o=f(3);return A(o.clearObjectInfo(r))})("wheel",function(r){S(e);let o=f(3);return A(o.clearObjectInfo(r))}),_()()}}function cze(i,n){if(i&1&&(m(0,"td")(1,"strong"),D(2),_()(),m(3,"td"),I(4,aze,2,3,"i",40),m(5,"strong"),D(6),_(),I(7,lze,3,0,"span"),_(),m(8,"td")(9,"strong"),D(10),_()()),i&2){let e=f().$implicit;u(2),$(e.name),u(2),q(e.arg?-1:4),u(2),$(e.arg),u(),q(e.ipobj?7:-1),u(3),$(e.comment)}}function dze(i,n){if(i&1){let e=B();m(0,"tr",11,1)(2,"td",12)(3,"iui-contextmenu",13),P("menuOpening",function(r){let o=S(e),s=o.$implicit,a=o.rowIndex,l=f();return A(l.contextMenuLoad(r,s,a))})("menuClick",function(r){let o=S(e),s=o.$implicit,a=o.rowIndex,l=f();return A(l.contextMenuHandler(r,s,a))}),O(4,"i",14),_()(),I(5,sze,10,1)(6,cze,11,5),_()}if(i&2){let e=n.$implicit,t=n.rowIndex,r=f();h("pReorderableRow",t),u(3),h("settings",r.contextMenu)("allowAnimation",!1)("customStyle",r.contextMenuStyle)("colorScheme",r.currentColorScheme),u(2),q(e.readonly?6:5)}}function uze(i,n){if(i&1){let e=B();m(0,"button",42),R(1,"translate"),P("click",function(r){S(e);let o=f();return A(o.onAddRouteOrIRoute(r))}),_(),m(2,"button",42),R(3,"translate"),P("click",function(r){S(e);let o=f();return A(o.onAddRouteOrIRoute(r,!0))}),_(),m(4,"sts-fwc-tree-selector",43,2),P("objectSelected",function(r){S(e);let o=f();return A(o.onRouteObjectSelected(r))}),_()}if(i&2){let e=f();ae("label",k(1,7,"VPN.CONFIG.ADD_ROUTE")),u(2),ae("label",k(3,9,"VPN.CONFIG.ADD_IROUTE")),u(2),h("fwcloudId",null)("hideObjectName",!0)("fwTreeNodes",ll(11,RGe,e.NodeTypes.FOLDER,e.NodeTypes.OBJ_FIREWALL,e.NodeTypes.OBJ_CLUSTER,e.NodeTypes.FOLDER_INTERFACES,e.NodeTypes.OBJ_IF_FW,e.NodeTypes.OBJ_ADDRESS))("objectTreeNodes",dr(18,PGe,e.NodeTypes.OBJ_ADDRESS,e.NodeTypes.OBJ_NETWORK,e.NodeTypes.OBJ_HOST,e.NodeTypes.OBJ_IF_HOST))("selectableObjects",Je(23,kGe,e.ObjectTypes.OBJ_ADDRESS,e.ObjectTypes.OBJ_NETWORK))}}var yS=(()=>{class i{set options(e){this.buildKeywords(),this.buildOptions(e)}constructor(e,t,r,o,s,a,l,c,d,p){this.refService=e,this.itemSelectedService=t,this.confirmationService=r,this.utilService=o,this.fwcObjectService=s,this.fwcUserService=a,this.fwcInterfaceService=l,this.cd=c,this.translate=d,this.store=p,this.dataChanges=new Q,this.optionDeleted=new Q,this.contextMenuReference=null,this.contextMenuStyle=[Cd,Id,yd],this.applicationRef=null,this.initialized=!1,this.OptionScope=ri,this.NodeTypes=H,this.ObjectTypes=L,this.alive=!0,this.isClosing=!1,this.infoTooltipShown=!1,this.displayDialog=!1,this.selectedItems=[],this.removedItems=[],this.openVPNDefaultServerOVPOptions=M2,this.gridOptions=[],this.availableKeywords=[],this.availableCiphers=k2,this.defaultCipher=k2[0].value,this.defaultDataCiphersValue=[51,4,0].map(g=>({label:this.availableCiphers[g].label,value:this.availableCiphers[g].value})),this.unselectedOptions=this.availableCiphers.filter(g=>!this.defaultDataCiphersValue.some(C=>C.value===g.value)),this.selectedOptions=[],this.selectedOptionsDisplay=this.defaultDataCiphersValue.map(g=>g.value).join(":"),this.complzoOptions=F2,this.complzoDefaultOption=F2[0].value}ngOnInit(){this.contextMenu={items:[{id:U.VPN_OPTION_DELETE,text:this.translate.instant("VPN.CONFIG.DELETE_OPTION"),icon:"fwcMenuIcon fwci-delete fwcRed"},{id:U.NO_MENU,text:this.translate.instant("CONTEXT.NO_OPTIONS"),visible:!1}]},this.store.pipe(kt(()=>this.alive),zn(Ns)).subscribe(e=>{e==="dark"?this.currentColorScheme=mi.Dark:this.currentColorScheme=mi.Light}),this.selectedOptions=this.defaultDataCiphersValue,this.initialSelectedOptions=[...this.selectedOptions],this.initialUnselectedOptions=[...this.unselectedOptions]}ngOnDestroy(){this.alive=!1}ngAfterViewInit(){let e=this;setTimeout(function(){let t=e.refService.getAppRef();e.contextMenuReference=t,e.applicationRef=t},1)}ngOnChanges(e){if(e.options){let r=e.options.currentValue;this.gridOptions=r.filter(o=>o.scope===this.scope)}this.dataChanges.emit(0),this.optionsTable&&!this.initialized&&(setTimeout(()=>{this.optionsTable.el.nativeElement.querySelector("table").scrollIntoView({behavior:"smooth",block:"start"})},100),this.initialized=!0,this.cd.detectChanges())}buildKeywords(e){let t=this.scope===ri.ccd?CV:M2;this.availableKeywords=[];let r=e?e.map(o=>o.name):Nv.map(o=>o.name);t.forEach(o=>{let s=r.includes(o),a=L2.includes(o);this.availableKeywords.push({label:o,value:o,disabled:s&&!a})})}buildOptions(e){if(!(!e||this.scope!=ri.ccd&&this.scope!=ri.ovp)){this.requiredOptions=[],this.genericOptions=[],this.gridOptions=[];for(let t=0;t<e.length;t++)e[t].scope==this.scope&&this.gridOptions.push(Object.assign({},e[t]))}}onDeleteOption(e,t){this.checkOptionIsMandatory(e)||this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_CONFIRM"),icon:"fa fa-question-circle fwcBlue iconBig",rejectVisible:!0,rejectLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.NO"),acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES"),message:this.translate.instant("VPN.CONFIG.ASK_DELETE_OPTION",{name:e.name}),accept:()=>{let r=Object.assign({},e);if(this.checkOptionIsDeletable(e)?(this.gridOptions.splice(t,1),this.optionDeleted.emit(r)):e.arg&&e.arg.length&&(e.arg=void 0,e.ipobj=void 0,e.comment=void 0,this.optionDeleted.emit(r)),!L2.includes(e.name)){let o=this.availableKeywords.find(s=>s.value===e.name);o&&(o.disabled=!1)}}})}onAddOption(){let e=document.activeElement;e&&e.blur(),this.buildKeywords(this.gridOptions),setTimeout(()=>{this.addIPOption("",this.scope)},50)}onAddRouteOrIRoute(e,t){this.routesTreeSelector&&this.routesTreeSelector.showTree(e,{iroute:!!t},!0)}onRouteObjectSelected(e){if(!e||!e._metadata)return;let t,r;switch(e.obj_type){case L.OBJ_ADDRESS:case L.OBJ_NETWORK:t=this.fwcObjectService.getObject.bind(this.fwcObjectService),r=[e.id_obj,this.fwcUserService.getActualFwSelectedCloud()];break}t&&e.id_obj&&this.utilService.fwcAPICall(t,...r).then(o=>{let s=o.data.address,a=o.data.netmask,l,c;if(e.obj_type===L.OBJ_ADDRESS)a="255.255.255.255";else{let d=wi.netmaskCIDRRegexp.exec(a);if(d){let p=parseInt(d[1]);a=aW.IPv4.subnetMaskFromPrefixLength(p).toString()}}e._metadata.iroute?(l="iroute",c=`${s} ${a}`):(l="push",c=`"route ${s} ${a}"`),this.addIPOption(l,this.scope,c)}).catch(o=>{})}onDataChanged(e){this.dataChanges.emit(1)}contextMenuLoad(e,t,r){let o=!1,s=!1;if(o=this.checkOptionIsMandatory(t),s=o,s){e.detail.cancel=!0;return}this.contextMenu&&this.contextMenu.items&&this.contextMenu.items.forEach(function(a){a.id==U.VPN_OPTION_DELETE&&(a.visible=!o)})}checkOptionIsMandatory(e){let t=!1;for(let r in Cs)if(e.name==Cs[r]){t=!0;break}return t}checkOptionIsDeletable(e){let t=!0;return e.required&&this.gridOptions.filter(o=>o.name==e.name).length<=1&&(t=!1),t}contextMenuHandler(e,t,r){if(e.detail.item)switch(e.detail.item.id){case U.VPN_OPTION_DELETE:this.onDeleteOption(t,r);break}}getOptions(){return this.gridOptions=this.gridOptions.filter(e=>!!e.name),this.gridOptions}getScope(){return this.scope}updateOrCreateIPOption(e,t){if(!e)return;let r=!0,o=this.gridOptions.filter(s=>s.name==e.name);if(o.length==1){let s=o[0];if(!s.ipobj&&s.required||t)for(let a of Object.keys(e))e[a]!==void 0&&e[a]!==null&&(s[a]=e[a]),r=!1}if(r){for(let s=this.gridOptions.length-1;s>=0;s--)if(this.gridOptions[s].name==e.name){this.gridOptions.splice(s+1,0,Object.assign({},e));break}}this.dataChanges.emit(1)}addIPOption(e,t,r,o,s){if(this.gridOptions.length&&!this.gridOptions[this.gridOptions.length-1].name&&this.gridOptions.pop(),this.gridOptions.push({name:e,scope:t,arg:r,ipobj:o,comment:s}),this.selectedOption=this.gridOptions[this.gridOptions.length-1],this.cd.detectChanges(),this.optionsTable&&setTimeout(()=>{this.optionsTable.el.nativeElement.querySelector("table").scrollIntoView({behavior:"instant",block:"end"})},0),e)this.dataChanges.emit(1);else{let a=this.optionsTable.el.nativeElement.querySelector("table tbody tr:last-child");if(a){let l=a.querySelector("td:nth-child(2)");l&&setTimeout(()=>{l.click()},0)}}}modifyIPOption(e,t,r,o){let s=this.gridOptions.find(a=>a.name==e);s&&t===this.scope&&(r&&(s.arg=r),o!=null&&(s.ipobj=o))}checkFlagOption(e){return mV.includes(e.name)}clearOptions(){this.options=[],this.gridOptions=[],this.initialized=!1}showObjectInfo(e,t){if(e){let r={objId:e.ipobj};r.objId!==null&&(this.infoTooltipTimer=setTimeout(()=>{this.infoTooltipShown=!0,this.itemSelectedService.setObjectInfo(r,t)},1e3))}}clearObjectInfo(e){this.infoTooltipTimer&&(clearTimeout(this.infoTooltipTimer),this.infoTooltipTimer=void 0),this.infoTooltipShown&&(this.itemSelectedService.setObjectInfo(void 0,e),this.infoTooltipShown=!1)}addSelected(){let e=this.selectedItems.filter(t=>!this.selectedOptions.some(r=>r.value===t.value));this.selectedOptions.push(...e),this.unselectedOptions=this.unselectedOptions.filter(t=>!this.selectedItems.includes(t)),this.unselectedOptions.sort((t,r)=>t.label.localeCompare(r.label)),this.selectedItems=[],this.removedItems=[],this.cd.detectChanges()}removeSelected(){let e=this.removedItems.filter(t=>!this.unselectedOptions.some(r=>r.value===t.value));this.unselectedOptions.push(...e),this.unselectedOptions.sort((t,r)=>t.label.localeCompare(r.label)),this.selectedOptions=this.selectedOptions.filter(t=>!this.removedItems.includes(t)),this.removedItems=[],this.selectedItems=[],this.cd.detectChanges()}confirmSelection(e){this.initialSelectedOptions=[...this.selectedOptions],this.initialUnselectedOptions=[...this.unselectedOptions],this.selectedOptionsDisplay=this.selectedOptions.map(t=>t.label).join(":"),e.arg=this.selectedOptionsDisplay,this.displayDialog=!1,this.cd.detectChanges(),this.dataChanges.emit(1)}openDialog(e){if(!this.displayDialog){let t=e?.arg&&e.arg.trim()!==""?e.arg:this.defaultDataCiphersValue.map(o=>o.value).join(":"),r=t.split(":");this.selectedOptions=r.map(o=>this.availableCiphers.find(s=>s.value===o)).filter(o=>o!==void 0),this.unselectedOptions=this.availableCiphers.filter(o=>!t.includes(o.value)).sort((o,s)=>o.label.localeCompare(s.label)),setTimeout(()=>{this.displayDialog=!0,this.cd.detectChanges()},0)}}onCloseDialog(){this.isClosing||(this.isClosing=!0,this.selectedOptions=[...this.initialSelectedOptions],this.unselectedOptions=[...this.initialUnselectedOptions],setTimeout(()=>{this.displayDialog=!1,this.isClosing=!1,this.dataChanges.emit(0),this.cd.detectChanges()},300))}scrollToEditorCell(e){let t=e.currentTarget;t&&setTimeout(()=>{t.scrollIntoView({behavior:"instant",block:"center"}),this.dropdown.show()},0)}getOptionArgsWithDefault(e){return(!e.arg||e.arg===""||e.arg.trim()==="")&&(e.name==="data-ciphers"?e.arg=this.defaultDataCiphersValue.map(t=>t.value).join(":"):e.name==="cipher"||e.name==="data-ciphers-fallback"?e.arg=this.defaultCipher:e.name==="comp-lzo"&&(e.arg=this.complzoDefaultOption)),e.arg}static{this.\u0275fac=function(t){return new(t||i)(b(Ba),b(At),b(si),b(Et),b(Ir),b(pt),b(ro),b(Ie),b(Xe),b(rt))}}static{this.\u0275cmp=ie({type:i,selectors:[["sts-fwc-ovoptions-grid"]],viewQuery:function(t,r){if(t&1&&(de(Ho,5),de(TGe,5),de(OGe,5)),t&2){let o;ee(o=te())&&(r.dropdown=o.first),ee(o=te())&&(r.optionsTable=o.first),ee(o=te())&&(r.routesTreeSelector=o.first)}},inputs:{scope:"scope",options:"options"},outputs:{dataChanges:"dataChanges",optionDeleted:"optionDeleted"},features:[Ze([ro,Ir]),en],decls:8,vars:7,consts:[["optionsTable",""],["dropwdown",""],["routesTreeSelector",""],["scrollHeight","13em","selectionMode","single","styleClass","optionsTable",3,"selectionChange","onEditComplete","onRowReorder","value","scrollable","selection"],["pTemplate","header"],["pTemplate","body"],[1,"divGridFooter"],["pButton","","icon","fa fa-plus",3,"click","label"],[1,"tdActionColumn"],["pSortableColumn","name"],["field","name"],[1,"trOptionsGridRow",3,"pReorderableRow"],["pReorderableRowHandle","",1,"tdActionColumn"],["contextMenuRef","contextMenuReference",3,"menuOpening","menuClick","settings","allowAnimation","customStyle","colorScheme"],["pReorderableRowHandle","",1,"fa","fa-bars","fwcBlue"],["pEditableColumn","",3,"click"],["pTemplate","input"],["pTemplate","output"],["pEditableColumn",""],["styleClass","fwcGridDropDown","appendTo","body","filter","true",3,"ngModelChange","onChange","options","ngModel","autoDisplayFirst","emptyFilterMessage"],["pTemplate","selectedItem"],["pTemplate","item"],["id","data-ciphers","styleClass","dlgFwcDialog",3,"visibleChange","onHide","visible","modal","closable"],["pTemplate","footer"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"fwci-edit","fwcOrange"],[1,"dual-list"],[1,"ciphersList"],[1,"fwcBlue"],["optionLabel","label",3,"ngModelChange","options","ngModel","multiple"],[1,"button-group"],["pButton","","icon","pi pi-arrow-right",1,"p-button-primary",3,"click"],["pButton","","icon","pi pi-arrow-left",1,"p-button-danger",3,"click"],[1,"selectedOptions"],["pButton","","icon","pi pi-check",3,"click","label","disabled"],["pButton","","icon","pi pi-times",1,"p-button-danger",3,"click","label"],["pInputText","","type","text","maxlength","255",3,"ngModel"],["pInputText","","type","text","maxlength","255",3,"ngModelChange","change","ngModel"],[1,"divWrapper"],[1,"fa","fa-question-circle","fa-lg","fwcOrange",3,"pTooltip"],[1,"fa","fa-lg","fa-info-circle","fwcBlue",3,"mouseenter","mouseleave","wheel"],["pButton","",3,"click","label"],[3,"objectSelected","fwcloudId","hideObjectName","fwTreeNodes","objectTreeNodes","selectableObjects"]],template:function(t,r){if(t&1){let o=B();m(0,"p-table",3,0),Ve("selectionChange",function(a){return S(o),Ue(r.selectedOption,a)||(r.selectedOption=a),A(a)}),P("onEditComplete",function(a){return S(o),A(r.onDataChanged(a))})("onRowReorder",function(a){return S(o),A(r.onDataChanged(a))}),I(2,FGe,12,9,"ng-template",4)(3,dze,7,6,"ng-template",5),_(),m(4,"div",6)(5,"button",7),R(6,"translate"),P("click",function(){return S(o),A(r.onAddOption())}),_(),I(7,uze,6,26),_()}t&2&&(h("value",r.gridOptions)("scrollable",!0),Ne("selection",r.selectedOption),u(5),ae("label",k(6,5,"VPN.CONFIG.ADD_OPTION")),u(2),q(r.scope===r.OptionScope.ccd?7:-1))},dependencies:[pn,cn,Qr,Gn,ni,be,mt,Zn,On,io,wf,zT,h5,Sf,f5,m5,Ho,fR,Qm,vt],styles:[`@charset "UTF-8";:root{--lightColor: #eee;--darkColor: #222;--inputBackgroundColor: #eee;--inputBorderColor: #cacaca;--inputColor: #222;--surfaceBackgroundColor: white;--fixedWhiteColor: #eee;--fixedDarkColor: #333;--translucidColor: transparent;--menuBackground: url(/assets/img/fwc-fondo-menu.jpg);--mainBackground: url(/assets/img/fwc-fondo-home.jpg);--fwcBlue: #0069a7;--fwcBlueDarkened: #005e96;--fwcDarkBlue: #003351;--fwcDarkBlue2: #014071;--fwcLightBlue: #1779ba;--fwcPaleBlue: #689fe1;--fwcPaleBlue2: #cce2f8;--fwcPaleBlue3: #e6f1fd;--fwcBlueGradient1: #386ea0;--fwcBlueGradient2: #21517e;--fwcLightGreyGradient1: #f6f7f9;--fwcLightGreyGradient2: #ebedf0;--fwcOrange: #eb6400;--fwcPaleOrange: #e67e22;--fwcPaleOrange2: #ffcfa4;--fwcPaleOrange3: #fe7815;--fwcOrangeRed: #e74c3c;--fwcRed: #f00;--fwcRed2: #b40b00;--fwcPaleRed: #f77676;--fwcPaleRed2: #ffe1e1;--fwcTranslucidRed: rgba(255, 0, 0, .15);--fwcDarkGreen: #023008;--fwcGreen: #009900;--fwcLightGreen: #28ff28;--fwcPaleGreen: #c7e6c8;--fwcLime: #baf649;--fwcWhite: #eee;--fwcPaleWhite: #f5f5f5;--fwcPaleWhite2: #f4f4f4;--fwcDark: #222;--fwcLightDark: #1e1e1e;--fwcMidDark: #555;--fwcMidDark2: #333;--fwcPaleDark: #888;--fwcPaleDark2: #383838;--fwcGrey: #cacaca;--fwcGrey2: #cecece;--fwcGrey3: #eee;--fwcGrey4: #e5e5e5;--fwcGrey5: #c8c8c8;--fwcGrey6: #efefef;--fwcGrey7: #dedede;--fwcAccent: #ff4081;--fwcShadow: #bbb;--fwcSelected: #ddd;--fwcSelectedB: #0069a7;--fwcRulePink: #ef9a9a;--fwcRulePurple: #ce93d8;--fwcRuleBlue: #90caf9;--fwcRuleTeal: #80cbc4;--fwcRuleGreen: #a5d6a7;--fwcRuleYellow: #fff59d;--fwcRuleOrange: #ffcc80}.p-dropdown.fwcGridDropDown{width:100%!important}.tdActionColumn{width:2.5em}tr.trOptionsGridRow td{overflow:hidden;font-family:Montserrat,Arial,sans-serif;padding:.3rem}tr.trOptionsGridRow td .divWrapper{position:relative;height:100%;width:100%}tr.trOptionsGridRow td .divWrapper:before{content:"\\a0"}tr.trOptionsGridRow td .divWrapper .divColButtons{cursor:pointer;position:absolute;right:-2.5rem;top:0;transition:all .3s ease-in-out}tr.trOptionsGridRow td .divWrapper .divColButtons i{color:var(--fwcWhite);background:var(--fwcRed);display:inline-block;width:1.5rem;height:1.5rem;text-align:center;line-height:1.5rem;border-radius:50%;margin-top:-.2rem}tr.trOptionsGridRow td .divWrapper .divColButtons i:active{transform:scale(.95)}tr.trOptionsGridRow:hover .divColButtons{right:0!important}div.divGridFooter{text-align:center;border:1px solid var(--fwcGrey5);background:var(--fwcPaleWhite2);padding:.2rem}div.divGridFooter button{font-size:.8rem!important;margin-left:.5rem}.dual-list{display:flex;width:100%;justify-content:space-between}.dual-list .p-listbox{width:200px;height:300px}.dual-list .p-listbox-list-wrapper{max-height:300px!important}.button-group{display:flex;flex-direction:column;align-items:center;margin-top:20%}.button-group>button{height:3rem;width:4rem;max-height:3rem!important;max-width:4rem!important}.button-group p{margin:10px}.p-datatable-reorderablerow-handle{margin-left:5px!important;margin-top:5px!important}
`],encapsulation:2})}}return i})();var dW=Ja(ep()),xk=Ja(rC());var hze=["txtConfigFile"],fze=()=>({width:"80vw"}),mze=(i,n)=>({obj_type:i,name:n}),Tk=i=>({name:i}),fC=i=>({visibility:i}),gze=(i,n,e,t,r,o)=>[i,n,e,t,r,o],_ze=(i,n,e,t)=>[i,n,e,t],Cze=(i,n)=>[i,n],yze=()=>({width:"1.7rem",height:"1.7rem"}),Ize=i=>({obj_type:i});function vze(i,n){if(i&1&&(m(0,"div",10)(1,"h6",12),O(2,"i"),R(3,"fwcIcon"),D(4),R(5,"translate"),R(6,"translate"),_()()),i&2){let e=f(2);u(2),le(cl(3,4,e.objectToDelete._fwcObjType,null,"fwcOrange")),u(2),J(" ",Di(6,10,"VPN.CONFIG.HEADER_DELETE_2",Je(13,mze,k(5,8,"GLOBALS.DB_OBJECT_NAMES."+e.objectToDelete._fwcObjType+"_ABBR"),e.objectToDelete._fwcObjName))," ")}}function bze(i,n){if(i&1&&(m(0,"div",10)(1,"h6",12),O(2,"i",13),D(3),R(4,"translate"),_()()),i&2){let e=f(2);u(3),J(" ",Di(4,1,"VPN.CONFIG.HEADER_FILE",oe(4,Tk,e.objectToRetrieve._fwcObjName))," ")}}function wze(i,n){if(i&1&&(m(0,"div",10)(1,"h6",12),O(2,"i",13),D(3),R(4,"translate"),_()()),i&2){let e=f(2);u(3),J(" ",Di(4,1,e.configManageTranslateKey+".FORM_HEADER",oe(4,Tk,e.objectToManage._fwcObjName))," ")}}function Sze(i,n){if(i&1&&(m(0,"div",10)(1,"h6",12),O(2,"i",14),D(3),R(4,"translate"),_()()),i&2){let e=f(2);u(3),J(" ",Di(4,1,"VPN.CONFIG.HEADER_WU",oe(4,Tk,e.objectToSearchWU._fwcObjName))," ")}}function Aze(i,n){if(i&1&&(m(0,"div",10)(1,"h6",12),O(2,"i",13),D(3),_()()),i&2){let e=f(2);u(3),J(" ",e.headerTitle," ")}}function Eze(i,n){if(i&1){let e=B();m(0,"div",11)(1,"button",15),P("click",function(){S(e);let r=f(2);return A(r.minimizeDialog())}),_()()}}function xze(i,n){if(i&1&&I(0,vze,7,16,"div",10)(1,bze,5,6,"div",10)(2,wze,5,6,"div",10)(3,Sze,5,6,"div",10)(4,Aze,4,1,"div",10)(5,Eze,2,0,"div",11),i&2){let e=f();q(e.objectToDelete?0:-1),u(),q(e.objectToRetrieve?1:-1),u(),q(e.objectToManage?2:-1),u(),q(e.objectToSearchWU?3:-1),u(),q(!e.objectToDelete&&!e.objectToRetrieve&&!e.objectToManage&&!e.objectToSearchWU?4:-1),u(),q(e.disableButtons?-1:5)}}function Tze(i,n){i&1&&(m(0,"div",5)(1,"div",16),O(2,"p-progressSpinner"),_()())}function Oze(i,n){if(i&1&&(m(0,"div",5)(1,"div",17),O(2,"sts-fwc-message",18),_()()),i&2){let e=f();u(2),h("message",e.errorMsg)}}function Dze(i,n){if(i&1){let e=B();m(0,"div",19),O(1,"sts-fwc-message",18),m(2,"sts-fwc-object-restrictions",20),P("onHideParent",function(){S(e);let r=f(3);return A(r.minimizeDialog(!0))})("onRefreshRestrictions",function(){S(e);let r=f(3);return A(r.reloadPanel())}),_()()}if(i&2){let e=f(3);u(),h("message",e.deleteMsg),u(),h("dependencies",e.dependencies)("readOnly",e.restrictionsReadOnly)}}function Rze(i,n){if(i&1&&I(0,Dze,3,3,"div",19),i&2){let e=f(2);q(e.dependencies.restrictionsError?-1:0)}}function Pze(i,n){if(i&1){let e=B();m(0,"div",21)(1,"p-checkbox",22),R(2,"translate"),Ve("ngModelChange",function(r){S(e);let o=f(3);return Ue(o.alsoUninstallConfig,r)||(o.alsoUninstallConfig=r),A(r)}),_()()}if(i&2){let e=f(3);u(),ae("label",k(2,2,"VPN.CONFIG.UNINSTALL_STRINGS.UNINSTALL_FIRST")),Ne("ngModel",e.alsoUninstallConfig)}}function kze(i,n){if(i&1&&(O(0,"sts-fwc-message",18),I(1,Pze,3,4,"div",21)),i&2){let e=f(2);h("message",e.deleteMsg),u(),q(e.objectToDelete.obj_type==e.ObjectTypes.OBJ_VPN_CONFIG_SER||e.objectToDelete.obj_type==e.ObjectTypes.OBJ_VPN_CONFIG_CLI?1:-1)}}function Fze(i,n){if(i&1&&I(0,Rze,1,1)(1,kze,2,2),i&2){let e=f();q(e.dependencies?0:1)}}function Lze(i,n){if(i&1&&(m(0,"div",6)(1,"div",23)(2,"textarea",24,1),D(4),_()()()),i&2){let e=f();u(4),$(e.configFile)}}function Mze(i,n){if(i&1&&(m(0,"span"),O(1,"i",31),D(2,"\xA0"),m(3,"strong"),D(4),_()()),i&2){let e=f(2).$implicit;u(4),$(e.firewallName)}}function Nze(i,n){if(i&1&&(m(0,"span"),O(1,"span",32)(2,"i",33),D(3),_()),i&2){let e=f(2).$implicit;u(3),J("\xA0",e.firewallName,"")}}function Vze(i,n){if(i&1&&(m(0,"td"),I(1,Mze,5,1,"span")(2,Nze,4,1,"span"),_()),i&2){let e=f().$implicit;u(),q(e.isNode?-1:1),u(),q(e.isNode?2:-1)}}function Bze(i,n){if(i&1&&(m(0,"td"),O(1,"i",33),D(2),_()),i&2){let e=f().$implicit;u(2),J("\xA0",e.firewallName," ")}}function Uze(i,n){if(i&1&&(m(0,"tr",29),I(1,Vze,3,2,"td")(2,Bze,3,1,"td"),m(3,"td",28),O(4,"i"),_()()),i&2){let e=n.$implicit,t=f(2);h("ngClass",e.coloredBg?"bgColored":"bgNormal"),u(),q(e.clusterId!==null&&e.clusterId!==void 0?1:-1),u(),q(e.clusterId===null||e.clusterId===void 0?2:-1),u(2),le(t.FirewallOpsIcons[e.installState])}}function jze(i,n){if(i&1&&(m(0,"div",6)(1,"div",25)(2,"div",26)(3,"table",27)(4,"thead")(5,"tr")(6,"th"),D(7),R(8,"translate"),_(),m(9,"th",28),D(10),R(11,"translate"),_()()(),m(12,"tbody"),jr(13,Uze,5,6,"tr",29,Ur),_()()()(),m(15,"div",30),O(16,"sts-fwc-log"),_()()),i&2){let e=f();u(7),$(k(8,2,"COMPILE.FORM.NAME")),u(3),J(" ",k(11,4,e.configManageTranslateKey+".OPERATION")," "),u(3),Hr(e.operationQueue)}}function Hze(i,n){if(i&1){let e=B();m(0,"sts-fwc-object-wu",34),P("onHideParent",function(){S(e);let r=f();return A(r.minimizeDialog())}),_()}if(i&2){let e=f();h("objectInfo",e.objectToSearchWU._fwcObjectInfo)("readOnly",e.restrictionsReadOnly)}}function Gze(i,n){if(i&1&&(m(0,"div",42)(1,"label",43),D(2),R(3,"translate"),_(),O(4,"input",44),_()),i&2){let e=f(2);u(2),$(k(3,2,e.object.parent_type==e.ObjectTypes.OBJ_FIREWALL?"GLOBALS.MSG_OBJ_TYPES.FIREWALL":"GLOBALS.MSG_OBJ_TYPES.CLUSTER")),u(2),ae("value",e.object.parent_name)}}function zze(i,n){if(i&1&&(m(0,"div",42)(1,"label",43),D(2),R(3,"translate"),_(),O(4,"input",44),_()),i&2){let e=f(2);u(2),$(k(3,2,"VPN.CONFIG.SER")),u(2),ae("value",e.object._fwcParentConfigName)}}function Wze(i,n){if(i&1&&(m(0,"div",66)(1,"p",67),D(2),_()()),i&2){let e,t=f(2);u(),h("ngStyle",oe(2,fC,(e=t.formModel.get("_ipobj_address"))!=null&&e.invalid&&((e=t.formModel.get("_ipobj_address"))!=null&&e.dirty)||(e=t.formModel.get("_ipobj_netmask"))!=null&&e.invalid&&((e=t.formModel.get("_ipobj_netmask"))!=null&&e.dirty)||(e=t.formModel.get("_ipobj_name"))!=null&&e.invalid&&((e=t.formModel.get("_ipobj_name"))!=null&&e.dirty)?"visible":"hidden")),u(),J(" ",t.ipNetmaskErrorMsg," ")}}function Kze(i,n){if(i&1&&(m(0,"p",67),D(1),R(2,"translate"),_()),i&2){let e,t=f(3);h("ngStyle",oe(4,fC,(e=t.formModel.get("install_dir"))!=null&&e.valid||(e=t.formModel.get("install_dir"))!=null&&e.pristine&&((e=t.formModel.get("install_dir"))!=null&&e.untouched)?"hidden":"visible")),u(),J(" ",k(2,2,"VPN.PANEL.ERRORS.INVALID_INSTALL_PATH")," ")}}function $ze(i,n){if(i&1&&(m(0,"div",17)(1,"p",67),D(2),R(3,"translate"),_()()),i&2){let e,t=f(3);u(),h("ngStyle",oe(4,fC,(e=t.formModel.get("install_name"))!=null&&e.valid?"hidden":"visible")),u(),J(" ",k(3,2,"VPN.CONFIG.ERRORS.INVALID_CONFIG_FILENAME_ERROR.TEXT")," ")}}function qze(i,n){if(i&1){let e=B();m(0,"div",57)(1,"p-fieldset",68),R(2,"translate"),m(3,"div",69)(4,"div",70)(5,"div",42)(6,"span",63)(7,"input",71),P("drop",function(){S(e);let r=f(2);return A(r.preventDrop())}),_(),m(8,"label",72),D(9),R(10,"translate"),_()()(),I(11,Kze,3,6,"p",73),_(),m(12,"div",70)(13,"div",42)(14,"span",63)(15,"input",74),P("drop",function(){S(e);let r=f(2);return A(r.preventDrop())}),_(),m(16,"label",75),D(17),R(18,"translate"),_()()(),I(19,$ze,4,6,"div",76),_()()()()}if(i&2){let e,t,r=f(2);u(),h("legend",k(2,5,"VPN.PANEL.FIELDS.INST_OPTIONS")),u(8),$(k(10,7,"VPN.PANEL.FIELDS.CONFIG_DIR")),u(2),h("ngIf",!((e=r.formModel.get("install_dir"))!=null&&e.valid||(e=r.formModel.get("install_dir"))!=null&&e.pristine&&((e=r.formModel.get("install_dir"))!=null&&e.untouched))),u(6),$(k(18,9,"VPN.PANEL.FIELDS.CONFIG_FILE")),u(2),h("ngIf",!((t=r.formModel.get("install_name"))!=null&&t.valid))}}function Yze(i,n){if(i&1&&(m(0,"div",86)(1,"p",67),D(2),R(3,"translate"),_()()),i&2){let e=f(3);u(),h("ngStyle",oe(4,fC,e.formModelRemote!=null&&e.formModelRemote.invalid&&(e.formModelRemote!=null&&e.formModelRemote.touched)&&(e.formModelRemote!=null&&e.formModelRemote.dirty)?"visible":"hidden")),u(),J(" ",k(3,2,"VPN.PANEL.ERRORS.INVALID_REMOTE")," ")}}function Jze(i,n){if(i&1){let e=B();m(0,"div",58)(1,"form",37)(2,"p-fieldset",77)(3,"div",78)(4,"div",79)(5,"sts-fwc-tree-selector",80,2),P("objectSelected",function(r){S(e);let o=f(2);return A(o.onRemoteIPObjectChange(r))}),_()(),m(7,"div",47)(8,"span",63)(9,"input",81),P("drop",function(){S(e);let r=f(2);return A(r.preventDrop())}),_(),m(10,"label",82),D(11),R(12,"translate"),_()()(),m(13,"div",83)(14,"button",84),P("click",function(){S(e);let r=f(2);return A(r.onAddRemoteOption())}),_()(),I(15,Yze,4,6,"div",85),_()()()()}if(i&2){let e=f(2);u(),h("formGroup",e.formModelRemote),u(4),h("fwcloudId",null)("fwTreeNodes",ll(11,gze,e.NodeTypes.FOLDER,e.NodeTypes.OBJ_FIREWALL,e.NodeTypes.OBJ_CLUSTER,e.NodeTypes.FOLDER_INTERFACES,e.NodeTypes.OBJ_IF_FW,e.NodeTypes.OBJ_ADDRESS))("objectTreeNodes",dr(18,_ze,e.NodeTypes.OBJ_ADDRESS,e.NodeTypes.OBJ_DNS,e.NodeTypes.OBJ_HOST,e.NodeTypes.OBJ_IF_HOST))("selectableObjects",Je(23,Cze,e.ObjectTypes.OBJ_ADDRESS,e.ObjectTypes.OBJ_DNS))("disabledObjects",e.disabledTreeRemoteOptions),u(6),$(k(12,9,"CLUSTER.MSG_CLUSTER_EDITION.PORT")),u(3),h("disabled",!(e.formModelRemote!=null&&e.formModelRemote.valid)),u(),h("ngIf",(e.formModelRemote==null?null:e.formModelRemote.invalid)&&(e.formModelRemote==null?null:e.formModelRemote.touched)&&(e.formModelRemote==null?null:e.formModelRemote.dirty))}}function Xze(i,n){if(i&1){let e=B();m(0,"div",59)(1,"h5",60),D(2),R(3,"translate"),_(),m(4,"sts-fwc-ovoptions-grid",61),P("optionDeleted",function(r){S(e);let o=f(2);return A(o.onOptionsDelete(r))})("dataChanges",function(r){S(e);let o=f(2);return A(o.onOptionsChange(r))}),_()()}if(i&2){let e=f(2);u(2),J(" ",k(3,3,"VPN.CONFIG.CCD")," "),u(2),h("options",e.object.options)("scope",e.OptionScope.ccd)}}function Qze(i,n){if(i&1){let e=B();m(0,"p-tabView",8)(1,"p-tabPanel",35),R(2,"translate"),m(3,"div",36)(4,"form",37)(5,"fieldset",38),P("keyup.enter",function(r){S(e);let o=f();return A(o.checkForm(r))})("keyup.esc",function(){S(e);let r=f();return A(r.onCancel())}),m(6,"div",39)(7,"div",40)(8,"div",39)(9,"div",41),I(10,Gze,5,4,"div",42)(11,zze,5,4,"div",42),_(),m(12,"div",41)(13,"div",42)(14,"label",43),D(15),R(16,"translate"),_(),O(17,"input",44),_()()()(),m(18,"div",45)(19,"p-fieldset",46)(20,"div",5)(21,"div",47)(22,"div",42)(23,"span",48)(24,"input",49),P("drop",function(){S(e);let r=f();return A(r.preventDrop())}),_(),m(25,"label",50),D(26),R(27,"translate"),_()()()(),m(28,"div",51)(29,"div",42)(30,"span",48)(31,"input",52),P("drop",function(){S(e);let r=f();return A(r.preventDrop())}),_(),m(32,"label",53),D(33),R(34,"translate"),_()()()(),m(35,"div",25)(36,"div",42)(37,"span",48)(38,"input",54),P("drop",function(){S(e);let r=f();return A(r.preventDrop())}),_(),m(39,"label",55),D(40),R(41,"translate"),_()()()(),I(42,Wze,3,4,"div",56),_()()(),I(43,qze,20,11,"div",57)(44,Jze,16,26,"div",58)(45,Xze,5,5,"div",59),m(46,"div",29)(47,"h5",60),D(48),R(49,"translate"),_(),m(50,"sts-fwc-ovoptions-grid",61),P("optionDeleted",function(r){S(e);let o=f();return A(o.onOptionsDelete(r))})("dataChanges",function(r){S(e);let o=f();return A(o.onOptionsChange(r))}),_()(),m(51,"div",62)(52,"div",42)(53,"span",63)(54,"input",64),P("drop",function(){S(e);let r=f();return A(r.preventDrop())}),_(),m(55,"label",65),D(56),R(57,"translate"),_()()()()()()()()()()}if(i&2){let e,t=f();u(),ae("header",k(2,19,"VPN.PANEL.DATA")),u(3),h("formGroup",t.formModel),u(6),q(t.object.obj_type==t.ObjectTypes.OBJ_VPN_CONFIG_SER?10:-1),u(),q(t.object.obj_type==t.ObjectTypes.OBJ_VPN_CONFIG_CLI?11:-1),u(4),$(k(16,21,"VPN.CONFIG.CN")),u(2),ae("value",t.object._fwcCrtName),u(2),ae("legend",t.fieldsetTitle),u(7),$(k(27,23,"ITEM_PANEL.FIELDS.NAME")),u(7),$(k(34,25,"ITEM_PANEL.FIELDS.ADDRESS")),u(7),$(k(41,27,"ITEM_PANEL.FIELDS.MASK")),u(2),h("ngIf",((e=t.formModel.get("_ipobj_address"))==null?null:e.invalid)&&((e=t.formModel.get("_ipobj_address"))==null?null:e.dirty)||((e=t.formModel.get("_ipobj_netmask"))==null?null:e.invalid)&&((e=t.formModel.get("_ipobj_netmask"))==null?null:e.dirty)||((e=t.formModel.get("_ipobj_name"))==null?null:e.invalid)&&((e=t.formModel.get("_ipobj_name"))==null?null:e.dirty)),u(),q(t.object.obj_type==t.ObjectTypes.OBJ_VPN_CONFIG_SER?43:-1),u(),q(t.object.obj_type==t.ObjectTypes.OBJ_VPN_CONFIG_CLI?44:-1),u(),q(t.object.obj_type==t.ObjectTypes.OBJ_VPN_CONFIG_CLI?45:-1),u(),h("ngClass",t.object.obj_type==t.ObjectTypes.OBJ_VPN_CONFIG_CLI?"col-6":"col-12"),u(2),J(" ",k(49,29,"VPN.CONFIG.OVP")," "),u(2),h("options",t.object.options)("scope",t.OptionScope.ovp),u(6),$(k(57,31,"ITEM_PANEL.FIELDS.COMMENTS"))}}function Zze(i,n){if(i&1){let e=B();m(0,"button",92),R(1,"translate"),P("click",function(){S(e);let r=f(3);return A(r.reloadPanel())}),_()}if(i&2){let e=f(3);ae("label",k(1,2,"POLICY_GRID.RELOAD")),h("disabled",e.loadingData)}}function eWe(i,n){if(i&1){let e=B();I(0,Zze,2,4,"button",90),m(1,"button",91),R(2,"translate"),R(3,"translate"),P("click",function(){S(e);let r=f(2);return A(r.onProcessDeleteAction())}),_()}if(i&2){let e=f(2);q(e.dependencies?0:-1),u(),ae("label",Di(3,5,"CONTEXT.VPN_CONFIG.DELETE_2",oe(8,Ize,k(2,3,"GLOBALS.DB_OBJECT_NAMES."+e.objectToDelete._fwcObjType+"_ABBR")))),h("disabled",!e.okToDelete||e.loadingData||e.savingData)}}function tWe(i,n){if(i&1){let e=B();m(0,"button",95),R(1,"translate"),P("click",function(){S(e);let r=f(3);return A(r.onCopyConfigFile())}),_()}if(i&2){let e=f(3);ae("label",k(1,2,"VPN.CONFIG.CLIPBOARD.BUTTON")),h("disabled",e.loadingData)}}function iWe(i,n){if(i&1){let e=B();m(0,"button",96),R(1,"translate"),P("click",function(){S(e);let r=f(3);return A(r.onDownloadConfigFile())}),_()}if(i&2){let e=f(3);ae("label",k(1,2,"VPN.CONFIG.DOWNLOAD.BUTTON")),h("disabled",e.loadingData)}}function nWe(i,n){if(i&1&&I(0,tWe,2,4,"button",93)(1,iWe,2,4,"button",94),i&2){let e=f(2);q(!e.errorMsg&&(e.configFile!=null&&e.configFile.length)?0:-1),u(),q(!e.errorMsg&&(e.configFile!=null&&e.configFile.length)?1:-1)}}function rWe(i,n){if(i&1){let e=B();m(0,"button",99),R(1,"translate"),P("click",function(){S(e);let r=f(3);return A(r.doPauseProcess(!0))}),_()}if(i&2){let e=f(3);ae("label",k(1,2,"COMPILE.PAUSE")),h("disabled",e.disableButtons)}}function oWe(i,n){if(i&1){let e=B();m(0,"button",100),P("click",function(){S(e);let r=f(3);return A(r.doContinueProcess())}),_()}if(i&2){let e=f(3);h("disabled",e.disableButtons)("label",e.continueButtonText)}}function sWe(i,n){if(i&1&&I(0,rWe,2,4,"button",97)(1,oWe,1,2,"button",98),i&2){let e=f(2);q(!e.pauseProcess&&e.operationInProcessId<e.operationQueue.length?0:-1),u(),q(e.pauseProcess&&e.operationInProcessId<e.operationQueue.length?1:-1)}}function aWe(i,n){if(i&1){let e=B();m(0,"button",103),R(1,"translate"),P("click",function(){S(e);let r=f(3);return A(r.onCancel())}),_()}if(i&2){let e=f(3);ae("label",k(1,2,"GLOBALS.MSG_BUTTONS.CANCEL")),h("disabled",!e.object||e.loadingData||e.savingData)}}function lWe(i,n){if(i&1){let e=B();m(0,"button",104),R(1,"translate"),P("click",function(){S(e);let r=f(3);return A(r.onSave())}),_()}if(i&2){let e=f(3);ae("label",k(1,2,"GLOBALS.MSG_BUTTONS.SAVE")),h("disabled",!e.formModel.valid||e.formModel.pristine||e.loadingData||e.savingData)}}function cWe(i,n){if(i&1&&I(0,aWe,2,4,"button",101)(1,lWe,2,4,"button",102),i&2){let e=f(2);q(e.formModel.pristine?-1:0),u(),q(e.formModel.pristine?-1:1)}}function dWe(i,n){if(i&1){let e=B();m(0,"button",105),R(1,"translate"),P("click",function(){S(e);let r=f(2);return A(r.onCancel())}),_()}if(i&2){let e=f(2);ae("label",k(1,2,"GLOBALS.MSG_BUTTONS.CLOSE")),h("disabled",e.savingData||e.disableButtons)}}function uWe(i,n){if(i&1&&(m(0,"div",87),O(1,"p-progressSpinner"),_(),I(2,eWe,4,10,"button",88)(3,nWe,2,2)(4,sWe,2,2)(5,cWe,2,2)(6,dWe,2,4,"button",89)),i&2){let e=f();h("ngStyle",oe(8,fC,e.savingData?"visible":"hidden")),u(),dt(Ae(10,yze)),u(),q(e.objectToDelete?2:-1),u(),q(e.objectToRetrieve?3:-1),u(),q(e.objectToManage?4:-1),u(),q(e.object&&e.formModel?5:-1),u(),q(!e.object||!e.formModel||e.object&&e.formModel&&e.formModel.pristine?6:-1)}}var lW=6e4,cW=["server","ifconfig-push","remote"],OGt=(()=>{class i extends ei{ipNetmaskValidator(e){if(!this.formModel||!this.object||!this.formModel.controls._ipobj_address)return{ipNetmaskValidator:!0};let t=!1,r="",o="",s,a,l;this.formModel.controls._ipobj_address&&(r=this.formModel.controls._ipobj_address.value||""),r&&this.formModel.controls._ipobj_address.markAsTouched(),this.formModel.controls._ipobj_netmask&&(o=this.formModel.controls._ipobj_netmask.value||""),o&&this.formModel.controls._ipobj_netmask.markAsTouched();let c=wi.netmaskCIDRRegexp.exec(o);if(c){let d=parseInt(c[1]);try{o=xk.IPv4.subnetMaskFromPrefixLength(d).toString()}catch{t=!1}}return r.match(wi.ipV4Regexp)&&o.match(wi.netmaskRegexp)&&(l=r.trim()+" "+o.trim(),this.formModel.controls._ipobj_address.setErrors(null),t=!0),this.object.obj_type==L.OBJ_VPN_CONFIG_CLI?(s=ri.ccd,a=Cs.O_CLIENT):this.object.obj_type==L.OBJ_VPN_CONFIG_SER&&(s=ri.ovp,a=Cs.O_SERVER),this.optionsGrids.forEach(d=>{d.getScope()===s&&d.modifyIPOption(a,s,l)}),t?null:{ipNetmaskValidator:!0}}constructor(e,t,r,o,s,a,l,c,d,p,g,C,y,v,w,E,T,F){super(r,t,e,o,T,F),this.itemSelectedService=e,this.appOptionsService=t,this.appDialogPanelsService=r,this.cd=o,this.fwcUserService=s,this.fwcFirewallService=a,this.fwcObjectService=l,this.fwcObjectTreeService=c,this.fwcVpnService=d,this.inputDataService=p,this.fwcErrorPipe=g,this.translate=C,this.confirmationService=y,this.utilService=v,this.fwcEventService=w,this.messageService=E,this.store=T,this.router=F,this.restrictionsReadOnly=!1,this.ObjectTypes=L,this.CACertTypes=Bf,this.OptionScope=ri,this.okToDelete=!1,this.alsoUninstallConfig=!1,this.dependencies=null,this.FirewallOpsIcons=Vf,this.operationQueue=[],this.operationStatus={},this.pauseProcess=!1,this.disableButtons=!1,this.disabledTreeRemoteOptions=[],this.NodeTypes=H,this.alive=!0,this.createDialog(this.translate.instant("VPN.PANEL.TITLE"),"fwci2-openvpn",Ai.OVCONFIG_PANEL)}ngOnInit(){this.continueButtonText=this.translate.instant("COMPILE.CONTINUE"),this.store.pipe(kt(()=>this.alive),zn(ec.selectDialogUuidsToReload)).subscribe(e=>{e&&e.find(t=>t===this.dialogUUID)&&this.reloadPanel()}),this.itemSelectedService.getItem().pipe(kt(()=>this.alive)).subscribe(e=>N(this,null,function*(){if(!(e.obj_type!=L.OBJ_VPN_CONFIG_SER&&e.obj_type!=L.OBJ_VPN_CONFIG_CLI&&e.obj_type!=L.OBJ_PREFIX_FOLDER&&e.obj_type!=L.OBJ_OPENVPN_PREFIX||e.statusAction||e._onlySelectInTree)){if(this.resetProperties(),e.parent_type==L.OBJ_CLUSTER){let t;if(t=yield this.getClusterMasterFirewall(e.parent_id),t)e.firewall=t.id;else{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.translate.instant("CLUSTER.ERROR_MASTER_TEXT",{name:e.parent_name})});return}}else e.firewall=e.parent_id;if(e.deleteAction)this.onItemDelete(e);else if(e.configFileAction)this.onItemGetFile(e);else if(e.installAction||e.syncCCDAction||e.uninstallAction||e.syncPendingCCDAction){let t=this.utilService.createDynamicComponentRef(Ia),r=t.instance;r.setDynamicComponentRef(t),this.communicationSubscription=r.socketEventEmitter.subscribe(o=>{o=="connected"&&this.onItemManage(e),this.communicationSubscription.unsubscribe()}),r.checkConnection()}else if(e.newPrefixAction||e.editPrefixAction||e.deletePrefixFolderAction)this.managePrefix(e);else if(e.whereUsedAction)this.showWhereUsed(e);else if(e.blockVPNAction||e.unblockVPNAction)this.blockUnblockVPNConnection(e);else if(Array.isArray(e._fwcChildClientNodes)&&e._fwcChildClientNodes.length){let t=[];e._fwcChildClientNodes.forEach(o=>{t.find(s=>s.id===o.id_obj)||t.push({id:o.id_obj,text:o.name})});let r={header:this.translate.instant("VPN.CONFIG.CLI_CLONE.HEADER"),helpText:this.translate.instant("VPN.CONFIG.CLI_CLONE.TEXT"),modal:!0,formControls:[{name:"clientConfId",label:this.translate.instant("VPN.CONFIG.HEADER_CLI"),type:"select",options:t,placeholder:this.translate.instant("VPN.CONFIG.CLI_CLONE.NO_CLONE"),required:!1}],onAccept:o=>{if(o)if(o.clientConfId)e._fwcObjId=o.clientConfId,this.onItemSelect(e,!0);else{let s=re({},e);delete s._fwcChildClientNodes,this.onItemSelect(s)}}};this.inputDataService.setInputData(r)}else this.onItemSelect(e)}}))}ngOnDestroy(){super.ngOnDestroy()}startTimeoutHandler(){this.timeoutTimer=setTimeout(()=>{this.eventsSubscription.unsubscribe(),this.doTimeoutOp()},lW)}refreshTimeoutHandler(){clearTimeout(this.timeoutTimer),this.startTimeoutHandler()}reloadPanel(){if(this.objectToDelete||this.objectToSearchWU){if(this.displayDialog||this.dialogMinified){if(this.objectToDelete){let e=Object.assign({},this.objectToDelete),t=this.itemSelectedService.getActualLastMinifiedDialogId();this.resetProperties(),this.onItemDelete(e),this.dialogId==t&&(this.showDialog(),this.itemSelectedService.setLastMinifiedDialogId(void 0))}else if(this.objectToSearchWU){let e=Object.assign({},this.objectToSearchWU);this.resetProperties(),this.showWhereUsed(e)}}this.store.dispatch(gn.reloadDialogFinished({dialogUuid:this.dialogUUID}))}}resetProperties(){this.formModel&&this.formModel.reset(),this.savingData=!1,this.loadingData=!1,this.disableButtons=!1,this.object=this.objectToDelete=this.objectToRetrieve=this.objectToManage=this.objectToSearchWU=this.configOrPrefixToDelete=null,this.remoteOptions=[],this.errorMsg=null,this.dependencies=null,this.deleteMsg=null}checkOVPNConfigCanBeDeleted(e){return new Promise((r,o)=>{let s={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),openvpn:e._fwcObjId};this.fwcVpnService.checkConfigRestrictions(s).subscribe({next:a=>{r(!0)},error:a=>{a.error&&a.error.restrictions?r(!1):o(a)}})})}onItemDelete(e,t){if(!e)return;let r,o,s;this.objectToDelete=e,this.loadingData=!0,this.okToDelete=!1,this.alsoUninstallConfig=!1,this.deleteMsg=null,e.obj_type==L.OBJ_VPN_CONFIG_SER||e.obj_type==L.OBJ_VPN_CONFIG_CLI?(r=this.fwcVpnService.checkConfigRestrictions.bind(this.fwcVpnService),o={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),openvpn:e._fwcObjId},s="VPN.CONFIG"):e.obj_type==L.OBJ_OPENVPN_PREFIX&&(r=this.fwcVpnService.checkOpenVPNPrefixRestrictions.bind(this.fwcVpnService),o={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),prefix:e.id_obj},s="VPN.OPENVPN_PREFIX"),r&&(this.showDialog(),t&&this.recenterDialog(),r(o).subscribe(a=>{this.okToDelete=!0,this.configOrPrefixToDelete=Object.assign({},e),this.deleteMsg={type:"warning",title:this.translate.instant(s+".DELETE_WARN.SUMMARY"),text:this.translate.instant(s+".DELETE_WARN.TEXT",{name:e._fwcObjName})},this.dependencies=null,this.okToDelete=!0,this.loadingData=!1},a=>{a.error&&a.error.restrictions?(this.dependencies=a.error.restrictions,this.deleteMsg={type:"error",title:this.translate.instant(s+".ERRORS.RESTR_ERROR.SUMMARY"),text:this.translate.instant(s+".ERRORS.RESTR_ERROR.TEXT",{name:e._fwcObjName})}):(this.errorMsg={type:"error",title:this.translate.instant(s+".ERRORS.DELETE_ERROR.SUMMARY"),text:this.fwcErrorPipe.transform(a)},this.dependencies={restrictionsError:!0}),this.loadingData=!1,this.recenterDialog()}))}onItemGetFile(e){if(!e)return;this.objectToRetrieve=e,this.loadingData=!0,this.showDialog();let t={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),openvpn:e._fwcObjId};this.fwcVpnService.getConfigFile(t).subscribe({next:r=>{r.data?this.configFile=r.data.cfg:(this.errorMsg={type:"error",title:this.translate.instant("VPN.CONFIG.ERRORS.GETFILE_ERROR.SUMMARY"),text:this.translate.instant("VPN.CONFIG.ERRORS.GETFILE_ERROR.TEXT",{error:r.error})},r.error&&this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(r.error)})),this.loadingData=!1,this.recenterDialog()},error:r=>{this.errorMsg={type:"error",title:this.translate.instant("VPN.CONFIG.ERRORS.GETFILE_ERROR.SUMMARY"),text:this.translate.instant("VPN.CONFIG.ERRORS.GETFILE_ERROR.TEXT",{error:this.fwcErrorPipe.transform(r)})},this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(r)}),this.loadingData=!1}})}onItemManage(e,t){if(!e)return;let r=e.id_obj,o,s,a,l=[],c=this.fwcUserService.getActualFwSelectedCloud();this.objectToManage=e,e.installAction?(this.configManageTranslateKey="VPN.CONFIG.INSTALL_STRINGS",this.configManageAPICall=this.fwcVpnService.installConfig.bind(this.fwcVpnService)):e.uninstallAction?(this.configManageTranslateKey="VPN.CONFIG.UNINSTALL_STRINGS",this.configManageAPICall=this.fwcVpnService.uninstallConfig.bind(this.fwcVpnService)):e.syncCCDAction?(this.configManageTranslateKey="VPN.CONFIG.SYNC_STRINGS",this.configManageAPICall=this.fwcVpnService.syncConfigCCD.bind(this.fwcVpnService)):e.syncPendingCCDAction?(this.configManageTranslateKey="VPN.CONFIG.SYNC_PENDING_STRINGS",this.configManageAPICall=this.fwcVpnService.syncConfigPendingCCD.bind(this.fwcVpnService)):this.configManageAPICall=null,this.eventsSubscription&&this.eventsSubscription.unsubscribe(),this.showDialog(),t&&this.recenterDialog(),this.channel_id=vo(),this.utilService.ioListenOnLogEvent(this.channel_id),this.startTimeoutHandler(),this.eventsSubscription=this.fwcEventService.getEvent().pipe(kt(()=>this.displayDialog)).subscribe(d=>{this.refreshTimeoutHandler();let p=new ls(d),g;p.payload.type===ut.MSG_ERROR&&(g=this.utilService.isCommunicationErrorStr(p.payload.message),this.pauseProcess=!0,this.operationWithErrors=!0,this.doTimeoutOp()),g?(this.continueButtonText=this.translate.instant("COMPILE.RETRY"),this.doTimeoutOp()):(this.log.addNewMessage(p),this.continueButtonText=this.translate.instant("COMPILE.CONTINUE"))}),e.parent_type==L.OBJ_CLUSTER?(a=this.fwcFirewallService.getClusterNodes.bind(this.fwcFirewallService),s=e.parent_id,o=!0):e.parent_type==L.OBJ_FIREWALL&&(a=this.fwcFirewallService.getFirewall.bind(this.fwcFirewallService),s=e.firewall,o=!1),a&&a(s,c).subscribe(d=>N(this,null,function*(){d.data&&d.data instanceof Array?l=d.data:d.data?(l=[],l.push(d.data)):l=[],this.operationQueue=[];let p;o&&(p={openvpn:r,clusterId:s,firewallId:s,firewallName:e._fwcClusterName,installState:on.FW_DISABLED,opInstalled:!1},this.operationQueue.push(Object.assign({},p)));let g=this.fwcUserService.getActualFwcUser().privateKey;for(let C=0;C<l.length;C++){let y=l[C],v=y.install_user,w=y.install_pass;try{v&&(v=yield this.utilService.openPGPDecrypt(v,g)),w&&(w=yield this.utilService.openPGPDecrypt(w,g))}catch{}p={clusterId:y.cluster,clusterName:e._fwcClusterName,isNode:!!y.cluster,openvpn:r,firewallId:l[C].id,firewallName:l[C].name,installState:on.FW_PENDING,opInstalled:!1,sshUser:v,sshPassword:w,installInterface:l[C].install_interface,installInterfaceName:l[C].interface_name,installIpobj:l[C].install_ipobj,installIpobjName:l[C].ip_name,installIpobjIP:l[C].ip,installCommunication:l[C].install_communication,installProtocol:l[C].install_protocol,installApikey:l[C].install_apikey,deleteAction:e.deleteAction},this.operationQueue.push(Object.assign({},p))}this.operationInProcessId=0,this.actualFirewallCompileSSHInputData=null,this.processOVPNOperation(!0)}),d=>{d.error&&d.error.fwcErr==1002||this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(d)}),this.loadingData=!1})}processOVPNOperation(e){let t;if(!this.pauseProcess&&(clearTimeout(this.timeoutTimer),this.operationQueue&&this.operationInProcessId<this.operationQueue.length)){let r=this.operationQueue[this.operationInProcessId];if(!r)return;if(this.operationWithErrors=!1,r.clusterId!==null&&r.clusterId!==void 0?t=this.translate.instant("COMPILE.INST_CLUSTER_NODE",{clusterName:r.clusterName,firewallName:r.firewallName}):t=this.translate.instant("COMPILE.INST_FW",{firewallName:r.firewallName}),r.installState==on.FW_PENDING)if(r.installState=on.FW_PROCESSING,e||this.addMessageToLog("",ut.MSG_SEPARATOR),this.addMessageToLog(this.translate.instant(this.configManageTranslateKey+".START",{name:t}),ut.MSG_INFO),r.installInterface&&r.installIpobj)if(r.installCommunication==="ssh"){let o={header:this.translate.instant("COMPILE.INST_SSH",{name:t}),helpText:this.translate.instant("COMPILE.INST_SSH_TEXT"),modal:!1,formControls:[{name:"openvpn",type:"hidden",value:r.openvpn},{name:"firewall_id",type:"hidden",value:r.firewallId},{name:"interface_name",label:this.translate.instant("COMPILE.FIELDS.INST_IF"),icon:"fwci-interface fwcGreen",type:"text",value:r.installInterfaceName,readonly:!0,halfSized:!0},{name:"ip_name",label:this.translate.instant("COMPILE.FIELDS.INST_IP"),icon:"fwci-address fwcBlue",type:"text",value:r.installIpobjName+" ("+r.installIpobjIP+")",readonly:!0,halfSized:!0},{name:"",label:"",type:"separator"},{name:"ssh_user",label:this.translate.instant("CLUSTER.MSG_CLUSTER_EDITION.SSH_USER"),type:"text",required:!0,value:this.actualFirewallCompileSSHInputData?this.actualFirewallCompileSSHInputData.ssh_user:r.sshUser,setFocus:!0},{name:"",label:"",type:"separator"},{name:"ssh_password",label:this.translate.instant("CLUSTER.MSG_CLUSTER_EDITION.SSH_PASS"),type:"password",required:!0,value:this.actualFirewallCompileSSHInputData?this.actualFirewallCompileSSHInputData.ssh_password:r.sshPassword},{name:"deleteAction",type:"hidden",value:r.deleteAction},{name:"btnPauseProcess",label:this.translate.instant("COMPILE.PAUSE"),type:"button",icon:"fa fa-pause",class:"p-button-warning",value:0,readonly:!this.operationInProcessId}],onAccept:this.manageConfig.bind(this)};this.disableButtons=!0,this.inputDataService.setInputData(o);return}else{let o={openvpn:r.openvpn,firewall_id:r.firewallId,interface_name:r.installInterfaceName,deleteAction:r.deleteAction,ip_name:void 0,ssh_user:void 0,ssh_password:void 0};this.disableButtons=!0,this.manageConfig(o)}else r.installState=on.FW_ERROR,setTimeout(()=>{this.confirmationService.confirm({key:"cdErrorFw",header:this.translate.instant("COMPILE.INST_SSH_ERROR"),message:this.translate.instant("COMPILE.INST_SSH_ERROR_TEXT",{name:r.firewallName||r.clusterName}),reject:()=>{this.doPauseProcess()},accept:()=>{let o=this.translate.instant("COMPILE.INST_SSH_ERROR_TEXT",{name:r.firewallName||r.clusterName});this.operationWithErrors=!0,this.addMessageToLog(this.translate.instant(this.configManageTranslateKey+".ERROR",{name:t,error:o}),ut.MSG_ERROR),this.operationInProcessId++,this.actualFirewallCompileSSHInputData=null,this.processOVPNOperation()}})},1);else this.operationInProcessId++,this.actualFirewallCompileSSHInputData=null,this.processOVPNOperation(e)}}manageConfig(e){return N(this,null,function*(){let t,r,o;if(this.operationQueue&&this.operationInProcessId<this.operationQueue.length&&(r=this.operationQueue[this.operationInProcessId]),!(!r||!this.configManageAPICall))if(r.clusterId!==null&&r.clusterId!==void 0?t=`cluster ${r.clusterId} - firewall ${r.firewallId} (${r.firewallName})`:t=`firewall ${r.firewallId} (${r.firewallName})`,this.disableButtons=!1,e){if(this.actualFirewallCompileSSHInputData=e,e.btnPauseProcess){r.installState=on.FW_PENDING,this.doPauseProcess(!0);return}this.timeoutTimer&&clearTimeout(this.timeoutTimer),this.timeoutTimer=setTimeout(()=>{this.doTimeoutOp()},lW),this.log.startDataLoad();let s=this.fwcUserService.getActualFwcUser().publicKey,a=e.ssh_user,l=e.ssh_password;a&&(a=yield this.utilService.openPGPEncrypt(a,s)),l&&(l=yield this.utilService.openPGPEncrypt(l,s)),o={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),openvpn:e.openvpn,firewall:e.firewall_id,sshuser:a,sshpass:l},this.disableButtons=!0,this.utilService.fwcAPICall(this.configManageAPICall,this.channel_id,o).then(c=>{this.disableButtons=!1,r.installState=on.FW_OK,this.log&&this.log.stopDataLoad(),this.operationWithErrors?this.addMessageToLog(this.translate.instant("VPN.CONFIG.ERRORS.OPERATION_ERRORS"),ut.MSG_ERROR):this.addMessageToLog(this.translate.instant(this.configManageTranslateKey+".COMPLETED"),ut.MSG_OK),this.operationInProcessId++,this.actualFirewallCompileSSHInputData=null,this.operationQueue&&this.operationInProcessId<this.operationQueue.length?this.processOVPNOperation():e.deleteAction&&(this.operationWithErrors?this.confirmationService.confirm({header:this.translate.instant("VPN.CONFIG.UNINSTALL_STRINGS.ERROR_HEADER"),message:this.translate.instant("VPN.CONFIG.UNINSTALL_STRINGS.ASK_DELETE"),acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES"),rejectLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.NO"),rejectVisible:!0,accept:()=>{this.onDeleteConfigurationOrPrefix()}}):this.onDeleteConfigurationOrPrefix()),clearTimeout(this.timeoutTimer)}).catch(c=>{this.disableButtons=!1;let d=this.utilService.isCommunicationError(c.error);d?(r.installState=on.FW_PENDING,this.addMessageToLog(d,ut.MSG_ERROR),this.continueButtonText=this.translate.instant("COMPILE.RETRY")):(c.error.fwcErr==9e3?this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),icon:"fa fa-exclamation-circle fwcRed iconBig",message:this.translate.instant("API_ERROR.SSH_FORBIDDEN"),rejectVisible:!1,acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.OK")}):(r.installState=on.FW_ERROR,this.addMessageToLog(this.translate.instant(this.configManageTranslateKey+".ERROR",{name:t,error:c.error}),ut.MSG_ERROR)),this.continueButtonText=this.translate.instant("COMPILE.CONTINUE"),this.actualFirewallCompileSSHInputData=null),this.log.stopDataLoad(),this.operationInProcessId<this.operationQueue.length-1?this.doPauseProcess():clearTimeout(this.timeoutTimer)})}else r.installState=on.FW_WARNING,this.addMessageToLog(this.translate.instant("COMPILE.INST_WARNING",{name:t}),ut.MSG_ERROR),this.operationInProcessId++,this.actualFirewallCompileSSHInputData=null,this.processOVPNOperation()})}doTimeoutOp(){clearTimeout(this.timeoutTimer),this.pauseProcess=!0,this.loadingData=!1,this.log&&(this.log.stopDataLoad(),this.addMessageToLog(this.translate.instant("COMPILE.WARN_TIMEOUT"),ut.MSG_WARNING))}doPauseProcess(e){this.pauseProcess=!0,this.loadingData=!1,clearTimeout(this.timeoutTimer),e&&this.addMessageToLog(this.translate.instant("COMPILE.WARN_PAUSE"),ut.MSG_WARNING)}doContinueProcess(){this.pauseProcess=!1,this.processOVPNOperation()}onItemSelect(e,t){return N(this,null,function*(){if(!e)return;this.loadingData=!0,this.showDialog();let r=e._fwcObjId,o=e.obj_type;if(e.obj_type==L.OBJ_VPN_CONFIG_CLI){this.headerTitle=this.translate.instant("VPN.CONFIG.HEADER_CLI"),this.fieldsetTitle=this.translate.instant("VPN.CONFIG.IP_VPN"),this.ipNetmaskErrorMsg=this.translate.instant("VPN.PANEL.ERRORS.IP");let s=yield this.loadIPObjects(),a=yield this.loadDNSObjects();if(!s||!a)return;this.remoteOptions=[],this.remoteOptions.push(s),this.remoteOptions.push(a)}else this.headerTitle=this.translate.instant("VPN.CONFIG.HEADER_SER"),this.fieldsetTitle=this.translate.instant("VPN.CONFIG.NETMASK_VPN"),this.ipNetmaskErrorMsg=this.translate.instant("VPN.PANEL.ERRORS.IP_NETMASK");if(r===void 0&&o!==void 0){let s=Object.assign({},e);if(s.obj_type==L.OBJ_VPN_CONFIG_CLI){s.options=fi(gV).concat(fi(_V));let a={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),openvpn:e.openvpn},l=yield this.getFirstFreeIP(a),c="",d="";l&&(c=l.ip,d=l.netmask);let p=this.getOption(s.options,Cs.O_CLIENT);s._ipobj_address=c,s._ipobj_netmask=d,p.arg=c+" "+d,s.openvpn=e.openvpn}else s.options=fi(Nv);this.createForm(s,!0),this.loadingData=!1}else{let s={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),openvpn:r},a;e.obj_type==L.OBJ_VPN_CONFIG_CLI?a=Cs.O_CLIENT:a=Cs.O_SERVER,this.fwcVpnService.getConfig(s).subscribe({next:l=>N(this,null,function*(){if(l.data){let c=Object.assign({},l.data);c.fwcloud=s.fwcloud,c.obj_type=e.obj_type,c.parent_type=e.parent_type,c.parent_name=e.parent_name,c._fwcParentConfigName=e._fwcParentConfigName,t?(c.crt=e.crt,c._fwcCrtName=e._fwcCrtName,c._fwcObjId=void 0,c.node_id=e.node_id):(c._fwcCrtName=e._fwcObjName,c._fwcObjId=r);let d=this.getOption(c.options,a);d?this.fwcVpnService.getConfigIPObjects(s).subscribe(p=>N(this,null,function*(){let g=p.data,C=g.filter(y=>y.id==d.ipobj);if(C.length){if(e.obj_type==L.OBJ_VPN_CONFIG_CLI&&t){let v={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),openvpn:e.openvpn},w=yield this.getFirstFreeIP(v),E="",T="";w&&(E=w.ip,T=w.netmask);let F=this.getOption(c.options,Cs.O_CLIENT);c._ipobj_address=E,c._ipobj_netmask=T,F.arg=E+" "+T}else{let v=C[0];c._ipobj_name=v.name,c._ipobj_address=v.address,c._ipobj_netmask=v.netmask,c._ipobj_id=v.id}let y=this.convertToStandardNetmask(c._ipobj_netmask);d.arg=c._ipobj_address+" "+y,d.readonly=!0}if(e.obj_type==L.OBJ_VPN_CONFIG_CLI){let y=c.options.filter(v=>v.name=="remote");y.length&&(y.forEach(v=>{for(let w=0;w<g.length;w++){let E=g[w];if(v.ipobj==E.id){let T;E.type==L.OBJ_ADDRESS?T=E.address:E.type==L.OBJ_DNS&&(T=E.name),T&&(v.arg=T+" "+v.arg);break}}}),this.disabledTreeRemoteOptions=y)}this.createForm(c,t),this.loadingData=!1,this.recenterDialog(),this.showDialog()}),p=>{this.errorMsg={type:"error",title:this.translate.instant("VPN.CONFIG.ERRORS.IPOPTIONLOAD_ERROR.SUMMARY"),text:this.translate.instant("VPN.CONFIG.ERRORS.IPOPTIONLOAD_ERROR.TEXT",{error:this.fwcErrorPipe.transform(p)})},this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(p)}),this.loadingData=!1}):(this.errorMsg={type:"error",title:this.translate.instant("VPN.CONFIG.ERRORS.NOIPOPTION_ERROR.SUMMARY"),text:this.translate.instant("VPN.CONFIG.ERRORS.NOIPOPTION_ERROR.TEXT")},this.loadingData=!1)}else l.error&&(this.errorMsg={type:"error",title:this.translate.instant("VPN.CONFIG.ERRORS.GETCONFIG_ERROR.SUMMARY"),text:this.translate.instant("VPN.CONFIG.ERRORS.GETCONFIG_ERROR.TEXT",{error:this.fwcErrorPipe.transform(l.error)})},this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(l.error)})),this.loadingData=!1}),error:l=>{this.errorMsg={type:"error",title:this.translate.instant("VPN.CONFIG.ERRORS.GETCONFIG_ERROR.SUMMARY"),text:this.translate.instant("VPN.CONFIG.ERRORS.GETCONFIG_ERROR.TEXT",{error:this.fwcErrorPipe.transform(l)})},this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(l)}),this.loadingData=!1}})}})}convertToStandardNetmask(e){let t=e,r=wi.netmaskCIDRRegexp.exec(t);if(r){let o=parseInt(r[1]);try{t=xk.IPv4.subnetMaskFromPrefixLength(o).toString()}catch{t=""}}return t}loadIPObjects(){let e;return e=new Promise((t,r)=>{let o;o={label:"fwci-ipobjects fwcBlue",value:this.translate.instant("NODE_TYPES.OIA"),items:[]},t(o)}),e}loadDNSObjects(){let e;return e=new Promise((t,r)=>{let o;o={label:"fwci-firewall fwcBlue",value:"DNS",items:[]},t(o)}),e}createForm(e,t){if(!e)return;e.options.forEach(a=>{cW.findIndex(l=>a.name==l)!=-1&&(a.required=!0,a.readonly=!0)}),this.formModel=new mo({fwcloud:new Se(e.fwcloud),openvpn:new Se(e.openvpn),firewall:new Se(e.firewall,$e.required),crt:new Se(e.crt,$e.required),node_id:new Se(e.node_id),comment:new Se(e.comment),options:new hl(this.createOVPNOptions(e.options))});let r=`VPN-${e.parent_name}-${e._fwcCrtName}`;if(e.obj_type==L.OBJ_VPN_CONFIG_SER){r=`LAN-VPN-${e._fwcCrtName}`;let a;e.install_name?a=e.install_name:(a=e._fwcCrtName,a=a.substr(0,59)+".conf"),this.formModel.addControl("install_dir",new Se(e.install_dir||"/etc/openvpn",[$e.required,$e.pattern(wi.posixPathRegexp)])),this.formModel.addControl("install_name",new Se(a,[$e.required,$e.pattern(wi.posixFilenameRegexp)]))}else e.obj_type==L.OBJ_VPN_CONFIG_CLI&&(this.formModel.controls.openvpn.setValue(e.openvpn),this.formModel.addControl("_remote_options",new hl(this.createOVPNOptions(e.options,"remote"))));let o=e._ipobj_name||r;o=o.substr(0,64),this.formModel.addControl("_ipobj_id",new Se(e._ipobj_id)),this.formModel.addControl("_ipobj_name",new Se(o,[$e.required,$e.pattern(wi.nameRegExp)])),this.formModel.addControl("_ipobj_address",new Se(e._ipobj_address,[$e.required,this.ipNetmaskValidator.bind(this)]));let s=this.convertToStandardNetmask(e._ipobj_netmask);this.formModel.addControl("_ipobj_netmask",new Se({value:s,disabled:e.obj_type==L.OBJ_VPN_CONFIG_CLI},[$e.required,this.ipNetmaskValidator.bind(this)])),t&&this.formModel.markAsDirty(),this.formModelRemote=new mo({id_obj:new Se(void 0,[$e.required]),obj_type:new Se(void 0,[$e.required]),remote_port:new Se(1194,[$e.required,$e.min(0),$e.max(65535)])}),this.object=e}requiresArgValidation(e,t){return!!t&&cW.includes(e)}createOVPNOptions(e,t){let r=[];for(let o of e)if(!t||o.name===t){let s=new mo({name:new Se(o.name,$e.required),arg:new Se(o.arg),ipobj:new Se(o.ipobj),scope:new Se(o.scope),comment:new Se(o.comment)});this.requiresArgValidation(o.name,t)&&s.controls.arg.setValidators($e.required),r.push(s)}return r}revalidateForm(e){for(let t in this.formModel.controls)(!e||e==t)&&(this.formModel.controls[t].updateValueAndValidity(),this.formModel.controls[t].markAsTouched())}onCancel(e){!e&&this.formModel&&!this.formModel.pristine&&this.formModel.valid?this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_CONFIRM"),icon:"fa fa-question-circle fwcBlue iconBig",message:this.translate.instant("VPN.PANEL.MSG_EXIT"),accept:()=>{this.onCancel(!0)},rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES")}):(this.hideDialog(),this.optionsGrids.forEach(t=>{t.clearOptions()}),this.log&&this.log.clearMessages(),this.operationQueue=[],this.operationInProcessId=void 0,this.actualFirewallCompileSSHInputData=null,this.pauseProcess=!1,this.disabledTreeRemoteOptions=[],this.eventsSubscription&&this.eventsSubscription.unsubscribe(),this.objectToManage&&this.itemSelectedService.setModifiedItem({_fwcTreeAction:mn.RELOAD_TREE,containerToReload:this.objectToManage.container}),this.resetProperties())}checkForm(e){e&&e.target&&e.target.type!="textarea"&&this.formModel.valid&&(e.target.blur(),this.onSave())}onSave(e=0){return N(this,null,function*(){if(!this.object)return;let t=[];this.optionsGrids.forEach(g=>{let C=g.getOptions();t=t.concat(C)});for(let g=0;g<t.length;g++)t[g].name&&!t[g].name.length&&delete t[g];t=fi(t),t.forEach(g=>{if(g.name=="remote"){let C=/\s*(\d+)$/.exec(g.arg),y;C&&(y=C[1],g.arg=y)}}),this.formModel.removeControl("options"),this.formModel.addControl("options",new hl(this.createOVPNOptions(t)));let r={},o={};for(let g in this.formModel.controls)r[g]=this.formModel.controls[g].value!==null&&this.formModel.controls[g].value!==void 0?this.formModel.controls[g].value:void 0;let s=this.convertToStandardNetmask(r._ipobj_netmask);o={id:r._ipobj_id,type:void 0,fwcloud:r.fwcloud,name:r._ipobj_name,address:r._ipobj_address,netmask:s,ip_version:4,node_parent:void 0,node_order:1,node_type:void 0,force:e};let a,l,c;this.object.obj_type==L.OBJ_VPN_CONFIG_CLI?(o.type=L.OBJ_ADDRESS,o.node_type=H.OBJ_ADDRESS,a=H.FOLDER_ADDRESSES,l=ri.ccd,c=Cs.O_CLIENT):this.object.obj_type==L.OBJ_VPN_CONFIG_SER&&(o.type=L.OBJ_NETWORK,o.node_type=H.OBJ_NETWORK,a=H.FOLDER_NETWORKS,l=ri.ovp,c=Cs.O_SERVER),delete r._ipobj_id,delete r._ipobj_address,delete r._ipobj_name,delete r._ipobj_netmask,delete r._remote_options;let d,p;if(this.object._fwcObjId===void 0){d=this.fwcVpnService.newConfig.bind(this.fwcVpnService);let g=yield this.getParentId(a);if(g==-1){this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("VPN.PANEL.NEW.ERRORS.NETWORK"),detail:this.translate.instant("VPN.PANEL.NEW.ERRORS.NETWORK_PARENT_NODE")}),this.loadingData=!1;return}this.object.obj_type==L.OBJ_VPN_CONFIG_SER?(p=this.translate.instant("VPN.CONFIG.NEW_SERVER_CFG_OK"),o.node_parent=g):p=this.translate.instant("VPN.CONFIG.NEW_CLIENT_CFG_OK")}else r.openvpn=this.object._fwcObjId,delete o.node_order,delete o.node_type,delete r.firewall,delete r.crt,d=this.fwcVpnService.updateConfig.bind(this.fwcVpnService),this.object.obj_type==L.OBJ_VPN_CONFIG_SER?p=this.translate.instant("VPN.CONFIG.UPDATE_SERVER_CFG_OK"):p=this.translate.instant("VPN.CONFIG.UPDATE_CLIENT_CFG_OK");this.savingData=!0,this.manageNetworkIPObject(o).then(g=>{let C;g.data&&(C=g.data.insertId),this.modifyOption(r.options,c,void 0,C),this.clearOptionsArgs(r.options),this.utilService.fwcAPICall(d,r).then(y=>{let v=y.data&&y.data.insertId?y.data.insertId:r.openvpn,w={container:bt.C_FIREWALLS_CONDENSED,_fwcObjId:v,_fwcObjType:this.object.obj_type,_fwcTreeAction:mn.NEW_ITEM};this.itemSelectedService.setModifiedItem(w),w.container=bt.C_FIREWALLS,this.itemSelectedService.setModifiedItem(w),y.data&&y.data.fw_status&&this.store.dispatch(Nr.updateFwStatus({item:y.data.fw_status})),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:p}),this.savingData=!1,this.hideDialog(),this.resetProperties()}).catch(y=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(y)}),this.savingData=!1})},g=>{g.error&&g.error.fwcErr!=1003&&this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(g)}),this.savingData=!1})})}getParentId(e){let t;return t=new Promise((r,o)=>{this.fwcObjectTreeService.getNodes(e,this.fwcUserService.getActualFwSelectedCloud()).subscribe(s=>{let a=-1;s.data&&s.data.length&&(a=s.data[0].id),r(a)},s=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(s)}),r(-1)})}),t}getClusterMasterFirewall(e){let t;return t=new Promise((r,o)=>{this.fwcFirewallService.getClusterMasterNode(e,this.fwcUserService.getActualFwSelectedCloud()).subscribe(s=>{let a;a=s.data,r(a)},s=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(s)}),r(void 0)})}),t}getFirstFreeIP(e){let t;return t=new Promise((r,o)=>{this.fwcVpnService.getVPNLanNextFreeIP(e).subscribe(s=>{let a;a=s.data,r(a)},s=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(s)}),r(void 0)})}),t}modifyOption(e,t,r,o){let s=e.find(a=>a.name==t);s&&(r&&(s.arg=r),o!=null&&(s.ipobj=o))}getOption(e,t){return e.find(r=>r.name==t)}clearOptionsArgs(e){e.forEach(t=>{t.ipobj!==void 0&&t.ipobj!==null&&t.name!="remote"&&(t.arg="")})}manageNetworkIPObject(e){let t;return t=new Promise((r,o)=>{let s;if(e.id===void 0)s=this.fwcObjectService.newObject.bind(this.fwcObjectService);else{if(this.formModel.controls._ipobj_address.pristine&&this.formModel.controls._ipobj_netmask.pristine){r({data:void 0});return}s=this.fwcObjectService.updateObject.bind(this.fwcObjectService)}this.utilService.fwcAPICall(s,e).then(a=>{r(a)}).catch(a=>{a.error.fwcErr==1003&&this.confirmDuplicateOVPNOperation(a),o(a)})}),t}updateIPOnGrid(e){let t=this.formModel.controls._ipobj_address.value,r="",o,s,a;this.object.obj_type==L.OBJ_VPN_CONFIG_CLI?(t.match(wi.ipV4Regexp)&&(a=t),o=ri.ccd,s=Cs.O_CLIENT):this.object.obj_type==L.OBJ_VPN_CONFIG_SER&&(this.formModel.controls._ipobj_netmask&&(r=this.formModel.controls._ipobj_netmask.value),t.match(wi.ipV4Regexp)&&r.match(wi.netmaskRegexp)&&(a=t.trim()+" "+r.trim()),o=ri.ovp,s=Cs.O_SERVER),a&&this.optionsGrids.forEach(l=>{l.getScope()===o&&l.modifyIPOption(s,o,a)})}confirmDuplicateOVPNOperation(e){let t="",r=[];if(e.data&&e.data.length){r=e.data,t="<ul>";for(let o=0;o<r.length;o++)t+="<li><strong>"+r[o].name+"</strong> ("+r[o].id+") </li>";t+="</ul>"}this.confirmationService.confirm({header:this.translate.instant("ITEM_PANEL.ERRORS.DUP_WARNING.SUMMARY"),icon:"fa fa-question-circle fwcBlue iconBig",message:this.translate.instant("ITEM_PANEL.ERRORS.DUP_WARNING.TEXT",{objects:t}),rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES"),accept:()=>{this.onSave(1)}})}onDownloadConfigFile(){let e="";if(!this.objectToRetrieve)return;if(this.objectToRetrieve._fwcObjType==L.OBJ_VPN_CONFIG_SER)e=this.objectToRetrieve._fwcObjName?this.objectToRetrieve._fwcObjName.replace(/[^a-z0-9]/gi,"_"):"OpenVPN_Server",e+=".conf";else if(this.objectToRetrieve._fwcObjType==L.OBJ_VPN_CONFIG_CLI){let r=[];r.push(this.fwcUserService.getActualFwcUser().selectedFwCloudName||"FWCLOUD"),r.push(this.objectToRetrieve._fwcFwName||"FW"),r.push(this.objectToRetrieve._fwcObjName||"OpenVPN_Client"),r=r.map(o=>o.replace(/[^a-z0-9\-]/gi,"_")),e=r.join("-"),e+=".ovpn"}let t=new Blob([this.configFile],{type:"text/plain;charset=utf-8"});(0,dW.saveAs)(t,e)}onCopyConfigFile(){this.txtConfigFile&&(this.txtConfigFile.nativeElement.select(),document.execCommand("copy"),this.txtConfigFile.nativeElement.setSelectionRange(0,0),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("VPN.CONFIG.CLIPBOARD.COPIED_OK")}))}onProcessDeleteAction(){if(this.configOrPrefixToDelete)if(this.configOrPrefixToDelete.obj_type==L.OBJ_VPN_CONFIG_SER||this.configOrPrefixToDelete.obj_type==L.OBJ_VPN_CONFIG_CLI)if(this.alsoUninstallConfig){this.objectToDelete=null,this.configOrPrefixToDelete.uninstallAction=!0;let e=this.utilService.createDynamicComponentRef(Ia),t=e.instance;t.setDynamicComponentRef(e),this.communicationSubscription=t.socketEventEmitter.subscribe(r=>{r=="connected"&&this.onItemManage(this.configOrPrefixToDelete,!0),this.communicationSubscription.unsubscribe()}),t.checkConnection()}else this.onDeleteConfigurationOrPrefix();else this.onDeleteConfigurationOrPrefix()}onDeleteConfigurationOrPrefix(){if(!this.configOrPrefixToDelete)return;let e,t,r,o=this.configOrPrefixToDelete;o.obj_type==L.OBJ_VPN_CONFIG_SER||o.obj_type==L.OBJ_VPN_CONFIG_CLI?(e=this.fwcVpnService.deleteConfig.bind(this.fwcVpnService),t={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),openvpn:this.configOrPrefixToDelete._fwcObjId},r="VPN.CONFIG"):o.obj_type==L.OBJ_OPENVPN_PREFIX&&(e=this.fwcVpnService.deleteOpenVPNPrefix.bind(this.fwcVpnService),t={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),prefix:o.id_obj},r="VPN.OPENVPN_PREFIX"),e&&(this.addMessageToLog("",ut.MSG_SEPARATOR),this.addMessageToLog(this.translate.instant(r+".DELETING"),ut.MSG_INFO),this.utilService.fwcAPICall(e,t).then(s=>{let a=Object.assign({},this.configOrPrefixToDelete);a._fwcTreeAction=mn.DELETE_ITEM,s.data&&s.data.length&&(a.fw_status=s.data),this.itemSelectedService.setModifiedItem(a),this.log||(this.hideDialog(),this.resetProperties()),o.obj_type==L.OBJ_VPN_CONFIG_SER||o.obj_type==L.OBJ_VPN_CONFIG_CLI?(this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:this.translate.instant("VPN.CONFIG.DELETE_SUCCESS")}),this.addMessageToLog(this.translate.instant("VPN.CONFIG.DELETE_SUCCESS"),ut.MSG_OK)):this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:this.translate.instant("VPN.OPENVPN_PREFIX.DELETE.OK")})}).catch(s=>{let a;a=this.translate.instant(r+".ERRORS.DELETE_ERROR.TEXT",{error:this.fwcErrorPipe.transform(s)}),this.errorMsg={type:"error",title:this.translate.instant(r+".ERRORS.DELETE_ERROR.SUMMARY"),text:a},this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(s)}),this.log&&this.addMessageToLog(a,ut.MSG_ERROR)}))}showRestrictions(e,t){}hideRestrictions(e){}managePrefix(e){let t,r,o,s,a,l,c,d;if(e)if(e.deletePrefixFolderAction){let p={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),prefix:e.id_obj};if(e.obj_type==L.OBJ_PREFIX_FOLDER)l=this.fwcVpnService.checkPrefixFolderRestrictions.bind(this.fwcVpnService),c=this.fwcVpnService.deletePrefixFolder.bind(this.fwcVpnService),a="VPN.PREFIX_FOLDER";else return;l(p).subscribe(g=>{this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_CONFIRM"),icon:"fa fa-question-circle fwcBlue iconBig",message:this.translate.instant(a+".DELETE.ASK",{name:e._fwcObjName}),rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES"),accept:()=>{this.utilService.fwcAPICall(c,p).then(C=>{if(this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant(a+".DELETE.OK")}),e._fwcTreeAction=mn.DELETE_ITEM,this.itemSelectedService.setModifiedItem(e),e.container!=bt.C_FIREWALLS_CONDENSED){let y={_fwcTreeAction:mn.RELOAD_TREE,containerToReload:bt.C_FIREWALLS_CONDENSED};this.itemSelectedService.setModifiedItem(y)}}).catch(C=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(C)})})}})},g=>{g.error&&g.error.restrictions?(this.dependencies=g.error.restrictions,this.confirmationService.confirm({header:this.translate.instant(a+".DELETE.RESTR_HEADER"),icon:"pi pi-exclamation-triangle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:this.translate.instant(a+".DELETE.RESTR_TEXT",{name:e._fwcObjName})})):this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(g)})})}else{let p,g,C={[L.OBJ_PREFIX_FOLDER]:[this.fwcVpnService.editPrefixFolder.bind(this.fwcVpnService),this.fwcVpnService.newPrefixFolder.bind(this.fwcVpnService)],[L.OBJ_OPENVPN_PREFIX]:[this.fwcVpnService.editOpenVPNPrefix.bind(this.fwcVpnService),this.fwcVpnService.newOpenVPNPrefix.bind(this.fwcVpnService)]};if(e.obj_type==L.OBJ_PREFIX_FOLDER)p=e.id_obj,a="VPN.PREFIX_FOLDER";else if(e.obj_type==L.OBJ_OPENVPN_PREFIX)g=e.id_obj,a="VPN.OPENVPN_PREFIX";else return;if(e.editPrefixAction)t=e._fwcObjName,r=e.id_obj,o=this.translate.instant(a+".EDIT.HEADER"),s=this.translate.instant(a+".EDIT.TEXT"),C[e.obj_type]&&C[e.obj_type][0]&&(d=C[e.obj_type][0]);else if(e.newPrefixAction)o=this.translate.instant(a+".NEW.HEADER"),s=this.translate.instant(a+".NEW.TEXT"),C[e.obj_type]&&C[e.obj_type][1]&&(d=C[e.obj_type][1]);else return;let y={header:o,helpText:s,formControls:[{name:"container",type:"hidden",value:e.container},{name:"id",type:"hidden",value:r},{name:"obj_type",type:"hidden",value:e.obj_type},{name:"ca",type:"hidden",value:p},{name:"orig_name",type:"hidden",value:t},{name:"name",label:this.translate.instant(a+".NAME"),type:"text",required:!0,value:t},{name:"openvpn",type:"hidden",value:g},{name:"translateKey",type:"hidden",value:a},{name:"apiCall",type:"hidden",value:d}],onAccept:this.onManagePrefix.bind(this)};this.inputDataService.setInputData(y)}}onManagePrefix(e){if(e){if(e.name==e.orig_name)return;let t,r,o={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),name:e.name},s;t=e.translateKey,r=e.apiCall,e.id?(o.prefix=e.id,s=this.translate.instant(t+".EDIT.OK")):(o.ca=e.ca,o.openvpn=e.openvpn,s=this.translate.instant(t+".NEW.OK")),this.utilService.fwcAPICall(r,o).then(a=>{let l=a.data&&a.data.insertId?a.data.insertId:e.id;this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:s});let c={container:e.container,_fwcObjName:e.name,_fwcObjId:l,_fwcObjType:e.obj_type,_fwcTreeAction:mn.NEW_ITEM};this.itemSelectedService.setModifiedItem(c),e.container!=bt.C_FIREWALLS_CONDENSED&&this.itemSelectedService.setModifiedItem({_fwcTreeAction:mn.RELOAD_TREE,containerToReload:bt.C_FIREWALLS_CONDENSED}),this.itemSelectedService.setModifiedItem({_fwcTreeAction:mn.RELOAD_TREE,containerToReload:bt.C_OBJECTS}),this.store.dispatch(gn.reloadDialog({dialogUuids:[Ai.ITEM_PANEL]}))}).catch(a=>{let l,c;a.error&&(a.error.fwcErr==1003?(l=this.translate.instant(t+".ERRORS.ERROR_DUP.SUMMARY"),c=this.translate.instant(t+".ERRORS.ERROR_DUP.TEXT")):a.error.fwcErr==5001?(l=this.translate.instant("VPN.OPENVPN_PREFIX.ERRORS.ERROR_EMPTY_CONTAINER.SUMMARY"),c=this.translate.instant("VPN.OPENVPN_PREFIX.ERRORS.ERROR_EMPTY_CONTAINER.TEXT")):this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(a)})),c&&this.confirmationService.confirm({header:l,icon:"fa fa-exclamation-circle fwcRed iconBig",message:c,rejectVisible:!1,acceptLabel:"Ok",accept:()=>{}})})}}showWhereUsed(e){if(!e)return;this.objectToSearchWU=e;let t,r;r={fwcloud:this.fwcUserService.getActualFwSelectedCloud()},e.obj_type==L.OBJ_OPENVPN_PREFIX?(t=this.fwcVpnService.getOpenVPNWhereUsed.bind(this.fwcVpnService),r.prefix=e._fwcObjId):e.obj_type==L.OBJ_VPN_CONFIG_CLI&&(t=this.fwcVpnService.getConfigWhereUsed.bind(this.fwcVpnService),r.openvpn=e._fwcObjId),this.showDialog(),t&&t(r).subscribe(o=>{let s=Object.assign({},o.data);s._fwcObjType=e.obj_type,this.objectToSearchWU._fwcObjectInfo=s,this.recenterDialog()},o=>{this.errorMsg={type:"error",title:this.translate.instant("VPN.CONFIG.ERRORS.WHERE_USED.SUMMARY"),text:this.translate.instant("VPN.CONFIG.ERRORS.ADD_REMOTE_ERROR.TEXT",{error:this.fwcErrorPipe.transform(o)})}})}blockUnblockVPNConnection(e){let t=e._fwcObjId,r={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),openvpn:t},o;this.fwcVpnService.getConfig(r).pipe(fr(s=>{let a=s.data;Array.isArray(a.options)||(a.options=[]);let l,c=[];if(a.options.forEach(d=>{c.push({arg:d.arg,comment:d.comment,ipobj:d.ipobj,name:d.name,scope:d.scope})}),e.blockVPNAction){if(o="VPN.CONFIG.INFO.BLOCK_VPN",c.find(d=>d.name==="disable"))return wt(null);c.push({arg:"",comment:"",ipobj:null,name:"disable",scope:ri.ccd})}else if(o="VPN.CONFIG.INFO.UNBLOCK_VPN",c.find(d=>d.name==="disable"))c=c.filter(d=>d.name!=="disable");else return wt(null);return c=c.sort((d,p)=>d.scope-p.scope),l={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),openvpn:a.id,options:c},Tn(this.utilService.fwcAPICall(this.fwcVpnService.updateConfig.bind(this.fwcVpnService),l))})).subscribe(s=>{s===null||this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant(o+".SUMMARY"),detail:this.translate.instant(o+".TEXT")});let a=this.utilService.createDynamicComponentRef(Ia),l=a.instance;l.setDynamicComponentRef(a),this.communicationSubscription=l.socketEventEmitter.subscribe(c=>{c=="connected"&&(e.installAction=!0,this.onItemManage(e)),this.communicationSubscription.unsubscribe()}),l.checkConnection()},s=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("VPN.CONFIG.ERRORS.BLOCK_VPN.SUMMARY"),detail:this.translate.instant("VPN.CONFIG.ERRORS.BLOCK_VPN.TEXT")})})}onAddRemoteOption(){if(!this.formModelRemote||!this.formModelRemote.valid)return;let e=this.formModelRemote.value,t=this.optionsGrids.find(o=>o.getScope()===ri.ovp);if(!t)return;let r=t.getOptions();for(let o=0;o<r.length;o++){let s=r[o];if(s.name==="remote"&&s.ipobj===e.id_obj){let a=/\s*(\d+)$/.exec(s.arg),l;if(a&&(l=a[1],e.remote_port===+l)){this.confirmationService.confirm({header:this.translate.instant("VPN.CONFIG.ERRORS.EXISTING_REMOTE_ERROR.SUMMARY"),icon:"fa fa-exclamation-circle fwcRed iconBig",message:this.translate.instant("VPN.CONFIG.ERRORS.EXISTING_REMOTE_ERROR.TEXT"),acceptLabel:"Ok",rejectVisible:!1});return}}}this.fwcObjectService.getObject(e.id_obj,this.fwcUserService.getActualFwSelectedCloud()).subscribe({next:o=>{if(!o.data)return;let s=o.data,a="",l="";e.obj_type==L.OBJ_ADDRESS&&(a=s.address),e.obj_type==L.OBJ_DNS&&(a=s.name),a+=" "+e.remote_port,s.if_name?(s.cluster_name?l+=`Cluster '${s.cluster_name}'`:s.firewall_name?l+=`Firewall '${s.firewall_name}'`:s.host_name&&(l+=`Host '${s.host_name}'`),l+=` - IF '${s.if_name}'`):l+=s.name;let c={name:"remote",scope:ri.ovp,arg:a,ipobj:e.id_obj,required:!0,readonly:!0},d=[];t.updateOrCreateIPOption(c),d=d.concat(t.getOptions()),this.formModel.controls._remote_options=new hl(this.createOVPNOptions(d,"remote")),this.formModel.markAsDirty(),this.formModel.updateValueAndValidity()},error:o=>{this.errorMsg={type:"error",title:this.translate.instant("VPN.CONFIG.ERRORS.ADD_REMOTE_ERROR.SUMMARY"),text:this.translate.instant("VPN.CONFIG.ERRORS.ADD_REMOTE_ERROR.TEXT",{error:this.fwcErrorPipe.transform(o)})},this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(o)})}})}onRemoteIPObjectChange(e){!e||e.obj_type!=L.OBJ_ADDRESS&&e.obj_type!=L.OBJ_DNS||(this.formModelRemote.get("id_obj").setValue(e.id_obj),this.formModelRemote.get("obj_type").setValue(e.obj_type))}updateOptions(e){let t=[],r=[...this.formModel.get("options").value];if(this.optionsGrids.forEach(o=>{(!e||o.getScope()==e)&&(t=t.concat(o.getOptions()))}),t.length===r.length){let o=new Set(r.map(l=>l.name)),s=new Set(t.map(l=>l.name));if(!(o.size===s.size&&[...o].every(l=>s.has(l))))for(let l=0;l<t.length;l++){let c=t[l],d=r[l];d&&d.name!==c.name&&(c.name==="cipher"||c.name==="data-ciphers-fallback"?c.arg=this.optionsGrids.first.defaultCipher:c.name==="data-ciphers"?c.arg=this.optionsGrids.first.selectedOptionsDisplay:c.arg="")}}t.length&&(this.formModel.removeControl("options"),this.formModel.addControl("options",new hl(this.createOVPNOptions(t))),this.formModel.controls._remote_options&&(this.formModel.removeControl("_remote_options"),this.formModel.addControl("_remote_options",new hl(this.createOVPNOptions(t,"remote")))),this.formModel.updateValueAndValidity())}onOptionsChange(e){this.updateOptions(),e&&this.formModel.markAsDirty(),this.recenterDialog()}onOptionsDelete(e){e&&e.name=="remote"&&e.ipobj&&this.updateOptions(),this.formModel.markAsDirty()}onShowDialog(e){this.recenterDialog()}onHideDialog(e){}static{this.\u0275fac=function(t){return new(t||i)(b(At),b(Bt),b(Mt),b(Ie),b(pt),b(Zt),b(Ir),b(Do),b(os),b(Ro),b(Wi),b(Xe),b(si),b(Et),b(Vn),b(ci),b(rt),b(ct))}}static{this.\u0275cmp=ie({type:i,selectors:[["sts-fwc-ovconfig-panel"]],viewQuery:function(t,r){if(t&1&&(de(Qm,5),de(hze,5),de(cs,5),de(yS,5)),t&2){let o;ee(o=te())&&(r.treeSelector=o.first),ee(o=te())&&(r.txtConfigFile=o.first),ee(o=te())&&(r.log=o.first),ee(o=te())&&(r.optionsGrids=o)}},inputs:{restrictionsReadOnly:"restrictionsReadOnly"},features:[Ze([Ir,Do,Zt]),ve],decls:11,vars:14,consts:[["dlgOVConfigPanel",""],["txtConfigFile",""],["treeSelector",""],["styleClass","dlgFwcDialog fwcObjectDialog",3,"visibleChange","onShow","onHide","visible","modal","resizable","closable"],["pTemplate","header"],[1,"grid"],[1,"grid","grid","grid-nogutter"],[3,"objectInfo","readOnly"],["styleClass","objectInfoTab"],["pTemplate","footer"],[1,"divFormHeader"],[1,"divHeaderButtons"],[1,"fwcWhite","fwcIconLeft"],[1,"fwci-edit","fwcOrange"],[1,"fwci-whereused","fwcOrange"],["pButton","","type","button","icon","fa fa-window-minimize",1,"p-button-secondary",3,"click"],[1,"col-12","divCentered"],[1,"col-12"],[3,"message"],[1,"fwcRestrictionsContainer"],[3,"onHideParent","onRefreshRestrictions","dependencies","readOnly"],[1,"col-12",2,"text-align","center"],["name","chkUninstallConfig","binary","true",3,"ngModelChange","ngModel","label"],[1,"col-12","divConfigFile"],["pInputTextarea","","rows","15","readonly",""],[1,"col-4"],[1,"divTableScroll"],[1,"tableFw","unstriped"],[1,"fwc-centered"],[3,"ngClass"],[1,"col-8"],[1,"fwcMenuIcon","fwci-cluster","fwcOrange"],[1,"fwcSepShort"],[1,"fwcMenuIcon","fwci-firewall","fwcBlue"],[3,"onHideParent","objectInfo","readOnly"],["leftIcon","fa fa-pencil",3,"header"],[1,"fwcObjectPanel"],[3,"formGroup"],[3,"keyup.enter","keyup.esc"],[1,"grid","grid-nogutter"],[1,"col-12","divOPHeader",2,"margin-bottom","10px"],[1,"col-6","grid","grid-nogutter"],[1,"p-inputgroup"],[1,"fwcBlue"],["pInputText","","type","text","readonly","",3,"value"],[1,"col-12","lg:col-6","padding-right",2,"padding-right","10px"],[3,"legend"],[1,"col-5"],[1,"p-float-label",2,"margin-top","10px"],["pInputText","","maxlength","64","type","text","formControlName","_ipobj_name","name","_ipobj_name",3,"drop"],["for","_ipobj_name"],[1,"col-3"],["pInputText","","maxlength","45","type","text","formControlName","_ipobj_address","name","_ipobj_address",3,"drop"],["for","_ipobj_address"],["pInputText","","maxlength","17","type","text","formControlName","_ipobj_netmask","name","_ipobj_netmask",3,"drop"],["for","_ipobj_netmask"],["class","col-12 grid-nogutter",4,"ngIf"],[1,"col-12","lg:col-6",2,"padding-left","10px"],[1,"col-12","lg:col-6"],[1,"col-6",2,"padding-right","10px"],[1,"noVertPad","fwcBlue"],[3,"optionDeleted","dataChanges","options","scope"],[1,"col-12",2,"margin-top","1rem"],[1,"p-float-label"],["pInputText","","type","text","maxlength","255","formControlName","comment","name","comment",3,"drop"],["for","comment"],[1,"col-12","grid-nogutter"],[1,"fwc-error","err-no-margin",3,"ngStyle"],[2,"max-height","fit-content",3,"legend"],[1,"grid",2,"max-height","fit-content","width","100%"],[1,"col-6",2,"margin-top","10px"],["pInputText","","type","text","formControlName","install_dir","name","install_dir",2,"font-family","monospace !important",3,"drop"],["for","install_dir"],["class","fwc-error err-no-margin",3,"ngStyle",4,"ngIf"],["pInputText","","type","text","maxlength","64","formControlName","install_name","name","install_name",2,"font-family","monospace !important",3,"drop"],["for","install_name"],["class","col-12",4,"ngIf"],["legend","Remote"],[1,"grid",2,"width","100%"],[1,"col-6"],[3,"objectSelected","fwcloudId","fwTreeNodes","objectTreeNodes","selectableObjects","disabledObjects"],["pInputText","","type","number","formControlName","remote_port","name","remote_port",3,"drop"],["for","remote_port"],[1,"col"],["pButton","","type","button","icon","fa fa-plus",1,"p-button-primary","fwcButtonHeight",2,"height","2.5rem",3,"click","disabled"],["class","col-12 grid grid-nogutter",4,"ngIf"],[1,"col-12","grid","grid-nogutter"],[1,"divLoadTemp",3,"ngStyle"],["type","button","pButton","","icon","fa fa-trash",1,"p-button-danger",3,"disabled","label"],["pButton","","icon","pi pi-times",1,"p-button-primary",3,"disabled","label"],["type","button","pButton","","icon","fa fa-refresh",1,"fwc-left-float","p-button-primary",3,"disabled","label"],["type","button","pButton","","icon","fa fa-trash",1,"p-button-danger",3,"click","disabled","label"],["type","button","pButton","","icon","fa fa-refresh",1,"fwc-left-float","p-button-primary",3,"click","disabled","label"],["pButton","","icon","fa fa-clipboard",1,"p-button-secondary",3,"label","disabled"],["pButton","","icon","fa fa-download",1,"p-button-secondary",3,"label","disabled"],["pButton","","icon","fa fa-clipboard",1,"p-button-secondary",3,"click","label","disabled"],["pButton","","icon","fa fa-download",1,"p-button-secondary",3,"click","label","disabled"],["type","button","pButton","","icon","fa fa-pause",1,"p-button-warning",3,"disabled","label"],["type","button","pButton","","icon","fa fa-play",1,"p-button-success",3,"disabled","label"],["type","button","pButton","","icon","fa fa-pause",1,"p-button-warning",3,"click","disabled","label"],["type","button","pButton","","icon","fa fa-play",1,"p-button-success",3,"click","disabled","label"],["pButton","","icon","pi pi-times",1,"p-button-danger",3,"label","disabled"],["pButton","","icon","fa fa-save",1,"p-button-success",3,"label","disabled"],["pButton","","icon","pi pi-times",1,"p-button-danger",3,"click","label","disabled"],["pButton","","icon","fa fa-save",1,"p-button-success",3,"click","label","disabled"],["pButton","","icon","pi pi-times",1,"p-button-primary",3,"click","disabled","label"]],template:function(t,r){if(t&1){let o=B();m(0,"p-dialog",3,0),Ve("visibleChange",function(a){return S(o),Ue(r.displayDialog,a)||(r.displayDialog=a),A(a)}),P("onShow",function(a){return S(o),A(r.onShowDialog(a))})("onHide",function(a){return S(o),A(r.onHideDialog(a))}),I(2,xze,6,6,"ng-template",4)(3,Tze,3,0,"div",5)(4,Oze,3,1,"div",5)(5,Fze,2,1)(6,Lze,5,1,"div",6)(7,jze,17,6,"div",6)(8,Hze,1,2,"sts-fwc-object-wu",7)(9,Qze,58,33,"p-tabView",8)(10,uWe,7,11,"ng-template",9),_()}t&2&&(dt(Ae(13,fze)),Ne("visible",r.displayDialog),h("modal",!0)("resizable",!0)("closable",!1),u(3),q(r.loadingData?3:-1),u(),q(r.errorMsg?4:-1),u(),q(r.objectToDelete&&!r.loadingData&&!r.errorMsg?5:-1),u(),q(r.objectToRetrieve&&!r.loadingData&&!r.errorMsg?6:-1),u(),q(r.objectToManage&&!r.loadingData&&!r.errorMsg?7:-1),u(),q(r.objectToSearchWU&&!r.loadingData&&!r.errorMsg?8:-1),u(),q(r.object&&r.formModel&&!r.loadingData&&!r.errorMsg?9:-1))},dependencies:[Ge,et,Ee,gr,pn,Pp,cn,mr,Qr,Gn,_r,Or,ni,be,mt,eo,On,xo,i_,t_,Xw,Hc,cs,BG,UG,Nn,yS,Qm,vt,Rn],styles:[`.divConfigFile textarea{font-family:monospace!important;font-size:.8rem!important;min-height:18rem}.divOPHeader h6,.divOPHeader label{white-space:nowrap;font-family:Montserrat,sans-serif}.p-fieldset-content{display:flex;flex-direction:row;width:100%}body .p-fieldset{border:1px solid #c8c8c8;background-color:transparent;color:#333}body .p-corner-all{-moz-border-radius:3px;-webkit-border-radius:3px;border-radius:3px}.p-fieldset .p-fieldset-legend{border:1px solid transparent;background:none;font-weight:400}.p-fieldset .p-fieldset-legend-text{margin-left:15px;font-family:Montserrat,Arial,sans-serif}p-fieldset[legend=Remote] .p-fieldset-content{margin-top:10px}
`],encapsulation:2,data:{animation:[MG]}})}}return i})();var kGt=(()=>{class i{constructor(e){this.el=e}ngAfterViewInit(){setTimeout(()=>{this.el.nativeElement.focus()},50)}static{this.\u0275fac=function(t){return new(t||i)(b(ze))}}static{this.\u0275dir=gt({type:i,selectors:[["","appAutofocus",""]]})}}return i})();var pWe=["fwcVpnStatusComponent"],hWe=()=>({width:"90vw"});function fWe(i,n){if(i&1&&(m(0,"span"),D(1),_()),i&2){let e=f(2);u(),J(" (",e.configObj==null?null:e.configObj.cluster_name,") ")}}function mWe(i,n){if(i&1&&D(0),i&2){let e=f(2);J(" (",e.configObj==null?null:e.configObj.firewall_name,") ")}}function gWe(i,n){if(i&1&&(m(0,"div",5)(1,"h6",6),O(2,"i",7),D(3),R(4,"translate"),m(5,"strong"),D(6),_(),I(7,fWe,2,1,"span")(8,mWe,1,1),_()()),i&2){let e=f();u(3),J(" ",k(4,3,"VPN.STATUS.PANEL_TITLE_FULL")," "),u(3),J("'",e.configObj==null?null:e.configObj._fwcObjName,"'"),u(),q(e.configObj!=null&&e.configObj.cluster_id?7:8)}}function _We(i,n){if(i&1){let e=B();m(0,"button",8),R(1,"translate"),P("click",function(){S(e);let r=f();return A(r.closeDialog())}),_()}if(i&2){let e=f();ae("label",k(1,2,"GLOBALS.MSG_BUTTONS.CLOSE")),h("disabled",e.loadingData)}}var zGt=(()=>{class i extends ei{constructor(e,t,r,o,s,a,l){super(r,t,e,s,a,l),this.itemSelectedService=e,this.appOptionsService=t,this.appDialogPanelsService=r,this.translate=o,this.cd=s,this.store=a,this.router=l,this.alive=!0,this.createDialog(this.translate.instant("VPN.STATUS.PANEL_TITLE"),"fwci2-openvpn",Ai.VPN_STATUS_PANEL)}ngOnInit(){this.itemSelectedService.getItem().pipe(kt(()=>this.alive)).subscribe(e=>{e.obj_type==L.OBJ_VPN_CONFIG_SER&&e.statusAction&&(this.loadingData=!0,this.showDialog(),this.configObj=e,this.recenterDialog())})}ngOnDestroy(){super.ngOnDestroy()}closeDialog(){this.fwcVpnStatusComponent&&this.fwcVpnStatusComponent.resetProperties(),this.hideDialog()}onDialogHide(e){this.loadingData=!1}onVpnStatusLoaded(e){this.loadingData=!1,this.recenterDialog()}static{this.\u0275fac=function(t){return new(t||i)(b(At),b(Bt),b(Mt),b(Xe),b(Ie),b(rt),b(ct))}}static{this.\u0275cmp=ie({type:i,selectors:[["sts-fwc-vpn-status-panel"]],viewQuery:function(t,r){if(t&1&&de(pWe,5),t&2){let o;ee(o=te())&&(r.fwcVpnStatusComponent=o.first)}},features:[ve],decls:5,vars:8,consts:[["fwcVpnStatusComponent",""],["styleClass","dlgFwcDialog",3,"visibleChange","onHide","visible","modal","resizable","closable"],["pTemplate","header"],[3,"statusLoaded","statusError","configObj"],["pTemplate","footer"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"fwcMenuIcon","fwci2-vpn-config","fwcOrange"],["pButton","","icon","pi pi-times",1,"p-button-primary",3,"click","disabled","label"]],template:function(t,r){if(t&1){let o=B();m(0,"p-dialog",1),Ve("visibleChange",function(a){return S(o),Ue(r.displayDialog,a)||(r.displayDialog=a),A(a)}),P("onHide",function(a){return S(o),A(r.onDialogHide(a))}),I(1,gWe,9,5,"ng-template",2),m(2,"sts-fwc-vpn-status",3,0),P("statusLoaded",function(a){return S(o),A(r.onVpnStatusLoaded(a))})("statusError",function(){return S(o),A(r.hideDialog())}),_(),I(4,_We,2,4,"ng-template",4),_()}t&2&&(dt(Ae(7,hWe)),Ne("visible",r.displayDialog),h("modal",!0)("resizable",!0)("closable",!1),u(2),h("configObj",r.configObj))},dependencies:[ni,be,mt,jG,vt]})}}return i})();var CWe=()=>({width:"40rem",height:"20rem"});function yWe(i,n){i&1&&(m(0,"div",6)(1,"h6",7),O(2,"i",8),D(3),R(4,"translate"),_()()),i&2&&(u(3),J(" ",k(4,1,"FW.FW_MORE_INFO.MORE_INFO")," "))}function IWe(i,n){if(i&1){let e=B();m(0,"button",9),R(1,"translate"),P("click",function(){S(e);let r=f();return A(r.hideDialog())}),_()}if(i&2){let e=f();ae("label",k(1,2,"GLOBALS.MSG_BUTTONS.CLOSE")),h("disabled",e.loadingData)}}var ezt=(()=>{class i extends ei{constructor(e,t,r,o,s,a,l,c,d,p,g,C){super(r,t,e,p,g,C),this.itemSelectedService=e,this.appOptionsService=t,this.appDialogPanelsService=r,this.utilService=o,this.fwcUserService=s,this.fwcEventService=a,this.translate=l,this.confirmationService=c,this.fwcFirewallService=d,this.cd=p,this.store=g,this.router=C,this.loadingData=!1,this.createDialog("panel","")}ngOnInit(){}ngOnDestroy(){super.ngOnDestroy()}showFirewallPanel(e,t,r,o,s,a){this.showDialog(),this.fwc_agent_version=e,this.host_name=t,this.system_name=r,this.os_version=s,this.kernel_version=a}static{this.\u0275fac=function(t){return new(t||i)(b(At),b(Bt),b(Mt),b(Et),b(pt),b(Vn),b(Xe),b(si),b(Zt),b(Ie),b(rt),b(ct))}}static{this.\u0275cmp=ie({type:i,selectors:[["sts-fwc-info-firewall"]],features:[Ze([Zt]),ve],decls:38,vars:30,consts:[["styleClass","dlgFwcDialog",3,"visibleChange","visible","modal","resizable","closable"],["pTemplate","header"],[2,"justify-content","center"],[2,"margin","0 auto","text-align","center","align-items","center","padding","10px"],[1,"col-8","infoTable"],["pTemplate","footer"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"pi","pi-info","fwcOrange"],["type","button","pButton","","icon","pi pi-check",1,"p-button-primary",3,"click","disabled","label"]],template:function(t,r){t&1&&(m(0,"p-dialog",0),Ve("visibleChange",function(s){return Ue(r.displayDialog,s)||(r.displayDialog=s),s}),I(1,yWe,5,3,"ng-template",1),m(2,"div",2)(3,"h3",3),D(4),R(5,"translate"),_(),m(6,"table",4)(7,"tr")(8,"th"),D(9),R(10,"translate"),_(),m(11,"td"),D(12),_()(),m(13,"tr")(14,"th"),D(15),R(16,"translate"),_(),m(17,"td"),D(18),_()(),m(19,"tr")(20,"th"),D(21),R(22,"translate"),_(),m(23,"td"),D(24),_()(),m(25,"tr")(26,"th"),D(27),R(28,"translate"),_(),m(29,"td"),D(30),_()(),m(31,"tr")(32,"th"),D(33),R(34,"translate"),_(),m(35,"td"),D(36),_()()()(),I(37,IWe,2,4,"ng-template",5),_()),t&2&&(dt(Ae(29,CWe)),Ne("visible",r.displayDialog),h("modal",!0)("resizable",!0)("closable",!1),u(4),$(k(5,17,"FW.FW_MORE_INFO.FIREWALL_INFO")),u(5),$(k(10,19,"FW.FW_MORE_INFO.AGENT_VERSION")),u(3),$(r.fwc_agent_version),u(3),$(k(16,21,"FW.FW_MORE_INFO.HOST_NAME")),u(3),$(r.host_name),u(3),$(k(22,23,"FW.FW_MORE_INFO.SYSTEM_NAME")),u(3),$(r.system_name),u(3),$(k(28,25,"FW.FW_MORE_INFO.OS_VERSION")),u(3),$(r.os_version),u(3),$(k(34,27,"FW.FW_MORE_INFO.KERNEL_VERSION")),u(3),$(r.kernel_version))},dependencies:[ni,be,mt,vt],styles:[`.infoTable{justify-content:center;align-items:center;width:100%;margin:0 auto;max-width:25vw}@media (max-width: 1300px){.infoTable{max-width:37vw}}@media (max-width: 960px){.infoTable{max-width:45vw}}@media (max-width: 780px){.infoTable{max-width:55vw}}
`],encapsulation:2})}}return i})();var DKt=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=Oe({type:i})}static{this.\u0275inj=Te({providers:[Wi,nf],imports:[Ye,Zd,uT,xz.forChild(),wT,sR,aR,ST,bT,zr,ET,Gr,lR,Oa,xT,uR,Om,TT,pR,WT,nu,mR,gR,RP,PP,KT,LP,NP,$T,VP,p_,l_,UP,jP,SG,TG,OG,DG,cV,RG,kG,LG,F4.forChild(),Ye,Zd,uT,wT,sR,aR,ST,bT,zr,ET,Gr,lR,Oa,xT,uR,Om,TT,pR,WT,nu,mR,gR,RP,PP,KT,LP,NP,$T,VP,p_,l_,UP,jP]})}}return i})();Os(ez,function(){return[ni,be,mt,eo,ov,cs,Nn]},function(){return[vt]});Os(rz,function(){return[Ge,gr,pn,cn,mr,Qr,Gn,_r,Or,be,mt,Fp,Zn,$a,On,Hc,wG,Bp]},function(){return[kI,vt,Rn]});Os(oz,function(){return[Ge,ni,be,mt,Fp,iC,xG]},function(){return[PI,vt,Rn]});Os(uS,function(){return[Rz]},[]);Os(X1,function(){return[Ee,gr,pn,cn,mr,Qr,_r,Or,ni,be,mt,On,Ho,Nn,_h]},function(){return[vt]});Os(eS,function(){return[Ee,gr,pn,cn,mr,_r,Or,ni,be,mt,On,_h]},function(){return[vt]});Os(Ym,function(){return[Ee,gr,cn,mr,_r,Or,ni,be,mt,eo,Ho,cs]},function(){return[vt]});Os(CS,function(){return[Ee,ni,be,mt,$a]},function(){return[vt,Rn]});Os(Fz,function(){return[Ee,gr,pn,cn,mr,_r,Or,ni,be,mt,xo,Ho,Nn,_h]},function(){return[vt]});Os(Lz,function(){return[Ee,gr,pn,cn,mr,_r,Or,$g,ni,be,mt,xo,Ho,Nn,_h]},function(){return[vt]});Os(Jm,function(){return[Ge,Ee,ni,be,mt,eo,cs]},function(){return[vt]});Os(Nz,function(){return[Ee,gr,pn,cn,mr,_r,Or,$g,ni,be,mt,xo,Ho,Nn,_h]},function(){return[vt]});Os(_h,[],function(){return[Rn]});export{gi as a,Re as b,og as c,kS as d,lo as e,cp as f,wt as g,Xs as h,DW as i,PW as j,W as k,fr as l,lg as m,HW as n,NS as o,co as p,VS as q,Z as r,rl as s,zW as t,xh as u,No as v,US as w,WW as x,KW as y,Sc as z,_F as A,YW as B,JW as C,cg as D,WS as E,XW as F,uo as G,pp as H,kt as I,bo as J,KS as K,Ct as L,zt as M,_e as N,Te as O,He as P,ce as Q,Me as R,ie as S,Oe as T,gt as U,Jn as V,Yh as W,S as X,A as Y,It as Z,tt as _,Er as $,Q as aa,xt as ba,Bl as ca,ze as da,qt as ea,_et as fa,Xi as ga,Uo as ha,HE as ia,Tq as ja,GM as ka,u as la,b as ma,zh as na,Ft as oa,fo as pa,Oi as qa,ve as ra,qe as sa,I as ta,V as ua,h as va,Fn as wa,yn as xa,dt as ya,le as za,ra as Aa,q as Ba,Ur as Ca,jr as Da,Hr as Ea,m as Fa,_ as Ga,O as Ha,pe as Ia,he as Ja,ue as Ka,B as La,P as Ma,f as Na,Fi as Oa,ii as Pa,ae as Qa,hI as Ra,ot as Sa,de as Ta,ee as Ua,te as Va,We as Wa,D as Xa,$ as Ya,J as Za,Ts as _a,Ne as $a,Ue as ab,Ve as bb,Ze as cb,lt as db,Os as eb,Ae as fb,oe as gb,Je as hb,zi as ib,dr as jb,ll as kb,R as lb,k as mb,Di as nb,cl as ob,Pt as pb,Ie as qb,K as rb,ke as sb,Fc as tb,_t as ub,Ge as vb,tn as wb,et as xb,Ee as yb,st as zb,Uet as Ab,Kl as Bb,Ye as Cb,ht as Db,MI as Eb,wo as Fb,Uc as Gb,Yt as Hb,oZ as Ib,Zet as Jb,ett as Kb,j3 as Lb,ftt as Mb,mtt as Nb,ge as Ob,Da as Pb,Qit as Qb,hn as Rb,Jt as Sb,Zit as Tb,jt as Ub,Lr as Vb,Xt as Wb,Ra as Xb,ent as Yb,Pa as Zb,H4 as _b,U4 as $b,j4 as ac,tnt as bc,nn as cc,pn as dc,Ta as ec,$e as fc,cn as gc,mr as hc,mo as ic,oT as jc,Se as kc,Gn as lc,gr as mc,Pp as nc,_r as oc,S4 as pc,$g as qc,Or as rc,Yl as sc,Xd as tc,Qd as uc,lT as vc,cT as wc,Qr as xc,hl as yc,Zd as zc,uT as Ac,kf as Bc,_s as Cc,Gc as Dc,Wc as Ec,Mue as Fc,ct as Gc,au as Hc,Nf as Ic,Na as Jc,Mt as Kc,Bv as Lc,_ut as Mc,L as Nc,H as Oc,Mr as Pc,P2 as Qc,Ui as Rc,is as Sc,ns as Tc,Kc as Uc,fa as Vc,Si as Wc,U as Xc,Mv as Yc,ur as Zc,mn as _c,bt as $c,on as ad,Kr as bd,Vf as cd,Zdt as dd,ut as ed,Yi as fd,Yhe as gd,Bf as hd,Up as id,wi as jd,jp as kd,er as ld,Ai as md,eut as nd,tut as od,iut as pd,Bt as qd,Ba as rd,Jg as sd,Vtt as td,EV as ud,Fs as vd,Eut as wd,Hv as xd,Mut as yd,Ls as zd,pt as Ad,uf as Bd,Xe as Cd,vt as Dd,F4 as Ed,fi as Fd,tm as Gd,_l as Hd,Vn as Id,Zt as Jd,ro as Kd,Cb as Ld,Do as Md,yb as Nd,Ir as Od,W2 as Pd,$r as Qd,aU as Rd,im as Sd,Z2 as Td,N_ as Ud,vb as Vd,Cye as Wd,iO as Xd,wb as Yd,rt as Zd,zn as _d,IU as $d,tIe as ae,cIt as be,Zc as ce,vU as de,pIt as ee,Ns as fe,cIe as ge,dIe as he,uIe as ie,Ei as je,pIe as ke,fIe as le,Nr as me,gn as ne,wIe as oe,AIe as pe,AU as qe,EIt as re,ec as se,Pn as te,Ab as ue,yu as ve,rs as we,os as xe,Ro as ye,At as ze,Iu as Ae,yvt as Be,ff as Ce,fe as De,yt as Ee,hi as Fe,si as Ge,ci as He,Vt as Ie,be as Je,nt as Ke,Et as Le,Wi as Me,M as Ne,St as Oe,qi as Pe,Qi as Qe,mt as Re,vT as Se,Gr as Te,Li as Ue,On as Ve,Oa as We,Yw as Xe,uR as Ye,fn as Ze,_f as _e,Cf as $e,ka as af,Jw as bf,Om as cf,eo as df,bT as ef,kGt as ff,LPt as gf,z1 as hf,MG as if,ni as jf,wT as kf,oEt as lf,xEt as mf,aR as nf,Fp as of,ST as pf,Zn as qf,zr as rf,ov as sf,ET as tf,To as uf,Fa as vf,xo as wf,yf as xf,t_ as yf,i_ as zf,TT as Af,Xw as Bf,Ho as Cf,nu as Df,LT as Ef,s_ as Ff,ru as Gf,lv as Hf,cv as If,io as Jf,hv as Kf,WT as Lf,Hc as Mf,hdt as Nf,$T as Of,tC as Pf,wG as Qf,SG as Rf,CRt as Sf,OG as Tf,Bp as Uf,cV as Vf,Ju as Wf,Tl as Xf,Xu as Yf,H1 as Zf,Qu as _f,Rn as $f,ZPt as ag,ckt as bg,Okt as cg,Fkt as dg,BG as eg,UG as fg,ei as gg,Nn as hg,ls as ig,ep as jg,cs as kg,zG as lg,vo as mg,Ia as ng,gMt as og,J1 as pg,va as qg,Z1 as rg,tp as sg,I3t as tg,rk as ug,XG as vg,QG as wg,f4t as xg,T4t as yg,ez as zg,rC as Ag,ok as Bg,rz as Cg,oz as Dg,xz as Eg,xVt as Fg,Rz as Gg,Fz as Hg,np as Ig,Lz as Jg,rp as Kg,Nz as Lg,mi as Mg,Cd as Ng,yd as Og,Id as Pg,tW as Qg,pC as Rg,rW as Sg,G9 as Tg,hC as Ug,wjt as Vg,_h as Wg,OGt as Xg,zGt as Yg,ezt as Zg,DKt as _g};
