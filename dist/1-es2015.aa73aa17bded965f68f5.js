(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"3D7H":function(e,l,n){"use strict";var t=n("8Y7J"),i=n("Ge8E"),a=n("EjV3"),o=n("TSSN"),s=n("SVse"),r=n("m6j1");n("PIn4"),n("IheW"),n("P6hr"),n("FHuN"),n("w2nL"),n("glvV"),n("sqqX"),n("QJSW"),n("H9gU"),n("77Y5"),n("Mebi"),n.d(l,"a",(function(){return u})),n.d(l,"b",(function(){return m}));var u=t["\u0275crt"]({encapsulation:2,styles:[["div#fitDivLoader{text-align:center}div.fitOverlayPanel.ui-overlaypanel{min-width:250px;max-width:450px;color:#fff;background-color:#333;border-radius:.5rem}div.fitDivInfo{font-size:.85rem}div.fitDivInfo h6{border-bottom:1px solid #eb6400;padding-bottom:.3rem;margin-bottom:.3rem}div.fitDivInfo table{margin-top:.3rem;border:0;background:0 0!important}div.fitDivInfo table td,div.fitDivInfo table tr{margin:0!important;padding:.3rem!important}div.fitDivInfo table *{background:0 0!important}div.fitDivInfo spanComments{margin-bottom:.3rem}ul.fitUl{list-style-type:none;padding-left:1rem;margin-bottom:0}div#fitTooltipDiv{position:fixed;z-index:2000;padding:.7em;min-width:250px;max-width:450px;color:#fff;background-color:#333;border:1px solid #333;border-radius:.5rem;box-shadow:0 3px 1.2rem rgba(34,34,34,.6)}div#fitTooltipDiv.fitTooltipDiv--light{color:#222!important;background-color:#eee!important;border:1px solid #bbb}div#fitTooltipDiv .fitSpanClose{float:right}div#fitTooltipDiv .fitSpanClose i{cursor:pointer}"]],data:{animation:[{type:7,name:"fundidoIn",definitions:[{type:1,expr:":enter",animation:[{type:6,styles:{opacity:0},offset:null},{type:4,styles:null,timings:"250ms linear"}],options:null},{type:1,expr:"* => void",animation:{type:4,styles:null,timings:"250ms linear"},options:null}],options:{}}]}});function d(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,3,"div",[["id","fitDivLoader"]],null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,2,"p-progressSpinner",[],null,null,null,i.b,i.a)),t["\u0275did"](2,49152,null,0,a.ProgressSpinner,[],{style:[0,"style"]},null),t["\u0275pod"](3,{width:0,height:1})],(function(e,l){var n=e(l,3,0,"1.7rem","1.7rem");e(l,2,0,n)}),null)}function c(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,2,"span",[],null,null,null,null,null)),(e()(),t["\u0275ted"](1,null,[" "," ",""])),t["\u0275pid"](131072,o.k,[o.l,t.ChangeDetectorRef])],null,(function(e,l){e(l,1,0,l.component.objectInfo.nodes.length,t["\u0275unv"](l,1,1,t["\u0275nov"](l,2).transform("INFO_TT.NODES")))}))}function p(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,21,"div",[["class","fitDivInfo"]],null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,5,"h6",[],null,null,null,null,null)),(e()(),t["\u0275eld"](2,0,null,null,0,"i",[["class","fa fa-info-circle fwcOrange"]],null,null,null,null,null)),(e()(),t["\u0275ted"](3,null,["\xa0"," "])),t["\u0275pid"](131072,o.k,[o.l,t.ChangeDetectorRef]),(e()(),t["\u0275eld"](5,0,null,null,1,"span",[["class","fitSpanClose"]],null,null,null,null,null)),(e()(),t["\u0275eld"](6,0,null,null,0,"i",[["class","fa fa-lg fa-times-circle"]],null,[[null,"click"]],(function(e,l,n){var t=!0;return"click"===l&&(t=0!=(e.component.showTooltip=!1)&&t),t}),null,null)),(e()(),t["\u0275eld"](7,0,null,null,13,"div",[],null,null,null,null,null)),(e()(),t["\u0275eld"](8,0,null,null,1,"i",[["aria-hidden","true"]],[[8,"className",0]],null,null,null,null)),t["\u0275ppd"](9,1),(e()(),t["\u0275ted"](-1,null,["\xa0\xa0"])),(e()(),t["\u0275eld"](11,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),t["\u0275ted"](12,null,["",""])),(e()(),t["\u0275ted"](-1,null,[" ("])),(e()(),t["\u0275eld"](14,0,null,null,2,"i",[],null,null,null,null,null)),(e()(),t["\u0275ted"](15,null,["",""])),t["\u0275pid"](131072,o.k,[o.l,t.ChangeDetectorRef]),(e()(),t["\u0275ted"](-1,null,[")"])),(e()(),t["\u0275eld"](18,0,null,null,0,"span",[["class","spanSep"]],null,null,null,null,null)),(e()(),t["\u0275and"](16777216,null,null,1,null,c)),t["\u0275did"](20,16384,null,0,s.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275eld"](21,0,null,null,0,"div",[],[[8,"innerHTML",1]],null,null,null,null))],(function(e,l){e(l,20,0,l.component.objectInfo.nodes)}),(function(e,l){var n=l.component;e(l,3,0,t["\u0275unv"](l,3,0,t["\u0275nov"](l,4).transform("ITEM_PANEL.HEADER.OBJ_INFO")));var i=t["\u0275inlineInterpolate"](1,"fwcIcon ",t["\u0275unv"](l,8,0,e(l,9,0,t["\u0275nov"](l.parent,0),n.objectInfo.type)),"");e(l,8,0,i),e(l,12,0,n.objectInfo.name),e(l,15,0,t["\u0275unv"](l,15,0,t["\u0275nov"](l,16).transform("GLOBALS.DB_OBJECT_NAMES."+n.objectInfo.type))),e(l,21,0,t["\u0275inlineInterpolate"](1,"",n.objectInfo.infoHTML,""))}))}function f(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),t["\u0275ted"](1,null,[" "," "]))],null,(function(e,l){e(l,1,0,l.component.objectError)}))}function m(e){return t["\u0275vid"](0,[t["\u0275pid"](0,r.a,[]),t["\u0275qud"](671088640,1,{tooltipElem:0}),(e()(),t["\u0275eld"](2,0,[[1,0],["tooltipElem",1]],null,9,"div",[["class","fitTooltipDiv--light"],["id","fitTooltipDiv"]],[[24,"@fundidoIn",0]],null,null,null,null)),t["\u0275prd"](512,null,s["\u0275NgStyleImpl"],s["\u0275NgStyleR2Impl"],[t.ElementRef,t.KeyValueDiffers,t.Renderer2]),t["\u0275did"](4,278528,null,0,s.NgStyle,[s["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](5,{top:0,left:1,visibility:2}),(e()(),t["\u0275and"](16777216,null,null,1,null,d)),t["\u0275did"](7,16384,null,0,s.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](16777216,null,null,1,null,p)),t["\u0275did"](9,16384,null,0,s.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](16777216,null,null,1,null,f)),t["\u0275did"](11,16384,null,0,s.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(e,l){var n=l.component,t=e(l,5,0,(null==n.tooltipY?null:n.tooltipY.toString())+"px",(null==n.tooltipX?null:n.tooltipX.toString())+"px",n.showTooltip?"visible":"hidden");e(l,4,0,t),e(l,7,0,n.loadingData),e(l,9,0,!n.loadingData&&n.objectInfo),e(l,11,0,!n.loadingData&&n.objectError)}),(function(e,l){e(l,2,0,void 0)}))}},"8YFm":function(e,l,n){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),function(e){for(var n in e)l.hasOwnProperty(n)||(l[n]=e[n])}(n("Czxz"))},DSdC:function(e,l,n){"use strict";n.d(l,"a",(function(){return a}));var t=n("8Y7J"),i=n("EMdb");n("AjHW"),n("H9gU"),n("24Yq"),n("8YFm");class a{constructor(e,l,n,i){this.refService=e,this.itemSelectedService=l,this.confirmationService=n,this.translate=i,this.dataChanges=new t.EventEmitter,this.optionDeleted=new t.EventEmitter,this.applicationRef=null,this.contextMenuReference=null,this.initialized=!1,this.infoTooltipShown=!1,this.gridOptions=[],this.availableKeywords=[]}set options(e){this.buildKeywords(),this.buildOptions(e)}ngOnInit(){this.contextMenu={items:[{id:i.h.VPN_OPTION_DELETE,text:this.translate.instant("VPN.CONFIG.DELETE_OPTION"),icon:"fwcMenuIcon fwci-delete fwcRed"},{id:i.h.NO_MENU,text:this.translate.instant("CONTEXT.NO_OPTIONS"),visible:!1}]}}ngAfterViewInit(){let e=this;setTimeout((function(){let l=e.refService.getAppRef();e.contextMenuReference=l,e.applicationRef=l}),1)}ngOnChanges(e){for(const l in e){const n=e[l];JSON.stringify(n.currentValue),JSON.stringify(n.previousValue)}this.dataChanges.emit(0),this.optionsTable&&!this.initialized&&(setTimeout(()=>{this.optionsTable.el.nativeElement.getElementsByClassName("ui-table-scrollable-body-table")[0].scrollIntoView(!0)},100),this.initialized=!0)}buildKeywords(){let e=i.G;this.scope==i.w.ccd&&(e=i.D),this.availableKeywords=[];for(let l=0;l<e.length;l++)this.availableKeywords.push({label:e[l],value:e[l]})}buildOptions(e){if(e&&(this.scope==i.w.ccd||this.scope==i.w.ovp)){this.requiredOptions=[],this.genericOptions=[],this.gridOptions=[];for(let l=0;l<e.length;l++)e[l].scope==this.scope&&this.gridOptions.push(Object.assign({},e[l]))}}onDeleteOption(e,l){this.checkOptionIsMandatory(e)||this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_CONFIRM"),icon:"fa fa-question-circle-o fwcBlue iconBig",rejectVisible:!0,rejectLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.NO"),acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES"),message:this.translate.instant("VPN.CONFIG.ASK_DELETE_OPTION",{name:e.name}),accept:()=>{let n=Object.assign({},e);this.checkOptionIsDeletable(e)?(this.gridOptions.splice(l,1),this.optionDeleted.emit(n)):e.arg&&e.arg.length&&(e.arg=void 0,e.ipobj=void 0,e.comment=void 0,this.optionDeleted.emit(n))}})}onAddOption(){this.gridOptions.push({name:"",arg:"",comment:"",scope:this.scope}),this.selectedOption=this.gridOptions[this.gridOptions.length-1]}onDataChanged(e){this.dataChanges.emit(1)}contextMenuLoad(e,l,n){let t=!1,a=!1;t=this.checkOptionIsMandatory(l),a=t,a?e.cancel=!0:this.contextMenu&&this.contextMenu.items&&this.contextMenu.items.forEach((function(e){e.id==i.h.VPN_OPTION_DELETE&&(e.visible=!t)}))}checkOptionIsMandatory(e){let l=!1;for(let n in i.I)if(e.name==i.I[n]){l=!0;break}return l}checkOptionIsDeletable(e){let l=!0;return e.required&&this.gridOptions.filter(l=>l.name==e.name).length<=1&&(l=!1),l}contextMenuHandler(e,l,n){if(e.item)switch(e.item.id){case i.h.VPN_OPTION_DELETE:this.onDeleteOption(l,n)}}getOptions(){return this.gridOptions=this.gridOptions.filter(e=>!!e.name),this.gridOptions}getScope(){return this.scope}updateOrCreateIPOption(e,l){if(!e)return;let n=!0,t=this.gridOptions.filter(l=>l.name==e.name);if(1==t.length){let i=t[0];if(!i.ipobj&&i.required||l)for(let l of Object.keys(e))null!=e[l]&&(i[l]=e[l]),n=!1}if(n)for(let i=this.gridOptions.length-1;i>=0;i--)if(this.gridOptions[i].name==e.name){this.gridOptions.splice(i+1,0,Object.assign({},e));break}this.dataChanges.emit(1)}addIPOption(e,l,n,t,i){this.gridOptions.push({name:e,scope:l,arg:n,ipobj:t,comment:i})}modifyIPOption(e,l,n,t){let i=this.gridOptions.find(l=>l.name==e);i&&l===this.scope&&(n&&(i.arg=n),null!=t&&(i.ipobj=t))}clearOptions(){this.options=[],this.gridOptions=[],this.initialized=!1}showObjectInfo(e,l){if(e){let n={objId:e.ipobj};null!==n.objId&&(this.infoTooltipTimer=setTimeout(()=>{this.infoTooltipShown=!0,this.itemSelectedService.setObjectInfo(n,l)},1e3))}}clearObjectInfo(e){this.infoTooltipTimer&&(clearTimeout(this.infoTooltipTimer),this.infoTooltipTimer=void 0),this.infoTooltipShown&&(this.itemSelectedService.setObjectInfo(void 0,e),this.infoTooltipShown=!1)}}},Ecz1:function(e,l,n){"use strict";var t=n("mrSG"),i=n("8Y7J"),a=n("EMdb");class o{constructor(){this.pk=null,this.vector=null,this.passkey=window.crypto.getRandomValues(new Uint8Array(32)),this.generatePublicKey(),this.vector=window.crypto.getRandomValues(new Uint8Array(16))}createRandomString(e){let l="";for(;l.length<e;l+=Math.random().toString(36).substr(2));return l.substr(0,e)}convertStringToArrayBufferView(e){let l;if(e){l=new Uint8Array(e.length);for(var n=0;n<e.length;n++)l[n]=e.charCodeAt(n)}return l}convertArrayBufferViewtoString(e){let l="";if(e)for(var n=0;n<e.byteLength;n++)l+=String.fromCharCode(e[n]);return l}generatePublicKey(){let e;return e=new Promise((e,l)=>{window.crypto.subtle?window.crypto.subtle.digest({name:"SHA-256"},this.passkey).then(l=>{window.crypto.subtle.importKey("raw",l,{name:"AES-CBC"},!1,["encrypt","decrypt"]).then(l=>{this.pk=l,e(l)},l=>{e(null)})}):(this.pk="CAN't USE CLIENT ENCRYPTION ON NON-HTTPS CONNECTIONS",e(null))}),e}encryptData(e){let l;return l=new Promise((l,n)=>{if(this.vector&&this.pk){let n;window.crypto.subtle?window.crypto.subtle.encrypt({name:"AES-CBC",iv:this.vector},this.pk,this.convertStringToArrayBufferView(e)).then(e=>{n=new Uint8Array(e),l(n)},e=>{l(null)}):l(this.convertStringToArrayBufferView(e))}}),l}decryptData(e){return Object(t.a)(this,void 0,void 0,(function*(){let l;return l=new Promise((l,n)=>{if(this.vector&&this.pk){let n;window.crypto.subtle?window.crypto.subtle.decrypt({name:"AES-CBC",iv:this.vector},this.pk,e).then(e=>{n=new Uint8Array(e),l(this.convertArrayBufferViewtoString(n))},e=>{l(null)}):l(this.convertArrayBufferViewtoString(e))}}),l}))}}n("XY+R"),n("VHTt"),n("o0su"),n("24Yq"),n.d(l,"a",(function(){return s}));class s{constructor(e,l,n,t,a,s,r,u,d){this.fwcFirewallService=e,this.fwcUserService=l,this.translate=n,this.inputDataService=t,this.utilService=a,this.fwcErrorPipe=s,this.fwcVpnService=r,this.fwcEventService=u,this.confirmationService=d,this.statusLoaded=new i.EventEmitter,this.statusError=new i.EventEmitter,this.errorMessages=[],this.msgNoData=[],this.alive=!0,this.fwcCrypto=new o}set configObj(e){this._configObj=e,this.resetProperties(),this.selectFirewallToShow()}ngOnInit(){this.vpnClientsChartOptions={title:{display:!0,position:"left",text:this.translate.instant("VPN.STATUS.ALL_CLIENTS")}},this.msgNoData.push({severity:"warn",summary:this.translate.instant("VPN.STATUS.NO_DATA.0"),detail:this.translate.instant("VPN.STATUS.NO_DATA.1")}),this.refreshMenuItems=[{id:"20",label:"20s",command:()=>{this.setRefreshRate(20)}},{id:"40",label:"40s",command:()=>{this.setRefreshRate(40)}},{id:"60",label:"60s",command:()=>{this.setRefreshRate(60)}},{id:"99999",label:this.translate.instant("GLOBALS.MSG_BUTTONS.DISABLE"),command:()=>{this.setRefreshRate(99999)}}],this.setRefreshRate(20)}ngOnDestroy(){this.alive=!1}resetProperties(){this.vpnClientsData=void 0,this.vpnClientSelected=void 0,this.vpnClientsChartData=null,this.vpnClientsDataHistoric=[],this.vpnClientsChartDataTotals=null,this.sshCredentials=null,clearInterval(this.refreshTimer)}setRefreshRate(e){this.refreshMenuItems.forEach(l=>{l.id==e.toString()?(l.icon="fa fa-check",this.refreshRateSec=e,this.refreshTimer&&(clearInterval(this.refreshTimer),this.refreshTimer=setInterval(()=>{this.onVpnStatusDataRefresh()},1e3*this.refreshRateSec))):l.icon=""})}selectFirewallToShow(){if(this._configObj){let e,l;isNaN(this._configObj.cluster_id)?isNaN(this._configObj.firewall_id)||(e=this.fwcFirewallService.getFirewall.bind(this.fwcFirewallService),l=this._configObj.firewall_id):(e=this.fwcFirewallService.getClusterNodes.bind(this.fwcFirewallService),l=this._configObj.cluster_id),this.resetProperties(),e(l,this.fwcUserService.getActualFwSelectedCloud()).subscribe(e=>{this.clusterNodes=[],Array.isArray(e.data)?this.clusterNodes.push(...e.data):this.clusterNodes.push(e.data),this.loadingData=!1,isNaN(this._configObj.cluster_id)?this.askSSHCredentials(l):(this.clusterTreeNodes=this.buildNodesTree(this.clusterNodes),this.displaySelectDialog=!0)},e=>{})}}buildNodesTree(e){let l=[],n={label:this._configObj.cluster_name,data:{object_type:a.v.OBJ_CLUSTER},selectable:!1,expanded:!0,children:[]};return e.forEach(e=>{n.children.push({label:e.name,data:{object_type:a.v.OBJ_FIREWALL,firewall_id:e.id},selectable:!0})}),l.push(n),l}onNodeSelect(e){e&&e.selectable&&(this.displaySelectDialog=!1,this.askSSHCredentials(e.data.firewall_id))}askSSHCredentials(e){if(!this.clusterNodes)return;let l=this.clusterNodes.find(l=>l.id===e);if(l)if(l.install_interface&&l.install_ipobj){let e={header:this.translate.instant("COMPILE.INST_SSH",{name:l.name}),helpText:this.translate.instant("COMPILE.INST_SSH_TEXT"),modal:!1,formControls:[{name:"firewall_id",type:"hidden",value:l.id},{name:"interface_name",label:this.translate.instant("COMPILE.FIELDS.INST_IF"),icon:"fwci-interface fwcGreen",type:"text",value:l.interface_name,readonly:!0},{name:"ip_name",label:this.translate.instant("COMPILE.FIELDS.INST_IP"),icon:"fwci-address fwcBlue",type:"text",value:l.ip_name+" ("+l.ip+")",readonly:!0},{name:"",label:"",type:"separator"},{name:"ssh_user",label:this.translate.instant("CLUSTER.MSG_CLUSTER_EDITION.SSH_USER"),type:"text",required:!0,value:l.install_user,setFocus:!0},{name:"",label:"",type:"separator"},{name:"ssh_password",label:this.translate.instant("CLUSTER.MSG_CLUSTER_EDITION.SSH_PASS"),type:"password",required:!0,value:l.install_pass}],onAccept:this.onGetSSHData.bind(this),onCancel:()=>{this.statusError.emit(!0)}};this.inputDataService.setInputData(e)}else this.confirmationService.confirm({header:this.translate.instant("VPN.STATUS.ERRORS.NO_INST_DATA.SUMMARY"),icon:"fa fa-exclamation-circle fwcRed iconBig",rejectVisible:!1,message:this.translate.instant("VPN.STATUS.ERRORS.NO_INST_DATA.TEXT"),acceptLabel:"Ok",accept:()=>{this.translate.instant("VPN.STATUS.ERRORS.NO_INST_DATA.TEXT")}})}onGetSSHData(e){return Object(t.a)(this,void 0,void 0,(function*(){if(e){let l,n;n=e.ssh_encrypted_password?yield this.fwcCrypto.decryptData(e.ssh_encrypted_password):e.ssh_password,l={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),openvpn:this._configObj.id_obj,firewall:e.firewall_id,sshuser:e.ssh_user,sshpass:n,socketid:this.utilService.ioGetSocketId()},this.loadingData=!0,this.fwcVpnService.getConfigStatus(l).subscribe(l=>Object(t.a)(this,void 0,void 0,(function*(){let n=this.parseVpnStatus(l.data),t=yield this.fwcCrypto.encryptData(e.ssh_password);this.sshCredentials||(this.sshCredentials={firewall_id:e.firewall_id,ssh_user:e.ssh_user,ssh_encrypted_password:t}),n&&(this.vpnClientsData=n,this.updateVpnChartData(),this.statusLoaded.emit(!0)),this.loadingData=!1,clearInterval(this.refreshTimer),this.refreshTimer=setInterval(()=>{this.onVpnStatusDataRefresh()},1e3*this.refreshRateSec)})),e=>{this.confirmationService.confirm({header:this.translate.instant("VPN.STATUS.ERRORS.CONFIG_GET.SUMMARY"),icon:"fa fa-exclamation-circle fwcRed iconBig",rejectVisible:!1,message:this.translate.instant("VPN.STATUS.ERRORS.CONFIG_GET.TEXT",{error:this.fwcErrorPipe.transform(e.error)}),acceptLabel:"Ok",accept:()=>{this.statusError.emit(!0)}}),this.loadingData=!1,clearInterval(this.refreshTimer)})}else this.statusError.emit(!0)}))}parseVpnStatus(e){if(!e||"string"!=typeof e)return;let l,n,t,i=[],a=e.split("\n"),o={clientsConnected:0,bytesReceived:0,bytesSent:0};return a.forEach(e=>{if(!/Common Name/.exec(e)&&(n=e.split(","),n.map(e=>e.trim()),2==n.length&&/Updated/.exec(n[0])&&(this.vpnStatusUpdated=Date.parse(n[1]),l={timestamp:this.vpnStatusUpdated,clients:[]}),5==n.length)){let e=Date.parse(n[4]);t={cn:n[0],realAddress:n[1],bytesReceived:parseInt(n[2])/1048576,bytesSent:parseInt(n[3])/1048576,connectedSince:e},i.push(t),l?l.clients.push(t):(l={timestamp:Date.parse(Date()),clients:[]},l.clients.push(t)),o.clientsConnected++,o.bytesReceived+=t.bytesReceived,o.bytesSent+=t.bytesSent}}),this.vpnClientsChartDataTotals=o,l&&-1==this.vpnClientsDataHistoric.findIndex(e=>e.timestamp==l.timestamp)&&this.vpnClientsDataHistoric.push(l),i}updateVpnChartData(){let e,l;e={labels:[],datasets:[{label:this.translate.instant("VPN.STATUS.FIELDS.BYTES_RECEIVED"),data:[],fill:!1,borderColor:"#0069a7"},{label:this.translate.instant("VPN.STATUS.FIELDS.BYTES_SENT"),data:[],fill:!1,borderColor:"#009900"}]},this.vpnClientsDataHistoric.forEach(n=>{if(e.labels.push(new Date(n.timestamp).toLocaleString()),this.vpnClientSelected?(l=n.clients.filter(e=>e.cn==this.vpnClientSelected.cn),this.vpnClientsChartOptions.title.text=this.vpnClientSelected.cn):(l=n.clients.slice(0),this.vpnClientsChartOptions.title.text=this.translate.instant("VPN.STATUS.ALL_CLIENTS")),l.length){let n=l.reduce((e,l)=>({cn:"",realAddress:"",bytesReceived:e.bytesReceived+l.bytesReceived,bytesSent:e.bytesSent+l.bytesSent,connectedSince:void 0}));e.datasets[0].data.push(n.bytesReceived),e.datasets[1].data.push(n.bytesSent)}}),this.vpnClientsChartData=e}onVpnClientSelect(e){this.updateVpnChartData()}onVpnStatusDataRefresh(){this.onGetSSHData(this.sshCredentials)}onVpnStatusClose(){this.resetProperties()}onSelectHide(e){this.clusterNodes=[],this.selectedNode=null}onSelectCancel(){this.displaySelectDialog=!1}}},Iab2:function(e,l,n){var t,i;void 0===(i="function"==typeof(t=function(){"use strict";function l(e,l,n){var t=new XMLHttpRequest;t.open("GET",e),t.responseType="blob",t.onload=function(){a(t.response,l,n)},t.onerror=function(){console.error("could not download file")},t.send()}function n(e){var l=new XMLHttpRequest;l.open("HEAD",e,!1);try{l.send()}catch(e){}return 200<=l.status&&299>=l.status}function t(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(l){var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(n)}}var i="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,a=i.saveAs||("object"!=typeof window||window!==i?function(){}:"download"in HTMLAnchorElement.prototype?function(e,a,o){var s=i.URL||i.webkitURL,r=document.createElement("a");r.download=a=a||e.name||"download",r.rel="noopener","string"==typeof e?(r.href=e,r.origin===location.origin?t(r):n(r.href)?l(e,a,o):t(r,r.target="_blank")):(r.href=s.createObjectURL(e),setTimeout((function(){s.revokeObjectURL(r.href)}),4e4),setTimeout((function(){t(r)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,i,a){if(i=i||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(function(e,l){return void 0===l?l={autoBom:!1}:"object"!=typeof l&&(console.warn("Deprecated: Expected third argument to be a object"),l={autoBom:!l}),l.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}(e,a),i);else if(n(e))l(e,i,a);else{var o=document.createElement("a");o.href=e,o.target="_blank",setTimeout((function(){t(o)}))}}:function(e,n,t,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),"string"==typeof e)return l(e,n,t);var o="application/octet-stream"===e.type,s=/constructor/i.test(i.HTMLElement)||i.safari,r=/CriOS\/[\d]+/.test(navigator.userAgent);if((r||o&&s)&&"object"==typeof FileReader){var u=new FileReader;u.onloadend=function(){var e=u.result;e=r?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=e:location=e,a=null},u.readAsDataURL(e)}else{var d=i.URL||i.webkitURL,c=d.createObjectURL(e);a?a.location=c:location.href=c,a=null,setTimeout((function(){d.revokeObjectURL(c)}),4e4)}});i.saveAs=a.saveAs=a,e.exports=a})?t.apply(l,[]):t)||(e.exports=i)},Itiq:function(e,l,n){"use strict";var t=this&&this.__decorate||function(e,l,n,t){var i,a=arguments.length,o=a<3?l:null===t?t=Object.getOwnPropertyDescriptor(l,n):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,l,n,t);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(l,n,o):i(l,n))||o);return a>3&&o&&Object.defineProperty(l,n,o),o},i=this&&this.__metadata||function(e,l){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,l)},a=this&&this.__param||function(e,l){return function(n,t){l(n,t,e)}};Object.defineProperty(l,"__esModule",{value:!0});var o=n("8Y7J"),s=n("GS7A"),r=n("SVse"),u=n("7LN8"),d=0,c=function(){function e(e,l){this.changeDetector=l,this.cache=!0,this.selectedChange=new o.EventEmitter,this.transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)",this.id="ui-accordiontab-"+d++,this.accordion=e}return Object.defineProperty(e.prototype,"animating",{get:function(){return this._animating},set:function(e){this._animating=e,this.changeDetector.destroyed||this.changeDetector.detectChanges()},enumerable:!0,configurable:!0}),e.prototype.ngAfterContentInit=function(){var e=this;this.templates.forEach((function(l){switch(l.getType()){case"content":default:e.contentTemplate=l.template}}))},e.prototype.toggle=function(e){if(this.disabled||this.animating)return!1;this.animating=!0;var l=this.findTabIndex();if(this.selected)this.selected=!1,this.accordion.onClose.emit({originalEvent:e,index:l});else{if(!this.accordion.multiple)for(var n=0;n<this.accordion.tabs.length;n++)this.accordion.tabs[n].selected=!1,this.accordion.tabs[n].selectedChange.emit(!1);this.selected=!0,this.loaded=!0,this.accordion.onOpen.emit({originalEvent:e,index:l})}this.selectedChange.emit(this.selected),e.preventDefault()},e.prototype.findTabIndex=function(){for(var e=-1,l=0;l<this.accordion.tabs.length;l++)if(this.accordion.tabs[l]==this){e=l;break}return e},Object.defineProperty(e.prototype,"hasHeaderFacet",{get:function(){return this.headerFacet&&this.headerFacet.length>0},enumerable:!0,configurable:!0}),e.prototype.onToggleDone=function(e){this.animating=!1},e.prototype.onKeydown=function(e){32!==e.which&&13!==e.which||(this.toggle(e),e.preventDefault())},e.prototype.ngOnDestroy=function(){this.accordion.tabs.splice(this.findTabIndex(),1)},t([o.Input(),i("design:type",String)],e.prototype,"header",void 0),t([o.Input(),i("design:type",Boolean)],e.prototype,"selected",void 0),t([o.Input(),i("design:type",Boolean)],e.prototype,"disabled",void 0),t([o.Input(),i("design:type",Boolean)],e.prototype,"cache",void 0),t([o.Output(),i("design:type",o.EventEmitter)],e.prototype,"selectedChange",void 0),t([o.Input(),i("design:type",String)],e.prototype,"transitionOptions",void 0),t([o.ContentChildren(u.Header),i("design:type",o.QueryList)],e.prototype,"headerFacet",void 0),t([o.ContentChildren(u.PrimeTemplate),i("design:type",o.QueryList)],e.prototype,"templates",void 0),t([o.Component({selector:"p-accordionTab",template:'\n        <div class="ui-accordion-header ui-state-default ui-corner-all" [ngClass]="{\'ui-state-active\': selected,\'ui-state-disabled\':disabled}">\n            <a [attr.tabindex]="disabled ? -1 : 0" [attr.id]="id" [attr.aria-controls]="id + \'-content\'" role="tab" [attr.aria-expanded]="selected" (click)="toggle($event)" \n                (keydown)="onKeydown($event)">\n                <span class="ui-accordion-toggle-icon" [ngClass]="selected ? accordion.collapseIcon : accordion.expandIcon"></span>\n                <span class="ui-accordion-header-text" *ngIf="!hasHeaderFacet">\n                    {{header}}\n                </span>\n                <ng-content select="p-header" *ngIf="hasHeaderFacet"></ng-content>\n            </a>\n        </div>\n        <div [attr.id]="id + \'-content\'" class="ui-accordion-content-wrapper" [@tabContent]="selected ? {value: \'visible\', params: {transitionParams: animating ? transitionOptions : \'0ms\', height: \'*\'}} : {value: \'hidden\', params: {transitionParams: transitionOptions, height: \'0\'}}" (@tabContent.done)="onToggleDone($event)"\n            [ngClass]="{\'ui-accordion-content-wrapper-overflown\': !selected||animating}" \n            role="tabpanel" [attr.aria-hidden]="!selected" [attr.aria-labelledby]="id">\n            <div class="ui-accordion-content ui-widget-content">\n                <ng-content></ng-content>\n                <ng-container *ngIf="contentTemplate && (cache ? loaded : selected)">\n                    <ng-container *ngTemplateOutlet="contentTemplate"></ng-container>\n                </ng-container>\n            </div>\n        </div>\n    ',animations:[s.trigger("tabContent",[s.state("hidden",s.style({height:"0"})),s.state("void",s.style({height:"{{height}}"}),{params:{height:"0"}}),s.state("visible",s.style({height:"*"})),s.transition("visible <=> hidden",s.animate("{{transitionParams}}")),s.transition("void => hidden",s.animate("{{transitionParams}}")),s.transition("void => visible",s.animate("{{transitionParams}}"))])]}),a(0,o.Inject(o.forwardRef((function(){return p})))),i("design:paramtypes",[Object,o.ChangeDetectorRef])],e)}();l.AccordionTab=c;var p=function(){function e(e,l){this.el=e,this.changeDetector=l,this.onClose=new o.EventEmitter,this.onOpen=new o.EventEmitter,this.expandIcon="pi pi-fw pi-chevron-right",this.collapseIcon="pi pi-fw pi-chevron-down",this.tabs=[]}return e.prototype.ngAfterContentInit=function(){var e=this;this.initTabs(),this.tabListSubscription=this.tabList.changes.subscribe((function(l){e.initTabs(),e.changeDetector.markForCheck()}))},e.prototype.initTabs=function(){this.tabs=this.tabList.toArray(),this.updateSelectionState()},e.prototype.getBlockableElement=function(){return this.el.nativeElement.children[0]},Object.defineProperty(e.prototype,"activeIndex",{get:function(){return this._activeIndex},set:function(e){this._activeIndex=e,this.updateSelectionState()},enumerable:!0,configurable:!0}),e.prototype.updateSelectionState=function(){if(this.tabs&&this.tabs.length&&null!=this._activeIndex)for(var e=0;e<this.tabs.length;e++){var l=this.multiple?this._activeIndex.includes(e):e===this._activeIndex;l!==this.tabs[e].selected&&(this.tabs[e].animating=!0,this.tabs[e].selected=l,this.tabs[e].selectedChange.emit(l))}},e.prototype.ngOnDestroy=function(){this.tabListSubscription&&this.tabListSubscription.unsubscribe()},t([o.Input(),i("design:type",Boolean)],e.prototype,"multiple",void 0),t([o.Output(),i("design:type",o.EventEmitter)],e.prototype,"onClose",void 0),t([o.Output(),i("design:type",o.EventEmitter)],e.prototype,"onOpen",void 0),t([o.Input(),i("design:type",Object)],e.prototype,"style",void 0),t([o.Input(),i("design:type",String)],e.prototype,"styleClass",void 0),t([o.Input(),i("design:type",String)],e.prototype,"expandIcon",void 0),t([o.Input(),i("design:type",String)],e.prototype,"collapseIcon",void 0),t([o.ContentChildren(c),i("design:type",o.QueryList)],e.prototype,"tabList",void 0),t([o.Input(),i("design:type",Object),i("design:paramtypes",[Object])],e.prototype,"activeIndex",null),t([o.Component({selector:"p-accordion",template:'\n        <div [ngClass]="\'ui-accordion ui-widget ui-helper-reset\'" [ngStyle]="style" [class]="styleClass" role="tablist">\n            <ng-content></ng-content>\n        </div>\n    '}),i("design:paramtypes",[o.ElementRef,o.ChangeDetectorRef])],e)}();l.Accordion=p;var f=t([o.NgModule({imports:[r.CommonModule],exports:[p,c,u.SharedModule],declarations:[p,c]})],(function(){}));l.AccordionModule=f},Meih:function(e,l,n){"use strict";n.d(l,"a",(function(){return T})),n.d(l,"b",(function(){return U}));var t=n("8Y7J"),i=n("SlyN"),a=n("SVse"),o=(n("7LN8"),n("B58V"),t["\u0275crt"]({encapsulation:2,styles:[],data:{}}));function s(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,3,"li",[["class","ui-treenode-droppoint"]],null,[[null,"drop"],[null,"dragover"],[null,"dragenter"],[null,"dragleave"]],(function(e,l,n){var t=!0,i=e.component;return"drop"===l&&(t=!1!==i.onDropPoint(n,-1)&&t),"dragover"===l&&(t=!1!==i.onDropPointDragOver(n)&&t),"dragenter"===l&&(t=!1!==i.onDropPointDragEnter(n,-1)&&t),"dragleave"===l&&(t=!1!==i.onDropPointDragLeave(n)&&t),t}),null,null)),t["\u0275prd"](512,null,a["\u0275NgClassImpl"],a["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](2,278528,null,0,a.NgClass,[a["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](3,{"ui-treenode-droppoint-active ui-state-highlight":0})],(function(e,l){var n=e(l,3,0,l.component.draghoverPrev);e(l,2,0,"ui-treenode-droppoint",n)}),null)}function r(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,8,"div",[["class","ui-chkbox"]],null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,7,"div",[["class","ui-chkbox-box ui-widget ui-corner-all ui-state-default"]],null,null,null,null,null)),t["\u0275prd"](512,null,a["\u0275NgClassImpl"],a["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](3,278528,null,0,a.NgClass,[a["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](4,{"ui-state-disabled":0}),(e()(),t["\u0275eld"](5,0,null,null,3,"span",[["class","ui-chkbox-icon ui-clickable pi"]],null,null,null,null,null)),t["\u0275prd"](512,null,a["\u0275NgClassImpl"],a["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](7,278528,null,0,a.NgClass,[a["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](8,{"pi-check":0,"pi-minus":1})],(function(e,l){var n=l.component,t=e(l,4,0,!1===n.node.selectable);e(l,3,0,"ui-chkbox-box ui-widget ui-corner-all ui-state-default",t);var i=e(l,8,0,n.isSelected(),n.node.partialSelected);e(l,7,0,"ui-chkbox-icon ui-clickable pi",i)}),null)}function u(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,0,"span",[],[[8,"className",0]],null,null,null,null))],null,(function(e,l){e(l,0,0,l.component.getIcon())}))}function d(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),t["\u0275ted"](1,null,["",""]))],null,(function(e,l){e(l,1,0,l.component.node.label)}))}function c(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function p(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,3,"span",[],null,null,null,null,null)),(e()(),t["\u0275and"](16777216,null,null,2,null,c)),t["\u0275did"](2,540672,null,0,a.NgTemplateOutlet,[t.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),t["\u0275pod"](3,{$implicit:0})],(function(e,l){var n=l.component,t=e(l,3,0,n.node);e(l,2,0,t,n.tree.getTemplateForNode(n.node))}),null)}function f(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,1,"p-treeNode",[],null,null,null,N,o)),t["\u0275did"](1,114688,null,0,i.UITreeNode,[i.Tree],{node:[0,"node"],parentNode:[1,"parentNode"],index:[2,"index"],firstChild:[3,"firstChild"],lastChild:[4,"lastChild"]},null)],(function(e,l){e(l,1,0,l.context.$implicit,l.component.node,l.context.index,l.context.first,l.context.last)}),null)}function m(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,2,"ul",[["class","ui-treenode-children"],["role","group"],["style","display: none;"]],[[4,"display",null]],null,null,null,null)),(e()(),t["\u0275and"](16777216,null,null,1,null,f)),t["\u0275did"](2,278528,null,0,a.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null)],(function(e,l){var n=l.component;e(l,2,0,n.node.children,n.tree.nodeTrackBy)}),(function(e,l){e(l,0,0,l.component.node.expanded?"block":"none")}))}function g(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,25,"li",[["role","treeitem"]],null,null,null,null,null)),t["\u0275prd"](512,null,a["\u0275NgClassImpl"],a["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](2,278528,null,0,a.NgClass,[a["\u0275NgClassImpl"]],{ngClass:[0,"ngClass"]},null),t["\u0275pad"](3,3),(e()(),t["\u0275eld"](4,0,null,null,19,"div",[["class","ui-treenode-content"],["tabIndex","0"]],[[8,"draggable",0],[1,"aria-posinset",0],[1,"aria-expanded",0],[1,"aria-selected",0]],[[null,"click"],[null,"contextmenu"],[null,"touchend"],[null,"drop"],[null,"dragover"],[null,"dragenter"],[null,"dragleave"],[null,"dragstart"],[null,"dragend"],[null,"keydown"]],(function(e,l,n){var t=!0,i=e.component;return"click"===l&&(t=!1!==i.onNodeClick(n)&&t),"contextmenu"===l&&(t=!1!==i.onNodeRightClick(n)&&t),"touchend"===l&&(t=!1!==i.onNodeTouchEnd()&&t),"drop"===l&&(t=!1!==i.onDropNode(n)&&t),"dragover"===l&&(t=!1!==i.onDropNodeDragOver(n)&&t),"dragenter"===l&&(t=!1!==i.onDropNodeDragEnter(n)&&t),"dragleave"===l&&(t=!1!==i.onDropNodeDragLeave(n)&&t),"dragstart"===l&&(t=!1!==i.onDragStart(n)&&t),"dragend"===l&&(t=!1!==i.onDragStop(n)&&t),"keydown"===l&&(t=!1!==i.onKeyDown(n)&&t),t}),null,null)),t["\u0275prd"](512,null,a["\u0275NgClassImpl"],a["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](6,278528,null,0,a.NgClass,[a["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](7,{"ui-treenode-selectable":0,"ui-treenode-dragover":1,"ui-treenode-content-selected":2}),(e()(),t["\u0275eld"](8,0,null,null,3,"span",[["class","ui-tree-toggler pi pi-fw ui-unselectable-text"]],null,[[null,"click"]],(function(e,l,n){var t=!0;return"click"===l&&(t=!1!==e.component.toggle(n)&&t),t}),null,null)),t["\u0275prd"](512,null,a["\u0275NgClassImpl"],a["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](10,278528,null,0,a.NgClass,[a["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](11,{"pi-caret-right":0,"pi-caret-down":1}),(e()(),t["\u0275and"](16777216,null,null,1,null,r)),t["\u0275did"](13,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](16777216,null,null,1,null,u)),t["\u0275did"](15,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275eld"](16,0,null,null,7,"span",[["class","ui-treenode-label ui-corner-all"]],null,null,null,null,null)),t["\u0275prd"](512,null,a["\u0275NgClassImpl"],a["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](18,278528,null,0,a.NgClass,[a["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](19,{"ui-state-highlight":0}),(e()(),t["\u0275and"](16777216,null,null,1,null,d)),t["\u0275did"](21,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](16777216,null,null,1,null,p)),t["\u0275did"](23,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](16777216,null,null,1,null,m)),t["\u0275did"](25,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(e,l){var n=l.component,t=e(l,3,0,"ui-treenode",n.node.styleClass||"",n.isLeaf()?"ui-treenode-leaf":"");e(l,2,0,t);var i=e(l,7,0,n.tree.selectionMode&&!1!==n.node.selectable,n.draghoverNode,n.isSelected());e(l,6,0,"ui-treenode-content",i);var a=e(l,11,0,!n.node.expanded,n.node.expanded);e(l,10,0,"ui-tree-toggler pi pi-fw ui-unselectable-text",a),e(l,13,0,"checkbox"==n.tree.selectionMode),e(l,15,0,n.node.icon||n.node.expandedIcon||n.node.collapsedIcon);var o=e(l,19,0,n.isSelected());e(l,18,0,"ui-treenode-label ui-corner-all",o),e(l,21,0,!n.tree.getTemplateForNode(n.node)),e(l,23,0,n.tree.getTemplateForNode(n.node)),e(l,25,0,n.node.children&&n.node.expanded)}),(function(e,l){var n=l.component;e(l,4,0,n.tree.draggableNodes,n.index+1,n.node.expanded,n.isSelected())}))}function h(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,3,"li",[["class","ui-treenode-droppoint"]],null,[[null,"drop"],[null,"dragover"],[null,"dragenter"],[null,"dragleave"]],(function(e,l,n){var t=!0,i=e.component;return"drop"===l&&(t=!1!==i.onDropPoint(n,1)&&t),"dragover"===l&&(t=!1!==i.onDropPointDragOver(n)&&t),"dragenter"===l&&(t=!1!==i.onDropPointDragEnter(n,1)&&t),"dragleave"===l&&(t=!1!==i.onDropPointDragLeave(n)&&t),t}),null,null)),t["\u0275prd"](512,null,a["\u0275NgClassImpl"],a["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](2,278528,null,0,a.NgClass,[a["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](3,{"ui-treenode-droppoint-active ui-state-highlight":0})],(function(e,l){var n=e(l,3,0,l.component.draghoverNext);e(l,2,0,"ui-treenode-droppoint",n)}),null)}function _(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,12,"td",[["class","ui-treenode-connector"]],null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,11,"table",[["class","ui-treenode-connector-table"]],null,null,null,null,null)),(e()(),t["\u0275eld"](2,0,null,null,10,"tbody",[],null,null,null,null,null)),(e()(),t["\u0275eld"](3,0,null,null,4,"tr",[],null,null,null,null,null)),(e()(),t["\u0275eld"](4,0,null,null,3,"td",[],null,null,null,null,null)),t["\u0275prd"](512,null,a["\u0275NgClassImpl"],a["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](6,278528,null,0,a.NgClass,[a["\u0275NgClassImpl"]],{ngClass:[0,"ngClass"]},null),t["\u0275pod"](7,{"ui-treenode-connector-line":0}),(e()(),t["\u0275eld"](8,0,null,null,4,"tr",[],null,null,null,null,null)),(e()(),t["\u0275eld"](9,0,null,null,3,"td",[],null,null,null,null,null)),t["\u0275prd"](512,null,a["\u0275NgClassImpl"],a["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](11,278528,null,0,a.NgClass,[a["\u0275NgClassImpl"]],{ngClass:[0,"ngClass"]},null),t["\u0275pod"](12,{"ui-treenode-connector-line":0})],(function(e,l){var n=l.component,t=e(l,7,0,!n.firstChild);e(l,6,0,t);var i=e(l,12,0,!n.lastChild);e(l,11,0,i)}),null)}function v(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,3,"span",[["class","ui-tree-toggler pi pi-fw ui-unselectable-text"]],null,[[null,"click"]],(function(e,l,n){var t=!0;return"click"===l&&(t=!1!==e.component.toggle(n)&&t),t}),null,null)),t["\u0275prd"](512,null,a["\u0275NgClassImpl"],a["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](2,278528,null,0,a.NgClass,[a["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](3,{"pi-plus":0,"pi-minus":1})],(function(e,l){var n=l.component,t=e(l,3,0,!n.node.expanded,n.node.expanded);e(l,2,0,"ui-tree-toggler pi pi-fw ui-unselectable-text",t)}),null)}function I(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,0,"span",[],[[8,"className",0]],null,null,null,null))],null,(function(e,l){e(l,0,0,l.component.getIcon())}))}function S(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),t["\u0275ted"](1,null,["",""]))],null,(function(e,l){e(l,1,0,l.component.node.label)}))}function C(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function E(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,3,"span",[],null,null,null,null,null)),(e()(),t["\u0275and"](16777216,null,null,2,null,C)),t["\u0275did"](2,540672,null,0,a.NgTemplateOutlet,[t.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),t["\u0275pod"](3,{$implicit:0})],(function(e,l){var n=l.component,t=e(l,3,0,n.node);e(l,2,0,t,n.tree.getTemplateForNode(n.node))}),null)}function O(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,1,"p-treeNode",[],null,null,null,N,o)),t["\u0275did"](1,114688,null,0,i.UITreeNode,[i.Tree],{node:[0,"node"],firstChild:[1,"firstChild"],lastChild:[2,"lastChild"]},null)],(function(e,l){e(l,1,0,l.context.$implicit,l.context.first,l.context.last)}),null)}function b(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,3,"td",[["class","ui-treenode-children-container"]],[[4,"display",null]],null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,2,"div",[["class","ui-treenode-children"]],null,null,null,null,null)),(e()(),t["\u0275and"](16777216,null,null,1,null,O)),t["\u0275did"](3,278528,null,0,a.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null)],(function(e,l){var n=l.component;e(l,3,0,n.node.children,n.tree.nodeTrackBy)}),(function(e,l){e(l,0,0,l.component.node.expanded?"table-cell":"none")}))}function w(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,23,"table",[],[[8,"className",0]],null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,22,"tbody",[],null,null,null,null,null)),(e()(),t["\u0275eld"](2,0,null,null,21,"tr",[],null,null,null,null,null)),(e()(),t["\u0275and"](16777216,null,null,1,null,_)),t["\u0275did"](4,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275eld"](5,0,null,null,16,"td",[["class","ui-treenode"]],null,null,null,null,null)),t["\u0275prd"](512,null,a["\u0275NgClassImpl"],a["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](7,278528,null,0,a.NgClass,[a["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](8,{"ui-treenode-collapsed":0}),(e()(),t["\u0275eld"](9,0,null,null,12,"div",[["class","ui-treenode-content ui-state-default ui-corner-all"]],null,[[null,"click"],[null,"contextmenu"],[null,"touchend"]],(function(e,l,n){var t=!0,i=e.component;return"click"===l&&(t=!1!==i.onNodeClick(n)&&t),"contextmenu"===l&&(t=!1!==i.onNodeRightClick(n)&&t),"touchend"===l&&(t=!1!==i.onNodeTouchEnd()&&t),t}),null,null)),t["\u0275prd"](512,null,a["\u0275NgClassImpl"],a["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](11,278528,null,0,a.NgClass,[a["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](12,{"ui-treenode-selectable":0,"ui-state-highlight":1}),(e()(),t["\u0275and"](16777216,null,null,1,null,v)),t["\u0275did"](14,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](16777216,null,null,1,null,I)),t["\u0275did"](16,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275eld"](17,0,null,null,4,"span",[["class","ui-treenode-label ui-corner-all"]],null,null,null,null,null)),(e()(),t["\u0275and"](16777216,null,null,1,null,S)),t["\u0275did"](19,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](16777216,null,null,1,null,E)),t["\u0275did"](21,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](16777216,null,null,1,null,b)),t["\u0275did"](23,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(e,l){var n=l.component;e(l,4,0,!n.root);var t=e(l,8,0,!n.node.expanded);e(l,7,0,"ui-treenode",t);var i=e(l,12,0,n.tree.selectionMode,n.isSelected());e(l,11,0,"ui-treenode-content ui-state-default ui-corner-all",i),e(l,14,0,!n.isLeaf()),e(l,16,0,n.node.icon||n.node.expandedIcon||n.node.collapsedIcon),e(l,19,0,!n.tree.getTemplateForNode(n.node)),e(l,21,0,n.tree.getTemplateForNode(n.node)),e(l,23,0,n.node.children&&n.node.expanded)}),(function(e,l){e(l,0,0,l.component.node.styleClass)}))}function R(e){return t["\u0275vid"](0,[(e()(),t["\u0275and"](16777216,null,null,1,null,s)),t["\u0275did"](1,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](16777216,null,null,1,null,g)),t["\u0275did"](3,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](16777216,null,null,1,null,h)),t["\u0275did"](5,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](16777216,null,null,1,null,w)),t["\u0275did"](7,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](0,null,null,0))],(function(e,l){var n=l.component;e(l,1,0,n.tree.droppableNodes),e(l,3,0,!n.tree.horizontal),e(l,5,0,n.tree.droppableNodes&&n.lastChild),e(l,7,0,n.tree.horizontal)}),null)}function N(e){return t["\u0275vid"](0,[(e()(),t["\u0275and"](16777216,null,null,1,null,R)),t["\u0275did"](1,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(e,l){e(l,1,0,l.component.node)}),null)}var T=t["\u0275crt"]({encapsulation:2,styles:[],data:{}});function y(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,0,"div",[["class","ui-tree-loading-mask ui-widget-overlay"]],null,null,null,null,null))],null,null)}function P(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,1,"div",[["class","ui-tree-loading-content"]],null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,0,"i",[],[[8,"className",0]],null,null,null,null))],null,(function(e,l){e(l,1,0,"ui-tree-loading-icon pi-spin "+l.component.loadingIcon)}))}function D(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","ui-tree-filter-container"]],null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,[["filter",1]],null,0,"input",[["autocomplete","off"],["class","ui-tree-filter ui-inputtext ui-widget ui-state-default ui-corner-all"],["type","text"]],[[1,"placeholder",0]],[[null,"keydown.enter"],[null,"input"]],(function(e,l,n){var t=!0,i=e.component;return"keydown.enter"===l&&(t=!1!==n.preventDefault()&&t),"input"===l&&(t=!1!==i.onFilter(n)&&t),t}),null,null)),(e()(),t["\u0275eld"](2,0,null,null,0,"span",[["class","ui-tree-filter-icon pi pi-search"]],null,null,null,null,null))],null,(function(e,l){e(l,1,0,l.component.filterPlaceholder)}))}function L(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,1,"p-treeNode",[],null,null,null,N,o)),t["\u0275did"](1,114688,null,0,i.UITreeNode,[i.Tree],{node:[0,"node"],index:[1,"index"],firstChild:[2,"firstChild"],lastChild:[3,"lastChild"]},null)],(function(e,l){e(l,1,0,l.context.$implicit,l.context.index,l.context.first,l.context.last)}),null)}function A(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,2,"ul",[["class","ui-tree-container"],["role","tree"]],[[1,"aria-label",0],[1,"aria-labelledby",0]],null,null,null,null)),(e()(),t["\u0275and"](16777216,null,null,1,null,L)),t["\u0275did"](2,278528,null,0,a.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null)],(function(e,l){var n=l.component;e(l,2,0,n.getRootNode(),n.nodeTrackBy)}),(function(e,l){var n=l.component;e(l,0,0,n.ariaLabel,n.ariaLabelledBy)}))}function F(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,1,"div",[["class","ui-tree-empty-message"]],null,null,null,null,null)),(e()(),t["\u0275ted"](1,null,["",""]))],null,(function(e,l){e(l,1,0,l.component.emptyMessage)}))}function M(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,15,"div",[],null,[[null,"drop"],[null,"dragover"],[null,"dragenter"],[null,"dragleave"]],(function(e,l,n){var t=!0,i=e.component;return"drop"===l&&(t=!1!==i.onDrop(n)&&t),"dragover"===l&&(t=!1!==i.onDragOver(n)&&t),"dragenter"===l&&(t=!1!==i.onDragEnter(n)&&t),"dragleave"===l&&(t=!1!==i.onDragLeave(n)&&t),t}),null,null)),t["\u0275prd"](512,null,a["\u0275NgClassImpl"],a["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](2,278528,null,0,a.NgClass,[a["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](3,{"ui-tree ui-widget ui-widget-content ui-corner-all":0,"ui-tree-selectable":1,"ui-treenode-dragover":2,"ui-tree-loading":3}),t["\u0275prd"](512,null,a["\u0275NgStyleImpl"],a["\u0275NgStyleR2Impl"],[t.ElementRef,t.KeyValueDiffers,t.Renderer2]),t["\u0275did"](5,278528,null,0,a.NgStyle,[a["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),(e()(),t["\u0275and"](16777216,null,null,1,null,y)),t["\u0275did"](7,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](16777216,null,null,1,null,P)),t["\u0275did"](9,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](16777216,null,null,1,null,D)),t["\u0275did"](11,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](16777216,null,null,1,null,A)),t["\u0275did"](13,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](16777216,null,null,1,null,F)),t["\u0275did"](15,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(e,l){var n=l.component,t=n.styleClass,i=e(l,3,0,!0,n.selectionMode,n.dragHover,n.loading);e(l,2,0,t,i),e(l,5,0,n.style),e(l,7,0,n.loading),e(l,9,0,n.loading),e(l,11,0,n.filter),e(l,13,0,n.getRootNode()),e(l,15,0,!n.loading&&(null==n.value||0===n.value.length))}),null)}function j(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,0,"div",[["class","ui-tree-loading ui-widget-overlay"]],null,null,null,null,null))],null,null)}function V(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,1,"div",[["class","ui-tree-loading-content"]],null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,0,"i",[],[[8,"className",0]],null,null,null,null))],null,(function(e,l){e(l,1,0,"ui-tree-loading-icon pi-spin "+l.component.loadingIcon)}))}function x(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,2,"table",[],null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,1,"p-treeNode",[],null,null,null,N,o)),t["\u0275did"](2,114688,null,0,i.UITreeNode,[i.Tree],{node:[0,"node"],root:[1,"root"]},null)],(function(e,l){e(l,2,0,l.component.value[0],!0)}),null)}function B(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,1,"div",[["class","ui-tree-empty-message"]],null,null,null,null,null)),(e()(),t["\u0275ted"](1,null,["",""]))],null,(function(e,l){e(l,1,0,l.component.emptyMessage)}))}function k(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,13,"div",[],null,null,null,null,null)),t["\u0275prd"](512,null,a["\u0275NgClassImpl"],a["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](2,278528,null,0,a.NgClass,[a["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](3,{"ui-tree ui-tree-horizontal ui-widget ui-widget-content ui-corner-all":0,"ui-tree-selectable":1}),t["\u0275prd"](512,null,a["\u0275NgStyleImpl"],a["\u0275NgStyleR2Impl"],[t.ElementRef,t.KeyValueDiffers,t.Renderer2]),t["\u0275did"](5,278528,null,0,a.NgStyle,[a["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),(e()(),t["\u0275and"](16777216,null,null,1,null,j)),t["\u0275did"](7,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](16777216,null,null,1,null,V)),t["\u0275did"](9,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](16777216,null,null,1,null,x)),t["\u0275did"](11,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](16777216,null,null,1,null,B)),t["\u0275did"](13,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(e,l){var n=l.component,t=n.styleClass,i=e(l,3,0,!0,n.selectionMode);e(l,2,0,t,i),e(l,5,0,n.style),e(l,7,0,n.loading),e(l,9,0,n.loading),e(l,11,0,n.value&&n.value[0]),e(l,13,0,!n.loading&&(null==n.value||0===n.value.length))}),null)}function U(e){return t["\u0275vid"](0,[(e()(),t["\u0275and"](16777216,null,null,1,null,M)),t["\u0275did"](1,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](16777216,null,null,1,null,k)),t["\u0275did"](3,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(e,l){var n=l.component;e(l,1,0,!n.horizontal),e(l,3,0,n.horizontal)}),null)}},QJSW:function(e,l,n){"use strict";n.d(l,"a",(function(){return s}));var t=n("GJmQ"),i=n("EMdb"),a=n("o0su"),o=n("m6j1");class s{constructor(e,l,n,t,i,a,o,s,r,u,d,c){this.fwcObjectService=e,this.fwcInterfaceService=l,this.itemSelectedService=n,this.fwcObjectTypeService=t,this.fwcUserService=i,this.fwcFirewallService=a,this.fwcPolicyService=o,this.fwcMarkService=s,this.fwcVpnService=r,this.translate=u,this.pipeFwcIcon=d,this.cd=c,this.loadingData=!1,this.OBJECT_TYPES=[],this.showTooltip=!1,this.positionTooltip=!1,this.TOOLTIP_HEIGHT=350,this.TOOLTIP_MIN_WIDTH=250,this.TOOLTIP_GAP=8,this.alive=!0}ngOnInit(){this.itemSelectedService.getObjectInfo().pipe(Object(t.a)(()=>this.alive)).subscribe(e=>{if(!e)return;let l=e.obj,n=e.event;this.objectInfo=void 0,this.objectError=void 0,l&&n&&n.target?(this.loadingData=!0,this.tooltipX=n.clientX,this.tooltipY=n.clientY,this.targetElement=n.target,this.showTooltipDialog(),l._fwcShowRestrictions?this.fwcPolicyService.getPolicyRuleFull(l.firewall_id,l.rule_type,l.rule_id,this.fwcUserService.getActualFwSelectedCloud()).pipe(Object(t.a)(()=>this.alive)).subscribe(e=>{},e=>{}):this.getObjectInfo(l.objId,l.objType,l.objParentId,l.fwId,l.clusterId).then(e=>{this.loadingData=!1,this.objectInfo=e,this.showTooltipDialog()}).catch(e=>{this.loadingData=!1,this.objectError=e})):(this.showTooltip=!1,this.positionTooltip=!1)}),this.fwcObjectTypeService.getObjectTypes().subscribe(e=>{if(this.OBJECT_TYPES=[],e.data){for(let l of e.data)this.OBJECT_TYPES[l.id]=l.type;this.OBJECT_TYPES[i.v.OBJ_CLUSTER_NODE]="CLUSTER_NODE"}},e=>{a.b.error("ERROR getting object types",e),this.OBJECT_TYPES=[]})}ngOnDestroy(){this.alive=!1}showTooltipDialog(){this.cd.destroyed||this.cd.detectChanges(),this.placeTooltipDialog(),this.showTooltip=!0}placeTooltipOld(){if(this.tooltipElem){let e=this.tooltipElem.nativeElement.clientWidth,l=this.tooltipElem.nativeElement.clientHeight,n=window.innerWidth,t=window.innerHeight;this.tooltipX+e>=n-(this.TOOLTIP_GAP+3)&&(this.tooltipX=this.tooltipX-e-this.TOOLTIP_GAP),this.tooltipY+l>=t-(this.TOOLTIP_GAP+3)?this.tooltipY=this.tooltipY-l-this.TOOLTIP_GAP:this.tooltipY+=this.TOOLTIP_GAP}}placeTooltipDialog(){if(this.tooltipElem&&this.targetElement){let e=this.tooltipElem.nativeElement.clientWidth,l=this.tooltipElem.nativeElement.clientHeight,n=window.innerWidth,t=window.innerHeight,i=this.targetElement.getBoundingClientRect();this.tooltipX=this.tooltipY=void 0,i.top-l-this.TOOLTIP_GAP>0?this.tooltipY=i.top-l-this.TOOLTIP_GAP:i.bottom+l+this.TOOLTIP_GAP<t&&(this.tooltipY=i.bottom+this.TOOLTIP_GAP),i.left+e+this.TOOLTIP_GAP<n&&(this.tooltipX=i.left)}}getObjectInfo(e,l,n,t,a){return new Promise((a,s)=>{let r;switch(l=+l){case i.v.OBJ_FIREWALL:this.fwcFirewallService.getFirewall(e,this.fwcUserService.getActualFwSelectedCloud()).subscribe(e=>{let l;if(!e.data)return s(this.translate.instant("GLOBALS.ERRORS.NO_INFO"));{let n;l=e.data,l.type=i.v.OBJ_FIREWALL,l.cluster&&(l.type=i.v.OBJ_CLUSTER_NODE),n=this.buildInfoTableHeader(l.id);let t="-";l.compiled_at&&(t=l.compiled_at),n+=`<tr><td colspan='2'><p class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.COMPILED_AT")}</p><br><p>${t}<p></td></tr>`;let a="-";l.installed_at&&(a=l.installed_at),n+=`<tr><td colspan='2'><p class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.INSTALLED_AT")}</p><br><p>${a}<p></td></tr>`,l.comment&&(n+=`<tr><td colspan='2'><p class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.COMMENTS")}</p><br><p>${l.comment}<p></td></tr>`),n+="</table>",l.infoHTML=n}a(l)},e=>{s(e)});break;case i.v.OBJ_CLUSTER:this.fwcFirewallService.getCluster(e,this.fwcUserService.getActualFwSelectedCloud()).subscribe(e=>{let l;if(e.data){{let n;l=e.data,l.type=i.v.OBJ_CLUSTER,n=this.buildInfoTableHeader(l.id),l.comment&&(n+=`<tr><td colspan='2'><span class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.COMMENTS")}</span><br>${l.comment}</td></tr>`),n+="</table>",l.infoHTML=n}a(l)}else s(this.translate.instant("GLOBALS.ERRORS.NO_INFO"))},e=>{s(e)});break;case i.v.OBJ_INTERFACE_FIREWALL:case i.v.OBJ_INTERFACE_HOST:let u;l==i.v.OBJ_INTERFACE_HOST?(r=this.fwcInterfaceService.getInterfaceHost.bind(this.fwcInterfaceService),u=n):(r=this.fwcInterfaceService.getInterface.bind(this.fwcInterfaceService),u=t),r(u,e,this.fwcUserService.getActualFwSelectedCloud()).subscribe(e=>{let l;if(e.data){{let n,t;l=e.data,n=this.buildInfoTableHeader(l.id),t=+l.type,n+=t==i.v.OBJ_INTERFACE_FIREWALL?null!=l.cluster_id?`<tr><td class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(i.v.OBJ_CLUSTER)}'></i> Cluster</td><td><strong>${l.cluster_name} (${l.cluster_id})</strong></td></tr>`:`<tr><td class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(i.v.OBJ_FIREWALL)}'></i> Firewall</td><td><strong>${l.firewall_name} (${l.firewall_id})</strong></td></tr>`:`<tr><td class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(i.v.OBJ_HOST)}'></i> Host</td><td><strong>${l.host_name} (${l.host_id})</strong></td></tr>`,n+=`<tr><td class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.LABEL")}</td><td><strong>${l.labelName?l.labelName:""}</strong></td></tr>`,n+=`<tr><td class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.MAC")}</td><td><strong>${l.mac?l.mac:""}</strong></td></tr>`,l.comment&&(n+=`<tr><td colspan='2'><span class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.COMMENTS")}</span><br>${l.comment}</td></tr>`),n+="</table>",l.infoHTML=n}a(l)}else s(this.translate.instant("GLOBALS.ERRORS.NO_INFO"))},e=>{s(e)});break;case i.v.OBJ_GROUP:case i.v.OBJ_SERVICE_GROUP:this.fwcObjectService.getObjectGroup(e,this.fwcUserService.getActualFwSelectedCloud()).subscribe(e=>{let l;if(e.data){{let n;if(l=e.data,n=this.buildInfoTableHeader(l.id),l.ipobjs&&l.ipobjs.length){n+=`<tr><td colspan='2'><span class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.IP_OBJS")}</span><ul class='fitUl'>`;for(let e=0;e<l.ipobjs.length;e++)n+=`<li><i class='fwcIcon ${(new o.a).transform(l.ipobjs[e].type,"","fwcOrange")}'></i> ${l.ipobjs[e].name} (Id: <strong>${l.ipobjs[e].id}</strong>)</li>`;n+="</ul></td></tr>"}else n+=`<tr><td colspan='2'><i>${this.translate.instant("ITEM_PANEL.FIELDS.GROUP_EMPTY")}</i></td></tr>`;l.comment&&(n+=`<tr><td colspan='2'><span class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.COMMENTS")}</span><br>${l.comment}</td></tr>`),n+="</table>",l.infoHTML=n}a(l)}else s(this.translate.instant("GLOBALS.ERRORS.NO_INFO"))},e=>{s(e)});break;case i.v.OBJ_CERT_CLI:case i.v.OBJ_CERT_SER:case i.v.OBJ_VPN_CONFIG_CLI:case i.v.OBJ_VPN_CONFIG_SER:case i.v.OBJ_CA:let d,c={fwcloud:this.fwcUserService.getActualFwSelectedCloud()};l==i.v.OBJ_CERT_CLI||l==i.v.OBJ_CERT_SER?(d=this.fwcVpnService.getCertificate.bind(this.fwcVpnService),c.crt=e):l==i.v.OBJ_VPN_CONFIG_CLI||l==i.v.OBJ_VPN_CONFIG_SER?(d=this.fwcVpnService.getConfigInfo.bind(this.fwcVpnService),c.openvpn=e):l==i.v.OBJ_CA&&(d=this.fwcVpnService.getCA.bind(this.fwcVpnService),c.ca=e),d(c).subscribe(e=>{let n;if(e.data){let t;n=e.data,n.type=l,t=this.buildInfoTableHeader(n.id);let a=this.translate.instant("VPN.PANEL.DAY_OPTS.0");if(void 0!==n.days&&(n.days%365||(n.days/=365,a=this.translate.instant("VPN.PANEL.DAY_OPTS.1"))),l!=i.v.OBJ_CERT_CLI&&l!=i.v.OBJ_CERT_SER||(n.name=n.cn,t+=`<tr><td class='fwcOrange'>${this.translate.instant("VPN.PANEL.FIELDS.DAYS_SHORT")}</td><td><strong>${n.days} ${a}</strong></td></tr>`),l==i.v.OBJ_VPN_CONFIG_CLI||l==i.v.OBJ_VPN_CONFIG_SER){let e=this.translate.instant("VPN.CONFIG.INSTALL.CONFIG_NOT_INSTALLED"),a=this.translate.instant(l==i.v.OBJ_VPN_CONFIG_CLI?"GLOBALS.MSG_OBJ_TYPES.OBJ_ADDRESS":"GLOBALS.MSG_OBJ_TYPES.OBJ_NETWORK");if(t+=`<tr><td><span class='fwcOrange'>CN</span></td><td>${n.cn}</td></tr>`,null!=n.cluster_id?t+=`<tr><td class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(i.v.OBJ_CLUSTER)} fwcWhite'></i> Cluster</td><td><strong>${n.cluster_name} (${n.cluster_id})</strong></td></tr>`:null!=n.firewall_id&&(t+=`<tr><td class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(i.v.OBJ_FIREWALL)}'></i> Firewall</td><td><strong>${n.firewall_name} (${n.firewall_id})</strong></td></tr>`),t+=`<tr><td><span class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(i.v.OBJ_CA)}'></i> CA</span></td><td>${n.CA_cn}</td></tr>`,n.openvpn_server_cn&&(t+=`<tr><td><span class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(i.v.OBJ_VPN_CONFIG_SER)}'></i> ${this.translate.instant("GLOBALS.MSG_OBJ_TYPES.OBJ_OPENVPN_CONFIG_SER")}</span></td><td><strong>${n.openvpn_server_cn}</strong></td></tr>`),t+=`<tr><td><span class='fwcOrange'>${a}</span></td><td><strong>${n.address}</strong></td></tr>`,n.netmask&&(t+=`<tr><td><span class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.MASK")}</span></td><td><strong>${n.netmask}</strong></td></tr>`),!n.status&&n.installed_at){let l=new Date(n.installed_at).toLocaleString();e=this.translate.instant("VPN.CONFIG.INSTALL.CONFIG_INSTALLED",{installDate:l})}t+=`<tr><td colspan='2'><span class='fwcOrange'>${this.translate.instant("VPN.CONFIG.INSTALL.STATUS")}</span><br>${e}</td></tr>`}l==i.v.OBJ_CA&&(n.name=n.cn,t+=`<tr><td class='fwcOrange'>${this.translate.instant("VPN.PANEL.FIELDS.DAYS_SHORT")}</td><td><strong>${n.days} ${a}</strong></td></tr>`,n.status&&(t+=`<tr><td colspan='2'>${this.translate.instant("VPN.PANEL.NEW.CA_CREATING_SHORT")}</td></tr>`)),n.comment&&(t+=`<tr><td colspan='2'><span class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.COMMENTS")}</span><br>${n.comment}</td></tr>`),t+="</table>",n.infoHTML=t}else s(this.translate.instant("GLOBALS.ERRORS.NO_INFO"));a(n)},e=>{s(e)});break;case i.v.OBJ_PREFIX_FOLDER:break;case i.v.OBJ_OPENVPN_PREFIX:let p={prefix:e,fwcloud:this.fwcUserService.getActualFwSelectedCloud()};this.fwcVpnService.getOpenVPNPrefixInfo(p).subscribe(e=>{let n;if(e.data){let t;n=e.data,t=this.buildInfoTableHeader(n.id),null!=n.cluster_name?t+=`<tr><td class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(i.v.OBJ_CLUSTER)} fwcWhite'></i> Cluster</td><td><strong>${n.cluster_name}</strong></td></tr>`:null!=n.firewall_name&&(t+=`<tr><td class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(i.v.OBJ_FIREWALL)}'></i> Firewall</td><td><strong>${n.firewall_name}</strong></td></tr>`),t+=`<tr><td class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(i.v.OBJ_CA)}'></i> ${this.translate.instant("VPN.CA_CN")}</td><td><strong>${n.ca_cn}</strong></td></tr>`,t+=`<tr><td class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(i.v.OBJ_VPN_CONFIG_SER)}'></i> ${this.translate.instant("VPN.CONFIG.CONFIG")}</td><td><strong>${n.cn}</strong></td></tr>`,n.openvpn_clients&&Array.isArray(n.openvpn_clients)&&n.openvpn_clients.length&&(t+=`<tr><td class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(i.v.OBJ_VPN_CONFIG_CLI)}'></i> ${this.translate.instant("VPN.CONFIG.CLIENT_CONFIGS")}</td></tr><tr><td><ul>`,n.openvpn_clients.forEach(e=>{t+=`<li>${e.cn} (${e.address})</li>`}),t+="</ul></td></tr>"),t+="</table>",n.type=l,n.infoHTML=t,a(n)}else s(this.translate.instant("GLOBALS.ERRORS.NO_INFO"))},e=>{s(e)});break;case i.v.OBJ_MARK:let f={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),mark:e};this.fwcMarkService.getMark(f).subscribe(e=>{let l;if(e.data){{let n;l=e.data,l.type=i.v.OBJ_MARK,n=this.buildInfoTableHeader(l.id),n+=`<tr><td class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.MARK_CODE")}</td><td><strong>${l.code}</strong></td></tr>`,l.comment&&(n+=`<tr><td colspan='2'><span class='fwcOrange spanComments'>${this.translate.instant("ITEM_PANEL.FIELDS.COMMENTS")}</span><br>${l.comment}</td></tr>`),n+="</table>",l.infoHTML=n}a(l)}else s(this.translate.instant("GLOBALS.ERRORS.NO_INFO"))},e=>{s(e)});break;default:this.fwcObjectService.getObject(e,this.fwcUserService.getActualFwSelectedCloud()).subscribe(e=>{let l;if(e.data){{let n,t;switch(l=e.data,n=this.buildInfoTableHeader(l.id),t=+l.type,t){case i.v.OBJ_HOST:if(Array.isArray(l.interfaces)){let e;n+="<tr><td colspan='2'><span class='fwcOrange'>Interfaces</span><ul class='fitUl'>";for(let t=0;t<l.interfaces.length;t++)if(e=l.interfaces[t],n+=`<li><i class='fwcIcon ${(new o.a).transform(e.type)}'></i> ${e.name} (Id: <strong>${e.id}</strong>)</li>`,Array.isArray(e.ipobjs)){n+="<ul class='fitUl'>";for(let l=0;l<e.ipobjs.length;l++)n+=`<li><i class='fwcIcon ${(new o.a).transform(e.ipobjs[l].type)}'></i> ${e.ipobjs[l].name} (Id: <strong>${e.ipobjs[l].id}</strong>)</li>`;n+="</ul>"}n+="</ul></td></tr>"}break;case i.v.OBJ_ADDRESS:case i.v.OBJ_NETWORK:if(t==i.v.OBJ_ADDRESS){let e=null!=l.host_id?i.v.OBJ_INTERFACE_HOST:i.v.OBJ_INTERFACE_FIREWALL;null!=l.cluster_id?n+=`<tr><td class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(i.v.OBJ_CLUSTER)} fwcWhite'></i> Cluster</td><td><strong>${l.cluster_name} (${l.cluster_id})</strong></td></tr>`:null!=l.firewall_id?n+=`<tr><td class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(i.v.OBJ_FIREWALL)}'></i> Firewall</td><td><strong>${l.firewall_name} (${l.firewall_id})</strong></td></tr>`:null!=l.host_id&&(n+=`<tr><td class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(i.v.OBJ_HOST)}'></i> Host</td><td><strong>${l.host_name} (${l.host_id})</strong></td></tr>`),null!=l.if_id&&(n+=`<tr><td class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(e)}'></i> ${this.translate.instant("GLOBALS.MSG_OBJ_TYPES.OBJ_INTERFACE_FIREWALL")}</td><td><strong>${l.if_name} (${l.if_id})</strong></td></tr>`)}n+=`<tr><td class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.ADDRESS")}</td><td><strong>${l.address}</strong></td></tr>`,n+=`<tr><td class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.MASK")}</td><td><strong>${l.netmask?l.netmask:""}</strong></td></tr>`;break;case i.v.OBJ_ADDRESS_RANGE:n+=`<tr><td class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.RANGE_S")}</td><td><strong>${l.range_start?l.range_start:""}</strong></td></tr>`,n+=`<tr><td class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.RANGE_E")}</td><td><strong>${l.range_end?l.range_end:""}</strong></td></tr>`;break;case i.v.OBJ_SERVICE_IP:n+=`<tr><td class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.PROT")}</td><td><strong>${l.protocol}</strong></td></tr>`;break;case i.v.OBJ_SERVICE_TCP:case i.v.OBJ_SERVICE_UDP:n+=`<tr><td class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.SRC_PORT")}</td><td><strong>${l.source_port_start?l.source_port_start:""}</strong></td></tr>`,n+=`<tr><td class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.PORT_E")}</td><td><strong>${l.source_port_end?l.source_port_end:""}</strong></td></tr>`,n+=`<tr><td class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.DEST_PORT")}</td><td><strong>${l.destination_port_start?l.destination_port_start:""}</strong></td></tr>`,n+=`<tr><td class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.PORT_E")}</td><td><strong>${l.destination_port_end?l.destination_port_end:""}</strong></td></tr>`;break;case i.v.OBJ_SERVICE_ICMP:let e=l.icmp_type?-1==l.icmp_type?"Any":l.icmp_type.toString():"",a=l.icmp_code?-1==l.icmp_code?"Any":l.icmp_code.toString():"";n+=`<tr><td class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.ICMP_TYPE")}</td><td><strong>${e}</strong></td></tr>`,n+=`<tr><td class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.ICMP_CODE")}</td><td><strong>${a}</strong></td></tr>`}l.comment&&(n+=`<tr><td colspan='2'><span class='fwcOrange spanComments'>${this.translate.instant("ITEM_PANEL.FIELDS.COMMENTS")}</span><br>${l.comment}</td></tr>`),n+="</table>",l.infoHTML=n}a(l)}else s(this.translate.instant("GLOBALS.ERRORS.NO_INFO"))},e=>{s(e)})}})}buildInfoTableHeader(e){let l="<table class='fitTableInfo'>";return l+=`<tr><td class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.OBJ_ID")}</td><td><strong>${e}</strong></td></tr>`,l}}},bFIj:function(e,l,n){"use strict";var t=n("8Y7J"),i=n("TSSN"),a=n("Ge8E"),o=n("EjV3"),s=n("SVse"),r=n("Czxz"),u=n("RXyF"),d=n("nP3v"),c=n("WwML"),p=n("4Vzq"),f=n("Sn08"),m=t["\u0275crt"]({encapsulation:2,styles:[],data:{}});function g(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,5,"div",[],null,null,null,null,null)),t["\u0275prd"](512,null,s["\u0275NgClassImpl"],s["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](2,278528,null,0,s.NgClass,[s["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275prd"](512,null,s["\u0275NgStyleImpl"],s["\u0275NgStyleR2Impl"],[t.ElementRef,t.KeyValueDiffers,t.Renderer2]),t["\u0275did"](4,278528,null,0,s.NgStyle,[s["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),t["\u0275ncd"](null,0)],(function(e,l){var n=l.component;e(l,2,0,n.styleClass,"ui-toolbar ui-widget ui-widget-header ui-corner-all ui-helper-clearfix"),e(l,4,0,n.style)}),null)}var h=n("Qe1B"),_=(n("pMnS"),n("VSng")),v=n("iInd"),I=t["\u0275crt"]({encapsulation:2,styles:[],data:{animation:[{type:7,name:"overlayAnimation",definitions:[{type:0,name:"void",styles:{type:6,styles:{transform:"translateY(5%)",opacity:0},offset:null},options:void 0},{type:0,name:"visible",styles:{type:6,styles:{transform:"translateY(0)",opacity:1},offset:null},options:void 0},{type:1,expr:"void => visible",animation:{type:4,styles:null,timings:"{{showTransitionParams}}"},options:null},{type:1,expr:"visible => void",animation:{type:4,styles:null,timings:"{{hideTransitionParams}}"},options:null}],options:{}}]}});function S(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,2,"span",[],null,null,null,null,null)),t["\u0275prd"](512,null,s["\u0275NgClassImpl"],s["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](2,278528,null,0,s.NgClass,[s["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null)],(function(e,l){e(l,2,0,l.parent.parent.parent.context.$implicit.icon,"ui-menuitem-icon")}),null)}function C(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,7,"a",[["class","ui-menuitem-link ui-corner-all"]],[[1,"href",4],[1,"target",0]],[[null,"click"]],(function(e,l,n){var t=!0;return"click"===l&&(t=!1!==e.component.itemClick(n,e.parent.parent.context.$implicit)&&t),t}),null,null)),t["\u0275prd"](512,null,s["\u0275NgClassImpl"],s["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](2,278528,null,0,s.NgClass,[s["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](3,{"ui-state-disabled":0}),(e()(),t["\u0275and"](16777216,null,null,1,null,S)),t["\u0275did"](5,16384,null,0,s.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275eld"](6,0,null,null,1,"span",[["class","ui-menuitem-text"]],null,null,null,null,null)),(e()(),t["\u0275ted"](7,null,["",""]))],(function(e,l){var n=e(l,3,0,l.parent.parent.context.$implicit.disabled);e(l,2,0,"ui-menuitem-link ui-corner-all",n),e(l,5,0,l.parent.parent.context.$implicit.icon)}),(function(e,l){e(l,0,0,l.parent.parent.context.$implicit.url,l.parent.parent.context.$implicit.target),e(l,7,0,l.parent.parent.context.$implicit.label)}))}function E(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,2,"span",[],null,null,null,null,null)),t["\u0275prd"](512,null,s["\u0275NgClassImpl"],s["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](2,278528,null,0,s.NgClass,[s["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null)],(function(e,l){e(l,2,0,l.parent.parent.parent.context.$implicit.icon,"ui-menuitem-icon")}),null)}function O(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,8,"a",[["class","ui-menuitem-link ui-corner-all"]],[[1,"target",0],[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,l,n){var i=!0,a=e.component;return"click"===l&&(i=!1!==t["\u0275nov"](e,4).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),"click"===l&&(i=!1!==a.itemClick(n,e.parent.parent.context.$implicit)&&i),i}),null,null)),t["\u0275prd"](512,null,s["\u0275NgClassImpl"],s["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](2,278528,null,0,s.NgClass,[s["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](3,{"ui-state-disabled":0}),t["\u0275did"](4,671744,null,0,v.RouterLinkWithHref,[v.Router,v.ActivatedRoute,s.LocationStrategy],{queryParams:[0,"queryParams"],routerLink:[1,"routerLink"]},null),(e()(),t["\u0275and"](16777216,null,null,1,null,E)),t["\u0275did"](6,16384,null,0,s.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275eld"](7,0,null,null,1,"span",[["class","ui-menuitem-text"]],null,null,null,null,null)),(e()(),t["\u0275ted"](8,null,["",""]))],(function(e,l){var n=e(l,3,0,l.parent.parent.context.$implicit.disabled);e(l,2,0,"ui-menuitem-link ui-corner-all",n),e(l,4,0,l.parent.parent.context.$implicit.queryParams,l.parent.parent.context.$implicit.routerLink),e(l,6,0,l.parent.parent.context.$implicit.icon)}),(function(e,l){e(l,0,0,l.parent.parent.context.$implicit.target,t["\u0275nov"](l,4).target,t["\u0275nov"](l,4).href),e(l,8,0,l.parent.parent.context.$implicit.label)}))}function b(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,4,"li",[["class","ui-menuitem ui-widget ui-corner-all"],["role","menuitem"]],null,null,null,null,null)),(e()(),t["\u0275and"](16777216,null,null,1,null,C)),t["\u0275did"](2,16384,null,0,s.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](16777216,null,null,1,null,O)),t["\u0275did"](4,16384,null,0,s.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(e,l){e(l,2,0,!l.parent.context.$implicit.routerLink),e(l,4,0,l.parent.context.$implicit.routerLink)}),null)}function w(e){return t["\u0275vid"](0,[(e()(),t["\u0275and"](16777216,null,null,1,null,b)),t["\u0275did"](1,16384,null,0,s.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](0,null,null,0))],(function(e,l){e(l,1,0,!1!==l.context.$implicit.visible)}),null)}function R(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,[["overlay",1]],null,9,"div",[],[[24,"@overlayAnimation",0]],[[null,"@overlayAnimation.start"]],(function(e,l,n){var t=!0;return"@overlayAnimation.start"===l&&(t=!1!==e.component.onOverlayAnimationStart(n)&&t),t}),null,null)),t["\u0275prd"](512,null,s["\u0275NgClassImpl"],s["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](2,278528,null,0,s.NgClass,[s["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275prd"](512,null,s["\u0275NgStyleImpl"],s["\u0275NgStyleR2Impl"],[t.ElementRef,t.KeyValueDiffers,t.Renderer2]),t["\u0275did"](4,278528,null,0,s.NgStyle,[s["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](5,{showTransitionParams:0,hideTransitionParams:1}),t["\u0275pod"](6,{value:0,params:1}),(e()(),t["\u0275eld"](7,0,null,null,2,"ul",[["class","ui-menu-list ui-helper-reset"]],null,null,null,null,null)),(e()(),t["\u0275and"](16777216,null,null,1,null,w)),t["\u0275did"](9,278528,null,0,s.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(e,l){var n=l.component;e(l,2,0,n.menuStyleClass,"ui-menu ui-menu-dynamic ui-widget ui-widget-content ui-corner-all ui-helper-clearfix ui-shadow"),e(l,4,0,n.menuStyle),e(l,9,0,n.model)}),(function(e,l){var n=l.component,t=e(l,6,0,"visible",e(l,5,0,n.showTransitionOptions,n.hideTransitionOptions));e(l,0,0,t)}))}function N(e){return t["\u0275vid"](0,[t["\u0275qud"](671088640,1,{containerViewChild:0}),t["\u0275qud"](671088640,2,{buttonViewChild:0}),(e()(),t["\u0275eld"](2,0,[[1,0],["container",1]],null,11,"div",[],null,null,null,null,null)),t["\u0275prd"](512,null,s["\u0275NgClassImpl"],s["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](4,278528,null,0,s.NgClass,[s["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](5,{"ui-splitbutton ui-buttonset ui-widget":0,"ui-state-disabled":1}),t["\u0275prd"](512,null,s["\u0275NgStyleImpl"],s["\u0275NgStyleR2Impl"],[t.ElementRef,t.KeyValueDiffers,t.Renderer2]),t["\u0275did"](7,278528,null,0,s.NgStyle,[s["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),(e()(),t["\u0275eld"](8,0,[[2,0],["defaultbtn",1]],null,1,"button",[["pButton",""],["type","button"]],[[8,"disabled",0],[1,"tabindex",0]],[[null,"click"]],(function(e,l,n){var t=!0;return"click"===l&&(t=!1!==e.component.onDefaultButtonClick(n)&&t),t}),null,null)),t["\u0275did"](9,4341760,null,0,_.ButtonDirective,[t.ElementRef],{iconPos:[0,"iconPos"],cornerStyleClass:[1,"cornerStyleClass"],label:[2,"label"],icon:[3,"icon"]},null),(e()(),t["\u0275eld"](10,0,null,null,1,"button",[["class","ui-splitbutton-menubutton"],["icon","pi pi-chevron-down"],["pButton",""],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(e,l,n){var t=!0;return"click"===l&&(t=!1!==e.component.onDropdownButtonClick(n)&&t),t}),null,null)),t["\u0275did"](11,4341760,null,0,_.ButtonDirective,[t.ElementRef],{cornerStyleClass:[0,"cornerStyleClass"],icon:[1,"icon"]},null),(e()(),t["\u0275and"](16777216,null,null,1,null,R)),t["\u0275did"](13,16384,null,0,s.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(e,l){var n=l.component,t=n.styleClass,i=e(l,5,0,!0,n.disabled);e(l,4,0,t,i),e(l,7,0,n.style),e(l,9,0,n.iconPos,"rtl"===n.dir?"ui-corner-right":"ui-corner-left",n.label,n.icon),e(l,11,0,"rtl"===n.dir?"ui-corner-left":"ui-corner-right","pi pi-chevron-down"),e(l,13,0,n.overlayVisible)}),(function(e,l){var n=l.component;e(l,8,0,n.disabled,n.tabindex),e(l,10,0,n.disabled)}))}var T=n("g4HV"),y=n("s7LF"),P=n("Fa87"),D=n("7LN8"),L=n("ioIN"),A=t["\u0275crt"]({encapsulation:2,styles:[],data:{}});function F(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,1,"div",[["style","position:relative"]],[[4,"width",null],[4,"height",null]],null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,0,"canvas",[],[[1,"width",0],[1,"height",0]],[[null,"click"]],(function(e,l,n){var t=!0;return"click"===l&&(t=!1!==e.component.onCanvasClick(n)&&t),t}),null,null))],null,(function(e,l){var n=l.component;e(l,0,0,n.responsive&&!n.width?null:n.width,n.responsive&&!n.height?null:n.height),e(l,1,0,n.responsive&&!n.width?null:n.width,n.responsive&&!n.height?null:n.height)}))}var M=n("m6j1"),j=n("QVyK"),V=n("66nc"),x=n("SVXH"),B=n("Meih"),k=n("SlyN"),U=n("B58V");n("w2nL"),n("IheW"),n("Ecz1"),n("77Y5"),n("yEB0"),n("2Rin"),n("XY+R"),n("sqqX"),n("N7ZF"),n("oygf"),n.d(l,"a",(function(){return G})),n.d(l,"b",(function(){return le}));var G=t["\u0275crt"]({encapsulation:0,styles:[[".divVpnStatusMain[_ngcontent-%COMP%]{height:100%;min-height:8rem;max-height:30rem}.divVpnStatusMain-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{float:right}.divVpnStatusMain-placeholder[_ngcontent-%COMP%]{text-align:center}.divVpnStatusMain-loader[_ngcontent-%COMP%]{position:absolute;z-index:4000;width:100%;height:100%;top:0;left:0;background:rgba(255,255,255,.5)}.divVpnStatusMain-loader[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .divVpnStatusMain-placeholder[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#cacaca}.divVpnStatusMain-loader[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .divVpnStatusMain-placeholder[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{display:block}.divVpnStatusMain-loader[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .divVpnStatusMain-placeholder[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:2rem}.divVpnStatusMain-title[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;padding:.7rem 1rem}.divVpnStatusMain-title[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{display:inline-block;font-family:Montserrat,arial;font-size:.9rem}.divVpnStatusMain-title[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:inline-block;float:right}.divVpnStatusMain-title[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#888;cursor:pointer}.divVpnStatusMain-title[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{color:#222}.divVpnStatusMain-table[_ngcontent-%COMP%]{overflow-y:auto}.divVpnStatusMain-table[_ngcontent-%COMP%]   .ui-table[_ngcontent-%COMP%]   .ui-table-thead[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;top:70px}.divVpnStatusMain-table[_ngcontent-%COMP%]   .ui-toolbar-group-left[_ngcontent-%COMP%], .divVpnStatusMain-table[_ngcontent-%COMP%]   .ui-toolbar-group-right[_ngcontent-%COMP%]{line-height:2rem}.divVpnStatusMain-buttons[_ngcontent-%COMP%]{display:inline!important}.divVpnStatusMain-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:0!important;margin-left:.5rem}.divVpnStatusMain-buttons[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:6rem!important;height:2rem!important;line-height:2.1rem!important}.divVpnStatusMain-data[_ngcontent-%COMP%], .divVpnStatusMain-totals[_ngcontent-%COMP%]{overflow-y:auto}.divVpnStatusMain-card[_ngcontent-%COMP%]{white-space:nowrap;color:#fff;height:4rem}.divVpnStatusMain-card[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{display:inline-block;height:4rem;text-align:center;line-height:4rem;vertical-align:top;padding:.5rem}.divVpnStatusMain-card[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:last-child{display:inline-block;height:4rem;text-align:left;overflow:hidden}.divVpnStatusMain-card[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:last-child   span[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700}.divVpnStatusMain-card[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:last-child   p[_ngcontent-%COMP%]{color:#eee;margin-top:-.5rem;text-transform:uppercase;text-overflow:ellipsis}.divVpnStatusMain-card.fwcOrangeBg[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{color:#ffcfa4}.divVpnStatusMain-card.fwcBlueBg[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{color:#cce2f8}.divVpnStatusMain-card.fwcGreenBg[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{color:#c8e6c9}.divVpnStatusMain-card2[_ngcontent-%COMP%]{color:#fff;text-align:center;border-radius:3px;padding-bottom:.4rem}.divVpnStatusMain-card2[_ngcontent-%COMP%]   .card2-value[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700}.divVpnStatusMain-card2[_ngcontent-%COMP%]   .card2-text[_ngcontent-%COMP%]{text-transform:uppercase;margin-top:-.3rem}.divVpnStatusMain-card2[_ngcontent-%COMP%]   .card2-text[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{cursor:pointer}.divVpnStatusMain-card2.fwcOrangeBg[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#ffcfa4}.divVpnStatusMain-card2.fwcBlueBg[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#cce2f8}.divVpnStatusMain-card2.fwcGreenBg[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c8e6c9}"]],data:{}});function J(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,5,"div",[["class","ui-g-12 divVpnStatusMain-placeholder"]],null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,4,"div",[],null,null,null,null,null)),(e()(),t["\u0275eld"](2,0,null,null,0,"i",[["class","fa fa-bar-chart fa-4x"]],null,null,null,null,null)),(e()(),t["\u0275eld"](3,0,null,null,2,"span",[],null,null,null,null,null)),(e()(),t["\u0275ted"](4,null,["",""])),t["\u0275pid"](131072,i.k,[i.l,t.ChangeDetectorRef])],null,(function(e,l){e(l,4,0,t["\u0275unv"](l,4,0,t["\u0275nov"](l,5).transform("VPN.STATUS.DATA")))}))}function $(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,3,"div",[["class","ui-g-12 divVpnStatusMain-loader"]],null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),t["\u0275eld"](2,0,null,null,1,"p-progressSpinner",[],null,null,null,a.b,a.a)),t["\u0275did"](3,49152,null,0,o.ProgressSpinner,[],null,null)],null,null)}function W(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),t["\u0275ted"](1,null,[" (",") "]))],null,(function(e,l){var n=l.component;e(l,1,0,null==n._configObj?null:n._configObj.cluster_name)}))}function H(e){return t["\u0275vid"](0,[(e()(),t["\u0275ted"](0,null,[" (",") "]))],null,(function(e,l){var n=l.component;e(l,0,0,null==n._configObj?null:n._configObj.firewall_name)}))}function K(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,11,"div",[["class","divVpnStatusMain-title"]],null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,8,"h6",[["class","fwcBlue"]],null,null,null,null,null)),(e()(),t["\u0275eld"](2,0,null,null,0,"i",[["class","fa fa-fw fa-users fwcOrange"]],null,null,null,null,null)),(e()(),t["\u0275ted"](3,null,[" "," "])),t["\u0275pid"](131072,i.k,[i.l,t.ChangeDetectorRef]),(e()(),t["\u0275eld"](5,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),t["\u0275ted"](6,null,["'","'"])),(e()(),t["\u0275and"](16777216,null,null,1,null,W)),t["\u0275did"](8,16384,null,0,s.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),t["\u0275and"](0,[["fwName",2]],null,0,null,H)),(e()(),t["\u0275eld"](10,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),t["\u0275eld"](11,0,null,null,0,"i",[["class","fa fa-lg fa-close"]],null,[[null,"click"]],(function(e,l,n){var t=!0;return"click"===l&&(t=!1!==e.component.onVpnStatusClose()&&t),t}),null,null))],(function(e,l){var n=l.component;e(l,8,0,null==n._configObj?null:n._configObj.cluster_id,t["\u0275nov"](l,9))}),(function(e,l){var n=l.component;e(l,3,0,t["\u0275unv"](l,3,0,t["\u0275nov"](l,4).transform("VPN.STATUS.PANEL_TITLE_FULL"))),e(l,6,0,null==n._configObj?null:n._configObj._fwcObjName)}))}function Y(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,24,"tr",[],null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,2,"th",[],null,null,null,null,null)),(e()(),t["\u0275ted"](2,null,["",""])),t["\u0275pid"](131072,i.k,[i.l,t.ChangeDetectorRef]),(e()(),t["\u0275eld"](4,0,null,null,2,"th",[],null,null,null,null,null)),(e()(),t["\u0275ted"](5,null,["",""])),t["\u0275pid"](131072,i.k,[i.l,t.ChangeDetectorRef]),(e()(),t["\u0275eld"](7,0,null,null,5,"th",[["pSortableColumn","bytesReceived"]],[[2,"ui-sortable-column",null],[2,"ui-state-highlight",null],[1,"tabindex",0]],[[null,"click"],[null,"keydown.enter"]],(function(e,l,n){var i=!0;return"click"===l&&(i=!1!==t["\u0275nov"](e,8).onClick(n)&&i),"keydown.enter"===l&&(i=!1!==t["\u0275nov"](e,8).onEnterKey(n)&&i),i}),null,null)),t["\u0275did"](8,212992,null,0,r.SortableColumn,[r.Table],{field:[0,"field"]},null),(e()(),t["\u0275ted"](9,null,[" "," "])),t["\u0275pid"](131072,i.k,[i.l,t.ChangeDetectorRef]),(e()(),t["\u0275eld"](11,0,null,null,1,"p-sortIcon",[["field","bytesReceived"]],null,null,null,u.e,u.b)),t["\u0275did"](12,245760,null,0,r.SortIcon,[r.Table],{field:[0,"field"]},null),(e()(),t["\u0275eld"](13,0,null,null,5,"th",[["pSortableColumn","bytesSent"]],[[2,"ui-sortable-column",null],[2,"ui-state-highlight",null],[1,"tabindex",0]],[[null,"click"],[null,"keydown.enter"]],(function(e,l,n){var i=!0;return"click"===l&&(i=!1!==t["\u0275nov"](e,14).onClick(n)&&i),"keydown.enter"===l&&(i=!1!==t["\u0275nov"](e,14).onEnterKey(n)&&i),i}),null,null)),t["\u0275did"](14,212992,null,0,r.SortableColumn,[r.Table],{field:[0,"field"]},null),(e()(),t["\u0275ted"](15,null,[" "," "])),t["\u0275pid"](131072,i.k,[i.l,t.ChangeDetectorRef]),(e()(),t["\u0275eld"](17,0,null,null,1,"p-sortIcon",[["field","bytesSent"]],null,null,null,u.e,u.b)),t["\u0275did"](18,245760,null,0,r.SortIcon,[r.Table],{field:[0,"field"]},null),(e()(),t["\u0275eld"](19,0,null,null,5,"th",[["pSortableColumn","connectedSince"]],[[2,"ui-sortable-column",null],[2,"ui-state-highlight",null],[1,"tabindex",0]],[[null,"click"],[null,"keydown.enter"]],(function(e,l,n){var i=!0;return"click"===l&&(i=!1!==t["\u0275nov"](e,20).onClick(n)&&i),"keydown.enter"===l&&(i=!1!==t["\u0275nov"](e,20).onEnterKey(n)&&i),i}),null,null)),t["\u0275did"](20,212992,null,0,r.SortableColumn,[r.Table],{field:[0,"field"]},null),(e()(),t["\u0275ted"](21,null,[" "," "])),t["\u0275pid"](131072,i.k,[i.l,t.ChangeDetectorRef]),(e()(),t["\u0275eld"](23,0,null,null,1,"p-sortIcon",[["field","connectedSince"]],null,null,null,u.e,u.b)),t["\u0275did"](24,245760,null,0,r.SortIcon,[r.Table],{field:[0,"field"]},null)],(function(e,l){e(l,8,0,"bytesReceived"),e(l,12,0,"bytesReceived"),e(l,14,0,"bytesSent"),e(l,18,0,"bytesSent"),e(l,20,0,"connectedSince"),e(l,24,0,"connectedSince")}),(function(e,l){e(l,2,0,t["\u0275unv"](l,2,0,t["\u0275nov"](l,3).transform("VPN.STATUS.FIELDS.CN"))),e(l,5,0,t["\u0275unv"](l,5,0,t["\u0275nov"](l,6).transform("VPN.STATUS.FIELDS.REAL_ADDRESS"))),e(l,7,0,t["\u0275nov"](l,8).isEnabled(),t["\u0275nov"](l,8).sorted,t["\u0275nov"](l,8).isEnabled()?"0":null),e(l,9,0,t["\u0275unv"](l,9,0,t["\u0275nov"](l,10).transform("VPN.STATUS.FIELDS.BYTES_RECEIVED"))),e(l,13,0,t["\u0275nov"](l,14).isEnabled(),t["\u0275nov"](l,14).sorted,t["\u0275nov"](l,14).isEnabled()?"0":null),e(l,15,0,t["\u0275unv"](l,15,0,t["\u0275nov"](l,16).transform("VPN.STATUS.FIELDS.BYTES_SENT"))),e(l,19,0,t["\u0275nov"](l,20).isEnabled(),t["\u0275nov"](l,20).sorted,t["\u0275nov"](l,20).isEnabled()?"0":null),e(l,21,0,t["\u0275unv"](l,21,0,t["\u0275nov"](l,22).transform("VPN.STATUS.FIELDS.CONNECTED_SINCE")))}))}function X(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,14,"tr",[],[[2,"ui-selectable-row",null],[2,"ui-state-highlight",null],[1,"tabindex",0]],[[null,"click"],[null,"touchend"],[null,"keydown"]],(function(e,l,n){var i=!0;return"click"===l&&(i=!1!==t["\u0275nov"](e,1).onClick(n)&&i),"touchend"===l&&(i=!1!==t["\u0275nov"](e,1).onTouchEnd(n)&&i),"keydown"===l&&(i=!1!==t["\u0275nov"](e,1).onKeyDown(n)&&i),i}),null,null)),t["\u0275did"](1,212992,null,0,r.SelectableRow,[r.Table,r.TableService],{data:[0,"data"]},null),(e()(),t["\u0275eld"](2,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),t["\u0275ted"](3,null,["",""])),(e()(),t["\u0275eld"](4,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),t["\u0275ted"](5,null,["",""])),(e()(),t["\u0275eld"](6,0,null,null,2,"td",[["style","text-align: right"]],null,null,null,null,null)),(e()(),t["\u0275ted"](7,null,["",""])),t["\u0275ppd"](8,1),(e()(),t["\u0275eld"](9,0,null,null,2,"td",[["style","text-align: right"]],null,null,null,null,null)),(e()(),t["\u0275ted"](10,null,["",""])),t["\u0275ppd"](11,1),(e()(),t["\u0275eld"](12,0,null,null,2,"td",[],null,null,null,null,null)),(e()(),t["\u0275ted"](13,null,[" "," "])),t["\u0275ppd"](14,2)],(function(e,l){e(l,1,0,l.context.$implicit)}),(function(e,l){e(l,0,0,t["\u0275nov"](l,1).isEnabled(),t["\u0275nov"](l,1).selected,t["\u0275nov"](l,1).isEnabled()?0:void 0),e(l,3,0,l.context.$implicit.cn),e(l,5,0,l.context.$implicit.realAddress);var n=t["\u0275unv"](l,7,0,e(l,8,0,t["\u0275nov"](l.parent.parent,1),l.context.$implicit.bytesReceived));e(l,7,0,n);var i=t["\u0275unv"](l,10,0,e(l,11,0,t["\u0275nov"](l.parent.parent,1),l.context.$implicit.bytesSent));e(l,10,0,i);var a=t["\u0275unv"](l,13,0,e(l,14,0,t["\u0275nov"](l.parent.parent,0),l.context.$implicit.connectedSince,"d/M/y hh:mm"));e(l,13,0,a)}))}function q(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,1,"p-messages",[],null,null,null,d.b,d.a)),t["\u0275did"](2,245760,null,0,c.Messages,[[2,p.MessageService]],{value:[0,"value"],closable:[1,"closable"]},null)],(function(e,l){e(l,2,0,l.component.msgNoData,!1)}),null)}function z(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,54,"div",[["class","ui-g-7 divVpnStatusMain-table"]],null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,42,"p-toolbar",[["styleClass","tbrHighlighted"]],null,null,null,g,m)),t["\u0275did"](2,49152,null,0,f.Toolbar,[t.ElementRef],{styleClass:[0,"styleClass"]},null),(e()(),t["\u0275eld"](3,0,null,0,4,"div",[["class","ui-toolbar-group-left"]],null,null,null,null,null)),(e()(),t["\u0275eld"](4,0,null,null,3,"span",[["class","fwcBlue"]],null,null,null,null,null)),(e()(),t["\u0275eld"](5,0,null,null,0,"i",[["class","fa fa-fw fa-desktop fwcOrange"]],null,null,null,null,null)),(e()(),t["\u0275ted"](6,null,[" ",""])),t["\u0275pid"](131072,i.k,[i.l,t.ChangeDetectorRef]),(e()(),t["\u0275eld"](8,0,null,0,35,"div",[["class","ui-toolbar-group-right"]],null,null,null,null,null)),(e()(),t["\u0275eld"](9,0,null,null,3,"span",[],null,null,null,null,null)),(e()(),t["\u0275eld"](10,0,null,null,2,"strong",[],null,null,null,null,null)),(e()(),t["\u0275ted"](11,null,["",""])),t["\u0275ppd"](12,2),(e()(),t["\u0275eld"](13,0,null,null,0,"span",[["class","fwcSepShort"]],null,null,null,null,null)),(e()(),t["\u0275eld"](14,0,null,null,29,"div",[["class","divVpnStatusMain-buttons"]],null,null,null,null,null)),(e()(),t["\u0275eld"](15,0,null,null,3,"p-splitButton",[["appendTo","body"],["icon","fa fa-refresh"],["showDelay","700"],["tooltipPosition","bottom"]],null,[[null,"onClick"]],(function(e,l,n){var t=!0;return"onClick"===l&&(t=!1!==e.component.onVpnStatusDataRefresh()&&t),t}),N,I)),t["\u0275did"](16,4341760,null,0,T.Tooltip,[t.ElementRef,t.NgZone],{tooltipPosition:[0,"tooltipPosition"],appendTo:[1,"appendTo"],showDelay:[2,"showDelay"],text:[3,"text"]},null),t["\u0275pid"](131072,i.k,[i.l,t.ChangeDetectorRef]),t["\u0275did"](18,180224,null,0,h.SplitButton,[t.ElementRef,t.Renderer2,v.Router,t.ChangeDetectorRef],{model:[0,"model"],icon:[1,"icon"],appendTo:[2,"appendTo"]},{onClick:"onClick"}),(e()(),t["\u0275eld"](19,0,null,null,6,"button",[["class","ui-button-success"],["icon","fa fa-search"],["pButton",""],["showDelay","700"],["tooltipPosition","bottom"],["type","button"]],null,[[null,"click"]],(function(e,l,n){var i=!0;return"click"===l&&(e.component.vpnClientsDataShowFilter=!0,i=!1!==t["\u0275nov"](e,26).focus()&&i),i}),null,null)),t["\u0275prd"](512,null,s["\u0275NgStyleImpl"],s["\u0275NgStyleR2Impl"],[t.ElementRef,t.KeyValueDiffers,t.Renderer2]),t["\u0275did"](21,278528,null,0,s.NgStyle,[s["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](22,{display:0}),t["\u0275did"](23,4341760,null,0,_.ButtonDirective,[t.ElementRef],{icon:[0,"icon"]},null),t["\u0275did"](24,4341760,null,0,T.Tooltip,[t.ElementRef,t.NgZone],{tooltipPosition:[0,"tooltipPosition"],showDelay:[1,"showDelay"],text:[2,"text"]},null),t["\u0275pid"](131072,i.k,[i.l,t.ChangeDetectorRef]),(e()(),t["\u0275eld"](26,0,[["inputSearch",1]],null,10,"input",[["pInputText",""],["type","text"]],[[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,l,n){var i=!0,a=e.component;return"input"===l&&(i=!1!==t["\u0275nov"](e,30)._handleInput(n.target.value)&&i),"blur"===l&&(i=!1!==t["\u0275nov"](e,30).onTouched()&&i),"compositionstart"===l&&(i=!1!==t["\u0275nov"](e,30)._compositionStart()&&i),"compositionend"===l&&(i=!1!==t["\u0275nov"](e,30)._compositionEnd(n.target.value)&&i),"input"===l&&(i=!1!==t["\u0275nov"](e,35).onInput(n)&&i),"ngModelChange"===l&&(i=!1!==(a.vpnClientsDataFilter=n)&&i),"input"===l&&(i=!1!==t["\u0275nov"](e,46).filterGlobal(a.vpnClientsDataFilter,"contains")&&i),i}),null,null)),t["\u0275prd"](512,null,s["\u0275NgStyleImpl"],s["\u0275NgStyleR2Impl"],[t.ElementRef,t.KeyValueDiffers,t.Renderer2]),t["\u0275did"](28,278528,null,0,s.NgStyle,[s["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](29,{display:0}),t["\u0275did"](30,16384,null,0,y.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,y.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,y.NG_VALUE_ACCESSOR,(function(e){return[e]}),[y.DefaultValueAccessor]),t["\u0275did"](32,671744,null,0,y.NgModel,[[8,null],[8,null],[8,null],[6,y.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,y.NgControl,null,[y.NgModel]),t["\u0275did"](34,16384,null,0,y.NgControlStatus,[[4,y.NgControl]],null,null),t["\u0275did"](35,278528,null,0,P.InputText,[t.ElementRef,[2,y.NgModel]],null,null),t["\u0275pid"](131072,i.k,[i.l,t.ChangeDetectorRef]),(e()(),t["\u0275eld"](37,0,null,null,6,"button",[["class","ui-button-warning"],["icon","fa fa-close"],["pButton",""],["showDelay","700"],["tooltipPosition","bottom"],["type","button"]],null,[[null,"click"]],(function(e,l,n){var i=!0,a=e.component;return"click"===l&&(a.vpnClientsDataShowFilter=!1,a.vpnClientsDataFilter="",i=!1!==t["\u0275nov"](e,46).reset()&&i),i}),null,null)),t["\u0275prd"](512,null,s["\u0275NgStyleImpl"],s["\u0275NgStyleR2Impl"],[t.ElementRef,t.KeyValueDiffers,t.Renderer2]),t["\u0275did"](39,278528,null,0,s.NgStyle,[s["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](40,{display:0}),t["\u0275did"](41,4341760,null,0,_.ButtonDirective,[t.ElementRef],{icon:[0,"icon"]},null),t["\u0275did"](42,4341760,null,0,T.Tooltip,[t.ElementRef,t.NgZone],{tooltipPosition:[0,"tooltipPosition"],showDelay:[1,"showDelay"],text:[2,"text"]},null),t["\u0275pid"](131072,i.k,[i.l,t.ChangeDetectorRef]),(e()(),t["\u0275eld"](44,0,null,null,8,"p-table",[["selectionMode","single"],["styleClass","optionsTable"]],null,[[null,"selectionChange"],[null,"onRowSelect"],[null,"onRowUnselect"]],(function(e,l,n){var t=!0,i=e.component;return"selectionChange"===l&&(t=!1!==(i.vpnClientSelected=n)&&t),"onRowSelect"===l&&(t=!1!==i.onVpnClientSelect(n)&&t),"onRowUnselect"===l&&(t=!1!==i.onVpnClientSelect(n)&&t),t}),u.f,u.c)),t["\u0275prd"](512,null,r.TableService,r.TableService,[]),t["\u0275did"](46,5488640,[["tabVpnStatusTable",4]],1,r.Table,[t.ElementRef,t.NgZone,r.TableService,t.ChangeDetectorRef],{styleClass:[0,"styleClass"],selectionMode:[1,"selectionMode"],globalFilterFields:[2,"globalFilterFields"],responsive:[3,"responsive"],value:[4,"value"],selection:[5,"selection"]},{selectionChange:"selectionChange",onRowSelect:"onRowSelect",onRowUnselect:"onRowUnselect"}),t["\u0275qud"](603979776,1,{templates:1}),t["\u0275pad"](48,2),(e()(),t["\u0275and"](0,null,null,1,null,Y)),t["\u0275did"](50,16384,[[1,4]],0,D.PrimeTemplate,[t.TemplateRef],{name:[0,"name"]},null),(e()(),t["\u0275and"](0,null,null,1,null,X)),t["\u0275did"](52,16384,[[1,4]],0,D.PrimeTemplate,[t.TemplateRef],{name:[0,"name"]},null),(e()(),t["\u0275and"](16777216,null,null,1,null,q)),t["\u0275did"](54,16384,null,0,s.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(e,l){var n=l.component;e(l,2,0,"tbrHighlighted"),e(l,16,0,"bottom","body","700",t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](l,16,3,t["\u0275nov"](l,17).transform("VPN.STATUS.BUTTONS.UPDATE")),"")),e(l,18,0,n.refreshMenuItems,"fa fa-refresh","body");var i=e(l,22,0,n.vpnClientsDataShowFilter?"none":"inline");e(l,21,0,i),e(l,23,0,"fa fa-search"),e(l,24,0,"bottom","700",t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](l,24,2,t["\u0275nov"](l,25).transform("VPN.STATUS.BUTTONS.SEARCH")),""));var a=e(l,29,0,n.vpnClientsDataShowFilter?"inline":"none");e(l,28,0,a),e(l,32,0,n.vpnClientsDataFilter),e(l,35,0);var o=e(l,40,0,n.vpnClientsDataShowFilter?"inline":"none");e(l,39,0,o),e(l,41,0,"fa fa-close"),e(l,42,0,"bottom","700",t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](l,42,2,t["\u0275nov"](l,43).transform("VPN.STATUS.BUTTONS.CLEAR_SEARCH")),""));var s=e(l,48,0,"cn","realAddress");e(l,46,0,"optionsTable","single",s,!0,n.vpnClientsData,n.vpnClientSelected),e(l,50,0,"header"),e(l,52,0,"body"),e(l,54,0,n.vpnClientsData&&!n.vpnClientsData.length)}),(function(e,l){var n=l.component;e(l,6,0,t["\u0275unv"](l,6,0,t["\u0275nov"](l,7).transform("VPN.STATUS.FIELDS.CLIENTS")));var i=t["\u0275unv"](l,11,0,e(l,12,0,t["\u0275nov"](l.parent,0),n.vpnStatusUpdated,"d/M/y HH:mm:ss"));e(l,11,0,i),e(l,26,1,[t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](l,26,0,t["\u0275nov"](l,36).transform("VPN.STATUS.SEARCH")),""),t["\u0275nov"](l,34).ngClassUntouched,t["\u0275nov"](l,34).ngClassTouched,t["\u0275nov"](l,34).ngClassPristine,t["\u0275nov"](l,34).ngClassDirty,t["\u0275nov"](l,34).ngClassValid,t["\u0275nov"](l,34).ngClassInvalid,t["\u0275nov"](l,34).ngClassPending,!0,!0,!0,!0,t["\u0275nov"](l,35).filled])}))}function Q(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,29,"div",[["class","divVpnStatusMain-totals"]],null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,8,"div",[["class","ui-g-4"]],null,null,null,null,null)),(e()(),t["\u0275eld"](2,0,null,null,7,"div",[["class","divVpnStatusMain-card2 fwcOrangeBg"]],null,null,null,null,null)),(e()(),t["\u0275eld"](3,0,null,null,1,"div",[["class","card2-value"]],null,null,null,null,null)),(e()(),t["\u0275ted"](4,null,[" "," "])),(e()(),t["\u0275eld"](5,0,null,null,4,"div",[["class","card2-text"]],null,null,null,null,null)),(e()(),t["\u0275eld"](6,0,null,null,3,"span",[],null,null,null,null,null)),(e()(),t["\u0275eld"](7,0,null,null,0,"i",[["class","fa fw fa-desktop"]],null,null,null,null,null)),(e()(),t["\u0275ted"](8,null,[" ",""])),t["\u0275pid"](131072,i.k,[i.l,t.ChangeDetectorRef]),(e()(),t["\u0275eld"](10,0,null,null,9,"div",[["class","ui-g-4"]],null,null,null,null,null)),(e()(),t["\u0275eld"](11,0,null,null,8,"div",[["class","divVpnStatusMain-card2 fwcBlueBg"]],null,null,null,null,null)),(e()(),t["\u0275eld"](12,0,null,null,2,"div",[["class","card2-value"]],null,null,null,null,null)),(e()(),t["\u0275ted"](13,null,[" "," "])),t["\u0275ppd"](14,2),(e()(),t["\u0275eld"](15,0,null,null,4,"div",[["class","card2-text"]],null,null,null,null,null)),(e()(),t["\u0275eld"](16,0,null,null,3,"span",[],null,null,null,null,null)),(e()(),t["\u0275eld"](17,0,null,null,0,"i",[["class","fa fw fa-download"]],null,null,null,null,null)),(e()(),t["\u0275ted"](18,null,[" ",""])),t["\u0275pid"](131072,i.k,[i.l,t.ChangeDetectorRef]),(e()(),t["\u0275eld"](20,0,null,null,9,"div",[["class","ui-g-4"]],null,null,null,null,null)),(e()(),t["\u0275eld"](21,0,null,null,8,"div",[["class","divVpnStatusMain-card2 fwcGreenBg"]],null,null,null,null,null)),(e()(),t["\u0275eld"](22,0,null,null,2,"div",[["class","card2-value"]],null,null,null,null,null)),(e()(),t["\u0275ted"](23,null,[" "," "])),t["\u0275ppd"](24,2),(e()(),t["\u0275eld"](25,0,null,null,4,"div",[["class","card2-text"]],null,null,null,null,null)),(e()(),t["\u0275eld"](26,0,null,null,3,"span",[],null,null,null,null,null)),(e()(),t["\u0275eld"](27,0,null,null,0,"i",[["class","fa fw fa-upload"]],null,null,null,null,null)),(e()(),t["\u0275ted"](28,null,[" ",""])),t["\u0275pid"](131072,i.k,[i.l,t.ChangeDetectorRef])],null,(function(e,l){var n=l.component;e(l,4,0,n.vpnClientsChartDataTotals.clientsConnected),e(l,8,0,t["\u0275unv"](l,8,0,t["\u0275nov"](l,9).transform("VPN.STATUS.FIELDS.CLIENTS")));var i=t["\u0275unv"](l,13,0,e(l,14,0,t["\u0275nov"](l.parent.parent,1),n.vpnClientsChartDataTotals.bytesReceived,".0-0"));e(l,13,0,i),e(l,18,0,t["\u0275unv"](l,18,0,t["\u0275nov"](l,19).transform("VPN.STATUS.FIELDS.BYTES_RECEIVED")));var a=t["\u0275unv"](l,23,0,e(l,24,0,t["\u0275nov"](l.parent.parent,1),n.vpnClientsChartDataTotals.bytesSent,".0-0"));e(l,23,0,a),e(l,28,0,t["\u0275unv"](l,28,0,t["\u0275nov"](l,29).transform("VPN.STATUS.FIELDS.BYTES_SENT")))}))}function Z(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,18,"div",[["class","ui-g-5 divVpnStatusMain-data"]],null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,6,"p-toolbar",[["styleClass","tbrHighlighted"]],null,null,null,g,m)),t["\u0275did"](2,49152,null,0,f.Toolbar,[t.ElementRef],{styleClass:[0,"styleClass"]},null),(e()(),t["\u0275eld"](3,0,null,0,4,"div",[["class","ui-toolbar-group-left"]],null,null,null,null,null)),(e()(),t["\u0275eld"](4,0,null,null,3,"span",[["class","fwcBlue"]],null,null,null,null,null)),(e()(),t["\u0275eld"](5,0,null,null,0,"i",[["class","fa fa-fw fa-bar-chart fwcOrange"]],null,null,null,null,null)),(e()(),t["\u0275ted"](6,null,[" ",""])),t["\u0275pid"](131072,i.k,[i.l,t.ChangeDetectorRef]),(e()(),t["\u0275eld"](8,0,null,null,1,"p-chart",[["type","line"]],null,null,null,F,A)),t["\u0275did"](9,4374528,null,0,L.UIChart,[t.ElementRef],{type:[0,"type"],options:[1,"options"],data:[2,"data"]},null),(e()(),t["\u0275eld"](10,0,null,null,6,"p-toolbar",[["styleClass","tbrHighlighted"]],null,null,null,g,m)),t["\u0275did"](11,49152,null,0,f.Toolbar,[t.ElementRef],{styleClass:[0,"styleClass"]},null),(e()(),t["\u0275eld"](12,0,null,0,4,"div",[["class","ui-toolbar-group-left"]],null,null,null,null,null)),(e()(),t["\u0275eld"](13,0,null,null,3,"span",[["class","fwcBlue"]],null,null,null,null,null)),(e()(),t["\u0275eld"](14,0,null,null,0,"i",[["class","fa fa-fw fa-calculator fwcOrange"]],null,null,null,null,null)),(e()(),t["\u0275ted"](15,null,[" ",""])),t["\u0275pid"](131072,i.k,[i.l,t.ChangeDetectorRef]),(e()(),t["\u0275and"](16777216,null,null,1,null,Q)),t["\u0275did"](18,16384,null,0,s.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(e,l){var n=l.component;e(l,2,0,"tbrHighlighted"),e(l,9,0,"line",n.vpnClientsChartOptions,n.vpnClientsChartData),e(l,11,0,"tbrHighlighted"),e(l,18,0,n.vpnClientsChartDataTotals)}),(function(e,l){e(l,6,0,t["\u0275unv"](l,6,0,t["\u0275nov"](l,7).transform("VPN.STATUS.DATA_CONSUMPTION"))),e(l,15,0,t["\u0275unv"](l,15,0,t["\u0275nov"](l,16).transform("VPN.STATUS.TOTALS")))}))}function ee(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,7,"span",[["class","noselect"]],null,[[null,"dblclick"]],(function(e,l,n){var t=!0;return"dblclick"===l&&(t=!1!==e.component.onNodeSelect(e.context.$implicit)&&t),t}),null,null)),(e()(),t["\u0275eld"](1,0,null,null,1,"i",[["aria-hidden","true"]],[[8,"className",0]],null,null,null,null)),t["\u0275ppd"](2,1),(e()(),t["\u0275eld"](3,0,null,null,4,"span",[],null,null,null,null,null)),t["\u0275prd"](512,null,s["\u0275NgStyleImpl"],s["\u0275NgStyleR2Impl"],[t.ElementRef,t.KeyValueDiffers,t.Renderer2]),t["\u0275did"](5,278528,null,0,s.NgStyle,[s["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](6,{"font-weight":0}),(e()(),t["\u0275ted"](7,null,[" "," "]))],(function(e,l){var n=e(l,6,0,l.context.$implicit.selectable?"normal":"bold");e(l,5,0,n)}),(function(e,l){var n=t["\u0275inlineInterpolate"](1,"fwcTreeIcon ",t["\u0275unv"](l,1,0,e(l,2,0,t["\u0275nov"](l.parent,2),null==l.context.$implicit.data?null:l.context.$implicit.data.object_type)),"");e(l,1,0,n),e(l,7,0,l.context.$implicit.label)}))}function le(e){return t["\u0275vid"](0,[t["\u0275pid"](0,s.DatePipe,[t.LOCALE_ID]),t["\u0275pid"](0,s.DecimalPipe,[t.LOCALE_ID]),t["\u0275pid"](0,M.a,[]),(e()(),t["\u0275eld"](3,0,null,null,13,"div",[["class","ui-g ui-g-nopad divVpnStatusMain"]],null,null,null,null,null)),t["\u0275prd"](512,null,s["\u0275NgStyleImpl"],s["\u0275NgStyleR2Impl"],[t.ElementRef,t.KeyValueDiffers,t.Renderer2]),t["\u0275did"](5,278528,null,0,s.NgStyle,[s["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](6,{"padding-top":0}),(e()(),t["\u0275and"](16777216,null,null,1,null,J)),t["\u0275did"](8,16384,null,0,s.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](16777216,null,null,1,null,$)),t["\u0275did"](10,16384,null,0,s.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](16777216,null,null,1,null,K)),t["\u0275did"](12,16384,null,0,s.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](16777216,null,null,1,null,z)),t["\u0275did"](14,16384,null,0,s.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](16777216,null,null,1,null,Z)),t["\u0275did"](16,16384,null,0,s.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275eld"](17,0,null,null,30,"p-dialog",[["styleClass","dlgFwcDialog dlgFwcDialog--small"]],null,[[null,"visibleChange"],[null,"onHide"]],(function(e,l,n){var t=!0,i=e.component;return"visibleChange"===l&&(t=!1!==(i.displaySelectDialog=n)&&t),"onHide"===l&&(t=!1!==i.onSelectHide(n)&&t),t}),j.b,j.a)),t["\u0275did"](18,180224,null,2,V.Dialog,[t.ElementRef,t.Renderer2,t.NgZone],{visible:[0,"visible"],resizable:[1,"resizable"],modal:[2,"modal"],closable:[3,"closable"],styleClass:[4,"styleClass"]},{onHide:"onHide",visibleChange:"visibleChange"}),t["\u0275qud"](603979776,2,{headerFacet:1}),t["\u0275qud"](603979776,3,{footerFacet:1}),(e()(),t["\u0275eld"](21,0,null,0,6,"p-header",[],null,null,null,x.d,x.b)),t["\u0275did"](22,49152,[[2,4]],0,D.Header,[],null,null),(e()(),t["\u0275eld"](23,0,null,0,4,"div",[["class","divFormHeader"]],null,null,null,null,null)),(e()(),t["\u0275eld"](24,0,null,null,3,"h6",[["class","fwcWhite fwcIconLeft"]],null,null,null,null,null)),(e()(),t["\u0275eld"](25,0,null,null,0,"i",[["class","fwcMenuIcon fwci-firewalls fwcOrange"]],null,null,null,null,null)),(e()(),t["\u0275ted"](26,null,[" ",""])),t["\u0275pid"](131072,i.k,[i.l,t.ChangeDetectorRef]),(e()(),t["\u0275eld"](28,0,null,1,11,"div",[["class","ui-g"]],null,null,null,null,null)),(e()(),t["\u0275eld"](29,0,null,null,3,"div",[["class","ui-g-12"]],null,null,null,null,null)),(e()(),t["\u0275eld"](30,0,null,null,2,"p",[],null,null,null,null,null)),(e()(),t["\u0275ted"](31,null,["",""])),t["\u0275pid"](131072,i.k,[i.l,t.ChangeDetectorRef]),(e()(),t["\u0275eld"](33,0,null,null,6,"div",[["class","ui-g-12"]],null,null,null,null,null)),(e()(),t["\u0275eld"](34,0,null,null,5,"p-tree",[["selectionMode","single"],["styleClass","treeSelector"]],null,[[null,"selectionChange"]],(function(e,l,n){var t=!0;return"selectionChange"===l&&(t=!1!==(e.component.selectedNode=n)&&t),t}),B.b,B.a)),t["\u0275did"](35,1294336,null,1,k.Tree,[t.ElementRef,[2,U.TreeDragDropService]],{value:[0,"value"],selectionMode:[1,"selectionMode"],selection:[2,"selection"],style:[3,"style"],styleClass:[4,"styleClass"]},{selectionChange:"selectionChange"}),t["\u0275qud"](603979776,4,{templates:1}),t["\u0275pod"](37,{width:0,"max-height":1,overflow:2}),(e()(),t["\u0275and"](0,null,null,1,null,ee)),t["\u0275did"](39,16384,[[4,4]],0,D.PrimeTemplate,[t.TemplateRef],{name:[0,"name"]},null),(e()(),t["\u0275eld"](40,0,null,2,7,"p-footer",[],null,null,null,x.c,x.a)),t["\u0275did"](41,49152,[[3,4]],0,D.Footer,[],null,null),(e()(),t["\u0275eld"](42,0,null,0,2,"button",[["class","ui-button-success"],["icon","pi pi-check"],["pButton",""]],[[8,"disabled",0]],[[null,"click"]],(function(e,l,n){var t=!0,i=e.component;return"click"===l&&(t=!1!==i.onNodeSelect(i.selectedNode)&&t),t}),null,null)),t["\u0275did"](43,4341760,null,0,_.ButtonDirective,[t.ElementRef],{label:[0,"label"],icon:[1,"icon"]},null),t["\u0275pid"](131072,i.k,[i.l,t.ChangeDetectorRef]),(e()(),t["\u0275eld"](45,0,null,0,2,"button",[["class","ui-button-primary"],["icon","pi pi-times"],["pButton",""]],null,[[null,"click"]],(function(e,l,n){var t=!0;return"click"===l&&(t=!1!==e.component.onSelectCancel()&&t),t}),null,null)),t["\u0275did"](46,4341760,null,0,_.ButtonDirective,[t.ElementRef],{label:[0,"label"],icon:[1,"icon"]},null),t["\u0275pid"](131072,i.k,[i.l,t.ChangeDetectorRef])],(function(e,l){var n=l.component,i=e(l,6,0,n.showTitle?"1.7rem":"0");e(l,5,0,i),e(l,8,0,!n.vpnClientsData),e(l,10,0,n.loadingData),e(l,12,0,n.vpnClientsData&&n.showTitle),e(l,14,0,n.vpnClientsData),e(l,16,0,n.vpnClientsData),e(l,18,0,n.displaySelectDialog,!1,!!n.showTitle,!1,"dlgFwcDialog dlgFwcDialog--small");var a=n.clusterTreeNodes,o=n.selectedNode,s=e(l,37,0,"100%","20em","auto");e(l,35,0,a,"single",o,s,"treeSelector"),e(l,39,0,"default"),e(l,43,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](l,43,0,t["\u0275nov"](l,44).transform("GLOBALS.MSG_BUTTONS.SELECT")),""),"pi pi-check"),e(l,46,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](l,46,0,t["\u0275nov"](l,47).transform("GLOBALS.MSG_BUTTONS.CANCEL")),""),"pi pi-times")}),(function(e,l){var n=l.component;e(l,26,0,t["\u0275unv"](l,26,0,t["\u0275nov"](l,27).transform("VPN.STATUS.NODE_SELECT_DIALOG.TITLE"))),e(l,31,0,t["\u0275unv"](l,31,0,t["\u0275nov"](l,32).transform("VPN.STATUS.NODE_SELECT_DIALOG.TEXT"))),e(l,42,0,!n.selectedNode)}))}},c3Gj:function(e,l,n){"use strict";var t=n("8Y7J"),i=n("Ge8E"),a=n("EjV3"),o=n("SVse"),s=n("nxom"),r=n("m6j1"),u=n("ZQ90"),d=n("jkif"),c=n("qIZb"),p=t["\u0275crt"]({encapsulation:2,styles:[],data:{}});function f(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,6,"div",[["class","iui-scrollbar-vertical"]],null,[[null,"mousedown"]],(function(e,l,n){var t=!0;return"mousedown"===l&&(t=!1!==e.component.changeScrollPos(n)&&t),t}),null,null)),t["\u0275prd"](512,null,o["\u0275NgStyleImpl"],o["\u0275NgStyleR2Impl"],[t.ElementRef,t.KeyValueDiffers,t.Renderer2]),t["\u0275did"](2,278528,null,0,o.NgStyle,[o["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),(e()(),t["\u0275eld"](3,0,null,null,3,"div",[["class","iui-scroll-button-thumb-vertical"]],null,[[null,"mousedown"]],(function(e,l,n){var t=!0;return"mousedown"===l&&(t=!1!==e.component.thumbMouseDown(n)&&t),t}),null,null)),t["\u0275prd"](512,null,o["\u0275NgStyleImpl"],o["\u0275NgStyleR2Impl"],[t.ElementRef,t.KeyValueDiffers,t.Renderer2]),t["\u0275did"](5,278528,null,0,o.NgStyle,[o["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](6,{top:0,height:1})],(function(e,l){var n=l.component;e(l,2,0,n.getScrollBarStyle());var t=e(l,6,0,n.thumbPos.y+"px",n.thumbSize.height+"px");e(l,5,0,t)}),null)}function m(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,6,"div",[["class","iui-scrollbar-horizontal"]],null,[[null,"mousedown"]],(function(e,l,n){var t=!0;return"mousedown"===l&&(t=!1!==e.component.changeScrollPos(n)&&t),t}),null,null)),t["\u0275prd"](512,null,o["\u0275NgStyleImpl"],o["\u0275NgStyleR2Impl"],[t.ElementRef,t.KeyValueDiffers,t.Renderer2]),t["\u0275did"](2,278528,null,0,o.NgStyle,[o["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),(e()(),t["\u0275eld"](3,0,null,null,3,"div",[["class","iui-scroll-button-thumb-horizontal"]],null,[[null,"mousedown"]],(function(e,l,n){var t=!0;return"mousedown"===l&&(t=!1!==e.component.thumbMouseDown(n)&&t),t}),null,null)),t["\u0275prd"](512,null,o["\u0275NgStyleImpl"],o["\u0275NgStyleR2Impl"],[t.ElementRef,t.KeyValueDiffers,t.Renderer2]),t["\u0275did"](5,278528,null,0,o.NgStyle,[o["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](6,{left:0,width:1})],(function(e,l){var n=l.component;e(l,2,0,n.getScrollBarStyle());var t=e(l,6,0,n.thumbPos.x+"px",n.thumbSize.width+"px");e(l,5,0,t)}),null)}function g(e){return t["\u0275vid"](0,[(e()(),t["\u0275and"](16777216,null,null,1,null,f)),t["\u0275did"](1,16384,null,0,o.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](16777216,null,null,1,null,m)),t["\u0275did"](3,16384,null,0,o.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(e,l){var n=l.component;e(l,1,0,n.isVertical()),e(l,3,0,!n.isVertical())}),null)}var h=n("WLQa"),_=n("tjEg"),v=t["\u0275crt"]({encapsulation:2,styles:[],data:{}});function I(e){return t["\u0275vid"](0,[(e()(),t["\u0275and"](0,null,null,0))],null,null)}function S(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,2,"iui-treeitem",[],null,null,null,C,v)),t["\u0275prd"](512,null,h.IntegralUIDataService,h.IntegralUIDataService,[]),t["\u0275did"](2,6406144,[[5,4]],0,_.IntegralUITreeItem,[t.ElementRef,h.IntegralUIDataService,c.IntegralUICommonService,u.IntegralUIBaseService],{data:[0,"data"],enabled:[1,"enabled"],text:[2,"text"],items:[3,"items"],templateRef:[4,"templateRef"],expanded:[5,"expanded"]},null)],(function(e,l){e(l,2,0,l.context.$implicit,l.context.$implicit.enabled,l.context.$implicit.text,l.context.$implicit.items,l.component.templateRef,l.context.$implicit.expanded)}),null)}function C(e){return t["\u0275vid"](0,[t["\u0275qud"](402653184,1,{contentElem:0}),t["\u0275qud"](402653184,2,{dragElem:0}),t["\u0275qud"](402653184,3,{blockElem:0}),t["\u0275qud"](402653184,4,{expandBoxElem:0}),t["\u0275qud"](671088640,5,{contentList:1}),(e()(),t["\u0275eld"](5,0,null,null,24,"li",[],null,null,null,null,null)),t["\u0275prd"](512,null,o["\u0275NgClassImpl"],o["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](7,278528,null,0,o.NgClass,[o["\u0275NgClassImpl"]],{ngClass:[0,"ngClass"]},null),(e()(),t["\u0275eld"](8,0,[[1,0],["content",1]],null,13,"div",[],null,[[null,"dragover"],[null,"drop"]],(function(e,l,n){var t=!0,i=e.component;return"dragover"===l&&(t=!1!==i.itemDragOver(n)&&t),"drop"===l&&(t=!1!==i.itemDragDrop(n)&&t),t}),null,null)),t["\u0275prd"](512,null,o["\u0275NgClassImpl"],o["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](10,278528,null,0,o.NgClass,[o["\u0275NgClassImpl"]],{ngClass:[0,"ngClass"]},null),t["\u0275prd"](512,null,o["\u0275NgStyleImpl"],o["\u0275NgStyleR2Impl"],[t.ElementRef,t.KeyValueDiffers,t.Renderer2]),t["\u0275did"](12,278528,null,0,o.NgStyle,[o["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),(e()(),t["\u0275eld"](13,0,[[4,0],["expandBox",1]],null,2,"span",[],null,[[null,"mousedown"],[null,"touchstart"]],(function(e,l,n){var t=!0,i=e.component;return"mousedown"===l&&(t=!1!==i.onExpandBoxMouseDown(n)&&t),"mousedown"===l&&(t=!1!==i.onExpandBoxMouseUp(n)&&t),"touchstart"===l&&(t=!1!==i.onExpandBoxTouchStart(n)&&t),t}),null,null)),t["\u0275prd"](512,null,o["\u0275NgClassImpl"],o["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](15,278528,null,0,o.NgClass,[o["\u0275NgClassImpl"]],{ngClass:[0,"ngClass"]},null),(e()(),t["\u0275eld"](16,0,[[2,0],["dragElem",1]],null,5,"div",[["draggable","true"]],null,[[null,"click"],[null,"mousedown"],[null,"mouseup"],[null,"mouseenter"],[null,"mousemove"],[null,"mouseleave"],[null,"dragstart"],[null,"touchstart"]],(function(e,l,n){var t=!0,i=e.component;return"click"===l&&(t=!1!==i.onClick(n)&&t),"mousedown"===l&&(t=!1!==i.onMouseDown(n)&&t),"mouseup"===l&&(t=!1!==i.onMouseUp(n)&&t),"mouseenter"===l&&(t=!1!==i.onMouseEnter(n)&&t),"mousemove"===l&&(t=!1!==i.onMouseMove(n)&&t),"mouseleave"===l&&(t=!1!==i.onMouseLeave(n)&&t),"dragstart"===l&&(t=!1!==i.itemDragStart(n)&&t),"touchstart"===l&&(t=!1!==i.onTouchStart(n)&&t),t}),null,null)),t["\u0275prd"](512,null,o["\u0275NgStyleImpl"],o["\u0275NgStyleR2Impl"],[t.ElementRef,t.KeyValueDiffers,t.Renderer2]),t["\u0275did"](18,278528,null,0,o.NgStyle,[o["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](19,{display:0}),(e()(),t["\u0275and"](16777216,null,null,1,null,I)),t["\u0275did"](21,278528,null,0,o.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"],ngForTemplate:[1,"ngForTemplate"]},null),(e()(),t["\u0275eld"](22,0,[[3,0],["block",1]],null,7,"ul",[],null,null,null,null,null)),t["\u0275prd"](512,null,o["\u0275NgClassImpl"],o["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](24,278528,null,0,o.NgClass,[o["\u0275NgClassImpl"]],{ngClass:[0,"ngClass"]},null),t["\u0275prd"](512,null,o["\u0275NgStyleImpl"],o["\u0275NgStyleR2Impl"],[t.ElementRef,t.KeyValueDiffers,t.Renderer2]),t["\u0275did"](26,278528,null,0,o.NgStyle,[o["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](27,{height:0}),(e()(),t["\u0275and"](16777216,null,null,1,null,S)),t["\u0275did"](29,278528,null,0,o.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(e,l){var n=l.component;e(l,7,0,n.getControlClass()),e(l,10,0,n.getContentClass()),e(l,12,0,n.getControlStyle()),e(l,15,0,n.getExpandBoxClass());var t=e(l,19,0,0==n.getItemDisplayMode()?"inline-block":"block");e(l,18,0,t),e(l,21,0,n.templateData,n.templateRef),e(l,24,0,n.getBlockClass());var i=e(l,27,0,n.blockElemHeight);e(l,26,0,i),e(l,29,0,n.items)}),null)}var E=n("IOOi"),O=n("xhm7"),b=n("XOMR"),w=t["\u0275crt"]({encapsulation:2,styles:[],data:{}});function R(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,[[4,0],["itemElem",1]],null,21,"li",[],null,[[null,"mouseenter"],[null,"mouseleave"],[null,"mousedown"],[null,"mouseup"],[null,"dragover"],[null,"drop"],[null,"touchstart"],[null,"touchmove"],[null,"touchend"]],(function(e,l,n){var t=!0,i=e.component;return"mouseenter"===l&&(t=!1!==i.itemMouseEnter(n,e.context.$implicit)&&t),"mouseleave"===l&&(t=!1!==i.itemMouseLeave(n,e.context.$implicit)&&t),"mousedown"===l&&(t=!1!==i.itemMouseDown(n,e.context.$implicit)&&t),"mouseup"===l&&(t=!1!==i.itemMouseUp(n,e.context.$implicit)&&t),"dragover"===l&&(t=!1!==i.itemDragOver(n,e.context.$implicit,e.context.index)&&t),"drop"===l&&(t=!1!==i.itemDragDrop(n,e.context.$implicit)&&t),"touchstart"===l&&(t=!1!==i.itemTouchStart(n,e.context.$implicit)&&t),"touchmove"===l&&(t=!1!==i.itemTouchMove(n,e.context.$implicit)&&t),"touchend"===l&&(t=!1!==i.itemTouchEnd(n,e.context.$implicit)&&t),t}),null,null)),t["\u0275prd"](512,null,o["\u0275NgClassImpl"],o["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](2,278528,null,0,o.NgClass,[o["\u0275NgClassImpl"]],{ngClass:[0,"ngClass"]},null),t["\u0275prd"](512,null,o["\u0275NgStyleImpl"],o["\u0275NgStyleR2Impl"],[t.ElementRef,t.KeyValueDiffers,t.Renderer2]),t["\u0275did"](4,278528,null,0,o.NgStyle,[o["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),(e()(),t["\u0275eld"](5,0,null,null,16,"div",[],[[8,"tabIndex",0]],[[null,"focus"],[null,"blur"],[null,"keydown"],[null,"keypress"],[null,"keyup"]],(function(e,l,n){var t=!0,i=e.component;return"focus"===l&&(t=!1!==i.itemGotFocus(e.context.$implicit)&&t),"blur"===l&&(t=!1!==i.itemLostFocus(e.context.$implicit)&&t),"keydown"===l&&(t=!1!==i.itemKeyDown(n,e.context.$implicit)&&t),"keypress"===l&&(t=!1!==i.itemKeyPress(n,e.context.$implicit)&&t),"keyup"===l&&(t=!1!==i.itemKeyUp(n,e.context.$implicit)&&t),t}),null,null)),t["\u0275prd"](512,null,o["\u0275NgClassImpl"],o["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](7,278528,null,0,o.NgClass,[o["\u0275NgClassImpl"]],{ngClass:[0,"ngClass"]},null),t["\u0275prd"](512,null,o["\u0275NgStyleImpl"],o["\u0275NgStyleR2Impl"],[t.ElementRef,t.KeyValueDiffers,t.Renderer2]),t["\u0275did"](9,278528,null,0,o.NgStyle,[o["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](10,{display:0}),t["\u0275did"](11,16384,null,0,u.IntegralUIFocus,[t.ElementRef],{settings:[0,"settings"]},null),(e()(),t["\u0275eld"](12,0,null,null,2,"span",[],null,[[null,"mousedown"],[null,"mouseup"],[null,"touchstart"],[null,"touchend"]],(function(e,l,n){var t=!0,i=e.component;return"mousedown"===l&&(t=!1!==i.expandBoxMouseDown(n,e.context.$implicit.data)&&t),"mouseup"===l&&(t=!1!==i.expandBoxMouseUp(n)&&t),"touchstart"===l&&(t=!1!==i.expandBoxTouchStart(n,e.context.$implicit.data)&&t),"touchend"===l&&(t=!1!==i.expandBoxTouchEnd(n)&&t),t}),null,null)),t["\u0275prd"](512,null,o["\u0275NgClassImpl"],o["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](14,278528,null,0,o.NgClass,[o["\u0275NgClassImpl"]],{ngClass:[0,"ngClass"]},null),(e()(),t["\u0275eld"](15,0,null,null,6,"div",[["draggable","true"]],null,[[null,"dragstart"],[null,"click"],[null,"dblclick"]],(function(e,l,n){var t=!0,i=e.component;return"dragstart"===l&&(t=!1!==i.itemDragStart(n,e.context.$implicit)&&t),"click"===l&&(t=!1!==i.itemClickEvent(n,e.context.$implicit)&&t),"dblclick"===l&&(t=!1!==i.itemDblClickEvent(n,e.context.$implicit)&&t),t}),null,null)),t["\u0275prd"](512,null,o["\u0275NgStyleImpl"],o["\u0275NgStyleR2Impl"],[t.ElementRef,t.KeyValueDiffers,t.Renderer2]),t["\u0275did"](17,278528,null,0,o.NgStyle,[o["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](18,{display:0}),(e()(),t["\u0275eld"](19,16777216,null,null,2,"span",[],null,null,null,null,null)),t["\u0275did"](20,671744,null,0,u.IntegralUITemplateOutlet,[t.ViewContainerRef],{iuiTemplateOutletContext:[0,"iuiTemplateOutletContext"],iuiTemplateOutlet:[1,"iuiTemplateOutlet"]},null),t["\u0275pod"](21,{$implicit:0})],(function(e,l){var n=l.component;e(l,2,0,l.context.$implicit.style.general),e(l,4,0,l.context.$implicit.inlineStyle),e(l,7,0,l.context.$implicit.style.content);var t=e(l,10,0,0==n.currentItemDisplay?"inline-block":"block");e(l,9,0,t),e(l,11,0,l.context.$implicit.data==n.currentFocusItem),e(l,14,0,l.context.$implicit.style.expandBox);var i=e(l,18,0,0==n.currentItemDisplay?"inline-block":"block");e(l,17,0,i);var a=e(l,21,0,l.context.$implicit.data);e(l,20,0,a,n.itemTemplate)}),(function(e,l){e(l,5,0,t["\u0275inlineInterpolate"](1,"",l.context.$implicit.tabIndex,""))}))}function N(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,1,"iui-scrollbar",[],null,[[null,"valueChanged"],[null,"scrollStart"],[null,"scrollEnd"],["document","mousemove"],["document","mouseup"]],(function(e,l,n){var i=!0,a=e.component;return"document:mousemove"===l&&(i=!1!==t["\u0275nov"](e,1).onWindowMouseMove(n)&&i),"document:mouseup"===l&&(i=!1!==t["\u0275nov"](e,1).onWindowMouseUp(n)&&i),"valueChanged"===l&&(i=!1!==a.onVerticalScrollChanged(n)&&i),"scrollStart"===l&&(i=!1!==a.onVerticalScrollStart(n)&&i),"scrollEnd"===l&&(i=!1!==a.onVerticalScrollEnd(n)&&i),i}),g,p)),t["\u0275did"](1,5488640,[[5,4],["verScroll",4]],0,d.IntegralUIScrollBar,[t.ElementRef,t.Renderer,c.IntegralUICommonService],{enabled:[0,"enabled"],height:[1,"height"],largeChange:[2,"largeChange"],max:[3,"max"],value:[4,"value"]},{scrollStart:"scrollStart",scrollEnd:"scrollEnd",valueChanged:"valueChanged"})],(function(e,l){var n=l.component;e(l,1,0,n.enabled,n.scrollBarSize.height,n.scrollLargeChange.y,n.maxScrollPos.y,n.currentScrollPos.y)}),null)}function T(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,1,"iui-scrollbar",[],null,[[null,"valueChanged"],[null,"scrollStart"],[null,"scrollEnd"],["document","mousemove"],["document","mouseup"]],(function(e,l,n){var i=!0,a=e.component;return"document:mousemove"===l&&(i=!1!==t["\u0275nov"](e,1).onWindowMouseMove(n)&&i),"document:mouseup"===l&&(i=!1!==t["\u0275nov"](e,1).onWindowMouseUp(n)&&i),"valueChanged"===l&&(i=!1!==a.onHorizontalScrollChanged(n)&&i),"scrollStart"===l&&(i=!1!==a.onHorizontalScrollStart(n)&&i),"scrollEnd"===l&&(i=!1!==a.onHorizontalScrollEnd(n)&&i),i}),g,p)),t["\u0275did"](1,5488640,[[6,4],["horScroll",4]],0,d.IntegralUIScrollBar,[t.ElementRef,t.Renderer,c.IntegralUICommonService],{enabled:[0,"enabled"],max:[1,"max"],orientation:[2,"orientation"],value:[3,"value"],width:[4,"width"]},{scrollStart:"scrollStart",scrollEnd:"scrollEnd",valueChanged:"valueChanged"})],(function(e,l){var n=l.component;e(l,1,0,n.enabled,n.maxScrollPos.x,n.horScrollOrientation,n.currentScrollPos.x,n.scrollBarSize.width)}),null)}function y(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,0,"div",[["class","iui-scrollbar-corner"],["style","position:absolute;right:0;bottom:0;width:16px;height:16px;"]],null,null,null,null,null))],null,null)}function P(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,12,"span",[],null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,5,"ul",[["style","margin:0;padding:0;"]],null,[[null,"touchstart"],[null,"touchend"]],(function(e,l,n){var t=!0,i=e.component;return"touchstart"===l&&(t=!1!==i.ctrlTouchStart(n)&&t),"touchend"===l&&(t=!1!==i.ctrlTouchEnd(n)&&t),t}),null,null)),t["\u0275prd"](512,null,o["\u0275NgStyleImpl"],o["\u0275NgStyleR2Impl"],[t.ElementRef,t.KeyValueDiffers,t.Renderer2]),t["\u0275did"](3,278528,null,0,o.NgStyle,[o["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](4,{width:0,height:1,"margin-left":2}),(e()(),t["\u0275and"](16777216,null,null,1,null,R)),t["\u0275did"](6,278528,null,0,o.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),t["\u0275and"](16777216,null,null,1,null,N)),t["\u0275did"](8,16384,null,0,o.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](16777216,null,null,1,null,T)),t["\u0275did"](10,16384,null,0,o.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](16777216,null,null,1,null,y)),t["\u0275did"](12,16384,null,0,o.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(e,l){var n=l.component,t=e(l,4,0,0==n.currentItemDisplay?"9999px":n.blockSize.width+"px",n.contentSize.height+"px",0-n.currentScrollPos.x+"px");e(l,3,0,t),e(l,6,0,n.scrollItemList),e(l,8,0,n.isVerScrollVisible()),e(l,10,0,n.isHorScrollVisible()),e(l,12,0,n.isVerScrollVisible()&&n.isHorScrollVisible())}),null)}function D(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,2,"iui-treeitem",[],null,null,null,C,v)),t["\u0275prd"](512,null,h.IntegralUIDataService,h.IntegralUIDataService,[]),t["\u0275did"](2,6406144,[[1,4]],0,_.IntegralUITreeItem,[t.ElementRef,h.IntegralUIDataService,c.IntegralUICommonService,u.IntegralUIBaseService],{data:[0,"data"],enabled:[1,"enabled"],text:[2,"text"],items:[3,"items"],templateRef:[4,"templateRef"]},null)],(function(e,l){e(l,2,0,l.context.$implicit,l.context.$implicit.enabled,l.context.$implicit.text,l.context.$implicit.items,l.component.itemTemplate)}),null)}function L(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,5,"span",[],null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,4,"ul",[["style","margin:0;padding:0;"]],null,null,null,null,null)),t["\u0275prd"](512,null,o["\u0275NgStyleImpl"],o["\u0275NgStyleR2Impl"],[t.ElementRef,t.KeyValueDiffers,t.Renderer2]),t["\u0275did"](3,278528,null,0,o.NgStyle,[o["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),(e()(),t["\u0275and"](16777216,null,null,1,null,D)),t["\u0275did"](5,278528,null,0,o.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(e,l){var n=l.component;e(l,3,0,n.getBlockStyle()),e(l,5,0,n.items)}),null)}function A(e){return t["\u0275vid"](0,[t["\u0275qud"](671088640,1,{contentList:1}),t["\u0275qud"](402653184,2,{contentRef:0}),t["\u0275qud"](402653184,3,{contentElem:0}),t["\u0275qud"](671088640,4,{itemElems:1}),t["\u0275qud"](671088640,5,{verScrollCmp:0}),t["\u0275qud"](671088640,6,{horScrollCmp:0}),(e()(),t["\u0275eld"](6,0,null,null,10,"div",[],null,[[null,"DOMMouseScroll"],[null,"mousewheel"],[null,"mouseenter"],[null,"mouseleave"],[null,"dragenter"],[null,"dragleave"],[null,"dragover"],[null,"drop"],[null,"dragend"],[null,"scroll"]],(function(e,l,n){var t=!0,i=e.component;return"DOMMouseScroll"===l&&(t=!1!==i.processMouseWheel(n)&&t),"mousewheel"===l&&(t=!1!==i.processMouseWheel(n)&&t),"mouseenter"===l&&(t=!1!==i.onCtrlMouseEnter(n)&&t),"mouseleave"===l&&(t=!1!==i.onCtrlMouseLeave(n)&&t),"dragenter"===l&&(t=!1!==i.ctrlDragEnter(n)&&t),"dragleave"===l&&(t=!1!==i.ctrlDragLeave(n)&&t),"dragover"===l&&(t=!1!==i.ctrlDragOver(n)&&t),"drop"===l&&(t=!1!==i.ctrlDragDrop(n)&&t),"dragend"===l&&(t=!1!==i.ctrlDragEnd(n)&&t),"scroll"===l&&(t=!1!==i.onScroll(n)&&t),t}),null,null)),t["\u0275prd"](512,null,o["\u0275NgClassImpl"],o["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](8,278528,null,0,o.NgClass,[o["\u0275NgClassImpl"]],{ngClass:[0,"ngClass"]},null),t["\u0275prd"](512,null,o["\u0275NgStyleImpl"],o["\u0275NgStyleR2Impl"],[t.ElementRef,t.KeyValueDiffers,t.Renderer2]),t["\u0275did"](10,278528,null,0,o.NgStyle,[o["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),(e()(),t["\u0275eld"](11,16777216,[[2,3],[3,0],["content",1]],null,5,"span",[],null,null,null,null,null)),t["\u0275did"](12,16384,null,0,o.NgSwitch,[],{ngSwitch:[0,"ngSwitch"]},null),(e()(),t["\u0275and"](16777216,null,null,1,null,P)),t["\u0275did"](14,278528,null,0,o.NgSwitchCase,[t.ViewContainerRef,t.TemplateRef,o.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),t["\u0275and"](16777216,null,null,1,null,L)),t["\u0275did"](16,16384,null,0,o.NgSwitchDefault,[t.ViewContainerRef,t.TemplateRef,o.NgSwitch],null,null)],(function(e,l){var n=l.component;e(l,8,0,n.getControlClass()),e(l,10,0,n.getControlStyle()),e(l,12,0,n.virtualMode),e(l,14,0,!0)}),null)}n("LwpX"),n("IheW"),n("w2nL"),n("PIn4"),n("P6hr"),n("zLlU"),n("AjHW"),n("H9gU"),n("Mebi"),n("77Y5"),n("U3yX"),n("XY+R"),n("oygf"),n("4Vzq"),n("yEB0"),n("2Rin"),n("sqqX"),n("36a9"),n("TSSN"),n.d(l,"a",(function(){return F})),n.d(l,"b",(function(){return $}));var F=t["\u0275crt"]({encapsulation:2,styles:[["div.fwcTree--item{margin-left:0;transition:all .3s}div.fwcTree--item *{pointer-events:none}div.fwcTree--item.fwcHighlightNode{margin-left:.2em;background-color:#c8e6c9!important;padding-right:8em}div.fwcTree--item.fwcSelectedPolicyNode span.fwc-label{font-weight:700!important}"]],data:{}});function M(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,3,"span",[],null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,2,"p-progressSpinner",[],null,null,null,i.b,i.a)),t["\u0275did"](2,49152,null,0,a.ProgressSpinner,[],{style:[0,"style"]},null),t["\u0275pod"](3,{width:0,height:1})],(function(e,l){var n=e(l,3,0,"1.4em","1.4em");e(l,2,0,n)}),null)}function j(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,[[2,0],["hintFirstTreeElement",1]],null,0,"i",[["aria-hidden","true"],["class","fwcTreeIcon fwci-clusters fwcDarkBlue"]],null,null,null,null,null))],null,null)}function V(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,2,"span",[["class","fwcBadgeFw fwcBadgeFw-C"]],null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),t["\u0275ted"](-1,null,["C"]))],null,null)}function x(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,2,"span",[["class","fwcBadgeFw fwcBadgeFw-I"]],null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),t["\u0275ted"](-1,null,["I"]))],null,null)}function B(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,2,"span",[["class","fwcBadgeFw fwcBadgeFw-I"]],null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),t["\u0275ted"](-1,null,["I"]))],null,null)}function k(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),t["\u0275ted"](1,null,["[","]"]))],null,(function(e,l){e(l,1,0,l.parent.context.$implicit.labelName)}))}function U(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),t["\u0275ted"](1,null,["(",")"]))],null,(function(e,l){e(l,1,0,l.parent.context.$implicit.address)}))}function G(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,1,"span",[["style","margin-left: 0.3em"]],null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-question-circle fwcOrange"]],null,[[null,"mouseenter"]],(function(e,l,n){var t=!0,i=e.component;return"mouseenter"===l&&(t=!1!==i.appHintService.showRegisteredHint(i.HintsIds.HINT_CA_CREATING,void 0,n)&&t),t}),null,null))],null,null)}function J(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,16777216,null,null,28,"div",[["class","fwcTree--item"]],[[8,"draggable",0]],[[null,"itemClick"],[null,"menuOpening"],[null,"click"],[null,"dblclick"],[null,"contextmenu"],[null,"dragstart"],[null,"mouseenter"],[null,"mouseleave"],[null,"wheel"],[null,"mousedown"]],(function(e,l,n){var i=!0,a=e.component;return"contextmenu"===l&&(i=!1!==t["\u0275nov"](e,4).onContextMenu(n)&&i),"mousedown"===l&&(i=!1!==t["\u0275nov"](e,4).onMouseDown(n)&&i),"itemClick"===l&&(i=!1!==a.onContextMenuHandler(n)&&i),"menuOpening"===l&&(i=!1!==a.onContextMenuLoad(n)&&i),"click"===l&&(i=!1!==a.onItemClickEvent(n)&&i),"dblclick"===l&&(i=!1!==a.onItemDblClickEvent(n)&&i),"click"===l&&(i=!1!==a.clearObjectInfo()&&i),"contextmenu"===l&&(i=!1!==a.clearObjectInfo()&&i),"dragstart"===l&&(i=!1!==a.onItemDragStart(e.context.$implicit,n)&&i),"mouseenter"===l&&(i=!1!==a.showObjectInfo(e.context.$implicit,n)&&i),"mouseleave"===l&&(i=!1!==a.clearObjectInfo(n)&&i),"wheel"===l&&(i=!1!==a.clearObjectInfo()&&i),i}),null,null)),t["\u0275prd"](512,null,o["\u0275NgClassImpl"],o["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](2,278528,null,0,o.NgClass,[o["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](3,{fwcHighlightNode:0,fwcSelectedPolicyNode:1}),t["\u0275did"](4,1196032,null,1,s.IntegralUIContextMenu,[t.ElementRef,t.ViewContainerRef,t.ComponentFactoryResolver],{settings:[0,"settings"],contextMenuRef:[1,"contextMenuRef"]},{itemClick:"itemClick",menuOpening:"menuOpening"}),t["\u0275qud"](603979776,4,{templates:1}),(e()(),t["\u0275and"](16777216,[[3,2]],null,1,null,M)),t["\u0275did"](7,16384,null,0,o.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275eld"](8,0,null,null,1,"i",[["aria-hidden","true"]],[[8,"className",0]],null,null,null,null)),t["\u0275ppd"](9,2),(e()(),t["\u0275and"](16777216,[[3,2]],null,1,null,j)),t["\u0275did"](11,16384,null,0,o.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](16777216,[[3,2]],null,1,null,V)),t["\u0275did"](13,16384,null,0,o.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](16777216,[[3,2]],null,1,null,x)),t["\u0275did"](15,16384,null,0,o.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](16777216,[[3,2]],null,1,null,B)),t["\u0275did"](17,16384,null,0,o.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275eld"](18,0,null,null,10,"span",[["class","fwc-label"]],null,null,null,null,null)),t["\u0275prd"](512,null,o["\u0275NgStyleImpl"],o["\u0275NgStyleR2Impl"],[t.ElementRef,t.KeyValueDiffers,t.Renderer2]),t["\u0275did"](20,278528,null,0,o.NgStyle,[o["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](21,{"font-weight":0,color:1,"margin-left":2}),(e()(),t["\u0275ted"](22,null,[" "," "])),(e()(),t["\u0275and"](16777216,[[3,2]],null,1,null,k)),t["\u0275did"](24,16384,null,0,o.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](16777216,[[3,2]],null,1,null,U)),t["\u0275did"](26,16384,null,0,o.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](16777216,[[3,2]],null,1,null,G)),t["\u0275did"](28,16384,null,0,o.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](0,null,null,0))],(function(e,l){var n=l.component,t=e(l,3,0,l.context.$implicit.id==n.highlightNodeId,l.context.$implicit.id==n.selectedPolicyNodeId);e(l,2,0,"fwcTree--item",t),e(l,4,0,n.treeContextMenu[l.context.$implicit.node_type]?n.treeContextMenu[l.context.$implicit.node_type]:n.treeContextMenu.NO_MENU,n.contextMenuReference),e(l,7,0,l.context.$implicit.obj_type==n.ObjectTypes.OBJ_CA&&l.context.$implicit._fwcCaStatus),e(l,11,0,"FDF"==l.context.$implicit.node_type),e(l,13,0,(l.context.$implicit.obj_type==n.ObjectTypes.OBJ_CLUSTER||l.context.$implicit.obj_type==n.ObjectTypes.OBJ_FIREWALL)&&l.context.$implicit.status_compiled),e(l,15,0,(l.context.$implicit.obj_type==n.ObjectTypes.OBJ_CLUSTER||l.context.$implicit.obj_type==n.ObjectTypes.OBJ_FIREWALL)&&l.context.$implicit.status_compiled||(l.context.$implicit.obj_type==n.ObjectTypes.OBJ_CLUSTER||l.context.$implicit.obj_type==n.ObjectTypes.OBJ_FIREWALL)&&!l.context.$implicit.status_compiled&&l.context.$implicit.status_installed),e(l,17,0,(l.context.$implicit.obj_type==n.ObjectTypes.OBJ_VPN_CONFIG_CLI||l.context.$implicit.obj_type==n.ObjectTypes.OBJ_VPN_CONFIG_SER)&&l.context.$implicit._fwcOpenvpnStatus);var i=e(l,21,0,null===l.context.$implicit._fwcObjId?"bold":"normal",null===l.context.$implicit.fwcloud&&null!==l.context.$implicit.id_obj?"#006ba7":"#222",l.context.$implicit.obj_type==n.ObjectTypes.OBJ_CLUSTER||l.context.$implicit.obj_type==n.ObjectTypes.OBJ_FIREWALL?"3px":"1px");e(l,20,0,i),e(l,24,0,l.context.$implicit.labelName&&""!==l.context.$implicit.labelName),e(l,26,0,l.context.$implicit.address&&""!==l.context.$implicit.address),e(l,28,0,l.context.$implicit.obj_type==n.ObjectTypes.OBJ_CA&&l.context.$implicit._fwcCaStatus)}),(function(e,l){e(l,0,0,l.context.$implicit.allowDrag);var n=t["\u0275inlineInterpolate"](1,"fwcTreeIcon ",t["\u0275unv"](l,8,0,e(l,9,0,t["\u0275nov"](l.parent,0),l.context.$implicit.obj_type,l.context.$implicit.node_type)),"");e(l,8,0,n),e(l,22,0,l.context.$implicit.text)}))}function $(e){return t["\u0275vid"](0,[t["\u0275pid"](0,r.a,[]),t["\u0275qud"](402653184,1,{treeview:0}),t["\u0275qud"](671088640,2,{hintFirstTreeElement:0}),(e()(),t["\u0275eld"](3,0,null,null,5,"iui-treeview",[],null,[[null,"afterExpand"],[null,"afterCollapse"],[null,"dragOver"],[null,"dragLeave"],[null,"dragDrop"],["document","keydown"],["document","keyup"]],(function(e,l,n){var i=!0,a=e.component;return"document:keydown"===l&&(i=!1!==t["\u0275nov"](e,6).onWindowKeyDown(n)&&i),"document:keyup"===l&&(i=!1!==t["\u0275nov"](e,6).onWindowKeyUp(n)&&i),"afterExpand"===l&&(i=!1!==a.setExpandedNodes(n,!0)&&i),"afterCollapse"===l&&(i=!1!==a.setExpandedNodes(n,!1)&&i),"dragOver"===l&&(i=!1!==a.onDragOver(n)&&i),"dragLeave"===l&&(i=!1!==a.onDragLeave(n)&&i),"dragDrop"===l&&(i=!1!==a.onDragDrop(n)&&i),i}),A,w)),t["\u0275prd"](512,null,h.IntegralUIDataService,h.IntegralUIDataService,[]),t["\u0275prd"](512,null,u.IntegralUIBaseService,u.IntegralUIBaseService,[]),t["\u0275did"](6,15974400,[[1,4]],1,E.IntegralUITreeView,[h.IntegralUIDataService,O.IntegralUIDragDropService,t.ElementRef,t.Renderer,c.IntegralUICommonService,b.IntegralUIFilterService,t.ComponentFactoryResolver,u.IntegralUIBaseService],{controlStyle:[0,"controlStyle"],allowDrag:[1,"allowDrag"],allowDrop:[2,"allowDrop"],allowFocus:[3,"allowFocus"],items:[4,"items"],virtualMode:[5,"virtualMode"],autoExpand:[6,"autoExpand"],itemDisplay:[7,"itemDisplay"]},{dragDrop:"dragDrop",dragLeave:"dragLeave",dragOver:"dragOver",afterCollapse:"afterCollapse",afterExpand:"afterExpand"}),t["\u0275qud"](603979776,3,{itemTemplate:0}),(e()(),t["\u0275and"](0,[[3,2]],null,0,null,J))],(function(e,l){var n=l.component;e(l,6,0,n.treeStyle,!0,!0,!0,n.items,!0,!(null!=n.options&&n.options.containerReadOnly),0)}),null)}},ePWF:function(e,l,n){"use strict";n.d(l,"a",(function(){return a}));var t=n("8Y7J"),i=n("EMdb");n("LwpX"),n("77Y5"),n("XY+R"),n("24Yq"),n("Tcav");class a{constructor(e,l,n,i,a){this.appOptionsService=e,this.fwcObjectTreeService=l,this.fwcErrorPipe=n,this.messageService=i,this.fwcUserService=a,this.objectSelected=new t.EventEmitter}set disabledObjects(e){this._disabledObjects=e,this.manageOptions(e)}ngOnInit(){let e=this.fwcUserService.getActualFwcUser(),l=Object.assign({},this.appOptionsService.optionsTreeFw),n=Object.assign({},this.appOptionsService.optionsTreeObj);l.user_id=n.user_id=e.user_id,l.fwcloud=n.fwcloud=e.selectedFwCloud,l.objStandard=n.objStandard=0,l.objCloud=n.objCloud=1,Promise.all([this.getTree(l,this.fwTreeNodes),this.getTree(n,this.objectTreeNodes)]).then(([e,l])=>{this.treeData=e.concat(l),this.manageOptions(this._disabledObjects)}).catch(e=>{e.error&&this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(e.error)})})}getTree(e,l){let n;return n=new Promise((n,t)=>{let i=[];Array.isArray(l)&&l.length?this.fwcObjectTreeService.getTree(e,e.fwcloud).subscribe(e=>{let t=e.data;if(Array.isArray(t.items)&&t.items.length)for(let n=0;n<t.items.length;n++){let e=t.items[n];-1==l.findIndex(l=>e.node_type==l)&&(t.items.splice(n,1),n-=1)}i=this.convertTree([t],l),n(i)},e=>{e.error&&this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(e.error)}),t(e)}):n([])}),n}convertTree(e,l,n){let t=[];return e.forEach(e=>{let a=-1!=l.findIndex(l=>e.node_type==l),o=-1!=this.selectableObjects.findIndex(l=>e.obj_type==l)&&null!==e.id_obj;if(e.node_type!=i.t.STANDARD&&a||!n){let i={label:e.text,data:{name:e.text,id_obj:e.id_obj,obj_type:e.obj_type,node_type:e.node_type},selectable:o,expanded:!n,children:[]};e.items&&e.items.length&&(i.children=this.convertTree(e.items,l,e)),t.push(i)}}),t}setOptionSelectable(e,l){let n=this.treeData.slice(0);if(null!=e){for(;n.length;){let t=n.shift();t.data&&t.data.id_obj==e&&(t.data.alreadySelected=!l,t.selectable=l),t.children&&t.children.length&&n.push(...t.children)}this.selectedObjectNode=null,this.selectedObjectName=""}}manageOptions(e){if(!this.treeData)return;let l=this.treeData.slice(0);for(;l.length;){let n=l.shift(),t=e.findIndex(e=>e.ipobj==n.data.id_obj);-1!=t&&(n.data.alreadySelected=!0,n.selectable=!1,e.splice(t,1)),n.children&&n.children.length&&l.push(...n.children)}this.selectedObjectNode=null,this.selectedObjectName=""}onSelectObjectNode(e){e&&e.selectable&&(this.selectedObjectName=e.label,this.treePanel&&this.treePanel.hide(),this.objectSelected.emit(e.data))}}},eiS1:function(e,l,n){"use strict";var t=n("8Y7J"),i=n("TSSN"),a=n("Ge8E"),o=n("EjV3"),s=n("nP3v"),r=n("WwML"),u=n("4Vzq"),d=n("wf45"),c=n("m6j1"),p=n("kp3z"),f=n("H9gU"),m=n("Mebi"),g=n("77Y5"),h=n("SVse"),_=n("AcEf"),v=n("T+K8"),I=n("s7LF"),S=n("2m6e"),C=n("quQV"),E=n("0VEr"),O=n("g/5Y"),b=n("7PmC"),w=n("IheW"),R=n("iiPk"),N=n("AjHW"),T=n("Fa87"),y=n("wmoJ"),P=n("pmWI"),D=n("VSng"),L=n("sP6A"),A=n("HQi4"),F=n("Meih"),M=n("SlyN"),j=n("B58V"),V=n("7LN8"),x=n("LwpX"),B=n("ePWF"),k=n("EMdb"),U=n("XY+R"),G=t["\u0275crt"]({encapsulation:2,styles:[[""]],data:{}});function J(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-check fwcGreen"]],null,null,null,null,null))],null,null)}function $(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,9,"span",[["class","noselect"]],null,[[null,"dblclick"]],(function(e,l,n){var t=!0;return"dblclick"===l&&(t=!1!==e.component.onSelectObjectNode(e.context.$implicit)&&t),t}),null,null)),(e()(),t["\u0275eld"](1,0,null,null,1,"i",[["aria-hidden","true"]],[[8,"className",0]],null,null,null,null)),t["\u0275ppd"](2,2),(e()(),t["\u0275eld"](3,0,null,null,6,"span",[],null,null,null,null,null)),t["\u0275prd"](512,null,h["\u0275NgStyleImpl"],h["\u0275NgStyleR2Impl"],[t.ElementRef,t.KeyValueDiffers,t.Renderer2]),t["\u0275did"](5,278528,null,0,h.NgStyle,[h["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](6,{"font-weight":0,"font-style":1}),(e()(),t["\u0275and"](16777216,null,null,1,null,J)),t["\u0275did"](8,16384,null,0,h.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275ted"](9,null,["\xa0"," "]))],(function(e,l){var n=e(l,6,0,l.context.$implicit.selectable||null!=l.context.$implicit.data&&l.context.$implicit.data.alreadySelected?"normal":"bold",null!=l.context.$implicit.data&&l.context.$implicit.data.alreadySelected?"italic":"normal");e(l,5,0,n),e(l,8,0,null==l.context.$implicit.data?null:l.context.$implicit.data.alreadySelected)}),(function(e,l){var n=t["\u0275inlineInterpolate"](1,"fwcTreeIcon ",t["\u0275unv"](l,1,0,e(l,2,0,t["\u0275nov"](l.parent,0),null==l.context.$implicit.data?null:l.context.$implicit.data.obj_type,null==l.context.$implicit.data?null:l.context.$implicit.data.node_type)),"");e(l,1,0,n),e(l,9,0,l.context.$implicit.label)}))}function W(e){return t["\u0275vid"](0,[t["\u0275pid"](0,c.a,[]),t["\u0275qud"](671088640,1,{treePanel:0}),(e()(),t["\u0275eld"](2,0,null,null,13,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(e()(),t["\u0275eld"](3,0,null,null,10,"span",[["class","ui-float-label"]],null,null,null,null,null)),(e()(),t["\u0275eld"](4,0,null,null,6,"input",[["disabled","true"],["name","_object_name"],["pInputText",""],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,l,n){var i=!0,a=e.component;return"input"===l&&(i=!1!==t["\u0275nov"](e,5)._handleInput(n.target.value)&&i),"blur"===l&&(i=!1!==t["\u0275nov"](e,5).onTouched()&&i),"compositionstart"===l&&(i=!1!==t["\u0275nov"](e,5)._compositionStart()&&i),"compositionend"===l&&(i=!1!==t["\u0275nov"](e,5)._compositionEnd(n.target.value)&&i),"input"===l&&(i=!1!==t["\u0275nov"](e,10).onInput(n)&&i),"ngModelChange"===l&&(i=!1!==(a.selectedObjectName=n)&&i),i}),null,null)),t["\u0275did"](5,16384,null,0,I.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,I.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,I.NG_VALUE_ACCESSOR,(function(e){return[e]}),[I.DefaultValueAccessor]),t["\u0275did"](7,671744,null,0,I.NgModel,[[8,null],[8,null],[8,null],[6,I.NG_VALUE_ACCESSOR]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,I.NgControl,null,[I.NgModel]),t["\u0275did"](9,16384,null,0,I.NgControlStatus,[[4,I.NgControl]],null,null),t["\u0275did"](10,278528,null,0,T.InputText,[t.ElementRef,[2,I.NgModel]],null,null),(e()(),t["\u0275eld"](11,0,null,null,2,"label",[["for","_object_name"]],null,null,null,null,null)),(e()(),t["\u0275ted"](12,null,["",""])),t["\u0275pid"](131072,i.k,[i.l,t.ChangeDetectorRef]),(e()(),t["\u0275eld"](14,0,null,null,1,"button",[["class","ui-button-secondary"],["icon","fa fa-search"],["pButton",""],["type","button"]],null,[[null,"click"]],(function(e,l,n){var i=!0;return"click"===l&&(i=!1!==t["\u0275nov"](e,17).toggle(n)&&i),i}),null,null)),t["\u0275did"](15,4341760,null,0,D.ButtonDirective,[t.ElementRef],{icon:[0,"icon"]},null),(e()(),t["\u0275eld"](16,0,null,null,15,"p-overlayPanel",[["appendTo","body"]],null,null,null,L.b,L.a)),t["\u0275did"](17,180224,[[1,4],["treePanel",4]],0,A.OverlayPanel,[t.ElementRef,t.Renderer2,t.ChangeDetectorRef,t.NgZone],{dismissable:[0,"dismissable"],appendTo:[1,"appendTo"]},null),(e()(),t["\u0275eld"](18,0,null,0,5,"p-tree",[["selectionMode","single"],["styleClass","treeSelector"]],null,[[null,"selectionChange"]],(function(e,l,n){var t=!0;return"selectionChange"===l&&(t=!1!==(e.component.selectedObjectNode=n)&&t),t}),F.b,F.a)),t["\u0275did"](19,1294336,null,1,M.Tree,[t.ElementRef,[2,j.TreeDragDropService]],{value:[0,"value"],selectionMode:[1,"selectionMode"],selection:[2,"selection"],style:[3,"style"],styleClass:[4,"styleClass"]},{selectionChange:"selectionChange"}),t["\u0275qud"](603979776,2,{templates:1}),t["\u0275pod"](21,{"max-height":0,overflow:1}),(e()(),t["\u0275and"](0,null,null,1,null,$)),t["\u0275did"](23,16384,[[2,4]],0,V.PrimeTemplate,[t.TemplateRef],{name:[0,"name"]},null),(e()(),t["\u0275eld"](24,0,null,0,7,"div",[["class","ui-g"]],null,null,null,null,null)),(e()(),t["\u0275eld"](25,0,null,null,6,"div",[["class","ui-g-12"]],null,null,null,null,null)),(e()(),t["\u0275eld"](26,0,null,null,5,"div",[["class","fwc-right-float"]],null,null,null,null,null)),(e()(),t["\u0275eld"](27,0,null,null,1,"button",[["class","ui-button-warning"],["icon","fa fa-times"],["pButton",""],["type","button"]],null,[[null,"click"]],(function(e,l,n){var i=!0;return"click"===l&&(i=!1!==t["\u0275nov"](e,17).hide()&&i),i}),null,null)),t["\u0275did"](28,4341760,null,0,D.ButtonDirective,[t.ElementRef],{icon:[0,"icon"]},null),(e()(),t["\u0275eld"](29,0,null,null,0,"span",[["class","fwcSepShort"]],null,null,null,null,null)),(e()(),t["\u0275eld"](30,0,null,null,1,"button",[["class","ui-button-success"],["icon","fa fa-check"],["pButton",""],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(e,l,n){var t=!0,i=e.component;return"click"===l&&(t=!1!==i.onSelectObjectNode(i.selectedObjectNode)&&t),t}),null,null)),t["\u0275did"](31,4341760,null,0,D.ButtonDirective,[t.ElementRef],{icon:[0,"icon"]},null)],(function(e,l){var n=l.component;e(l,7,0,"_object_name","true",n.selectedObjectName),e(l,10,0),e(l,15,0,"fa fa-search"),e(l,17,0,!1,"body");var t=n.treeData,i=n.selectedObjectNode,a=e(l,21,0,"20em","auto");e(l,19,0,t,"single",i,a,"treeSelector"),e(l,23,0,"default"),e(l,28,0,"fa fa-times"),e(l,31,0,"fa fa-check")}),(function(e,l){var n=l.component;e(l,4,1,[t["\u0275nov"](l,9).ngClassUntouched,t["\u0275nov"](l,9).ngClassTouched,t["\u0275nov"](l,9).ngClassPristine,t["\u0275nov"](l,9).ngClassDirty,t["\u0275nov"](l,9).ngClassValid,t["\u0275nov"](l,9).ngClassInvalid,t["\u0275nov"](l,9).ngClassPending,!0,!0,!0,!0,t["\u0275nov"](l,10).filled]),e(l,12,0,t["\u0275unv"](l,12,0,t["\u0275nov"](l,13).transform("ITEM_PANEL.FIELDS.NAME"))),e(l,30,0,!n.selectedObjectNode)}))}var H=n("Czxz"),K=n("RXyF"),Y=n("9uU2"),X=n("nciF"),q=n("g4HV"),z=n("nxom"),Q=n("DSdC"),Z=n("oygf"),ee=t["\u0275crt"]({encapsulation:2,styles:[['.ui-dropdown.fwcGridDropDown{width:100%!important}.tdActionColumn{width:2.5em}tr.trOptionsGridRow td{overflow:hidden}tr.trOptionsGridRow td .divWrapper{position:relative;height:100%;width:100%}tr.trOptionsGridRow td .divWrapper:before{content:"\\00a0"}tr.trOptionsGridRow td .divWrapper .divColButtons{cursor:pointer;position:absolute;right:-2.5rem;top:0;transition:all .3s ease-in-out}tr.trOptionsGridRow td .divWrapper .divColButtons i{color:#eee;background:red;display:inline-block;width:1.5rem;height:1.5rem;text-align:center;line-height:1.5rem;border-radius:50%;margin-top:-.2rem}tr.trOptionsGridRow td .divWrapper .divColButtons i:active{transform:scale(.95)}tr.trOptionsGridRow:hover .divColButtons{right:0!important}']],data:{}});function le(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,13,"tr",[],null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,0,"th",[["class","tdActionColumn"]],null,null,null,null,null)),(e()(),t["\u0275eld"](2,0,null,null,5,"th",[["pSortableColumn","name"]],[[2,"ui-sortable-column",null],[2,"ui-state-highlight",null],[1,"tabindex",0]],[[null,"click"],[null,"keydown.enter"]],(function(e,l,n){var i=!0;return"click"===l&&(i=!1!==t["\u0275nov"](e,3).onClick(n)&&i),"keydown.enter"===l&&(i=!1!==t["\u0275nov"](e,3).onEnterKey(n)&&i),i}),null,null)),t["\u0275did"](3,212992,null,0,H.SortableColumn,[H.Table],{field:[0,"field"]},null),(e()(),t["\u0275ted"](4,null,[" "," "])),t["\u0275pid"](131072,i.k,[i.l,t.ChangeDetectorRef]),(e()(),t["\u0275eld"](6,0,null,null,1,"p-sortIcon",[["field","name"]],null,null,null,K.e,K.b)),t["\u0275did"](7,245760,null,0,H.SortIcon,[H.Table],{field:[0,"field"]},null),(e()(),t["\u0275eld"](8,0,null,null,2,"th",[],null,null,null,null,null)),(e()(),t["\u0275ted"](9,null,["",""])),t["\u0275pid"](131072,i.k,[i.l,t.ChangeDetectorRef]),(e()(),t["\u0275eld"](11,0,null,null,2,"th",[],null,null,null,null,null)),(e()(),t["\u0275ted"](12,null,["",""])),t["\u0275pid"](131072,i.k,[i.l,t.ChangeDetectorRef])],(function(e,l){e(l,3,0,"name"),e(l,7,0,"name")}),(function(e,l){e(l,2,0,t["\u0275nov"](l,3).isEnabled(),t["\u0275nov"](l,3).sorted,t["\u0275nov"](l,3).isEnabled()?"0":null),e(l,4,0,t["\u0275unv"](l,4,0,t["\u0275nov"](l,5).transform("VPN.CONFIG.GRID_HEADER.0"))),e(l,9,0,t["\u0275unv"](l,9,0,t["\u0275nov"](l,10).transform("VPN.CONFIG.GRID_HEADER.1"))),e(l,12,0,t["\u0275unv"](l,12,0,t["\u0275nov"](l,13).transform("VPN.CONFIG.GRID_HEADER.2")))}))}function ne(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function te(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),t["\u0275ted"](1,null,["",""]))],null,(function(e,l){e(l,1,0,l.context.$implicit.label)}))}function ie(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),t["\u0275ted"](2,null,["",""]))],null,(function(e,l){e(l,2,0,l.context.$implicit.label)}))}function ae(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,11,"p-dropdown",[["appendTo","body"],["filter","true"],["styleClass","fwcGridDropDown"]],[[2,"ui-inputwrapper-filled",null],[2,"ui-inputwrapper-focus",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"onChange"]],(function(e,l,n){var t=!0,i=e.component;return"ngModelChange"===l&&(t=!1!==(e.parent.parent.context.$implicit.name=n)&&t),"onChange"===l&&(t=!1!==i.onDataChanged(n)&&t),t}),Y.b,Y.a)),t["\u0275did"](1,13877248,null,1,X.Dropdown,[t.ElementRef,t.Renderer2,t.ChangeDetectorRef,t.NgZone],{filter:[0,"filter"],styleClass:[1,"styleClass"],appendTo:[2,"appendTo"],autoDisplayFirst:[3,"autoDisplayFirst"],emptyFilterMessage:[4,"emptyFilterMessage"],options:[5,"options"]},{onChange:"onChange"}),t["\u0275qud"](603979776,5,{templates:1}),t["\u0275pid"](131072,i.k,[i.l,t.ChangeDetectorRef]),t["\u0275prd"](1024,null,I.NG_VALUE_ACCESSOR,(function(e){return[e]}),[X.Dropdown]),t["\u0275did"](5,671744,null,0,I.NgModel,[[8,null],[8,null],[8,null],[6,I.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,I.NgControl,null,[I.NgModel]),t["\u0275did"](7,16384,null,0,I.NgControlStatus,[[4,I.NgControl]],null,null),(e()(),t["\u0275and"](0,null,null,1,null,te)),t["\u0275did"](9,16384,[[5,4]],0,V.PrimeTemplate,[t.TemplateRef],{name:[0,"name"]},null),(e()(),t["\u0275and"](0,null,null,1,null,ie)),t["\u0275did"](11,16384,[[5,4]],0,V.PrimeTemplate,[t.TemplateRef],{name:[0,"name"]},null)],(function(e,l){var n=l.component;e(l,1,0,"true","fwcGridDropDown","body",!1,t["\u0275unv"](l,1,4,t["\u0275nov"](l,3).transform("VPN.CONFIG.NO_OPS")),n.availableKeywords),e(l,5,0,l.parent.parent.context.$implicit.name),e(l,9,0,"selectedItem"),e(l,11,0,"item")}),(function(e,l){e(l,0,0,t["\u0275nov"](l,1).filled,t["\u0275nov"](l,1).focused,t["\u0275nov"](l,7).ngClassUntouched,t["\u0275nov"](l,7).ngClassTouched,t["\u0275nov"](l,7).ngClassPristine,t["\u0275nov"](l,7).ngClassDirty,t["\u0275nov"](l,7).ngClassValid,t["\u0275nov"](l,7).ngClassInvalid,t["\u0275nov"](l,7).ngClassPending)}))}function oe(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,2,"i",[["class","fa fa-lg fa-warning fwcRed"]],null,null,null,null,null)),t["\u0275did"](1,4341760,null,0,q.Tooltip,[t.ElementRef,t.NgZone],{text:[0,"text"]},null),t["\u0275pid"](131072,i.k,[i.l,t.ChangeDetectorRef])],(function(e,l){e(l,1,0,t["\u0275unv"](l,1,0,t["\u0275nov"](l,2).transform("VPN.CONFIG.INVALID_NAME_WARNING")))}),null)}function se(e){return t["\u0275vid"](0,[(e()(),t["\u0275ted"](0,null,[" "," "])),(e()(),t["\u0275and"](16777216,null,null,1,null,oe)),t["\u0275did"](2,16384,null,0,h.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](0,null,null,0))],(function(e,l){e(l,2,0,!l.parent.parent.context.$implicit.name)}),(function(e,l){e(l,0,0,l.parent.parent.context.$implicit.name)}))}function re(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,6,"input",[["pInputText",""],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"ngModelChange"],[null,"change"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,l,n){var i=!0,a=e.component;return"input"===l&&(i=!1!==t["\u0275nov"](e,1)._handleInput(n.target.value)&&i),"blur"===l&&(i=!1!==t["\u0275nov"](e,1).onTouched()&&i),"compositionstart"===l&&(i=!1!==t["\u0275nov"](e,1)._compositionStart()&&i),"compositionend"===l&&(i=!1!==t["\u0275nov"](e,1)._compositionEnd(n.target.value)&&i),"input"===l&&(i=!1!==t["\u0275nov"](e,6).onInput(n)&&i),"ngModelChange"===l&&(i=!1!==(e.parent.parent.context.$implicit.arg=n)&&i),"change"===l&&(i=!1!==a.onDataChanged(n)&&i),i}),null,null)),t["\u0275did"](1,16384,null,0,I.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,I.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,I.NG_VALUE_ACCESSOR,(function(e){return[e]}),[I.DefaultValueAccessor]),t["\u0275did"](3,671744,null,0,I.NgModel,[[8,null],[8,null],[8,null],[6,I.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,I.NgControl,null,[I.NgModel]),t["\u0275did"](5,16384,null,0,I.NgControlStatus,[[4,I.NgControl]],null,null),t["\u0275did"](6,278528,null,0,T.InputText,[t.ElementRef,[2,I.NgModel]],null,null)],(function(e,l){e(l,3,0,l.parent.parent.context.$implicit.arg),e(l,6,0)}),(function(e,l){e(l,0,1,[t["\u0275nov"](l,5).ngClassUntouched,t["\u0275nov"](l,5).ngClassTouched,t["\u0275nov"](l,5).ngClassPristine,t["\u0275nov"](l,5).ngClassDirty,t["\u0275nov"](l,5).ngClassValid,t["\u0275nov"](l,5).ngClassInvalid,t["\u0275nov"](l,5).ngClassPending,!0,!0,!0,!0,t["\u0275nov"](l,6).filled])}))}function ue(e){return t["\u0275vid"](0,[(e()(),t["\u0275ted"](0,null,[" "," "]))],null,(function(e,l){e(l,0,0,l.parent.parent.context.$implicit.arg)}))}function de(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,6,"input",[["pInputText",""],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"ngModelChange"],[null,"change"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,l,n){var i=!0,a=e.component;return"input"===l&&(i=!1!==t["\u0275nov"](e,1)._handleInput(n.target.value)&&i),"blur"===l&&(i=!1!==t["\u0275nov"](e,1).onTouched()&&i),"compositionstart"===l&&(i=!1!==t["\u0275nov"](e,1)._compositionStart()&&i),"compositionend"===l&&(i=!1!==t["\u0275nov"](e,1)._compositionEnd(n.target.value)&&i),"input"===l&&(i=!1!==t["\u0275nov"](e,6).onInput(n)&&i),"ngModelChange"===l&&(i=!1!==(e.parent.parent.context.$implicit.comment=n)&&i),"change"===l&&(i=!1!==a.onDataChanged(n)&&i),i}),null,null)),t["\u0275did"](1,16384,null,0,I.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,I.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,I.NG_VALUE_ACCESSOR,(function(e){return[e]}),[I.DefaultValueAccessor]),t["\u0275did"](3,671744,null,0,I.NgModel,[[8,null],[8,null],[8,null],[6,I.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,I.NgControl,null,[I.NgModel]),t["\u0275did"](5,16384,null,0,I.NgControlStatus,[[4,I.NgControl]],null,null),t["\u0275did"](6,278528,null,0,T.InputText,[t.ElementRef,[2,I.NgModel]],null,null)],(function(e,l){e(l,3,0,l.parent.parent.context.$implicit.comment),e(l,6,0)}),(function(e,l){e(l,0,1,[t["\u0275nov"](l,5).ngClassUntouched,t["\u0275nov"](l,5).ngClassTouched,t["\u0275nov"](l,5).ngClassPristine,t["\u0275nov"](l,5).ngClassDirty,t["\u0275nov"](l,5).ngClassValid,t["\u0275nov"](l,5).ngClassInvalid,t["\u0275nov"](l,5).ngClassPending,!0,!0,!0,!0,t["\u0275nov"](l,6).filled])}))}function ce(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,1,"div",[["class","divWrapper"]],null,null,null,null,null)),(e()(),t["\u0275ted"](1,null,[" "," "]))],null,(function(e,l){e(l,1,0,l.parent.parent.context.$implicit.comment)}))}function pe(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,8,"td",[["pEditableColumn",""]],null,[[null,"click"],[null,"keydown"]],(function(e,l,n){var i=!0;return"click"===l&&(i=!1!==t["\u0275nov"](e,1).onClick(n)&&i),"keydown"===l&&(i=!1!==t["\u0275nov"](e,1).onKeyDown(n)&&i),i}),null,null)),t["\u0275did"](1,4210688,null,0,H.EditableColumn,[H.Table,t.ElementRef,t.NgZone],{data:[0,"data"]},null),(e()(),t["\u0275eld"](2,0,null,null,6,"p-cellEditor",[],null,null,null,K.d,K.a)),t["\u0275did"](3,1097728,null,1,H.CellEditor,[H.Table,[2,H.EditableColumn],[2,H.EditableRow]],null,null),t["\u0275qud"](603979776,4,{templates:1}),(e()(),t["\u0275and"](0,null,null,1,null,ae)),t["\u0275did"](6,16384,[[4,4]],0,V.PrimeTemplate,[t.TemplateRef],{name:[0,"name"]},null),(e()(),t["\u0275and"](0,null,null,1,null,se)),t["\u0275did"](8,16384,[[4,4]],0,V.PrimeTemplate,[t.TemplateRef],{name:[0,"name"]},null),(e()(),t["\u0275eld"](9,0,null,null,8,"td",[["pEditableColumn",""]],null,[[null,"click"],[null,"keydown"]],(function(e,l,n){var i=!0;return"click"===l&&(i=!1!==t["\u0275nov"](e,10).onClick(n)&&i),"keydown"===l&&(i=!1!==t["\u0275nov"](e,10).onKeyDown(n)&&i),i}),null,null)),t["\u0275did"](10,4210688,null,0,H.EditableColumn,[H.Table,t.ElementRef,t.NgZone],{data:[0,"data"]},null),(e()(),t["\u0275eld"](11,0,null,null,6,"p-cellEditor",[],null,null,null,K.d,K.a)),t["\u0275did"](12,1097728,null,1,H.CellEditor,[H.Table,[2,H.EditableColumn],[2,H.EditableRow]],null,null),t["\u0275qud"](603979776,6,{templates:1}),(e()(),t["\u0275and"](0,null,null,1,null,re)),t["\u0275did"](15,16384,[[6,4]],0,V.PrimeTemplate,[t.TemplateRef],{name:[0,"name"]},null),(e()(),t["\u0275and"](0,null,null,1,null,ue)),t["\u0275did"](17,16384,[[6,4]],0,V.PrimeTemplate,[t.TemplateRef],{name:[0,"name"]},null),(e()(),t["\u0275eld"](18,0,null,null,8,"td",[["pEditableColumn",""]],null,[[null,"click"],[null,"keydown"]],(function(e,l,n){var i=!0;return"click"===l&&(i=!1!==t["\u0275nov"](e,19).onClick(n)&&i),"keydown"===l&&(i=!1!==t["\u0275nov"](e,19).onKeyDown(n)&&i),i}),null,null)),t["\u0275did"](19,4210688,null,0,H.EditableColumn,[H.Table,t.ElementRef,t.NgZone],{data:[0,"data"]},null),(e()(),t["\u0275eld"](20,0,null,null,6,"p-cellEditor",[],null,null,null,K.d,K.a)),t["\u0275did"](21,1097728,null,1,H.CellEditor,[H.Table,[2,H.EditableColumn],[2,H.EditableRow]],null,null),t["\u0275qud"](603979776,7,{templates:1}),(e()(),t["\u0275and"](0,null,null,1,null,de)),t["\u0275did"](24,16384,[[7,4]],0,V.PrimeTemplate,[t.TemplateRef],{name:[0,"name"]},null),(e()(),t["\u0275and"](0,null,null,1,null,ce)),t["\u0275did"](26,16384,[[7,4]],0,V.PrimeTemplate,[t.TemplateRef],{name:[0,"name"]},null)],(function(e,l){e(l,1,0,""),e(l,6,0,"input"),e(l,8,0,"output"),e(l,10,0,""),e(l,15,0,"input"),e(l,17,0,"output"),e(l,19,0,""),e(l,24,0,"input"),e(l,26,0,"output")}),null)}function fe(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,2,"i",[["class","fa fa-question-circle fa-lg fwcOrange"]],null,null,null,null,null)),t["\u0275did"](1,4341760,null,0,q.Tooltip,[t.ElementRef,t.NgZone],{text:[0,"text"]},null),t["\u0275pid"](131072,i.k,[i.l,t.ChangeDetectorRef])],(function(e,l){e(l,1,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](l,1,0,t["\u0275nov"](l,2).transform(l.parent.parent.context.$implicit.emptyMessageKey)),""))}),null)}function me(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,2,"span",[],null,null,null,null,null)),(e()(),t["\u0275ted"](-1,null,[" \xa0 "])),(e()(),t["\u0275eld"](2,0,null,null,0,"i",[["class","fa fa-lg fa-info-circle fwcBlue"]],null,[[null,"mouseenter"],[null,"mouseleave"],[null,"wheel"]],(function(e,l,n){var t=!0,i=e.component;return"mouseenter"===l&&(t=!1!==i.showObjectInfo(e.parent.parent.context.$implicit,n)&&t),"mouseleave"===l&&(t=!1!==i.clearObjectInfo(n)&&t),"wheel"===l&&(t=!1!==i.clearObjectInfo(n)&&t),t}),null,null))],null,null)}function ge(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,2,"td",[],null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),t["\u0275ted"](2,null,["",""])),(e()(),t["\u0275eld"](3,0,null,null,6,"td",[],null,null,null,null,null)),(e()(),t["\u0275and"](16777216,null,null,1,null,fe)),t["\u0275did"](5,16384,null,0,h.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275eld"](6,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),t["\u0275ted"](7,null,["",""])),(e()(),t["\u0275and"](16777216,null,null,1,null,me)),t["\u0275did"](9,16384,null,0,h.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275eld"](10,0,null,null,2,"td",[],null,null,null,null,null)),(e()(),t["\u0275eld"](11,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),t["\u0275ted"](12,null,["",""]))],(function(e,l){e(l,5,0,!l.parent.context.$implicit.arg),e(l,9,0,l.parent.context.$implicit.ipobj)}),(function(e,l){e(l,2,0,l.parent.context.$implicit.name),e(l,7,0,l.parent.context.$implicit.arg),e(l,12,0,l.parent.context.$implicit.comment)}))}function he(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,4,"tr",[],null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,3,"td",[["class","tdFooter"],["colspan","4"]],null,null,null,null,null)),(e()(),t["\u0275eld"](2,0,null,null,2,"button",[["icon","fa fa-plus"],["pButton",""]],null,[[null,"click"]],(function(e,l,n){var t=!0;return"click"===l&&(t=!1!==e.component.onAddOption()&&t),t}),null,null)),t["\u0275did"](3,4341760,null,0,D.ButtonDirective,[t.ElementRef],{label:[0,"label"],icon:[1,"icon"]},null),t["\u0275pid"](131072,i.k,[i.l,t.ChangeDetectorRef])],(function(e,l){e(l,3,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](l,3,0,t["\u0275nov"](l,4).transform("VPN.CONFIG.ADD_OPTION")),""),"fa fa-plus")}),null)}function _e(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,11,"tr",[["class","trOptionsGridRow"]],null,[[null,"drop"]],(function(e,l,n){var i=!0;return"drop"===l&&(i=!1!==t["\u0275nov"](e,1).onDrop(n)&&i),i}),null,null)),t["\u0275did"](1,4210688,null,0,H.ReorderableRow,[H.Table,t.ElementRef,t.NgZone],{index:[0,"index"]},null),(e()(),t["\u0275eld"](2,16777216,null,null,5,"td",[["class","tdActionColumn"],["pReorderableRowHandle",""]],null,[[null,"menuOpening"],[null,"itemClick"],[null,"contextmenu"],[null,"mousedown"]],(function(e,l,n){var i=!0,a=e.component;return"contextmenu"===l&&(i=!1!==t["\u0275nov"](e,3).onContextMenu(n)&&i),"mousedown"===l&&(i=!1!==t["\u0275nov"](e,3).onMouseDown(n)&&i),"menuOpening"===l&&(i=!1!==a.contextMenuLoad(n,e.context.$implicit,e.context.rowIndex)&&i),"itemClick"===l&&(i=!1!==a.contextMenuHandler(n,e.context.$implicit,e.context.rowIndex)&&i),i}),null,null)),t["\u0275did"](3,1196032,null,1,z.IntegralUIContextMenu,[t.ElementRef,t.ViewContainerRef,t.ComponentFactoryResolver],{settings:[0,"settings"],contextMenuRef:[1,"contextMenuRef"]},{itemClick:"itemClick",menuOpening:"menuOpening"}),t["\u0275qud"](603979776,3,{templates:1}),t["\u0275did"](5,4210688,null,0,H.ReorderableRowHandle,[t.ElementRef],{index:[0,"index"]},null),(e()(),t["\u0275eld"](6,0,null,null,1,"i",[["class","fa fa-bars fwcBlue"],["pReorderableRowHandle",""]],null,null,null,null,null)),t["\u0275did"](7,4210688,null,0,H.ReorderableRowHandle,[t.ElementRef],{index:[0,"index"]},null),(e()(),t["\u0275and"](16777216,null,null,1,null,ne)),t["\u0275did"](9,16384,null,0,h.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"],ngIfThen:[1,"ngIfThen"],ngIfElse:[2,"ngIfElse"]},null),(e()(),t["\u0275and"](0,[["editableOption",2]],null,0,null,pe)),(e()(),t["\u0275and"](0,[["readonlyOption",2]],null,0,null,ge)),(e()(),t["\u0275and"](16777216,null,null,1,null,he)),t["\u0275did"](13,16384,null,0,h.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](0,null,null,0))],(function(e,l){var n=l.component;e(l,1,0,l.context.rowIndex),e(l,3,0,n.contextMenu,n.contextMenuReference),e(l,5,0,""),e(l,7,0,""),e(l,9,0,!l.context.$implicit.readonly,t["\u0275nov"](l,10),t["\u0275nov"](l,11)),e(l,13,0,l.context.rowIndex==n.gridOptions.length-1)}),null)}function ve(e){return t["\u0275vid"](0,[t["\u0275qud"](671088640,1,{optionsTable:0}),(e()(),t["\u0275eld"](1,0,null,null,7,"p-table",[["scrollHeight","13em"],["selectionMode","single"],["styleClass","optionsTable"]],null,[[null,"selectionChange"],[null,"onEditComplete"],[null,"onRowReorder"]],(function(e,l,n){var t=!0,i=e.component;return"selectionChange"===l&&(t=!1!==(i.selectedOption=n)&&t),"onEditComplete"===l&&(t=!1!==i.onDataChanged(n)&&t),"onRowReorder"===l&&(t=!1!==i.onDataChanged(n)&&t),t}),K.f,K.c)),t["\u0275prd"](512,null,H.TableService,H.TableService,[]),t["\u0275did"](3,5488640,[[1,4],["optionsTable",4]],1,H.Table,[t.ElementRef,t.NgZone,H.TableService,t.ChangeDetectorRef],{styleClass:[0,"styleClass"],selectionMode:[1,"selectionMode"],scrollable:[2,"scrollable"],scrollHeight:[3,"scrollHeight"],value:[4,"value"],selection:[5,"selection"]},{selectionChange:"selectionChange",onRowReorder:"onRowReorder",onEditComplete:"onEditComplete"}),t["\u0275qud"](603979776,2,{templates:1}),(e()(),t["\u0275and"](0,null,null,1,null,le)),t["\u0275did"](6,16384,[[2,4]],0,V.PrimeTemplate,[t.TemplateRef],{name:[0,"name"]},null),(e()(),t["\u0275and"](0,null,null,1,null,_e)),t["\u0275did"](8,16384,[[2,4]],0,V.PrimeTemplate,[t.TemplateRef],{name:[0,"name"]},null)],(function(e,l){var n=l.component;e(l,3,0,"optionsTable","single",!0,"13em",n.gridOptions,n.selectedOption),e(l,6,0,"header"),e(l,8,0,"body")}),null)}var Ie=n("nqUP"),Se=n("pODc"),Ce=n("QVyK"),Ee=n("66nc"),Oe=n("SVXH");n("w2nL"),n("PIn4"),n("pDcU"),n("8xOQ"),n("sqqX"),n("yEB0"),n("2Rin"),n("N7ZF"),n.d(l,"a",(function(){return be})),n.d(l,"b",(function(){return ul}));var be=t["\u0275crt"]({encapsulation:2,styles:[[".divConfigFile textarea{font-family:monospace!important;font-size:.8rem!important;min-height:18rem}.divOPHeader h6,.divOPHeader label{white-space:nowrap;font-family:Montserrat,sans-serif;padding:.5rem!important}"]],data:{animation:[{type:7,name:"fundidoInOut",definitions:[{type:0,name:"void",styles:{type:6,styles:{opacity:0,transform:"translateY(12%)"},offset:null},options:void 0},{type:0,name:"active, newItemAdded",styles:{type:6,styles:{opacity:1},offset:null},options:void 0},{type:1,expr:"void => *",animation:{type:4,styles:null,timings:"300ms"},options:null},{type:1,expr:"* => void",animation:{type:4,styles:null,timings:"300ms"},options:null}],options:{}}]}});function we(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,8,null,null,null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,7,"div",[["class","divFormHeader"]],null,null,null,null,null)),(e()(),t["\u0275eld"](2,0,null,null,6,"h6",[["class","fwcWhite fwcIconLeft"]],null,null,null,null,null)),(e()(),t["\u0275eld"](3,0,null,null,1,"i",[],[[8,"className",0]],null,null,null,null)),t["\u0275ppd"](4,3),(e()(),t["\u0275ted"](5,null,[" "," "])),t["\u0275pid"](131072,i.k,[i.l,t.ChangeDetectorRef]),t["\u0275pod"](7,{obj_type:0,name:1}),t["\u0275pid"](131072,i.k,[i.l,t.ChangeDetectorRef])],null,(function(e,l){var n=l.component,i=t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](l,3,0,e(l,4,0,t["\u0275nov"](l.parent,0),n.objectToDelete._fwcObjType,null,"fwcOrange")),"");e(l,3,0,i);var a=t["\u0275unv"](l,5,0,t["\u0275nov"](l,8).transform("VPN.CONFIG.HEADER_DELETE_2",e(l,7,0,t["\u0275unv"](l,5,0,t["\u0275nov"](l,6).transform("GLOBALS.DB_OBJECT_NAMES."+n.objectToDelete._fwcObjType+"_ABBR")),n.objectToDelete._fwcObjName)));e(l,5,0,a)}))}function Re(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,6,null,null,null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,5,"div",[["class","divFormHeader"]],null,null,null,null,null)),(e()(),t["\u0275eld"](2,0,null,null,4,"h6",[["class","fwcWhite fwcIconLeft"]],null,null,null,null,null)),(e()(),t["\u0275eld"](3,0,null,null,0,"i",[["class","fwci-edit fwcOrange"]],null,null,null,null,null)),(e()(),t["\u0275ted"](4,null,[" "," "])),t["\u0275pod"](5,{name:0}),t["\u0275pid"](131072,i.k,[i.l,t.ChangeDetectorRef])],null,(function(e,l){var n=l.component,i=t["\u0275unv"](l,4,0,t["\u0275nov"](l,6).transform("VPN.CONFIG.HEADER_FILE",e(l,5,0,n.objectToRetrieve._fwcObjName)));e(l,4,0,i)}))}function Ne(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,6,null,null,null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,5,"div",[["class","divFormHeader"]],null,null,null,null,null)),(e()(),t["\u0275eld"](2,0,null,null,4,"h6",[["class","fwcWhite fwcIconLeft"]],null,null,null,null,null)),(e()(),t["\u0275eld"](3,0,null,null,0,"i",[["class","fwci-edit fwcOrange"]],null,null,null,null,null)),(e()(),t["\u0275ted"](4,null,[" "," "])),t["\u0275pod"](5,{name:0}),t["\u0275pid"](131072,i.k,[i.l,t.ChangeDetectorRef])],null,(function(e,l){var n=l.component,i=t["\u0275unv"](l,4,0,t["\u0275nov"](l,6).transform(n.configManageTranslateKey+".FORM_HEADER",e(l,5,0,n.objectToManage._fwcObjName)));e(l,4,0,i)}))}function Te(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,6,null,null,null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,5,"div",[["class","divFormHeader"]],null,null,null,null,null)),(e()(),t["\u0275eld"](2,0,null,null,4,"h6",[["class","fwcWhite fwcIconLeft"]],null,null,null,null,null)),(e()(),t["\u0275eld"](3,0,null,null,0,"i",[["class","fwci-whereused fwcOrange"]],null,null,null,null,null)),(e()(),t["\u0275ted"](4,null,[" "," "])),t["\u0275pod"](5,{name:0}),t["\u0275pid"](131072,i.k,[i.l,t.ChangeDetectorRef])],null,(function(e,l){var n=l.component,i=t["\u0275unv"](l,4,0,t["\u0275nov"](l,6).transform("VPN.CONFIG.HEADER_WU",e(l,5,0,n.objectToSearchWU._fwcObjName)));e(l,4,0,i)}))}function ye(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,4,null,null,null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,3,"div",[["class","divFormHeader"]],null,null,null,null,null)),(e()(),t["\u0275eld"](2,0,null,null,2,"h6",[["class","fwcWhite fwcIconLeft"]],null,null,null,null,null)),(e()(),t["\u0275eld"](3,0,null,null,0,"i",[["class","fwci-edit fwcOrange"]],null,null,null,null,null)),(e()(),t["\u0275ted"](4,null,[" "," "]))],null,(function(e,l){e(l,4,0,l.component.headerTitle)}))}function Pe(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,3,"div",[["class","ui-g"]],null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,2,"div",[["class","ui-g-12 divCentered"]],null,null,null,null,null)),(e()(),t["\u0275eld"](2,0,null,null,1,"p-progressSpinner",[],null,null,null,a.b,a.a)),t["\u0275did"](3,49152,null,0,o.ProgressSpinner,[],null,null)],null,null)}function De(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,3,"div",[["class","ui-g"]],null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,2,"div",[["class","ui-g-12"]],null,null,null,null,null)),(e()(),t["\u0275eld"](2,0,null,null,1,"p-messages",[],null,[[null,"valueChange"]],(function(e,l,n){var t=!0;return"valueChange"===l&&(t=!1!==(e.component.errorMsgs=n)&&t),t}),s.b,s.a)),t["\u0275did"](3,245760,null,0,r.Messages,[[2,u.MessageService]],{value:[0,"value"],closable:[1,"closable"]},{valueChange:"valueChange"})],(function(e,l){e(l,3,0,l.component.errorMsgs,!1)}),null)}function Le(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function Ae(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,5,"div",[["class","fwcRestrictionsContainer"]],null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,1,"p-messages",[],null,[[null,"valueChange"]],(function(e,l,n){var t=!0;return"valueChange"===l&&(t=!1!==(e.component.deleteMsgs=n)&&t),t}),s.b,s.a)),t["\u0275did"](2,245760,null,0,r.Messages,[[2,u.MessageService]],{value:[0,"value"],closable:[1,"closable"]},{valueChange:"valueChange"}),(e()(),t["\u0275eld"](3,0,null,null,2,"sts-fwc-object-restrictions",[],null,[[null,"onHideParent"]],(function(e,l,n){var t=!0;return"onHideParent"===l&&(t=!1!==e.component.minimizeDialog(!0)&&t),t}),d.b,d.a)),t["\u0275prd"](512,null,c.a,c.a,[]),t["\u0275did"](5,114688,null,0,p.a,[i.l,f.a,m.a,g.a,c.a],{dependencies:[0,"dependencies"],readOnly:[1,"readOnly"]},{onHideParent:"onHideParent"})],(function(e,l){var n=l.component;e(l,2,0,n.deleteMsgs,!1),e(l,5,0,n.dependencies,n.restrictionsReadOnly)}),null)}function Fe(e){return t["\u0275vid"](0,[(e()(),t["\u0275and"](16777216,null,null,1,null,Ae)),t["\u0275did"](1,16384,null,0,h.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](0,null,null,0))],(function(e,l){e(l,1,0,!l.component.dependencies.restrictionsError)}),null)}function Me(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,7,"div",[["class","ui-g-12"],["style","text-align: center"]],null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,6,"p-checkbox",[["binary","true"],["name","chkUninstallConfig"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(e,l,n){var t=!0;return"ngModelChange"===l&&(t=!1!==(e.component.alsoUninstallConfig=n)&&t),t}),_.b,_.a)),t["\u0275did"](2,49152,null,0,v.Checkbox,[t.ChangeDetectorRef],{name:[0,"name"],binary:[1,"binary"],label:[2,"label"]},null),t["\u0275pid"](131072,i.k,[i.l,t.ChangeDetectorRef]),t["\u0275prd"](1024,null,I.NG_VALUE_ACCESSOR,(function(e){return[e]}),[v.Checkbox]),t["\u0275did"](5,671744,null,0,I.NgModel,[[8,null],[8,null],[8,null],[6,I.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,I.NgControl,null,[I.NgModel]),t["\u0275did"](7,16384,null,0,I.NgControlStatus,[[4,I.NgControl]],null,null)],(function(e,l){var n=l.component;e(l,2,0,"chkUninstallConfig","true",t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](l,2,2,t["\u0275nov"](l,3).transform("VPN.CONFIG.UNINSTALL_STRINGS.UNINSTALL_FIRST")),"")),e(l,5,0,"chkUninstallConfig",n.alsoUninstallConfig)}),(function(e,l){e(l,1,0,t["\u0275nov"](l,7).ngClassUntouched,t["\u0275nov"](l,7).ngClassTouched,t["\u0275nov"](l,7).ngClassPristine,t["\u0275nov"](l,7).ngClassDirty,t["\u0275nov"](l,7).ngClassValid,t["\u0275nov"](l,7).ngClassInvalid,t["\u0275nov"](l,7).ngClassPending)}))}function je(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,1,"p-messages",[],null,[[null,"valueChange"]],(function(e,l,n){var t=!0;return"valueChange"===l&&(t=!1!==(e.component.deleteMsgs=n)&&t),t}),s.b,s.a)),t["\u0275did"](1,245760,null,0,r.Messages,[[2,u.MessageService]],{value:[0,"value"],closable:[1,"closable"]},{valueChange:"valueChange"}),(e()(),t["\u0275and"](16777216,null,null,1,null,Me)),t["\u0275did"](3,16384,null,0,h.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](0,null,null,0))],(function(e,l){var n=l.component;e(l,1,0,n.deleteMsgs,!1),e(l,3,0,n.objectToDelete.obj_type==n.ObjectTypes.OBJ_VPN_CONFIG_SER||n.objectToDelete.obj_type==n.ObjectTypes.OBJ_VPN_CONFIG_CLI)}),null)}function Ve(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,4,null,null,null,null,null,null,null)),(e()(),t["\u0275and"](16777216,null,null,1,null,Le)),t["\u0275did"](2,16384,null,0,h.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"],ngIfThen:[1,"ngIfThen"],ngIfElse:[2,"ngIfElse"]},null),(e()(),t["\u0275and"](0,[["deleteRestricted",2]],null,0,null,Fe)),(e()(),t["\u0275and"](0,[["deleteAllowed",2]],null,0,null,je))],(function(e,l){e(l,2,0,l.component.dependencies,t["\u0275nov"](l,3),t["\u0275nov"](l,4))}),null)}function xe(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,5,null,null,null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,4,"div",[["class","ui-g ui-g-nopad"]],null,null,null,null,null)),(e()(),t["\u0275eld"](2,0,null,null,3,"div",[["class","ui-g-12 divConfigFile"]],null,null,null,null,null)),(e()(),t["\u0275eld"](3,0,[[4,0],["txtConfigFile",1]],null,2,"textarea",[["pInputTextarea",""],["readonly",""],["rows","15"]],[[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-inputtextarea-resizable",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"input"],[null,"focus"],[null,"blur"]],(function(e,l,n){var i=!0;return"input"===l&&(i=!1!==t["\u0275nov"](e,4).onInput(n)&&i),"focus"===l&&(i=!1!==t["\u0275nov"](e,4).onFocus(n)&&i),"blur"===l&&(i=!1!==t["\u0275nov"](e,4).onBlur(n)&&i),i}),null,null)),t["\u0275did"](4,278528,null,0,S.InputTextarea,[t.ElementRef,[2,I.NgModel]],null,null),(e()(),t["\u0275ted"](5,null,["",""]))],(function(e,l){e(l,4,0)}),(function(e,l){var n=l.component;e(l,3,0,!0,!0,t["\u0275nov"](l,4).autoResize,!0,!0,t["\u0275nov"](l,4).filled),e(l,5,0,n.configFile)}))}function Be(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,4,"span",[],null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,0,"i",[["class","fwcMenuIcon fwci-cluster fwcOrange"]],null,null,null,null,null)),(e()(),t["\u0275ted"](-1,null,["\xa0"])),(e()(),t["\u0275eld"](3,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),t["\u0275ted"](4,null,["",""]))],null,(function(e,l){e(l,4,0,l.parent.parent.context.$implicit.firewallName)}))}function ke(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,3,"span",[],null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,0,"span",[["class","fwcSepShort"]],null,null,null,null,null)),(e()(),t["\u0275eld"](2,0,null,null,0,"i",[["class","fwcMenuIcon fwci-firewall fwcBlue"]],null,null,null,null,null)),(e()(),t["\u0275ted"](3,null,["\xa0",""]))],null,(function(e,l){e(l,3,0,l.parent.parent.context.$implicit.firewallName)}))}function Ue(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,4,"td",[],null,null,null,null,null)),(e()(),t["\u0275and"](16777216,null,null,1,null,Be)),t["\u0275did"](2,16384,null,0,h.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](16777216,null,null,1,null,ke)),t["\u0275did"](4,16384,null,0,h.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(e,l){e(l,2,0,!l.parent.context.$implicit.isNode),e(l,4,0,l.parent.context.$implicit.isNode)}),null)}function Ge(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,2,"td",[],null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,0,"i",[["class","fwcMenuIcon fwci-firewall fwcBlue"]],null,null,null,null,null)),(e()(),t["\u0275ted"](2,null,["\xa0"," "]))],null,(function(e,l){e(l,2,0,l.parent.context.$implicit.firewallName)}))}function Je(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,9,"tr",[],null,null,null,null,null)),t["\u0275prd"](512,null,h["\u0275NgStyleImpl"],h["\u0275NgStyleR2Impl"],[t.ElementRef,t.KeyValueDiffers,t.Renderer2]),t["\u0275did"](2,278528,null,0,h.NgStyle,[h["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](3,{"background-color":0}),(e()(),t["\u0275and"](16777216,null,null,1,null,Ue)),t["\u0275did"](5,16384,null,0,h.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](16777216,null,null,1,null,Ge)),t["\u0275did"](7,16384,null,0,h.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275eld"](8,0,null,null,1,"td",[["class","fwc-centered"]],null,null,null,null,null)),(e()(),t["\u0275eld"](9,0,null,null,0,"i",[],[[8,"className",0]],null,null,null,null))],(function(e,l){var n=e(l,3,0,l.context.$implicit.coloredBg?"#f1f1f1":"#fff");e(l,2,0,n),e(l,5,0,null!=l.context.$implicit.clusterId),e(l,7,0,null==l.context.$implicit.clusterId)}),(function(e,l){e(l,9,0,t["\u0275inlineInterpolate"](1,"",l.component.FirewallOpsIcons[l.context.$implicit.installState],""))}))}function $e(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,18,null,null,null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,17,"div",[["class","ui-g ui-g-nopad"]],null,null,null,null,null)),(e()(),t["\u0275eld"](2,0,null,null,13,"div",[["class","ui-g-4"]],null,null,null,null,null)),(e()(),t["\u0275eld"](3,0,null,null,12,"div",[["class","divTableScroll"]],null,null,null,null,null)),(e()(),t["\u0275eld"](4,0,null,null,11,"table",[["class","tableFw unstriped"]],null,null,null,null,null)),(e()(),t["\u0275eld"](5,0,null,null,7,"thead",[],null,null,null,null,null)),(e()(),t["\u0275eld"](6,0,null,null,6,"tr",[],null,null,null,null,null)),(e()(),t["\u0275eld"](7,0,null,null,2,"th",[],null,null,null,null,null)),(e()(),t["\u0275ted"](8,null,["",""])),t["\u0275pid"](131072,i.k,[i.l,t.ChangeDetectorRef]),(e()(),t["\u0275eld"](10,0,null,null,2,"th",[["class","fwc-centered"]],null,null,null,null,null)),(e()(),t["\u0275ted"](11,null,[" "," "])),t["\u0275pid"](131072,i.k,[i.l,t.ChangeDetectorRef]),(e()(),t["\u0275eld"](13,0,null,null,2,"tbody",[],null,null,null,null,null)),(e()(),t["\u0275and"](16777216,null,null,1,null,Je)),t["\u0275did"](15,278528,null,0,h.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),t["\u0275eld"](16,0,null,null,2,"div",[["class","ui-g-8"]],null,null,null,null,null)),(e()(),t["\u0275eld"](17,0,null,null,1,"sts-fwc-log",[],null,null,null,C.b,C.a)),t["\u0275did"](18,114688,[[5,4]],0,E.a,[],null,null)],(function(e,l){e(l,15,0,l.component.operationQueue),e(l,18,0)}),(function(e,l){var n=l.component;e(l,8,0,t["\u0275unv"](l,8,0,t["\u0275nov"](l,9).transform("COMPILE.FORM.NAME"))),e(l,11,0,t["\u0275unv"](l,11,0,t["\u0275nov"](l,12).transform(n.configManageTranslateKey+".OPERATION")))}))}function We(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,4,null,null,null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,3,"sts-fwc-object-wu",[],null,[[null,"onHideParent"]],(function(e,l,n){var t=!0;return"onHideParent"===l&&(t=!1!==e.component.minimizeDialog()&&t),t}),O.b,O.a)),t["\u0275prd"](512,null,b.a,b.a,[w.HttpClient]),t["\u0275prd"](512,null,c.a,c.a,[]),t["\u0275did"](4,4308992,null,0,R.a,[N.a,f.a,m.a,b.a,i.l,g.a,c.a],{objectInfo:[0,"objectInfo"],readOnly:[1,"readOnly"]},{onHideParent:"onHideParent"})],(function(e,l){var n=l.component;e(l,4,0,n.objectToSearchWU._fwcObjectInfo,n.restrictionsReadOnly)}),null)}function He(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,5,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,2,"label",[["class","fwcBlue"]],null,null,null,null,null)),(e()(),t["\u0275ted"](2,null,["",""])),t["\u0275pid"](131072,i.k,[i.l,t.ChangeDetectorRef]),(e()(),t["\u0275eld"](4,0,null,null,1,"input",[["pInputText",""],["readonly",""],["type","text"]],[[8,"value",0],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"input"]],(function(e,l,n){var i=!0;return"input"===l&&(i=!1!==t["\u0275nov"](e,5).onInput(n)&&i),i}),null,null)),t["\u0275did"](5,278528,null,0,T.InputText,[t.ElementRef,[2,I.NgModel]],null,null)],(function(e,l){e(l,5,0)}),(function(e,l){var n=l.component;e(l,2,0,t["\u0275unv"](l,2,0,t["\u0275nov"](l,3).transform(n.object.parent_type==n.ObjectTypes.OBJ_FIREWALL?"GLOBALS.MSG_OBJ_TYPES.FIREWALL":"GLOBALS.MSG_OBJ_TYPES.CLUSTER"))),e(l,4,0,t["\u0275inlineInterpolate"](1,"",n.object.parent_name,""),!0,!0,!0,!0,t["\u0275nov"](l,5).filled)}))}function Ke(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,5,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,2,"label",[["class","fwcBlue"]],null,null,null,null,null)),(e()(),t["\u0275ted"](2,null,["",""])),t["\u0275pid"](131072,i.k,[i.l,t.ChangeDetectorRef]),(e()(),t["\u0275eld"](4,0,null,null,1,"input",[["pInputText",""],["readonly",""],["type","text"]],[[8,"value",0],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"input"]],(function(e,l,n){var i=!0;return"input"===l&&(i=!1!==t["\u0275nov"](e,5).onInput(n)&&i),i}),null,null)),t["\u0275did"](5,278528,null,0,T.InputText,[t.ElementRef,[2,I.NgModel]],null,null)],(function(e,l){e(l,5,0)}),(function(e,l){var n=l.component;e(l,2,0,t["\u0275unv"](l,2,0,t["\u0275nov"](l,3).transform("VPN.CONFIG.SER"))),e(l,4,0,t["\u0275inlineInterpolate"](1,"",n.object._fwcParentConfigName,""),!0,!0,!0,!0,t["\u0275nov"](l,5).filled)}))}function Ye(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,42,"div",[["class","ui-g-6"]],null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,41,"p-fieldset",[],null,null,null,y.b,y.a)),t["\u0275did"](2,49152,null,0,P.Fieldset,[t.ElementRef],{legend:[0,"legend"]},null),t["\u0275pid"](131072,i.k,[i.l,t.ChangeDetectorRef]),(e()(),t["\u0275eld"](4,0,null,1,38,"div",[["class","ui-g"]],null,null,null,null,null)),(e()(),t["\u0275eld"](5,0,null,null,18,"div",[["class","ui-g-6"]],null,null,null,null,null)),(e()(),t["\u0275eld"](6,0,null,null,11,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(e()(),t["\u0275eld"](7,0,null,null,10,"span",[["class","ui-float-label"]],null,null,null,null,null)),(e()(),t["\u0275eld"](8,0,null,null,6,"input",[["formControlName","install_dir"],["name","install_dir"],["pInputText",""],["style","font-family: monospace !important"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"drop"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,l,n){var i=!0,a=e.component;return"input"===l&&(i=!1!==t["\u0275nov"](e,9)._handleInput(n.target.value)&&i),"blur"===l&&(i=!1!==t["\u0275nov"](e,9).onTouched()&&i),"compositionstart"===l&&(i=!1!==t["\u0275nov"](e,9)._compositionStart()&&i),"compositionend"===l&&(i=!1!==t["\u0275nov"](e,9)._compositionEnd(n.target.value)&&i),"input"===l&&(i=!1!==t["\u0275nov"](e,14).onInput(n)&&i),"drop"===l&&(i=!1!==a.preventDrop()&&i),i}),null,null)),t["\u0275did"](9,16384,null,0,I.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,I.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,I.NG_VALUE_ACCESSOR,(function(e){return[e]}),[I.DefaultValueAccessor]),t["\u0275did"](11,671744,null,0,I.FormControlName,[[3,I.ControlContainer],[8,null],[8,null],[6,I.NG_VALUE_ACCESSOR],[2,I["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,I.NgControl,null,[I.FormControlName]),t["\u0275did"](13,16384,null,0,I.NgControlStatus,[[4,I.NgControl]],null,null),t["\u0275did"](14,278528,null,0,T.InputText,[t.ElementRef,[2,I.NgModel]],null,null),(e()(),t["\u0275eld"](15,0,null,null,2,"label",[["for","install_dir"]],null,null,null,null,null)),(e()(),t["\u0275ted"](16,null,["",""])),t["\u0275pid"](131072,i.k,[i.l,t.ChangeDetectorRef]),(e()(),t["\u0275eld"](18,0,null,null,5,"p",[["class","fwc-error err-no-margin"]],null,null,null,null,null)),t["\u0275prd"](512,null,h["\u0275NgStyleImpl"],h["\u0275NgStyleR2Impl"],[t.ElementRef,t.KeyValueDiffers,t.Renderer2]),t["\u0275did"](20,278528,null,0,h.NgStyle,[h["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](21,{visibility:0}),(e()(),t["\u0275ted"](22,null,["",""])),t["\u0275pid"](131072,i.k,[i.l,t.ChangeDetectorRef]),(e()(),t["\u0275eld"](24,0,null,null,18,"div",[["class","ui-g-6"]],null,null,null,null,null)),(e()(),t["\u0275eld"](25,0,null,null,11,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(e()(),t["\u0275eld"](26,0,null,null,10,"span",[["class","ui-float-label"]],null,null,null,null,null)),(e()(),t["\u0275eld"](27,0,null,null,6,"input",[["formControlName","install_name"],["name","install_name"],["pInputText",""],["style","font-family: monospace !important"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"drop"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,l,n){var i=!0,a=e.component;return"input"===l&&(i=!1!==t["\u0275nov"](e,28)._handleInput(n.target.value)&&i),"blur"===l&&(i=!1!==t["\u0275nov"](e,28).onTouched()&&i),"compositionstart"===l&&(i=!1!==t["\u0275nov"](e,28)._compositionStart()&&i),"compositionend"===l&&(i=!1!==t["\u0275nov"](e,28)._compositionEnd(n.target.value)&&i),"input"===l&&(i=!1!==t["\u0275nov"](e,33).onInput(n)&&i),"drop"===l&&(i=!1!==a.preventDrop()&&i),i}),null,null)),t["\u0275did"](28,16384,null,0,I.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,I.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,I.NG_VALUE_ACCESSOR,(function(e){return[e]}),[I.DefaultValueAccessor]),t["\u0275did"](30,671744,null,0,I.FormControlName,[[3,I.ControlContainer],[8,null],[8,null],[6,I.NG_VALUE_ACCESSOR],[2,I["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,I.NgControl,null,[I.FormControlName]),t["\u0275did"](32,16384,null,0,I.NgControlStatus,[[4,I.NgControl]],null,null),t["\u0275did"](33,278528,null,0,T.InputText,[t.ElementRef,[2,I.NgModel]],null,null),(e()(),t["\u0275eld"](34,0,null,null,2,"label",[["for","install_name"]],null,null,null,null,null)),(e()(),t["\u0275ted"](35,null,["",""])),t["\u0275pid"](131072,i.k,[i.l,t.ChangeDetectorRef]),(e()(),t["\u0275eld"](37,0,null,null,5,"p",[["class","fwc-error err-no-margin"]],null,null,null,null,null)),t["\u0275prd"](512,null,h["\u0275NgStyleImpl"],h["\u0275NgStyleR2Impl"],[t.ElementRef,t.KeyValueDiffers,t.Renderer2]),t["\u0275did"](39,278528,null,0,h.NgStyle,[h["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](40,{visibility:0}),(e()(),t["\u0275ted"](41,null,["",""])),t["\u0275pid"](131072,i.k,[i.l,t.ChangeDetectorRef])],(function(e,l){var n=l.component;e(l,2,0,t["\u0275unv"](l,2,0,t["\u0275nov"](l,3).transform("VPN.PANEL.FIELDS.INST_OPTIONS"))),e(l,11,0,"install_dir"),e(l,14,0);var i=null,a=e(l,21,0,null!=(i=n.formModel.get("install_dir"))&&i.valid||null!=(i=n.formModel.get("install_dir"))&&i.pristine&&null!=(i=n.formModel.get("install_dir"))&&i.untouched?"hidden":"visible");e(l,20,0,a),e(l,30,0,"install_name"),e(l,33,0);var o=null,s=e(l,40,0,null!=(o=n.formModel.get("install_name"))&&o.valid||null!=(o=n.formModel.get("install_name"))&&o.pristine&&null!=(o=n.formModel.get("install_name"))&&o.untouched?"hidden":"visible");e(l,39,0,s)}),(function(e,l){e(l,8,1,[t["\u0275nov"](l,13).ngClassUntouched,t["\u0275nov"](l,13).ngClassTouched,t["\u0275nov"](l,13).ngClassPristine,t["\u0275nov"](l,13).ngClassDirty,t["\u0275nov"](l,13).ngClassValid,t["\u0275nov"](l,13).ngClassInvalid,t["\u0275nov"](l,13).ngClassPending,!0,!0,!0,!0,t["\u0275nov"](l,14).filled]),e(l,16,0,t["\u0275unv"](l,16,0,t["\u0275nov"](l,17).transform("VPN.PANEL.FIELDS.CONFIG_DIR"))),e(l,22,0,t["\u0275unv"](l,22,0,t["\u0275nov"](l,23).transform("VPN.PANEL.ERRORS.INVALID_INSTALL_PATH"))),e(l,27,1,[t["\u0275nov"](l,32).ngClassUntouched,t["\u0275nov"](l,32).ngClassTouched,t["\u0275nov"](l,32).ngClassPristine,t["\u0275nov"](l,32).ngClassDirty,t["\u0275nov"](l,32).ngClassValid,t["\u0275nov"](l,32).ngClassInvalid,t["\u0275nov"](l,32).ngClassPending,!0,!0,!0,!0,t["\u0275nov"](l,33).filled]),e(l,35,0,t["\u0275unv"](l,35,0,t["\u0275nov"](l,36).transform("VPN.PANEL.FIELDS.CONFIG_FILE"))),e(l,41,0,t["\u0275unv"](l,41,0,t["\u0275nov"](l,42).transform("VPN.CONFIG.ERRORS.REMOTEOPTION_ERROR.INVALID_REMOTE_DATA")))}))}function Xe(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,39,"div",[["class","ui-g-6"]],null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,38,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,l,n){var i=!0;return"submit"===l&&(i=!1!==t["\u0275nov"](e,3).onSubmit(n)&&i),"reset"===l&&(i=!1!==t["\u0275nov"](e,3).onReset()&&i),i}),null,null)),t["\u0275did"](2,16384,null,0,I["\u0275angular_packages_forms_forms_z"],[],null,null),t["\u0275did"](3,540672,null,0,I.FormGroupDirective,[[8,null],[8,null]],{form:[0,"form"]},null),t["\u0275prd"](2048,null,I.ControlContainer,null,[I.FormGroupDirective]),t["\u0275did"](5,16384,null,0,I.NgControlStatusGroup,[[4,I.ControlContainer]],null,null),(e()(),t["\u0275eld"](6,0,null,null,33,"p-fieldset",[["legend","Remote"]],null,null,null,y.b,y.a)),t["\u0275did"](7,49152,null,0,P.Fieldset,[t.ElementRef],{legend:[0,"legend"]},null),(e()(),t["\u0275eld"](8,0,null,1,24,"div",[["class","ui-g"]],null,null,null,null,null)),(e()(),t["\u0275eld"](9,0,null,null,6,"div",[["class","ui-g-6"]],null,null,null,null,null)),(e()(),t["\u0275eld"](10,0,null,null,5,"sts-fwc-tree-selector",[],null,[[null,"objectSelected"]],(function(e,l,n){var t=!0;return"objectSelected"===l&&(t=!1!==e.component.onRemoteIPObjectChange(n)&&t),t}),W,G)),t["\u0275prd"](512,null,x.a,x.a,[w.HttpClient]),t["\u0275did"](12,114688,[[3,4],["treeSelector",4]],0,B.a,[k.b,x.a,U.a,u.MessageService,g.a],{fwTreeNodes:[0,"fwTreeNodes"],objectTreeNodes:[1,"objectTreeNodes"],selectableObjects:[2,"selectableObjects"],disabledObjects:[3,"disabledObjects"]},{objectSelected:"objectSelected"}),t["\u0275pad"](13,6),t["\u0275pad"](14,4),t["\u0275pad"](15,2),(e()(),t["\u0275eld"](16,0,null,null,13,"div",[["class","ui-g-5"]],null,null,null,null,null)),(e()(),t["\u0275eld"](17,0,null,null,12,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(e()(),t["\u0275eld"](18,0,null,null,11,"span",[["class","ui-float-label"]],null,null,null,null,null)),(e()(),t["\u0275eld"](19,0,null,null,7,"input",[["formControlName","remote_port"],["name","remote_port"],["pInputText",""],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"drop"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(e,l,n){var i=!0,a=e.component;return"input"===l&&(i=!1!==t["\u0275nov"](e,20)._handleInput(n.target.value)&&i),"blur"===l&&(i=!1!==t["\u0275nov"](e,20).onTouched()&&i),"compositionstart"===l&&(i=!1!==t["\u0275nov"](e,20)._compositionStart()&&i),"compositionend"===l&&(i=!1!==t["\u0275nov"](e,20)._compositionEnd(n.target.value)&&i),"change"===l&&(i=!1!==t["\u0275nov"](e,21).onChange(n.target.value)&&i),"input"===l&&(i=!1!==t["\u0275nov"](e,21).onChange(n.target.value)&&i),"blur"===l&&(i=!1!==t["\u0275nov"](e,21).onTouched()&&i),"input"===l&&(i=!1!==t["\u0275nov"](e,26).onInput(n)&&i),"drop"===l&&(i=!1!==a.preventDrop()&&i),i}),null,null)),t["\u0275did"](20,16384,null,0,I.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,I.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275did"](21,16384,null,0,I.NumberValueAccessor,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,I.NG_VALUE_ACCESSOR,(function(e,l){return[e,l]}),[I.DefaultValueAccessor,I.NumberValueAccessor]),t["\u0275did"](23,671744,null,0,I.FormControlName,[[3,I.ControlContainer],[8,null],[8,null],[6,I.NG_VALUE_ACCESSOR],[2,I["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,I.NgControl,null,[I.FormControlName]),t["\u0275did"](25,16384,null,0,I.NgControlStatus,[[4,I.NgControl]],null,null),t["\u0275did"](26,278528,null,0,T.InputText,[t.ElementRef,[2,I.NgModel]],null,null),(e()(),t["\u0275eld"](27,0,null,null,2,"label",[["for","remote_port"]],null,null,null,null,null)),(e()(),t["\u0275ted"](28,null,["",""])),t["\u0275pid"](131072,i.k,[i.l,t.ChangeDetectorRef]),(e()(),t["\u0275eld"](30,0,null,null,2,"div",[["class","ui-g-1"],["style","padding-top: 1.5rem"]],null,null,null,null,null)),(e()(),t["\u0275eld"](31,0,null,null,1,"button",[["class","ui-button-primary fwcButtonHeight"],["icon","fa fa-plus"],["pButton",""],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(e,l,n){var t=!0;return"click"===l&&(t=!1!==e.component.onAddRemoteOption()&&t),t}),null,null)),t["\u0275did"](32,4341760,null,0,D.ButtonDirective,[t.ElementRef],{icon:[0,"icon"]},null),(e()(),t["\u0275eld"](33,0,null,1,6,"div",[["class","ui-g-12 ui-g-nopad"]],null,null,null,null,null)),(e()(),t["\u0275eld"](34,0,null,null,5,"p",[["class","fwc-error err-no-margin"]],null,null,null,null,null)),t["\u0275prd"](512,null,h["\u0275NgStyleImpl"],h["\u0275NgStyleR2Impl"],[t.ElementRef,t.KeyValueDiffers,t.Renderer2]),t["\u0275did"](36,278528,null,0,h.NgStyle,[h["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](37,{visibility:0}),(e()(),t["\u0275ted"](38,null,["",""])),t["\u0275pid"](131072,i.k,[i.l,t.ChangeDetectorRef])],(function(e,l){var n=l.component;e(l,3,0,n.formModelRemote),e(l,7,0,"Remote");var t=e(l,13,0,n.NodeTypes.FOLDER,n.NodeTypes.OBJ_FIREWALL,n.NodeTypes.OBJ_CLUSTER,n.NodeTypes.FOLDER_INTERFACES,n.NodeTypes.OBJ_IF_FW,n.NodeTypes.OBJ_ADDRESS),i=e(l,14,0,n.NodeTypes.OBJ_ADDRESS,n.NodeTypes.OBJ_DNS,n.NodeTypes.OBJ_HOST,n.NodeTypes.OBJ_IF_HOST),a=e(l,15,0,n.ObjectTypes.OBJ_ADDRESS,n.ObjectTypes.OBJ_DNS);e(l,12,0,t,i,a,n.disabledTreeRemoteOptions),e(l,23,0,"remote_port"),e(l,26,0),e(l,32,0,"fa fa-plus");var o=e(l,37,0,null!=n.formModelRemote&&n.formModelRemote.valid||null!=n.formModelRemote&&n.formModelRemote.pristine&&null!=n.formModelRemote&&n.formModelRemote.untouched?"hidden":"visible");e(l,36,0,o)}),(function(e,l){var n=l.component;e(l,1,0,t["\u0275nov"](l,5).ngClassUntouched,t["\u0275nov"](l,5).ngClassTouched,t["\u0275nov"](l,5).ngClassPristine,t["\u0275nov"](l,5).ngClassDirty,t["\u0275nov"](l,5).ngClassValid,t["\u0275nov"](l,5).ngClassInvalid,t["\u0275nov"](l,5).ngClassPending),e(l,19,1,[t["\u0275nov"](l,25).ngClassUntouched,t["\u0275nov"](l,25).ngClassTouched,t["\u0275nov"](l,25).ngClassPristine,t["\u0275nov"](l,25).ngClassDirty,t["\u0275nov"](l,25).ngClassValid,t["\u0275nov"](l,25).ngClassInvalid,t["\u0275nov"](l,25).ngClassPending,!0,!0,!0,!0,t["\u0275nov"](l,26).filled]),e(l,28,0,t["\u0275unv"](l,28,0,t["\u0275nov"](l,29).transform("CLUSTER.MSG_CLUSTER_EDITION.PORT"))),e(l,31,0,!(null!=n.formModelRemote&&n.formModelRemote.valid)),e(l,38,0,t["\u0275unv"](l,38,0,t["\u0275nov"](l,39).transform("VPN.PANEL.ERRORS.INVALID_INSTALL_FILENAME")))}))}function qe(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,5,"div",[["class","ui-g-6"]],null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,2,"h5",[["class","noVertPad fwcBlue"]],null,null,null,null,null)),(e()(),t["\u0275ted"](2,null,["",""])),t["\u0275pid"](131072,i.k,[i.l,t.ChangeDetectorRef]),(e()(),t["\u0275eld"](4,0,null,null,1,"sts-fwc-ovoptions-grid",[],null,[[null,"optionDeleted"],[null,"dataChanges"]],(function(e,l,n){var t=!0,i=e.component;return"optionDeleted"===l&&(t=!1!==i.onOptionsDelete(n)&&t),"dataChanges"===l&&(t=!1!==i.onOptionsChange(n)&&t),t}),ve,ee)),t["\u0275did"](5,4833280,[[2,4]],0,Q.a,[N.a,f.a,Z.ConfirmationService,i.l],{scope:[0,"scope"],options:[1,"options"]},{dataChanges:"dataChanges",optionDeleted:"optionDeleted"})],(function(e,l){var n=l.component;e(l,5,0,n.OptionScope.ccd,n.object.options)}),(function(e,l){e(l,2,0,t["\u0275unv"](l,2,0,t["\u0275nov"](l,3).transform("VPN.CONFIG.CCD")))}))}function ze(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,105,null,null,null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,104,"p-tabView",[["styleClass","objectInfoTab"]],null,null,null,Ie.d,Ie.b)),t["\u0275did"](2,1097728,null,1,Se.TabView,[t.ElementRef],{styleClass:[0,"styleClass"]},null),t["\u0275qud"](603979776,8,{tabPanels:1}),(e()(),t["\u0275eld"](4,16777216,null,0,101,"p-tabPanel",[["leftIcon","fa fa-pencil-square-o"]],null,null,null,Ie.c,Ie.a)),t["\u0275did"](5,1228800,[[8,4]],1,Se.TabPanel,[t.ViewContainerRef],{header:[0,"header"],leftIcon:[1,"leftIcon"]},null),t["\u0275qud"](603979776,9,{templates:1}),t["\u0275pid"](131072,i.k,[i.l,t.ChangeDetectorRef]),(e()(),t["\u0275eld"](8,0,null,0,97,"div",[["class","fwcObjectPanel"]],null,null,null,null,null)),(e()(),t["\u0275eld"](9,0,null,null,96,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,l,n){var i=!0;return"submit"===l&&(i=!1!==t["\u0275nov"](e,11).onSubmit(n)&&i),"reset"===l&&(i=!1!==t["\u0275nov"](e,11).onReset()&&i),i}),null,null)),t["\u0275did"](10,16384,null,0,I["\u0275angular_packages_forms_forms_z"],[],null,null),t["\u0275did"](11,540672,null,0,I.FormGroupDirective,[[8,null],[8,null]],{form:[0,"form"]},null),t["\u0275prd"](2048,null,I.ControlContainer,null,[I.FormGroupDirective]),t["\u0275did"](13,16384,null,0,I.NgControlStatusGroup,[[4,I.ControlContainer]],null,null),(e()(),t["\u0275eld"](14,0,null,null,91,"fieldset",[],null,[[null,"keyup.enter"],[null,"keyup.esc"]],(function(e,l,n){var t=!0,i=e.component;return"keyup.enter"===l&&(t=!1!==i.checkForm(n)&&t),"keyup.esc"===l&&(t=!1!==i.onCancel()&&t),t}),null,null)),(e()(),t["\u0275eld"](15,0,null,null,90,"div",[["class","ui-g ui-g-nopad"]],null,null,null,null,null)),(e()(),t["\u0275eld"](16,0,null,null,13,"div",[["class","ui-g-12 divOPHeader"]],null,null,null,null,null)),(e()(),t["\u0275eld"](17,0,null,null,12,"div",[["class","ui-g ui-g-nopad"]],null,null,null,null,null)),(e()(),t["\u0275eld"](18,0,null,null,4,"div",[["class","ui-g-6 ui-g-nopad"]],null,null,null,null,null)),(e()(),t["\u0275and"](16777216,null,null,1,null,He)),t["\u0275did"](20,16384,null,0,h.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](16777216,null,null,1,null,Ke)),t["\u0275did"](22,16384,null,0,h.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275eld"](23,0,null,null,6,"div",[["class","ui-g-6 ui-g-nopad"]],null,null,null,null,null)),(e()(),t["\u0275eld"](24,0,null,null,5,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(e()(),t["\u0275eld"](25,0,null,null,2,"label",[["class","fwcBlue"]],null,null,null,null,null)),(e()(),t["\u0275ted"](26,null,["",""])),t["\u0275pid"](131072,i.k,[i.l,t.ChangeDetectorRef]),(e()(),t["\u0275eld"](28,0,null,null,1,"input",[["pInputText",""],["readonly",""],["type","text"]],[[8,"value",0],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"input"]],(function(e,l,n){var i=!0;return"input"===l&&(i=!1!==t["\u0275nov"](e,29).onInput(n)&&i),i}),null,null)),t["\u0275did"](29,278528,null,0,T.InputText,[t.ElementRef,[2,I.NgModel]],null,null),(e()(),t["\u0275eld"](30,0,null,null,48,"div",[["class","ui-g-6"]],null,null,null,null,null)),(e()(),t["\u0275eld"](31,0,null,null,47,"p-fieldset",[],null,null,null,y.b,y.a)),t["\u0275did"](32,49152,null,0,P.Fieldset,[t.ElementRef],{legend:[0,"legend"]},null),(e()(),t["\u0275eld"](33,0,null,1,39,"div",[["class","ui-g"]],null,null,null,null,null)),(e()(),t["\u0275eld"](34,0,null,null,12,"div",[["class","ui-g-5"]],null,null,null,null,null)),(e()(),t["\u0275eld"](35,0,null,null,11,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(e()(),t["\u0275eld"](36,0,null,null,10,"span",[["class","ui-float-label"]],null,null,null,null,null)),(e()(),t["\u0275eld"](37,0,null,null,6,"input",[["formControlName","_ipobj_name"],["name","_ipobj_name"],["pInputText",""],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"drop"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,l,n){var i=!0,a=e.component;return"input"===l&&(i=!1!==t["\u0275nov"](e,38)._handleInput(n.target.value)&&i),"blur"===l&&(i=!1!==t["\u0275nov"](e,38).onTouched()&&i),"compositionstart"===l&&(i=!1!==t["\u0275nov"](e,38)._compositionStart()&&i),"compositionend"===l&&(i=!1!==t["\u0275nov"](e,38)._compositionEnd(n.target.value)&&i),"input"===l&&(i=!1!==t["\u0275nov"](e,43).onInput(n)&&i),"drop"===l&&(i=!1!==a.preventDrop()&&i),i}),null,null)),t["\u0275did"](38,16384,null,0,I.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,I.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,I.NG_VALUE_ACCESSOR,(function(e){return[e]}),[I.DefaultValueAccessor]),t["\u0275did"](40,671744,null,0,I.FormControlName,[[3,I.ControlContainer],[8,null],[8,null],[6,I.NG_VALUE_ACCESSOR],[2,I["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,I.NgControl,null,[I.FormControlName]),t["\u0275did"](42,16384,null,0,I.NgControlStatus,[[4,I.NgControl]],null,null),t["\u0275did"](43,278528,null,0,T.InputText,[t.ElementRef,[2,I.NgModel]],null,null),(e()(),t["\u0275eld"](44,0,null,null,2,"label",[["for","_ipobj_name"]],null,null,null,null,null)),(e()(),t["\u0275ted"](45,null,["",""])),t["\u0275pid"](131072,i.k,[i.l,t.ChangeDetectorRef]),(e()(),t["\u0275eld"](47,0,null,null,12,"div",[["class","ui-g-3"]],null,null,null,null,null)),(e()(),t["\u0275eld"](48,0,null,null,11,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(e()(),t["\u0275eld"](49,0,null,null,10,"span",[["class","ui-float-label"]],null,null,null,null,null)),(e()(),t["\u0275eld"](50,0,null,null,6,"input",[["formControlName","_ipobj_address"],["name","_ipobj_address"],["pInputText",""],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"drop"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,l,n){var i=!0,a=e.component;return"input"===l&&(i=!1!==t["\u0275nov"](e,51)._handleInput(n.target.value)&&i),"blur"===l&&(i=!1!==t["\u0275nov"](e,51).onTouched()&&i),"compositionstart"===l&&(i=!1!==t["\u0275nov"](e,51)._compositionStart()&&i),"compositionend"===l&&(i=!1!==t["\u0275nov"](e,51)._compositionEnd(n.target.value)&&i),"input"===l&&(i=!1!==t["\u0275nov"](e,56).onInput(n)&&i),"drop"===l&&(i=!1!==a.preventDrop()&&i),i}),null,null)),t["\u0275did"](51,16384,null,0,I.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,I.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,I.NG_VALUE_ACCESSOR,(function(e){return[e]}),[I.DefaultValueAccessor]),t["\u0275did"](53,671744,null,0,I.FormControlName,[[3,I.ControlContainer],[8,null],[8,null],[6,I.NG_VALUE_ACCESSOR],[2,I["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,I.NgControl,null,[I.FormControlName]),t["\u0275did"](55,16384,null,0,I.NgControlStatus,[[4,I.NgControl]],null,null),t["\u0275did"](56,278528,null,0,T.InputText,[t.ElementRef,[2,I.NgModel]],null,null),(e()(),t["\u0275eld"](57,0,null,null,2,"label",[["for","_ipobj_address"]],null,null,null,null,null)),(e()(),t["\u0275ted"](58,null,["",""])),t["\u0275pid"](131072,i.k,[i.l,t.ChangeDetectorRef]),(e()(),t["\u0275eld"](60,0,null,null,12,"div",[["class","ui-g-4"]],null,null,null,null,null)),(e()(),t["\u0275eld"](61,0,null,null,11,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(e()(),t["\u0275eld"](62,0,null,null,10,"span",[["class","ui-float-label"]],null,null,null,null,null)),(e()(),t["\u0275eld"](63,0,null,null,6,"input",[["formControlName","_ipobj_netmask"],["name","_ipobj_netmask"],["pInputText",""],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"drop"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,l,n){var i=!0,a=e.component;return"input"===l&&(i=!1!==t["\u0275nov"](e,64)._handleInput(n.target.value)&&i),"blur"===l&&(i=!1!==t["\u0275nov"](e,64).onTouched()&&i),"compositionstart"===l&&(i=!1!==t["\u0275nov"](e,64)._compositionStart()&&i),"compositionend"===l&&(i=!1!==t["\u0275nov"](e,64)._compositionEnd(n.target.value)&&i),"input"===l&&(i=!1!==t["\u0275nov"](e,69).onInput(n)&&i),"drop"===l&&(i=!1!==a.preventDrop()&&i),i}),null,null)),t["\u0275did"](64,16384,null,0,I.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,I.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,I.NG_VALUE_ACCESSOR,(function(e){return[e]}),[I.DefaultValueAccessor]),t["\u0275did"](66,671744,null,0,I.FormControlName,[[3,I.ControlContainer],[8,null],[8,null],[6,I.NG_VALUE_ACCESSOR],[2,I["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,I.NgControl,null,[I.FormControlName]),t["\u0275did"](68,16384,null,0,I.NgControlStatus,[[4,I.NgControl]],null,null),t["\u0275did"](69,278528,null,0,T.InputText,[t.ElementRef,[2,I.NgModel]],null,null),(e()(),t["\u0275eld"](70,0,null,null,2,"label",[["for","_ipobj_netmask"]],null,null,null,null,null)),(e()(),t["\u0275ted"](71,null,["",""])),t["\u0275pid"](131072,i.k,[i.l,t.ChangeDetectorRef]),(e()(),t["\u0275eld"](73,0,null,1,5,"div",[["class","ui-g-12 ui-g-nopad"]],null,null,null,null,null)),(e()(),t["\u0275eld"](74,0,null,null,4,"p",[["class","fwc-error err-no-margin"]],null,null,null,null,null)),t["\u0275prd"](512,null,h["\u0275NgStyleImpl"],h["\u0275NgStyleR2Impl"],[t.ElementRef,t.KeyValueDiffers,t.Renderer2]),t["\u0275did"](76,278528,null,0,h.NgStyle,[h["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](77,{visibility:0}),(e()(),t["\u0275ted"](78,null,["",""])),(e()(),t["\u0275and"](16777216,null,null,1,null,Ye)),t["\u0275did"](80,16384,null,0,h.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](16777216,null,null,1,null,Xe)),t["\u0275did"](82,16384,null,0,h.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](16777216,null,null,1,null,qe)),t["\u0275did"](84,16384,null,0,h.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275eld"](85,0,null,null,7,"div",[],null,null,null,null,null)),t["\u0275prd"](512,null,h["\u0275NgClassImpl"],h["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](87,278528,null,0,h.NgClass,[h["\u0275NgClassImpl"]],{ngClass:[0,"ngClass"]},null),(e()(),t["\u0275eld"](88,0,null,null,2,"h5",[["class","noVertPad fwcBlue"]],null,null,null,null,null)),(e()(),t["\u0275ted"](89,null,["",""])),t["\u0275pid"](131072,i.k,[i.l,t.ChangeDetectorRef]),(e()(),t["\u0275eld"](91,0,null,null,1,"sts-fwc-ovoptions-grid",[],null,[[null,"optionDeleted"],[null,"dataChanges"]],(function(e,l,n){var t=!0,i=e.component;return"optionDeleted"===l&&(t=!1!==i.onOptionsDelete(n)&&t),"dataChanges"===l&&(t=!1!==i.onOptionsChange(n)&&t),t}),ve,ee)),t["\u0275did"](92,4833280,[[2,4]],0,Q.a,[N.a,f.a,Z.ConfirmationService,i.l],{scope:[0,"scope"],options:[1,"options"]},{dataChanges:"dataChanges",optionDeleted:"optionDeleted"}),(e()(),t["\u0275eld"](93,0,null,null,12,"div",[["class","ui-g-12"],["style","margin-top: 1rem"]],null,null,null,null,null)),(e()(),t["\u0275eld"](94,0,null,null,11,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(e()(),t["\u0275eld"](95,0,null,null,10,"span",[["class","ui-float-label"]],null,null,null,null,null)),(e()(),t["\u0275eld"](96,0,null,null,6,"input",[["formControlName","comment"],["name","comment"],["pInputText",""],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"drop"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,l,n){var i=!0,a=e.component;return"input"===l&&(i=!1!==t["\u0275nov"](e,97)._handleInput(n.target.value)&&i),"blur"===l&&(i=!1!==t["\u0275nov"](e,97).onTouched()&&i),"compositionstart"===l&&(i=!1!==t["\u0275nov"](e,97)._compositionStart()&&i),"compositionend"===l&&(i=!1!==t["\u0275nov"](e,97)._compositionEnd(n.target.value)&&i),"input"===l&&(i=!1!==t["\u0275nov"](e,102).onInput(n)&&i),"drop"===l&&(i=!1!==a.preventDrop()&&i),i}),null,null)),t["\u0275did"](97,16384,null,0,I.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,I.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,I.NG_VALUE_ACCESSOR,(function(e){return[e]}),[I.DefaultValueAccessor]),t["\u0275did"](99,671744,null,0,I.FormControlName,[[3,I.ControlContainer],[8,null],[8,null],[6,I.NG_VALUE_ACCESSOR],[2,I["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,I.NgControl,null,[I.FormControlName]),t["\u0275did"](101,16384,null,0,I.NgControlStatus,[[4,I.NgControl]],null,null),t["\u0275did"](102,278528,null,0,T.InputText,[t.ElementRef,[2,I.NgModel]],null,null),(e()(),t["\u0275eld"](103,0,null,null,2,"label",[["for","comment"]],null,null,null,null,null)),(e()(),t["\u0275ted"](104,null,["",""])),t["\u0275pid"](131072,i.k,[i.l,t.ChangeDetectorRef])],(function(e,l){var n=l.component;e(l,2,0,"objectInfoTab"),e(l,5,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](l,5,0,t["\u0275nov"](l,7).transform("VPN.PANEL.DATA")),""),"fa fa-pencil-square-o"),e(l,11,0,n.formModel),e(l,20,0,n.object.obj_type==n.ObjectTypes.OBJ_VPN_CONFIG_SER),e(l,22,0,n.object.obj_type==n.ObjectTypes.OBJ_VPN_CONFIG_CLI),e(l,29,0),e(l,32,0,t["\u0275inlineInterpolate"](1,"",n.fieldsetTitle,"")),e(l,40,0,"_ipobj_name"),e(l,43,0),e(l,53,0,"_ipobj_address"),e(l,56,0),e(l,66,0,"_ipobj_netmask"),e(l,69,0);var i=null,a=e(l,77,0,null!=(i=n.formModel.get("_ipobj_address"))&&i.valid||null!=(i=n.formModel.get("_ipobj_address"))&&i.pristine&&null!=(i=n.formModel.get("_ipobj_address"))&&i.untouched?"hidden":"visible");e(l,76,0,a),e(l,80,0,n.object.obj_type==n.ObjectTypes.OBJ_VPN_CONFIG_SER),e(l,82,0,n.object.obj_type==n.ObjectTypes.OBJ_VPN_CONFIG_CLI),e(l,84,0,n.object.obj_type==n.ObjectTypes.OBJ_VPN_CONFIG_CLI),e(l,87,0,n.object.obj_type==n.ObjectTypes.OBJ_VPN_CONFIG_CLI?"ui-g-6":"ui-g-12"),e(l,92,0,n.OptionScope.ovp,n.object.options),e(l,99,0,"comment"),e(l,102,0)}),(function(e,l){var n=l.component;e(l,9,0,t["\u0275nov"](l,13).ngClassUntouched,t["\u0275nov"](l,13).ngClassTouched,t["\u0275nov"](l,13).ngClassPristine,t["\u0275nov"](l,13).ngClassDirty,t["\u0275nov"](l,13).ngClassValid,t["\u0275nov"](l,13).ngClassInvalid,t["\u0275nov"](l,13).ngClassPending),e(l,26,0,t["\u0275unv"](l,26,0,t["\u0275nov"](l,27).transform("VPN.CONFIG.CN"))),e(l,28,0,t["\u0275inlineInterpolate"](1,"",n.object._fwcCrtName,""),!0,!0,!0,!0,t["\u0275nov"](l,29).filled),e(l,37,1,[t["\u0275nov"](l,42).ngClassUntouched,t["\u0275nov"](l,42).ngClassTouched,t["\u0275nov"](l,42).ngClassPristine,t["\u0275nov"](l,42).ngClassDirty,t["\u0275nov"](l,42).ngClassValid,t["\u0275nov"](l,42).ngClassInvalid,t["\u0275nov"](l,42).ngClassPending,!0,!0,!0,!0,t["\u0275nov"](l,43).filled]),e(l,45,0,t["\u0275unv"](l,45,0,t["\u0275nov"](l,46).transform("ITEM_PANEL.FIELDS.NAME"))),e(l,50,1,[t["\u0275nov"](l,55).ngClassUntouched,t["\u0275nov"](l,55).ngClassTouched,t["\u0275nov"](l,55).ngClassPristine,t["\u0275nov"](l,55).ngClassDirty,t["\u0275nov"](l,55).ngClassValid,t["\u0275nov"](l,55).ngClassInvalid,t["\u0275nov"](l,55).ngClassPending,!0,!0,!0,!0,t["\u0275nov"](l,56).filled]),e(l,58,0,t["\u0275unv"](l,58,0,t["\u0275nov"](l,59).transform("ITEM_PANEL.FIELDS.ADDRESS"))),e(l,63,1,[t["\u0275nov"](l,68).ngClassUntouched,t["\u0275nov"](l,68).ngClassTouched,t["\u0275nov"](l,68).ngClassPristine,t["\u0275nov"](l,68).ngClassDirty,t["\u0275nov"](l,68).ngClassValid,t["\u0275nov"](l,68).ngClassInvalid,t["\u0275nov"](l,68).ngClassPending,!0,!0,!0,!0,t["\u0275nov"](l,69).filled]),e(l,71,0,t["\u0275unv"](l,71,0,t["\u0275nov"](l,72).transform("ITEM_PANEL.FIELDS.MASK"))),e(l,78,0,n.ipNetmaskErrorMsg),e(l,89,0,t["\u0275unv"](l,89,0,t["\u0275nov"](l,90).transform("VPN.CONFIG.OVP"))),e(l,96,1,[t["\u0275nov"](l,101).ngClassUntouched,t["\u0275nov"](l,101).ngClassTouched,t["\u0275nov"](l,101).ngClassPristine,t["\u0275nov"](l,101).ngClassDirty,t["\u0275nov"](l,101).ngClassValid,t["\u0275nov"](l,101).ngClassInvalid,t["\u0275nov"](l,101).ngClassPending,!0,!0,!0,!0,t["\u0275nov"](l,102).filled]),e(l,104,0,t["\u0275unv"](l,104,0,t["\u0275nov"](l,105).transform("ITEM_PANEL.FIELDS.COMMENTS")))}))}function Qe(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,5,null,null,null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,4,"button",[["class","ui-button-danger"],["icon","fa fa-trash"],["pButton",""],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(e,l,n){var t=!0;return"click"===l&&(t=!1!==e.component.onProcessDeleteAction()&&t),t}),null,null)),t["\u0275did"](2,4341760,null,0,D.ButtonDirective,[t.ElementRef],{label:[0,"label"],icon:[1,"icon"]},null),t["\u0275pid"](131072,i.k,[i.l,t.ChangeDetectorRef]),t["\u0275pod"](4,{obj_type:0}),t["\u0275pid"](131072,i.k,[i.l,t.ChangeDetectorRef])],(function(e,l){var n=l.component,i=t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](l,2,0,t["\u0275nov"](l,5).transform("CONTEXT.VPN_CONFIG.DELETE_2",e(l,4,0,t["\u0275unv"](l,2,0,t["\u0275nov"](l,3).transform("GLOBALS.DB_OBJECT_NAMES."+n.objectToDelete._fwcObjType+"_ABBR"))))),"");e(l,2,0,i,"fa fa-trash")}),(function(e,l){var n=l.component;e(l,1,0,!n.okToDelete||n.loadingData||n.savingData)}))}function Ze(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,2,"button",[["class","ui-button-secondary"],["icon","fa fa-clipboard"],["pButton",""]],[[8,"disabled",0]],[[null,"click"]],(function(e,l,n){var t=!0;return"click"===l&&(t=!1!==e.component.onCopyConfigFile()&&t),t}),null,null)),t["\u0275did"](1,4341760,null,0,D.ButtonDirective,[t.ElementRef],{label:[0,"label"],icon:[1,"icon"]},null),t["\u0275pid"](131072,i.k,[i.l,t.ChangeDetectorRef])],(function(e,l){e(l,1,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](l,1,0,t["\u0275nov"](l,2).transform("VPN.CONFIG.CLIPBOARD.BUTTON")),""),"fa fa-clipboard")}),(function(e,l){e(l,0,0,l.component.loadingData)}))}function el(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,2,"button",[["class","ui-button-secondary"],["icon","fa fa-download"],["pButton",""]],[[8,"disabled",0]],[[null,"click"]],(function(e,l,n){var t=!0;return"click"===l&&(t=!1!==e.component.onDownloadConfigFile()&&t),t}),null,null)),t["\u0275did"](1,4341760,null,0,D.ButtonDirective,[t.ElementRef],{label:[0,"label"],icon:[1,"icon"]},null),t["\u0275pid"](131072,i.k,[i.l,t.ChangeDetectorRef])],(function(e,l){e(l,1,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](l,1,0,t["\u0275nov"](l,2).transform("VPN.CONFIG.DOWNLOAD.BUTTON")),""),"fa fa-download")}),(function(e,l){e(l,0,0,l.component.loadingData)}))}function ll(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,4,null,null,null,null,null,null,null)),(e()(),t["\u0275and"](16777216,null,null,1,null,Ze)),t["\u0275did"](2,16384,null,0,h.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](16777216,null,null,1,null,el)),t["\u0275did"](4,16384,null,0,h.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](0,null,null,0))],(function(e,l){var n=l.component;e(l,2,0,!(null!=n.errorMsgs&&n.errorMsgs.length)&&(null==n.configFile?null:n.configFile.length)),e(l,4,0,!(null!=n.errorMsgs&&n.errorMsgs.length)&&(null==n.configFile?null:n.configFile.length))}),null)}function nl(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,2,"button",[["class","ui-button-warning"],["icon","fa fa-pause"],["pButton",""],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(e,l,n){var t=!0;return"click"===l&&(t=!1!==e.component.doPauseProcess(!0)&&t),t}),null,null)),t["\u0275did"](1,4341760,null,0,D.ButtonDirective,[t.ElementRef],{label:[0,"label"],icon:[1,"icon"]},null),t["\u0275pid"](131072,i.k,[i.l,t.ChangeDetectorRef])],(function(e,l){e(l,1,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](l,1,0,t["\u0275nov"](l,2).transform("COMPILE.PAUSE")),""),"fa fa-pause")}),(function(e,l){e(l,0,0,l.component.disableButtons)}))}function tl(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,2,"button",[["class","ui-button-success"],["icon","fa fa-play"],["pButton",""],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(e,l,n){var t=!0;return"click"===l&&(t=!1!==e.component.doContinueProcess()&&t),t}),null,null)),t["\u0275did"](1,4341760,null,0,D.ButtonDirective,[t.ElementRef],{label:[0,"label"],icon:[1,"icon"]},null),t["\u0275pid"](131072,i.k,[i.l,t.ChangeDetectorRef])],(function(e,l){e(l,1,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](l,1,0,t["\u0275nov"](l,2).transform("COMPILE.CONTINUE")),""),"fa fa-play")}),(function(e,l){e(l,0,0,l.component.disableButtons)}))}function il(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,4,null,null,null,null,null,null,null)),(e()(),t["\u0275and"](16777216,null,null,1,null,nl)),t["\u0275did"](2,16384,null,0,h.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](16777216,null,null,1,null,tl)),t["\u0275did"](4,16384,null,0,h.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](0,null,null,0))],(function(e,l){var n=l.component;e(l,2,0,!n.pauseProcess&&n.operationInProcessId<n.operationQueue.length),e(l,4,0,n.pauseProcess&&n.operationInProcessId<n.operationQueue.length)}),null)}function al(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,2,"button",[["class","ui-button-danger"],["icon","pi pi-times"],["pButton",""]],[[8,"disabled",0]],[[null,"click"]],(function(e,l,n){var t=!0;return"click"===l&&(t=!1!==e.component.onCancel()&&t),t}),null,null)),t["\u0275did"](1,4341760,null,0,D.ButtonDirective,[t.ElementRef],{label:[0,"label"],icon:[1,"icon"]},null),t["\u0275pid"](131072,i.k,[i.l,t.ChangeDetectorRef])],(function(e,l){e(l,1,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](l,1,0,t["\u0275nov"](l,2).transform("GLOBALS.MSG_BUTTONS.CANCEL")),""),"pi pi-times")}),(function(e,l){var n=l.component;e(l,0,0,!n.object||n.loadingData||n.savingData)}))}function ol(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,2,"button",[["class","ui-button-success"],["icon","fa fa-floppy-o"],["pButton",""]],[[8,"disabled",0]],[[null,"click"]],(function(e,l,n){var t=!0;return"click"===l&&(t=!1!==e.component.onSave()&&t),t}),null,null)),t["\u0275did"](1,4341760,null,0,D.ButtonDirective,[t.ElementRef],{label:[0,"label"],icon:[1,"icon"]},null),t["\u0275pid"](131072,i.k,[i.l,t.ChangeDetectorRef])],(function(e,l){e(l,1,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](l,1,0,t["\u0275nov"](l,2).transform("GLOBALS.MSG_BUTTONS.SAVE")),""),"fa fa-floppy-o")}),(function(e,l){var n=l.component;e(l,0,0,!n.formModel.valid||n.formModel.pristine||n.loadingData||n.savingData)}))}function sl(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,4,null,null,null,null,null,null,null)),(e()(),t["\u0275and"](16777216,null,null,1,null,al)),t["\u0275did"](2,16384,null,0,h.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](16777216,null,null,1,null,ol)),t["\u0275did"](4,16384,null,0,h.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](0,null,null,0))],(function(e,l){var n=l.component;e(l,2,0,!n.formModel.pristine),e(l,4,0,!n.formModel.pristine)}),null)}function rl(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,2,"button",[["class","ui-button-primary"],["icon","pi pi-times"],["pButton",""]],[[8,"disabled",0]],[[null,"click"]],(function(e,l,n){var t=!0;return"click"===l&&(t=!1!==e.component.onCancel()&&t),t}),null,null)),t["\u0275did"](1,4341760,null,0,D.ButtonDirective,[t.ElementRef],{label:[0,"label"],icon:[1,"icon"]},null),t["\u0275pid"](131072,i.k,[i.l,t.ChangeDetectorRef])],(function(e,l){e(l,1,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](l,1,0,t["\u0275nov"](l,2).transform("GLOBALS.MSG_BUTTONS.CLOSE")),""),"pi pi-times")}),(function(e,l){var n=l.component;e(l,0,0,n.savingData||n.disableButtons)}))}function ul(e){return t["\u0275vid"](0,[t["\u0275pid"](0,c.a,[]),t["\u0275qud"](671088640,1,{dialog:0}),t["\u0275qud"](671088640,2,{optionsGrids:1}),t["\u0275qud"](671088640,3,{treeSelector:0}),t["\u0275qud"](671088640,4,{txtConfigFile:0}),t["\u0275qud"](671088640,5,{log:0}),(e()(),t["\u0275eld"](6,0,null,null,52,"p-dialog",[["styleClass","dlgFwcDialog fwcObjectDialog"]],null,[[null,"visibleChange"],[null,"onShow"],[null,"onHide"]],(function(e,l,n){var t=!0,i=e.component;return"visibleChange"===l&&(t=!1!==(i.displayDialog=n)&&t),"onShow"===l&&(t=!1!==i.onShowDialog(n)&&t),"onHide"===l&&(t=!1!==i.onHideDialog(n)&&t),t}),Ce.b,Ce.a)),t["\u0275did"](7,180224,[[1,4],["dlgOVConfigPanel",4]],2,Ee.Dialog,[t.ElementRef,t.Renderer2,t.NgZone],{visible:[0,"visible"],resizable:[1,"resizable"],modal:[2,"modal"],closable:[3,"closable"],style:[4,"style"],styleClass:[5,"styleClass"]},{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange"}),t["\u0275qud"](603979776,6,{headerFacet:1}),t["\u0275qud"](603979776,7,{footerFacet:1}),t["\u0275pod"](10,{width:0}),(e()(),t["\u0275eld"](11,0,null,0,14,"p-header",[],null,null,null,Oe.d,Oe.b)),t["\u0275did"](12,49152,[[6,4]],0,V.Header,[],null,null),(e()(),t["\u0275and"](16777216,null,0,1,null,we)),t["\u0275did"](14,16384,null,0,h.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](16777216,null,0,1,null,Re)),t["\u0275did"](16,16384,null,0,h.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](16777216,null,0,1,null,Ne)),t["\u0275did"](18,16384,null,0,h.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](16777216,null,0,1,null,Te)),t["\u0275did"](20,16384,null,0,h.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](16777216,null,0,1,null,ye)),t["\u0275did"](22,16384,null,0,h.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275eld"](23,0,null,0,2,"div",[["class","divHeaderButtons"]],null,null,null,null,null)),(e()(),t["\u0275eld"](24,0,null,null,1,"button",[["class","ui-button-secondary"],["icon","fa fa-window-minimize"],["pButton",""],["type","button"]],null,[[null,"click"]],(function(e,l,n){var t=!0;return"click"===l&&(t=!1!==e.component.minimizeDialog()&&t),t}),null,null)),t["\u0275did"](25,4341760,null,0,D.ButtonDirective,[t.ElementRef],{icon:[0,"icon"]},null),(e()(),t["\u0275and"](16777216,null,1,1,null,Pe)),t["\u0275did"](27,16384,null,0,h.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](16777216,null,1,1,null,De)),t["\u0275did"](29,16384,null,0,h.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](16777216,null,1,1,null,Ve)),t["\u0275did"](31,16384,null,0,h.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](16777216,null,1,1,null,xe)),t["\u0275did"](33,16384,null,0,h.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](16777216,null,1,1,null,$e)),t["\u0275did"](35,16384,null,0,h.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](16777216,null,1,1,null,We)),t["\u0275did"](37,16384,null,0,h.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](16777216,null,1,1,null,ze)),t["\u0275did"](39,16384,null,0,h.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275eld"](40,0,null,2,18,"p-footer",[],null,null,null,Oe.c,Oe.a)),t["\u0275did"](41,49152,[[7,4]],0,V.Footer,[],null,null),(e()(),t["\u0275eld"](42,0,null,0,6,"div",[["class","divLoadTemp"]],null,null,null,null,null)),t["\u0275prd"](512,null,h["\u0275NgStyleImpl"],h["\u0275NgStyleR2Impl"],[t.ElementRef,t.KeyValueDiffers,t.Renderer2]),t["\u0275did"](44,278528,null,0,h.NgStyle,[h["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](45,{visibility:0}),(e()(),t["\u0275eld"](46,0,null,null,2,"p-progressSpinner",[],null,null,null,a.b,a.a)),t["\u0275did"](47,49152,null,0,o.ProgressSpinner,[],{style:[0,"style"]},null),t["\u0275pod"](48,{width:0,height:1}),(e()(),t["\u0275and"](16777216,null,0,1,null,Qe)),t["\u0275did"](50,16384,null,0,h.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](16777216,null,0,1,null,ll)),t["\u0275did"](52,16384,null,0,h.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](16777216,null,0,1,null,il)),t["\u0275did"](54,16384,null,0,h.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](16777216,null,0,1,null,sl)),t["\u0275did"](56,16384,null,0,h.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](16777216,null,0,1,null,rl)),t["\u0275did"](58,16384,null,0,h.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(e,l){var n=l.component,t=n.displayDialog,i=e(l,10,0,"80vw");e(l,7,0,t,!0,!0,!1,i,"dlgFwcDialog fwcObjectDialog"),e(l,14,0,n.objectToDelete),e(l,16,0,n.objectToRetrieve),e(l,18,0,n.objectToManage),e(l,20,0,n.objectToSearchWU),e(l,22,0,!(n.objectToDelete||n.objectToRetrieve||n.objectToManage||n.objectToSearchWU)),e(l,25,0,"fa fa-window-minimize"),e(l,27,0,n.loadingData),e(l,29,0,null==n.errorMsgs?null:n.errorMsgs.length),e(l,31,0,n.objectToDelete&&!n.loadingData&&!(null!=n.errorMsgs&&n.errorMsgs.length)),e(l,33,0,n.objectToRetrieve&&!n.loadingData&&!(null!=n.errorMsgs&&n.errorMsgs.length)),e(l,35,0,n.objectToManage&&!n.loadingData&&!(null!=n.errorMsgs&&n.errorMsgs.length)),e(l,37,0,n.objectToSearchWU&&!n.loadingData&&!(null!=n.errorMsgs&&n.errorMsgs.length)),e(l,39,0,n.object&&n.formModel&&!n.loadingData&&!(null!=n.errorMsgs&&n.errorMsgs.length));var a=e(l,45,0,n.savingData?"visible":"hidden");e(l,44,0,a);var o=e(l,48,0,"1.7rem","1.7rem");e(l,47,0,o),e(l,50,0,n.objectToDelete),e(l,52,0,n.objectToRetrieve),e(l,54,0,n.objectToManage),e(l,56,0,n.object&&n.formModel),e(l,58,0,!n.object||!n.formModel||n.object&&n.formModel&&n.formModel.pristine)}),null)}},"g/5Y":function(e,l,n){"use strict";var t=n("8Y7J"),i=n("Meih"),a=n("SlyN"),o=n("B58V"),s=n("7LN8"),r=n("IL0X"),u=n("SVse"),d=t["\u0275crt"]({encapsulation:2,styles:[],data:{}});function c(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,0,"span",[["class","ui-message-text"]],[[8,"innerHTML",1]],null,null,null,null))],null,(function(e,l){e(l,0,0,l.component.text)}))}function p(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),t["\u0275and"](16777216,null,null,1,null,c)),t["\u0275did"](2,16384,null,0,u.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(e,l){e(l,2,0,!l.component.escape)}),null)}function f(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,1,"span",[["class","ui-message-text"]],null,null,null,null,null)),(e()(),t["\u0275ted"](1,null,["",""]))],null,(function(e,l){e(l,1,0,l.component.text)}))}function m(e){return t["\u0275vid"](0,[(e()(),t["\u0275and"](16777216,null,null,1,null,f)),t["\u0275did"](1,16384,null,0,u.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](0,null,null,0))],(function(e,l){e(l,1,0,l.component.escape)}),null)}function g(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,9,"div",[["aria-live","polite"],["class","ui-message ui-widget ui-corner-all"]],null,null,null,null,null)),t["\u0275prd"](512,null,u["\u0275NgClassImpl"],u["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](2,278528,null,0,u.NgClass,[u["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](3,{"ui-message-info":0,"ui-message-warn":1,"ui-message-error":2,"ui-message-success":3}),(e()(),t["\u0275eld"](4,0,null,null,2,"span",[["class","ui-message-icon"]],null,null,null,null,null)),t["\u0275prd"](512,null,u["\u0275NgClassImpl"],u["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](6,278528,null,0,u.NgClass,[u["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),t["\u0275and"](16777216,null,null,1,null,p)),t["\u0275did"](8,16384,null,0,u.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),t["\u0275and"](0,[["escapeOut",2]],null,0,null,m))],(function(e,l){var n=l.component,i=e(l,3,0,"info"===n.severity,"warn"===n.severity,"error"===n.severity,"success"===n.severity);e(l,2,0,"ui-message ui-widget ui-corner-all",i),e(l,6,0,"ui-message-icon",n.icon),e(l,8,0,!n.escape,t["\u0275nov"](l,9))}),null)}function h(e){return t["\u0275vid"](0,[(e()(),t["\u0275and"](16777216,null,null,1,null,g)),t["\u0275did"](1,16384,null,0,u.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(e,l){e(l,1,0,l.component.severity)}),null)}var _=n("TSSN");n("7PmC"),n("IheW"),n("m6j1"),n("iiPk"),n("AjHW"),n("H9gU"),n("Mebi"),n("77Y5"),n.d(l,"a",(function(){return v})),n.d(l,"b",(function(){return R}));var v=t["\u0275crt"]({encapsulation:2,styles:[[".divWUPanel label{text-align:left!important;font-family:arial!important;color:#0069a7}"]],data:{}});function I(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,1,"div",[["class","noselect"]],null,[[null,"dblclick"]],(function(e,l,n){var t=!0;return"dblclick"===l&&(t=!1!==e.component.itemDblClickEvent(n,e.context.$implicit)&&t),t}),null,null)),(e()(),t["\u0275eld"](1,0,null,null,0,"span",[],[[8,"innerHTML",1]],null,null,null,null))],null,(function(e,l){e(l,1,0,t["\u0275inlineInterpolate"](1,"",l.context.$implicit.label,""))}))}function S(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,4,"p-tree",[["selectionMode","single"],["styleClass","treeSelector treeWU"]],null,[[null,"selectionChange"]],(function(e,l,n){var t=!0;return"selectionChange"===l&&(t=!1!==(e.component.selectedRule=n)&&t),t}),i.b,i.a)),t["\u0275did"](1,1294336,null,1,a.Tree,[t.ElementRef,[2,o.TreeDragDropService]],{value:[0,"value"],selectionMode:[1,"selectionMode"],selection:[2,"selection"],styleClass:[3,"styleClass"]},{selectionChange:"selectionChange"}),t["\u0275qud"](603979776,1,{templates:1}),(e()(),t["\u0275and"](0,null,null,1,null,I)),t["\u0275did"](4,16384,[[1,4]],0,s.PrimeTemplate,[t.TemplateRef],{name:[0,"name"]},null)],(function(e,l){var n=l.component;e(l,1,0,n.ruleItemsNodes,"single",n.selectedRule,"treeSelector treeWU"),e(l,4,0,"default")}),null)}function C(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,2,"p-message",[["severity","warn"]],null,null,null,h,d)),t["\u0275did"](1,49152,null,0,r.UIMessage,[],{severity:[0,"severity"],text:[1,"text"]},null),t["\u0275pid"](131072,_.k,[_.l,t.ChangeDetectorRef])],(function(e,l){e(l,1,0,"warn",t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](l,1,1,t["\u0275nov"](l,2).transform("WU.NOT_USED_RULE")),""))}),null)}function E(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,1,"div",[["class","noselect"]],null,[[null,"dblclick"]],(function(e,l,n){var t=!0;return"dblclick"===l&&(t=!1!==e.component.itemDblClickEvent(n,e.context.$implicit)&&t),t}),null,null)),(e()(),t["\u0275eld"](1,0,null,null,0,"span",[],[[8,"innerHTML",1]],null,null,null,null))],null,(function(e,l){e(l,1,0,t["\u0275inlineInterpolate"](1,"",l.context.$implicit.label,""))}))}function O(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,4,"p-tree",[["selectionMode","single"],["styleClass","treeSelector treeWU"]],null,[[null,"selectionChange"]],(function(e,l,n){var t=!0;return"selectionChange"===l&&(t=!1!==(e.component.selectedObject=n)&&t),t}),i.b,i.a)),t["\u0275did"](1,1294336,null,1,a.Tree,[t.ElementRef,[2,o.TreeDragDropService]],{value:[0,"value"],selectionMode:[1,"selectionMode"],selection:[2,"selection"],styleClass:[3,"styleClass"]},{selectionChange:"selectionChange"}),t["\u0275qud"](603979776,2,{templates:1}),(e()(),t["\u0275and"](0,null,null,1,null,E)),t["\u0275did"](4,16384,[[2,4]],0,s.PrimeTemplate,[t.TemplateRef],{name:[0,"name"]},null)],(function(e,l){var n=l.component;e(l,1,0,n.objectItemsNodes,"single",n.selectedObject,"treeSelector treeWU"),e(l,4,0,"default")}),null)}function b(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,2,"p-message",[["severity","warn"]],null,null,null,h,d)),t["\u0275did"](1,49152,null,0,r.UIMessage,[],{severity:[0,"severity"],text:[1,"text"]},null),t["\u0275pid"](131072,_.k,[_.l,t.ChangeDetectorRef])],(function(e,l){e(l,1,0,"warn",t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](l,1,1,t["\u0275nov"](l,2).transform("WU.NOT_USED_OBJECT")),""))}),null)}function w(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,28,"div",[["class","divWUPanel"]],null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,13,"div",[["class","ui-g-6"]],null,null,null,null,null)),(e()(),t["\u0275eld"](2,0,null,null,8,"div",[],null,null,null,null,null)),(e()(),t["\u0275eld"](3,0,null,null,7,"label",[],null,null,null,null,null)),(e()(),t["\u0275eld"](4,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),t["\u0275eld"](5,0,null,null,0,"i",[["class","fwcMenuIcon fwci-rule fwcOrange"]],null,null,null,null,null)),(e()(),t["\u0275ted"](6,null,["\xa0","\xa0\xa0"])),t["\u0275pid"](131072,_.k,[_.l,t.ChangeDetectorRef]),(e()(),t["\u0275eld"](8,0,null,null,2,"span",[["class","fwcBlueBg fwcBadge"]],null,null,null,null,null)),(e()(),t["\u0275eld"](9,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),t["\u0275ted"](10,null,["",""])),(e()(),t["\u0275and"](16777216,null,null,1,null,S)),t["\u0275did"](12,16384,null,0,u.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](16777216,null,null,1,null,C)),t["\u0275did"](14,16384,null,0,u.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275eld"](15,0,null,null,13,"div",[["class","ui-g-6"]],null,null,null,null,null)),(e()(),t["\u0275eld"](16,0,null,null,8,"div",[],null,null,null,null,null)),(e()(),t["\u0275eld"](17,0,null,null,7,"label",[],null,null,null,null,null)),(e()(),t["\u0275eld"](18,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),t["\u0275eld"](19,0,null,null,0,"i",[["class","fwcMenuIcon fwci-ipobjects fwcOrange"]],null,null,null,null,null)),(e()(),t["\u0275ted"](20,null,["\xa0","\xa0\xa0"])),t["\u0275pid"](131072,_.k,[_.l,t.ChangeDetectorRef]),(e()(),t["\u0275eld"](22,0,null,null,2,"span",[["class","fwcBlueBg fwcBadge"]],null,null,null,null,null)),(e()(),t["\u0275eld"](23,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),t["\u0275ted"](24,null,["",""])),(e()(),t["\u0275and"](16777216,null,null,1,null,O)),t["\u0275did"](26,16384,null,0,u.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](16777216,null,null,1,null,b)),t["\u0275did"](28,16384,null,0,u.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(e,l){var n=l.component;e(l,12,0,null==n.ruleItemsNodes?null:n.ruleItemsNodes.length),e(l,14,0,!(null!=n.ruleItemsNodes&&n.ruleItemsNodes.length)),e(l,26,0,null==n.objectItemsNodes?null:n.objectItemsNodes.length),e(l,28,0,!(null!=n.objectItemsNodes&&n.objectItemsNodes.length))}),(function(e,l){var n=l.component;e(l,6,0,t["\u0275unv"](l,6,0,t["\u0275nov"](l,7).transform("WU.RULES"))),e(l,10,0,n.getTreeItemsNumber(n.ruleItemsNodes)),e(l,20,0,t["\u0275unv"](l,20,0,t["\u0275nov"](l,21).transform("WU.OBJECTS"))),e(l,24,0,n.getTreeItemsNumber(n.objectItemsNodes))}))}function R(e){return t["\u0275vid"](0,[(e()(),t["\u0275and"](16777216,null,null,1,null,w)),t["\u0275did"](1,16384,null,0,u.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(e,l){e(l,1,0,l.component._objectInfo)}),null)}},iiPk:function(e,l,n){"use strict";n.d(l,"a",(function(){return a}));var t=n("8Y7J"),i=(n("AjHW"),n("H9gU"),n("Mebi"),n("7PmC"),n("77Y5"),n("EMdb"));n("m6j1");class a{constructor(e,l,n,a,o,s,r){this.refService=e,this.itemSelectedService=l,this.fwcPolicyService=n,this.fwcPositionService=a,this.translate=o,this.fwcUserService=s,this.pipeFwcIcon=r,this.ObjectTypes=i.v,this.contextMenuReference=null,this.selMode=1,this.onHideParent=new t.EventEmitter}set objectInfo(e){e&&(this._objectInfo=e,this.ruleItemsNodes=this.selectedRule=null,this.objectItemsNodes=this.selectedObject=null,this.parseInfo())}ngOnInit(){this.positions=[]}ngAfterViewInit(){let e=this;setTimeout((function(){let l=e.refService.getAppRef();e.contextMenuReference=l}),1)}parseInfo(){let e,l,n;if(l=this._objectInfo,l&&(n=l.restrictions,n)){this.ruleItemsNodes=[],this.objectItemsNodes=[];for(let l of Object.keys(n)){let t=n[l];Array.isArray(t)&&t.length&&t[0]&&(isNaN(t[0].rule_id)||isNaN(t[0].rule_type)?(e=this.buildObjectTreeNodes(t,l),this.objectItemsNodes.push(e)):this.ruleItemsNodes=this.buildRuleTreeNodes(t))}}}getTreeItemsNumber(e){let l,n=0;if(e)for(l=e.slice(0);l.length;){let e=l.pop();e.children&&e.children.length?l.push(...e.children):n++}return n}itemClickEvent(){}itemDblClickEvent(e,l){let n;if(l?n=l.data:e&&(n=e.value),n&&!this.readOnly)if(n.rule_id&&n.firewall_id&&n.obj_type_id&&!n._fwItem){let e={};e.fwcloud=this.fwcUserService.getActualFwSelectedCloud(),e._fwcSelectRuleId=n.rule_id,e._fwcSelectRulePositionId=n.rule_position_id,e._fwcPolicyType=n.rule_type,e._fwcClusterId=n.cluster_id,e._fwcFwId=n.firewall_id,e._fwcFwName=n.cluster_name?n.cluster_name:n.firewall_name,e.fwcloud=this.fwcUserService.getActualFwSelectedCloud(),e._fwcSelectObjId=n.obj_id,e._fwcSelectObjType=n.obj_type_id,this.fwcPolicyService.setSelectedPolicy(e),this.onHideParent.emit(!0)}else{let e={};if(e._fwcSubObjId=n.obj_id,e._fwcSubObjType=n.obj_type_id,e.fwcloud=n.cloud_id,e._onlySelectInTree=!0,n.group_id)e._fwcObjId=n.group_id,e._fwcObjType=n.group_type;else if(n.interface_id)e._fwcObjId=n.interface_id,e._fwcObjType=n.interface_type_id;else if(n.host_id)e._fwcObjId=n.host_id,e._fwcObjType=n.host_type;else if(n.openvpn);else{if(!(n.firewall_id&&n.obj_id&&!n.rule_id||n._fwItem))return;e._fwcObjId=n.firewall_id,e._fwcObjType=i.v.OBJ_FIREWALL,n._fwItem&&(e._fwcSubObjId=null,e._fwcSubObjType=null)}this.itemSelectedService.setItem(e)}}buildRuleTreeNodes(e){let l=[];return console.log("IN RULEEEE",e),e.forEach(e=>{let n=l.find(l=>!(!l.data||l.data.firewall_id!=e.firewall_id)),t="WU.FOUND_IN_RULE";if(n){let l={};e.rule_position_name||(t="WU.FOUND_IN_RULE_NO_POS"),l.label=this.translate.instant(t,{policy_name:e.rule_type_name,rule_id:e.rule_id,pos_name:e.rule_position_name}),l.data=Object.assign({},e),n.children||(n.children=[]),n.children.push(l)}else{let n,a,o={},s={};null!=e.cluster_id?(n=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.CLUSTER")+" <strong>"+e.cluster_name+"</strong>",a=i.v.OBJ_CLUSTER):(n=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.FIREWALL")+" <strong>"+e.firewall_name+"</strong>",a=i.v.OBJ_FIREWALL),o.label=n,o.icon=this.pipeFwcIcon.transform(a),o.children=[],o.data=Object.assign({},e),o.data._fwItem=!0,o.expanded=!0,e.rule_position_name||(t="WU.FOUND_IN_RULE_NO_POS"),s.label=this.translate.instant(t,{policy_name:e.rule_type_name,rule_id:e.rule_id,pos_name:e.rule_position_name}),s.data=Object.assign({},e),o.children.push(s),l.push(o)}}),l.length?l:null}buildObjectTreeNodes(e,l){let n,t,a=[];return n={label:"<strong>"+this.translate.instant("ITEM_PANEL.RESTR_KEYS."+l+".1")+"</strong>",icon:"",expanded:!0,children:[]},e.forEach(e=>{let l={};if(e){let n,o,s;isNaN(e.group_id)?!isNaN(e.cluster_id)&&isNaN(e.openvpn)?(n=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.CLUSTER"),o=e.cluster_name,s=this.translate.instant("WU.FOUND_OBJECT",{type_name:n,obj_name:o}),t=this.pipeFwcIcon.transform(i.v.OBJ_CLUSTER)):!isNaN(e.firewall_id)&&isNaN(e.openvpn)?(n=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.FIREWALL"),o=e.firewall_name,s=this.translate.instant("WU.FOUND_OBJECT",{type_name:n,obj_name:o}),t=this.pipeFwcIcon.transform(i.v.OBJ_FIREWALL)):isNaN(e.interface_id)?isNaN(e.host_id)?isNaN(e.openvpn)||(s=null!=e.cluster_id?this.translate.instant("GLOBALS.MSG_OBJ_TYPES.CLUSTER")+" <code>"+e.cluster_name+"</code>":this.translate.instant("GLOBALS.MSG_OBJ_TYPES.FIREWALL")+" <code>"+e.firewall_name+"</code>",s=this.translate.instant("WU.FOUND_IN_OPENVPN",{cn:e.cn,firewall_data:s}),t=this.pipeFwcIcon.transform(i.v.OBJ_VPN_CONFIG_CLI)):(n="Host",o=e.host_name,s=this.translate.instant("WU.FOUND_OBJECT",{type_name:n,obj_name:o}),t=this.pipeFwcIcon.transform(i.v.OBJ_HOST)):(n=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.OBJ_INTERFACE_FIREWALL"),o=e.interface_name,s=this.translate.instant("WU.FOUND_OBJECT",{type_name:n,obj_name:o}),t=this.pipeFwcIcon.transform(i.v.OBJ_INTERFACE_FIREWALL)):(n=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.OBJ_GROUP"),o=e.group_name,s=this.translate.instant("WU.FOUND_OBJECT",{type_name:n,obj_name:o}),t=this.pipeFwcIcon.transform(i.v.OBJ_GROUP)),l.label=s,l.data=Object.assign({},e),a.push(l)}}),n.icon=t,n.children=a,n}}},kp3z:function(e,l,n){"use strict";n.d(l,"a",(function(){return a}));var t=n("8Y7J"),i=n("EMdb");n("VHTt"),n("H9gU"),n("Mebi"),n("77Y5"),n("m6j1");class a{constructor(e,l,n,i,a){this.translate=e,this.itemSelectedService=l,this.fwcPolicyService=n,this.fwcUserService=i,this.pipeFwcIcon=a,this.onHideParent=new t.EventEmitter,this.selectedObject=null}set dependencies(e){e&&(this.dependenciesTree=this.buildDependencyTree(e))}ngOnInit(){}buildDependencyTree(e){let l,n,t,i=[];e._fwcRestrictedObject&&(n=e._fwcRestrictedObject._fwcObjId,t=e._fwcRestrictedObject._fwcObjType,delete e._fwcRestrictedObject);for(let a of Object.keys(e)){let o=e[a];Array.isArray(o)?o.length&&o[0]&&(isNaN(o[0].rule_id)||isNaN(o[0].rule_type)||isNaN(o[0].rule_position_id)?!isNaN(o[0].group_id)&&o[0].group_name?(l=this.buildGroupDependencyTreeNodes(o,a,n,t),i.push(l)):isNaN(o[0].openvpn)||(l=this.buildOpenVPNDependencyTreeNodes(o,a,n,t),i.push(l)):(l=this.buildRuleDependencyTreeNodes(o,a,n,t),i.push(l))):i.push({label:this.translate.instant("ITEM_PANEL.RESTR_KEYS."+a+".0"),icon:"fa fa-ban fwcBlue",children:[]})}return i}itemDblClickEvent(e,l){let n=l.data;if(n&&!this.readOnly)if(n.rule_id&&n.rule_position_id&&n.firewall_id&&n.obj_type_id&&!n._fwItem){let e={};e.fwcloud=this.fwcUserService.getActualFwSelectedCloud(),e._fwcSelectRuleId=n.rule_id,e._fwcSelectRulePositionId=n.rule_position_id,e._fwcPolicyType=n.rule_type,e._fwcClusterId=n.cluster_id,e._fwcFwId=n.firewall_id,e._fwcFwName=n.cluster_name?n.cluster_name:n.firewall_name,e._fwcSelectObjId=n.obj_id,e._fwcSelectObjType=n.obj_type_id,this.fwcPolicyService.setSelectedPolicy(e),this.onHideParent.emit(!0)}else{let e;if(e=Object.assign({},{}),e._fwcSubObjId=n.obj_id,e._fwcSubObjType=n.obj_type_id,e.fwcloud=n.cloud_id,e._onlySelectInTree=!0,n.group_id)e._fwcObjId=n.group_id,e._fwcObjType=n.group_type;else if(n.interface_id)e._fwcObjId=n.interface_id,e._fwcObjType=n.interface_type_id;else if(n.host_id)e._fwcObjId=n.host_id,e._fwcObjType=n.host_type;else if(n.openvpn);else{if(!(n.firewall_id&&n.obj_id&&!n.rule_id||n._fwItem))return;e._fwcObjId=n.firewall_id,e._fwcObjType=i.v.OBJ_FIREWALL,n._fwItem&&(e._fwcSubObjId=null,e._fwcSubObjType=null)}this.itemSelectedService.setItem(e)}}buildRuleDependencyTreeNodes(e,l,n,t){let a,o=[];return a={label:"<strong>"+this.translate.instant("ITEM_PANEL.RESTR_KEYS."+l+".0")+"</strong>",icon:"fwci-rule fwcBlue",expanded:!0,children:[]},e.forEach(e=>{let l=o.find(l=>!(!l.data||l.data.firewall_id!=e.firewall_id)),a={};if(e)if(l)this.setRuleNodeInfo(a,e,n,t),a.data=Object.assign({},e),l.children||(l.children=[]),l.children.push(a);else{let l,s,r={};null!=e.cluster_id?(l=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.CLUSTER")+" <code>"+e.cluster_name+"</code>",s=i.v.OBJ_CLUSTER):(l=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.FIREWALL")+" <code>"+e.firewall_name+"</code>",s=i.v.OBJ_FIREWALL),a.label=l,a.icon=this.pipeFwcIcon.transform(s),a.children=[],a.data=Object.assign({},e),a.data._fwItem=!0,a.expanded=!0,this.setRuleNodeInfo(r,e,n,t),r.data=Object.assign({},e),a.children.push(r),o.push(a)}}),a.children=o,a}buildGroupDependencyTreeNodes(e,l,n,t){let a,o,s,r=[];return a={label:"<strong>"+this.translate.instant("ITEM_PANEL.RESTR_KEYS."+l+".0")+"</strong>",icon:"fwci-objectgroups fwcBlue",expanded:!0,children:[]},e.forEach(e=>{let l={};o=this.translate.instant("WU.FOUND_IN_GROUP",{group_name:e.group_name}),s=this.pipeFwcIcon.transform(i.v.OBJ_GROUP),e.obj_type_id&&e.obj_name&&(s=this.pipeFwcIcon.transform(e.obj_type_id),o+=` > <code>${e.obj_name}</code>`),e&&(l.label=o,l.icon=s,l.data=Object.assign({},e),r.push(l))}),a.children=r,a}buildOpenVPNDependencyTreeNodes(e,l,n,t){let a,o,s,r=[];return a={label:"<strong>"+this.translate.instant("ITEM_PANEL.RESTR_KEYS."+l+".0")+"</strong>",icon:"fwci2-openvpn fwcBlue",expanded:!0,children:[]},e.forEach(e=>{let l={};e&&(o=null!=e.cluster_id?this.translate.instant("GLOBALS.MSG_OBJ_TYPES.CLUSTER")+" <code>"+e.cluster_name+"</code>":this.translate.instant("GLOBALS.MSG_OBJ_TYPES.FIREWALL")+" <code>"+e.firewall_name+"</code>",s=this.pipeFwcIcon.transform(i.v.OBJ_VPN_CONFIG_CLI),e.obj_type_id&&e.obj_name&&(s=this.pipeFwcIcon.transform(e.obj_type_id),o+=` > <code>${e.obj_name}</code>`),l.label=this.translate.instant("WU.FOUND_IN_OPENVPN",{cn:e.cn,firewall_data:o}),l.icon=s,l.data=Object.assign({},e),r.push(l))}),a.children=r,a}setRuleNodeInfo(e,l,n,t){let i,a;i=this.translate.instant("WU.FOUND_IN_RULE",{policy_name:l.rule_type_name,rule_id:l.rule_id,pos_name:l.rule_position_name}),(void 0!==n&&void 0!==t&&n!=l.obj_id||t!=l.obj_type_id)&&(i+=` > <code>${l.obj_name}</code>`),a=this.pipeFwcIcon.transform(l.obj_type_id),e.label=i,e.icon=a}}},m6j1:function(e,l,n){"use strict";n.d(l,"a",(function(){return o}));var t=n("EMdb"),i={[t.v.OBJ_FIREWALL]:"fwci-firewall",[t.v.OBJ_SERVICE_IP]:"fwci-ipservice",[t.v.OBJ_SERVICE_TCP]:"fwci-tcpservice",[t.v.OBJ_SERVICE_ICMP]:"fwci-icmpservice",[t.v.OBJ_SERVICE_UDP]:"fwci-udpservice",[t.v.OBJ_ADDRESS]:"fwci-address",[t.v.OBJ_ADDRESS_RANGE]:"fwci-addressrange",[t.v.OBJ_NETWORK]:"fwci-network",[t.v.OBJ_HOST]:"fwci-host",[t.v.OBJ_INTERFACE_FIREWALL]:"fwci-interface fwcGreen",[t.v.OBJ_INTERFACE_HOST]:"fwci-interface fwcGreen",[t.v.OBJ_GROUP]:"fwci-objectgroup",[t.v.OBJ_SERVICE_GROUP]:"fwci-servicegroup",[t.v.OBJ_GEN_IP_OBJECT]:"fwci-ipobjects",[t.v.OBJ_CLUSTER]:"fwci-cluster fwcDarkBlue",[t.v.OBJ_DNS]:"fwci2-dns-in",[t.v.OBJ_MARK]:"fwci2-label",[t.v.OBJ_CA]:"fwci2-ca",[t.v.OBJ_CERT_CLI]:"fwci2-certificate",[t.v.OBJ_CERT_SER]:"fwci2-certificate fwcDarkBlue",[t.v.OBJ_VPN_CONFIG_CLI]:"fwci2-openvpn fwcOrange",[t.v.OBJ_VPN_CONFIG_SER]:"fwci2-openvpn fwcDarkBlue",[t.v.OBJ_PREFIX_FOLDER]:"fwci2-folder",[t.v.OBJ_OPENVPN_PREFIX]:"fwci2-certificate-prefix",[t.v.OBJ_GEN_RULE]:"fwci-rule"};let a={[t.t.FOLDER_CLUSTER]:"fwci-clusters fwcDarkBlue",[t.t.FOLDER_CLUSTER_FW]:"fwci-compileallfirewalls2",[t.t.FOLDER_CA]:"fwci2-ca fwcDarkBlue",[t.t.FOLDER]:"fwci2-folder",[t.t.STANDARD]:"fwci2-folderstd",[t.t.FOLDER_FW]:"fwci-firewalls",[t.t.OBJ_FIREWALL]:"fwci-firewall",[t.t.FOLDER_OBJECTS]:"fwci-ipobjects",[t.t.FOLDER_SERVICES]:"fwci-services",[t.t.FOLDER_POLICY]:"fwci-filterpolicies",[t.t.POLICY_INPUT]:"fwci-input",[t.t.POLICY_OUTPUT]:"fwci-output",[t.t.POLICY_FORWARD]:"fwci-forward",[t.t.FOLDER_NAT]:"fwci-nat",[t.t.POLICY_SNAT]:"fwci-snat",[t.t.POLICY_DNAT]:"fwci-dnat",[t.t.POLICY_ROUTING]:"fwci-routing",[t.t.FOLDER_POLICY6]:"fwci-filterpolicies",[t.t.POLICY_INPUT6]:"fwci-input",[t.t.POLICY_OUTPUT6]:"fwci-output",[t.t.POLICY_FORWARD6]:"fwci-forward",[t.t.POLICY_SNAT6]:"fwci-snat",[t.t.POLICY_DNAT6]:"fwci-dnat",[t.t.POLICY_ROUTING6]:"fwci-routing",[t.t.OPENVPN_ROOT]:"fwci2-openvpn"};class o{transform(e,l,n){let t="fwcBlue",o="";if(l&&a[l]?o=a[l]:i[e]&&(o=i[e]),n){t=n;let e=o.split(" ");o=e[0]}return o+=" "+t,o}}},pDcU:function(e,l,n){"use strict";n.d(l,"a",(function(){return d}));var t=n("mrSG"),i=n("s7LF"),a=n("EMdb"),o=n("GJmQ"),s=n("bGe8"),r=(n("DSdC"),n("ePWF"),n("0VEr"),n("o0su"),n("XY+R"),n("Iab2"));n("24Yq");const u=["server","ifconfig-push","remote"];class d extends s.a{constructor(e,l,n,t,i,o,s,r,u,d,c,p,f,m,g){super(l,e,n),this.itemSelectedService=e,this.appDialogPanelsService=l,this.cd=n,this.fwcUserService=t,this.fwcFirewallService=i,this.fwcObjectService=o,this.fwcObjectTreeService=s,this.fwcVpnService=r,this.inputDataService=u,this.fwcErrorPipe=d,this.translate=c,this.confirmationService=p,this.utilService=f,this.fwcEventService=m,this.messageService=g,this.restrictionsReadOnly=!1,this.errorMsgs=[],this.deleteMsgs=[],this.ObjectTypes=a.v,this.CACertTypes=a.c,this.OptionScope=a.w,this.okToDelete=!1,this.alsoUninstallConfig=!1,this.dependencies=null,this.FirewallOpsIcons=a.j,this.operationQueue=[],this.operationStatus={},this.pauseProcess=!1,this.disableButtons=!1,this.disabledTreeRemoteOptions=[],this.NodeTypes=a.t,this.alive=!0,this.createDialog(this.translate.instant("VPN.PANEL.TITLE"),"fwci2-openvpn")}ipNetmaskValidator(e){if(!this.formModel||!this.object||!this.formModel.controls._ipobj_address)return{ipNetmaskValidator:!0};let l,n,t,i,o="",s="";return this.formModel.controls._ipobj_address&&(o=this.formModel.controls._ipobj_address.value||""),this.formModel.controls._ipobj_netmask&&(s=this.formModel.controls._ipobj_netmask.value||""),o.match(a.f.ipV4Regexp)&&s.match(a.f.netmaskRegexp)&&(i=o.trim()+" "+s.trim(),this.formModel.controls._ipobj_address.setErrors(null),l=!0),this.object.obj_type==a.v.OBJ_VPN_CONFIG_CLI?(n=a.w.ccd,t=a.I.O_CLIENT):this.object.obj_type==a.v.OBJ_VPN_CONFIG_SER&&(n=a.w.ovp,t=a.I.O_SERVER),this.optionsGrids.forEach(e=>{e.getScope()===n&&e.modifyIPOption(t,n,i)}),l?null:{ipNetmaskValidator:!0}}ngOnInit(){this.itemSelectedService.getItem().pipe(Object(o.a)(()=>this.alive)).subscribe(e=>Object(t.a)(this,void 0,void 0,(function*(){if(e._onlyReloadInfoPanel&&(this.objectToDelete||this.objectToSearchWU)){if(this.displayDialog||this.dialogMinified)if(this.objectToDelete){let e=Object.assign({},this.objectToDelete),l=this.itemSelectedService.getActualLastMinifiedDialogId();this.resetProperties(),this.onItemDelete(e),this.dialogId==l&&(this.showDialog(),this.itemSelectedService.setLastMinifiedDialogId(void 0))}else if(this.objectToSearchWU){let e=Object.assign({},this.objectToSearchWU);this.resetProperties(),this.showWhereUsed(e)}}else if(!(e.obj_type!=a.v.OBJ_VPN_CONFIG_SER&&e.obj_type!=a.v.OBJ_VPN_CONFIG_CLI&&e.obj_type!=a.v.OBJ_PREFIX_FOLDER&&e.obj_type!=a.v.OBJ_OPENVPN_PREFIX||e.statusAction||e._onlySelectInTree)){if(this.resetProperties(),e.parent_type==a.v.OBJ_CLUSTER){let l;if(l=yield this.getClusterMasterFirewall(e.parent_id),!l)return void this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.translate.instant("CLUSTER.ERROR_MASTER_TEXT",{name:e.parent_name})});e.firewall=l.id}else e.firewall=e.parent_id;e.deleteAction?this.onItemDelete(e):e.configFileAction?this.onItemGetFile(e):e.installAction||e.syncCCDAction||e.uninstallAction?this.onItemManage(e):e.newPrefixAction||e.editPrefixAction||e.deletePrefixFolderAction?this.managePrefix(e):e.whereUsedAction?this.showWhereUsed(e):this.onItemSelect(e)}})))}ngOnDestroy(){this.alive=!1}resetProperties(){this.formModel&&this.formModel.reset(),this.object=this.objectToDelete=this.objectToRetrieve=this.objectToManage=this.objectToSearchWU=this.configOrPrefixToDelete=null,this.remoteOptions=[],this.errorMsgs=[],this.dependencies=null,this.deleteMsgs=[]}checkOVPNConfigCanBeDeleted(e){return new Promise((l,n)=>{let t={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),openvpn:e._fwcObjId};this.fwcVpnService.checkConfigRestrictions(t).subscribe(e=>{l(!0)},e=>{e.error&&e.error.restrictions?l(!1):n(e)})})}onItemDelete(e,l){if(!e)return;let n,t,i;this.objectToDelete=e,this.loadingData=!0,this.okToDelete=!1,this.alsoUninstallConfig=!1,this.deleteMsgs=[],e.obj_type==a.v.OBJ_VPN_CONFIG_SER||e.obj_type==a.v.OBJ_VPN_CONFIG_CLI?(n=this.fwcVpnService.checkConfigRestrictions.bind(this.fwcVpnService),t={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),openvpn:e._fwcObjId},i="VPN.CONFIG"):e.obj_type==a.v.OBJ_OPENVPN_PREFIX&&(n=this.fwcVpnService.checkOpenVPNPrefixRestrictions.bind(this.fwcVpnService),t={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),prefix:e.id_obj},i="VPN.OPENVPN_PREFIX"),n&&(this.showDialog(),l&&this.recenterDialog(),n(t).subscribe(l=>{this.okToDelete=!0,this.configOrPrefixToDelete=Object.assign({},e),this.deleteMsgs.push({severity:"warn",summary:this.translate.instant(i+".DELETE_WARN.SUMMARY"),detail:this.translate.instant(i+".DELETE_WARN.TEXT",{name:e._fwcObjName})}),this.dependencies=null,this.okToDelete=!0,this.loadingData=!1,this.recenterDialog()},l=>{l.error&&l.error.restrictions?(this.dependencies=l.error.restrictions,this.deleteMsgs.push({severity:"error",summary:this.translate.instant(i+".ERRORS.RESTR_ERROR.SUMMARY"),detail:this.translate.instant(i+".ERRORS.RESTR_ERROR.TEXT",{name:e._fwcObjName})})):(l.error&&this.errorMsgs.push({severity:"error",summary:this.translate.instant(i+".ERRORS.DELETE_ERROR.SUMMARY"),detail:this.fwcErrorPipe.transform(l.error)}),this.dependencies={restrictionsError:!0}),this.loadingData=!1}))}onItemGetFile(e){if(!e)return;this.objectToRetrieve=e,this.loadingData=!0,this.showDialog();let l={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),openvpn:e._fwcObjId};this.fwcVpnService.getConfigFile(l).subscribe(e=>{e.data?this.configFile=e.data.cfg:(this.errorMsgs.push({severity:"error",summary:this.translate.instant("VPN.CONFIG.ERRORS.GETFILE_ERROR.SUMMARY"),detail:this.translate.instant("VPN.CONFIG.ERRORS.GETFILE_ERROR.TEXT",{error:e.error})}),e.error&&this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(e.error)})),this.loadingData=!1,this.recenterDialog()},e=>{e.error&&this.errorMsgs.push({severity:"error",summary:this.translate.instant("VPN.CONFIG.ERRORS.GETFILE_ERROR.SUMMARY"),detail:this.translate.instant("VPN.CONFIG.ERRORS.GETFILE_ERROR.TEXT",{error:this.fwcErrorPipe.transform(e.error)})}),this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(e.error)}),this.loadingData=!1})}onItemManage(e,l){if(!e)return;let n,t,i,s=e.id_obj,r=[],u=this.fwcUserService.getActualFwSelectedCloud();this.objectToManage=e,e.installAction?(this.configManageTranslateKey="VPN.CONFIG.INSTALL_STRINGS",this.configManageAPICall=this.fwcVpnService.installConfig.bind(this.fwcVpnService)):e.uninstallAction?(this.configManageTranslateKey="VPN.CONFIG.UNINSTALL_STRINGS",this.configManageAPICall=this.fwcVpnService.uninstallConfig.bind(this.fwcVpnService)):e.syncCCDAction?(this.configManageTranslateKey="VPN.CONFIG.SYNC_STRINGS",this.configManageAPICall=this.fwcVpnService.syncConfigCCD.bind(this.fwcVpnService)):this.configManageAPICall=null,this.eventsSubscription&&this.eventsSubscription.unsubscribe(),this.showDialog(),l&&this.recenterDialog(),this.eventsSubscription=this.fwcEventService.getLogEvent().pipe(Object(o.a)(()=>this.displayDialog)).subscribe(l=>{let n=l.message,t=n.search(/error/i);t>=0&&(this.pauseProcess=!0,this.operationWithErrors=!0),clearTimeout(this.opTimeout),"END"!=n?(this.log.addNewText(n,t>=0?a.r.MSG_ERROR:void 0),this.opTimeout=setTimeout(()=>{this.doTimeoutOp()},6e4)):(this.operationWithErrors?this.log.addNewText(this.translate.instant("VPN.CONFIG.ERRORS.OPERATION_ERRORS"),a.r.MSG_ERROR):this.log.addNewText(this.translate.instant(this.configManageTranslateKey+".COMPLETED"),a.r.MSG_INFO),this.operationInProcessId++,this.operationQueue&&this.operationInProcessId<this.operationQueue.length?this.processOVPNOperation():e.deleteAction&&(this.operationWithErrors?this.confirmationService.confirm({header:this.translate.instant("VPN.CONFIG.UNINSTALL_STRINGS.ERROR_HEADER"),message:this.translate.instant("COMPILE.INST_SSH_ERROR_TEXT"),acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES"),rejectLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.NO"),rejectVisible:!0,accept:()=>{this.onDeleteConfigurationOrPrefix()}}):this.onDeleteConfigurationOrPrefix()))}),e.parent_type==a.v.OBJ_CLUSTER?(i=this.fwcFirewallService.getClusterNodes.bind(this.fwcFirewallService),t=e.parent_id,n=!0):e.parent_type==a.v.OBJ_FIREWALL&&(i=this.fwcFirewallService.getFirewall.bind(this.fwcFirewallService),t=e.firewall,n=!1),i&&i(t,u).subscribe(l=>{let i;l.data&&l.data instanceof Array?r=l.data:l.data?(r=[],r.push(l.data)):r=[],this.operationQueue=[],n&&(i={openvpn:s,clusterId:t,firewallId:t,firewallName:e._fwcClusterName,installState:a.k.FW_DISABLED,opInstalled:!1},this.operationQueue.push(Object.assign({},i)));for(let n=0;n<r.length;n++){let l=r[n];i={clusterId:l.cluster,clusterName:e._fwcClusterName,isNode:!!l.cluster,openvpn:s,firewallId:r[n].id,firewallName:r[n].name,installState:a.k.FW_PENDING,opInstalled:!1,sshUser:r[n].install_user,sshPassword:r[n].install_pass,installInterface:r[n].install_interface,installInterfaceName:r[n].interface_name,installIpobj:r[n].install_ipobj,installIpobjName:r[n].ip_name,installIpobjIP:r[n].ip},this.operationQueue.push(Object.assign({},i))}this.operationInProcessId=0,this.processOVPNOperation(!0)},e=>{e.error&&1002==e.error.fwcErr||e.error&&this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(e.error)}),this.loadingData=!1})}processOVPNOperation(e){let l;if(!this.pauseProcess&&(clearTimeout(this.opTimeout),this.operationQueue&&this.operationInProcessId<this.operationQueue.length)){let n=this.operationQueue[this.operationInProcessId];if(!n)return;if(this.operationWithErrors=!1,l=null!=n.clusterId?this.translate.instant("COMPILE.INST_CLUSTER_NODE",{clusterName:n.clusterName,firewallName:n.firewallName}):this.translate.instant("COMPILE.INST_FW",{firewallName:n.firewallName}),n.installState==a.k.FW_PENDING){if(n.installState=a.k.FW_PROCESSING,e||this.log.addNewText("",a.r.MSG_SEPARATOR),this.log.addNewText(this.translate.instant(this.configManageTranslateKey+".START",{name:l}),a.r.MSG_INFO),n.installInterface&&n.installIpobj){let e={header:this.translate.instant("COMPILE.INST_SSH",{name:l}),helpText:this.translate.instant("COMPILE.INST_SSH_TEXT"),modal:!1,formControls:[{name:"openvpn",type:"hidden",value:n.openvpn},{name:"firewall_id",type:"hidden",value:n.firewallId},{name:"interface_name",label:this.translate.instant("COMPILE.FIELDS.INST_IF"),icon:"fwci-interface fwcGreen",type:"text",value:n.installInterfaceName,readonly:!0},{name:"ip_name",label:this.translate.instant("COMPILE.FIELDS.INST_IP"),icon:"fwci-address fwcBlue",type:"text",value:n.installIpobjName+" ("+n.installIpobjIP+")",readonly:!0},{name:"",label:"",type:"separator"},{name:"ssh_user",label:this.translate.instant("CLUSTER.MSG_CLUSTER_EDITION.SSH_USER"),type:"text",required:!0,value:n.sshUser,setFocus:!0},{name:"",label:"",type:"separator"},{name:"ssh_password",label:this.translate.instant("CLUSTER.MSG_CLUSTER_EDITION.SSH_PASS"),type:"password",required:!0,value:n.sshPassword},{name:"btnPauseProcess",label:this.translate.instant("COMPILE.PAUSE"),type:"button",icon:"fa fa-pause",class:"ui-button-warning",value:0}],onAccept:this.manageConfig.bind(this)};return this.disableButtons=!0,void this.inputDataService.setInputData(e)}n.installState=a.k.FW_ERROR,setTimeout(()=>{this.confirmationService.confirm({key:"cdErrorFw",header:this.translate.instant("COMPILE.INST_SSH_ERROR"),message:this.translate.instant("COMPILE.INST_SSH_ERROR_TEXT"),reject:()=>{this.doPauseProcess()},accept:()=>{let e=this.translate.instant("COMPILE.INST_SSH_ERROR_TEXT");this.operationWithErrors=!0,this.log.addNewText(this.translate.instant(this.configManageTranslateKey+".ERROR",{name:l,error:e}),a.r.MSG_ERROR),this.operationInProcessId++,this.processOVPNOperation()}})},1)}else this.operationInProcessId++,this.processOVPNOperation(e)}}manageConfig(e){let l,n,t;if(this.operationQueue&&this.operationInProcessId<this.operationQueue.length&&(n=this.operationQueue[this.operationInProcessId]),n&&this.configManageAPICall)if(l=null!=n.clusterId?`cluster ${n.clusterId} - firewall ${n.firewallId} (${n.firewallName})`:`firewall ${n.firewallId} (${n.firewallName})`,this.disableButtons=!1,e){if(e.btnPauseProcess)return n.installState=a.k.FW_PENDING,void this.doPauseProcess(!0);this.opTimeout=setTimeout(()=>{this.doTimeoutOp()},6e4),this.log.startDataLoad(),t={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),openvpn:e.openvpn,firewall:e.firewall_id,sshuser:e.ssh_user,sshpass:e.ssh_password,socketid:this.utilService.ioGetSocketId()},this.utilService.fwcAPICall(this.configManageAPICall,t).then(e=>{n.installState=a.k.FW_OK,this.log&&this.log.stopDataLoad()}).catch(e=>{n.installState=a.k.FW_ERROR,e.error&&this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(e.error)}),this.log.addNewText(this.translate.instant(this.configManageTranslateKey+".ERROR",{name:l,error:e.error}),a.r.MSG_ERROR),this.doPauseProcess()})}else n.installState=a.k.FW_WARNING,this.log.addNewText(this.translate.instant("COMPILE.INST_WARNING",{name:l}),a.r.MSG_ERROR),this.operationInProcessId++,this.processOVPNOperation()}doTimeoutOp(){this.pauseProcess=!0,this.loadingData=!1,this.log&&(this.log.stopDataLoad(),this.log.addNewText(this.translate.instant("COMPILE.WARN_TIMEOUT"),a.r.MSG_WARNING))}doPauseProcess(e){this.pauseProcess=!0,this.loadingData=!1,clearTimeout(this.opTimeout),e&&this.log.addNewText(this.translate.instant("COMPILE.WARN_PAUSE"),a.r.MSG_WARNING)}doContinueProcess(){this.pauseProcess=!1,this.processOVPNOperation()}onItemSelect(e){return Object(t.a)(this,void 0,void 0,(function*(){if(!e)return;this.loadingData=!0,this.showDialog();let l=e._fwcObjId,n=e.obj_type;if(e.obj_type==a.v.OBJ_VPN_CONFIG_CLI){this.headerTitle=this.translate.instant("VPN.CONFIG.HEADER_CLI"),this.fieldsetTitle=this.translate.instant("VPN.CONFIG.IP_VPN"),this.ipNetmaskErrorMsg=this.translate.instant("VPN.PANEL.ERRORS.IP");let e=yield this.loadIPObjects(),l=yield this.loadDNSObjects();if(!e||!l)return;this.remoteOptions=[],this.remoteOptions.push(e),this.remoteOptions.push(l)}else this.headerTitle=this.translate.instant("VPN.CONFIG.HEADER_SER"),this.fieldsetTitle=this.translate.instant("VPN.CONFIG.NETMASK_VPN"),this.ipNetmaskErrorMsg=this.translate.instant("VPN.PANEL.ERRORS.IP_NETMASK");if(void 0===l&&void 0!==n){let l=Object.assign({},e);if(l.obj_type==a.v.OBJ_VPN_CONFIG_CLI){l.options=a.F.concat(a.E);let n={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),openvpn:e.openvpn},t=yield this.getFirstFreeIP(n),i="",o="";t&&(i=t.ip,o=t.netmask);let s=this.getOption(l.options,a.I.O_CLIENT);l._ipobj_address=i,l._ipobj_netmask=o,s.arg=i+" "+o,l.openvpn=e.openvpn}else l.options=a.H;this.createForm(l,!0),this.loadingData=!1}else{let n,t={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),openvpn:l};n=e.obj_type==a.v.OBJ_VPN_CONFIG_CLI?a.I.O_CLIENT:a.I.O_SERVER,this.fwcVpnService.getConfig(t).subscribe(i=>{if(i.data){let o=Object.assign({},i.data);o.fwcloud=t.fwcloud,o.obj_type=e.obj_type,o.parent_type=e.parent_type,o.parent_name=e.parent_name,o._fwcCrtName=e._fwcObjName,o._fwcParentConfigName=e._fwcParentConfigName,o._fwcObjId=l;let s=this.getOption(o.options,n);s?this.fwcVpnService.getConfigIPObjects(t).subscribe(l=>{let n=l.data,t=n.filter(e=>e.id==s.ipobj);if(t.length){let e=t[0];o._ipobj_name=e.name,o._ipobj_address=e.address,o._ipobj_netmask=e.netmask,o._ipobj_id=e.id,s.arg=e.address+" "+e.netmask,s.readonly=!0}if(e.obj_type==a.v.OBJ_VPN_CONFIG_CLI){let e=o.options.filter(e=>"remote"==e.name);e.length&&(e.forEach(e=>{for(let l=0;l<n.length;l++){let t=n[l];if(e.ipobj==t.id){let l;t.type==a.v.OBJ_ADDRESS?l=t.address:t.type==a.v.OBJ_DNS&&(l=t.name),l&&(e.arg=l+" "+e.arg);break}}}),this.disabledTreeRemoteOptions=e)}this.createForm(o),this.loadingData=!1,this.recenterDialog(),this.showDialog()},e=>{e.error&&(this.errorMsgs.push({severity:"error",summary:this.translate.instant("VPN.CONFIG.ERRORS.IPOPTIONLOAD_ERROR.SUMMARY"),detail:this.translate.instant("VPN.CONFIG.ERRORS.IPOPTIONLOAD_ERROR.TEXT",{error:this.fwcErrorPipe.transform(e.error)})}),this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(e.error)})),this.loadingData=!1}):(this.errorMsgs.push({severity:"error",summary:this.translate.instant("VPN.CONFIG.ERRORS.NOIPOPTION_ERROR.SUMMARY"),detail:this.translate.instant("VPN.CONFIG.ERRORS.NOIPOPTION_ERROR.TEXT")}),this.loadingData=!1)}else i.error&&(this.errorMsgs.push({severity:"error",summary:this.translate.instant("VPN.CONFIG.ERRORS.GETCONFIG_ERROR.SUMMARY"),detail:this.translate.instant("VPN.CONFIG.ERRORS.GETCONFIG_ERROR.TEXT",{error:this.fwcErrorPipe.transform(i.error)})}),this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(i.error)})),this.loadingData=!1},e=>{e.error&&(this.errorMsgs.push({severity:"error",summary:this.translate.instant("VPN.CONFIG.ERRORS.GETCONFIG_ERROR.SUMMARY"),detail:this.translate.instant("VPN.CONFIG.ERRORS.GETCONFIG_ERROR.TEXT",{error:this.fwcErrorPipe.transform(e.error)})}),this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(e.error)})),this.loadingData=!1})}}))}loadIPObjects(){let e;return e=new Promise((e,l)=>{let n;n={label:"fwci-ipobjects fwcBlue",value:"IP Addresses",items:[]},e(n)}),e}loadDNSObjects(){let e;return e=new Promise((e,l)=>{let n;n={label:"fwci-firewall fwcBlue",value:"DNS",items:[]},e(n)}),e}createForm(e,l){if(!e)return;e.options.forEach(e=>{-1!=u.findIndex(l=>e.name==l)&&(e.required=!0,e.readonly=!0)}),this.formModel=new i.FormGroup({fwcloud:new i.FormControl(e.fwcloud),openvpn:new i.FormControl(e.openvpn),firewall:new i.FormControl(e.firewall,i.Validators.required),crt:new i.FormControl(e.crt,i.Validators.required),node_id:new i.FormControl(e.node_id),comment:new i.FormControl(e.comment),options:new i.FormArray(this.createOVPNOptions(e.options))});let n=`VPN-${e.parent_name}-${e._fwcCrtName}`;this.formModel.addControl("_ipobj_id",new i.FormControl(e._ipobj_id)),this.formModel.addControl("_ipobj_name",new i.FormControl(e._ipobj_name||n,i.Validators.required)),this.formModel.addControl("_ipobj_address",new i.FormControl(e._ipobj_address,[i.Validators.required,this.ipNetmaskValidator.bind(this)])),this.formModel.addControl("_ipobj_netmask",new i.FormControl({value:e._ipobj_netmask,disabled:e.obj_type==a.v.OBJ_VPN_CONFIG_CLI},[i.Validators.required,this.ipNetmaskValidator.bind(this)])),e.obj_type==a.v.OBJ_VPN_CONFIG_SER?(n=`VPN-LAN-${e.parent_name}`,this.formModel.addControl("install_dir",new i.FormControl(e.install_dir||"/etc/openvpn",[i.Validators.required,i.Validators.pattern(a.f.posixPathRegexp)])),this.formModel.addControl("install_name",new i.FormControl(e.install_name||e._fwcCrtName+".conf",[i.Validators.required,i.Validators.pattern(a.f.posixFilenameRegexp)]))):e.obj_type==a.v.OBJ_VPN_CONFIG_CLI&&(this.formModel.controls.openvpn.setValue(e.openvpn),this.formModel.addControl("_remote_options",new i.FormArray(this.createOVPNOptions(e.options,"remote")))),this.formModelRemote=new i.FormGroup({id_obj:new i.FormControl(void 0,[i.Validators.required]),obj_type:new i.FormControl(void 0,[i.Validators.required]),remote_port:new i.FormControl(1194,[i.Validators.required,i.Validators.min(0),i.Validators.max(65535)])}),this.object=e}createOVPNOptions(e,l){let n=[];for(let t=0;t<e.length;t++)if(!l||e[t].name==l){let a=new i.FormGroup({name:new i.FormControl(e[t].name,i.Validators.required),arg:new i.FormControl(e[t].arg),ipobj:new i.FormControl(e[t].ipobj),scope:new i.FormControl(e[t].scope),comment:new i.FormControl(e[t].comment)});l&&-1!=u.findIndex(l=>l==e[t].name)&&a.controls.arg.setValidators(i.Validators.required),n.push(a)}return n}revalidateForm(e){for(let l in this.formModel.controls)e&&e!=l||(this.formModel.controls[l].updateValueAndValidity(),this.formModel.controls[l].markAsTouched())}onCancel(e){!e&&this.formModel&&!this.formModel.pristine&&this.formModel.valid?this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_CONFIRM"),icon:"fa fa-question-circle-o fwcBlue iconBig",message:this.translate.instant("VPN.PANEL.MSG_EXIT"),accept:()=>{this.onCancel(!0)},rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES")}):(this.hideDialog(),this.optionsGrids.forEach(e=>{e.clearOptions()}),this.log&&this.log.clearMessages(),this.operationQueue=[],this.operationInProcessId=void 0,this.pauseProcess=!1,this.disabledTreeRemoteOptions=[],this.eventsSubscription&&this.eventsSubscription.unsubscribe(),this.objectToManage&&this.itemSelectedService.setModifiedItem({_fwcTreeAction:a.A.RELOAD_TREE,containerToReload:this.objectToManage.container}),this.resetProperties())}checkForm(e){e&&e.target&&"textarea"!=e.target.type&&this.formModel.valid&&this.onSave()}onSave(e=0){return Object(t.a)(this,void 0,void 0,(function*(){if(!this.object)return;let l=[];this.optionsGrids.forEach(e=>{let n=e.getOptions();l=l.concat(n)});for(let e=0;e<l.length;e++)l[e].name&&!l[e].name.length&&delete l[e];l=JSON.parse(JSON.stringify(l)),l.forEach(e=>{if("remote"==e.name){let l,n=/\s*(\d+)$/.exec(e.arg);n&&(l=n[1],e.arg=l)}}),this.formModel.removeControl("options"),this.formModel.addControl("options",new i.FormArray(this.createOVPNOptions(l)));let n,t,o,s,r,u={},d={};for(let e in this.formModel.controls)u[e]=null!=this.formModel.controls[e].value?this.formModel.controls[e].value:void 0;if(d={id:u._ipobj_id,type:void 0,fwcloud:u.fwcloud,name:u._ipobj_name,address:u._ipobj_address,netmask:u._ipobj_netmask,ip_version:4,node_parent:void 0,node_order:1,node_type:void 0,force:e},this.object.obj_type==a.v.OBJ_VPN_CONFIG_CLI?(d.type=a.v.OBJ_ADDRESS,d.node_type=a.t.OBJ_ADDRESS,n=a.t.FOLDER_ADDRESSES,t=a.w.ccd,o=a.I.O_CLIENT):this.object.obj_type==a.v.OBJ_VPN_CONFIG_SER&&(d.type=a.v.OBJ_NETWORK,d.node_type=a.t.OBJ_NETWORK,n=a.t.FOLDER_NETWORKS,t=a.w.ovp,o=a.I.O_SERVER),delete u._ipobj_id,delete u._ipobj_address,delete u._ipobj_name,delete u._ipobj_netmask,delete u._remote_options,void 0===this.object._fwcObjId){if(s=this.fwcVpnService.newConfig.bind(this.fwcVpnService),-1==(yield this.getParentId(n)))return this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("VPN.PANEL.NEW.ERRORS.NETWORK"),detail:this.translate.instant("VPN.PANEL.NEW.ERRORS.NETWORK_PARENT_NODE")}),void(this.loadingData=!1);r=this.translate.instant(this.object.obj_type==a.v.OBJ_VPN_CONFIG_SER?"VPN.CONFIG.NEW_SERVER_CFG_OK":"VPN.CONFIG.NEW_CLIENT_CFG_OK")}else u.openvpn=this.object._fwcObjId,delete d.node_order,delete d.node_type,delete u.firewall,delete u.crt,s=this.fwcVpnService.updateConfig.bind(this.fwcVpnService),r=this.translate.instant(this.object.obj_type==a.v.OBJ_VPN_CONFIG_SER?"VPN.CONFIG.UPDATE_SERVER_CFG_OK":"VPN.CONFIG.UPDATE_CLIENT_CFG_OK");this.savingData=!0,this.manageNetworkIPObject(d).then(e=>{let l;e.data&&(l=e.data.insertId),this.modifyOption(u.options,o,void 0,l),this.clearOptionsArgs(u.options),this.utilService.fwcAPICall(s,u).then(e=>{this.itemSelectedService.setModifiedItem({container:a.B.C_FIREWALLS_CONDENSED,_fwcObjId:e.data&&e.data.insertId?e.data.insertId:u.openvpn,_fwcObjType:this.object.obj_type,_fwcTreeAction:a.A.NEW_ITEM}),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:r}),this.savingData=!1,this.hideDialog(),this.resetProperties()}).catch(e=>{e.error&&this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(e.error)}),this.savingData=!1})},e=>{e.error&&1003!=e.error.fwcErr&&this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(e.error)}),this.savingData=!1})}))}getParentId(e){let l;return l=new Promise((l,n)=>{this.fwcObjectTreeService.getNodes(e,this.fwcUserService.getActualFwSelectedCloud()).subscribe(e=>{let n=-1;e.data&&e.data.length&&(n=e.data[0].id),l(n)},e=>{e.error&&this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(e.error)}),l(-1)})}),l}getClusterMasterFirewall(e){let l;return l=new Promise((l,n)=>{this.fwcFirewallService.getClusterMasterNode(e,this.fwcUserService.getActualFwSelectedCloud()).subscribe(e=>{let n;n=e.data,l(n)},e=>{e.error&&this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(e.error)}),l(void 0)})}),l}getFirstFreeIP(e){let l;return l=new Promise((l,n)=>{this.fwcVpnService.getVPNLanNextFreeIP(e).subscribe(e=>{let n;n=e.data,l(n)},e=>{e.error&&this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(e.error)}),l(void 0)})}),l}modifyOption(e,l,n,t){let i=e.find(e=>e.name==l);i&&(n&&(i.arg=n),null!=t&&(i.ipobj=t))}getOption(e,l){return e.find(e=>e.name==l)}clearOptionsArgs(e){e.forEach(e=>{null!=e.ipobj&&"remote"!=e.name&&(e.arg="")})}manageNetworkIPObject(e){let l;return l=new Promise((l,n)=>{let t;if(void 0===e.id)t=this.fwcObjectService.newObject.bind(this.fwcObjectService);else{if(this.formModel.controls._ipobj_address.pristine&&this.formModel.controls._ipobj_netmask.pristine)return void l({data:void 0});t=this.fwcObjectService.updateObject.bind(this.fwcObjectService)}this.utilService.fwcAPICall(t,e).then(e=>{l(e)}).catch(e=>{1003==e.error.fwcErr?this.confirmDuplicateOVPNOperation(e):e.error&&this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(e.error)}),n(e)})}),l}updateIPOnGrid(e){let l,n,t,i=this.formModel.controls._ipobj_address.value,o="";this.object.obj_type==a.v.OBJ_VPN_CONFIG_CLI?(i.match(a.f.ipV4Regexp)&&(t=i),l=a.w.ccd,n=a.I.O_CLIENT):this.object.obj_type==a.v.OBJ_VPN_CONFIG_SER&&(this.formModel.controls._ipobj_netmask&&(o=this.formModel.controls._ipobj_netmask.value),i.match(a.f.ipV4Regexp)&&o.match(a.f.netmaskRegexp)&&(t=i.trim()+" "+o.trim()),l=a.w.ovp,n=a.I.O_SERVER),t&&this.optionsGrids.forEach(e=>{e.getScope()===l&&e.modifyIPOption(n,l,t)})}confirmDuplicateOVPNOperation(e){let l="",n=[];if(e.data&&e.data.length){n=e.data,l="<ul>";for(let e=0;e<n.length;e++)l+="<li><strong>"+n[e].name+"</strong> ("+n[e].id+") </li>";l+="</ul>"}this.confirmationService.confirm({header:this.translate.instant("ITEM_PANEL.ERRORS.DUP_WARNING.SUMMARY"),icon:"fa fa-question-circle-o fwcBlue iconBig",message:this.translate.instant("ITEM_PANEL.ERRORS.DUP_WARNING.TEXT",{objects:l}),rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES"),accept:()=>{this.onSave(1)}})}onDownloadConfigFile(){let e="";if(!this.objectToRetrieve)return;if(this.objectToRetrieve._fwcObjType==a.v.OBJ_VPN_CONFIG_SER)e=this.objectToRetrieve._fwcObjName?this.objectToRetrieve._fwcObjName.replace(/[^a-z0-9]/gi,"_"):"OpenVPN_Server",e+=".conf";else if(this.objectToRetrieve._fwcObjType==a.v.OBJ_VPN_CONFIG_CLI){let l=[];l.push(this.fwcUserService.getActualFwcUser().selectedFwCloudName||"CLOUD"),l.push(this.objectToRetrieve._fwcFwName||"FW"),l.push(this.objectToRetrieve._fwcObjName||"OpenVPN_Client"),l=l.map(e=>e.replace(/[^a-z0-9]/gi,"_")),e=l.join("-"),e+=".ovpn"}let l=new Blob([this.configFile],{type:"text/plain;charset=utf-8"});Object(r.saveAs)(l,e)}onCopyConfigFile(){this.txtConfigFile&&(this.txtConfigFile.nativeElement.select(),document.execCommand("copy"),this.txtConfigFile.nativeElement.setSelectionRange(0,0),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("VPN.CONFIG.CLIPBOARD.COPIED_OK")}))}onProcessDeleteAction(){this.configOrPrefixToDelete&&(this.configOrPrefixToDelete.obj_type!=a.v.OBJ_VPN_CONFIG_SER&&this.configOrPrefixToDelete.obj_type!=a.v.OBJ_VPN_CONFIG_CLI||!this.alsoUninstallConfig?this.onDeleteConfigurationOrPrefix():(this.objectToDelete=null,this.configOrPrefixToDelete.uninstallAction=!0,this.onItemManage(this.configOrPrefixToDelete,!0)))}onDeleteConfigurationOrPrefix(){if(!this.configOrPrefixToDelete)return;let e,l,n,t=this.configOrPrefixToDelete;t.obj_type==a.v.OBJ_VPN_CONFIG_SER||t.obj_type==a.v.OBJ_VPN_CONFIG_CLI?(e=this.fwcVpnService.deleteConfig.bind(this.fwcVpnService),l={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),openvpn:this.configOrPrefixToDelete._fwcObjId},n="VPN.CONFIG"):t.obj_type==a.v.OBJ_OPENVPN_PREFIX&&(e=this.fwcVpnService.deleteOpenVPNPrefix.bind(this.fwcVpnService),l={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),prefix:t.id_obj},n="VPN.OPENVPN_PREFIX"),e&&(this.log&&(this.log.addNewText("",a.r.MSG_SEPARATOR),this.log.addNewText(this.translate.instant(n+".DELETING"),a.r.MSG_INFO)),this.utilService.fwcAPICall(e,l).then(e=>{let l=Object.assign({},this.configOrPrefixToDelete);l._fwcTreeAction=a.A.DELETE_ITEM,e.data&&e.data.length&&(l.fw_status=e.data),this.itemSelectedService.setModifiedItem(l),this.log||(this.hideDialog(),this.resetProperties()),t.obj_type==a.v.OBJ_VPN_CONFIG_SER||t.obj_type==a.v.OBJ_VPN_CONFIG_CLI?(this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:this.translate.instant("VPN.CONFIG.DELETE_SUCCESS")}),this.log.addNewText(this.translate.instant("VPN.CONFIG.DELETE_SUCCESS"),a.r.MSG_OK)):this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:this.translate.instant("VPN.OPENVPN_PREFIX.DELETE.OK")})}).catch(e=>{if(e.error){let l;l=this.translate.instant(n+".ERRORS.DELETE_ERROR.TEXT",{error:this.fwcErrorPipe.transform(e.error)}),this.errorMsgs.push({severity:"error",summary:this.translate.instant(n+".ERRORS.DELETE_ERROR.SUMMARY"),detail:l}),this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(e.error)}),this.log&&this.log.addNewText(l,a.r.MSG_ERROR)}}))}showRestrictions(e,l){}hideRestrictions(e){}managePrefix(e){let l,n,t,i,o,s,r,u;if(e)if(e.deletePrefixFolderAction){let l={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),prefix:e.id_obj};if(e.obj_type!=a.v.OBJ_PREFIX_FOLDER)return;s=this.fwcVpnService.checkPrefixFolderRestrictions.bind(this.fwcVpnService),r=this.fwcVpnService.deletePrefixFolder.bind(this.fwcVpnService),o="VPN.PREFIX_FOLDER",s(l).subscribe(n=>{this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_CONFIRM"),icon:"fa fa-question-circle-o fwcBlue iconBig",message:this.translate.instant(o+".DELETE.ASK",{name:e._fwcObjName}),rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES"),accept:()=>{this.utilService.fwcAPICall(r,l).then(l=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant(o+".DELETE.OK")}),e._fwcTreeAction=a.A.DELETE_ITEM,this.itemSelectedService.setModifiedItem(e),e.container!=a.B.C_FIREWALLS_CONDENSED&&this.itemSelectedService.setModifiedItem({_fwcTreeAction:a.A.RELOAD_TREE,containerToReload:a.B.C_FIREWALLS_CONDENSED})}).catch(e=>{e.error&&this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(e.error)})})}})},l=>{l.error&&l.error.restrictions?(this.dependencies=l.error.restrictions,this.confirmationService.confirm({header:this.translate.instant(o+".DELETE.RESTR_HEADER"),icon:"pi pi-exclamation-triangle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:this.translate.instant(o+".DELETE.RESTR_TEXT",{name:e._fwcObjName})})):l.error&&this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(l.error)})})}else{let s,r,d={[a.v.OBJ_PREFIX_FOLDER]:[this.fwcVpnService.editPrefixFolder.bind(this.fwcVpnService),this.fwcVpnService.newPrefixFolder.bind(this.fwcVpnService)],[a.v.OBJ_OPENVPN_PREFIX]:[this.fwcVpnService.editOpenVPNPrefix.bind(this.fwcVpnService),this.fwcVpnService.newOpenVPNPrefix.bind(this.fwcVpnService)]};if(e.obj_type==a.v.OBJ_PREFIX_FOLDER)s=e.id_obj,o="VPN.PREFIX_FOLDER";else{if(e.obj_type!=a.v.OBJ_OPENVPN_PREFIX)return;r=e.id_obj,o="VPN.OPENVPN_PREFIX"}if(e.editPrefixAction)l=e._fwcObjName,n=e.id_obj,t=this.translate.instant(o+".EDIT.HEADER"),i=this.translate.instant(o+".EDIT.TEXT"),d[e.obj_type]&&d[e.obj_type][0]&&(u=d[e.obj_type][0]);else{if(!e.newPrefixAction)return;t=this.translate.instant(o+".NEW.HEADER"),i=this.translate.instant(o+".NEW.TEXT"),d[e.obj_type]&&d[e.obj_type][1]&&(u=d[e.obj_type][1])}let c={header:t,helpText:i,formControls:[{name:"container",type:"hidden",value:e.container},{name:"id",type:"hidden",value:n},{name:"obj_type",type:"hidden",value:e.obj_type},{name:"ca",type:"hidden",value:s},{name:"orig_name",type:"hidden",value:l},{name:"name",label:this.translate.instant(o+".NAME"),type:"text",required:!0,value:l},{name:"openvpn",type:"hidden",value:r},{name:"translateKey",type:"hidden",value:o},{name:"apiCall",type:"hidden",value:u}],onAccept:this.onManagePrefix.bind(this)};this.inputDataService.setInputData(c)}}onManagePrefix(e){if(e){if(e.name==e.orig_name)return;let l,n,t,i={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),name:e.name};l=e.translateKey,n=e.apiCall,e.id?(i.prefix=e.id,t=this.translate.instant(l+".EDIT.OK")):(i.ca=e.ca,i.openvpn=e.openvpn,t=this.translate.instant(l+".NEW.OK")),this.utilService.fwcAPICall(n,i).then(l=>{let n=l.data&&l.data.insertId?l.data.insertId:e.id;this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:t}),this.itemSelectedService.setModifiedItem({container:e.container,_fwcObjName:e.name,_fwcObjId:n,_fwcObjType:e.obj_type,_fwcTreeAction:a.A.NEW_ITEM}),e.container!=a.B.C_FIREWALLS_CONDENSED&&this.itemSelectedService.setModifiedItem({_fwcTreeAction:a.A.RELOAD_TREE,containerToReload:a.B.C_FIREWALLS_CONDENSED})}).catch(e=>{let n,t;e.error&&(1003==e.error.fwcErr?(n=this.translate.instant(l+".ERRORS.ERROR_DUP.SUMMARY"),t=this.translate.instant(l+".ERRORS.ERROR_DUP.TEXT")):5001==e.error.fwcErr?(n=this.translate.instant("VPN.OPENVPN_PREFIX.ERRORS.ERROR_EMPTY_CONTAINER.SUMMARY"),t=this.translate.instant("VPN.OPENVPN_PREFIX.ERRORS.ERROR_EMPTY_CONTAINER.TEXT")):this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(e.error)})),t&&this.confirmationService.confirm({header:n,icon:"fa fa-exclamation-circle fwcRed iconBig",message:t,rejectVisible:!1,acceptLabel:"Ok",accept:()=>{}})})}}showWhereUsed(e){if(!e)return;let l,n;this.objectToSearchWU=e,n={fwcloud:this.fwcUserService.getActualFwSelectedCloud()},e.obj_type==a.v.OBJ_OPENVPN_PREFIX?(l=this.fwcVpnService.getOpenVPNWhereUsed.bind(this.fwcVpnService),n.prefix=e._fwcObjId):e.obj_type==a.v.OBJ_VPN_CONFIG_CLI&&(l=this.fwcVpnService.getConfigWhereUsed.bind(this.fwcVpnService),n.openvpn=e._fwcObjId),this.showDialog(),l&&l(n).subscribe(l=>{let n=Object.assign({},l.data);n._fwcObjType=e.obj_type,this.objectToSearchWU._fwcObjectInfo=n},e=>{e.error&&this.errorMsgs.push({severity:"error",summary:this.translate.instant("VPN.CONFIG.ERRORS.WHERE_USED.SUMMARY"),detail:this.translate.instant("VPN.CONFIG.ERRORS.ADD_REMOTE_ERROR.TEXT",{error:this.fwcErrorPipe.transform(e.error)})})})}onAddRemoteOption(){if(!this.formModelRemote||!this.formModelRemote.valid)return;let e=this.formModelRemote.value;this.fwcObjectService.getObject(e.id_obj,this.fwcUserService.getActualFwSelectedCloud()).subscribe(l=>{if(!l.data)return;let n=l.data,t="",o="";e.obj_type==a.v.OBJ_ADDRESS&&(t=n.address),e.obj_type==a.v.OBJ_DNS&&(t=n.name),t+=" "+e.remote_port,n.if_name?(n.cluster_name?o+=`Cluster '${n.cluster_name}'`:n.firewall_name?o+=`Firewall '${n.firewall_name}'`:n.host_name&&(o+=`Host '${n.host_name}'`),o+=` - IF '${n.if_name}'`):o+=n.name;let s={name:"remote",scope:a.w.ovp,arg:t,ipobj:e.id_obj,required:!0,readonly:!0},r=[];this.optionsGrids.forEach(e=>{e.getScope()===a.w.ovp&&(e.updateOrCreateIPOption(s),r=r.concat(e.getOptions()))}),this.formModel.controls._remote_options=new i.FormArray(this.createOVPNOptions(r,"remote")),this.formModel.markAsDirty(),this.formModel.updateValueAndValidity(),this.formModelRemote.reset(),this.formModelRemote.controls.remote_port.setValue(1194),this.treeSelector.setOptionSelectable(e.id_obj,!1)},e=>{e.error&&(this.errorMsgs.push({severity:"error",summary:this.translate.instant("VPN.CONFIG.ERRORS.ADD_REMOTE_ERROR.SUMMARY"),detail:this.translate.instant("VPN.CONFIG.ERRORS.ADD_REMOTE_ERROR.TEXT",{error:this.fwcErrorPipe.transform(e.error)})}),this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(e.error)}))})}onRemoteIPObjectChange(e){!e||e.obj_type!=a.v.OBJ_ADDRESS&&e.obj_type!=a.v.OBJ_DNS||(this.formModelRemote.get("id_obj").setValue(e.id_obj),this.formModelRemote.get("obj_type").setValue(e.obj_type))}updateOptions(e){let l=[];this.optionsGrids.forEach(n=>{e&&n.getScope()!=e||(l=l.concat(n.getOptions()))}),l.length&&(this.formModel.removeControl("options"),this.formModel.addControl("options",new i.FormArray(this.createOVPNOptions(l))),this.formModel.controls._remote_options&&(this.formModel.removeControl("_remote_options"),this.formModel.addControl("_remote_options",new i.FormArray(this.createOVPNOptions(l,"remote")))),this.formModel.updateValueAndValidity())}onOptionsChange(e){this.updateOptions(),e&&this.formModel.markAsDirty(),this.recenterDialog()}onOptionsDelete(e){e&&"remote"==e.name&&e.ipobj&&(this.treeSelector.setOptionSelectable(e.ipobj,!0),this.updateOptions()),this.formModel.markAsDirty()}onShowDialog(e){this.recenterDialog()}onHideDialog(e){}}},wf45:function(e,l,n){"use strict";var t=n("8Y7J"),i=n("Meih"),a=n("SlyN"),o=n("B58V"),s=n("7LN8"),r=n("TSSN"),u=n("SVse");n("m6j1"),n("kp3z"),n("H9gU"),n("Mebi"),n("77Y5"),n.d(l,"a",(function(){return d})),n.d(l,"b",(function(){return f}));var d=t["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function c(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,1,"div",[["class","noselect"]],null,[[null,"dblclick"]],(function(e,l,n){var t=!0;return"dblclick"===l&&(t=!1!==e.component.itemDblClickEvent(n,e.context.$implicit)&&t),t}),null,null)),(e()(),t["\u0275eld"](1,0,null,null,0,"span",[],[[8,"innerHTML",1]],null,null,null,null))],null,(function(e,l){e(l,1,0,t["\u0275inlineInterpolate"](1,"",l.context.$implicit.label,""))}))}function p(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,5,"p-tree",[["selectionMode","single"],["styleClass","treeSelector treeWU"]],null,[[null,"selectionChange"]],(function(e,l,n){var t=!0;return"selectionChange"===l&&(t=!1!==(e.component.selectedObject=n)&&t),t}),i.b,i.a)),t["\u0275did"](1,1294336,null,1,a.Tree,[t.ElementRef,[2,o.TreeDragDropService]],{value:[0,"value"],selectionMode:[1,"selectionMode"],selection:[2,"selection"],style:[3,"style"],styleClass:[4,"styleClass"]},{selectionChange:"selectionChange"}),t["\u0275qud"](603979776,1,{templates:1}),t["\u0275pod"](3,{"max-height":0,overflow:1,width:2}),(e()(),t["\u0275and"](0,null,null,1,null,c)),t["\u0275did"](5,16384,[[1,4]],0,s.PrimeTemplate,[t.TemplateRef],{name:[0,"name"]},null)],(function(e,l){var n=l.component,t=n.dependenciesTree,i=n.selectedObject,a=e(l,3,0,"20em","auto","100%");e(l,1,0,t,"single",i,a,"treeSelector treeWU"),e(l,5,0,"default")}),null)}function f(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,2,"h5",[["class","fwcBlue"]],null,null,null,null,null)),(e()(),t["\u0275ted"](1,null,["",""])),t["\u0275pid"](131072,r.k,[r.l,t.ChangeDetectorRef]),(e()(),t["\u0275and"](16777216,null,null,1,null,p)),t["\u0275did"](4,16384,null,0,u.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(e,l){e(l,4,0,l.component.dependenciesTree)}),(function(e,l){e(l,1,0,t["\u0275unv"](l,1,0,t["\u0275nov"](l,2).transform("ITEM_PANEL.RESTR.RESTRICTIONS")))}))}},wmoJ:function(e,l,n){"use strict";n.d(l,"a",(function(){return a})),n.d(l,"b",(function(){return d}));var t=n("8Y7J"),i=(n("pmWI"),n("SVse")),a=(n("7LN8"),t["\u0275crt"]({encapsulation:2,styles:[],data:{animation:[{type:7,name:"fieldsetContent",definitions:[{type:0,name:"hidden",styles:{type:6,styles:{height:"0"},offset:null},options:void 0},{type:0,name:"void",styles:{type:6,styles:{height:"{{height}}"},offset:null},options:{params:{height:"0"}}},{type:0,name:"visible",styles:{type:6,styles:{height:"*"},offset:null},options:void 0},{type:1,expr:"visible => hidden",animation:{type:4,styles:null,timings:"{{transitionParams}}"},options:null},{type:1,expr:"hidden => visible",animation:{type:4,styles:null,timings:"{{transitionParams}}"},options:null},{type:1,expr:"void => hidden",animation:{type:4,styles:null,timings:"{{transitionParams}}"},options:null},{type:1,expr:"void => visible",animation:{type:4,styles:null,timings:"{{transitionParams}}"},options:null}],options:{}}]}}));function o(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function s(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,3,null,null,null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,2,"a",[["tabindex","0"]],[[1,"aria-controls",0],[1,"aria-expanded",0]],[[null,"click"],[null,"keydown.enter"]],(function(e,l,n){var t=!0,i=e.component;return"click"===l&&(t=!1!==i.toggle(n)&&t),"keydown.enter"===l&&(t=!1!==i.toggle(n)&&t),t}),null,null)),(e()(),t["\u0275and"](16777216,null,null,1,null,o)),t["\u0275did"](3,540672,null,0,i.NgTemplateOutlet,[t.ViewContainerRef],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null)],(function(e,l){e(l,3,0,t["\u0275nov"](l.parent,9))}),(function(e,l){var n=l.component;e(l,1,0,n.id+"-content",!n.collapsed)}))}function r(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,3,"span",[["class","ui-fieldset-toggler pi"]],null,null,null,null,null)),t["\u0275prd"](512,null,i["\u0275NgClassImpl"],i["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](2,278528,null,0,i.NgClass,[i["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](3,{"pi-minus":0,"pi-plus":1})],(function(e,l){var n=l.component,t=e(l,3,0,!n.collapsed,n.collapsed);e(l,2,0,"ui-fieldset-toggler pi",t)}),null)}function u(e){return t["\u0275vid"](0,[(e()(),t["\u0275and"](16777216,null,null,1,null,r)),t["\u0275did"](1,16384,null,0,i.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275eld"](2,0,null,null,1,"span",[["class","ui-fieldset-legend-text"]],null,null,null,null,null)),(e()(),t["\u0275ted"](3,null,["",""])),t["\u0275ncd"](null,0),(e()(),t["\u0275and"](0,null,null,0))],(function(e,l){e(l,1,0,l.component.toggleable)}),(function(e,l){e(l,3,0,l.component.legend)}))}function d(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,19,"fieldset",[],[[1,"id",0]],null,null,null,null)),t["\u0275prd"](512,null,i["\u0275NgClassImpl"],i["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](2,278528,null,0,i.NgClass,[i["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](3,{"ui-fieldset ui-widget ui-widget-content ui-corner-all":0,"ui-fieldset-toggleable":1}),t["\u0275prd"](512,null,i["\u0275NgStyleImpl"],i["\u0275NgStyleR2Impl"],[t.ElementRef,t.KeyValueDiffers,t.Renderer2]),t["\u0275did"](5,278528,null,0,i.NgStyle,[i["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),(e()(),t["\u0275eld"](6,0,null,null,3,"legend",[["class","ui-fieldset-legend ui-corner-all ui-state-default ui-unselectable-text"]],null,null,null,null,null)),(e()(),t["\u0275and"](16777216,null,null,1,null,s)),t["\u0275did"](8,16384,null,0,i.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),t["\u0275and"](0,[["legendContent",2]],null,0,null,u)),(e()(),t["\u0275eld"](10,0,null,null,9,"div",[["class","ui-fieldset-content-wrapper"],["role","region"]],[[1,"id",0],[24,"@fieldsetContent",0],[1,"aria-hidden",0]],[[null,"@fieldsetContent.done"]],(function(e,l,n){var t=!0;return"@fieldsetContent.done"===l&&(t=!1!==e.component.onToggleDone(n)&&t),t}),null,null)),t["\u0275prd"](512,null,i["\u0275NgClassImpl"],i["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](12,278528,null,0,i.NgClass,[i["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](13,{"ui-fieldset-content-wrapper-overflown":0}),t["\u0275pod"](14,{transitionParams:0,height:1}),t["\u0275pod"](15,{value:0,params:1}),t["\u0275pod"](16,{transitionParams:0,height:1}),t["\u0275pod"](17,{value:0,params:1}),(e()(),t["\u0275eld"](18,0,null,null,1,"div",[["class","ui-fieldset-content"]],null,null,null,null,null)),t["\u0275ncd"](null,1)],(function(e,l){var n=l.component,i=n.styleClass,a=e(l,3,0,!0,n.toggleable);e(l,2,0,i,a),e(l,5,0,n.style),e(l,8,0,n.toggleable,t["\u0275nov"](l,9));var o=e(l,13,0,n.collapsed||n.animating);e(l,12,0,"ui-fieldset-content-wrapper",o)}),(function(e,l){var n=l.component;e(l,0,0,n.id);var t=n.id+"-content",i=n.collapsed?e(l,15,0,"hidden",e(l,14,0,n.transitionOptions,"0")):e(l,17,0,"visible",e(l,16,0,n.animating?n.transitionOptions:"0ms","*"));e(l,10,0,t,i,n.collapsed)}))}},zLlU:function(e,l,n){"use strict";n.d(l,"a",(function(){return a}));var t=n("GJmQ"),i=(n("IOOi"),n("o0su"),n("EMdb"));n("XY+R"),n("24Yq");class a{constructor(e,l,n,t,a,o,s,r,u,d,c,p,f,m,g,h,_){this.refService=e,this.fwcObjectTreeService=l,this.itemSelectedService=n,this.fwcPolicyService=t,this.fwcUserService=a,this.fwcFirewallService=o,this.fwcObjectService=s,this.fwcInterfaceService=r,this.fwcContextMenuService=u,this.fwcErrorPipe=d,this.confirmationService=c,this.messageService=p,this.inputDataService=f,this.utilService=m,this.fwcVpnService=g,this.appHintService=h,this.translate=_,this.applicationRef=null,this.contextMenuReference=null,this.treeExpandedNodes=[],this.searchOptions={allowParent:!0,caseSensitive:!1,conditions:{value:"",operation:"[]",negative:!1}},this.customSearchOptions={callback:(e,l)=>{}},this._searchString="",this.alive=!0,this.compileOrInstallLogMessage=void 0,this.ObjectTypes=i.v,this.infoTooltipShown=!1,this.CACertTypes=i.c,this.HintsIds=i.l,this.items=[]}set treeOptions(e){this.options=Object.assign({},e),this.treeExpandedNodes=[],this.selectedPolicyNodeId=void 0,this.treeLoad()}set searchString(e){this._searchString=e,this.treeFilter()}get searchString(){return this._searchString}ngOnInit(){this.treeContextMenu=this.fwcContextMenuService.getTreeMenus(),this.nodeTranslations=this.translate.instant("NODE_TYPES"),this.itemSelectedService.getItem().pipe(Object(t.a)(()=>this.alive)).subscribe(e=>{e.container||e._onlyReloadInfoPanel||this.treeFindItem(e._fwcObjId,e._fwcObjType,e._fwcSubObjId,e._fwcSubObjType)}),this.fwcPolicyService.getSelectedPolicy().pipe(Object(t.a)(()=>this.alive)).subscribe(e=>{if(this.options.container==i.B.C_FIREWALLS&&null!=e._fwcFwId&&!e._dontLocateInTree){let l=this.treeFindPolicyItem(this.items,e._fwcFwId,e._fwcPolicyType);l&&(this.selectedPolicyNodeId=l.id,l!=this.treeview.selectedItem&&(this.treeview.clearSelection(),this.treeview.scrollTo(l),this.treeview.selectedItem=l))}}),this.itemSelectedService.getModifiedItem().pipe(Object(t.a)(()=>this.alive)).subscribe(e=>{if(!(e.deleteFromList||e.addToList||e.selectItemInPosition))switch(e._fwcTreeAction){case i.A.NEW_ITEM:this.treeNewItem(e);break;case i.A.DELETE_ITEM:this.treeDeleteItem(e);break;case i.A.NEW_GROUP_ITEM:this.treeNewItem(e,!0);break;case i.A.DELETE_GROUP_ITEM:this.treeDeleteItem(e,!0);break;case i.A.RELOAD_TREE:(e.containerToReload===this.options.container||this.items[0]&&this.items[0].node_type===e.treeNodeToReload)&&this.treeLoad();break;case i.A.MODIFY_ITEM:default:this.treeModifyItem(e)}}),this.fwcUserService.getFwcUser().pipe(Object(t.a)(()=>this.alive)).subscribe(e=>{this.fwcUser&&this.fwcUser.selectedLanguage!=e.selectedLanguage&&this.translate.use(e.selectedLanguage),this.fwcUser=e}),this.fwcObjectTreeService.getTreeChildTypes().subscribe(e=>{this.fwcChildTypes=e}),this.appHintService.registerHint({id:i.l.HINT_NO_FW,caption:"HINTS.HINT_NO_FW.CAPTION",description:"HINTS.HINT_NO_FW.DESC",imageURL:"assets/img/cloud.png",target:this.hintFirstTreeElement}),this.appHintService.registerHint({id:i.l.HINT_CA_CREATING,caption:"HINTS.HINT_CA_CREATING.CAPTION",description:"HINTS.HINT_CA_CREATING.DESC",imageURL:"assets/img/cloud.png",target:this.hintFirstTreeElement})}ngAfterViewInit(){let e=this;setTimeout((function(){let l=e.refService.getAppRef();e.contextMenuReference=l,e.applicationRef=l}).bind(this),1)}ngOnDestroy(){this.alive=!1}setExpandedNodes(e,l){let n;if(e&&(n=e.item,l&&-1==this.treeExpandedNodes.findIndex(e=>e==n.id)&&this.treeExpandedNodes.push(n.id),!l)){let e;e=this.treeExpandedNodes.findIndex(e=>e==n.id),-1!=e&&this.treeExpandedNodes.splice(e,1)}}treeLoad(e,l){let n=this.fwcUserService.getActualFwSelectedCloud();this.treeview.clearItems(),this.items=[],this.options.container==i.B.C_FIREWALLS||this.options.container==i.B.C_FIREWALLS_CONDENSED?(this.itemSelectedService.setBlockUI(),Promise.all([this.getTree(this.options),this.getAllFirewalls()]).then(([n,t])=>{let a,o,s=n.data;s.text=" ",s.expanded=!0,this.items.push(s),this.treeClusters=[],a=Array.isArray(t.data)?t.data:[];for(let e=0;e<a.length;e++)if(null!=a[e].cluster){o=!1;for(let l=0;l<this.treeClusters.length;l++)a[e].cluster==this.treeClusters[l].clusterId&&(this.treeClusters[l].fwnodes.push(a[e]),a[e].fwmaster&&(this.treeClusters[l].fwMasterId=a[e].id),o=!0);if(!o){let l=this.treeClusters.push({clusterId:a[e].cluster,fwnodes:[]});a[e].fwmaster&&(this.treeClusters[l-1].fwMasterId=a[e].id),this.treeClusters[l-1].fwnodes.push(a[e])}}this.buildTree(e,l),this.itemSelectedService.setBlockUI(!1),setTimeout(()=>{this.options.container==i.B.C_FIREWALLS&&Array.isArray(this.items)&&this.items.length&&Array.isArray(this.items[0].items)&&!this.items[0].items.length&&this.appHintService.showRegisteredHint(i.l.HINT_NO_FW,this.hintFirstTreeElement)},500)}).catch(e=>{e.error&&this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(e.error)}),this.itemSelectedService.setBlockUI(!1)})):this.options.container==i.B.C_CA?(this.itemSelectedService.setBlockUI(),this.fwcObjectTreeService.getTree(this.options,n).subscribe(n=>{let t=n.data;t.text=" ",t.expanded=!0,this.items.push(t),this.buildTree(e,l),this.itemSelectedService.setBlockUI(!1)},e=>{this.errorMessage=e,this.itemSelectedService.setBlockUI(!1)})):(this.itemSelectedService.setBlockUI(),this.fwcObjectTreeService.getTree(this.options,n).subscribe(n=>{let t=n.data;t.text=" ",t.expanded=!0,this.reorderTreeStdNodes(t),this.items.push(t),this.buildTree(e,l),this.itemSelectedService.setBlockUI(!1)},e=>{this.errorMessage=e,this.itemSelectedService.setBlockUI(!1)}))}getTree(e){return new Promise((l,n)=>{let t=this.fwcUserService.getActualFwcUser(),i=-1;null!=t.selectedFwCloud&&(i=t.selectedFwCloud),this.fwcObjectTreeService.getTree(e,i).subscribe(e=>{l(e)},e=>{n(e)})})}getAllFirewalls(){return new Promise((e,l)=>{let n=this.fwcUserService.getActualFwSelectedCloud();this.fwcFirewallService.getFirewallsByCloud(n).subscribe(l=>{e(l)},e=>{l(e)})})}reorderTreeStdNodes(e){}buildTree(e,l){if(this.treePrepare(this.items),this.treeview.updateLayout(),e){let n=this.items[0];this.options.container==e.container&&(l?void 0!==e._fwcObjTreeParentId?n=this.treeview.findItemById(e._fwcObjTreeParentId):void 0!==e.pid&&(n=this.treeview.findItemById(e.pid)):void 0!==e._fwcObjTreeId?n=this.treeview.findItemById(e._fwcObjTreeId):void 0!==e._fwcObjId&&void 0!==e._fwcObjType&&(n=this.findItemByIdType(this.items,e._fwcObjId,e._fwcObjType))),n&&(this.treeview.scrollTo(n),this.treeview.expand(n),this.treeview.selectedItem=n,this.treeview.updateView(),this.itemSelectedService.setSelectedTreeNode(n))}}treePrepare(e,l){let n=l||{};e.forEach((e,l,t)=>{let a,o,s,r,u,d,c,p,f=[],m=[],g=[];if(this.nodeTranslations[e.node_type]&&!e.id_obj&&(e.text=this.nodeTranslations[e.node_type]),this.options.container===i.B.C_FIREWALLS_CONDENSED&&(e.node_type===i.t.OBJ_FIREWALL||e.node_type===i.t.OBJ_CLUSTER))for(let n=0;n<e.items.length;n++)e.items[n].node_type!=i.t.OPENVPN_ROOT&&(e.items.splice(n,1),n-=1);if(-1!=i.x.findIndex(l=>l==e.node_type)&&(e.obj_type=+i.K[e.node_type]),f=n.fw_status,m=n.ca_status,g=n.openvpn_status,-1!=this.treeExpandedNodes.findIndex(l=>l==e.id)&&(e.expanded=!0),e.container=this.options.container,e.containerReadOnly=this.options.containerReadOnly,e.obj_type==i.v.OBJ_INTERFACE_FIREWALL||e.obj_type==i.v.OBJ_INTERFACE_HOST){let l=/(.+)\s+\[(.+)\]$/.exec(e.text);e.labelName="",l&&(e.text=l[1],e.labelName=l[2])}if(e.obj_type==i.v.OBJ_ADDRESS){let l=/(.+)\s+\((.+)\)$/.exec(e.text);l&&(e.text=l[1],e.address=l[2])}e._fwcObjName=e.text,e._fwcObjType=e.obj_type,e._fwcObjId=e.id_obj,null!=n.prefix_name&&(e._fwcObjName=n.prefix_name+e.text),e.obj_type!=i.v.OBJ_PREFIX_FOLDER&&e.obj_type!=i.v.OBJ_OPENVPN_PREFIX||(p=e.text,c=n.parent_cert_name),null!=n.parent_cert_name&&(e._fwcParentConfigName=n.parent_cert_name),e.obj_type==i.v.OBJ_VPN_CONFIG_SER&&(c=e._fwcObjName),e.container===i.B.C_FIREWALLS||e.container===i.B.C_OBJECTS||e.container===i.B.C_FIREWALLS_CONDENSED?(n.parent_id&&(a=n.parent_id,o=n.parent_name,s=n.parent_type,r=n.fw_master,n.parent_type===i.v.OBJ_FIREWALL&&(e._fwcFwId=a,e._fwcFwName=o,e.firewall_id=a,e.firewall_name=o),n.parent_type===i.v.OBJ_CLUSTER&&(e._fwcClusterId=a,e._fwcClusterName=o,e.cluster_id=a,e.cluster_name=o),n.parent_type===i.v.OBJ_HOST&&(e._fwcHostId=a,e._fwcHostName=o,e.host_id=a,e.host_name=o)),n.openvpn_status&&(e._fwcOpenVPNId=n.openvpn_id),e.fw_status&&e.fw_status.length&&(f=e.fw_status),e.openvpn_status&&e.openvpn_status.length&&(g=e.openvpn_status),e.node_type!==i.t.OBJ_FIREWALL&&e.node_type!==i.t.OBJ_CLUSTER&&e.node_type!==i.t.OBJ_HOST||(a=e.id_obj,o=e.text,s=e.obj_type,e.node_type==i.t.OBJ_FIREWALL&&(e._fwcFwId=a,e._fwcFwName=o,this.updateFwNodeStatus(e,f)),e.node_type==i.t.OBJ_CLUSTER&&this.updateClusterNodeStatus(e,f)),e.obj_type!==i.v.OBJ_VPN_CONFIG_CLI&&e.obj_type!==i.v.OBJ_VPN_CONFIG_SER||this.updateOPVNStatus(e,g),e.node_type!==i.t.FOLDER_INTERFACES&&e.node_type!==i.t.FOLDER_CLUSTER_FW||!e._fwcClusterId||(r=e.id_obj),e.parent_id=a,e.parent_name=o,e.parent_type=s,r&&(e._fwcFwId=r),e.node_type===i.t.OPENVPN_CONFIG_SER&&(d=e.id_obj)):e.container===i.B.C_CA&&(e.ca_status&&e.ca_status.length&&(m=e.ca_status),e.obj_type==i.v.OBJ_CA&&(u=e.id_obj),e.obj_type==i.v.OBJ_PREFIX_FOLDER&&(u=n.ca_id),n.ca_id&&(e._fwcParentCA=n.ca_id),e.obj_type==i.v.OBJ_CA&&this.updateCAStatus(e,m)),e.expanded=!!e.expanded,e.allowDrag=this.checkItemDraggable(e),-1!=i.x.findIndex(l=>e.node_type==l)&&(e._fwcPolicyFwId=e.id_obj),e.items&&e.items.length&&this.treePrepare(e.items,{fw_status:f,parent_id:a,parent_name:o,parent_type:s,fw_master:r,ca_status:m,openvpn_status:g,ca_id:u,openvpn_id:d,prefix_name:p,parent_cert_name:c})})}treePrepareIt(){let e,l,n,t,a,o,s=[],r=[],u=[];for(u.push(this.items[0]);u.length;){let d=u.pop();if(e=void 0,l=void 0,n=void 0,t=void 0,a=[],s=[],r=[],o=void 0,-1!=this.treeExpandedNodes.findIndex(e=>e==d.id)&&(d.expanded=!0),d.container=this.options.container,d.containerReadOnly=this.options.containerReadOnly,d.obj_type==i.v.OBJ_INTERFACE_FIREWALL||d.obj_type==i.v.OBJ_INTERFACE_HOST){let e=/(.+)\s+\[(.+)\]$/.exec(d.text);d.labelName="",e&&(d.text=e[1],d.labelName=e[2])}if(d._fwcObjName=d.text,d._fwcObjType=d.obj_type,d._fwcObjId=d.id_obj,d.container!==i.B.C_FIREWALLS&&d.container!==i.B.C_OBJECTS||(d.parent_id&&(e=d.parent_id,l=d.parent_name,n=d.parent_type,t=d.fw_master,d.parent_type===i.v.OBJ_FIREWALL&&(d._fwcFwId=e,d._fwcFwName=l,d.firewall_id=e,d.firewall_name=l),d.parent_type===i.v.OBJ_CLUSTER&&(d._fwcClusterId=e,d._fwcClusterName=l,d.cluster_id=e,d.cluster_name=l),d.parent_type===i.v.OBJ_HOST&&(d._fwcHostId=e,d._fwcHostName=l,d.host_id=e,d.host_name=l)),d.fw_status&&d.fw_status.length&&(a=d.fw_status),d.node_type!==i.t.OBJ_FIREWALL&&d.node_type!==i.t.OBJ_CLUSTER&&d.node_type!==i.t.OBJ_HOST||(e=d.id_obj,l=d.text,n=d.obj_type,d.node_type==i.t.OBJ_FIREWALL&&(d._fwcFwId=e,d._fwcFwName=l,this.updateFwNodeStatus(d,a)),d.node_type==i.t.OBJ_CLUSTER&&this.updateClusterNodeStatus(d,a)),d.node_type!==i.t.FOLDER_INTERFACES&&d.node_type!==i.t.FOLDER_CLUSTER_FW||!d._fwcClusterId||(t=d.id_obj),d.parent_id=e,d.parent_name=l,d.parent_type=n,t&&(d._fwcFwId=t)),d.expanded=!!d.expanded,d.allowDrag=this.checkItemDraggable(d),i.x.findIndex(e=>d.node_type==e)&&(d._fwcPolicyFwId=d.id_obj),d.items&&d.items.length)for(let i=d.items.length-1;i>=0;i--)e&&(d.items[i].parent_id=e,d.items[i].parent_name=l,d.items[i].parent_type=n),a&&a.length&&(d.items[i].fw_status=a),null!=t&&(d.items[i].fw_master=t),u.push(d.items[i])}}checkItemDraggable(e){let l;return l=null!==e._fwcObjId&&null!==e._fwcObjType&&-1==i.s.findIndex(l=>e.node_type==l)&&(e.obj_type!==i.v.OBJ_FIREWALL||null==e._fwcClusterId),l}updateFwNodeStatus(e,l){let n,t;for(let i=0;l&&i<l.length;i++)l[i].id==e.id_obj&&(n=l[i]),null!=e._fwcClusterId&&l[i].cluster==e._fwcClusterId&&(t={clusterId:l[i].cluster,status_compiled:0,status_installed:2&l[i].status?1:0});n&&(e.status_compiled=1&n.status?1:0,e.status_installed=2&n.status?1:0),t&&null!=e._fwcClusterId&&e._fwcClusterId==t.clusterId&&(e.status_compiled=0,e.status_installed=t.status_installed)}updateClusterNodeStatus(e,l){let n,t,i=0;if(e){for(let l=0;l<this.treeClusters.length;l++)if(this.treeClusters[l].clusterId==e.id_obj){t=this.treeClusters[l];break}for(let a=0;l&&a<l.length;a++)l[a].cluster==e.id_obj&&(n=l[a],t&&t.clusterId==n.cluster&&(t.fwMasterId==n.id&&(e.status_compiled=1&n.status?1:0),2&n.status&&(i=1)));e.status_installed=i}}updateCAStatus(e,l){let n;if(e){for(let t=0;l&&t<l.length;t++)if(e.id_obj==l[t].id&&l[t].status){n=1;break}e._fwcCaStatus=n}}updateOPVNStatus(e,l){let n;if(e){for(let t=0;l&&t<l.length;t++)if(e.id_obj==l[t].id&&l[t].status){n=1;break}e._fwcOpenvpnStatus=n}}treeFindItem(e,l,n,t){let i=this.findItemByIdType(this.items,e,l,n,t);i&&(this.treeview.clearSelection(),this.treeview.scrollTo(i),this.treeview.selectedItem=i,this.treeview.updateLayout())}treeFindPolicyItem(e,l,n){let t=null;for(let i=0;i<e.length&&!t;i++)e[i]._fwcPolicyFwId==l&&e[i]._fwcObjType==n?t=e[i]:e[i].items&&e[i].items.length&&(t=this.treeFindPolicyItem(e[i].items,l,n));return t}findItemsByIdType(e,l,n,t,a){let o,s=[];for(let r=0;r<e.length;r++)if(e[r]._fwcObjId==l&&e[r]._fwcObjType==n&&e[r].node_type!=i.t.FOLDER_INTERFACES)if(o=e[r],t&&o.items){let e=this.findItemsByIdType(o.items,t,a);e&&e.length&&(s=s.concat(e))}else s=s.concat(o);else e[r].items&&e[r].items.length&&(s=s.concat(this.findItemsByIdType(e[r].items,l,n,t,a)));return s}findItemByIdType(e,l,n,t,i){let a=null;for(let o=0;o<e.length&&!a;o++)if(e[o]._fwcObjId==l&&e[o]._fwcObjType==n){if(a=e[o],t&&a.items){let e=this.findItemByIdType(a.items,t,i);e&&(a=e)}}else e[o].items&&e[o].items.length&&(a=this.findItemByIdType(e[o].items,l,n,t,i));return a}treeFindNode(e,l,n){let t;return e==this.options.container&&(t=this.findItemByIdType(this.items,l,n)),t}treeModifyItem(e){if(this.items&&this.items.length&&null!=e.id&&null!=e.type||null!=e.node_id){let l=[];if(e.node_id){let n=this.treeview.findItemById(e.node_id);n&&l.push(n)}else l=this.findItemsByIdType(this.items,e.id,e.type);if(l&&l.length)for(let n of l){let l=""+n.type,t=n.id;for(let i of Object.keys(n))void 0!==e[i]&&(n[i]=e[i]);n.type=l,n.id=t,n._fwcObjName=n.text=e.name,this.treeview.updateLayout()}}this.options.container==i.B.C_FIREWALLS&&e.fw_status&&e.fw_status.length&&this.treeUpdateFwStatus(this.items,e.fw_status)}treeNewItem(e,l){if(e.container==this.options.container)if(l){let l=this.treeview.findItemById(e._fwcObjTreeParentId);l&&(this.treeview.insertItemAt(e,(l.items?l.items:[]).length,l),this.treeview.expand(l),this.treeview.updateLayout())}else this.treeLoad(e,l);else this.options.container==i.B.C_FIREWALLS&&e.fw_status&&e.fw_status.length&&this.treeLoad(e,l)}treeDeleteItem(e,l){if(e.container==this.options.container)if(l){let l=this.treeview.findItemById(e._fwcObjTreeParentId);if(l){let n=(l.items?l.items:[]).findIndex(l=>l._fwcObjId==e._fwcObjId&&l._fwcObjType==e._fwcObjType);-1!=n&&(this.treeview.removeItemAt(n,l),this.treeview.selectedItem=l,this.treeview.updateLayout())}}else this.treeLoad(e,l);else this.options.container==i.B.C_FIREWALLS&&e.fw_status&&e.fw_status.length&&this.treeLoad(e,!0)}treeFilter(){this._searchString&&this._searchString.length?(this.searchOptions.conditions.value=this._searchString,this.treeview.filter(this.searchOptions),this.treeview.expand()):this.treeview.filter()}treeUpdateFwStatus(e,l){let n=null;for(let t=0;t<e.length;t++){let a=e[t];a.node_type==i.t.OBJ_FIREWALL&&this.updateFwNodeStatus(a,l),a.node_type==i.t.OBJ_CLUSTER&&this.updateClusterNodeStatus(a,l),a.items&&a.items.length&&(n=this.treeUpdateFwStatus(a.items,l))}return n}onContextMenuLoad(e){let l=this.treeview.selectedItem;if(!l||this.options.container==i.B.C_FIREWALLS_CONDENSED&&l.node_type!=i.t.OPENVPN_CONFIG_SER&&l.node_type!=i.t.OPENVPN_CONFIG_CLI&&l.node_type!=i.t.OPENVPN_PREFIX)return void(e.cancel=!0);let n,t,a=null!=l._fwcObjId,o=null!=l.fwcloud,s=l.items.length,r=0===l._fwcOpenvpnStatus;t=this.treeview.getItemParent(l),n=t&&(t.obj_type==i.v.OBJ_GROUP||t.obj_type==i.v.OBJ_SERVICE_GROUP)&&t.id_obj;let u=this.treeContextMenu[l.node_type];u&&u.items?u.items.forEach((function(e){"separator"!==e.type&&(e.visible=e.id==i.h.FOLDER_EXPAND?!(l.expanded||!s):e.id==i.h.FOLDER_COLLAPSE?!(!l.expanded||!s):!(e.userObject&&!o||e.objectInGroup&&!n||!1===e.objectInGroup&&n||e.clusterNode&&!l._fwcClusterId||!1===e.clusterNode&&l._fwcClusterId||e.onlyOnNodeType&&e.onlyOnNodeType!=l.node_type||e.onlyIfConfigInstalled&&!r||!(e.finalObject&&a||!e.finalObject&&!a)),e.enabled=!e.disableOnCACreation||!l._fwcCaStatus)})):e.cancel=!0}onContextMenuHandler(e){if(e.item){let l=this.treeview.selectedItem;if(!l)return;switch(l._fwcUserId=this.fwcUser.user_id,e.item.id){case i.h.WHERE_USED:let n=Object.assign({},l);n._fwcUserId=this.fwcUser.user_id,n._fwcCloud=this.fwcUser.selectedFwCloud,n.whereUsedAction=!0,this.itemSelectedService.setItem(n);break;case i.h.FOLDER_EXPAND:this.treeview.expand(l);break;case i.h.FOLDER_COLLAPSE:this.treeview.collapse(l);break;case i.h.TREE_RELOAD:this.treeLoad();break;case i.h.TREE_REPAIR:this.itemSelectedService.setRepairTree(l.node_type);break;case i.h.FIREWALL_EDIT:case i.h.NODE_EDIT:this.itemSelectedService.setItem(l);break;case i.h.POLICY_LOAD:this.actionLoadPolicy(l);break;case i.h.FIREWALL_NEW:this.itemSelectedService.setItem({id_obj:null,obj_type:i.v.OBJ_FIREWALL,_fwcObjType:i.v.OBJ_FIREWALL,node_id:l.id});break;case i.h.FIREWALL_DELETE:let t=Object.assign({},l);t.deleteAction=!0,this.itemSelectedService.setItem(t);break;case i.h.NODE_DELETE:let a=Object.assign({},l);a.deleteAction=!0,this.itemSelectedService.setItem(a);break;case i.h.FIREWALL_COMPILE:case i.h.FIREWALL_INSTALL:let o;o={compileAction:e.item.id==i.h.FIREWALL_COMPILE?i.g.COMP_COMPILE:i.g.COMP_INSTALL,compileWhat:i.g.COMP_FIREWALL,compileId:l._fwcObjId,compileType:l._fwcObjType},this.itemSelectedService.setCloudToCompile(o);break;case i.h.FIREWALL_COMPILE_ALL:this.itemSelectedService.setCloudToCompile({compileAction:i.g.COMP_COMPILE,compileWhat:i.g.COMP_CLOUD,compileId:this.fwcUserService.getActualFwSelectedCloud()});break;case i.h.FIREWALL_INSTALL_ALL:this.itemSelectedService.setCloudToCompile({compileAction:i.g.COMP_INSTALL,compileWhat:i.g.COMP_CLOUD,compileId:this.fwcUserService.getActualFwSelectedCloud()});break;case i.h.FIREWALL_CLONE:let s={header:this.translate.instant("TREE.FW_CLONE.HEADER",{name:l._fwcObjName}),helpText:this.translate.instant("TREE.FW_CLONE.TEXT"),formControls:[{name:"firewall",type:"hidden",value:l._fwcObjId},{name:"type",type:"hidden",value:l._fwcObjType},{name:"fwcloud",type:"hidden",value:this.fwcUserService.getActualFwSelectedCloud()},{name:"node_id",type:"hidden",value:l.pid},{name:"name",label:this.translate.instant("TREE.FW_CLONE.NAME"),type:"text",required:!0,value:`${l._fwcObjName}_CLONE`},{name:"comment",label:this.translate.instant("TREE.FW_CLONE.COMMENT"),type:"textarea",value:""}],onAccept:this.processInputDialogData.bind(this)};this.inputDataService.setInputData(s);break;case i.h.FIREWALL_TO_CLUSTER:this.confirmationService.confirm({header:this.translate.instant("TREE.MSG_CONFIRM_OP"),icon:"fa fa-question-circle-o fwcBlue iconBig",message:this.translate.instant("TREE.MSG_FW_TO_CLUSTER_1",{name:l._fwcObjName}),rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES"),accept:()=>{let e={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),firewall:l._fwcObjId,node_id:l.pid};this.utilService.fwcAPICall(this.fwcFirewallService.convertFwToCluster.bind(this.fwcFirewallService),e).then(e=>{let n={};n.id=n.id_obj=n._fwcObjId=e.data.insertId,n._fwcObjType=i.v.OBJ_CLUSTER,n._fwcTreeAction=i.A.NEW_ITEM,n.container=i.B.C_FIREWALLS,this.treeNewItem(n),this.fwcPolicyService.getActualSelectedPolicy(),this.fwcPolicyService.setSelectedPolicy({_fwcFwId:null}),this.itemSelectedService.hideObjectPanel(),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:this.translate.instant("TREE.MSG_FW_TO_CLUSTER_OK_1",{name:l._fwcObjName})})}).catch(e=>{e.error&&this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),detail:this.fwcErrorPipe.transform(e.error)})})}});break;case i.h.FOLDER_NEW:let r={header:this.translate.instant("TREE.FOLDER.HEADER_NEW"),helpText:this.translate.instant("TREE.FOLDER.TEXT_NEW"),formControls:[{name:"id_parent",type:"hidden",value:l.id},{name:"fwcloud",type:"hidden",value:this.fwcUserService.getActualFwSelectedCloud()},{name:"folder_name",label:this.translate.instant("TREE.FOLDER.NAME"),type:"text",required:!0,value:""}],onAccept:this.processInputDialogData.bind(this)};this.inputDataService.setInputData(r);break;case i.h.FOLDER_DELETE:if(l.node_type==i.t.FOLDER)if(l.items&&l.items.length)this.confirmationService.confirm({header:"Error",icon:"pi pi-exclamation-triangle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:this.translate.instant("TREE.MSG_FOLDER_NOT_EMPTY_ERROR")});else{let e={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),id:l.id};this.utilService.fwcAPICall(this.fwcObjectTreeService.deleteFolder.bind(this.fwcObjectTreeService),e).then(e=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("TREE.FOLDER.SUCCESS_DELETE")}),this.treeLoad()}).catch(e=>{e.error&&this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(e.error)})})}break;case i.h.FOLDER_RENAME:let u={header:this.translate.instant("TREE.FOLDER.HEADER_RENAME",{name:l._fwcObjName}),helpText:this.translate.instant("TREE.FOLDER.TEXT_RENAME"),formControls:[{name:"id",type:"hidden",value:l.id},{name:"old_name",type:"hidden",value:l._fwcObjName},{name:"fwcloud",type:"hidden",value:this.fwcUserService.getActualFwSelectedCloud()},{name:"folder_newname",label:this.translate.instant("TREE.FOLDER.NAME"),type:"text",required:!0,value:""}],onAccept:this.processInputDialogData.bind(this)};this.inputDataService.setInputData(u);break;case i.h.CLUSTER_NEW:this.itemSelectedService.setItem({id_obj:null,obj_type:i.v.OBJ_CLUSTER,_fwcObjType:i.v.OBJ_CLUSTER,node_id:l.id});break;case i.h.CLUSTER_EDIT:this.itemSelectedService.setItem(l);break;case i.h.CLUSTER_DELETE:let d=Object.assign({},l);d.deleteAction=!0,this.itemSelectedService.setItem(d);break;case i.h.CLUSTER_COMPILE:case i.h.CLUSTER_INSTALL:let c;c={compileAction:e.item.id==i.h.CLUSTER_COMPILE?i.g.COMP_COMPILE:i.g.COMP_INSTALL,compileWhat:i.g.COMP_CLUSTER,compileId:l._fwcObjId,compileType:l._fwcObjType},this.itemSelectedService.setCloudToCompile(c);break;case i.h.CLUSTER_COMPILE_ALL:this.itemSelectedService.setCloudToCompile({compileAction:i.g.COMP_COMPILE,compileWhat:i.g.COMP_CLUSTERS_ALL,compileId:void 0});break;case i.h.CLUSTER_CLONE:let p={header:this.translate.instant("TREE.CL_CLONE.HEADER",{name:l._fwcObjName}),helpText:this.translate.instant("TREE.CL_CLONE.TEXT"),formControls:[{name:"cluster",type:"hidden",value:l._fwcObjId},{name:"type",type:"hidden",value:l._fwcObjType},{name:"fwcloud",type:"hidden",value:this.fwcUserService.getActualFwSelectedCloud()},{name:"node_id",type:"hidden",value:l.pid},{name:"name",label:this.translate.instant("TREE.CL_CLONE.NAME"),type:"text",required:!0,value:`${l._fwcObjName}_CLONE`},{name:"comment",label:this.translate.instant("TREE.CL_CLONE.COMMENT"),type:"textarea",value:""}],onAccept:this.processInputDialogData.bind(this)};this.inputDataService.setInputData(p);break;case i.h.CLUSTER_TO_FIREWALL:this.confirmationService.confirm({header:this.translate.instant("TREE.MSG_CONFIRM_OP"),icon:"fa fa-question-circle-o fwcBlue iconBig",message:this.translate.instant("TREE.MSG_CLUSTER_TO_FW_1",{name:l._fwcObjName}),rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES"),accept:()=>{let e={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),cluster:l._fwcObjId,node_id:l.pid};this.utilService.fwcAPICall(this.fwcFirewallService.convertClusterToFw.bind(this.fwcFirewallService),e).then(e=>{let n={};n.id=n.id_obj=n._fwcObjId=e.data.insertId,n._fwcObjType=i.v.OBJ_FIREWALL,n._fwcTreeAction=i.A.NEW_ITEM,n.container=i.B.C_FIREWALLS,this.treeNewItem(n),this.fwcPolicyService.getActualSelectedPolicy(),this.fwcPolicyService.setSelectedPolicy({_fwcFwId:null}),this.itemSelectedService.hideObjectPanel(),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:this.translate.instant("TREE.MSG_CLUSTER_TO_FW_OK_1",{name:l._fwcObjName})})}).catch(e=>{e.error&&this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),detail:this.fwcErrorPipe.transform(e.error)})})}});break;case i.h.NEW_INTERFACE:if(l._fwcFwId&&l._fwcObjType==i.v.OBJ_INTERFACE_FIREWALL||l._fwcClusterId&&l._fwcObjType==i.v.OBJ_INTERFACE_FIREWALL||l._fwcObjId&&!l._fwcFwId&&l._fwcObjType==i.v.OBJ_HOST){let e,n;n=l._fwcObjType==i.v.OBJ_INTERFACE_FIREWALL?i.v.OBJ_INTERFACE_FIREWALL:i.v.OBJ_INTERFACE_HOST;let t,a,o,s,r,u=this.fwcChildTypes.data.filter((function(e){return e.id_node==l.node_type})),d=null!=l._fwcObjId;if(u.forEach(e=>{e.is_object&&d?t=e:e.is_object||d||(t=e)}),!t)return void this.confirmationService.confirm({header:"Error",icon:"pi pi-exclamation-triangle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:this.translate.instant("TREE.MSG_ADD_IF_ERROR")});l.parent_type===i.v.OBJ_FIREWALL&&(a=l.parent_id),l.parent_type===i.v.OBJ_CLUSTER&&(a=l._fwcFwId,o=l.parent_id),l.parent_type===i.v.OBJ_HOST&&(s=l.parent_id),r=o&&a?"CLUSTER "+o+", MASTER FIREWALL: "+a:s?"HOST "+s:"FIREWALL "+a,e={node_parent:l.id,node_order:1,node_type:t.node_type,host:s,firewall:a,cluster:o,interface_type:n,_fwcObjId:void 0,_fwcObjType:n,fwcloud:this.fwcUser.selectedFwCloud,_fwcUserId:this.fwcUser.user_id,container:this.options.container,containerReadOnly:!0,parent_id:l.parent_id,parent_name:l.parent_name,parent_type:l.parent_type},this.itemSelectedService.setItem(e)}else this.confirmationService.confirm({header:"Error",icon:"pi pi-exclamation-triangle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:this.translate.instant("TREE.MSG_ADD_IF_ERROR")});break;case i.h.NEW_ADDRESS:case i.h.NEW_GROUP:case i.h.NEW_NETWORK:case i.h.NEW_IP_RANGE:case i.h.NEW_HOST:case i.h.NEW_IP_SERVICE:case i.h.NEW_ICMP_SERVICE:case i.h.NEW_TCP_SERVICE:case i.h.NEW_UDP_SERVICE:case i.h.NEW_SERVICE_GROUP:case i.h.NEW_DNS:let f,m,g="",h=this.fwcChildTypes.data.filter(e=>e.id_node==l.node_type),_=null!=l._fwcObjId;if(h.forEach(e=>{e.is_object&&_?m=e:e.is_object||_||(m=e)}),!m)return void this.confirmationService.confirm({header:"Error",icon:"pi pi-exclamation-triangle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:this.translate.instant("TREE.MSG_ADD_OBJ_ERROR")});let v=l._fwcObjType,I=void 0,S=void 0;if(e.item.id==i.h.NEW_ADDRESS&&(l._fwcObjType==i.v.OBJ_INTERFACE_FIREWALL||l._fwcObjType==i.v.OBJ_INTERFACE_HOST)){v=i.v.OBJ_ADDRESS,I=l._fwcObjId,S=l._fwcObjType;let e=-1,n=l._fwcFwName,t=l._fwcObjName,a=new RegExp(`^${t}$`,"g"),o=new RegExp(`^${t}:(\\d+)$`,"g");if(l._fwcClusterName&&l._fwcClusterName.length&&(n=l._fwcClusterName),l._fwcHostName&&l._fwcHostName.length&&(n=l._fwcHostName),l.items&&l.items.constructor===Array)for(let i=0;i<l.items.length;i++){let n,t,s=l.items[i]._fwcObjName;n=a.exec(s),n&&-1==e&&(e=0),n=o.exec(s),n&&(t=+n[1],e=t+1)}g=-1==e?`${t}`:`${t}:${e}`}let C=void 0;switch(e.item.id){case i.h.NEW_TCP_SERVICE:C=6;break;case i.h.NEW_ICMP_SERVICE:C=1;break;case i.h.NEW_UDP_SERVICE:C=17}f={_fwcObjId:void 0,_fwcObjType:v,_fwcObjName:g,fwcloud:this.fwcUser.selectedFwCloud,_fwcUserId:this.fwcUser.user_id,interface:I,_fwcParentInterfaceType:S,_fwcParentObjName:l._fwcObjName,container:this.options.container,containerReadOnly:!0,node_parent:l.id,node_order:1,node_type:m.node_type,protocol:C},this.itemSelectedService.setItem(f);break;case i.h.DUPLICATE:this.onItemDblClickEvent(void 0,!0);break;case i.h.EDIT:this.onItemDblClickEvent(void 0);break;case i.h.DELETE:if(null==l.fwcloud||null==l.fwcloud)return void this.confirmationService.confirm({header:"Error",icon:"pi pi-exclamation-triangle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:this.translate.instant("TREE.MSG_DELETE_OBJ_ERROR_1",{name:l._fwcObjName})});let E=Object.assign({},l);E.deleteAction=!0,this.itemSelectedService.setItem(E);break;case i.h.DELETE_FROM_GROUP:let O=this.translate.instant("TREE.MSG_DELETE_OBJ_GROUP_1",{name:l._fwcObjName});this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_CONFIRM"),icon:"fa fa-question-circle-o fwcBlue iconBig",message:O,rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES"),accept:()=>{let e=this.treeview.getItemParent(l),n={fwcloud:this.fwcUser.selectedFwCloud,ipobj_g:e.id_obj,ipobj:l._fwcObjId,obj_type:l._fwcObjType};this.utilService.fwcAPICall(this.fwcObjectService.deleteObjectGroupObject.bind(this.fwcObjectService),n).then(e=>{let n=Object.assign({},l);e.data&&e.data.length&&(n.fw_status=e.data),n._fwcObjTreeParentId=n.pid,this.treeDeleteItem(n,!0),this.itemSelectedService.getActualItem(),this.itemSelectedService.setItem({_onlyReloadInfoPanel:!0}),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:this.translate.instant("TREE.MSG_DELETE_OBJ_GROUP_SUCCESS")})}).catch(e=>{e.error&&(e.error.restrictions?this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("TREE.RESTR_ERROR.HEADER"),detail:this.translate.instant("TREE.RESTR_ERROR.TEXT",{name:l._fwcObjName})}):5001==e.error.fwcErr?this.confirmationService.confirm({header:this.translate.instant("TREE.MSG_DELETE_OBJ_GROUP_ERROR"),icon:"fa fa-exclamation-circle fwcRed iconBig",message:this.translate.instant("TREE.MSG_DELETE_OBJ_GROUP_EMPTY",{name:l._fwcObjName}),rejectVisible:!1,acceptLabel:"Ok",accept:()=>{}}):this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(e.error)}))})}});break;case i.h.CA_NEW:case i.h.CA_CRT_NEW:let b={_fwcObjId:void 0,container:this.options.container,node_id:l.id,node_type:l.node_type,obj_type:i.v.OBJ_CA};if(e.item.id==i.h.CA_CRT_NEW)if(b.type=i.c.client,b.obj_type=i.v.OBJ_CERT_CLI,l.obj_type==i.v.OBJ_CA)b.ca=l.id_obj,b.ca_name=l.text;else if(l.obj_type==i.v.OBJ_PREFIX_FOLDER){let e=this.treeview.getItemParent(l);b.ca=e.id_obj,b.ca_name=e.text,b.folder_prefix=l.text}this.itemSelectedService.setItem(b);break;case i.h.CA_EDIT:case i.h.CA_CRT_EDIT:this.onItemDblClickEvent(void 0);break;case i.h.CA_DELETE:case i.h.CA_CRT_DELETE:let w,R,N,T={fwcloud:this.fwcUserService.getActualFwSelectedCloud()};e.item.id==i.h.CA_DELETE?(R=this.fwcVpnService.deleteCA.bind(this.fwcVpnService),w=this.fwcVpnService.checkCARestrictions.bind(this.fwcVpnService),N=this.translate.instant("TREE.VPN.CA_DELETE_CONF",{ca_name:l.text}),T.ca=l.id_obj):(R=this.fwcVpnService.deleteCertificate.bind(this.fwcVpnService),w=this.fwcVpnService.checkCertificateRestrictions.bind(this.fwcVpnService),N=this.translate.instant("TREE.VPN.CERT_DELETE_CONF",{cert_name:l.text}),T.crt=l.id_obj),w(T).subscribe(e=>{this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_CONFIRM"),icon:"pi pi-exclamation-triangle fwcRed iconBig",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES"),rejectLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.NO"),rejectVisible:!0,message:N,accept:()=>{this.utilService.fwcAPICall(R,T).then(e=>{let n=Object.assign({},l);n._fwcTreeAction=i.A.DELETE_ITEM,this.treeDeleteItem(n),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:this.translate.instant("TREE.VPN.DELETE_OK")}),this.fwcUserService.setConfirmationToken(void 0)}).catch(e=>{e.error&&this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(e.error)})})},reject:()=>{}})},e=>{if(e.error&&e.error.restrictions){let n,t,i=e.error.restrictions;i&&(i.caHasCertificates?(n=this.translate.instant("TREE.VPN.CA_DELETE_RESTR"),t=this.translate.instant("TREE.VPN.CA_DELETE_RESTR_MSG",{ca_name:l.text})):i.crtUsedInOpenvpn?(n=this.translate.instant("TREE.VPN.CERT_DELETE_RESTR"),t=this.translate.instant("TREE.VPN.CERT_DELETE_RESTR_MSG",{cert_name:l.text})):i.caHasPrefixes&&(n=this.translate.instant("TREE.VPN.CA_DELETE_RESTR"),t=this.translate.instant("TREE.VPN.CA_DELETE_PREFIXES_MSG",{ca_name:l.text}))),this.confirmationService.confirm({header:n,icon:"pi pi-exclamation-triangle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:t})}else e.error&&this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(e.error)})});break;case i.h.CA_CRT_NEW_PREFIX:case i.h.VPN_CONFIG_NEW_PREFIX:let y=Object.assign({},l);y._fwcObjType=y.obj_type=l._fwcObjType==i.v.OBJ_VPN_CONFIG_SER?i.v.OBJ_OPENVPN_PREFIX:i.v.OBJ_PREFIX_FOLDER,y.newPrefixAction=!0,this.itemSelectedService.setItem(y);break;case i.h.CA_CRT_EDIT_PREFIX:case i.h.CA_CRT_DELETE_PREFIX:case i.h.VPN_CONFIG_EDIT_PREFIX:case i.h.VPN_CONFIG_DELETE_PREFIX:let P=Object.assign({},l);P.editPrefixAction=e.item.id==i.h.CA_CRT_EDIT_PREFIX||e.item.id==i.h.VPN_CONFIG_EDIT_PREFIX,P.deletePrefixFolderAction=e.item.id==i.h.CA_CRT_DELETE_PREFIX,P.deleteAction=e.item.id==i.h.VPN_CONFIG_DELETE_PREFIX,this.itemSelectedService.setItem(P);break;case i.h.VPN_CONFIG_FILE:case i.h.VPN_CONFIG_DELETE:case i.h.VPN_CONFIG_INSTALL:case i.h.VPN_CONFIG_SYNC_CCD:case i.h.VPN_CONFIG_UNINSTALL:let D=Object.assign({},l);const L=e=>{let n=!0,t=[];for(t.push(...l.items);t.length;){let l=t.pop();if(l._fwcObjType==i.v.OBJ_VPN_CONFIG_CLI){this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_NOT_POSSIBLE"),icon:"pi pi-exclamation-triangle fwcRed iconBig",message:e,rejectVisible:!1,acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.OK")}),n=!1;break}l.items&&l.items.length&&t.push(...l.items)}return n};e.item.id==i.h.VPN_CONFIG_UNINSTALL?L(this.translate.instant("TREE.VPN.CONF_UNINSTALL.RESTR",{name:l._fwcObjName}))&&(D.uninstallAction=!0,this.itemSelectedService.setItem(D)):(D.deleteAction=e.item.id==i.h.VPN_CONFIG_DELETE,D.configFileAction=e.item.id==i.h.VPN_CONFIG_FILE,D.installAction=e.item.id==i.h.VPN_CONFIG_INSTALL,D.syncCCDAction=e.item.id==i.h.VPN_CONFIG_SYNC_CCD,this.itemSelectedService.setItem(D));break;case i.h.VPN_CONFIG_STATUS:let A=Object.assign({},l);A.statusAction=!0,this.itemSelectedService.setItem(A);break;case i.h.MARK_NEW:let F=Object.assign({},l);F._fwcObjName="",F.node_parent=l.id,this.itemSelectedService.setItem(F)}}}onItemClickEvent(e){let l=this.treeview.selectedItem;-1!=i.x.findIndex(e=>l.node_type==e)?this.actionLoadPolicy(l):this.clearObjectInfo(void 0)}onItemDblClickEvent(e,l){if(!this.treeview||!this.treeview.selectedItem)return;let n=Object.assign({},this.treeview.selectedItem);switch(n.node_type){case i.t.FOLDER_POLICY:case i.t.POLICY_INPUT:case i.t.POLICY_OUTPUT:case i.t.POLICY_FORWARD:case i.t.FOLDER_NAT:case i.t.POLICY_SNAT:case i.t.POLICY_DNAT:break;case i.t.FOLDER_POLICY6:case i.t.POLICY_INPUT6:case i.t.POLICY_OUTPUT6:case i.t.POLICY_FORWARD6:case i.t.POLICY_SNAT6:case i.t.POLICY_DNAT6:break;case i.t.FOLDER_ROUTING:case i.t.FOLDER_INTERFACES:case i.t.FOLDER_CLUSTER_FW:break;case i.t.OPENVPN_PREFIX_FOLDER:case i.t.OPENVPN_PREFIX:n.editPrefixAction=!0,this.itemSelectedService.setItem(n);break;default:if(null!==n._fwcObjId){let e=this.treeview.getItemParent(n);if(!e)return;if(n.obj_type!=i.v.OBJ_ADDRESS||e._fwcObjType!=i.v.OBJ_INTERFACE_FIREWALL&&e._fwcObjType!=i.v.OBJ_INTERFACE_HOST||(n._fwcParentInterfaceType=e._fwcObjType,n._fwcParentObjName=e._fwcObjName),l){let e=this.treeview.getItemParent(n);if(e.node_type==i.t.STANDARD){if(!e.pid)return;n.node_parent=e.pid}else n.node_parent=n.pid;n.duplicateObjectAction=!0}this.itemSelectedService.setItem(n)}}e&&e.stopPropagation()}actionLoadPolicy(e){let l={};-1!=i.x.findIndex(l=>e.node_type==l)&&(l._fwcUserId=this.fwcUser.user_id,l._fwcFwId=e.id_obj,l._fwcFwName=e._fwcFwName,l._fwcPolicyType=e.obj_type,l.fwcloud=e.fwcloud,l.show_action=e.show_action,e._fwcClusterId&&(l._fwcClusterId=e._fwcClusterId,l._fwcFwName=e._fwcClusterName),l._fwcFwId&&l._fwcPolicyType&&this.fwcPolicyService.setSelectedPolicy(l))}onItemDragStart(e,l){let n;n=Object.assign({},e),this.itemSelectedService.setDragItem(n),l.dataTransfer.setData("dragItemId",n.id),l.dataTransfer.dropEffect="copy",l.dataTransfer.effectAllowed="copyMove",this.clearObjectInfo(void 0)}checkDnDAllowance(e,l){return!(!e||!l||(e.node_type!=i.t.FOLDER&&e.node_type!=i.t.FOLDER_FW||l.node_type!=i.t.FOLDER&&l.node_type!=i.t.OBJ_CLUSTER&&l.node_type!=i.t.OBJ_FIREWALL)&&(e.node_type!=i.t.OBJ_FIREWALL&&e.node_type!=i.t.OBJ_CLUSTER||l.obj_type!=i.v.OBJ_CERT_SER)&&(e.node_type!=i.t.OPENVPN_CONFIG_SER||l.obj_type!=i.v.OBJ_CERT_CLI)||e.id==l.id||e.id==l.pid||!(l.items&&l.items.length&&!l.items.find((function(l){return l.id==e.id}))||l.items&&!l.items.length))}onDragOver(e){e&&(this.highlightNodeId=this.checkDnDAllowance(e.targetItem,e.dragItem)?e.targetItem.id:void 0)}onDragLeave(e){this.highlightNodeId=void 0}onDragDrop(e){if(e&&(this.clearObjectInfo(void 0),this.checkDnDAllowance(e.targetItem,e.dragItem))){let l=this.fwcUserService.getActualFwSelectedCloud(),n={fwcloud:l,src:e.dragItem.id,dst:e.targetItem.id};if(e.dragItem&&e.dragItem.node_type==i.t.OPENVPN_CERT){let n,t,a,o,s=e.dragItem,r=e.targetItem;if(r.node_type==i.t.OBJ_FIREWALL||r.node_type==i.t.OBJ_CLUSTER){if(r.items&&r.items.length)for(let e=0;e<r.items.length;e++)if(r.items[e].node_type==i.t.OPENVPN_ROOT){n=r.items[e];break}o=i.v.OBJ_VPN_CONFIG_SER}else r.node_type==i.t.OPENVPN_CONFIG_SER&&(n=r,o=i.v.OBJ_VPN_CONFIG_CLI,t=n._fwcObjId,a=n._fwcObjName);if(n){let e={fwcloud:l,obj_type:o,crt:s.id_obj,node_id:n.id,openvpn:t,parent_id:r.parent_id,parent_type:r.parent_type,parent_name:r.parent_name,_fwcObjId:void 0,_fwcCrtType:s.obj_type,_fwcCrtName:s._fwcObjName,_fwcParentConfigName:a,_fwcParentCA:s._fwcParentCA},i=this.checkOpenVPNOperationErrors(n,e);i?this.confirmationService.confirm({header:this.translate.instant("VPN.CONFIG.ERRORS.RESTRICTIONS.HEADER"),icon:"pi pi-exclamation-triangle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:this.translate.instant(i)}):this.itemSelectedService.setItem(e)}}else this.utilService.fwcAPICall(this.fwcObjectTreeService.dropInFolder.bind(this.fwcObjectTreeService),n).then(e=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("TREE.FOLDER.SUCCESS_DROP")}),this.treeLoad()}).catch(e=>{e.error&&this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(e.error)})})}this.highlightNodeId=void 0,e.cancel=!0}checkOpenVPNOperationErrors(e,l){let n;if(!e||!l)return"BAD PARAMETERS";this.items&&Array.isArray(this.items)&&this.items.length&&(n=this.items[0].openvpn_info);let t=l.crt,i=l.openvpn,a=l._fwcParentCA;if(n)for(let o=0;o<n.length;o++){let e=n[o];if(void 0===l.openvpn&&e.crt==t)return this.translate.instant("VPN.CONFIG.ERRORS.RESTRICTIONS.SERVER_SAME_CERT");if(void 0!==l.openvpn&&e.openvpn_parent==i&&e.crt==t)return this.translate.instant("VPN.CONFIG.ERRORS.RESTRICTIONS.CERT_ALREADY_EXISTS_ON_CONFIG");if(void 0!==l.openvpn&&e.openvpn==i&&e.ca!=a)return this.translate.instant("VPN.CONFIG.ERRORS.RESTRICTIONS.DIFFERENT_CA")}}processInputDialogData(e){let l;if(e)if(e.ssh_user)this.itemSelectedService.setFirewallAction({fwAction:i.h.FIREWALL_INSTALL,user_id:this.fwcUser.user_id,fwcloud:this.fwcUser.selectedFwCloud,firewall:e.firewall_id}),this.itemSelectedService.setFirewallAction({loadingData:!0}),this.itemSelectedService.setFirewallAction({logMessage:this.translate.instant("TREE.OPS.INST_START",{name:e.firewall_name}),logMessageType:i.r.MSG_INFO}),this.utilService.fwcAPICall(this.fwcPolicyService.installFirewall.bind(this.fwcPolicyService),e.firewall_id,this.fwcUserService.getActualFwSelectedCloud(),e.ssh_user,e.ssh_password,this.utilService.ioGetSocketId()).then(e=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("TREE.OPS.INST_SUCCESS")}),this.itemSelectedService.setFirewallAction({logMessage:this.translate.instant("TREE.OPS.INST_SUCCESS"),logMessageType:i.r.MSG_OK}),this.itemSelectedService.setFirewallAction({loadingData:!1})}).catch(e=>{e.error&&this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(e.error)}),this.itemSelectedService.setFirewallAction({logMessage:this.translate.instant("TREE.OPS.INST_ERROR",{error:e.error}),logMessageType:i.r.MSG_ERROR}),this.itemSelectedService.setFirewallAction({loadingData:!1})});else if(e.folder_name)e.name=e.folder_name,delete e.folder_name,this.utilService.fwcAPICall(this.fwcObjectTreeService.newFolder.bind(this.fwcObjectTreeService),e).then(e=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("TREE.FOLDER.SUCCESS")}),this.treeLoad()}).catch(e=>{e.error&&this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(e.error)})});else if(e.folder_newname)e.new_name=e.folder_newname,delete e.folder_newname,this.utilService.fwcAPICall(this.fwcObjectTreeService.updateFolder.bind(this.fwcObjectTreeService),e).then(l=>{let n;this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("TREE.FOLDER.SUCCESS_RENAME")}),n={node_id:e.id,name:e.new_name,_fwcTreeAction:i.A.MODIFY_ITEM},this.treeModifyItem(n)}).catch(e=>{e.error&&this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(e.error)})});else{let n;if(null!=e.firewall)n=this.fwcFirewallService.cloneFirewall.bind(this.fwcFirewallService);else{if(void 0===e.cluster||null==e.cluster)return;n=this.fwcFirewallService.cloneCluster.bind(this.fwcFirewallService)}l=Object.assign({},e),delete l.type,this.utilService.fwcAPICall(n,l).then(l=>{let n=l.data.insertId,t={};t.container=i.B.C_FIREWALLS,t.id=t.id_obj=t._fwcObjId=n,t._fwcObjType=e.type,t._fwcTreeAction=i.A.NEW_ITEM,this.treeNewItem(t),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("TREE.FW_CLONE.SUCCESS")})}).catch(e=>{e.error&&this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(e.error)})})}}showObjectInfo(e,l){if(!e)return;l&&l.preventDefault(),this.itemSelectedService.setObjectInfo(void 0,l);let n=e.node_type,t=i.x.concat([i.t.FOLDER_POLICY,i.t.FOLDER_INTERFACES,i.t.POLICY_ROUTING,i.t.OPENVPN_ROOT,i.t.OPENVPN_PREFIX_FOLDER]);if(!this.infoTooltipTimer&&!this.infoTooltipShown&&null!==e._fwcObjId&&null!==e._fwcObjType&&-1==t.findIndex(e=>n==e)){let n={objId:e._fwcObjId,objType:e._fwcObjType,fwId:e._fwcFwId,clusterId:e._fwcClusterId,objParentId:e.parent_id};this.infoTooltipTimer=setTimeout(()=>{this.infoTooltipShown=!0,this.itemSelectedService.setObjectInfo(n,l)},1e3)}}clearObjectInfo(e){e&&e.preventDefault(),this.infoTooltipTimer&&(clearTimeout(this.infoTooltipTimer),this.infoTooltipTimer=void 0),this.infoTooltipShown&&(this.itemSelectedService.setObjectInfo(void 0,e),this.infoTooltipShown=!1)}}}}]);