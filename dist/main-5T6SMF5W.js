import{a as Ha,b as Ka,c as Za,d as $a,f as Qa}from"./chunk-3YYXJK2I.js";import{b as za}from"./chunk-LHVWF42D.js";import{$ as Gi,$a as so,$b as Io,$d as Wo,$e as Sn,$f as Oa,Aa as je,Ab as Ot,Ac as ri,Ad as oi,Ae as na,Af as ua,Bb as po,Bc as tn,Bd as cn,Bg as Fa,Ca as N,Cc as nn,Cd as dn,Ce as gr,Cg as ka,D as Gs,Da as Js,Db as Le,Dc as rn,Dd as we,De as ot,Dg as Ba,E as Ws,Ea as eo,Eb as lr,Ec as sn,Ed as se,Ee as ra,Ef as fa,F as js,Fa as to,Fb as mo,Fc as Do,Fd as No,Fe as sa,Ff as ha,Fg as Va,G as or,Ga as p,Gb as uo,Gc as ht,Gd as ne,Ge as di,Gf as ga,Gg as Ua,H as Ui,Ha as m,Hb as fo,Hc as ce,Hd as de,He as pe,Hf as bn,Hg as Ga,I as Et,Ia as S,Ib as $i,Ic as si,Id as Qe,Ie as fn,If as yr,Ig as Wa,Ja as Be,Jb as ho,Jc as xo,Je as Nt,Jf as _a,Jg as ja,K as Hs,Ka as Ve,Kb as go,Kc as Ce,Kd as ai,Ke as Ye,Kf as Ir,L as W,La as Kt,Lb as _o,Lc as Lt,Le as Xe,Ma as R,Mb as So,Mc as on,Md as Fo,Me as Ei,N as fe,Na as D,Nb as wo,Nc as Lo,Nd as pn,Ne as Je,O as te,Oa as g,Ob as Qi,Oc as xc,Od as ko,Oe as Ti,P as Ci,Pa as io,Pb as ut,Pe as me,Pf as Sa,Q as B,Qa as no,Qb as V,Qe as Ue,Qf as wa,R as zs,Ra as Y,Rb as Ze,Re as Ie,Rf as St,S as K,Sa as ro,Sb as cr,Se as oa,Sf as va,T as ie,Ta as Ki,Tb as dr,Td as Bo,Te as hn,Tf as Ca,Tg as br,Ua as he,Ub as vo,Ue as gn,Uf as ya,Va as ae,Vb as Dt,Vd as fr,Ve as ge,Vf as Ia,Vg as An,W as Ks,Wa as le,Wb as Co,Wd as mn,Wf as ba,X as M,Xa as Se,Xb as qi,Xd as Vo,Xe as _t,Xf as Ea,Y as A,Ya as E,Yd as Uo,Ye as _r,Yf as Ta,Z as Zs,Za as H,Zb as yo,Zd as Go,Ze as pi,Zf as Ma,_a as Z,_d as hr,_e as _n,_f as Aa,a as rr,aa as $s,ab as Zt,ac as Yt,ae as jo,af as aa,ag as En,b as Ms,ba as ke,bb as $t,bc as pr,be as gt,bf as Sr,bg as Da,c as As,ca as pt,cb as Qt,cc as Yi,ce as un,cf as wr,d as Os,da as Wi,db as He,dd as Po,df as vr,e as Ds,ea as yi,eb as oo,ec as Xt,ef as Cr,eh as tt,f as xs,fa as Qs,fb as ao,fe as Ho,ff as wn,fg as xa,g as vi,ga as ar,gb as ze,gc as xt,ge as qe,gf as mi,gg as La,h as Vi,ha as Tt,hb as Ee,hc as ft,hd as Ii,he as li,hf as et,hg as Pa,ia as ji,ib as Mt,ic as Jt,ie as zo,if as ui,j as Ls,jc as Xi,je as Ko,jf as la,k as Fe,kb as lo,kd as bi,ke as Zo,kf as vn,lc as $e,ld as mr,le as $o,lf as fi,lg as Ft,m as Ps,ma as d,mb as y,mc as Ji,md as Pt,me as Qo,n as Rs,na as _,nb as I,nc as ei,ne as st,nf as Cn,ng as Lc,o as sr,oa as qs,oc as en,od as an,oe as qo,of as yn,p as dt,pa as nt,pc as ti,pd as ur,pe as Yo,pg as Ra,qa as Ys,qb as qt,qc as bo,qf as ca,qg as Tn,r as Ht,ra as Hi,rb as rt,rc as Eo,re as Xo,rf as In,s as Ns,sa as zi,sb as xe,sc as ii,sd as Rt,se as Jo,sf as da,sg as Mn,t as Fs,ta as zt,tb as Ke,tc as To,td as ln,te as ea,tf as pa,u as ks,ua as T,ub as co,uc as Mo,uf as hi,v as Bs,va as j,vb as mt,vc as Ao,ve as ta,vf as Mi,wa as f,wb as ve,wf as ma,x as Vs,xb as Zi,xc as Oo,xe as ci,xf as gi,yb as At,yc as ni,yd as Ro,z as Us,za as Xs,zb as Te,zd as ye,ze as ia,zg as Na}from"./chunk-BIIFWTWD.js";import{a as q,b as oe,c as Es,f as Ts,g as ct}from"./chunk-GAL4ENT6.js";function qa(n){return new W(3e3,!1)}function Pc(){return new W(3100,!1)}function Rc(){return new W(3101,!1)}function Nc(n){return new W(3001,!1)}function Fc(n){return new W(3003,!1)}function kc(n){return new W(3004,!1)}function Bc(n,i){return new W(3005,!1)}function Vc(){return new W(3006,!1)}function Uc(){return new W(3007,!1)}function Gc(n,i){return new W(3008,!1)}function Wc(n){return new W(3002,!1)}function jc(n,i,e,t,r){return new W(3010,!1)}function Hc(){return new W(3011,!1)}function zc(){return new W(3012,!1)}function Kc(){return new W(3200,!1)}function Zc(){return new W(3202,!1)}function $c(){return new W(3013,!1)}function Qc(n){return new W(3014,!1)}function qc(n){return new W(3015,!1)}function Yc(n){return new W(3016,!1)}function Xc(n,i){return new W(3404,!1)}function Jc(n){return new W(3502,!1)}function ed(n){return new W(3503,!1)}function td(){return new W(3300,!1)}function id(n){return new W(3504,!1)}function nd(n){return new W(3301,!1)}function rd(n,i){return new W(3302,!1)}function sd(n){return new W(3303,!1)}function od(n,i){return new W(3400,!1)}function ad(n){return new W(3401,!1)}function ld(n){return new W(3402,!1)}function cd(n,i){return new W(3505,!1)}function wt(n){switch(n.length){case 0:return new Yt;case 1:return n[0];default:return new pr(n)}}function dl(n,i,e=new Map,t=new Map){let r=[],s=[],o=-1,a=null;if(i.forEach(l=>{let c=l.get("offset"),h=c==o,u=h&&a||new Map;l.forEach((v,b)=>{let w=b,C=v;if(b!=="offset")switch(w=n.normalizePropertyName(w,r),C){case Yi:C=e.get(b);break;case Ze:C=t.get(b);break;default:C=n.normalizeStyleValue(b,w,C,r);break}u.set(w,C)}),h||s.push(u),a=u,o=c}),r.length)throw Jc(r);return s}function Zr(n,i,e,t){switch(i){case"start":n.onStart(()=>t(e&&Er(e,"start",n)));break;case"done":n.onDone(()=>t(e&&Er(e,"done",n)));break;case"destroy":n.onDestroy(()=>t(e&&Er(e,"destroy",n)));break}}function Er(n,i,e){let t=e.totalTime,r=!!e.disabled,s=$r(n.element,n.triggerName,n.fromState,n.toState,i||n.phaseName,t??n.totalTime,r),o=n._data;return o!=null&&(s._data=o),s}function $r(n,i,e,t,r="",s=0,o){return{element:n,triggerName:i,fromState:e,toState:t,phaseName:r,totalTime:s,disabled:!!o}}function Ae(n,i,e){let t=n.get(i);return t||n.set(i,t=e),t}function Ya(n){let i=n.indexOf(":"),e=n.substring(1,i),t=n.slice(i+1);return[e,t]}var dd=typeof document>"u"?null:document.documentElement;function Qr(n){let i=n.parentNode||n.host||null;return i===dd?null:i}function pd(n){return n.substring(1,6)=="ebkit"}var kt=null,Xa=!1;function md(n){kt||(kt=ud()||{},Xa=kt.style?"WebkitAppearance"in kt.style:!1);let i=!0;return kt.style&&!pd(n)&&(i=n in kt.style,!i&&Xa&&(i="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in kt.style)),i}function ud(){return typeof document<"u"?document.body:null}function pl(n,i){for(;i;){if(i===n)return!0;i=Qr(i)}return!1}function ml(n,i,e){if(e)return Array.from(n.querySelectorAll(i));let t=n.querySelector(i);return t?[t]:[]}var qr=(()=>{class n{validateStyleProperty(e){return md(e)}containsElement(e,t){return pl(e,t)}getParentElement(e){return Qr(e)}query(e,t,r){return ml(e,t,r)}computeStyle(e,t,r){return r||""}animate(e,t,r,s,o,a=[],l){return new Yt(r,s)}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=fe({token:n,factory:n.\u0275fac})}}return n})(),Ut=class{static{this.NOOP=new qr}},Gt=class{};var fd=1e3,ul="{{",hd="}}",fl="ng-enter",xr="ng-leave",On="ng-trigger",Rn=".ng-trigger",Ja="ng-animating",Lr=".ng-animating";function at(n){if(typeof n=="number")return n;let i=n.match(/^(-?[\.\d]+)(m?s)/);return!i||i.length<2?0:Pr(parseFloat(i[1]),i[2])}function Pr(n,i){switch(i){case"s":return n*fd;default:return n}}function Nn(n,i,e){return n.hasOwnProperty("duration")?n:gd(n,i,e)}function gd(n,i,e){let t=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,s=0,o="";if(typeof n=="string"){let a=n.match(t);if(a===null)return i.push(qa(n)),{duration:0,delay:0,easing:""};r=Pr(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(s=Pr(parseFloat(l),a[4]));let c=a[5];c&&(o=c)}else r=n;if(!e){let a=!1,l=i.length;r<0&&(i.push(Pc()),a=!0),s<0&&(i.push(Rc()),a=!0),a&&i.splice(l,0,qa(n))}return{duration:r,delay:s,easing:o}}function _d(n){return n.length?n[0]instanceof Map?n:n.map(i=>new Map(Object.entries(i))):[]}function it(n,i,e){i.forEach((t,r)=>{let s=Yr(r);e&&!e.has(r)&&e.set(r,n.style[s]),n.style[s]=t})}function Vt(n,i){i.forEach((e,t)=>{let r=Yr(t);n.style[r]=""})}function Ai(n){return Array.isArray(n)?n.length==1?n[0]:vo(n):n}function Sd(n,i,e){let t=i.params||{},r=hl(n);r.length&&r.forEach(s=>{t.hasOwnProperty(s)||e.push(Nc(s))})}var Rr=new RegExp(`${ul}\\s*(.+?)\\s*${hd}`,"g");function hl(n){let i=[];if(typeof n=="string"){let e;for(;e=Rr.exec(n);)i.push(e[1]);Rr.lastIndex=0}return i}function Di(n,i,e){let t=`${n}`,r=t.replace(Rr,(s,o)=>{let a=i[o];return a==null&&(e.push(Fc(o)),a=""),a.toString()});return r==t?n:r}var wd=/-+([a-z0-9])/g;function Yr(n){return n.replace(wd,(...i)=>i[1].toUpperCase())}function vd(n,i){return n===0||i===0}function Cd(n,i,e){if(e.size&&i.length){let t=i[0],r=[];if(e.forEach((s,o)=>{t.has(o)||r.push(o),t.set(o,s)}),r.length)for(let s=1;s<i.length;s++){let o=i[s];r.forEach(a=>o.set(a,Xr(n,a)))}}return i}function Me(n,i,e){switch(i.type){case V.Trigger:return n.visitTrigger(i,e);case V.State:return n.visitState(i,e);case V.Transition:return n.visitTransition(i,e);case V.Sequence:return n.visitSequence(i,e);case V.Group:return n.visitGroup(i,e);case V.Animate:return n.visitAnimate(i,e);case V.Keyframes:return n.visitKeyframes(i,e);case V.Style:return n.visitStyle(i,e);case V.Reference:return n.visitReference(i,e);case V.AnimateChild:return n.visitAnimateChild(i,e);case V.AnimateRef:return n.visitAnimateRef(i,e);case V.Query:return n.visitQuery(i,e);case V.Stagger:return n.visitStagger(i,e);default:throw kc(i.type)}}function Xr(n,i){return window.getComputedStyle(n)[i]}var yd=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Fn=class extends Gt{normalizePropertyName(i,e){return Yr(i)}normalizeStyleValue(i,e,t,r){let s="",o=t.toString().trim();if(yd.has(e)&&t!==0&&t!=="0")if(typeof t=="number")s="px";else{let a=t.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&r.push(Bc(i,t))}return o+s}};var kn="*";function Id(n,i){let e=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(t=>bd(t,e,i)):e.push(n),e}function bd(n,i,e){if(n[0]==":"){let l=Ed(n,e);if(typeof l=="function"){i.push(l);return}n=l}let t=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(t==null||t.length<4)return e.push(qc(n)),i;let r=t[1],s=t[2],o=t[3];i.push(el(r,o));let a=r==kn&&o==kn;s[0]=="<"&&!a&&i.push(el(o,r))}function Ed(n,i){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,t)=>parseFloat(t)>parseFloat(e);case":decrement":return(e,t)=>parseFloat(t)<parseFloat(e);default:return i.push(Yc(n)),"* => *"}}var Dn=new Set(["true","1"]),xn=new Set(["false","0"]);function el(n,i){let e=Dn.has(n)||xn.has(n),t=Dn.has(i)||xn.has(i);return(r,s)=>{let o=n==kn||n==r,a=i==kn||i==s;return!o&&e&&typeof r=="boolean"&&(o=r?Dn.has(n):xn.has(n)),!a&&t&&typeof s=="boolean"&&(a=s?Dn.has(i):xn.has(i)),o&&a}}var gl=":self",Td=new RegExp(`s*${gl}s*,?`,"g");function _l(n,i,e,t){return new Nr(n).build(i,e,t)}var tl="",Nr=class{constructor(i){this._driver=i}build(i,e,t){let r=new Fr(e);return this._resetContextStyleTimingState(r),Me(this,Ai(i),r)}_resetContextStyleTimingState(i){i.currentQuerySelector=tl,i.collectedStyles=new Map,i.collectedStyles.set(tl,new Map),i.currentTime=0}visitTrigger(i,e){let t=e.queryCount=0,r=e.depCount=0,s=[],o=[];return i.name.charAt(0)=="@"&&e.errors.push(Vc()),i.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),a.type==V.State){let l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(h=>{l.name=h,s.push(this.visitState(l,e))}),l.name=c}else if(a.type==V.Transition){let l=this.visitTransition(a,e);t+=l.queryCount,r+=l.depCount,o.push(l)}else e.errors.push(Uc())}),{type:V.Trigger,name:i.name,states:s,transitions:o,queryCount:t,depCount:r,options:null}}visitState(i,e){let t=this.visitStyle(i.styles,e),r=i.options&&i.options.params||null;if(t.containsDynamicStyles){let s=new Set,o=r||{};t.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{hl(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&e.errors.push(Gc(i.name,[...s.values()]))}return{type:V.State,name:i.name,style:t,options:r?{params:r}:null}}visitTransition(i,e){e.queryCount=0,e.depCount=0;let t=Me(this,Ai(i.animation),e),r=Id(i.expr,e.errors);return{type:V.Transition,matchers:r,animation:t,queryCount:e.queryCount,depCount:e.depCount,options:Bt(i.options)}}visitSequence(i,e){return{type:V.Sequence,steps:i.steps.map(t=>Me(this,t,e)),options:Bt(i.options)}}visitGroup(i,e){let t=e.currentTime,r=0,s=i.steps.map(o=>{e.currentTime=t;let a=Me(this,o,e);return r=Math.max(r,e.currentTime),a});return e.currentTime=r,{type:V.Group,steps:s,options:Bt(i.options)}}visitAnimate(i,e){let t=Dd(i.timings,e.errors);e.currentAnimateTimings=t;let r,s=i.styles?i.styles:Dt({});if(s.type==V.Keyframes)r=this.visitKeyframes(s,e);else{let o=i.styles,a=!1;if(!o){a=!0;let c={};t.easing&&(c.easing=t.easing),o=Dt(c)}e.currentTime+=t.duration+t.delay;let l=this.visitStyle(o,e);l.isEmptyStep=a,r=l}return e.currentAnimateTimings=null,{type:V.Animate,timings:t,style:r,options:null}}visitStyle(i,e){let t=this._makeStyleAst(i,e);return this._validateStyleAst(t,e),t}_makeStyleAst(i,e){let t=[],r=Array.isArray(i.styles)?i.styles:[i.styles];for(let a of r)typeof a=="string"?a===Ze?t.push(a):e.errors.push(Wc(a)):t.push(new Map(Object.entries(a)));let s=!1,o=null;return t.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s)){for(let l of a.values())if(l.toString().indexOf(ul)>=0){s=!0;break}}}),{type:V.Style,styles:t,easing:o,offset:i.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(i,e){let t=e.currentAnimateTimings,r=e.currentTime,s=e.currentTime;t&&s>0&&(s-=t.duration+t.delay),i.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,l)=>{let c=e.collectedStyles.get(e.currentQuerySelector),h=c.get(l),u=!0;h&&(s!=r&&s>=h.startTime&&r<=h.endTime&&(e.errors.push(jc(l,h.startTime,h.endTime,s,r)),u=!1),s=h.startTime),u&&c.set(l,{startTime:s,endTime:r}),e.options&&Sd(a,e.options,e.errors)})})}visitKeyframes(i,e){let t={type:V.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(Hc()),t;let r=1,s=0,o=[],a=!1,l=!1,c=0,h=i.steps.map(k=>{let z=this._makeStyleAst(k,e),X=z.offset!=null?z.offset:Od(z.styles),P=0;return X!=null&&(s++,P=z.offset=X),l=l||P<0||P>1,a=a||P<c,c=P,o.push(P),z});l&&e.errors.push(zc()),a&&e.errors.push(Kc());let u=i.steps.length,v=0;s>0&&s<u?e.errors.push(Zc()):s==0&&(v=r/(u-1));let b=u-1,w=e.currentTime,C=e.currentAnimateTimings,F=C.duration;return h.forEach((k,z)=>{let X=v>0?z==b?1:v*z:o[z],P=X*F;e.currentTime=w+C.delay+P,C.duration=P,this._validateStyleAst(k,e),k.offset=X,t.styles.push(k)}),t}visitReference(i,e){return{type:V.Reference,animation:Me(this,Ai(i.animation),e),options:Bt(i.options)}}visitAnimateChild(i,e){return e.depCount++,{type:V.AnimateChild,options:Bt(i.options)}}visitAnimateRef(i,e){return{type:V.AnimateRef,animation:this.visitReference(i.animation,e),options:Bt(i.options)}}visitQuery(i,e){let t=e.currentQuerySelector,r=i.options||{};e.queryCount++,e.currentQuery=i;let[s,o]=Md(i.selector);e.currentQuerySelector=t.length?t+" "+s:s,Ae(e.collectedStyles,e.currentQuerySelector,new Map);let a=Me(this,Ai(i.animation),e);return e.currentQuery=null,e.currentQuerySelector=t,{type:V.Query,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:a,originalSelector:i.selector,options:Bt(i.options)}}visitStagger(i,e){e.currentQuery||e.errors.push($c());let t=i.timings==="full"?{duration:0,delay:0,easing:"full"}:Nn(i.timings,e.errors,!0);return{type:V.Stagger,animation:Me(this,Ai(i.animation),e),timings:t,options:null}}};function Md(n){let i=!!n.split(/\s*,\s*/).find(e=>e==gl);return i&&(n=n.replace(Td,"")),n=n.replace(/@\*/g,Rn).replace(/@\w+/g,e=>Rn+"-"+e.slice(1)).replace(/:animating/g,Lr),[n,i]}function Ad(n){return n?q({},n):null}var Fr=class{constructor(i){this.errors=i,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function Od(n){if(typeof n=="string")return null;let i=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){let t=e;i=parseFloat(t.get("offset")),t.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let e=n;i=parseFloat(e.get("offset")),e.delete("offset")}return i}function Dd(n,i){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let s=Nn(n,i).duration;return Tr(s,0,"")}let e=n;if(e.split(/\s+/).some(s=>s.charAt(0)=="{"&&s.charAt(1)=="{")){let s=Tr(0,0,"");return s.dynamic=!0,s.strValue=e,s}let r=Nn(e,i);return Tr(r.duration,r.delay,r.easing)}function Bt(n){return n?(n=q({},n),n.params&&(n.params=Ad(n.params))):n={},n}function Tr(n,i,e){return{duration:n,delay:i,easing:e}}function Jr(n,i,e,t,r,s,o=null,a=!1){return{type:1,element:n,keyframes:i,preStyleProps:e,postStyleProps:t,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}var xi=class{constructor(){this._map=new Map}get(i){return this._map.get(i)||[]}append(i,e){let t=this._map.get(i);t||this._map.set(i,t=[]),t.push(...e)}has(i){return this._map.has(i)}clear(){this._map.clear()}},xd=1,Ld=":enter",Pd=new RegExp(Ld,"g"),Rd=":leave",Nd=new RegExp(Rd,"g");function Sl(n,i,e,t,r,s=new Map,o=new Map,a,l,c=[]){return new kr().buildKeyframes(n,i,e,t,r,s,o,a,l,c)}var kr=class{buildKeyframes(i,e,t,r,s,o,a,l,c,h=[]){c=c||new xi;let u=new Br(i,e,c,r,s,h,[]);u.options=l;let v=l.delay?at(l.delay):0;u.currentTimeline.delayNextStep(v),u.currentTimeline.setStyles([o],null,u.errors,l),Me(this,t,u);let b=u.timelines.filter(w=>w.containsAnimation());if(b.length&&a.size){let w;for(let C=b.length-1;C>=0;C--){let F=b[C];if(F.element===e){w=F;break}}w&&!w.allowOnlyTimelineStyles()&&w.setStyles([a],null,u.errors,l)}return b.length?b.map(w=>w.buildKeyframes()):[Jr(e,[],[],[],0,v,"",!1)]}visitTrigger(i,e){}visitState(i,e){}visitTransition(i,e){}visitAnimateChild(i,e){let t=e.subInstructions.get(e.element);if(t){let r=e.createSubContext(i.options),s=e.currentTimeline.currentTime,o=this._visitSubInstructions(t,r,r.options);s!=o&&e.transformIntoNewTimeline(o)}e.previousNode=i}visitAnimateRef(i,e){let t=e.createSubContext(i.options);t.transformIntoNewTimeline(),this._applyAnimationRefDelays([i.options,i.animation.options],e,t),this.visitReference(i.animation,t),e.transformIntoNewTimeline(t.currentTimeline.currentTime),e.previousNode=i}_applyAnimationRefDelays(i,e,t){for(let r of i){let s=r?.delay;if(s){let o=typeof s=="number"?s:at(Di(s,r?.params??{},e.errors));t.delayNextStep(o)}}}_visitSubInstructions(i,e,t){let s=e.currentTimeline.currentTime,o=t.duration!=null?at(t.duration):null,a=t.delay!=null?at(t.delay):null;return o!==0&&i.forEach(l=>{let c=e.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(i,e){e.updateOptions(i.options,!0),Me(this,i.animation,e),e.previousNode=i}visitSequence(i,e){let t=e.subContextCount,r=e,s=i.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),s.delay!=null)){r.previousNode.type==V.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Bn);let o=at(s.delay);r.delayNextStep(o)}i.steps.length&&(i.steps.forEach(o=>Me(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>t&&r.transformIntoNewTimeline()),e.previousNode=i}visitGroup(i,e){let t=[],r=e.currentTimeline.currentTime,s=i.options&&i.options.delay?at(i.options.delay):0;i.steps.forEach(o=>{let a=e.createSubContext(i.options);s&&a.delayNextStep(s),Me(this,o,a),r=Math.max(r,a.currentTimeline.currentTime),t.push(a.currentTimeline)}),t.forEach(o=>e.currentTimeline.mergeTimelineCollectedStyles(o)),e.transformIntoNewTimeline(r),e.previousNode=i}_visitTiming(i,e){if(i.dynamic){let t=i.strValue,r=e.params?Di(t,e.params,e.errors):t;return Nn(r,e.errors)}else return{duration:i.duration,delay:i.delay,easing:i.easing}}visitAnimate(i,e){let t=e.currentAnimateTimings=this._visitTiming(i.timings,e),r=e.currentTimeline;t.delay&&(e.incrementTime(t.delay),r.snapshotCurrentStyles());let s=i.style;s.type==V.Keyframes?this.visitKeyframes(s,e):(e.incrementTime(t.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=i}visitStyle(i,e){let t=e.currentTimeline,r=e.currentAnimateTimings;!r&&t.hasCurrentStyleProperties()&&t.forwardFrame();let s=r&&r.easing||i.easing;i.isEmptyStep?t.applyEmptyStep(s):t.setStyles(i.styles,s,e.errors,e.options),e.previousNode=i}visitKeyframes(i,e){let t=e.currentAnimateTimings,r=e.currentTimeline.duration,s=t.duration,a=e.createSubContext().currentTimeline;a.easing=t.easing,i.styles.forEach(l=>{let c=l.offset||0;a.forwardTime(c*s),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(r+s),e.previousNode=i}visitQuery(i,e){let t=e.currentTimeline.currentTime,r=i.options||{},s=r.delay?at(r.delay):0;s&&(e.previousNode.type===V.Style||t==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Bn);let o=t,a=e.invokeQuery(i.selector,i.originalSelector,i.limit,i.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((c,h)=>{e.currentQueryIndex=h;let u=e.createSubContext(i.options,c);s&&u.delayNextStep(s),c===e.element&&(l=u.currentTimeline),Me(this,i.animation,u),u.currentTimeline.applyStylesToKeyframe();let v=u.currentTimeline.currentTime;o=Math.max(o,v)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=i}visitStagger(i,e){let t=e.parentContext,r=e.currentTimeline,s=i.timings,o=Math.abs(s.duration),a=o*(e.currentQueryTotal-1),l=o*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=t.currentStaggerTime;break}let h=e.currentTimeline;l&&h.delayNextStep(l);let u=h.currentTime;Me(this,i.animation,e),e.previousNode=i,t.currentStaggerTime=r.currentTime-u+(r.startTime-t.currentTimeline.startTime)}},Bn={},Br=class n{constructor(i,e,t,r,s,o,a,l){this._driver=i,this.element=e,this.subInstructions=t,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Bn,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Vn(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(i,e){if(!i)return;let t=i,r=this.options;t.duration!=null&&(r.duration=at(t.duration)),t.delay!=null&&(r.delay=at(t.delay));let s=t.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!e||!o.hasOwnProperty(a))&&(o[a]=Di(s[a],o,this.errors))})}}_copyOptions(){let i={};if(this.options){let e=this.options.params;if(e){let t=i.params={};Object.keys(e).forEach(r=>{t[r]=e[r]})}}return i}createSubContext(i=null,e,t){let r=e||this.element,s=new n(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,t||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(i),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(i){return this.previousNode=Bn,this.currentTimeline=this.currentTimeline.fork(this.element,i),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(i,e,t){let r={duration:e??i.duration,delay:this.currentTimeline.currentTime+(t??0)+i.delay,easing:""},s=new Vr(this._driver,i.element,i.keyframes,i.preStyleProps,i.postStyleProps,r,i.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(i){this.currentTimeline.forwardTime(this.currentTimeline.duration+i)}delayNextStep(i){i>0&&this.currentTimeline.delayNextStep(i)}invokeQuery(i,e,t,r,s,o){let a=[];if(r&&a.push(this.element),i.length>0){i=i.replace(Pd,"."+this._enterClassName),i=i.replace(Nd,"."+this._leaveClassName);let l=t!=1,c=this._driver.query(this.element,i,l);t!==0&&(c=t<0?c.slice(c.length+t,c.length):c.slice(0,t)),a.push(...c)}return!s&&a.length==0&&o.push(Qc(e)),a}},Vn=class n{constructor(i,e,t,r){this._driver=i,this.element=e,this.startTime=t,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(i){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+i),e&&this.snapshotCurrentStyles()):this.startTime+=i}fork(i,e){return this.applyStylesToKeyframe(),new n(this._driver,i,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=xd,this._loadKeyframe()}forwardTime(i){this.applyStylesToKeyframe(),this.duration=i,this._loadKeyframe()}_updateStyle(i,e){this._localTimelineStyles.set(i,e),this._globalTimelineStyles.set(i,e),this._styleSummary.set(i,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(i){i&&this._previousKeyframe.set("easing",i);for(let[e,t]of this._globalTimelineStyles)this._backFill.set(e,t||Ze),this._currentKeyframe.set(e,Ze);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(i,e,t,r){e&&this._previousKeyframe.set("easing",e);let s=r&&r.params||{},o=Fd(i,this._globalTimelineStyles);for(let[a,l]of o){let c=Di(l,s,t);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Ze),this._updateStyle(a,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((i,e)=>{this._currentKeyframe.set(e,i)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((i,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,i)}))}snapshotCurrentStyles(){for(let[i,e]of this._localTimelineStyles)this._pendingStyles.set(i,e),this._updateStyle(i,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let i=[];for(let e in this._currentKeyframe)i.push(e);return i}mergeTimelineCollectedStyles(i){i._styleSummary.forEach((e,t)=>{let r=this._styleSummary.get(t);(!r||e.time>r.time)&&this._updateStyle(t,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();let i=new Set,e=new Set,t=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((a,l)=>{let c=new Map([...this._backFill,...a]);c.forEach((h,u)=>{h===Yi?i.add(u):h===Ze&&e.add(u)}),t||c.set("offset",l/this.duration),r.push(c)});let s=[...i.values()],o=[...e.values()];if(t){let a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return Jr(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}},Vr=class extends Vn{constructor(i,e,t,r,s,o,a=!1){super(i,e,o.delay),this.keyframes=t,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let i=this.keyframes,{delay:e,duration:t,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){let s=[],o=t+e,a=e/o,l=new Map(i[0]);l.set("offset",0),s.push(l);let c=new Map(i[0]);c.set("offset",il(a)),s.push(c);let h=i.length-1;for(let u=1;u<=h;u++){let v=new Map(i[u]),b=v.get("offset"),w=e+b*t;v.set("offset",il(w/o)),s.push(v)}t=o,e=0,r="",i=s}return Jr(this.element,i,this.preStyleProps,this.postStyleProps,t,e,r,!0)}};function il(n,i=3){let e=Math.pow(10,i-1);return Math.round(n*e)/e}function Fd(n,i){let e=new Map,t;return n.forEach(r=>{if(r==="*"){t??=i.keys();for(let s of t)e.set(s,Ze)}else for(let[s,o]of r)e.set(s,o)}),e}function nl(n,i,e,t,r,s,o,a,l,c,h,u,v){return{type:0,element:n,triggerName:i,isRemovalTransition:r,fromState:e,fromStyles:s,toState:t,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:h,totalTime:u,errors:v}}var Mr={},Un=class{constructor(i,e,t){this._triggerName=i,this.ast=e,this._stateStyles=t}match(i,e,t,r){return kd(this.ast.matchers,i,e,t,r)}buildStyles(i,e,t){let r=this._stateStyles.get("*");return i!==void 0&&(r=this._stateStyles.get(i?.toString())||r),r?r.buildStyles(e,t):new Map}build(i,e,t,r,s,o,a,l,c,h){let u=[],v=this.ast.options&&this.ast.options.params||Mr,b=a&&a.params||Mr,w=this.buildStyles(t,b,u),C=l&&l.params||Mr,F=this.buildStyles(r,C,u),k=new Set,z=new Map,X=new Map,P=r==="void",$={params:wl(C,v),delay:this.ast.options?.delay},U=h?[]:Sl(i,e,this.ast.animation,s,o,w,F,$,c,u),ee=0;return U.forEach(J=>{ee=Math.max(J.duration+J.delay,ee)}),u.length?nl(e,this._triggerName,t,r,P,w,F,[],[],z,X,ee,u):(U.forEach(J=>{let Ne=J.element,jt=Ae(z,Ne,new Set);J.preStyleProps.forEach(It=>jt.add(It));let Cs=Ae(X,Ne,new Set);J.postStyleProps.forEach(It=>Cs.add(It)),Ne!==e&&k.add(Ne)}),nl(e,this._triggerName,t,r,P,w,F,U,[...k.values()],z,X,ee))}};function kd(n,i,e,t,r){return n.some(s=>s(i,e,t,r))}function wl(n,i){let e=q({},i);return Object.entries(n).forEach(([t,r])=>{r!=null&&(e[t]=r)}),e}var Ur=class{constructor(i,e,t){this.styles=i,this.defaultParams=e,this.normalizer=t}buildStyles(i,e){let t=new Map,r=wl(i,this.defaultParams);return this.styles.styles.forEach(s=>{typeof s!="string"&&s.forEach((o,a)=>{o&&(o=Di(o,r,e));let l=this.normalizer.normalizePropertyName(a,e);o=this.normalizer.normalizeStyleValue(a,l,o,e),t.set(a,o)})}),t}};function Bd(n,i,e){return new Gr(n,i,e)}var Gr=class{constructor(i,e,t){this.name=i,this.ast=e,this._normalizer=t,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{let s=r.options&&r.options.params||{};this.states.set(r.name,new Ur(r.style,s,t))}),rl(this.states,"true","1"),rl(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new Un(i,r,this.states))}),this.fallbackTransition=Vd(i,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(i,e,t,r){return this.transitionFactories.find(o=>o.match(i,e,t,r))||null}matchStyles(i,e,t){return this.fallbackTransition.buildStyles(i,e,t)}};function Vd(n,i,e){let t=[(o,a)=>!0],r={type:V.Sequence,steps:[],options:null},s={type:V.Transition,animation:r,matchers:t,options:null,queryCount:0,depCount:0};return new Un(n,s,i)}function rl(n,i,e){n.has(i)?n.has(e)||n.set(e,n.get(i)):n.has(e)&&n.set(i,n.get(e))}var Ud=new xi,Wr=class{constructor(i,e,t){this.bodyNode=i,this._driver=e,this._normalizer=t,this._animations=new Map,this._playersById=new Map,this.players=[]}register(i,e){let t=[],r=[],s=_l(this._driver,e,t,r);if(t.length)throw ed(t);r.length&&void 0,this._animations.set(i,s)}_buildPlayer(i,e,t){let r=i.element,s=dl(this._normalizer,i.keyframes,e,t);return this._driver.animate(r,s,i.duration,i.delay,i.easing,[],!0)}create(i,e,t={}){let r=[],s=this._animations.get(i),o,a=new Map;if(s?(o=Sl(this._driver,e,s,fl,xr,new Map,new Map,t,Ud,r),o.forEach(h=>{let u=Ae(a,h.element,new Map);h.postStyleProps.forEach(v=>u.set(v,null))})):(r.push(td()),o=[]),r.length)throw id(r);a.forEach((h,u)=>{h.forEach((v,b)=>{h.set(b,this._driver.computeStyle(u,b,Ze))})});let l=o.map(h=>{let u=a.get(h.element);return this._buildPlayer(h,new Map,u)}),c=wt(l);return this._playersById.set(i,c),c.onDestroy(()=>this.destroy(i)),this.players.push(c),c}destroy(i){let e=this._getPlayer(i);e.destroy(),this._playersById.delete(i);let t=this.players.indexOf(e);t>=0&&this.players.splice(t,1)}_getPlayer(i){let e=this._playersById.get(i);if(!e)throw nd(i);return e}listen(i,e,t,r){let s=$r(e,"","","");return Zr(this._getPlayer(i),t,s,r),()=>{}}command(i,e,t,r){if(t=="register"){this.register(i,r[0]);return}if(t=="create"){let o=r[0]||{};this.create(i,e,o);return}let s=this._getPlayer(i);switch(t){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(i);break}}},sl="ng-animate-queued",Gd=".ng-animate-queued",Ar="ng-animate-disabled",Wd=".ng-animate-disabled",jd="ng-star-inserted",Hd=".ng-star-inserted",zd=[],vl={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Kd={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ge="__ng_removed",Li=class{get params(){return this.options.params}constructor(i,e=""){this.namespaceId=e;let t=i&&i.hasOwnProperty("value"),r=t?i.value:i;if(this.value=$d(r),t){let s=i,{value:o}=s,a=Es(s,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(i){let e=i.params;if(e){let t=this.options.params;Object.keys(e).forEach(r=>{t[r]==null&&(t[r]=e[r])})}}},Oi="void",Or=new Li(Oi),jr=class{constructor(i,e,t){this.id=i,this.hostElement=e,this._engine=t,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+i,Pe(e,this._hostClassName)}listen(i,e,t,r){if(!this._triggers.has(e))throw rd(t,e);if(t==null||t.length==0)throw sd(e);if(!Qd(t))throw od(t,e);let s=Ae(this._elementListeners,i,[]),o={name:e,phase:t,callback:r};s.push(o);let a=Ae(this._engine.statesByElement,i,new Map);return a.has(e)||(Pe(i,On),Pe(i,On+"-"+e),a.set(e,Or)),()=>{this._engine.afterFlush(()=>{let l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(e)||a.delete(e)})}}register(i,e){return this._triggers.has(i)?!1:(this._triggers.set(i,e),!0)}_getTrigger(i){let e=this._triggers.get(i);if(!e)throw ad(i);return e}trigger(i,e,t,r=!0){let s=this._getTrigger(e),o=new Pi(this.id,e,i),a=this._engine.statesByElement.get(i);a||(Pe(i,On),Pe(i,On+"-"+e),this._engine.statesByElement.set(i,a=new Map));let l=a.get(e),c=new Li(t,this.id);if(!(t&&t.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(e,c),l||(l=Or),!(c.value===Oi)&&l.value===c.value){if(!Xd(l.params,c.params)){let C=[],F=s.matchStyles(l.value,l.params,C),k=s.matchStyles(c.value,c.params,C);C.length?this._engine.reportError(C):this._engine.afterFlush(()=>{Vt(i,F),it(i,k)})}return}let v=Ae(this._engine.playersByElement,i,[]);v.forEach(C=>{C.namespaceId==this.id&&C.triggerName==e&&C.queued&&C.destroy()});let b=s.matchTransition(l.value,c.value,i,c.params),w=!1;if(!b){if(!r)return;b=s.fallbackTransition,w=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:e,transition:b,fromState:l,toState:c,player:o,isFallbackTransition:w}),w||(Pe(i,sl),o.onStart(()=>{_i(i,sl)})),o.onDone(()=>{let C=this.players.indexOf(o);C>=0&&this.players.splice(C,1);let F=this._engine.playersByElement.get(i);if(F){let k=F.indexOf(o);k>=0&&F.splice(k,1)}}),this.players.push(o),v.push(o),o}deregister(i){this._triggers.delete(i),this._engine.statesByElement.forEach(e=>e.delete(i)),this._elementListeners.forEach((e,t)=>{this._elementListeners.set(t,e.filter(r=>r.name!=i))})}clearElementCache(i){this._engine.statesByElement.delete(i),this._elementListeners.delete(i);let e=this._engine.playersByElement.get(i);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(i))}_signalRemovalForInnerTriggers(i,e){let t=this._engine.driver.query(i,Rn,!0);t.forEach(r=>{if(r[Ge])return;let s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>t.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(i,e,t,r){let s=this._engine.statesByElement.get(i),o=new Map;if(s){let a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){let h=this.trigger(i,c,Oi,r);h&&a.push(h)}}),a.length)return this._engine.markElementAsRemoved(this.id,i,!0,e,o),t&&wt(a).onDone(()=>this._engine.processLeaveNode(i)),!0}return!1}prepareLeaveAnimationListeners(i){let e=this._elementListeners.get(i),t=this._engine.statesByElement.get(i);if(e&&t){let r=new Set;e.forEach(s=>{let o=s.name;if(r.has(o))return;r.add(o);let l=this._triggers.get(o).fallbackTransition,c=t.get(o)||Or,h=new Li(Oi),u=new Pi(this.id,o,i);this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:o,transition:l,fromState:c,toState:h,player:u,isFallbackTransition:!0})})}}removeNode(i,e){let t=this._engine;if(i.childElementCount&&this._signalRemovalForInnerTriggers(i,e),this.triggerLeaveAnimation(i,e,!0))return;let r=!1;if(t.totalAnimations){let s=t.players.length?t.playersByQueriedElement.get(i):[];if(s&&s.length)r=!0;else{let o=i;for(;o=o.parentNode;)if(t.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(i),r)t.markElementAsRemoved(this.id,i,!1,e);else{let s=i[Ge];(!s||s===vl)&&(t.afterFlush(()=>this.clearElementCache(i)),t.destroyInnerAnimations(i),t._onRemovalComplete(i,e))}}insertNode(i,e){Pe(i,this._hostClassName)}drainQueuedTransitions(i){let e=[];return this._queue.forEach(t=>{let r=t.player;if(r.destroyed)return;let s=t.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==t.triggerName){let l=$r(s,t.triggerName,t.fromState.value,t.toState.value);l._data=i,Zr(t.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(t)}),this._queue=[],e.sort((t,r)=>{let s=t.transition.ast.depCount,o=r.transition.ast.depCount;return s==0||o==0?s-o:this._engine.driver.containsElement(t.element,r.element)?1:-1})}destroy(i){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,i)}},Hr=class{_onRemovalComplete(i,e){this.onRemovalComplete(i,e)}constructor(i,e,t){this.bodyNode=i,this.driver=e,this._normalizer=t,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){let i=[];return this._namespaceList.forEach(e=>{e.players.forEach(t=>{t.queued&&i.push(t)})}),i}createNamespace(i,e){let t=new jr(i,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(t,e):(this.newHostElements.set(e,t),this.collectEnterElement(e)),this._namespaceLookup[i]=t}_balanceNamespaceList(i,e){let t=this._namespaceList,r=this.namespacesByHostElement;if(t.length-1>=0){let o=!1,a=this.driver.getParentElement(e);for(;a;){let l=r.get(a);if(l){let c=t.indexOf(l);t.splice(c+1,0,i),o=!0;break}a=this.driver.getParentElement(a)}o||t.unshift(i)}else t.push(i);return r.set(e,i),i}register(i,e){let t=this._namespaceLookup[i];return t||(t=this.createNamespace(i,e)),t}registerTrigger(i,e,t){let r=this._namespaceLookup[i];r&&r.register(e,t)&&this.totalAnimations++}destroy(i,e){i&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let t=this._fetchNamespace(i);this.namespacesByHostElement.delete(t.hostElement);let r=this._namespaceList.indexOf(t);r>=0&&this._namespaceList.splice(r,1),t.destroy(e),delete this._namespaceLookup[i]}))}_fetchNamespace(i){return this._namespaceLookup[i]}fetchNamespacesByElement(i){let e=new Set,t=this.statesByElement.get(i);if(t){for(let r of t.values())if(r.namespaceId){let s=this._fetchNamespace(r.namespaceId);s&&e.add(s)}}return e}trigger(i,e,t,r){if(Ln(e)){let s=this._fetchNamespace(i);if(s)return s.trigger(e,t,r),!0}return!1}insertNode(i,e,t,r){if(!Ln(e))return;let s=e[Ge];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;let o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(i){let o=this._fetchNamespace(i);o&&o.insertNode(e,t)}r&&this.collectEnterElement(e)}collectEnterElement(i){this.collectedEnterElements.push(i)}markElementAsDisabled(i,e){e?this.disabledNodes.has(i)||(this.disabledNodes.add(i),Pe(i,Ar)):this.disabledNodes.has(i)&&(this.disabledNodes.delete(i),_i(i,Ar))}removeNode(i,e,t){if(Ln(e)){let r=i?this._fetchNamespace(i):null;r?r.removeNode(e,t):this.markElementAsRemoved(i,e,!1,t);let s=this.namespacesByHostElement.get(e);s&&s.id!==i&&s.removeNode(e,t)}else this._onRemovalComplete(e,t)}markElementAsRemoved(i,e,t,r,s){this.collectedLeaveElements.push(e),e[Ge]={namespaceId:i,setForRemoval:r,hasAnimation:t,removedBeforeQueried:!1,previousTriggersValues:s}}listen(i,e,t,r,s){return Ln(e)?this._fetchNamespace(i).listen(e,t,r,s):()=>{}}_buildInstruction(i,e,t,r,s){return i.transition.build(this.driver,i.element,i.fromState.value,i.toState.value,t,r,i.fromState.options,i.toState.options,e,s)}destroyInnerAnimations(i){let e=this.driver.query(i,Rn,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(i,Lr,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(i){let e=this.playersByElement.get(i);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(i){let e=this.playersByQueriedElement.get(i);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(i=>{if(this.players.length)return wt(this.players).onDone(()=>i());i()})}processLeaveNode(i){let e=i[Ge];if(e&&e.setForRemoval){if(i[Ge]=vl,e.namespaceId){this.destroyInnerAnimations(i);let t=this._fetchNamespace(e.namespaceId);t&&t.clearElementCache(i)}this._onRemovalComplete(i,e.setForRemoval)}i.classList?.contains(Ar)&&this.markElementAsDisabled(i,!1),this.driver.query(i,Wd,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(i=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,r)=>this._balanceNamespaceList(t,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let t=0;t<this.collectedEnterElements.length;t++){let r=this.collectedEnterElements[t];Pe(r,jd)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let t=[];try{e=this._flushAnimations(t,i)}finally{for(let r=0;r<t.length;r++)t[r]()}}else for(let t=0;t<this.collectedLeaveElements.length;t++){let r=this.collectedLeaveElements[t];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){let t=this._whenQuietFns;this._whenQuietFns=[],e.length?wt(e).onDone(()=>{t.forEach(r=>r())}):t.forEach(r=>r())}}reportError(i){throw ld(i)}_flushAnimations(i,e){let t=new xi,r=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,h=new Set;this.disabledNodes.forEach(O=>{h.add(O);let x=this.driver.query(O,Gd,!0);for(let L=0;L<x.length;L++)h.add(x[L])});let u=this.bodyNode,v=Array.from(this.statesByElement.keys()),b=ll(v,this.collectedEnterElements),w=new Map,C=0;b.forEach((O,x)=>{let L=fl+C++;w.set(x,L),O.forEach(G=>Pe(G,L))});let F=[],k=new Set,z=new Set;for(let O=0;O<this.collectedLeaveElements.length;O++){let x=this.collectedLeaveElements[O],L=x[Ge];L&&L.setForRemoval&&(F.push(x),k.add(x),L.hasAnimation?this.driver.query(x,Hd,!0).forEach(G=>k.add(G)):z.add(x))}let X=new Map,P=ll(v,Array.from(k));P.forEach((O,x)=>{let L=xr+C++;X.set(x,L),O.forEach(G=>Pe(G,L))}),i.push(()=>{b.forEach((O,x)=>{let L=w.get(x);O.forEach(G=>_i(G,L))}),P.forEach((O,x)=>{let L=X.get(x);O.forEach(G=>_i(G,L))}),F.forEach(O=>{this.processLeaveNode(O)})});let $=[],U=[];for(let O=this._namespaceList.length-1;O>=0;O--)this._namespaceList[O].drainQueuedTransitions(e).forEach(L=>{let G=L.player,ue=L.element;if($.push(G),this.collectedEnterElements.length){let _e=ue[Ge];if(_e&&_e.setForMove){if(_e.previousTriggersValues&&_e.previousTriggersValues.has(L.triggerName)){let bt=_e.previousTriggersValues.get(L.triggerName),De=this.statesByElement.get(L.element);if(De&&De.has(L.triggerName)){let Bi=De.get(L.triggerName);Bi.value=bt,De.set(L.triggerName,Bi)}}G.destroy();return}}let We=!u||!this.driver.containsElement(u,ue),be=X.get(ue),lt=w.get(ue),re=this._buildInstruction(L,t,lt,be,We);if(re.errors&&re.errors.length){U.push(re);return}if(We){G.onStart(()=>Vt(ue,re.fromStyles)),G.onDestroy(()=>it(ue,re.toStyles)),r.push(G);return}if(L.isFallbackTransition){G.onStart(()=>Vt(ue,re.fromStyles)),G.onDestroy(()=>it(ue,re.toStyles)),r.push(G);return}let bs=[];re.timelines.forEach(_e=>{_e.stretchStartingKeyframe=!0,this.disabledNodes.has(_e.element)||bs.push(_e)}),re.timelines=bs,t.append(ue,re.timelines);let Dc={instruction:re,player:G,element:ue};o.push(Dc),re.queriedElements.forEach(_e=>Ae(a,_e,[]).push(G)),re.preStyleProps.forEach((_e,bt)=>{if(_e.size){let De=l.get(bt);De||l.set(bt,De=new Set),_e.forEach((Bi,nr)=>De.add(nr))}}),re.postStyleProps.forEach((_e,bt)=>{let De=c.get(bt);De||c.set(bt,De=new Set),_e.forEach((Bi,nr)=>De.add(nr))})});if(U.length){let O=[];U.forEach(x=>{O.push(cd(x.triggerName,x.errors))}),$.forEach(x=>x.destroy()),this.reportError(O)}let ee=new Map,J=new Map;o.forEach(O=>{let x=O.element;t.has(x)&&(J.set(x,x),this._beforeAnimationBuild(O.player.namespaceId,O.instruction,ee))}),r.forEach(O=>{let x=O.element;this._getPreviousPlayers(x,!1,O.namespaceId,O.triggerName,null).forEach(G=>{Ae(ee,x,[]).push(G),G.destroy()})});let Ne=F.filter(O=>cl(O,l,c)),jt=new Map;al(jt,this.driver,z,c,Ze).forEach(O=>{cl(O,l,c)&&Ne.push(O)});let It=new Map;b.forEach((O,x)=>{al(It,this.driver,new Set(O),l,Yi)}),Ne.forEach(O=>{let x=jt.get(O),L=It.get(O);jt.set(O,new Map([...x?.entries()??[],...L?.entries()??[]]))});let ir=[],ys=[],Is={};o.forEach(O=>{let{element:x,player:L,instruction:G}=O;if(t.has(x)){if(h.has(x)){L.onDestroy(()=>it(x,G.toStyles)),L.disabled=!0,L.overrideTotalTime(G.totalTime),r.push(L);return}let ue=Is;if(J.size>1){let be=x,lt=[];for(;be=be.parentNode;){let re=J.get(be);if(re){ue=re;break}lt.push(be)}lt.forEach(re=>J.set(re,ue))}let We=this._buildAnimation(L.namespaceId,G,ee,s,It,jt);if(L.setRealPlayer(We),ue===Is)ir.push(L);else{let be=this.playersByElement.get(ue);be&&be.length&&(L.parentPlayer=wt(be)),r.push(L)}}else Vt(x,G.fromStyles),L.onDestroy(()=>it(x,G.toStyles)),ys.push(L),h.has(x)&&r.push(L)}),ys.forEach(O=>{let x=s.get(O.element);if(x&&x.length){let L=wt(x);O.setRealPlayer(L)}}),r.forEach(O=>{O.parentPlayer?O.syncPlayerEvents(O.parentPlayer):O.destroy()});for(let O=0;O<F.length;O++){let x=F[O],L=x[Ge];if(_i(x,xr),L&&L.hasAnimation)continue;let G=[];if(a.size){let We=a.get(x);We&&We.length&&G.push(...We);let be=this.driver.query(x,Lr,!0);for(let lt=0;lt<be.length;lt++){let re=a.get(be[lt]);re&&re.length&&G.push(...re)}}let ue=G.filter(We=>!We.destroyed);ue.length?qd(this,x,ue):this.processLeaveNode(x)}return F.length=0,ir.forEach(O=>{this.players.push(O),O.onDone(()=>{O.destroy();let x=this.players.indexOf(O);this.players.splice(x,1)}),O.play()}),ir}afterFlush(i){this._flushFns.push(i)}afterFlushAnimationsDone(i){this._whenQuietFns.push(i)}_getPreviousPlayers(i,e,t,r,s){let o=[];if(e){let a=this.playersByQueriedElement.get(i);a&&(o=a)}else{let a=this.playersByElement.get(i);if(a){let l=!s||s==Oi;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||o.push(c)})}}return(t||r)&&(o=o.filter(a=>!(t&&t!=a.namespaceId||r&&r!=a.triggerName))),o}_beforeAnimationBuild(i,e,t){let r=e.triggerName,s=e.element,o=e.isRemovalTransition?void 0:i,a=e.isRemovalTransition?void 0:r;for(let l of e.timelines){let c=l.element,h=c!==s,u=Ae(t,c,[]);this._getPreviousPlayers(c,h,o,a,e.toState).forEach(b=>{let w=b.getRealPlayer();w.beforeDestroy&&w.beforeDestroy(),b.destroy(),u.push(b)})}Vt(s,e.fromStyles)}_buildAnimation(i,e,t,r,s,o){let a=e.triggerName,l=e.element,c=[],h=new Set,u=new Set,v=e.timelines.map(w=>{let C=w.element;h.add(C);let F=C[Ge];if(F&&F.removedBeforeQueried)return new Yt(w.duration,w.delay);let k=C!==l,z=Yd((t.get(C)||zd).map(ee=>ee.getRealPlayer())).filter(ee=>{let J=ee;return J.element?J.element===C:!1}),X=s.get(C),P=o.get(C),$=dl(this._normalizer,w.keyframes,X,P),U=this._buildPlayer(w,$,z);if(w.subTimeline&&r&&u.add(C),k){let ee=new Pi(i,a,C);ee.setRealPlayer(U),c.push(ee)}return U});c.forEach(w=>{Ae(this.playersByQueriedElement,w.element,[]).push(w),w.onDone(()=>Zd(this.playersByQueriedElement,w.element,w))}),h.forEach(w=>Pe(w,Ja));let b=wt(v);return b.onDestroy(()=>{h.forEach(w=>_i(w,Ja)),it(l,e.toStyles)}),u.forEach(w=>{Ae(r,w,[]).push(b)}),b}_buildPlayer(i,e,t){return e.length>0?this.driver.animate(i.element,e,i.duration,i.delay,i.easing,t):new Yt(i.duration,i.delay)}},Pi=class{constructor(i,e,t){this.namespaceId=i,this.triggerName=e,this.element=t,this._player=new Yt,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(i){this._containsRealPlayer||(this._player=i,this._queuedCallbacks.forEach((e,t)=>{e.forEach(r=>Zr(i,t,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(i.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(i){this.totalTime=i}syncPlayerEvents(i){let e=this._player;e.triggerCallback&&i.onStart(()=>e.triggerCallback("start")),i.onDone(()=>this.finish()),i.onDestroy(()=>this.destroy())}_queueEvent(i,e){Ae(this._queuedCallbacks,i,[]).push(e)}onDone(i){this.queued&&this._queueEvent("done",i),this._player.onDone(i)}onStart(i){this.queued&&this._queueEvent("start",i),this._player.onStart(i)}onDestroy(i){this.queued&&this._queueEvent("destroy",i),this._player.onDestroy(i)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(i){this.queued||this._player.setPosition(i)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(i){let e=this._player;e.triggerCallback&&e.triggerCallback(i)}};function Zd(n,i,e){let t=n.get(i);if(t){if(t.length){let r=t.indexOf(e);t.splice(r,1)}t.length==0&&n.delete(i)}return t}function $d(n){return n??null}function Ln(n){return n&&n.nodeType===1}function Qd(n){return n=="start"||n=="done"}function ol(n,i){let e=n.style.display;return n.style.display=i??"none",e}function al(n,i,e,t,r){let s=[];e.forEach(l=>s.push(ol(l)));let o=[];t.forEach((l,c)=>{let h=new Map;l.forEach(u=>{let v=i.computeStyle(c,u,r);h.set(u,v),(!v||v.length==0)&&(c[Ge]=Kd,o.push(c))}),n.set(c,h)});let a=0;return e.forEach(l=>ol(l,s[a++])),o}function ll(n,i){let e=new Map;if(n.forEach(a=>e.set(a,[])),i.length==0)return e;let t=1,r=new Set(i),s=new Map;function o(a){if(!a)return t;let l=s.get(a);if(l)return l;let c=a.parentNode;return e.has(c)?l=c:r.has(c)?l=t:l=o(c),s.set(a,l),l}return i.forEach(a=>{let l=o(a);l!==t&&e.get(l).push(a)}),e}function Pe(n,i){n.classList?.add(i)}function _i(n,i){n.classList?.remove(i)}function qd(n,i,e){wt(e).onDone(()=>n.processLeaveNode(i))}function Yd(n){let i=[];return Cl(n,i),i}function Cl(n,i){for(let e=0;e<n.length;e++){let t=n[e];t instanceof pr?Cl(t.players,i):i.push(t)}}function Xd(n,i){let e=Object.keys(n),t=Object.keys(i);if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++){let s=e[r];if(!i.hasOwnProperty(s)||n[s]!==i[s])return!1}return!0}function cl(n,i,e){let t=e.get(n);if(!t)return!1;let r=i.get(n);return r?t.forEach(s=>r.add(s)):i.set(n,t),e.delete(n),!0}var Si=class{constructor(i,e,t){this._driver=e,this._normalizer=t,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new Hr(i.body,e,t),this._timelineEngine=new Wr(i.body,e,t),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(i,e,t,r,s){let o=i+"-"+r,a=this._triggerCache[o];if(!a){let l=[],c=[],h=_l(this._driver,s,l,c);if(l.length)throw Xc(r,l);c.length&&void 0,a=Bd(r,h,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(e,r,a)}register(i,e){this._transitionEngine.register(i,e)}destroy(i,e){this._transitionEngine.destroy(i,e)}onInsert(i,e,t,r){this._transitionEngine.insertNode(i,e,t,r)}onRemove(i,e,t){this._transitionEngine.removeNode(i,e,t)}disableAnimations(i,e){this._transitionEngine.markElementAsDisabled(i,e)}process(i,e,t,r){if(t.charAt(0)=="@"){let[s,o]=Ya(t),a=r;this._timelineEngine.command(s,e,o,a)}else this._transitionEngine.trigger(i,e,t,r)}listen(i,e,t,r,s){if(t.charAt(0)=="@"){let[o,a]=Ya(t);return this._timelineEngine.listen(o,e,a,s)}return this._transitionEngine.listen(i,e,t,r,s)}flush(i=-1){this._transitionEngine.flush(i)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(i){this._transitionEngine.afterFlushAnimationsDone(i)}};function Jd(n,i){let e=null,t=null;return Array.isArray(i)&&i.length?(e=Dr(i[0]),i.length>1&&(t=Dr(i[i.length-1]))):i instanceof Map&&(e=Dr(i)),e||t?new zr(n,e,t):null}var zr=class n{static{this.initialStylesByElement=new WeakMap}constructor(i,e,t){this._element=i,this._startStyles=e,this._endStyles=t,this._state=0;let r=n.initialStylesByElement.get(i);r||n.initialStylesByElement.set(i,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&it(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(it(this._element,this._initialStyles),this._endStyles&&(it(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Vt(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Vt(this._element,this._endStyles),this._endStyles=null),it(this._element,this._initialStyles),this._state=3)}};function Dr(n){let i=null;return n.forEach((e,t)=>{ep(t)&&(i=i||new Map,i.set(t,e))}),i}function ep(n){return n==="display"||n==="position"}var Gn=class{constructor(i,e,t,r){this.element=i,this.keyframes=e,this.options=t,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=t.duration,this._delay=t.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let i=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,i,this.options),this._finalKeyframe=i.length?i[i.length-1]:new Map;let e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(i){let e=[];return i.forEach(t=>{e.push(Object.fromEntries(t))}),e}_triggerWebAnimation(i,e,t){return i.animate(this._convertKeyframesToObject(e),t)}onStart(i){this._originalOnStartFns.push(i),this._onStartFns.push(i)}onDone(i){this._originalOnDoneFns.push(i),this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(i=>i()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}setPosition(i){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=i*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let i=new Map;this.hasStarted()&&this._finalKeyframe.forEach((t,r)=>{r!=="offset"&&i.set(r,this._finished?t:Xr(this.element,r))}),this.currentSnapshot=i}triggerCallback(i){let e=i==="start"?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}},Wn=class{validateStyleProperty(i){return!0}validateAnimatableStyleProperty(i){return!0}containsElement(i,e){return pl(i,e)}getParentElement(i){return Qr(i)}query(i,e,t){return ml(i,e,t)}computeStyle(i,e,t){return Xr(i,e)}animate(i,e,t,r,s,o=[]){let a=r==0?"both":"forwards",l={duration:t,delay:r,fill:a};s&&(l.easing=s);let c=new Map,h=o.filter(b=>b instanceof Gn);vd(t,r)&&h.forEach(b=>{b.currentSnapshot.forEach((w,C)=>c.set(C,w))});let u=_d(e).map(b=>new Map(b));u=Cd(i,u,c);let v=Jd(i,u);return new Gn(i,u,l,v)}};var Pn="@",yl="@.disabled",jn=class{constructor(i,e,t,r){this.namespaceId=i,this.delegate=e,this.engine=t,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(i){this.delegate.destroyNode?.(i)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(i,e){return this.delegate.createElement(i,e)}createComment(i){return this.delegate.createComment(i)}createText(i){return this.delegate.createText(i)}appendChild(i,e){this.delegate.appendChild(i,e),this.engine.onInsert(this.namespaceId,e,i,!1)}insertBefore(i,e,t,r=!0){this.delegate.insertBefore(i,e,t),this.engine.onInsert(this.namespaceId,e,i,r)}removeChild(i,e,t){this.parentNode(e)&&this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(i,e){return this.delegate.selectRootElement(i,e)}parentNode(i){return this.delegate.parentNode(i)}nextSibling(i){return this.delegate.nextSibling(i)}setAttribute(i,e,t,r){this.delegate.setAttribute(i,e,t,r)}removeAttribute(i,e,t){this.delegate.removeAttribute(i,e,t)}addClass(i,e){this.delegate.addClass(i,e)}removeClass(i,e){this.delegate.removeClass(i,e)}setStyle(i,e,t,r){this.delegate.setStyle(i,e,t,r)}removeStyle(i,e,t){this.delegate.removeStyle(i,e,t)}setProperty(i,e,t){e.charAt(0)==Pn&&e==yl?this.disableAnimations(i,!!t):this.delegate.setProperty(i,e,t)}setValue(i,e){this.delegate.setValue(i,e)}listen(i,e,t){return this.delegate.listen(i,e,t)}disableAnimations(i,e){this.engine.disableAnimations(i,e)}},Kr=class extends jn{constructor(i,e,t,r,s){super(e,t,r,s),this.factory=i,this.namespaceId=e}setProperty(i,e,t){e.charAt(0)==Pn?e.charAt(1)=="."&&e==yl?(t=t===void 0?!0:!!t,this.disableAnimations(i,t)):this.engine.process(this.namespaceId,i,e.slice(1),t):this.delegate.setProperty(i,e,t)}listen(i,e,t){if(e.charAt(0)==Pn){let r=tp(i),s=e.slice(1),o="";return s.charAt(0)!=Pn&&([s,o]=ip(s)),this.engine.listen(this.namespaceId,r,s,o,a=>{let l=a._data||-1;this.factory.scheduleListenerCallback(l,t,a)})}return this.delegate.listen(i,e,t)}};function tp(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function ip(n){let i=n.indexOf("."),e=n.substring(0,i),t=n.slice(i+1);return[e,t]}var Hn=class{constructor(i,e,t){this.delegate=i,this.engine=e,this._zone=t,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,e.onRemovalComplete=(r,s)=>{s?.removeChild(null,r)}}createRenderer(i,e){let t="",r=this.delegate.createRenderer(i,e);if(!i||!e?.data?.animation){let c=this._rendererCache,h=c.get(r);if(!h){let u=()=>c.delete(r);h=new jn(t,r,this.engine,u),c.set(r,h)}return h}let s=e.id,o=e.id+"-"+this._currentId;this._currentId++,this.engine.register(o,i);let a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(s,o,i,c.name,c)};return e.data.animation.forEach(a),new Kr(this,o,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(i,e,t){if(i>=0&&i<this._microtaskId){this._zone.run(()=>e(t));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(s=>{let[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),r.push([e,t])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var rp=(()=>{class n extends Si{constructor(e,t,r){super(e,t,r)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(t){return new(t||n)(B(mt),B(Ut),B(Gt))}}static{this.\u0275prov=fe({token:n,factory:n.\u0275fac})}}return n})();function sp(){return new Fn}function op(n,i,e){return new Hn(n,i,e)}var bl=[{provide:Gt,useFactory:sp},{provide:Si,useClass:rp},{provide:qs,useFactory:op,deps:[So,Si,pt]}],Il=[{provide:Ut,useFactory:()=>new Wn},{provide:ar,useValue:"BrowserAnimations"},...bl],ap=[{provide:Ut,useClass:qr},{provide:ar,useValue:"NoopAnimations"},...bl],El=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?ap:Il}}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=ie({type:n})}static{this.\u0275inj=te({providers:Il,imports:[Qi]})}}return n})();var dp=(n,i)=>({"col-6":n,"col-12":i}),pp=()=>({width:"48px",height:"48px"});function mp(n,i){if(n&1){let e=R();p(0,"div",4)(1,"span",5),S(2,"i",20),m(),p(3,"span",7)(4,"input",21),D("keyup.enter",function(){M(e);let r=g();return A(r.checkForm())}),m(),p(5,"label",22),E(6),y(7,"translate"),m()()()}n&2&&(d(6),H(I(7,1,"TFA.AUTH_CODE")))}function up(n,i){if(n&1){let e=R();p(0,"div",16)(1,"button",23),y(2,"translate"),D("click",function(){M(e);let r=g();return A(r.onLogin())}),m()()}if(n&2){let e=g();d(),Y("label",I(2,2,"USER.MSG_USER_BUTTONS.LOGIN")),f("disabled",!e.formModel.valid||e.formModel.pristine||e.sendingData)}}function fp(n,i){n&1&&(p(0,"div",17),S(1,"p-progressSpinner"),m()),n&2&&(d(),Xs(ze(2,pp)))}function hp(n,i){if(n&1){let e=R();p(0,"div",18),S(1,"i",24),p(2,"h5",2),E(3," @fwcloud"),m(),p(4,"button",25),y(5,"translate"),D("click",function(){M(e);let r=g();return A(r.onLogin())}),m(),S(6,"div",26),m()}n&2&&(d(4),Y("label",I(5,1,"USER.MSG_USER_BUTTONS.FOLLOW_US")))}function gp(n,i){if(n&1){let e=R();p(0,"div",19)(1,"p-messages",27),Qt("valueChange",function(r){M(e);let s=g();return $t(s.authErrorMsg,r)||(s.authErrorMsg=r),A(r)}),m()()}if(n&2){let e=g();d(),Zt("value",e.authErrorMsg),f("closable",!1)("escape",!1)}}var Ml=(()=>{class n{constructor(e,t,r,s,o,a){this.fwcUserService=e,this._router=t,this.translate=r,this.utilService=s,this.fwcErrorPipe=o,this.fwcAuthService=a,this.sendingData=!1,this.authErrorMsg=[],this.twitterData=null,this.alive=!0,this.tfaFlag=!1,a.isLogged()&&this._router.navigate(["/cloud/select"])}ngOnInit(){this.fwcUser=this.fwcUserService.getActualFwcUser(),this.formModel=new Xi({customer:new $e(1,[xt.required]),username:new $e("",[xt.required]),password:new $e("",xt.required),authCode:new $e("")}),this.fwcUserService.getFwcUser().pipe(Et(()=>this.alive)).subscribe(e=>{this.fwcUser&&e&&this.fwcUser.selectedLanguage!=e.selectedLanguage&&this.translate.use(e.selectedLanguage),this.fwcUser=Object.assign({},e)})}ngOnDestroy(){this.alive=!1}onLogin(){return ct(this,null,function*(){let e;this.authErrorMsg=[],this.sendingData=!0,e=Object.assign({},this.formModel.value);let{publicKeyArmored:t,privateKeyArmored:r}=yield this.utilService.generatePGPKeys();e.publicKey=t,this.formModel.disable(),this.fwcUserService.logUser(e).pipe(Et(()=>this.alive)).subscribe(s=>{if(s&&s.data&&s.data.user){let o=s.data.user,a=s.data.role,l=s.data.publicKey,c=this.fwcUserService.getActualFwcUser().selectedLanguage;this.fwcUserService.setCustomerId(e.customer),this.fwcUserService.setUserId(o),this.fwcUserService.setUsername(e.username),this.fwcUserService.setUserRole(a),this.fwcUserService.setAlreadyCheckedForUpdates(!1),this.fwcUserService.setPublicKey(l),this.fwcUserService.setPrivateKey(r),this.fwcUserService.getAuth().subscribe(h=>{if(h.data.enabled&&h.data.tfa.secret){if(this.tfaFlag=!0,this.sendingData=!1,e.authCode){let u={authCode:e.authCode,secret:h.data.tfa.secret,tempSecret:h.data.tfa.tempSecret,dataURL:h.data.tfa.dataURL,tfaURL:h.data.tfa.tfaURL};this.utilService.fwcAPICall(this.fwcUserService.verifyAuth.bind(this.fwcUserService),u).then(v=>{if(v&&v.data)this.fwcAuthService.login(e.customer,o,e.username,a,c,l,r),this.utilService.ioConnect(()=>{this._router.navigate(["/cloud/select"])});else{let b=this.translate.instant("TFA.ERROR"),w=this.translate.instant("TFA.AUTH_CODE_INVALID"),C=`<b>${b}</b><br>${w}`;this.authErrorMsg.push({severity:"error",summary:"",detail:C}),this.sendingData=!1}}).catch(v=>{let b=this.translate.instant("USER.MSG_USER_AUTH.AUTH_ERROR"),w=this.translate.instant("USER.MSG_USER_AUTH.AUTH_ERROR2"),C=`<b>${b}</b><br>${w}`;v.status===401?this.authErrorMsg.push({severity:"error",summary:"",detail:C}):this.authErrorMsg.push({severity:"error",summary:"",detail:C})})}}else this.fwcAuthService.login(e.customer,o,e.username,a,c,l,r),this.utilService.ioConnect(()=>{this._router.navigate(["/cloud/select"])})})}else{let o=this.translate.instant("USER.MSG_USER_AUTH.LOGIN_ERROR"),a=this.translate.instant("USER.MSG_USER_AUTH.LOGIN_ERROR2"),l=`<b>${o}</b><br>${a}`;this.authErrorMsg.push({severity:"error",summary:"",detail:l}),this.sendingData=!1}this.formModel.enable()},s=>{if(s.status===0||s.status===500||s.status===502||s.status===504){let o=this.translate.instant("USER.MSG_USER_AUTH.COMM_ERROR"),a=this.translate.instant("USER.MSG_USER_AUTH.COMM_ERROR2"),l=`<b>${o}</b><br>${a}`;this.authErrorMsg.push({severity:"error",summary:"",detail:l})}else{let o=this.translate.instant("USER.MSG_USER_AUTH.AUTH_ERROR"),a=this.translate.instant("USER.MSG_USER_AUTH.AUTH_ERROR2"),l=`<b>${o}</b><br>${a}`;this.authErrorMsg.push({severity:"error",summary:"",detail:l})}this.sendingData=!1,this.formModel.enable()})})}checkForm(){if(this.formModel.valid)this.onLogin();else for(let e in this.formModel.controls)this.formModel.controls[e].markAsDirty()}static{this.\u0275fac=function(t){return new(t||n)(_(se),_(ce),_(ne),_(me),_(Ue),_(ye))}}static{this.\u0275cmp=K({type:n,selectors:[["app-user-login"]],decls:35,vars:23,consts:[[1,"grid"],[3,"ngClass"],[1,"fwcBlue"],[3,"formGroup"],[1,"grpLogin","p-inputgroup"],[1,"p-inputgroup-addon"],["aria-hidden","true",1,"fa","fa-fw","fa-key","fwcOrange"],[1,"p-float-label"],["formControlName","customer","name","customer","type","number","min","1","pInputText","","appAutofocus","",3,"keyup.enter"],["for","customer"],["aria-hidden","true",1,"fa","fa-fw","fa-user","fwcOrange"],["formControlName","username","name","username","type","text","maxlength","32","pInputText","",3,"keyup.enter"],["for","username"],["aria-hidden","true",1,"fa","fa-fw","fa-unlock-alt","fwcOrange"],["formControlName","password","name","password","type","password","maxlength","64","pPassword","",3,"keyup.enter","feedback"],["for","password"],[2,"height","50px"],[1,"divLoader",2,"height","50px"],["id","divTwitter",1,"col-6"],[1,"col-12","noVertPad"],["aria-hidden","true",1,"fa","fa-fw","fa-user-shield","fwcOrange"],["formControlName","authCode","name","authCode","type","text","maxlengtg","32","pInputText","",3,"keyup.enter"],["for","authCode"],["pButton","",1,"fwcBtnMain","fwcBtnOrange","fwcBtnWide",3,"click","label","disabled"],["aria-hidden","true",1,"fa","fa-2x","fa-twitter","fwcBlue"],["pButton","","icon","fa fa-twitter fwcOrange",1,"fwcBtnMain","p-button-secondary","fwcBlue","fwcOrangeBorder",3,"click","label"],[1,"col-12"],[3,"valueChange","value","closable","escape"]],template:function(t,r){t&1&&(p(0,"div",0)(1,"div",1)(2,"h5",2),E(3),y(4,"translate"),m(),p(5,"form",3)(6,"div",4)(7,"span",5),S(8,"i",6),m(),p(9,"span",7)(10,"input",8),D("keyup.enter",function(){return r.checkForm()}),m(),p(11,"label",9),E(12),y(13,"translate"),m()()(),p(14,"div",4)(15,"span",5),S(16,"i",10),m(),p(17,"span",7)(18,"input",11),D("keyup.enter",function(){return r.checkForm()}),m(),p(19,"label",12),E(20),y(21,"translate"),m()()(),p(22,"div",4)(23,"span",5),S(24,"i",13),m(),p(25,"span",7)(26,"input",14),D("keyup.enter",function(){return r.checkForm()}),m(),p(27,"label",15),E(28),y(29,"translate"),m()()(),T(30,mp,8,3,"div",4),m(),T(31,up,3,4,"div",16)(32,fp,2,3,"div",17),m(),T(33,hp,7,3,"div",18)(34,gp,2,3,"div",19),m()),t&2&&(d(),f("ngClass",Mt(20,dp,r.twitterData,!r.twitterData)),d(2),H(I(4,12,"USER.MSG_USER_1")),d(2),f("formGroup",r.formModel),d(7),H(I(13,14,"USER.MSG_USER_FORM.CODE")),d(8),H(I(21,16,"USER.MSG_USER_FORM.USER")),d(6),f("feedback",!1),d(2),H(I(29,18,"USER.MSG_USER_FORM.PASS")),d(2),N(r.tfaFlag?30:-1),d(),N(r.sendingData?-1:31),d(),N(r.sendingData?32:-1),d(),N(r.twitterData?33:-1),d(),N(r.authErrorMsg!==null&&r.authErrorMsg!==void 0&&r.authErrorMsg.length>0?34:-1))},dependencies:[ve,ei,Xt,en,ft,Jt,ni,Oo,ti,ii,ge,Sn,wn,et,pi,la,de],styles:[`#divTwitter i{vertical-align:middle}#divTwitter h5{display:inline;vertical-align:middle}#divTwitter button{float:right}form{padding-right:35px}form label{color:var(--fwcPaleDark);font-family:Montserrat,Arial!important;font-size:.9rem;white-space:nowrap}.p-inputtext{color:var(--fwcPaleDark2);font-family:Montserrat,Arial!important;font-size:.9rem;background-color:var(--inputBackgroundColor);white-space:nowrap}.p-float-label input.p-filled~label,.p-float-label input:focus~label{margin-top:-.2rem;color:var(--fwcBlue)!important;font-size:12px}.p-messages .p-icon{width:4rem;height:4rem;display:inline-flex;margin-bottom:.5rem;border:none}.p-message-error .p-message-detail{white-space:pre-line}input:-webkit-autofill~label{top:-.9em!important;margin-top:-.2rem;color:var(--fwcBlue)!important;font-size:12px}
`],encapsulation:2})}}return n})();var Al=n=>({linkActive:n}),Ol=(()=>{class n{constructor(e,t,r){this.fwcUserService=e,this.fwcContextMenuService=t,this.translate=r,this.displayConfigDialog=!1}ngOnInit(){this.fwcUser=this.fwcUserService.getActualFwcUser()}setLanguage(e){this.fwcUserService.setLanguage(e),this.translate.use(e).subscribe(()=>{this.fwcContextMenuService.buildMenus()})}static{this.\u0275fac=function(t){return new(t||n)(_(se),_(ai),_(ne))}}static{this.\u0275cmp=K({type:n,selectors:[["app-user-main"]],decls:31,vars:13,consts:[[1,"grid"],[1,"col-12","divLanguageBar"],[3,"click","ngClass"],[1,"divFlexContainer"],[1,"divMainBox"],[1,"divMainLogo"],["src","assets/img/fwcloud.png",1,"imgPanelLogo"],[1,"divContentBox"],[1,"divFooterBox"],[1,"divFooterBox-imgs"],["href","https://fwcloud.net","target","_blank"],["src","assets/img/fwc-logo2.png",1,"imgFooterLogo"],["href","https://soltecsis.com","target","_blank"],["src","assets/img/logo-soltecsis.png",1,"imgFooterLogo"],[1,"divFooterBox-text","fwcBlue"],[3,"innerHTML"]],template:function(t,r){t&1&&(p(0,"div",0)(1,"div",1)(2,"a",2),D("click",function(){return r.setLanguage("es")}),E(3,"Espa\xF1ol"),m(),p(4,"a",2),D("click",function(){return r.setLanguage("en")}),E(5,"English"),m()()(),p(6,"div",3)(7,"div",4)(8,"div",5),S(9,"img",6),m(),p(10,"div",7),S(11,"router-outlet"),p(12,"div",8)(13,"div",9)(14,"a",10),S(15,"img",11),m(),p(16,"a",12),S(17,"img",13),m()(),p(18,"p",14)(19,"a",10),E(20,"FWCloud.net"),m(),S(21,"br")(22,"span",15),y(23,"translate"),S(24,"br"),p(25,"span"),E(26),y(27,"translate"),p(28,"a",12),E(29,"SOLTECSIS"),m()(),S(30,"br"),m()()()()()),t&2&&(d(2),f("ngClass",Ee(9,Al,(r.fwcUser==null?null:r.fwcUser.selectedLanguage)==="es")),d(2),f("ngClass",Ee(11,Al,(r.fwcUser==null?null:r.fwcUser.selectedLanguage)==="en")),d(3),f("@fundido",void 0),d(15),Y("innerHTML",I(23,5,"GLOBALS.LICENSE2"),Tt),d(4),Z("",I(27,7,"HELP.DEV")," "))},dependencies:[ve,ht,de],styles:[`body{background-image:var(--mainBackground);background-size:cover}.divLanguageBar{position:absolute;font-family:Montserrat,Arial,sans-serif!important;font-size:.9em;margin-top:1em;right:1em;text-align:right}.divLanguageBar img{padding-right:.5em;height:30px;width:auto}.divLanguageBar a{margin:1em;padding-bottom:5px;color:var(--fixedWhiteColor);text-shadow:1px 1px 1px var(--fixedDarkColor);transition:color .3s}.divLanguageBar a:hover{color:var(--fwcPaleOrange3);border-bottom:2px solid var(--fixedWhiteColor)}.divLanguageBar a.linkActive{font-weight:700;border-bottom:1px solid var(--fixedWhiteColor)}.divExtra{padding-top:1em;text-align:right}.divExtra p{font-size:.9em;color:var(--fwcPaleDark)}
`],encapsulation:2,data:{animation:[vn]}})}}return n})();var Dl=(()=>{class n{constructor(e,t){this._router=e,this.translate=t}ngOnInit(){}goToLogin(){this._router.navigate(["/user/login"])}static{this.\u0275fac=function(t){return new(t||n)(_(ce),_(ne))}}static{this.\u0275cmp=K({type:n,selectors:[["app-user-register"]],decls:10,vars:0,consts:[[1,"grid"],[1,"col-12"],[1,"fwcBlue"],[1,"fa","fa-fw","fa-2x","fa-exclamation-circle","fwcRed",2,"display","inline-block"],[2,"display","inline-block"],[1,"divBotones"],["pButton","","label","Volver atr\xE1s",1,"fwcBtnMain","fwcOrangeBg",3,"click"],["pButton","","label","Crear nuevo usuario","disabled","",1,"fwcBtnMain","fwcOrangeBg",3,"click"]],template:function(t,r){t&1&&(p(0,"div",0)(1,"div",1)(2,"h5",2),E(3,"Registrar nuevo usuario"),m(),S(4,"i",3),p(5,"p",4),E(6,"Secci\xF3n en desarrollo, estar\xE1 disponible en breve."),m(),p(7,"div",5)(8,"button",6),D("click",function(){return r.goToLogin()}),m(),p(9,"button",7),D("click",function(){return r.goToLogin()}),m()()()())},dependencies:[ge],styles:[`.divBotones{text-align:right}
`],encapsulation:2})}}return n})();var Sp=[{path:"user",component:Ol,children:[{path:"login",component:Ml},{path:"register",component:Dl},{path:"**",redirectTo:"login",pathMatch:"full"}]}],xl=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=ie({type:n})}static{this.\u0275inj=te({imports:[Ce.forChild(Sp),Ce]})}}return n})();var Ll=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=ie({type:n})}static{this.\u0275inj=te({imports:[Le,ri,tn,xl,_t,aa,Ha,mi,gi,ui,_a,_n,tt,Qe.forChild()]})}}return n})();var Ip=Ts(Lc()),bp=Ts(xc());var Zn=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=ie({type:n})}static{this.\u0275inj=te({imports:[Le,ri,tt,yn,Ea,_t,bn,gi,mi,_n,Qe.forChild()]})}}return n})();ao(An,function(){return[ve,Ot,Te,ei,Mo,Ao,Xt,en,To,ft,Jt,ni,Ji,ti,ii,bo,Eo,Va,ja,Cn,Je,ge,hi,pi,Sn,wn,ha,ga,Ca,ba,br]},function(){return[po,de]});var Ni=(()=>{class n{constructor(e,t,r){this.fwcAuthService=e,this.fwcUserService=t,this._router=r}canActivate(){return this.fwcUserService.getActualFwcUser().role==Pt.ROLE_ADMINISTRATOR?!0:(this._router.navigate(["/cloud/select"]),!1)}static{this.\u0275fac=function(t){return new(t||n)(B(ye),B(se),B(ce))}}static{this.\u0275prov=fe({token:n,factory:n.\u0275fac})}}return n})();function Mp(n,i){if(n&1&&(p(0,"div",2),S(1,"sts-fwc-message",8),m()),n&2){let e=g();d(),f("message",e.statusMsg)}}function Ap(n,i){if(n&1){let e=R();p(0,"p-checkbox",10),y(1,"translate"),Qt("ngModelChange",function(r){M(e);let s=g(2);return $t(s.chkDoBackup,r)||(s.chkDoBackup=r),A(r)}),m()}if(n&2){let e=g(2);Y("label",I(1,3,"CLOUD.MSG_CLOUD_DELETE_BACKUP")),Zt("ngModel",e.chkDoBackup),f("disabled",e.loadingData||e.deleteProcessFinished)}}function Op(n,i){if(n&1&&T(0,Ap,2,5,"p-checkbox",9),n&2){let e=g();N(e.deleteProcessFinished?-1:0)}}function Dp(n,i){n&1&&(S(0,"p-message",4),y(1,"translate")),n&2&&Y("text",I(1,1,"CONFIG_PANEL.BACKUP_RESTORE.SUCCESS.DO_BACKUP"))}function xp(n,i){if(n&1){let e=R();p(0,"button",11),y(1,"translate"),D("click",function(){M(e);let r=g();return A(r.handleDeleteCloud())}),m()}if(n&2){let e=g();Y("label",I(1,2,"CLOUD.MSG_CLOUD_MENU.DELETE")),f("disabled",e.loadingData)}}var Rl=(()=>{class n extends Da{constructor(e,t,r,s,o,a,l){super(s,a),this.utilService=e,this.fwcBackupService=t,this.fwcCloudService=r,this.dialogRef=s,this.dialogConfig=o,this._router=a,this.translate=l,this.chkDoBackup=!0,this.backupProcessFinished=!1,this.deleteProcessFinished=!1,this.loadingData=!1,this.dialogData=this.dialogConfig.data,this.statusMsg={title:this.translate.instant("CLOUD.MSG_CLOUD_DELETE_NOT_EMPTY"),text:this.dialogData.restrictionMsg,horizontal:!0,type:"warning"}}ngOnInit(){}handleDeleteCloud(){if(this.dialogData)if(this.chkDoBackup&&!this.backupProcessFinished){this.statusMsg={title:this.translate.instant("CLOUD.MSG_CLOUD_DB_BACKUP.TITLE"),text:this.translate.instant("CLOUD.MSG_CLOUD_DB_BACKUP.TEXT"),type:"loading"};let e=Tn(),t={comment:this.translate.instant("CLOUD.MSG_CLOUD_DELETE_BACKUP_COMMENT",{name:this.dialogData.cloudName})};this.loadingData=!0,this.utilService.fwcAPICall(this.fwcBackupService.doBackup.bind(this.fwcBackupService),e,t).then(r=>{this.loadingData=!1,this.backupProcessFinished=!0,this.doDeleteCloud()}).catch(r=>{this.loadingData=!1,this.statusMsg={title:this.translate.instant("CLOUD.MSG_CLOUD_DB_BACKUP.ERROR_TITLE"),text:this.translate.instant("CLOUD.MSG_CLOUD_DB_BACKUP.ERROR_TEXT"),type:"error"}})}else this.doDeleteCloud()}doDeleteCloud(){if(!this.dialogData)return;this.statusMsg={title:this.translate.instant("CLOUD.MSG_CLOUD_DELETE.TITLE"),text:this.translate.instant("CLOUD.MSG_CLOUD_DELETE.TEXT",{name:this.dialogData.cloudName}),type:"loading"};let e={fwcloud:this.dialogData.cloudId,force:1};this.loadingData=!0,this.utilService.fwcAPICall(this.fwcCloudService.deleteCloud.bind(this.fwcCloudService),e).then(t=>{this.loadingData=!1,this.deleteProcessFinished=!0,this.statusMsg={title:this.translate.instant("GLOBALS.MSG_OP_RESULT.PROCESS_OK"),text:this.translate.instant("CLOUD.MSG_CLOUD_DELETE_OK"),type:"success"}}).catch(t=>{this.loadingData=!1,this.statusMsg={title:this.translate.instant("GLOBALS.MSG_OP_RESULT.PROCESS_ERROR"),text:this.translate.instant("CLOUD.MSG_CLOUD_DELETE_ERROR",{name:this.dialogData.cloudName}),type:"error"}})}handleDialogClose(){this.dialogRef.close(this.deleteProcessFinished)}static{this.\u0275fac=function(t){return new(t||n)(_(me),_(cn),_(we),_(Oa),_(Aa),_(ce),_(ne))}}static{this.\u0275cmp=K({type:n,selectors:[["sts-cloud-delete-panel"]],features:[He([cn]),zi],decls:11,vars:9,consts:[[1,"grid"],[1,"col-12"],[1,"fwcRestrictionsContainer"],[1,"col-12","fwc-centered"],["severity","success",3,"text"],[1,"col-12","divButtons"],["type","button","pButton","","icon","fa fa-trash",1,"p-button-danger",3,"disabled","label"],["type","button","pButton","","icon","fa fa-check",1,"p-button-primary",3,"click","disabled","label"],[3,"message"],["binary","true",3,"ngModel","disabled","label"],["binary","true",3,"ngModelChange","ngModel","disabled","label"],["type","button","pButton","","icon","fa fa-trash",1,"p-button-danger",3,"click","disabled","label"]],template:function(t,r){t&1&&(p(0,"div",0)(1,"div",1),T(2,Mp,2,1,"div",2),m(),p(3,"div",3),T(4,Op,1,1)(5,Dp,2,3,"p-message",4),m(),p(6,"div",5),T(7,xp,2,4,"button",6),p(8,"button",7),y(9,"translate"),y(10,"translate"),D("click",function(){return r.handleDialogClose()}),m()()()),t&2&&(d(2),N(2),d(2),N(r.backupProcessFinished?5:4),d(3),N(r.deleteProcessFinished?-1:7),d(),f("disabled",r.loadingData)("label",r.deleteProcessFinished?I(9,5,"GLOBALS.MSG_BUTTONS.CLOSE"):I(10,7,"GLOBALS.MSG_BUTTONS.CANCEL")))},dependencies:[ft,Ji,Ft,ge,ma,wa,de]})}}return n})();var Lp=["hintNewCloudButton"],Pp=["fwcVPNMeshWizardPanel"],Rp=["pfuUpload"],Np=n=>({divCloudSelected:n}),Fp=()=>({"background-image":"url(assets/img/logo-soltecsis-blue.jpg)"});function kp(n,i){n&1&&(p(0,"div",8)(1,"div",28),S(2,"i",29),m(),p(3,"h5",30),E(4),y(5,"translate"),m()()),n&2&&(d(4),Z(" ",I(5,1,"CLOUD.MSG_CLOUD_SELECT"),": "))}function Bp(n,i){n&1&&(p(0,"div",9),S(1,"p-progressSpinner"),m())}function Vp(n,i){if(n&1){let e=R();p(0,"button",37),D("click",function(r){M(e),g(2);let s=Se(1);return A(s.toggle(r))}),m()}}function Up(n,i){n&1&&S(0,"div",34),n&2&&f("ngStyle",ze(1,Fp))}function Gp(n,i){if(n&1){let e=R();p(0,"div",12)(1,"div",31),D("dblclick",function(){let r=M(e).$index,s=g();return s.selectedFwcCloud=r,A(s.onSelectCloud())})("click",function(){let r=M(e).$index,s=g();return A(s.selectedFwcCloud=r)}),p(2,"div",32),T(3,Vp,1,0,"button",33),m(),T(4,Up,1,2,"div",34),S(5,"img",35),p(6,"div",36)(7,"span"),E(8),m()()()()}if(n&2){let e=i.$implicit,t=i.$index,r=g();d(),Y("pTooltip","<strong>"+e.name+"</strong> (Id <strong>"+e.id+"</strong>)<br>"+e.comment),f("ngClass",Ee(6,Np,t==r.selectedFwcCloud))("escape",!1),d(2),N(r.fwcClouds&&r.fwcClouds.length&&r.selectedFwcCloud==t?3:-1),d(),N(e.image?4:-1),d(4),H(e.name)}}function Wp(n,i){if(n&1&&(p(0,"div",10),S(1,"sts-fwc-message",41),m()),n&2){let e=g(2);d(),f("message",e.errorMessage)}}function jp(n,i){if(n&1){let e=R();p(0,"button",42),y(1,"translate"),D("click",function(){M(e);let r=g(2);return A(r.onImportCloud())}),m()}n&2&&f("label",I(1,1,"CLOUD.MSG_CLOUD_BUTTONS.IMPORT"))}function Hp(n,i){if(n&1){let e=R();p(0,"button",43,3),y(2,"translate"),D("click",function(){M(e);let r=g(2);return A(r.onNewCloud())}),m()}n&2&&f("label",I(2,1,"CLOUD.MSG_CLOUD_BUTTONS.NEW"))}function zp(n,i){if(n&1&&(p(0,"div",13),T(1,Wp,2,1,"div",10),p(2,"div",38),T(3,jp,2,3,"button",39)(4,Hp,3,3,"button",40),m()()),n&2){let e=g();d(),N(e.errorMessage?1:-1),d(2),N(e.allowNewClouds?3:-1),d(),N(e.allowNewClouds?4:-1)}}function Kp(n,i){n&1&&(p(0,"div",44)(1,"h6",45),S(2,"i",46),E(3),y(4,"translate"),m()()),n&2&&(d(3),Z(" ",I(4,1,"WIZARDS.VPN_WIZARD_SELECT.TITLE")," "))}function Zp(n,i){n&1&&S(0,"img",47)}function $p(n,i){if(n&1){let e=R();p(0,"button",48),y(1,"translate"),D("click",function(){M(e);let r=g();return A(r.showVPNMeshWizard())}),m()}n&2&&Y("label",I(1,1,"WIZARDS.GLOBALS.BUTTONS.START"))}function Qp(n,i){n&1&&S(0,"img",49)}function qp(n,i){if(n&1){let e=R();p(0,"button",50),y(1,"translate"),D("click",function(r){M(e),g();let s=Se(54);return A(s.toggle(r))}),m()}n&2&&Y("label",I(1,1,"WIZARDS.GLOBALS.BUTTONS.MORE_INFO"))}function Yp(n,i){n&1&&S(0,"img",51)}function Xp(n,i){if(n&1){let e=R();p(0,"button",50),y(1,"translate"),D("click",function(r){M(e),g();let s=Se(54);return A(s.toggle(r))}),m()}n&2&&Y("label",I(1,1,"WIZARDS.GLOBALS.BUTTONS.MORE_INFO"))}function Jp(n,i){if(n&1){let e=R();p(0,"button",52),y(1,"translate"),D("click",function(){M(e);let r=g();return A(r.onVPNWizardCancel())}),m()}if(n&2){let e=g();Y("label",I(1,2,"GLOBALS.MSG_BUTTONS.CLOSE")),f("disabled",e.loadingData)}}var Nl=(()=>{class n{constructor(e,t,r,s,o,a,l,c,h,u,v,b,w){this.fwcUserService=e,this.fwcCloudService=t,this._router=r,this.dialogService=s,this.confirmationService=o,this.messageService=a,this.appHintService=l,this.fwcAuthService=c,this.utilService=h,this.fwcErrorPipe=u,this.appDialogPanelsService=v,this.translate=b,this.cd=w,this.loadedData=!1,this.loadingClouds=!1,this.loadingData=!1,this.showButtons=!1,this.fwcClouds=[],this.selectedFwcCloud=-1,this.fwcUser=null,this.alive=!0,this.hintElement=null,this.pageReloaded=!1}ngOnInit(){return ct(this,null,function*(){let e=this.fwcUserService.getActualFwcUser();e.alreadyCheckedForUpdates||(this.updatePanelComponent=this.dialogService.open(Na,{showHeader:!1}),this.updatePanelComponent.onClose.pipe(Et(()=>this.alive)).subscribe(()=>{this.fwcUserService.setAlreadyCheckedForUpdates(!0)})),this.utilService.setPingInterval(),yield this.translate.get("CLOUD.MSG_CLOUD_MENU.OPEN").toPromise(),this.menuCloudItems=[{label:this.translate.instant("CLOUD.MSG_CLOUD_MENU.OPEN"),icon:"fwcMenuIcon fwci-cloud fwcBlue",command:()=>{this.onSelectCloud()}},{separator:!0},{label:this.translate.instant("CLOUD.MSG_CLOUD_MENU.EDIT"),icon:"fwcMenuIcon fwci-edit fwcBlue",command:()=>{this.onEditCloud()},disabled:e.role!=Pt.ROLE_ADMINISTRATOR},{label:this.translate.instant("CLOUD.MSG_CLOUD_MENU.EXPORT"),icon:"fwcMenuIcon fwci-movedown fwcBlue",command:()=>{this.onExportCloud()},disabled:e.role!=Pt.ROLE_ADMINISTRATOR},{separator:!0},{label:this.translate.instant("CLOUD.MSG_CLOUD_MENU.DELETE"),icon:"fwcMenuIcon fwci-delete fwcRed",command:()=>{this.onDeleteCloud()},disabled:e.role!=Pt.ROLE_ADMINISTRATOR}],this.loadedData=!1,this.showButtons=!1,this.errorMessage={type:"error",title:"Error",text:this.translate.instant("CLOUD.MSG_CLOUD_NO_CLOUDS.MSG3")},this.selectedFwcCloud=-1,this.fwcUserService.getFwcUser().pipe(Et(()=>this.alive)).subscribe(r=>{if(this.fwcUser&&this.fwcUser.selectedLanguage!=r.selectedLanguage){this.translate.use(r.selectedLanguage);return}this.fwcUser&&(this.fwcUser.customer_id==r.customer_id||this.fwcUser.selectedLanguage!=r.selectedLanguage)||(this.fwcUser=r,this.fwcUser.customer_id?this.loadClouds():(this.errorMessage={type:"error",title:"Error",text:this.translate.instant("CLOUD.MSG_CLOUD_AUTH_ERROR")},this.loadedData=!0))},r=>{this.loadedData=!0,this.loadingClouds=!1,this.errorMessage={type:"error",title:"Error",text:this.fwcErrorPipe.transform(r)}}),this.registerCloudHint(),this.subscribeToHintElement(),this.listenToRouteChanges(),this.VPNWizardFabOptions={style:"accentLight",icon:"fa fa-lg fa-magic",tooltip:this.translate.instant("WIZARDS.VPN_WIZARD_SELECT.TITLE"),onClick:()=>{this.displayVPNWizardDialog=!0}},new URL(window.location.href).hostname===ur&&(this.displayVPNWizardDialog=!0)})}ngOnDestroy(){this.alive=!1,this.routerSubscription&&(this.routerSubscription.unsubscribe(),this.hintElementSubscription.unsubscribe())}ngAfterViewInit(){this._router.events.subscribe(e=>{e instanceof nn?this.loadingData=!0:(e instanceof rn||e instanceof sn)&&(this.loadingData=!1)}),this.waitForHintElement()}registerCloudHint(){setTimeout(()=>{this.appHintService.registerHint({id:bi.HINT_NO_FWCLOUDS,caption:"HINTS.HINT_NO_FWCLOUDS.CAPTION",description:"HINTS.HINT_NO_FWCLOUDS.DESC",imageURL:"assets/img/cloud.png",target:this.hintNewCloudButton}),this.waitForHintElement()},500)}waitForHintElement(){let e=setInterval(()=>{this.hintElement&&(clearInterval(e),this.cd.detectChanges())},100)}subscribeToHintElement(){this.hintElementSubscription=this.appHintService.hintElement$.subscribe(e=>{e?.nativeElement&&setTimeout(()=>{this.hintElement=e.nativeElement,this.cd.detectChanges()},500)})}checkAndShowHint(){this.hintElement&&this.hintNewCloudButton&&this.fwcClouds.length===0&&(this.appHintService.showRegisteredHint(bi.HINT_NO_FWCLOUDS,this.hintNewCloudButton),setTimeout(()=>{let e=document.querySelector(".fwcHintPnl");e&&e.classList.add("no-fwclouds")},100),this.cd.detectChanges())}listenToRouteChanges(){this.routerSubscription=this._router.events.subscribe(e=>{if(e.type!==15)return;let t=e.routerEvent.url.includes("cloud/select");this.hideGlobalHint(t),this.handleCloudHint(t,e.routerEvent.url)})}hideGlobalHint(e){let t=document.querySelector(".fwcHintPnl");t&&e&&(t.style.display="none")}handleCloudHint(e,t){let r=setInterval(()=>{this.hintElement&&(clearInterval(r),this.checkAndShowHint(),this.cd.detectChanges())},100);if(!this.hintElement)return;let s=this.fwcClouds.length>0,o=this.hintElement.innerText?.trim()==="New",a=document.querySelector(".fwcHintPnl");e&&!s&&o&&this.appHintService.showRegisteredHint(bi.HINT_NO_FWCLOUDS,this.hintNewCloudButton),e&&s&&a&&(a.style.display="none",a.classList.remove("no-fwclouds")),e&&!this.pageReloaded&&!s&&o&&(this.pageReloaded=!0,window.location.href===t&&window.location.reload())}loadClouds(){this.loadingClouds=!0,this.allowNewClouds=!1,this.fwcClouds=[],this.selectedFwcCloud=null,this.fwcCloudService.getClouds().subscribe({next:e=>{let t=this.fwcUserService.getActualFwcUser();this.errorMessage=null,e.data&&Array.isArray(e.data)?(this.fwcClouds=e.data,this.cd.detectChanges()):this.errorMessage={type:"warning",title:this.translate.instant("CLOUD.MSG_CLOUD_NO_CLOUDS.MSG1"),text:this.translate.instant("CLOUD.MSG_CLOUD_NO_CLOUDS.MSG2")},t.role==Pt.ROLE_ADMINISTRATOR&&(this.allowNewClouds=!0),this.showButtons=!0,this.loadedData=!0,this.loadingClouds=!1},error:e=>{this.errorMessage=null,this.loadedData=!0,this.loadingClouds=!1,this.errorMessage={type:"error",title:this.translate.instant("CLOUD.MSG_CLOUD_LIST_ERROR"),text:this.fwcErrorPipe.transform(e)}},complete:()=>{this.allowNewClouds&&setTimeout(()=>{Array.isArray(this.fwcClouds)&&!this.fwcClouds.length&&!this.updatePanelComponent&&this.appHintService.showRegisteredHint(bi.HINT_NO_FWCLOUDS,this.hintNewCloudButton)},500)}})}onEditCloud(){this._router.navigate(["/cloud/edit",this.fwcClouds[this.selectedFwcCloud].id])}onDeleteCloud(){let e=this.fwcClouds[this.selectedFwcCloud].name,t=this.fwcClouds[this.selectedFwcCloud].id,r={fwcloud:t};this.fwcCloudService.checkRestrictions(r).subscribe(s=>{this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_CONFIRM"),icon:"fa fa-question-circle fwcBlue iconBig",message:this.translate.instant("CLOUD.MSG_CLOUD_DELETE_1",{param:e}),rejectVisible:!0,rejectLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.NO"),acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES"),accept:()=>{this.doDeleteCloud(r,e)}})},s=>{if(s&&s.error)if(s.status==403&&s.error&&s.error.count){let o=s.error.count,a=[],l=this.translate.instant("CLOUD.MSG_CLOUD_RESTRICTED_1",{param:e});+o.CF&&a.push("<li>"+o.CF+" "+this.translate.instant(o.CF==1?"GLOBALS.ENTITIES.FW.0":"GLOBALS.ENTITIES.FW.1")+"</li>"),+o.CC&&a.push("<li>"+o.CC+" "+this.translate.instant(o.CC==1?"GLOBALS.ENTITIES.CLUSTER.0":"GLOBALS.ENTITIES.CLUSTER.1")+"</li>"),+o.CCA&&a.push("<li>"+o.CCA+" "+this.translate.instant(o.CCA==1?"GLOBALS.ENTITIES.CA.0":"GLOBALS.ENTITIES.CA.1")+"</li>");let c="";for(let u=0;u<a.length;u++)c+=a[u],u<a.length-2?c+=", ":u==a.length-2&&(c+=this.translate.instant("GLOBALS.MSG_OP_ASK.AND"));c=a.join(""),c="<ul>"+c+"</ul>",l=this.translate.instant("CLOUD.MSG_CLOUD_RESTRICTED_ALT2",{param:e,restrictions:c}),this.dialogService.open(Rl,{header:this.translate.instant("CLOUD.MSG_CLOUD_DELETE_WARNING"),data:{restrictionMsg:l,cloudId:t,cloudName:e}}).onClose.pipe(Et(()=>this.alive)).subscribe(u=>{u&&(this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("CLOUD.MSG_CLOUD_DELETE_OK")}),this.loadClouds())})}else this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(s)})})}doDeleteCloud(e,t){this.utilService.fwcAPICall(this.fwcCloudService.deleteCloud.bind(this.fwcCloudService),e).then(r=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("CLOUD.MSG_CLOUD_DELETE_OK")}),this.loadClouds()}).catch(r=>{r&&r.error&&(r.status==403&&r.error.count?this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_NOT_POSSIBLE"),icon:"pi pi-exclamation-triangle fwcRed iconBig",message:this.translate.instant("CLOUD.MSG_CLOUD_RESTRICTED_1",{param:t}),accept:()=>{},rejectVisible:!1,acceptLabel:"Ok"}):this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(r)}))})}onNewCloud(){this._router.navigate(["/cloud/new"])}onExportCloud(){if(this.fwcClouds[this.selectedFwcCloud]){let e=this.fwcClouds[this.selectedFwcCloud].id,t={channelId:void 0,headerIcon:"fa fa-3x fa-vault fwcBlue",textHeader:this.translate.instant("CLOUD.MSG_CLOUD_EXPORT.TITLE"),textMessage:this.translate.instant("CLOUD.MSG_CLOUD_EXPORT.TEXT"),apiCall:this.fwcCloudService.exportCloud.bind(this.fwcCloudService),defaultDownloadFilename:`fwcloud_${e}.fwcloud`,apiParams:[e],onClose:r=>{r&&r.error}};this.appDialogPanelsService.searchAndShowDialog({uuid:an.BLOCK_UI_PANEL,data:t})}}onSelectCloud(){let e,t,r;this.fwcClouds[this.selectedFwcCloud]&&(e=this.fwcClouds[this.selectedFwcCloud].id,t=this.fwcClouds[this.selectedFwcCloud].name,r={fwcloud:e},this.fwcUserService.setSelectedFwCloud(e,t),this.fwcAuthService.setSelectedFwCloud(e,t),this._router.navigate(["/fwcdashboard/policy"]))}onImportCloud(){let e,t=Tn();e={channelId:t,title:this.translate.instant("CLOUD.MSG_CLOUD_EDIT.UPLOAD_HEADER"),summary:this.translate.instant("CLOUD.MSG_CLOUD_EDIT.UPLOAD_TEXT"),url:`${ut.settings.fwcAppURL}/fwclouds/import?channel_id=${t}`,uploadTitle:this.translate.instant("CLOUD.MSG_CLOUD_EDIT.UPLOADING.HEADER"),uploadText:this.translate.instant("CLOUD.MSG_CLOUD_EDIT.UPLOADING.TEXT"),onUploadCompleted:this.onUploadCompleted.bind(this),onUploadError:this.onUploadError.bind(this),uploadOptions:{acceptPattern:".fwcloud",maxFileSize:1e3*1024*100,buttonChoose:this.translate.instant("CLOUD.MSG_CLOUD_EDIT.CHOOSE_FILE"),buttonUpload:this.translate.instant("CLOUD.MSG_CLOUD_EDIT.UPLOAD_FILE")}};let r=this.utilService.createDynamicComponentRef(Ra),s=r.instance;s.setDynamicComponentRef(r),s.showFUDialog(e)}onUploadCompleted(e){let t="",r;e&&e.originalEvent.body.data&&(t=e.originalEvent.body.data.name,r=e.originalEvent.body.data.id),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("CLOUD.MSG_CLOUD_EDIT.UPLOAD_OK",{name:t,id:r})}),this.loadClouds()}onUploadError(e){let t;if(e.error)if(e.error.error.data?.fwcErr==8e3)t=e.error.error.data.msg;else if(e.error.error&&e.error.error.message)t=e.error.error.message;else try{t=JSON.stringify(e.error.error)}catch{}t||(t=this.translate.instant("GLOBALS.MSG_OP_RESULT.UNKNOWN_ERROR")),this.confirmationService.confirm({icon:"fa fa-exclamation-circle fwcRed iconBig",header:this.translate.instant("CLOUD.MSG_CLOUD_EDIT.UPLOAD_ERROR.SUMMARY"),message:this.translate.instant("CLOUD.MSG_CLOUD_EDIT.UPLOAD_ERROR.DETAIL",{error:t}),accept:()=>{},acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.OK"),rejectVisible:!1})}onVPNWizardCancel(){this.displayVPNWizardDialog=!1}showVPNMeshWizard(){this.displayVPNWizardDialog=!1,this.fwcVPNMeshWizardPanel.showDialog()}showVPNConfigDocs(){let e=this.fwcUserService.getActualFwcUser().selectedLanguage||"es";this.appDialogPanelsService.searchAndShowDialog({uuid:an.DOCS_PANEL,data:{fileName:`vpn-configurations-${e}`,title:this.translate.instant("Ejemplos de configuraciones VPN"),icon:"fa fa-magic"}})}static{this.\u0275fac=function(t){return new(t||n)(_(se),_(we),_(ce),_(En),_(Ye),_(Xe),_(on),_(ye),_(me),_(Ue),_(Lt),_(ne),_(rt))}}static{this.\u0275cmp=K({type:n,selectors:[["app-cloud-select"]],viewQuery:function(t,r){if(t&1&&(he(Lp,5),he(Pp,5),he(Rp,5)),t&2){let s;ae(s=le())&&(r.hintNewCloudButton=s.first),ae(s=le())&&(r.fwcVPNMeshWizardPanel=s.first),ae(s=le())&&(r.pfuUpload=s.first)}},features:[He([we,En])],decls:76,vars:48,consts:[["menuCloud",""],["dlgWizardDialog",""],["opInfo",""],["hintNewCloudButton",""],[3,"popup","model"],[3,"blocked"],[1,"divCenterHV"],[1,"grid","divFwClouds"],[1,"col-12","divHeader"],[1,"col-12","divLoader"],[1,"col-12"],[1,"grid","divCloudContainer"],[1,"col-3"],[1,"grid"],["styleClass","dlgFwcDialog dlgFwcDialog--medium",3,"visibleChange","onShow","onHide","visible","modal","closable","resizable"],["pTemplate","header"],[3,"click","routerLink"],[1,"col-12","lg:col-4"],["styleClass","fwcCard fwcCard--green"],["pTemplate","footer"],["styleClass","fwcCard fwcCard--blue"],["styleClass","fwcCard fwcCard--purple"],["appendTo","body"],[1,"fwcBlue","vertPad"],[1,"fa","fa-comments","fwcBlue"],["href","https://forum.fwcloud.net","target","_blank"],[1,"fa","fa-envelope","fwcBlue"],[3,"href"],[1,"divHeaderIcon"],[1,"fwcMenuIcon","fwci-cloud","fwcOrange"],[1,"fwcBlue"],["showDelay","700","tooltipPosition","bottom",1,"divCloud",3,"dblclick","click","ngClass","pTooltip","escape"],[1,"divCloudMenu"],["type","button","pButton","","icon","pi pi-bars"],[1,"divLogo",3,"ngStyle"],["src","assets/img/cloud.png",1,"imgCloud"],[1,"divCloudName"],["type","button","pButton","","icon","pi pi-bars",3,"click"],[1,"col-12","divButtons"],["pButton","","icon","fwcIcons2 fwci2-moveup",1,"fwcBtnMain","p-button-primary","float-left",3,"label"],["pButton","","icon","fwcIcons fwci-new",1,"fwcBtnMain","p-button-success","float-left",3,"label"],[3,"message"],["pButton","","icon","fwcIcons2 fwci2-moveup",1,"fwcBtnMain","p-button-primary","float-left",3,"click","label"],["pButton","","icon","fwcIcons fwci-new",1,"fwcBtnMain","p-button-success","float-left",3,"click","label"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"fa","fa-magic","fwcOrange"],["src","assets/img/vpn/Mesh.svg","alt","","height","80px","width","auto"],["type","button","pButton","","icon","fa fa-check",1,"p-button-primary",3,"click","label"],["src","assets/img/vpn/Connect.svg","alt","","height","80px","width","auto"],["type","button","pButton","","icon","fa fa-info",1,"p-button-secondary",3,"click","label"],["src","assets/img/vpn/Direct.svg","alt","","height","80px","width","auto"],["type","button","pButton","","icon","fa fa-close",1,"p-button-primary",3,"click","disabled","label"]],template:function(t,r){if(t&1){let s=R();S(0,"p-menu",4,0),p(2,"p-blockUI",5)(3,"div",6),S(4,"p-progressSpinner"),m()(),p(5,"div",7),T(6,kp,6,3,"div",8)(7,Bp,2,0,"div",9),p(8,"div",10)(9,"div",11),eo(10,Gp,9,8,"div",12,Js),m()()(),T(12,zp,5,3,"div",13),p(13,"p-dialog",14,1),Qt("visibleChange",function(a){return M(s),$t(r.displayVPNWizardDialog,a)||(r.displayVPNWizardDialog=a),A(a)}),D("onShow",function(){return M(s),A(!0)})("onHide",function(){return M(s),A(!0)}),T(15,Kp,5,3,"ng-template",15),p(16,"div",13)(17,"div",10),E(18),y(19,"translate"),p(20,"a",16),D("click",function(){return M(s),A(r.showVPNConfigDocs())}),E(21),y(22,"translate"),m(),E(23),y(24,"translate"),m(),p(25,"div",17)(26,"p-card",18),T(27,Zp,1,0,"ng-template",15),p(28,"h5"),E(29,"VPN Mesh"),m(),p(30,"p"),E(31),y(32,"translate"),m(),T(33,$p,2,3,"ng-template",19),m()(),p(34,"div",17)(35,"p-card",20),T(36,Qp,1,0,"ng-template",15),p(37,"h5"),E(38,"VPN Connect"),m(),p(39,"p"),E(40),y(41,"translate"),m(),T(42,qp,2,3,"ng-template",19),m()(),p(43,"div",17)(44,"p-card",21),T(45,Yp,1,0,"ng-template",15),p(46,"h5"),E(47,"VPN Direct"),m(),p(48,"p"),E(49),y(50,"translate"),m(),T(51,Xp,2,3,"ng-template",19),m()()(),T(52,Jp,2,4,"ng-template",19),m(),p(53,"p-overlayPanel",22,2)(55,"h6",23),E(56),y(57,"translate"),m(),p(58,"p"),E(59),y(60,"translate"),m(),p(61,"ul")(62,"li"),S(63,"i",24),E(64),y(65,"translate"),p(66,"a",25),E(67,"https://forum.fwcloud.net"),m()(),p(68,"li"),S(69,"i",26),E(70),y(71,"translate"),p(72,"a",27),y(73,"translate"),E(74),y(75,"translate"),m()()()()}t&2&&(f("popup",!0)("model",r.menuCloudItems),d(2),f("blocked",r.loadingData),d(3),f("@fundidoIn",void 0),d(),N(r.fwcClouds&&r.fwcClouds.length?6:-1),d(),N(r.loadingClouds?7:-1),d(3),to(r.fwcClouds),d(2),N(r.loadedData?12:-1),d(),Zt("visible",r.displayVPNWizardDialog),f("modal",!0)("closable",!1)("resizable",!0),d(5),Z(" ",I(19,24,"WIZARDS.VPN_WIZARD_SELECT.TEXT.0")," "),d(3),H(I(22,26,"WIZARDS.VPN_WIZARD_SELECT.TEXT.1")),d(2),Z(" ",I(24,28,"WIZARDS.VPN_WIZARD_SELECT.TEXT.2")," "),d(8),H(I(32,30,"WIZARDS.VPN_MESH.DESC")),d(9),H(I(41,32,"WIZARDS.VPN_CONNECT.DESC")),d(9),H(I(50,34,"WIZARDS.VPN_DIRECT.DESC")),d(7),H(I(57,36,"WIZARDS.GLOBALS.INFO.ASK_INFO.TITLE")),d(3),Z(" ",I(60,38,"WIZARDS.GLOBALS.INFO.ASK_INFO.DESC")," "),d(5),Z("\xA0",I(65,40,"WIZARDS.GLOBALS.INFO.ASK_INFO.FORUM"),": "),d(6),Z("\xA0",I(71,42,"WIZARDS.GLOBALS.FIELDS.EMAIL"),": "),d(2),ro("href","mailto:",I(73,44,"WIZARDS.GLOBALS.INFO.ASK_INFO.EMAIL_ADDR"),"",ji),d(2),H(I(75,46,"WIZARDS.GLOBALS.INFO.ASK_INFO.EMAIL_ADDR")))},dependencies:[ve,Te,Ft,Cn,Je,ge,da,et,hi,si,St,ya,Ta,de],styles:[`:root{--lightColor: #eee;--darkColor: #222;--inputBackgroundColor: #eee;--inputBorderColor: #cacaca;--inputColor: #222;--surfaceBackgroundColor: white;--fixedWhiteColor: #eee;--fixedDarkColor: #333;--translucidColor: transparent;--menuBackground: url(/assets/img/fwc-fondo-menu.jpg);--mainBackground: url(/assets/img/fwc-fondo-home.jpg);--fwcBlue: #0069a7;--fwcBlueDarkened: #005e96;--fwcDarkBlue: #003351;--fwcDarkBlue2: #014071;--fwcLightBlue: #1779ba;--fwcPaleBlue: #689fe1;--fwcPaleBlue2: #cce2f8;--fwcPaleBlue3: #e6f1fd;--fwcBlueGradient1: #386ea0;--fwcBlueGradient2: #21517e;--fwcLightGreyGradient1: #f6f7f9;--fwcLightGreyGradient2: #ebedf0;--fwcOrange: #eb6400;--fwcPaleOrange: #e67e22;--fwcPaleOrange2: #ffcfa4;--fwcPaleOrange3: #fe7815;--fwcOrangeRed: #e74c3c;--fwcRed: #f00;--fwcRed2: #b40b00;--fwcPaleRed: #f77676;--fwcPaleRed2: #ffe1e1;--fwcTranslucidRed: rgba(255, 0, 0, .15);--fwcDarkGreen: #023008;--fwcGreen: #009900;--fwcLightGreen: #28ff28;--fwcPaleGreen: #c7e6c8;--fwcLime: #baf649;--fwcWhite: #eee;--fwcPaleWhite: #f5f5f5;--fwcPaleWhite2: #f4f4f4;--fwcDark: #222;--fwcLightDark: #1e1e1e;--fwcMidDark: #555;--fwcMidDark2: #333;--fwcPaleDark: #888;--fwcPaleDark2: #383838;--fwcGrey: #cacaca;--fwcGrey2: #cecece;--fwcGrey3: #eee;--fwcGrey4: #e5e5e5;--fwcGrey5: #c8c8c8;--fwcGrey6: #efefef;--fwcGrey7: #dedede;--fwcAccent: #ff4081;--fwcShadow: #bbb;--fwcSelected: #ddd;--fwcSelectedB: #0069a7;--fwcRulePink: #ef9a9a;--fwcRulePurple: #ce93d8;--fwcRuleBlue: #90caf9;--fwcRuleTeal: #80cbc4;--fwcRuleGreen: #a5d6a7;--fwcRuleYellow: #fff59d;--fwcRuleOrange: #ffcc80}.divFwClouds{overflow-y:auto;width:100%}.divCloud{position:relative;padding:1em .5em;border:1px solid var(--fwcSelected);background-color:var(--fwcPaleWhite2);border-radius:1em;text-align:center;overflow:hidden;box-sizing:border-box;transition:background-color .4s,transform .4s;cursor:pointer;margin-bottom:25px;min-width:0;flex:1 1 23%;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.divCloud:hover{border:1px dotted var(--fwcBlue)}.divCloud:hover .imgCloud{transform:scale(1.1)}.divCloudSelected{background-color:var(--fwcPaleBlue2);border:1px dotted var(--fwcBlue)}.divLogo{position:absolute;top:.9em;left:.9em;width:75px;height:75px;border-radius:100%;border:2px solid var(--fwcWhite);background-size:cover;box-shadow:1px 1px 3px var(--fwcShadow);z-index:999}.imgCloud{transition:all .3s}.divCloudName{position:absolute;font-size:.9em;width:93%;bottom:.5em;text-align:center;overflow:hidden}.divCloudName span{display:inline-block;font-family:Montserrat,Arial,sans-serif;color:var(--fixedWhiteColor);background:#002a42b3;border-radius:.3em;padding:.3em .7em;max-width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.divCloudMenu{position:absolute;top:.5em;right:.5em;text-align:right}.divCloudMenu button{padding:.429rem 1rem!important;width:2.357em;z-index:1000}.divCloudContainer{display:flex;flex-wrap:wrap;max-height:372px;overflow-y:auto;overflow-x:hidden;width:100%}.divCloudContainer:after{content:"";flex:auto}@media (max-width: 1200px){.divCloud{flex:1 1 23%}}@media (max-width: 992px){.divCloud{flex:1 1 23%}}@media (max-width: 768px){.divCloud{flex:1 1 23%}}
`],encapsulation:2,data:{animation:[fi]}})}}return n})();var Fl=(()=>{class n{constructor(e,t,r,s,o,a,l,c){this.itemSelectedService=e,this.fwcUserService=t,this.fwcAuthService=r,this._router=s,this.translate=o,this.appOptionsService=a,this.utilService=l,this.store=c}ngOnInit(){}showConfigDialog(){this.store.dispatch(st.requestBlockUI());let e=this.utilService.createDynamicComponentRef(Mn),t=e.instance;t.setDynamicComponentRef(e),t.updateAndShow()}showHelpDialog(){this.appOptionsService.showHelp(this._router.url)}showAboutDialog(){this.appOptionsService.showHelp()}goToLogin(){this.fwcUserService.logoutUser().toPromise().finally(()=>{this.utilService.doAppLogout(),this._router.navigate(["/user/login"])})}static{this.\u0275fac=function(t){return new(t||n)(_(ot),_(se),_(ye),_(ce),_(ne),_(Rt),_(me),_(gt))}}static{this.\u0275cmp=K({type:n,selectors:[["app-cloud-main"]],decls:30,vars:13,consts:[[1,"divCloudToolbar"],[1,"divCloudToolbar-button"],["pButton","","icon","pi pi-cog",1,"p-button-raised","p-button-rounded","p-button-success","fwcWhite",3,"click"],[1,"fwcSepShort"],["pButton","","icon","pi pi-question-circle",1,"p-button-raised","p-button-rounded","p-button-secondary","fwcBlue",3,"click"],["pButton","","icon","pi pi-info-circle",1,"p-button-raised","p-button-rounded","p-button-secondary","fwcBlue",3,"click"],["pButton","","icon","pi pi-sign-out",1,"p-button-raised","p-button-rounded","p-button-primary","fwcWhite",3,"click"],[1,"divFlexContainer"],[1,"divMainBox"],[1,"divMainLogo"],["src","assets/img/fwcloud.png",1,"imgPanelLogo"],[1,"divContentBox"]],template:function(t,r){t&1&&(p(0,"div",0)(1,"div",1)(2,"button",2),D("click",function(){return r.showConfigDialog()}),m(),p(3,"div"),E(4),y(5,"translate"),m()(),S(6,"span",3),p(7,"div",1)(8,"button",4),D("click",function(){return r.showHelpDialog()}),m(),p(9,"div"),E(10),y(11,"translate"),m()(),S(12,"span",3),p(13,"div",1)(14,"button",5),D("click",function(){return r.showAboutDialog()}),m(),p(15,"div"),E(16),y(17,"translate"),m()(),S(18,"span",3),p(19,"div",1)(20,"button",6),D("click",function(){return r.goToLogin()}),m(),p(21,"div"),E(22),y(23,"translate"),m()()(),p(24,"div",7)(25,"div",8)(26,"div",9),S(27,"img",10),m(),p(28,"div",11),S(29,"router-outlet"),m()()()),t&2&&(d(4),Z(" ",I(5,5,"CLOUD.MSG_TOOLTIPS.CONFIG")," "),d(6),Z(" ",I(11,7,"CLOUD.MSG_TOOLTIPS.HELP")," "),d(6),Z(" ",I(17,9,"CLOUD.MSG_TOOLTIPS.ABOUT")," "),d(6),Z(" ",I(23,11,"CLOUD.MSG_TOOLTIPS.EXIT")," "),d(2),f("@fundido",void 0))},dependencies:[ge,ht,de],styles:[`body{background-image:url(/assets/img/fwc-fondo-home.jpg);background-size:cover}.divCloudToolbar{position:absolute;top:1rem;right:1rem;text-align:right}.divCloudToolbar .divCloudToolbar-button{display:inline-block;position:relative}.divCloudToolbar .divCloudToolbar-button div{white-space:nowrap;opacity:0;position:absolute;font-family:Montserrat,arial,sans-serif;font-size:.8rem;text-transform:uppercase;text-shadow:1px 1px 1px var(--fwcDark);color:var(--fwcWhite);margin-top:.5rem;transform:translate(-50%);left:50%;transition:all .3s linear}.divCloudToolbar .divCloudToolbar-button span.p-button-icon-left{font-size:1rem}.divCloudToolbar .divCloudToolbar-button .p-button.p-button-icon-only{height:2rem;width:2rem}.divCloudToolbar .divCloudToolbar-button .p-button.p-button-secondary{background:#eee!important;border:1px solid #eee!important}.divCloudToolbar .divCloudToolbar-button button:hover+div{opacity:1}.divButtons{display:inline-flex;margin-top:30px!important}.divButtons button{font-family:Montserrat,arial,sans-serif;padding:.4rem 1.6rem!important}
`],encapsulation:2,data:{animation:[vn]}})}}return n})();var tm=["cloudObjName"],im=()=>({"background-image":"url(assets/img/logo-soltecsis-blue.jpg)"});function nm(n,i){if(n&1&&(p(0,"div",3)(1,"div",13),S(2,"i",14),m(),p(3,"h5",15),E(4),y(5,"translate"),m()()),n&2){let e=g();d(4),so(" ",I(5,2,"CLOUD.MSG_CLOUD_EDIT.EDIT")," ",e.fwcCloudId," ")}}function rm(n,i){n&1&&(p(0,"div",3)(1,"div",13),S(2,"i",16),m(),p(3,"h5",15),E(4),y(5,"translate"),m()()),n&2&&(d(4),H(I(5,1,"CLOUD.MSG_CLOUD_EDIT.NEW")))}function sm(n,i){n&1&&(p(0,"div",17)(1,"label"),E(2),y(3,"translate"),m()()),n&2&&(d(2),H(I(3,1,"CLOUD.MSG_CLOUD_EDIT.IMG")))}function om(n,i){n&1&&S(0,"div",24),n&2&&f("ngStyle",ze(1,im))}function am(n,i){n&1&&(p(0,"div",25)(1,"p"),E(2),y(3,"translate"),m()()),n&2&&(d(2),Z(" ",I(3,1,"CLOUD.MSG_CLOUD_EDIT.NO_IMAGE")," "))}function lm(n,i){if(n&1){let e=R();p(0,"div",19)(1,"div",23),T(2,om,1,2,"div",24)(3,am,4,3,"div",25),m(),p(4,"div",26)(5,"div")(6,"button",27),y(7,"translate"),D("click",function(){M(e);let r=g(2);return A(r.onDeleteImage())}),m()()(),p(8,"input",28,1),D("change",function(){M(e);let r=Se(9),s=g(2);return A(s.uploadFiles(r.files))}),m()()}if(n&2){let e=g(2);d(2),N(e.formModel.controls.image!=null&&e.formModel.controls.image.value?2:3),d(4),Y("label",I(7,3,"CLOUD.MSG_CLOUD_EDIT.IMG_DELETE")),f("disabled",!(e.formModel.controls.image!=null&&e.formModel.controls.image.value))}}function cm(n,i){if(n&1){let e=R();p(0,"div",7)(1,"div",17)(2,"label",18),E(3),y(4,"translate"),m()(),p(5,"div",19)(6,"input",20,0),y(8,"translate"),D("keyup.enter",function(r){M(e);let s=g();return A(s.checkForm(r))})("keyup.esc",function(){M(e);let r=g();return A(r.goToCloudSelect())}),m()(),p(9,"div",17)(10,"label",21),E(11),y(12,"translate"),m()(),p(13,"div",19)(14,"textarea",22),y(15,"translate"),E(16,"        "),m()(),T(17,sm,4,3,"div",17)(18,lm,10,5,"div",19),m()}n&2&&(d(3),H(I(4,6,"CLOUD.MSG_CLOUD_EDIT.NAME")),d(3),Y("placeholder",I(8,8,"CLOUD.MSG_CLOUD_EDIT.NAME")),d(5),H(I(12,10,"CLOUD.MSG_CLOUD_EDIT.COMMENT")),d(3),Y("placeholder",I(15,12,"CLOUD.MSG_CLOUD_EDIT.COMMENT")),d(3),N(-1),d(),N(-1))}function dm(n,i){if(n&1&&(p(0,"div",8),S(1,"sts-fwc-message",29),m()),n&2){let e=g();d(),f("message",e.errorMessage)}}function pm(n,i){if(n&1){let e=R();p(0,"button",30),y(1,"translate"),D("click",function(){M(e);let r=g();return A(r.goToCloudSelect())}),m()}if(n&2){let e=g();Y("label",I(1,2,"GLOBALS.MSG_BUTTONS.CANCEL")),f("disabled",e.loadingData)}}function mm(n,i){if(n&1){let e=R();p(0,"button",31),y(1,"translate"),D("click",function(){M(e);let r=g();return A(r.onSave())}),m()}if(n&2){let e=g();Y("label",I(1,2,"GLOBALS.MSG_BUTTONS.SAVE")),f("disabled",!e.formModel.valid||e.loadingData)}}function um(n,i){if(n&1){let e=R();p(0,"button",32),y(1,"translate"),D("click",function(){M(e);let r=g();return A(r.goToCloudSelect())}),m()}n&2&&Y("label",I(1,1,"GLOBALS.MSG_BUTTONS.BACK"))}var rs=(()=>{class n{constructor(e,t,r,s,o,a,l,c,h,u){this._router=e,this.route=t,this.fwcUserService=r,this.fwcCloudService=s,this.confirmationService=o,this.messageService=a,this.translate=l,this.fwcErrorPipe=c,this.utilService=h,this.el=u,this.fwcCloud=null,this.loadingData=!1,this.alive=!0}ngOnInit(){this.route.params.subscribe(e=>{let t,r;t=+e.cloud,isNaN(t)?(this.fwcCloud={},this.resetForm()):(this.loadingData=!0,r={fwcloud:t},this.fwcCloudId=t,this.resetForm(),this.fwcCloudService.getCloud(r).subscribe(s=>{this.fwcCloud=s.data,this.createForm(),this.loadingData=!1},s=>{let o;s.error&&s.error.fwcErr==1002?o=this.translate.instant("CLOUD.MSG_CLOUD_NOT_FOUND"):o=this.fwcErrorPipe.transform(s),this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:o}),this.errorMessage=null,this.loadingData=!1}))}),setTimeout(()=>{this.cloudObjName&&this.cloudObjName.nativeElement.focus()},150)}resetForm(){this.formModel=new Xi({fwcloud:new $e(""),name:new $e("",[xt.required,xt.pattern(mr.nameRegExp)]),comment:new $e(""),image:new $e("")})}createForm(){this.fwcCloud&&(this.formModel.controls.fwcloud.setValue(this.fwcCloud.id),this.formModel.controls.name.setValue(this.fwcCloud.name),this.formModel.controls.comment.setValue(this.fwcCloud.comment),this.formModel.controls.image.setValue(this.fwcCloud.image))}onDelete(){}checkForm(e){e&&e.target&&e.target.type!="textarea"&&this.formModel.valid&&(e.target.blur(),this.onSave())}onSave(){let e,t;e=this.formModel.value,e&&e.fwcloud?t=this.fwcCloudService.updateCloud.bind(this.fwcCloudService):(t=this.fwcCloudService.newCloud.bind(this.fwcCloudService),delete e.fwcloud),this.loadingData=!0,this.utilService.fwcAPICall(t,e).then(r=>{this.formModel.markAsPristine(),this.loadingData=!1,this.goToCloudSelect()}).catch(r=>{r.status==403&&r.data.fwcErr==8e3?(this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),icon:"fa fa-exclamation-circle fwcRed iconBig",message:this.translate.instant("API_ERROR."+r.data.fwcErr),rejectVisible:!1,acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.OK"),accept:()=>{}}),this.loadingData=!1):(this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(r)}),this.loadingData=!1)})}onDeleteImage(){this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_CONFIRM"),icon:"fa fa-question-circle fwcBlue iconBig",message:this.translate.instant("CLOUD.MSG_CLOUD_IMG_DELETE"),accept:()=>{this.formModel.get("image").setValue(void 0)},rejectVisible:!0,rejectLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.NO"),acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES")})}uploadFiles(e){let t;t=e[0],this.utilService.fileUpload(t).subscribe(r=>{},r=>{}),this.formModel.get("image").setValue(t.name)}goToCloudSelect(){this.formModel.pristine?this._router.navigate(["/cloud/select"]):this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_CONFIRM"),icon:"fa fa-question-circle fwcBlue iconBig",message:this.translate.instant("CLOUD.MSG_CLOUD_EXIT"),accept:()=>{this._router.navigate(["/cloud/select"])},rejectVisible:!0,rejectLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.NO"),acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES")})}ngOnDestroy(){this.alive=!1}static{this.\u0275fac=function(t){return new(t||n)(_(ce),_(Do),_(se),_(we),_(Ye),_(Xe),_(ne),_(Ue),_(me),_(yi))}}static{this.\u0275cmp=K({type:n,selectors:[["app-cloud-edit"]],viewQuery:function(t,r){if(t&1&&he(tm,5),t&2){let s;ae(s=le())&&(r.cloudObjName=s.first)}},features:[He([we])],decls:14,vars:10,consts:[["cloudObjName",""],["fileDialog",""],[1,"grid","divFwClouds"],[1,"col-12","divHeader"],[3,"blocked"],[1,"divCenterHV"],[1,"fwcCloudForm",3,"formGroup"],[1,"grid"],[1,"col-12"],[1,"col-12","divButtons"],["type","button","pButton","","icon","pi pi-trash",1,"p-button-danger",3,"disabled","label"],["type","button","pButton","","icon","fa fa-save",1,"p-button-success",3,"disabled","label"],["pButton","","icon","pi pi-arrow-left fwcOrange",1,"fwcBtnMain","p-button-secondary","fwcBlue","fwcOrangeBorder","float-right",3,"label"],[1,"divHeaderIcon"],[1,"fwcMenuIcon","fwci-edit","fwcOrange"],[1,"fwcBlue"],[1,"fwcMenuIcon","fwci-new","fwcOrange"],[1,"col-2"],["for","name"],[1,"col-10"],["type","text","pInputText","","formControlName","name","name","name","maxlength","64","autofocus","",3,"keyup.enter","keyup.esc","placeholder"],["for","comment"],["pInputTextarea","","formControlName","comment","name","comment","rows","3","maxlength","255",3,"placeholder"],[2,"display","inline-block"],[1,"fwcCloudImg",3,"ngStyle"],[1,"fwcCloudNoImg"],[1,"divCloudImg"],["pButton","","icon","pi pi-trash",1,"fwcBtnMain","p-button-danger","float-left",3,"click","disabled","label"],["type","file","accept","image/*","name","cloudImg","id","cloudImg",2,"display","none",3,"change"],[3,"message"],["type","button","pButton","","icon","pi pi-trash",1,"p-button-danger",3,"click","disabled","label"],["type","button","pButton","","icon","fa fa-save",1,"p-button-success",3,"click","disabled","label"],["pButton","","icon","pi pi-arrow-left fwcOrange",1,"fwcBtnMain","p-button-secondary","fwcBlue","fwcOrangeBorder","float-right",3,"click","label"]],template:function(t,r){t&1&&(p(0,"div",2),T(1,nm,6,4,"div",3)(2,rm,6,3,"div",3),m(),p(3,"p-blockUI",4)(4,"div",5),S(5,"p-progressSpinner"),m()(),p(6,"form",6),T(7,cm,19,14,"div",7),p(8,"div",7),T(9,dm,2,1,"div",8),p(10,"div",9),T(11,pm,2,4,"button",10)(12,mm,2,4,"button",11)(13,um,2,3,"button",12),m()()()),t&2&&(f("@fundidoIn",void 0),d(),N(r.fwcCloudId?1:-1),d(),N(r.fwcCloudId?-1:2),d(),f("blocked",r.loadingData),d(3),f("formGroup",r.formModel),d(),N(r.fwcCloud?7:-1),d(2),N(r.errorMessage?9:-1),d(2),N(r.formModel.pristine?-1:11),d(),N(r.formModel.pristine?-1:12),d(),N(r.formModel.pristine?13:-1))},dependencies:[Te,ei,Xt,ft,Jt,ni,ti,ii,Ft,ge,et,pi,ua,St,de],styles:[`.fwcCloudImg{width:75px;height:75px;border-radius:100%;border:2px solid var(--fwcWhite);background-size:cover;box-shadow:1px 1px 3px var(--fwcShadow);cursor:pointer}.fwcCloudNoImg{width:75px;height:75px;border-radius:50%;border:2px solid var(--fwcWhite);background-color:var(--fwcGrey);box-shadow:1px 1px 3px var(--fwcShadow);display:table;text-align:center;cursor:pointer}.fwcCloudNoImg p{color:var(--fwcPaleDark);font-size:.8rem;font-family:Montserrat,sans-serif;display:table-cell;vertical-align:middle}div.divCloudImg{display:inline-block;height:100%;vertical-align:middle}div.divCloudImg button{margin-left:.8em}.fwcCloudForm label{line-height:2.4375rem}
`],encapsulation:2,data:{animation:[fi]}})}}return n})();var fm=[{path:"cloud",component:Fl,canActivate:[oi],children:[{path:"select",component:Nl},{path:"new",component:rs,canActivate:[Ni]},{path:"edit/:cloud",component:rs,canActivate:[Ni]},{path:"**",redirectTo:"select",pathMatch:"full"}]}],Bl=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=ie({type:n})}static{this.\u0275inj=te({imports:[Ce.forChild(fm),Ce]})}}return n})();var Vl=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=ie({type:n})}static{this.\u0275inj=te({providers:[Ni],imports:[Le,ri,tn,tt,Zn,Bl,Qe.forChild(),_t,mi,gi,ui,va,Ma,In,Mi]})}}return n})();var ss=(()=>{class n extends oa{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Gi(n)))(r||n)}})();static \u0275cmp=K({type:n,selectors:[["BarsIcon"]],standalone:!0,features:[zi,oo],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M13.3226 3.6129H0.677419C0.497757 3.6129 0.325452 3.54152 0.198411 3.41448C0.0713707 3.28744 0 3.11514 0 2.93548C0 2.75581 0.0713707 2.58351 0.198411 2.45647C0.325452 2.32943 0.497757 2.25806 0.677419 2.25806H13.3226C13.5022 2.25806 13.6745 2.32943 13.8016 2.45647C13.9286 2.58351 14 2.75581 14 2.93548C14 3.11514 13.9286 3.28744 13.8016 3.41448C13.6745 3.54152 13.5022 3.6129 13.3226 3.6129ZM13.3226 7.67741H0.677419C0.497757 7.67741 0.325452 7.60604 0.198411 7.479C0.0713707 7.35196 0 7.17965 0 6.99999C0 6.82033 0.0713707 6.64802 0.198411 6.52098C0.325452 6.39394 0.497757 6.32257 0.677419 6.32257H13.3226C13.5022 6.32257 13.6745 6.39394 13.8016 6.52098C13.9286 6.64802 14 6.82033 14 6.99999C14 7.17965 13.9286 7.35196 13.8016 7.479C13.6745 7.60604 13.5022 7.67741 13.3226 7.67741ZM0.677419 11.7419H13.3226C13.5022 11.7419 13.6745 11.6706 13.8016 11.5435C13.9286 11.4165 14 11.2442 14 11.0645C14 10.8848 13.9286 10.7125 13.8016 10.5855C13.6745 10.4585 13.5022 10.3871 13.3226 10.3871H0.677419C0.497757 10.3871 0.325452 10.4585 0.198411 10.5855C0.0713707 10.7125 0 10.8848 0 11.0645C0 11.2442 0.0713707 11.4165 0.198411 11.5435C0.325452 11.6706 0.497757 11.7419 0.677419 11.7419Z","fill","currentColor"]],template:function(t,r){t&1&&(Zs(),p(0,"svg",0),S(1,"path",1),m()),t&2&&(je(r.getClassNames()),j("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var gm=["menubar"],_m=(n,i)=>({"p-submenu-list":n,"p-menubar-root-list":i}),Ul=n=>({"p-menuitem-link":!0,"p-disabled":n}),Sm=()=>({exact:!1}),wm=(n,i)=>({$implicit:n,root:i});function vm(n,i){if(n&1&&S(0,"li",8),n&2){let e=g().$implicit,t=g();f("ngStyle",t.getItemProp(e,"style"))("ngClass",t.getSeparatorItemClass(e)),j("id",t.getItemId(e))("data-pc-section","separator")}}function Cm(n,i){if(n&1&&S(0,"span",19),n&2){let e=g(4).$implicit,t=g();f("ngClass",t.getItemProp(e,"icon"))("ngStyle",t.getItemProp(e,"iconStyle")),j("data-pc-section","icon")("tabindex",-1)}}function ym(n,i){if(n&1&&(p(0,"span",20),E(1),m()),n&2){let e=g(4).$implicit,t=g();f("id",t.getItemLabelId(e)),j("data-pc-section","label"),d(),Z(" ",t.getItemLabel(e)," ")}}function Im(n,i){if(n&1&&S(0,"span",21),n&2){let e=g(4).$implicit,t=g();f("innerHTML",t.getItemLabel(e),Tt)("id",t.getItemLabelId(e)),j("data-pc-section","label")}}function bm(n,i){if(n&1&&(p(0,"span",22),E(1),m()),n&2){let e=g(4).$implicit,t=g();f("ngClass",t.getItemProp(e,"badgeStyleClass")),d(),H(t.getItemProp(e,"badge"))}}function Em(n,i){n&1&&S(0,"AngleDownIcon",25),n&2&&(f("styleClass","p-submenu-icon"),j("data-pc-section","submenuicon"))}function Tm(n,i){n&1&&S(0,"AngleRightIcon",25),n&2&&(f("styleClass","p-submenu-icon"),j("data-pc-section","submenuicon"))}function Mm(n,i){if(n&1&&(Be(0),T(1,Em,1,2,"AngleDownIcon",24)(2,Tm,1,2,"AngleRightIcon",24),Ve()),n&2){let e=g(6);d(),f("ngIf",e.root),d(),f("ngIf",!e.root)}}function Am(n,i){}function Om(n,i){n&1&&T(0,Am,0,0,"ng-template",26),n&2&&f("data-pc-section","submenuicon")}function Dm(n,i){if(n&1&&(Be(0),T(1,Mm,3,2,"ng-container",11)(2,Om,1,1,null,23),Ve()),n&2){let e=g(5);d(),f("ngIf",!e.submenuIconTemplate),d(),f("ngTemplateOutlet",e.submenuIconTemplate)}}function xm(n,i){if(n&1&&(p(0,"a",15),T(1,Cm,1,4,"span",16)(2,ym,2,3,"span",17)(3,Im,1,3,"ng-template",null,2,qt)(5,bm,2,2,"span",18)(6,Dm,3,2,"ng-container",11),m()),n&2){let e=Se(4),t=g(3).$implicit,r=g();f("target",r.getItemProp(t,"target"))("ngClass",Ee(11,Ul,r.getItemProp(t,"disabled"))),j("href",r.getItemProp(t,"url"),ji)("data-automationid",r.getItemProp(t,"automationId"))("data-pc-section","action")("tabindex",-1),d(),f("ngIf",r.getItemProp(t,"icon")),d(),f("ngIf",r.getItemProp(t,"escape"))("ngIfElse",e),d(3),f("ngIf",r.getItemProp(t,"badge")),d(),f("ngIf",r.isItemGroup(t))}}function Lm(n,i){if(n&1&&S(0,"span",19),n&2){let e=g(4).$implicit,t=g();f("ngClass",t.getItemProp(e,"icon"))("ngStyle",t.getItemProp(e,"iconStyle")),j("data-pc-section","icon")("tabindex",-1)}}function Pm(n,i){if(n&1&&(p(0,"span",29),E(1),m()),n&2){let e=g(4).$implicit,t=g();d(),H(t.getItemLabel(e))}}function Rm(n,i){if(n&1&&S(0,"span",30),n&2){let e=g(4).$implicit,t=g();f("innerHTML",t.getItemLabel(e),Tt),j("data-pc-section","label")}}function Nm(n,i){if(n&1&&(p(0,"span",22),E(1),m()),n&2){let e=g(4).$implicit,t=g();f("ngClass",t.getItemProp(e,"badgeStyleClass")),d(),H(t.getItemProp(e,"badge"))}}function Fm(n,i){n&1&&S(0,"AngleDownIcon",25),n&2&&(f("styleClass","p-submenu-icon"),j("data-pc-section","submenuicon"))}function km(n,i){n&1&&S(0,"AngleRightIcon",25),n&2&&(f("styleClass","p-submenu-icon"),j("data-pc-section","submenuicon"))}function Bm(n,i){if(n&1&&(Be(0),T(1,Fm,1,2,"AngleDownIcon",24)(2,km,1,2,"AngleRightIcon",24),Ve()),n&2){let e=g(6);d(),f("ngIf",e.root),d(),f("ngIf",!e.root)}}function Vm(n,i){}function Um(n,i){n&1&&T(0,Vm,0,0,"ng-template",26),n&2&&f("data-pc-section","submenuicon")}function Gm(n,i){if(n&1&&(Be(0),T(1,Bm,3,2,"ng-container",11)(2,Um,1,1,null,23),Ve()),n&2){g(5);let e=Se(1);d(),f("ngIf",!e.submenuIconTemplate),d(),f("ngTemplateOutlet",e.submenuIconTemplate)}}function Wm(n,i){if(n&1&&(p(0,"a",27),T(1,Lm,1,4,"span",16)(2,Pm,2,1,"span",28)(3,Rm,1,2,"ng-template",null,3,qt)(5,Nm,2,2,"span",18)(6,Gm,3,2,"ng-container",11),m()),n&2){let e=Se(4),t=g(3).$implicit,r=g();f("routerLink",r.getItemProp(t,"routerLink"))("queryParams",r.getItemProp(t,"queryParams"))("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",r.getItemProp(t,"routerLinkActiveOptions")||ze(20,Sm))("target",r.getItemProp(t,"target"))("ngClass",Ee(21,Ul,r.getItemProp(t,"disabled")))("fragment",r.getItemProp(t,"fragment"))("queryParamsHandling",r.getItemProp(t,"queryParamsHandling"))("preserveFragment",r.getItemProp(t,"preserveFragment"))("skipLocationChange",r.getItemProp(t,"skipLocationChange"))("replaceUrl",r.getItemProp(t,"replaceUrl"))("state",r.getItemProp(t,"state")),j("data-automationid",r.getItemProp(t,"automationId"))("tabindex",-1)("data-pc-section","action"),d(),f("ngIf",r.getItemProp(t,"icon")),d(),f("ngIf",r.getItemProp(t,"escape"))("ngIfElse",e),d(3),f("ngIf",r.getItemProp(t,"badge")),d(),f("ngIf",r.isItemGroup(t))}}function jm(n,i){if(n&1&&(Be(0),T(1,xm,7,13,"a",13)(2,Wm,7,23,"a",14),Ve()),n&2){let e=g(2).$implicit,t=g();d(),f("ngIf",!t.getItemProp(e,"routerLink")),d(),f("ngIf",t.getItemProp(e,"routerLink"))}}function Hm(n,i){}function zm(n,i){n&1&&T(0,Hm,0,0,"ng-template")}function Km(n,i){if(n&1&&(Be(0),T(1,zm,1,0,null,31),Ve()),n&2){let e=g(2).$implicit,t=g();d(),f("ngTemplateOutlet",t.itemTemplate)("ngTemplateOutletContext",Mt(2,wm,e.item,t.root))}}function Zm(n,i){if(n&1){let e=R();p(0,"p-menubarSub",32),D("itemClick",function(r){M(e);let s=g(3);return A(s.itemClick.emit(r))})("itemMouseEnter",function(r){M(e);let s=g(3);return A(s.onItemMouseEnter(r))}),m()}if(n&2){let e=g(2).$implicit,t=g();f("itemTemplate",t.itemTemplate)("items",e.items)("mobileActive",t.mobileActive)("autoDisplay",t.autoDisplay)("menuId",t.menuId)("activeItemPath",t.activeItemPath)("focusedItemId",t.focusedItemId)("level",t.level+1)("ariaLabelledBy",t.getItemLabelId(e))}}function $m(n,i){if(n&1){let e=R();p(0,"li",9,1)(2,"div",10),D("click",function(r){M(e);let s=g().$implicit,o=g();return A(o.onItemClick(r,s))})("mouseenter",function(r){M(e);let s=g().$implicit,o=g();return A(o.onItemMouseEnter({$event:r,processedItem:s}))}),T(3,jm,3,2,"ng-container",11)(4,Km,2,5,"ng-container",11),m(),T(5,Zm,1,9,"p-menubarSub",12),m()}if(n&2){let e=g(),t=e.$implicit,r=e.index,s=g();je(s.getItemProp(t,"styleClass")),f("ngStyle",s.getItemProp(t,"style"))("ngClass",s.getItemClass(t))("tooltipOptions",s.getItemProp(t,"tooltipOptions")),j("id",s.getItemId(t))("data-pc-section","menuitem")("data-p-highlight",s.isItemActive(t))("data-p-focused",s.isItemFocused(t))("data-p-disabled",s.isItemDisabled(t))("aria-label",s.getItemLabel(t))("aria-disabled",s.isItemDisabled(t)||void 0)("aria-haspopup",s.isItemGroup(t)&&!s.getItemProp(t,"to")?"menu":void 0)("aria-expanded",s.isItemGroup(t)?s.isItemActive(t):void 0)("aria-level",s.level+1)("aria-setsize",s.getAriaSetSize())("aria-posinset",s.getAriaPosInset(r)),d(2),j("data-pc-section","content"),d(),f("ngIf",!s.itemTemplate),d(),f("ngIf",s.itemTemplate),d(),f("ngIf",s.isItemVisible(t)&&s.isItemGroup(t))}}function Qm(n,i){if(n&1&&T(0,vm,1,4,"li",6)(1,$m,6,21,"li",7),n&2){let e=i.$implicit,t=g();f("ngIf",t.isItemVisible(e)&&t.getItemProp(e,"separator")),d(),f("ngIf",t.isItemVisible(e)&&!t.getItemProp(e,"separator"))}}var qm=["menubutton"],Ym=["rootmenu"],Xm=["*"],Jm=n=>({"p-menubar p-component":!0,"p-menubar-mobile-active":n});function eu(n,i){n&1&&Kt(0)}function tu(n,i){if(n&1&&(p(0,"div",8),T(1,eu,1,0,"ng-container",9),m()),n&2){let e=g();d(),f("ngTemplateOutlet",e.startTemplate)}}function iu(n,i){n&1&&S(0,"BarsIcon")}function nu(n,i){}function ru(n,i){n&1&&T(0,nu,0,0,"ng-template")}function su(n,i){if(n&1){let e=R();p(0,"a",10,2),D("click",function(r){M(e);let s=g();return A(s.menuButtonClick(r))})("keydown",function(r){M(e);let s=g();return A(s.menuButtonKeydown(r))}),T(2,iu,1,0,"BarsIcon",11)(3,ru,1,0,null,9),m()}if(n&2){let e=g();j("aria-haspopup",!!(e.model.length&&e.model.length>0))("aria-expanded",e.mobileActive)("aria-controls",e.id)("aria-label",e.config.translation.aria.navigation)("data-pc-section","button"),d(2),f("ngIf",!e.menuIconTemplate),d(),f("ngTemplateOutlet",e.menuIconTemplate)}}function ou(n,i){n&1&&Kt(0)}function au(n,i){if(n&1&&(p(0,"div",12),T(1,ou,1,0,"ng-container",9),m()),n&2){let e=g();d(),f("ngTemplateOutlet",e.endTemplate)}}function lu(n,i){n&1&&(p(0,"div",12),no(1),m())}var os=(()=>{class n{autoHide;autoHideDelay;mouseLeaves=new Ms;mouseLeft$=this.mouseLeaves.pipe(Fs(()=>Rs(this.autoHideDelay)),dt(e=>this.autoHide&&e));static \u0275fac=function(t){return new(t||n)};static \u0275prov=fe({token:n,factory:n.\u0275fac})}return n})(),cu=(()=>{class n{el;renderer;cd;menubarService;items;itemTemplate;root=!1;autoZIndex=!0;baseZIndex=0;mobileActive;autoDisplay;menuId;ariaLabel;ariaLabelledBy;level=0;focusedItemId;activeItemPath;submenuIconTemplate;itemClick=new ke;itemMouseEnter=new ke;menuFocus=new ke;menuBlur=new ke;menuKeydown=new ke;menubarViewChild;mouseLeaveSubscriber;constructor(e,t,r,s){this.el=e,this.renderer=t,this.cd=r,this.menubarService=s}ngOnInit(){this.mouseLeaveSubscriber=this.menubarService.mouseLeft$.subscribe(()=>{this.cd.markForCheck()})}onItemClick(e,t){this.getItemProp(t,"command",{originalEvent:e,item:t.item}),this.itemClick.emit({originalEvent:e,processedItem:t,isFocus:!0})}getItemProp(e,t,r=null){return e&&e.item?pe.getItemValue(e.item[t],r):void 0}getItemId(e){return e.item&&e.item?.id?e.item.id:`${this.menuId}_${e.key}`}getItemKey(e){return this.getItemId(e)}getItemLabelId(e){return`${this.menuId}_${e.key}_label`}getItemClass(e){return oe(q({},this.getItemProp(e,"class")),{"p-menuitem":!0,"p-highlight":this.isItemActive(e),"p-menuitem-active":this.isItemActive(e),"p-focus":this.isItemFocused(e),"p-disabled":this.isItemDisabled(e)})}getItemLabel(e){return this.getItemProp(e,"label")}getSeparatorItemClass(e){return oe(q({},this.getItemProp(e,"class")),{"p-menuitem-separator":!0})}isItemVisible(e){return this.getItemProp(e,"visible")!==!1}isItemActive(e){if(this.activeItemPath)return this.activeItemPath.some(t=>t.key===e.key)}isItemDisabled(e){return this.getItemProp(e,"disabled")}isItemFocused(e){return this.focusedItemId===this.getItemId(e)}isItemGroup(e){return pe.isNotEmpty(e.items)}getAriaSetSize(){return this.items.filter(e=>this.isItemVisible(e)&&!this.getItemProp(e,"separator")).length}getAriaPosInset(e){return e-this.items.slice(0,e).filter(t=>this.isItemVisible(t)&&this.getItemProp(t,"separator")).length+1}onItemMouseLeave(){this.menubarService.mouseLeaves.next(!0)}onItemMouseEnter(e){if(this.autoDisplay){this.menubarService.mouseLeaves.next(!1);let{event:t,processedItem:r}=e;this.itemMouseEnter.emit({originalEvent:t,processedItem:r})}}ngOnDestroy(){this.mouseLeaveSubscriber?.unsubscribe()}static \u0275fac=function(t){return new(t||n)(_(yi),_(nt),_(rt),_(os))};static \u0275cmp=K({type:n,selectors:[["p-menubarSub"]],viewQuery:function(t,r){if(t&1&&he(gm,7),t&2){let s;ae(s=le())&&(r.menubarViewChild=s.first)}},hostAttrs:[1,"p-element"],inputs:{items:"items",itemTemplate:"itemTemplate",root:[2,"root","root",xe],autoZIndex:[2,"autoZIndex","autoZIndex",xe],baseZIndex:[2,"baseZIndex","baseZIndex",Ke],mobileActive:[2,"mobileActive","mobileActive",xe],autoDisplay:[2,"autoDisplay","autoDisplay",xe],menuId:"menuId",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",level:[2,"level","level",Ke],focusedItemId:"focusedItemId",activeItemPath:"activeItemPath",submenuIconTemplate:"submenuIconTemplate"},outputs:{itemClick:"itemClick",itemMouseEnter:"itemMouseEnter",menuFocus:"menuFocus",menuBlur:"menuBlur",menuKeydown:"menuKeydown"},features:[zt],decls:3,vars:11,consts:[["menubar",""],["listItem",""],["htmlLabel",""],["htmlRouteLabel",""],["role","menubar",3,"focus","blur","keydown","ngClass","tabindex"],["ngFor","",3,"ngForOf"],["role","separator",3,"ngStyle","ngClass",4,"ngIf"],["role","menuitem","pTooltip","",3,"ngStyle","ngClass","class","tooltipOptions",4,"ngIf"],["role","separator",3,"ngStyle","ngClass"],["role","menuitem","pTooltip","",3,"ngStyle","ngClass","tooltipOptions"],[1,"p-menuitem-content",3,"click","mouseenter"],[4,"ngIf"],[3,"itemTemplate","items","mobileActive","autoDisplay","menuId","activeItemPath","focusedItemId","level","ariaLabelledBy","itemClick","itemMouseEnter",4,"ngIf"],["pRipple","",3,"target","ngClass",4,"ngIf"],["pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state",4,"ngIf"],["pRipple","",3,"target","ngClass"],["class","p-menuitem-icon",3,"ngClass","ngStyle",4,"ngIf"],["class","p-menuitem-text",3,"id",4,"ngIf","ngIfElse"],["class","p-menuitem-badge",3,"ngClass",4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass","ngStyle"],[1,"p-menuitem-text",3,"id"],[1,"p-menuitem-text",3,"innerHTML","id"],[1,"p-menuitem-badge",3,"ngClass"],[4,"ngTemplateOutlet"],[3,"styleClass",4,"ngIf"],[3,"styleClass"],[3,"data-pc-section"],["pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"itemClick","itemMouseEnter","itemTemplate","items","mobileActive","autoDisplay","menuId","activeItemPath","focusedItemId","level","ariaLabelledBy"]],template:function(t,r){if(t&1){let s=R();p(0,"ul",4,0),D("focus",function(a){return M(s),A(r.menuFocus.emit(a))})("blur",function(a){return M(s),A(r.menuBlur.emit(a))})("keydown",function(a){return M(s),A(r.menuKeydown.emit(a))}),T(2,Qm,2,2,"ng-template",5),m()}t&2&&(f("ngClass",Mt(8,_m,!r.root,r.root))("tabindex",0),j("data-pc-section","menu")("aria-label",r.ariaLabel)("aria-labelledBy",r.ariaLabelledBy)("id",r.root?r.menuId:null)("aria-activedescendant",r.focusedItemId),d(2),f("ngForOf",r.items))},dependencies:()=>[ve,Zi,At,Ot,Te,si,xo,hn,hi,yr,Ir,n],encapsulation:2})}return n})(),Gl=(()=>{class n{document;platformId;el;renderer;cd;config;menubarService;set model(e){this._model=e,this._processedItems=this.createProcessedItems(this._model||[])}get model(){return this._model}style;styleClass;autoZIndex=!0;baseZIndex=0;autoDisplay=!0;autoHide;autoHideDelay=100;id;ariaLabel;ariaLabelledBy;onFocus=new ke;onBlur=new ke;templates;menubutton;rootmenu;startTemplate;endTemplate;menuIconTemplate;submenuIconTemplate;itemTemplate;mobileActive;outsideClickListener;resizeListener;mouseLeaveSubscriber;dirty=!1;focused=!1;activeItemPath=Hi([]);number=Hi(0);focusedItemInfo=Hi({index:-1,level:0,parentKey:"",item:null});searchValue="";searchTimeout;_processedItems;_model;get visibleItems(){let e=this.activeItemPath().find(t=>t.key===this.focusedItemInfo().parentKey);return e?e.items:this.processedItems}get processedItems(){return(!this._processedItems||!this._processedItems.length)&&(this._processedItems=this.createProcessedItems(this.model||[])),this._processedItems}get focusedItemId(){let e=this.focusedItemInfo();return e.item&&e.item?.id?e.item.id:e.index!==-1?`${this.id}${pe.isNotEmpty(e.parentKey)?"_"+e.parentKey:""}_${e.index}`:null}constructor(e,t,r,s,o,a,l){this.document=e,this.platformId=t,this.el=r,this.renderer=s,this.cd=o,this.config=a,this.menubarService=l,co(()=>{let c=this.activeItemPath();pe.isNotEmpty(c)?(this.bindOutsideClickListener(),this.bindResizeListener()):(this.unbindOutsideClickListener(),this.unbindResizeListener())})}ngOnInit(){this.menubarService.autoHide=this.autoHide,this.menubarService.autoHideDelay=this.autoHideDelay,this.mouseLeaveSubscriber=this.menubarService.mouseLeft$.subscribe(()=>this.unbindOutsideClickListener()),this.id=this.id||fn()}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"start":this.startTemplate=e.template;break;case"end":this.endTemplate=e.template;break;case"menuicon":this.menuIconTemplate=e.template;break;case"submenuicon":this.submenuIconTemplate=e.template;break;case"item":this.itemTemplate=e.template;break;default:this.itemTemplate=e.template;break}})}createProcessedItems(e,t=0,r={},s=""){let o=[];return e&&e.forEach((a,l)=>{let c=(s!==""?s+"_":"")+l,h={item:a,index:l,level:t,key:c,parent:r,parentKey:s};h.items=this.createProcessedItems(a.items,t+1,h,c),o.push(h)}),o}getItemProp(e,t){return e?pe.getItemValue(e[t]):void 0}menuButtonClick(e){this.toggle(e)}menuButtonKeydown(e){(e.code==="Enter"||e.code==="Space")&&this.menuButtonClick(e)}onItemClick(e){let{originalEvent:t,processedItem:r}=e,s=this.isProcessedItemGroup(r),o=pe.isEmpty(r.parent);if(this.isSelected(r)){let{index:l,key:c,level:h,parentKey:u,item:v}=r;this.activeItemPath.set(this.activeItemPath().filter(b=>c!==b.key&&c.startsWith(b.key))),this.focusedItemInfo.set({index:l,level:h,parentKey:u,item:v}),this.dirty=!o,Ie.focus(this.rootmenu.menubarViewChild.nativeElement)}else if(s)this.onItemChange(e);else{let l=o?r:this.activeItemPath().find(c=>c.parentKey==="");this.hide(t),this.changeFocusedItemIndex(t,l?l.index:-1),this.mobileActive=!1,Ie.focus(this.rootmenu.menubarViewChild.nativeElement)}}onItemMouseEnter(e){Ie.isTouchDevice()||this.mobileActive||this.onItemChange(e)}changeFocusedItemIndex(e,t){let r=this.findVisibleItem(t);if(this.focusedItemInfo().index!==t){let s=this.focusedItemInfo();this.focusedItemInfo.set(oe(q({},s),{item:r.item,index:t})),this.scrollInView()}}scrollInView(e=-1){let t=e!==-1?`${this.id}_${e}`:this.focusedItemId,r=Ie.findSingle(this.rootmenu.el.nativeElement,`li[id="${t}"]`);r&&r.scrollIntoView&&r.scrollIntoView({block:"nearest",inline:"nearest"})}onItemChange(e){let{processedItem:t,isFocus:r}=e;if(pe.isEmpty(t))return;let{index:s,key:o,level:a,parentKey:l,items:c,item:h}=t,u=pe.isNotEmpty(c),v=this.activeItemPath().filter(b=>b.parentKey!==l&&b.parentKey!==o);u&&v.push(t),this.focusedItemInfo.set({index:s,level:a,parentKey:l,item:h}),this.activeItemPath.set(v),u&&(this.dirty=!0),r&&Ie.focus(this.rootmenu.menubarViewChild.nativeElement)}toggle(e){this.mobileActive?(this.mobileActive=!1,Nt.clear(this.rootmenu.el.nativeElement),this.hide()):(this.mobileActive=!0,Nt.set("menu",this.rootmenu.el.nativeElement,this.config.zIndex.menu),setTimeout(()=>{this.show()},0)),this.cd.markForCheck(),this.bindOutsideClickListener(),e.preventDefault()}hide(e,t){this.mobileActive&&setTimeout(()=>{Ie.focus(this.menubutton.nativeElement)},0),this.activeItemPath.set([]),this.focusedItemInfo.set({index:-1,level:0,parentKey:"",item:null}),t&&Ie.focus(this.rootmenu?.menubarViewChild.nativeElement),this.dirty=!1}show(){let e=this.findVisibleItem(this.findFirstFocusedItemIndex());this.focusedItemInfo.set({index:this.findFirstFocusedItemIndex(),level:0,parentKey:"",item:e?.item}),Ie.focus(this.rootmenu?.menubarViewChild.nativeElement)}onMenuFocus(e){this.focused=!0;let t=this.findVisibleItem(this.findFirstFocusedItemIndex()),r=this.focusedItemInfo().index!==-1?this.focusedItemInfo():{index:this.findFirstFocusedItemIndex(),level:0,parentKey:"",item:t?.item};this.focusedItemInfo.set(r),this.onFocus.emit(e)}onMenuBlur(e){this.focused=!1,this.focusedItemInfo.set({index:-1,level:0,parentKey:"",item:null}),this.searchValue="",this.dirty=!1,this.onBlur.emit(e)}onKeyDown(e){let t=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"ArrowLeft":this.onArrowLeftKey(e);break;case"ArrowRight":this.onArrowRightKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"Space":this.onSpaceKey(e);break;case"Enter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"PageDown":case"PageUp":case"Backspace":case"ShiftLeft":case"ShiftRight":break;default:!t&&pe.isPrintableCharacter(e.key)&&this.searchItems(e,e.key);break}}findVisibleItem(e){return pe.isNotEmpty(this.visibleItems)?this.visibleItems[e]:null}findFirstFocusedItemIndex(){let e=this.findSelectedItemIndex();return e<0?this.findFirstItemIndex():e}findFirstItemIndex(){return this.visibleItems.findIndex(e=>this.isValidItem(e))}findSelectedItemIndex(){return this.visibleItems.findIndex(e=>this.isValidSelectedItem(e))}isProcessedItemGroup(e){return e&&pe.isNotEmpty(e.items)}isSelected(e){return this.activeItemPath().some(t=>t.key===e.key)}isValidSelectedItem(e){return this.isValidItem(e)&&this.isSelected(e)}isValidItem(e){return!!e&&!this.isItemDisabled(e.item)&&!this.isItemSeparator(e.item)}isItemDisabled(e){return this.getItemProp(e,"disabled")}isItemSeparator(e){return this.getItemProp(e,"separator")}isItemMatched(e){return this.isValidItem(e)&&this.getProccessedItemLabel(e).toLocaleLowerCase().startsWith(this.searchValue.toLocaleLowerCase())}isProccessedItemGroup(e){return e&&pe.isNotEmpty(e.items)}searchItems(e,t){this.searchValue=(this.searchValue||"")+t;let r=-1,s=!1;return this.focusedItemInfo().index!==-1?(r=this.visibleItems.slice(this.focusedItemInfo().index).findIndex(o=>this.isItemMatched(o)),r=r===-1?this.visibleItems.slice(0,this.focusedItemInfo().index).findIndex(o=>this.isItemMatched(o)):r+this.focusedItemInfo().index):r=this.visibleItems.findIndex(o=>this.isItemMatched(o)),r!==-1&&(s=!0),r===-1&&this.focusedItemInfo().index===-1&&(r=this.findFirstFocusedItemIndex()),r!==-1&&this.changeFocusedItemIndex(e,r),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),s}getProccessedItemLabel(e){return e?this.getItemLabel(e.item):void 0}getItemLabel(e){return this.getItemProp(e,"label")}onArrowDownKey(e){let t=this.visibleItems[this.focusedItemInfo().index];if(t?pe.isEmpty(t.parent):null)this.isProccessedItemGroup(t)&&(this.onItemChange({originalEvent:e,processedItem:t}),this.focusedItemInfo.set({index:-1,parentKey:t.key,item:t.item}),this.onArrowRightKey(e));else{let s=this.focusedItemInfo().index!==-1?this.findNextItemIndex(this.focusedItemInfo().index):this.findFirstFocusedItemIndex();this.changeFocusedItemIndex(e,s),e.preventDefault()}}onArrowRightKey(e){let t=this.visibleItems[this.focusedItemInfo().index];if(t?this.activeItemPath().find(s=>s.key===t.parentKey):null)this.isProccessedItemGroup(t)&&(this.onItemChange({originalEvent:e,processedItem:t}),this.focusedItemInfo.set({index:-1,parentKey:t.key,item:t.item}),this.onArrowDownKey(e));else{let s=this.focusedItemInfo().index!==-1?this.findNextItemIndex(this.focusedItemInfo().index):this.findFirstFocusedItemIndex();this.changeFocusedItemIndex(e,s),e.preventDefault()}}onArrowUpKey(e){let t=this.visibleItems[this.focusedItemInfo().index];if(pe.isEmpty(t.parent)){if(this.isProccessedItemGroup(t)){this.onItemChange({originalEvent:e,processedItem:t}),this.focusedItemInfo.set({index:-1,parentKey:t.key,item:t.item});let o=this.findLastItemIndex();this.changeFocusedItemIndex(e,o)}}else{let s=this.activeItemPath().find(o=>o.key===t.parentKey);if(this.focusedItemInfo().index===0){this.focusedItemInfo.set({index:-1,parentKey:s?s.parentKey:"",item:t.item}),this.searchValue="",this.onArrowLeftKey(e);let o=this.activeItemPath().filter(a=>a.parentKey!==this.focusedItemInfo().parentKey);this.activeItemPath.set(o)}else{let o=this.focusedItemInfo().index!==-1?this.findPrevItemIndex(this.focusedItemInfo().index):this.findLastFocusedItemIndex();this.changeFocusedItemIndex(e,o)}}e.preventDefault()}onArrowLeftKey(e){let t=this.visibleItems[this.focusedItemInfo().index],r=t?this.activeItemPath().find(s=>s.key===t.parentKey):null;if(r){this.onItemChange({originalEvent:e,processedItem:r});let s=this.activeItemPath().filter(o=>o.parentKey!==this.focusedItemInfo().parentKey);this.activeItemPath.set(s),e.preventDefault()}else{let s=this.focusedItemInfo().index!==-1?this.findPrevItemIndex(this.focusedItemInfo().index):this.findLastFocusedItemIndex();this.changeFocusedItemIndex(e,s),e.preventDefault()}}onHomeKey(e){this.changeFocusedItemIndex(e,this.findFirstItemIndex()),e.preventDefault()}onEndKey(e){this.changeFocusedItemIndex(e,this.findLastItemIndex()),e.preventDefault()}onSpaceKey(e){this.onEnterKey(e)}onEscapeKey(e){this.hide(e,!0),this.focusedItemInfo().index=this.findFirstFocusedItemIndex(),e.preventDefault()}onTabKey(e){if(this.focusedItemInfo().index!==-1){let t=this.visibleItems[this.focusedItemInfo().index];!this.isProccessedItemGroup(t)&&this.onItemChange({originalEvent:e,processedItem:t})}this.hide()}onEnterKey(e){if(this.focusedItemInfo().index!==-1){let t=Ie.findSingle(this.rootmenu.el.nativeElement,`li[id="${`${this.focusedItemId}`}"]`),r=t&&Ie.findSingle(t,'a[data-pc-section="action"]');r?r.click():t&&t.click()}e.preventDefault()}findLastFocusedItemIndex(){let e=this.findSelectedItemIndex();return e<0?this.findLastItemIndex():e}findLastItemIndex(){return pe.findLastIndex(this.visibleItems,e=>this.isValidItem(e))}findPrevItemIndex(e){let t=e>0?pe.findLastIndex(this.visibleItems.slice(0,e),r=>this.isValidItem(r)):-1;return t>-1?t:e}findNextItemIndex(e){let t=e<this.visibleItems.length-1?this.visibleItems.slice(e+1).findIndex(r=>this.isValidItem(r)):-1;return t>-1?t+e+1:e}bindResizeListener(){lr(this.platformId)&&(this.resizeListener||(this.resizeListener=this.renderer.listen(this.document.defaultView,"resize",e=>{Ie.isTouchDevice()||this.hide(e,!0),this.mobileActive=!1})))}bindOutsideClickListener(){lr(this.platformId)&&(this.outsideClickListener||(this.outsideClickListener=this.renderer.listen(this.document,"click",e=>{let t=this.rootmenu.el.nativeElement!==e.target&&!this.rootmenu.el.nativeElement.contains(e.target),r=this.mobileActive&&this.menubutton.nativeElement!==e.target&&!this.menubutton.nativeElement.contains(e.target);t&&(r?this.mobileActive=!1:this.hide())})))}unbindOutsideClickListener(){this.outsideClickListener&&(this.outsideClickListener(),this.outsideClickListener=null)}unbindResizeListener(){this.resizeListener&&(this.resizeListener(),this.resizeListener=null)}ngOnDestroy(){this.mouseLeaveSubscriber?.unsubscribe(),this.unbindOutsideClickListener(),this.unbindResizeListener()}static \u0275fac=function(t){return new(t||n)(_(mt),_(Qs),_(yi),_(nt),_(rt),_(Ei),_(os))};static \u0275cmp=K({type:n,selectors:[["p-menubar"]],contentQueries:function(t,r,s){if(t&1&&Ki(s,Je,4),t&2){let o;ae(o=le())&&(r.templates=o)}},viewQuery:function(t,r){if(t&1&&(he(qm,5),he(Ym,5)),t&2){let s;ae(s=le())&&(r.menubutton=s.first),ae(s=le())&&(r.rootmenu=s.first)}},hostAttrs:[1,"p-element"],inputs:{model:"model",style:"style",styleClass:"styleClass",autoZIndex:[2,"autoZIndex","autoZIndex",xe],baseZIndex:[2,"baseZIndex","baseZIndex",Ke],autoDisplay:[2,"autoDisplay","autoDisplay",xe],autoHide:[2,"autoHide","autoHide",xe],autoHideDelay:[2,"autoHideDelay","autoHideDelay",Ke],id:"id",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy"},outputs:{onFocus:"onFocus",onBlur:"onBlur"},features:[He([os]),zt],ngContentSelectors:Xm,decls:8,vars:25,consts:[["rootmenu",""],["legacy",""],["menubutton",""],[3,"ngClass","ngStyle"],["class","p-menubar-start",4,"ngIf"],["tabindex","0","role","button","class","p-menubar-button",3,"click","keydown",4,"ngIf"],[3,"itemClick","menuFocus","menuBlur","menuKeydown","itemMouseEnter","items","itemTemplate","menuId","root","baseZIndex","autoZIndex","mobileActive","autoDisplay","ariaLabel","ariaLabelledBy","focusedItemId","submenuIconTemplate","activeItemPath"],["class","p-menubar-end",4,"ngIf","ngIfElse"],[1,"p-menubar-start"],[4,"ngTemplateOutlet"],["tabindex","0","role","button",1,"p-menubar-button",3,"click","keydown"],[4,"ngIf"],[1,"p-menubar-end"]],template:function(t,r){if(t&1){let s=R();io(),p(0,"div",3),T(1,tu,2,1,"div",4)(2,su,4,7,"a",5),p(3,"p-menubarSub",6,0),D("itemClick",function(a){return M(s),A(r.onItemClick(a))})("menuFocus",function(a){return M(s),A(r.onMenuFocus(a))})("menuBlur",function(a){return M(s),A(r.onMenuBlur(a))})("menuKeydown",function(a){return M(s),A(r.onKeyDown(a))})("itemMouseEnter",function(a){return M(s),A(r.onItemMouseEnter(a))}),m(),T(5,au,2,1,"div",7)(6,lu,2,0,"ng-template",null,1,qt),m()}if(t&2){let s=Se(7);je(r.styleClass),f("ngClass",Ee(23,Jm,r.mobileActive))("ngStyle",r.style),j("data-pc-section","root")("data-pc-name","menubar"),d(),f("ngIf",r.startTemplate),d(),f("ngIf",r.model&&r.model.length>0),d(),f("items",r.processedItems)("itemTemplate",r.itemTemplate)("menuId",r.id)("root",!0)("baseZIndex",r.baseZIndex)("autoZIndex",r.autoZIndex)("mobileActive",r.mobileActive)("autoDisplay",r.autoDisplay)("ariaLabel",r.ariaLabel)("ariaLabelledBy",r.ariaLabelledBy)("focusedItemId",r.focused?r.focusedItemId:void 0)("submenuIconTemplate",r.submenuIconTemplate)("activeItemPath",r.activeItemPath()),d(2),f("ngIf",r.endTemplate)("ngIfElse",s)}},dependencies:()=>[ve,At,Ot,Te,ss,cu],styles:[`@layer primeng{.p-menubar{display:flex;align-items:center}.p-menubar ul{margin:0;padding:0;list-style:none}.p-menubar .p-menuitem-link{cursor:pointer;display:flex;align-items:center;text-decoration:none;overflow:hidden;position:relative}.p-menubar .p-menuitem-text{line-height:1}.p-menubar .p-menuitem{position:relative}.p-menubar-root-list{display:flex;align-items:center;flex-wrap:wrap}.p-menubar-root-list>li ul{display:none;z-index:1}.p-menubar-root-list>.p-menuitem-active>p-menubarsub>.p-submenu-list{display:block}.p-menubar .p-submenu-list{display:none;position:absolute;z-index:2}.p-menubar .p-submenu-list>.p-menuitem-active>p-menubarsub>.p-submenu-list{display:block;left:100%;top:0}.p-menubar .p-submenu-list .p-menuitem-link .p-submenu-icon:not(svg){margin-left:auto}.p-menubar .p-menubar-root-list .p-icon-wrapper,.p-menubar .p-submenu-list .p-menuitem-link .p-icon-wrapper{margin-left:auto}.p-menubar .p-menubar-custom,.p-menubar .p-menubar-end{margin-left:auto;align-self:center}.p-menubar-button{display:none;cursor:pointer;align-items:center;justify-content:center}}
`],encapsulation:2,changeDetection:0})}return n})(),Wl=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=ie({type:n});static \u0275inj=te({imports:[Le,Ce,gn,Mi,Ti,ss,yr,Ir,Ce,Mi,Ti]})}return n})();var mu=["fwcVPNMeshWizardPanel"],uu=["dashboardSplitter"],fu=()=>({position:"relative","z-index":"1000"});function hu(n,i){if(n&1){let e=R();p(0,"div",12)(1,"h5",16),S(2,"i",17),E(3),y(4,"translate"),m(),S(5,"span",18),p(6,"button",19),y(7,"translate"),D("click",function(){M(e);let r=g();return A(r.compileAndInstallFw(0))}),m(),E(8," \xA0 "),p(9,"button",20),y(10,"translate"),D("click",function(){M(e);let r=g();return A(r.compileAndInstallFw(1))}),m(),p(11,"button",21),y(12,"translate"),D("click",function(){M(e);let r=g();return A(r.showImportWizard())}),m()()}if(n&2){let e=g();d(3),Z(" ",I(4,7,"DASHBOARD.MSG_DASH_MENU_POL.POL_0")," "),d(3),f("label",I(7,9,"DASHBOARD.MSG_DASH_MENUBAR.MENU_3"))("disabled",!e.fwcUserLock),d(3),f("label",I(10,11,"DASHBOARD.MSG_DASH_MENUBAR.MENU_4"))("disabled",!e.fwcUserLock),d(2),f("label",I(12,13,"DASHBOARD.MSG_DASH_MENUBAR.MENU_5"))("disabled",!e.fwcUserLock)}}function gu(n,i){n&1&&(p(0,"div",12)(1,"h5",16),S(2,"i",22),E(3),y(4,"translate"),m(),S(5,"span",18),m()),n&2&&(d(3),Z(" ",I(4,1,"DASHBOARD.MSG_DASH_MENU_VPN.VPN_0")," "))}function _u(n,i){n&1&&(p(0,"div",15)(1,"div",14)(2,"div",23)(3,"div",24)(4,"div",25)(5,"div",26)(6,"div",27),S(7,"img",28),p(8,"h1"),E(9),y(10,"translate"),m(),p(11,"p"),E(12),y(13,"translate"),m()()()()()()()()),n&2&&(d(9),Z(" ",I(10,2,"BLOCK_PAGE.ERR_CONNECTION_LOST.TITLE")," "),d(3),H(I(13,4,"BLOCK_PAGE.ERR_CONNECTION_LOST.TEXT")))}var jl="CLOUD_MENU",Hl=(()=>{class n{constructor(e,t,r,s,o,a,l,c,h,u,v,b,w,C,F,k,z){this.appOptionsService=e,this.fwcErrorPipe=t,this.fwcCloudService=r,this.fwcUserService=s,this.itemSelectedService=o,this.fwcAuthService=a,this.fwcEventService=l,this.translate=c,this.renderer=h,this.messageService=u,this.confirmationService=v,this.utilService=b,this.appDialogPanelsService=w,this._router=C,this.store=F,this.cd=k,this._document=z,this.fwcAppVersion=di.VERSION,this.loading=!1,this.blockUICount=0,this.alive=!0,this.connectionLost=!1,this.darkMode=!1,this.panelSizes=[12,88]}ngOnInit(){let e=this.fwcUserService.getActualFwcUser();this.store.pipe(un(Ko)).subscribe(t=>{this.darkMode=t==="dark"}),this.fwcMenuItems=[{label:this.translate.instant("DASHBOARD.MSG_DASH_MENU_POL.POL_0"),icon:"fwcMenuIcon fwci-policy fwcOrange",routerLink:["/fwcdashboard/policy"]},{label:this.translate.instant("DASHBOARD.MSG_DASH_MENU_VPN.VPN_0"),icon:"fwcMenuIcon fwci-vpn fwcOrange",routerLink:["/fwcdashboard/vpn"]},{label:this.translate.instant("DASHBOARD.MSG_DASH_MENU_SNA.SNA_0"),icon:"fwcMenuIcon fwci-copy fwcOrange",command:()=>{this.showSnapshotDialog()}},{label:this.translate.instant("DASHBOARD.MSG_DASH_MENU_CON.CON_0"),icon:"fwcMenuIcon fwci-systemconfiguration fwcOrange",command:()=>{this.showConfigDialog()}}],this.fwcUser=e,this.fwcUser&&this.fwcUser.customer_id&&this.fwcCloudService.getClouds().subscribe({next:t=>{this.createCloudMenu(t.data);let r=t.data.find(s=>s.id===this.fwcUser.selectedFwCloud);r&&this.lockSelectedCloud(r.id)},error:t=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("CLOUD.MSG_CLOUD_LIST_ERROR"),detail:this.fwcErrorPipe.transform(t)}),this.createCloudMenu([])}}),window.addEventListener("fwcUnlockRequested",()=>{this.forceLock()})}ngOnDestroy(){this.alive=!1}ngAfterViewInit(){this._router.events.subscribe(e=>{e instanceof nn?this.loading=!0:(e instanceof rn||e instanceof sn)&&(this.loading=!1)}),this.cd.detectChanges()}createCloudMenu(e){let t=[],r;r={id:jl,label:"FWClouds",icon:"fwcMenuIcon fwci-cloud fwcOrange",items:[]};for(let s=0;s<e.length;s++){let o=e[s],a,l=o.name&&o.name.length>20?o.name.slice(0,19)+"...":o.name;a={id:o.id.toString(),label:l,command:c=>{this.selectCloud(c)}},o.id==this.fwcUser.selectedFwCloud&&(r.label=l,a.icon="pi pi-check fwcGreen"),t.push(a)}t.push({separator:!0}),t.push({label:this.translate.instant("DASHBOARD.MSG_DASH_CLOUD_MGM"),icon:"pi pi-chevron-left fwcBlue",command:()=>{this.goToCloudSelection()}}),r.items=t.slice(),this.fwcMenuItems.unshift(r),this.fwcMenuItems=[...this.fwcMenuItems]}selectCloudMenu(e,t){for(let r=0;r<this.fwcMenuItems.length;r++){let s=this.fwcMenuItems[r];if(s.id==jl){s.label=t;for(let o=0;s.items&&o<s.items.length;o++){let a=s.items[o];a.id!==void 0&&(a.icon=""),+a.id==e&&(a.icon="pi pi-check fwcGreen")}break}}}selectCloud(e){return ct(this,null,function*(){if(e&&e.item){let t=+e.item.id,r=e.item.label;t!=this.fwcUser.selectedFwCloud&&(this.itemSelectedService.setItem({unloadAction:!0}),this.store.dispatch(Xo.removeMinimizedDialogs()),this.selectCloudMenu(e.item.id,e.item.label),yield this.unlockSelectedCloud(this.fwcUser.selectedFwCloud),this.appOptionsService.clearTreeCacheForFwcloud(this.fwcUser.selectedFwCloud),this.fwcUserService.setSelectedFwCloud(t,r),this.fwcAuthService.setSelectedFwCloud(t,r),yield this.lockSelectedCloud(e.item.id))}})}goToCloudSelection(){return ct(this,null,function*(){yield this.unlockSelectedCloud(this.fwcUser.selectedFwCloud),this.appOptionsService.clearTreeCacheForFwcloud(this.fwcUser?.selectedFwCloud),this.fwcUserService.setSelectedFwCloud(void 0,void 0),this._router.navigate(["/cloud/select"])})}showPolicies(){this._router.navigate(["/fwcdashboard/policy"])}compileAndInstallFw(e){this.itemSelectedService.setCloudToCompile({compileAction:e,compileWhat:Po.COMP_CLOUD,compileId:this.fwcUserService.getActualFwSelectedCloud()})}onShowHelp(){this.appOptionsService.showHelp(this._router.url)}onShowAbout(){this.appOptionsService.showHelp()}onLogout(){this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_CONFIRM"),icon:"fa fa-question-circle fwcBlue iconBig",message:this.translate.instant("DASHBOARD.CONFIRM_EXIT"),rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES"),accept:()=>{this.utilService.fwcAPICall(this.fwcUserService.logoutUser.bind(this.fwcUserService),{}).then(e=>{this.utilService.doAppLogout(),this._router.navigate(["/user/login"])})}})}showConfigDialog(){this.store.dispatch(st.requestBlockUI());let e=this.utilService.createDynamicComponentRef(Mn),t=e.instance;t.setDynamicComponentRef(e),t.updateAndShow()}showSnapshotDialog(){let e=this.utilService.createDynamicComponentRef(ka),t=e.instance;t.setDynamicComponentRef(e),t.showDialog()}showVPNWizard(){this.fwcVPNMeshWizardPanel.showDialog()}changeTheme(){this.darkMode?this.store.dispatch(st.setTheme({theme:"light"})):this.store.dispatch(st.setTheme({theme:"dark"}))}showImportWizard(){let e=this.utilService.createDynamicComponentRef(An),t=e.instance;t.setDynamicComponentRef(e),t.displayDialog=!0}toggleInfoTooltip(){this.appOptionsService.enableInfoTooltip=!this.appOptionsService.enableInfoTooltip}isInfoTooltipEnabled(){return this.appOptionsService.enableInfoTooltip}lockSelectedCloud(e){return this.utilService.fwcAPICall(this.fwcCloudService.lockCloud.bind(this.fwcCloudService),{fwcloud:e}).then(t=>{this.fwcUserLock=t.data.result;let r={result:t.data.result};if(t.data.info){let o=new Date(t.data.info?.locked_at).toLocaleString("es-ES",{timeZone:"Europe/Madrid",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).replace(/(\d{2})\/(\d{2})\/(\d{4}), (\d{2}):(\d{2}):(\d{2})/,"$3-$2-$1 $4:$5:$6");r.info={locked_by:t.data.info?.locked_by,ip_user:t.data.info?.ip_user,ip_name:t.data.info?.ip_name,locked_at:o}}this.fwcUserService.setLockInfo(r),this.setLockInfoMessage(!1)}).catch(t=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(t)})})}unlockSelectedCloud(e){return this.utilService.fwcAPICall(this.fwcCloudService.unlockCloud.bind(this.fwcCloudService),{fwcloud:e}).then(t=>{}).catch(t=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(t)})})}setLockInfoMessage(e){this.fwcUserLock?this.messageService.add({key:"fwcToastMsgs",severity:"info",summary:this.translate.instant("GLOBALS.LOCK_STATUS.SUMMARY"),detail:this.translate.instant("GLOBALS.LOCK_STATUS.DETAIL.SUCCESS",{fwcloud:this.fwcUser.selectedFwCloudName})}):this.messageService.add(q({key:"fwcToastMsgs",severity:"warn",summary:this.translate.instant("GLOBALS.LOCK_STATUS.SUMMARY"),detail:this.translate.instant("GLOBALS.LOCK_STATUS.DETAIL.LOCKED",{fwcloud:this.fwcUser.selectedFwCloudName,user:this.fwcUser.lockInfo?.info?.locked_by,ip:this.fwcUser.lockInfo?.info?.ip_user,ip_name:this.fwcUser.lockInfo?.info?.ip_name?`<br>Name: ${this.fwcUser.lockInfo?.info?.ip_name}<br>`:"",date:this.fwcUser.lockInfo?.info?.locked_at}),sticky:!!e},this.fwcUser.role?{data:{showUnlock:!0}}:{}))}forceLock(){this.fwcUser&&this.fwcUser.selectedFwCloud&&this.utilService.fwcAPICall(this.fwcCloudService.forceLockCloud.bind(this.fwcCloudService),{fwcloud:this.fwcUser.selectedFwCloud}).then(e=>{this.fwcUserLock=e.data.result;let t={result:e.data.result};if(e.data.info){let s=new Date(e.data.info?.locked_at).toLocaleString("es-ES",{timeZone:"Europe/Madrid",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).replace(/(\d{2})\/(\d{2})\/(\d{4}), (\d{2}):(\d{2}):(\d{2})/,"$3-$2-$1 $4:$5:$6");t.info={locked_by:e.data.info?.locked_by,ip_user:e.data.info?.ip_user,ip_name:e.data.info?.ip_name,locked_at:s}}this.fwcUserService.setLockInfo(t),this.setLockInfoMessage(!1)}).catch(e=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(e)})})}static{this.\u0275fac=function(t){return new(t||n)(_(Rt),_(Ue),_(we),_(se),_(ot),_(ye),_(Fo),_(ne),_(nt),_(Xe),_(Ye),_(me),_(Lt),_(ce),_(gt),_(rt),_(mt))}}static{this.\u0275cmp=K({type:n,selectors:[["sts-fwc-dashboard-main"]],viewQuery:function(t,r){if(t&1&&(he(mu,5),he(uu,5)),t&2){let s;ae(s=le())&&(r.fwcVPNMeshWizardPanel=s.first),ae(s=le())&&(r.dashboardSplitter=s.first)}},features:[He([we])],decls:28,vars:20,consts:[["fwcItemBatchPanelComponent",""],[1,"divFwcHeader"],[1,"col-12","grid-nogutter",2,"display","flex","align-items","center"],[1,"col-1"],["src","assets/img/fwc-logo-simple.png",1,"imgLogoMenu"],[1,"col-11"],["styleClass","fwcMenubar",3,"model","ngStyle"],["pButton","",1,"p-button-secondary",2,"padding","0.429rem 1rem",3,"click","icon"],[1,"fwcSepShort"],["pButton","","icon","pi pi-question-circle fwcBlue",1,"p-button-secondary",3,"click","label"],["pButton","","icon","pi pi-info-circle fwcBlue",1,"p-button-secondary",3,"click","label"],["pButton","","icon","pi pi-sign-out",3,"click","label"],[1,"col-12","grid","grid-nogutter","divSubHeader"],[3,"blocked"],[1,"divCenterHV"],[1,"divBgBlock"],[1,"fwcBlue","spanBlock"],[1,"fwcMenuIcon","fwci-policy","fwcOrange"],[1,"spanSep"],["pButton","","icon","fwci-compileallfirewalls fwcBlue",1,"p-button-secondary",3,"click","label","disabled"],["pButton","","icon","fwci-installallfirewalls fwcBlue",1,"p-button-secondary",3,"click","label","disabled"],["pButton","","icon","fwci2-moveup fwcBlue",1,"p-button-secondary",3,"click","label","disabled"],[1,"fwcMenuIcon","fwci-vpn","fwcOrange"],[1,"divFlexContainer"],[1,"divMainBox"],[1,"divContentBox"],[1,"grid"],[1,"col-12","fwc-centered"],["src","assets/img/under_maintenance.png","height","180","width","auto","alt",""]],template:function(t,r){if(t&1){let s=R();p(0,"div",1)(1,"div",2)(2,"div",3),S(3,"img",4),m(),p(4,"div",5)(5,"p-menubar",6)(6,"button",7),D("click",function(){return M(s),A(r.setLockInfoMessage())}),m(),S(7,"span",8),p(8,"button",7),D("click",function(){return M(s),A(r.toggleInfoTooltip())}),m(),S(9,"span",8),p(10,"button",9),y(11,"translate"),D("click",function(){return M(s),A(r.onShowHelp())}),m(),S(12,"span",8),p(13,"button",10),y(14,"translate"),D("click",function(){return M(s),A(r.onShowAbout())}),m(),S(15,"span",8),p(16,"button",11),y(17,"translate"),D("click",function(){return M(s),A(r.onLogout())}),m()()()(),T(18,hu,13,15,"div",12)(19,gu,6,3,"div",12),m(),p(20,"div"),S(21,"router-outlet"),m(),p(22,"p-blockUI",13)(23,"div",14),S(24,"p-progressSpinner"),m()(),T(25,_u,14,6,"div",15),S(26,"sts-fwc-item-batch-manager-panel",null,0)}t&2&&(f("@fundidoIn",void 0),d(5),f("model",r.fwcMenuItems)("ngStyle",ze(19,fu)),d(),f("icon",r.fwcUserLock?"fa fa-lock fwcGreen":"fa fa-unlock fwcRed"),d(2),f("icon",r.isInfoTooltipEnabled()?"fa fa-info-circle fwcOrange":"fa fa-info-circle fwcBlack"),d(2),f("label",I(11,13,"DASHBOARD.MSG_DASH_MENUBAR.MENU_0")),d(3),f("label",I(14,15,"DASHBOARD.MSG_DASH_MENUBAR.MENU_1")),d(3),f("label",I(17,17,"DASHBOARD.MSG_DASH_MENUBAR.MENU_2")),d(2),N(r._router!=null&&r._router.url.includes("policy")?18:-1),d(),N(r._router!=null&&r._router.url.includes("vpn")?19:-1),d(),f("@fundidoIn",void 0),d(2),f("blocked",r.loading),d(3),N(r.connectionLost?25:-1))},dependencies:[Te,Ua,ge,et,ht,St,Gl,de],styles:[`.divFwcHeader,.fwcMenubar,.divSubHeader,.divSubHeader button,.p-menubar-end button{font-family:Montserrat,sans-serif!important;font-size:.9rem!important}.divFwcHeader .col-12{padding:0;padding-top:.2rem;padding-left:.2rem}div>div:nth-child(1)>div>div.col-1{width:19%;float:left;padding:.95rem;align-items:center;align-content:center}.p-button-secondary:hover{border:1px solid transparent!important}#CLOUD_MENU>p-menubarsub>ul{font-family:Montserrat,sans-serif}.divSubHeader{padding-bottom:.1rem!important}.divSubHeader .p-button{font-size:.9rem!important}.p-menuitem-link-active{font-weight:700!important;background-image:linear-gradient(0deg,var(--fwcPaleBlue) 0,var(--fwcPaleBlue) 6%,transparent 6%)!important}#CLOUD_MENU>div>a>angledownicon>svg{color:var(--fwcBlue)}
`],encapsulation:2,data:{animation:[fi]}})}}return n})();var Su=[{path:"fwcdashboard",component:Hl,canActivate:[oi],children:[{path:"policy",loadChildren:()=>import("./chunk-VBWF2JSQ.js").then(n=>n.FwcPolicyModule)},{path:"vpn",loadChildren:()=>import("./chunk-SPPUHIYY.js").then(n=>n.FwcVpnModule)},{path:"status",loadChildren:()=>import("./chunk-QWIOBSYN.js").then(n=>n.FwcStatusModule)}]}],zl=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=ie({type:n})}static{this.\u0275inj=te({imports:[Ce.forChild(Su),Ce]})}}return n})();var Kl=(()=>{class n{constructor(e,t,r,s,o){this.fwcPolicyService=e,this.fwcUserService=t,this.utilService=r,this.translate=s,this.store=o}static{this.\u0275fac=function(t){return new(t||n)(B(ci),B(se),B(me),B(ne),B(gt))}}static{this.\u0275prov=fe({token:n,factory:n.\u0275fac})}}return n})();var Zl=["container"],wu=n=>[n,"p-toast-message"],vu=(n,i,e,t)=>({showTransformParams:n,hideTransformParams:i,showTransitionParams:e,hideTransitionParams:t}),Cu=n=>({value:"visible",params:n}),yu=(n,i)=>({$implicit:n,closeFn:i}),Iu=n=>({$implicit:n});function bu(n,i){n&1&&Kt(0)}function Eu(n,i){if(n&1&&(Be(0),T(1,bu,1,0,"ng-container",4),Ve()),n&2){let e=g();d(),f("ngTemplateOutlet",e.headlessTemplate)("ngTemplateOutletContext",Mt(2,yu,e.message,e.onCloseIconClick))}}function Tu(n,i){if(n&1&&S(0,"span"),n&2){let e=g(3);je("p-toast-message-icon pi "+e.message.icon)}}function Mu(n,i){n&1&&S(0,"CheckIcon"),n&2&&j("aria-hidden",!0)("data-pc-section","icon")}function Au(n,i){n&1&&S(0,"InfoCircleIcon"),n&2&&j("aria-hidden",!0)("data-pc-section","icon")}function Ou(n,i){n&1&&S(0,"TimesCircleIcon"),n&2&&j("aria-hidden",!0)("data-pc-section","icon")}function Du(n,i){n&1&&S(0,"ExclamationTriangleIcon"),n&2&&j("aria-hidden",!0)("data-pc-section","icon")}function xu(n,i){if(n&1&&(p(0,"span",13),Be(1),T(2,Mu,1,2,"CheckIcon",6)(3,Au,1,2,"InfoCircleIcon",6)(4,Ou,1,2,"TimesCircleIcon",6)(5,Du,1,2,"ExclamationTriangleIcon",6),Ve(),m()),n&2){let e=g(3);j("aria-hidden",!0)("data-pc-section","icon"),d(2),f("ngIf",e.message.severity==="success"),d(),f("ngIf",e.message.severity==="info"),d(),f("ngIf",e.message.severity==="error"),d(),f("ngIf",e.message.severity==="warn")}}function Lu(n,i){if(n&1&&(Be(0),T(1,Tu,1,2,"span",8)(2,xu,6,6,"span",9),p(3,"div",10)(4,"div",11),E(5),m(),p(6,"div",12),E(7),m()(),Ve()),n&2){let e=g(2);d(),f("ngIf",e.message.icon),d(),f("ngIf",!e.message.icon),d(),j("data-pc-section","text"),d(),j("data-pc-section","summary"),d(),H(e.message.summary),d(),j("data-pc-section","detail"),d(),H(e.message.detail)}}function Pu(n,i){n&1&&Kt(0)}function Ru(n,i){if(n&1&&S(0,"span"),n&2){let e=g(3);je("pt-1 text-base p-toast-message-icon pi "+e.message.closeIcon)}}function Nu(n,i){n&1&&S(0,"TimesIcon",16),n&2&&(f("styleClass","p-toast-icon-close-icon"),j("aria-hidden",!0)("data-pc-section","closeicon"))}function Fu(n,i){if(n&1){let e=R();p(0,"button",14),D("click",function(r){M(e);let s=g(2);return A(s.onCloseIconClick(r))})("keydown.enter",function(r){M(e);let s=g(2);return A(s.onCloseIconClick(r))}),T(1,Ru,1,2,"span",8)(2,Nu,1,3,"TimesIcon",15),m()}if(n&2){let e=g(2);j("aria-label",e.closeAriaLabel)("data-pc-section","closebutton"),d(),f("ngIf",e.message.closeIcon),d(),f("ngIf",!e.message.closeIcon)}}function ku(n,i){if(n&1&&(p(0,"div",5),T(1,Lu,8,7,"ng-container",6)(2,Pu,1,0,"ng-container",4)(3,Fu,3,4,"button",7),m()),n&2){let e=g();f("ngClass",e.message==null?null:e.message.contentStyleClass),j("data-pc-section","content"),d(),f("ngIf",!e.template),d(),f("ngTemplateOutlet",e.template)("ngTemplateOutletContext",Ee(6,Iu,e.message)),d(),f("ngIf",(e.message==null?null:e.message.closable)!==!1)}}function Bu(n,i){if(n&1){let e=R();p(0,"p-toastItem",3),D("onClose",function(r){M(e);let s=g();return A(s.onMessageClose(r))})("@toastAnimation.start",function(r){M(e);let s=g();return A(s.onAnimationStart(r))})("@toastAnimation.done",function(r){M(e);let s=g();return A(s.onAnimationEnd(r))}),m()}if(n&2){let e=i.$implicit,t=i.index,r=g();f("message",e)("index",t)("life",r.life)("template",r.template)("headlessTemplate",r.headlessTemplate)("@toastAnimation",void 0)("showTransformOptions",r.showTransformOptions)("hideTransformOptions",r.hideTransformOptions)("showTransitionOptions",r.showTransitionOptions)("hideTransitionOptions",r.hideTransitionOptions)}}var Vu=(()=>{class n{zone;config;message;index;life;template;headlessTemplate;showTransformOptions;hideTransformOptions;showTransitionOptions;hideTransitionOptions;onClose=new ke;containerViewChild;timeout;constructor(e,t){this.zone=e,this.config=t}ngAfterViewInit(){this.initTimeout()}initTimeout(){this.message?.sticky||this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>{this.onClose.emit({index:this.index,message:this.message})},this.message?.life||this.life||3e3)})}clearTimeout(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}onMouseEnter(){this.clearTimeout()}onMouseLeave(){this.initTimeout()}onCloseIconClick=e=>{this.clearTimeout(),this.onClose.emit({index:this.index,message:this.message}),e.preventDefault()};get closeAriaLabel(){return this.config.translation.aria?this.config.translation.aria.close:void 0}ngOnDestroy(){this.clearTimeout()}static \u0275fac=function(t){return new(t||n)(_(pt),_(Ei))};static \u0275cmp=K({type:n,selectors:[["p-toastItem"]],viewQuery:function(t,r){if(t&1&&he(Zl,5),t&2){let s;ae(s=le())&&(r.containerViewChild=s.first)}},hostAttrs:[1,"p-element"],inputs:{message:"message",index:[2,"index","index",Ke],life:[2,"life","life",Ke],template:"template",headlessTemplate:"headlessTemplate",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onClose:"onClose"},features:[zt],decls:5,vars:18,consts:[["container",""],["notHeadless",""],["role","alert","aria-live","assertive","aria-atomic","true",3,"mouseenter","mouseleave","ngClass"],[4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-toast-message-content",3,"ngClass"],[4,"ngIf"],["type","button","class","p-toast-icon-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],[3,"class",4,"ngIf"],["class","p-toast-message-icon",4,"ngIf"],[1,"p-toast-message-text"],[1,"p-toast-summary"],[1,"p-toast-detail"],[1,"p-toast-message-icon"],["type","button","pRipple","",1,"p-toast-icon-close","p-link",3,"click","keydown.enter"],[3,"styleClass",4,"ngIf"],[3,"styleClass"]],template:function(t,r){if(t&1){let s=R();p(0,"div",2,0),D("mouseenter",function(){return M(s),A(r.onMouseEnter())})("mouseleave",function(){return M(s),A(r.onMouseLeave())}),T(2,Eu,2,5,"ng-container",3)(3,ku,4,8,"ng-template",null,1,qt),m()}if(t&2){let s=Se(4);je(r.message==null?null:r.message.styleClass),f("ngClass",Ee(9,wu,"p-toast-message-"+(r.message==null?null:r.message.severity)))("@messageState",Ee(16,Cu,lo(11,vu,r.showTransformOptions,r.hideTransformOptions,r.showTransitionOptions,r.hideTransitionOptions))),j("id",r.message==null?null:r.message.id)("data-pc-name","toast")("data-pc-section","root"),d(2),f("ngIf",r.headlessTemplate)("ngIfElse",s)}},dependencies:()=>[ve,At,Ot,hn,Sr,vr,Cr,wr,_r],encapsulation:2,data:{animation:[cr("messageState",[Co("visible",Dt({transform:"translateY(0)",opacity:1})),qi("void => *",[Dt({transform:"{{showTransformParams}}",opacity:0}),dr("{{showTransitionParams}}")]),qi("* => void",[dr("{{hideTransitionParams}}",Dt({height:0,opacity:0,transform:"{{hideTransformParams}}"}))])])]},changeDetection:0})}return n})(),$l=(()=>{class n{document;renderer;messageService;cd;config;key;autoZIndex=!0;baseZIndex=0;life=3e3;style;styleClass;get position(){return this._position}set position(e){this._position=e,this.cd.markForCheck()}preventOpenDuplicates=!1;preventDuplicates=!1;showTransformOptions="translateY(100%)";hideTransformOptions="translateY(-100%)";showTransitionOptions="300ms ease-out";hideTransitionOptions="250ms ease-in";breakpoints;onClose=new ke;containerViewChild;templates;messageSubscription;clearSubscription;messages;messagesArchieve;template;headlessTemplate;_position="top-right";constructor(e,t,r,s,o){this.document=e,this.renderer=t,this.messageService=r,this.cd=s,this.config=o}styleElement;id=fn();ngOnInit(){this.messageSubscription=this.messageService.messageObserver.subscribe(e=>{if(e)if(Array.isArray(e)){let t=e.filter(r=>this.canAdd(r));this.add(t)}else this.canAdd(e)&&this.add([e])}),this.clearSubscription=this.messageService.clearObserver.subscribe(e=>{e?this.key===e&&(this.messages=null):this.messages=null,this.cd.markForCheck()})}ngAfterViewInit(){this.breakpoints&&this.createStyle()}add(e){this.messages=this.messages?[...this.messages,...e]:[...e],this.preventDuplicates&&(this.messagesArchieve=this.messagesArchieve?[...this.messagesArchieve,...e]:[...e]),this.cd.markForCheck()}canAdd(e){let t=this.key===e.key;return t&&this.preventOpenDuplicates&&(t=!this.containsMessage(this.messages,e)),t&&this.preventDuplicates&&(t=!this.containsMessage(this.messagesArchieve,e)),t}containsMessage(e,t){return e?e.find(r=>r.summary===t.summary&&r.detail==t.detail&&r.severity===t.severity)!=null:!1}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"message":this.template=e.template;break;case"headless":this.headlessTemplate=e.template;break;default:this.template=e.template;break}})}onMessageClose(e){this.messages?.splice(e.index,1),this.onClose.emit({message:e.message}),this.cd.detectChanges()}onAnimationStart(e){e.fromState==="void"&&(this.renderer.setAttribute(this.containerViewChild?.nativeElement,this.id,""),this.autoZIndex&&this.containerViewChild?.nativeElement.style.zIndex===""&&Nt.set("modal",this.containerViewChild?.nativeElement,this.baseZIndex||this.config.zIndex.modal))}onAnimationEnd(e){e.toState==="void"&&this.autoZIndex&&pe.isEmpty(this.messages)&&Nt.clear(this.containerViewChild?.nativeElement)}createStyle(){if(!this.styleElement){this.styleElement=this.renderer.createElement("style"),this.styleElement.type="text/css",Ie.setAttribute(this.styleElement,"nonce",this.config?.csp()?.nonce),this.renderer.appendChild(this.document.head,this.styleElement);let e="";for(let t in this.breakpoints){let r="";for(let s in this.breakpoints[t])r+=s+":"+this.breakpoints[t][s]+" !important;";e+=`
                    @media screen and (max-width: ${t}) {
                        .p-toast[${this.id}] {
                           ${r}
                        }
                    }
                `}this.renderer.setProperty(this.styleElement,"innerHTML",e)}}destroyStyle(){this.styleElement&&(this.renderer.removeChild(this.document.head,this.styleElement),this.styleElement=null)}ngOnDestroy(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.containerViewChild&&this.autoZIndex&&Nt.clear(this.containerViewChild.nativeElement),this.clearSubscription&&this.clearSubscription.unsubscribe(),this.destroyStyle()}static \u0275fac=function(t){return new(t||n)(_(mt),_(nt),_(Xe),_(rt),_(Ei))};static \u0275cmp=K({type:n,selectors:[["p-toast"]],contentQueries:function(t,r,s){if(t&1&&Ki(s,Je,4),t&2){let o;ae(o=le())&&(r.templates=o)}},viewQuery:function(t,r){if(t&1&&he(Zl,5),t&2){let s;ae(s=le())&&(r.containerViewChild=s.first)}},hostAttrs:[1,"p-element"],inputs:{key:"key",autoZIndex:[2,"autoZIndex","autoZIndex",xe],baseZIndex:[2,"baseZIndex","baseZIndex",Ke],life:[2,"life","life",Ke],style:"style",styleClass:"styleClass",position:"position",preventOpenDuplicates:[2,"preventOpenDuplicates","preventOpenDuplicates",xe],preventDuplicates:[2,"preventDuplicates","preventDuplicates",xe],showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",breakpoints:"breakpoints"},outputs:{onClose:"onClose"},features:[zt],decls:3,vars:5,consts:[["container",""],[1,"p-toast","p-component",3,"ngClass","ngStyle"],[3,"message","index","life","template","headlessTemplate","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose",4,"ngFor","ngForOf"],[3,"onClose","message","index","life","template","headlessTemplate","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions"]],template:function(t,r){t&1&&(p(0,"div",1,0),T(2,Bu,1,10,"p-toastItem",2),m()),t&2&&(je(r.styleClass),f("ngClass","p-toast-"+r._position)("ngStyle",r.style),d(2),f("ngForOf",r.messages))},dependencies:[ve,Zi,Te,Vu],styles:[`@layer primeng{.p-toast{position:fixed;width:25rem}.p-toast-message{overflow:hidden}.p-toast-message-content{display:flex;align-items:flex-start}.p-toast-message-text{flex:1 1 auto}.p-toast-top-right{top:20px;right:20px}.p-toast-top-left{top:20px;left:20px}.p-toast-bottom-left{bottom:20px;left:20px}.p-toast-bottom-right{bottom:20px;right:20px}.p-toast-top-center{top:20px;left:50%;transform:translate(-50%)}.p-toast-bottom-center{bottom:20px;left:50%;transform:translate(-50%)}.p-toast-center{left:50%;top:50%;min-width:20vw;transform:translate(-50%,-50%)}.p-toast-icon-close{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative;flex:none}.p-toast-icon-close.p-link{cursor:pointer}}
`],encapsulation:2,data:{animation:[cr("toastAnimation",[qi(":enter, :leave",[Io("@*",yo())])])]},changeDetection:0})}return n})(),Qn=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=ie({type:n});static \u0275inj=te({imports:[Le,gn,Sr,vr,Cr,wr,_r,Ti]})}return n})();var Ql=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=ie({type:n})}static{this.\u0275inj=te({providers:[Kl],imports:[Le,Qe.forChild(),tt,Zn,zl,za,Wl,bn,_t,ui,pa,yn,fa,Sa,Ia,Qn]})}}return n})();var ql=(()=>{class n{constructor(e,t,r,s,o,a){this.fwcUserService=e,this._router=t,this.confirmationService=r,this.fwcAuthService=s,this.utilService=o,this.translate=a}intercept(e,t){let r=this.fwcUserService.getActualFwcUser(),s="",o=!1,a,l;e.headers.has("X-FWC-TIMEOUT")&&(l=Number.parseInt(e.headers.get("X-FWC-TIMEOUT"))),e.headers.has("Content-Type")&&(a=e.headers.get("Content-Type")),e.body instanceof FormData||(a="application/json"),r&&(r.confirmationToken?s=r.confirmationToken:s="",o=r.withCredentials);let c={withCredentials:o},h=new uo;a&&(h=h.append("Content-Type",a)),s&&(h=h.append("X-FWC-CONFIRM-TOKEN",s)),l&&(h=h.append("timeout",`${l}`)),h.keys().length&&(c.headers=h);let u=e.clone(c);return t.handle(u).pipe(Fe(v=>(v instanceof fo,v)),Ht(v=>{let b=v.error;return v.status===503?(this.fwcAuthService.setAppUnderMaintenance(!0),this.utilService.doAppLogout(),this._router.navigate(["undermaintenance"]),Vi({})):b&&(b.fwcErr==1009||b.fwcErr==1010)?(this.confirmationService.confirm({header:this.translate.instant("GLOBALS.ERRORS.SESSION_HEADER"),icon:"pi pi-exclamation-triangle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:this.translate.instant("GLOBALS.ERRORS.SESSION_TEXT"),accept:()=>{this.utilService.doAppLogout(),this._router.navigate(["user","login"])},reject:()=>{this.utilService.doAppLogout(),this._router.navigate(["user","login"])}}),Vi({})):Vi(v)}))}static{this.\u0275fac=function(t){return new(t||n)(B(se),B(ce),B(Ye),B(ye),B(me),B(ne))}}static{this.\u0275prov=fe({token:n,factory:n.\u0275fac})}}return n})();var Yl=(()=>{class n{constructor(e){this._router=e}ngOnInit(){localStorage.getItem(Ii.LS_RELOAD_APP)&&(localStorage.removeItem(Ii.LS_RELOAD_APP),location.reload()),this._router.navigate(["/user/login"])}static{this.\u0275fac=function(t){return new(t||n)(_(ce))}}static{this.\u0275cmp=K({type:n,selectors:[["sts-fwc-main"]],decls:0,vars:0,template:function(t,r){}})}}return n})();var Xl=(()=>{class n{constructor(e){this.translate=e}ngOnInit(){}static{this.\u0275fac=function(t){return new(t||n)(_(ne))}}static{this.\u0275cmp=K({type:n,selectors:[["sts-fwc-appblocker"]],decls:13,vars:9,consts:[[1,"divMaintenanceMode"],[1,"divMaintenanceMode--main"],["src","assets/img/under_maintenance.png","height","250","width","auto","alt",""],["routerLink","/user/login"],[1,"fa","fa-angle-left"]],template:function(t,r){t&1&&(p(0,"div",0)(1,"div",1),S(2,"img",2),p(3,"h1"),E(4),y(5,"translate"),m(),p(6,"p"),E(7),y(8,"translate"),m(),p(9,"a",3),S(10,"i",4),E(11),y(12,"translate"),m()()()),t&2&&(d(4),H(I(5,3,"BLOCK_PAGE.TITLE")),d(3),H(I(8,5,"BLOCK_PAGE.TEXT")),d(4),Z(" ",I(12,7,"BLOCK_PAGE.BTN_BACK"),""))},dependencies:[si,de]})}}return n})();var Gu=[{path:"",component:Yl},{path:"undermaintenance",canActivate:[dn],component:Xl},{path:"**",pathMatch:"full",redirectTo:""}],Jl=Ce.forRoot(Gu);var Wu=["application"];function ju(n,i){n&1&&S(0,"span",11)}function Hu(n,i){n&1&&S(0,"span",12)}function zu(n,i){if(n&1&&(E(0),y(1,"translate"),p(2,"p"),E(3),y(4,"translate"),p(5,"strong"),E(6),m()(),p(7,"p"),E(8),y(9,"fwcError"),m()),n&2){let e=g().$implicit;Z(" ",I(1,4,"GLOBALS.ERRORS.ERROR_OCCURRED")," "),d(3),Z(" ",I(4,6,"GLOBALS.ERRORS.ERROR_CODE")," "),d(3),H(e.data.fwcErr),d(2),Z(" ",I(9,8,e.data)," ")}}function Ku(n,i){if(n&1){let e=R();p(0,"button",18),y(1,"translate"),D("click",function(){M(e);let r=g(3);return A(r.onForceUnlock())}),m()}n&2&&Y("label",I(1,1,"GLOBALS.LOCK_STATUS.FORCE_UNLOCK.BUTTON"))}function Zu(n,i){if(n&1&&(S(0,"p",15),p(1,"div",16),T(2,Ku,2,3,"button",17),m()),n&2){let e=g().$implicit;f("innerHTML",e.detail,Tt),d(2),f("ngIf",e.data==null?null:e.data.showUnlock)}}function $u(n,i){if(n&1&&(T(0,ju,1,0,"span",11)(1,Hu,1,0,"span",12),p(2,"div",13)(3,"div",14),E(4),m(),T(5,zu,10,10)(6,Zu,3,2),m()),n&2){let e=i.$implicit;N(e.severity==="error"?0:-1),d(),N(e.severity==="success"?1:-1),d(3),Z(" ",e.summary," "),d(),N(e.data!=null&&e.data.msg?5:6)}}function Qu(n,i){if(n&1){let e=R();p(0,"button",19),y(1,"translate"),D("click",function(){M(e),g();let r=Se(8);return A(r.reject())}),m(),p(2,"button",20),D("click",function(){M(e),g();let r=Se(8);return A(r.accept())}),m()}n&2&&Y("label",I(1,1,"COMPILE.PAUSE"))}var ec=(()=>{class n{constructor(e,t,r,s,o,a,l,c,h,u){this.refService=e,this.fwcUserService=t,this.translate=r,this.itemSelectedService=s,this.fwcContextMenuService=o,this.utilService=a,this.fwcAuthService=l,this.fwcConfigService=c,this.store=h,this.renderer=u,this.fwcMessages=[],this.loading=!1,this.alive=!0;let v=this.fwcUserService.getActualFwcUser().selectedLanguage||"en";this.translate.setDefaultLang(v);let b=this.fwcAuthService.getLanguage();b&&(v=b),this.translate.use(v).subscribe(()=>{this.fwcContextMenuService.buildMenus()}),this.fwcAuthService.initializeAuth(),this.fwcAuthService.isLogged()&&this.utilService.ioConnect()}ngOnInit(){this.loadStyle("assets/themes/fwc-light.css"),this.store.pipe(un(zo),Us(),Vs(1)).subscribe(t=>{this.loading=t}),localStorage.getItem(Ii.LS_UI_THEME)==="dark"?this.store.dispatch(st.setTheme({theme:"dark"})):this.store.dispatch(st.setTheme({theme:"light"})),window.addEventListener("dragover",t=>{t&&t.preventDefault()},!1),window.addEventListener("drop",t=>{t&&t.preventDefault()},!1),window.addEventListener("contextmenu",t=>{t&&t.preventDefault()},!1)}ngAfterViewInit(){this.refService.setAppRef(this.applicationRef)}loadStyle(e){let t=this.renderer.selectRootElement("head",!0),r=this.renderer.createElement("link");r.id="fwcTheme",r.rel="stylesheet",r.href=e,this.renderer.appendChild(t,r)}onForceUnlock(){window.dispatchEvent(new CustomEvent("fwcUnlockRequested"))}static{this.\u0275fac=function(t){return new(t||n)(_(ln),_(se),_(ne),_(ot),_(ai),_(me),_(ye),_(ut),_(gt),_(nt))}}static{this.\u0275cmp=K({type:n,selectors:[["app-root"]],viewQuery:function(t,r){if(t&1&&he(Wu,5,Ys),t&2){let s;ae(s=le())&&(r.applicationRef=s.first)}},decls:21,vars:10,consts:[["cdFw",""],["application",""],["fwcBlockUiPanelComponent",""],["key","fwcToastMsgs","baseZIndex","2000","styleClass","toastFwc"],["pTemplate","message"],["icon","fa fa-question-circle","acceptButtonStyleClass","p-button-primary","rejectButtonStyleClass","p-button-secondary",3,"header"],["icon","pi pi-exclamation-triangle fwcRed iconBig","key","cdErrorFw",3,"header","closable","closeOnEscape","rejectVisible"],["pTemplate","footer"],[1,"fwcDivMain"],[3,"blocked"],[1,"divCenterHV"],[1,"p-toast-icon","pi","pi-times"],[1,"p-toast-icon","pi","pi-check"],[1,"p-toast-message-text-content",2,"width","100%","justify-content","space-between"],[1,"p-toast-summary"],[3,"innerHTML"],[2,"display","flex","justify-content","end","margin-top","0.5rem"],["type","button","pButton","","class","p-button-danger",3,"label","click",4,"ngIf"],["type","button","pButton","",1,"p-button-danger",3,"click","label"],["type","button","pButton","","icon","fa fa-pause",1,"p-button-warning",3,"click","label"],["type","button","pButton","","icon","pi pi-check","label","Ok",1,"p-button-primary",3,"click"]],template:function(t,r){t&1&&(p(0,"p-toast",3),T(1,$u,7,4,"ng-template",4),m(),S(2,"p-confirmDialog",5),y(3,"translate"),S(4,"sts-fwc-hint")(5,"sts-fwc-dashboard-help")(6,"sts-fwc-input-panel"),p(7,"p-confirmDialog",6,0),y(9,"translate"),T(10,Qu,3,3,"ng-template",7),m(),p(11,"div",8,1),S(13,"router-outlet"),m(),S(14,"sts-fwc-docs-panel"),p(15,"p-blockUI",9)(16,"div",10),S(17,"p-progressSpinner"),m()(),S(18,"sts-fwc-block-ui-panel",null,2)(20,"sts-fwc-panel-dock")),t&2&&(d(2),Y("header",I(3,6,"GLOBALS.MSG_CONFIRM")),d(5),Y("header",I(9,8,"COMPILE.INST_SSH_ERROR")),f("closable",!1)("closeOnEscape",!1)("rejectVisible",!1),d(8),f("blocked",r.loading))},dependencies:[At,xa,La,Pa,Fa,Ba,Wa,Je,ca,ge,et,ht,St,$l,Ue,de],styles:[`:root{--lightColor: #eee;--darkColor: #222;--inputBackgroundColor: #eee;--inputBorderColor: #cacaca;--inputColor: #222;--surfaceBackgroundColor: white;--fixedWhiteColor: #eee;--fixedDarkColor: #333;--translucidColor: transparent;--menuBackground: url(/assets/img/fwc-fondo-menu.jpg);--mainBackground: url(/assets/img/fwc-fondo-home.jpg);--fwcBlue: #0069a7;--fwcBlueDarkened: #005e96;--fwcDarkBlue: #003351;--fwcDarkBlue2: #014071;--fwcLightBlue: #1779ba;--fwcPaleBlue: #689fe1;--fwcPaleBlue2: #cce2f8;--fwcPaleBlue3: #e6f1fd;--fwcBlueGradient1: #386ea0;--fwcBlueGradient2: #21517e;--fwcLightGreyGradient1: #f6f7f9;--fwcLightGreyGradient2: #ebedf0;--fwcOrange: #eb6400;--fwcPaleOrange: #e67e22;--fwcPaleOrange2: #ffcfa4;--fwcPaleOrange3: #fe7815;--fwcOrangeRed: #e74c3c;--fwcRed: #f00;--fwcRed2: #b40b00;--fwcPaleRed: #f77676;--fwcPaleRed2: #ffe1e1;--fwcTranslucidRed: rgba(255, 0, 0, .15);--fwcDarkGreen: #023008;--fwcGreen: #009900;--fwcLightGreen: #28ff28;--fwcPaleGreen: #c7e6c8;--fwcLime: #baf649;--fwcWhite: #eee;--fwcPaleWhite: #f5f5f5;--fwcPaleWhite2: #f4f4f4;--fwcDark: #222;--fwcLightDark: #1e1e1e;--fwcMidDark: #555;--fwcMidDark2: #333;--fwcPaleDark: #888;--fwcPaleDark2: #383838;--fwcGrey: #cacaca;--fwcGrey2: #cecece;--fwcGrey3: #eee;--fwcGrey4: #e5e5e5;--fwcGrey5: #c8c8c8;--fwcGrey6: #efefef;--fwcGrey7: #dedede;--fwcAccent: #ff4081;--fwcShadow: #bbb;--fwcSelected: #ddd;--fwcSelectedB: #0069a7;--fwcRulePink: #ef9a9a;--fwcRulePurple: #ce93d8;--fwcRuleBlue: #90caf9;--fwcRuleTeal: #80cbc4;--fwcRuleGreen: #a5d6a7;--fwcRuleYellow: #fff59d;--fwcRuleOrange: #ffcc80}.footer{border-top:1px solid var(--fwcGrey2);background:var(--fwcPaleWhite);-webkit-box-shadow:10px 10px 39px 0px rgba(0,0,0,.45);-moz-box-shadow:10px 10px 39px 0px rgba(0,0,0,.45);box-shadow:10px 10px 39px #00000073}div.fwcDivMain{width:100vw;height:100vh;margin:0;overflow:hidden!important;box-sizing:border-box}body>app-root>p-confirmdialog.p-element.ng-tns-c3962434685-1>div>div{min-width:40rem;font-family:Montserrat,Arial,sans-serif!important;font-size:.9rem!important;background-color:#f4f4f4!important;color:#333!important}body>app-root>p-confirmdialog.p-element.ng-tns-c3962434685-1>div>div>div.p-dialog-header.ng-tns-c3962434685-1.ng-star-inserted{padding:.5rem!important;background-color:var(--fwcPaleWhite);color:var(--fwcDark)}body>app-root>p-confirmdialog.p-element.ng-tns-c3962434685-1>div>div>div.p-dialog-content.ng-tns-c3962434685-1.ng-star-inserted{display:flex;align-items:normal!important;min-width:100%}body .p-overlaypanel:before{border-width:10px;border-style:solid;border-color:transparent;border-bottom-color:var(--surfaceBackgroundColor);content:"";position:absolute;top:-20px;left:20px;margin-left:-10px;z-index:1}body .p-overlaypanel:after{border-width:11px;border-style:solid;border-color:transparent;border-bottom-color:var(--fwcGrey7);content:"";position:absolute;top:-22px;left:20px;margin-left:-11px;z-index:0}
`],encapsulation:2})}}return n})();var qn=class{_handler;_resourcesPrefix;constructor(i,e){this._handler=i,this._resourcesPrefix=e}getTranslation(i){let e=this._resourcesPrefix.map(t=>{let r;return typeof t=="string"?r=`${t}${i}.json`:r=`${t.prefix}${i}${t.suffix||".json"}`,new $i(this._handler).get(r).pipe(Ht(s=>(typeof t!="string"&&!t.optional&&(console.group(),console.error("Something went wrong for the following translation file:",r),console.error(s),console.groupEnd()),vi({}))))});return Ps(e).pipe(Fe(t=>t.reduce((r,s)=>this.mergeDeep(r,s),{})))}isObject(i){return i&&typeof i=="object"&&!Array.isArray(i)}mergeDeep(i,e){let t=Object.assign({},i);return this.isObject(i)?(this.isObject(i)&&this.isObject(e)&&Object.keys(e).forEach(r=>{this.isObject(e[r])?r in i?t[r]=this.mergeDeep(i[r],e[r]):Object.assign(t,{[r]:e[r]}):Object.assign(t,{[r]:e[r]})}),t):this.mergeDeep({},e)}};var ki="PERFORM_ACTION",qu="REFRESH",oc="RESET",ac="ROLLBACK",lc="COMMIT",cc="SWEEP",dc="TOGGLE_ACTION",Yu="SET_ACTIONS_ACTIVE",pc="JUMP_TO_STATE",mc="JUMP_TO_ACTION",ws="IMPORT_STATE",uc="LOCK_CHANGES",fc="PAUSE_RECORDING",wi=class{constructor(i,e){if(this.action=i,this.timestamp=e,this.type=ki,typeof i.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}},as=class{constructor(){this.type=qu}},ls=class{constructor(i){this.timestamp=i,this.type=oc}},cs=class{constructor(i){this.timestamp=i,this.type=ac}},ds=class{constructor(i){this.timestamp=i,this.type=lc}},ps=class{constructor(){this.type=cc}},ms=class{constructor(i){this.id=i,this.type=dc}};var us=class{constructor(i){this.index=i,this.type=pc}},fs=class{constructor(i){this.actionId=i,this.type=mc}},hs=class{constructor(i){this.nextLiftedState=i,this.type=ws}},gs=class{constructor(i){this.status=i,this.type=uc}},_s=class{constructor(i){this.status=i,this.type=fc}};var er=new Ci("@ngrx/store-devtools Options"),tc=new Ci("@ngrx/store-devtools Initial Config");function hc(){return null}var Xu="NgRx Store DevTools";function Ju(n){let i={maxAge:!1,monitor:hc,actionSanitizer:void 0,stateSanitizer:void 0,name:Xu,serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0},connectInZone:!1},e=typeof n=="function"?n():n,t=e.logOnly?{pause:!0,export:!0,test:!0}:!1,r=e.features||t||i.features;r.import===!0&&(r.import="custom");let s=Object.assign({},i,{features:r},e);if(s.maxAge&&s.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${s.maxAge}`);return s}function ic(n,i){return n.filter(e=>i.indexOf(e)<0)}function gc(n){let{computedStates:i,currentStateIndex:e}=n;if(e>=i.length){let{state:r}=i[i.length-1];return r}let{state:t}=i[e];return t}function Fi(n){return new wi(n,+Date.now())}function ef(n,i){return Object.keys(i).reduce((e,t)=>{let r=Number(t);return e[r]=_c(n,i[r],r),e},{})}function _c(n,i,e){return oe(q({},i),{action:n(i.action,e)})}function tf(n,i){return i.map((e,t)=>({state:Sc(n,e.state,t),error:e.error}))}function Sc(n,i,e){return n(i,e)}function wc(n){return n.predicate||n.actionsSafelist||n.actionsBlocklist}function nf(n,i,e,t){let r=[],s={},o=[];return n.stagedActionIds.forEach((a,l)=>{let c=n.actionsById[a];c&&(l&&vs(n.computedStates[l],c,i,e,t)||(s[a]=c,r.push(a),o.push(n.computedStates[l])))}),oe(q({},n),{stagedActionIds:r,actionsById:s,computedStates:o})}function vs(n,i,e,t,r){let s=e&&!e(n,i.action),o=t&&!i.action.type.match(t.map(l=>nc(l)).join("|")),a=r&&i.action.type.match(r.map(l=>nc(l)).join("|"));return s||o||a}function nc(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function vc(n){return{ngZone:n?zs(pt):null,connectInZone:n}}var tr=(()=>{class n extends mn{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Gi(n)))(r||n)}})()}static{this.\u0275prov=fe({token:n,factory:n.\u0275fac})}}return n})(),Yn={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},Ss=new Ci("@ngrx/store-devtools Redux Devtools Extension"),Cc=(()=>{class n{constructor(e,t,r){this.config=t,this.dispatcher=r,this.zoneConfig=vc(this.config.connectInZone),this.devtoolsExtension=e,this.createActionStreams()}notify(e,t){if(this.devtoolsExtension)if(e.type===ki){if(t.isLocked||t.isPaused)return;let r=gc(t);if(wc(this.config)&&vs(r,e,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;let s=this.config.stateSanitizer?Sc(this.config.stateSanitizer,r,t.currentStateIndex):r,o=this.config.actionSanitizer?_c(this.config.actionSanitizer,e,t.nextActionId):e;this.sendToReduxDevtools(()=>this.extensionConnection.send(o,s))}else{let r=oe(q({},t),{stagedActionIds:t.stagedActionIds,actionsById:this.config.actionSanitizer?ef(this.config.actionSanitizer,t.actionsById):t.actionsById,computedStates:this.config.stateSanitizer?tf(this.config.stateSanitizer,t.computedStates):t.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,r,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new rr(e=>{let t=this.zoneConfig.connectInZone?this.zoneConfig.ngZone.runOutsideAngular(()=>this.devtoolsExtension.connect(this.getExtensionConfig(this.config))):this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=t,t.init(),t.subscribe(r=>e.next(r)),t.unsubscribe}):Ds}createActionStreams(){let e=this.createChangesObservable().pipe(Ws()),t=e.pipe(dt(c=>c.type===Yn.START)),r=e.pipe(dt(c=>c.type===Yn.STOP)),s=e.pipe(dt(c=>c.type===Yn.DISPATCH),Fe(c=>this.unwrapAction(c.payload)),Ns(c=>c.type===ws?this.dispatcher.pipe(dt(h=>h.type===hr),Ls(1e3),ks(1e3),Fe(()=>c),Ht(()=>vi(c)),Bs(1)):vi(c))),a=e.pipe(dt(c=>c.type===Yn.ACTION),Fe(c=>this.unwrapAction(c.payload))).pipe(Ui(r)),l=s.pipe(Ui(r));this.start$=t.pipe(Ui(r)),this.actions$=this.start$.pipe(or(()=>a)),this.liftedActions$=this.start$.pipe(or(()=>l))}unwrapAction(e){return typeof e=="string"?(0,eval)(`(${e})`):e}getExtensionConfig(e){let t={name:e.name,features:e.features,serialize:e.serialize,autoPause:e.autoPause??!1,trace:e.trace??!1,traceLimit:e.traceLimit??75};return e.maxAge!==!1&&(t.maxAge=e.maxAge),t}sendToReduxDevtools(e){try{e()}catch(t){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",t)}}static{this.\u0275fac=function(t){return new(t||n)(B(Ss),B(er),B(tr))}}static{this.\u0275prov=fe({token:n,factory:n.\u0275fac})}}return n})(),Jn={type:fr},rf="@ngrx/store-devtools/recompute",sf={type:rf};function yc(n,i,e,t,r){if(t)return{state:e,error:"Interrupted by an error up the chain"};let s=e,o;try{s=n(e,i)}catch(a){o=a.toString(),r.handleError(a)}return{state:s,error:o}}function Xn(n,i,e,t,r,s,o,a,l){if(i>=n.length&&n.length===s.length)return n;let c=n.slice(0,i),h=s.length-(l?1:0);for(let u=i;u<h;u++){let v=s[u],b=r[v].action,w=c[u-1],C=w?w.state:t,F=w?w.error:void 0,z=o.indexOf(v)>-1?w:yc(e,b,C,F,a);c.push(z)}return l&&c.push(n[n.length-1]),c}function of(n,i){return{monitorState:i(void 0,{}),nextActionId:1,actionsById:{0:Fi(Jn)},stagedActionIds:[0],skippedActionIds:[],committedState:n,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function af(n,i,e,t,r={}){return s=>(o,a)=>{let{monitorState:l,actionsById:c,nextActionId:h,stagedActionIds:u,skippedActionIds:v,committedState:b,currentStateIndex:w,computedStates:C,isLocked:F,isPaused:k}=o||i;o||(c=Object.create(c));function z($){let U=$,ee=u.slice(1,U+1);for(let J=0;J<ee.length;J++)if(C[J+1].error){U=J,ee=u.slice(1,U+1);break}else delete c[ee[J]];v=v.filter(J=>ee.indexOf(J)===-1),u=[0,...u.slice(U+1)],b=C[U].state,C=C.slice(U),w=w>U?w-U:0}function X(){c={0:Fi(Jn)},h=1,u=[0],v=[],b=C[w].state,w=0,C=[]}let P=0;switch(a.type){case uc:{F=a.status,P=1/0;break}case fc:{k=a.status,k?(u=[...u,h],c[h]=new wi({type:"@ngrx/devtools/pause"},+Date.now()),h++,P=u.length-1,C=C.concat(C[C.length-1]),w===u.length-2&&w++,P=1/0):X();break}case oc:{c={0:Fi(Jn)},h=1,u=[0],v=[],b=n,w=0,C=[];break}case lc:{X();break}case ac:{c={0:Fi(Jn)},h=1,u=[0],v=[],w=0,C=[];break}case dc:{let{id:$}=a;v.indexOf($)===-1?v=[$,...v]:v=v.filter(ee=>ee!==$),P=u.indexOf($);break}case Yu:{let{start:$,end:U,active:ee}=a,J=[];for(let Ne=$;Ne<U;Ne++)J.push(Ne);ee?v=ic(v,J):v=[...v,...J],P=u.indexOf($);break}case pc:{w=a.index,P=1/0;break}case mc:{let $=u.indexOf(a.actionId);$!==-1&&(w=$),P=1/0;break}case cc:{u=ic(u,v),v=[],w=Math.min(w,u.length-1);break}case ki:{if(F)return o||i;if(k||o&&vs(o.computedStates[w],a,r.predicate,r.actionsSafelist,r.actionsBlocklist)){let U=C[C.length-1];C=[...C.slice(0,-1),yc(s,a.action,U.state,U.error,e)],P=1/0;break}r.maxAge&&u.length===r.maxAge&&z(1),w===u.length-1&&w++;let $=h++;c[$]=a,u=[...u,$],P=u.length-1;break}case ws:{({monitorState:l,actionsById:c,nextActionId:h,stagedActionIds:u,skippedActionIds:v,committedState:b,currentStateIndex:w,computedStates:C,isLocked:F,isPaused:k}=a.nextLiftedState);break}case fr:{P=0,r.maxAge&&u.length>r.maxAge&&(C=Xn(C,P,s,b,c,u,v,e,k),z(u.length-r.maxAge),P=1/0);break}case hr:{if(C.filter(U=>U.error).length>0)P=0,r.maxAge&&u.length>r.maxAge&&(C=Xn(C,P,s,b,c,u,v,e,k),z(u.length-r.maxAge),P=1/0);else{if(!k&&!F){w===u.length-1&&w++;let U=h++;c[U]=new wi(a,+Date.now()),u=[...u,U],P=u.length-1,C=Xn(C,P,s,b,c,u,v,e,k)}C=C.map(U=>oe(q({},U),{state:s(U.state,sf)})),w=u.length-1,r.maxAge&&u.length>r.maxAge&&z(u.length-r.maxAge),P=1/0}break}default:{P=1/0;break}}return C=Xn(C,P,s,b,c,u,v,e,k),l=t(l,a),{monitorState:l,actionsById:c,nextActionId:h,stagedActionIds:u,skippedActionIds:v,committedState:b,currentStateIndex:w,computedStates:C,isLocked:F,isPaused:k}}}var rc=(()=>{class n{constructor(e,t,r,s,o,a,l,c){let h=of(l,c.monitor),u=af(l,h,a,c.monitor,c),v=sr(sr(t.asObservable().pipe(js(1)),s.actions$).pipe(Fe(Fi)),e,s.liftedActions$).pipe(xs(Os)),b=r.pipe(Fe(u)),w=vc(c.connectInZone),C=new As(1);this.liftedStateSubscription=v.pipe(Hs(b),sc(w),Gs(({state:z},[X,P])=>{let $=P(z,X);return X.type!==ki&&wc(c)&&($=nf($,c.predicate,c.actionsSafelist,c.actionsBlocklist)),s.notify(X,$),{state:$,action:X}},{state:h,action:null})).subscribe(({state:z,action:X})=>{if(C.next(z),X.type===ki){let P=X.action;o.next(P)}}),this.extensionStartSubscription=s.start$.pipe(sc(w)).subscribe(()=>{this.refresh()});let F=C.asObservable(),k=F.pipe(Fe(gc));Object.defineProperty(k,"state",{value:Bo(k,{manualCleanup:!0,requireSync:!0})}),this.dispatcher=e,this.liftedState=F,this.state=k}ngOnDestroy(){this.liftedStateSubscription.unsubscribe(),this.extensionStartSubscription.unsubscribe()}dispatch(e){this.dispatcher.next(e)}next(e){this.dispatcher.next(e)}error(e){}complete(){}performAction(e){this.dispatch(new wi(e,+Date.now()))}refresh(){this.dispatch(new as)}reset(){this.dispatch(new ls(+Date.now()))}rollback(){this.dispatch(new cs(+Date.now()))}commit(){this.dispatch(new ds(+Date.now()))}sweep(){this.dispatch(new ps)}toggleAction(e){this.dispatch(new ms(e))}jumpToAction(e){this.dispatch(new fs(e))}jumpToState(e){this.dispatch(new us(e))}importState(e){this.dispatch(new hs(e))}lockChanges(e){this.dispatch(new gs(e))}pauseRecording(e){this.dispatch(new _s(e))}static{this.\u0275fac=function(t){return new(t||n)(B(tr),B(mn),B(Uo),B(Cc),B(Wo),B(Wi),B(Vo),B(er))}}static{this.\u0275prov=fe({token:n,factory:n.\u0275fac})}}return n})();function sc({ngZone:n,connectInZone:i}){return e=>i?new rr(t=>e.subscribe({next:r=>n.run(()=>t.next(r)),error:r=>n.run(()=>t.error(r)),complete:()=>n.run(()=>t.complete())})):e}var lf=new Ci("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function cf(n,i){return!!n||i.monitor!==hc}function df(){let n="__REDUX_DEVTOOLS_EXTENSION__";return typeof window=="object"&&typeof window[n]<"u"?window[n]:null}function pf(n={}){return Ks([Cc,tr,rc,{provide:tc,useValue:n},{provide:lf,deps:[Ss,er],useFactory:cf},{provide:Ss,useFactory:df},{provide:er,deps:[tc],useFactory:Ju},{provide:jo,deps:[rc],useFactory:mf},{provide:Go,useExisting:tr}])}function mf(n){return n.state}var Ic=(()=>{class n{static instrument(e={}){return{ngModule:n,providers:[pf(e)]}}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=ie({type:n})}static{this.\u0275inj=te({})}}return n})();var uf={loadedPolicy:null,policyTypes:[]},ff=li(uf,qe(Jo,(n,i)=>q({},n)),qe(ea,(n,i)=>oe(q({},n),{policyTypes:i.policyTypes})));function bc(n,i){return ff(n,i)}var hf={itemToSelect:null,updateFwStatus:null},gf=li(hf,qe(qo,(n,i)=>oe(q({},n),{itemToSelect:i.item})),qe(Yo,(n,i)=>{let e=[];return Array.isArray(i.item)?e=i.item:e.push(i.item),oe(q({},n),{updateFwStatus:e})}));function Ec(n,i){return gf(n,i)}var _f={blockUi:!1,underMaintenance:!1,theme:"light"},Sf=li(_f,qe(Zo,n=>oe(q({},n),{blockUi:!0})),qe($o,n=>oe(q({},n),{blockUi:!1})),qe(Qo,(n,i)=>oe(q({},n),{theme:i.theme})));function Tc(n,i){return Sf(n,i)}var Mc={ui:Tc,tree:Ec,dialog:ta,policy:bc};var Ac=(()=>{class n{constructor(e){this.zone=e}handleError(e){this.zone.run(()=>{console.error("Error from global error handler",e)})}static{this.\u0275fac=function(t){return new(t||n)(B(pt))}}static{this.\u0275prov=fe({token:n,factory:n.\u0275fac})}}return n})();function wf(n){return new qn(n,[{prefix:"./assets/i18n/app/",suffix:".json"},{prefix:"./assets/i18n/wizards/",suffix:".json"},{prefix:"./assets/i18n/panels/",suffix:".json"}])}var vf,Oc=(()=>{class n{constructor(e){this.injector=e,vf=this.injector}static{this.\u0275fac=function(t){return new(t||n)(B($s))}}static{this.\u0275mod=ie({type:n,bootstrap:[ec]})}static{this.\u0275inj=te({providers:[Rt,ln,Lo,Lt,on,{provide:Wi,useClass:Ac},ot,ra,ci,ia,na,ai,se,pn,Ye,Xe,gr,sa,ut,ko,Ro,Ka,oi,dn,{provide:ho,useClass:ql,multi:!0},go(_o())],imports:[Qi,El,Ga.forRoot({loader:$i}),tt,Ll,Vl,Ql,Jl,Qn,In,Qe.forRoot({loader:{provide:No,useFactory:wf,deps:[mo]}}),Ho.forRoot(Mc,{runtimeChecks:{strictStateImmutability:!0,strictActionImmutability:!0}}),Za.forRoot([$a,Qa]),Ic.instrument({maxAge:25,logOnly:di.production})]})}}return n})();di.name!=="dev"&&void 0;ut.loadConfig().then(()=>{wo().bootstrapModule(Oc)},n=>{console.error(`${n}`)});
