(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{362:function(e,t,a){"use strict";a.r(t);var s=a(42),i=Object(s.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"firewalls"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#firewalls"}},[e._v("#")]),e._v(" Firewalls")]),e._v(" "),a("h2",{attrs:{id:"new-firewall-cluster"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#new-firewall-cluster"}},[e._v("#")]),e._v(" New firewall/Cluster")]),e._v(" "),a("h3",{attrs:{id:"new-firewall"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#new-firewall"}},[e._v("#")]),e._v(" New Firewall")]),e._v(" "),a("p",[e._v("To create a new firewall just right click over the "),a("code",[e._v("Firewalls/clusters")]),e._v(" tree root node and select "),a("code",[e._v("New firewall")]),e._v("from the menu.")]),e._v(" "),a("p",[a("img",{attrs:{src:e.$withBase("/assets/img/new_fw.png"),alt:"New Firewall"}}),a("br")]),e._v(" "),a("p",[e._v("You will presented a form in which you should write the name of your new firewall. Also you can fill in the "),a("code",[e._v("Description")]),e._v(", select the compiler and the "),a("code",[e._v("SSH credentials")]),e._v(".\nIn the current version you can choose from the IPTables and NFTables formats, IPTables format is selected by default.")]),e._v(" "),a("p",[e._v("FWCloud requires SSH access to the firewall for manage it. When FWCloud needs access to this firewall it will use the SSH "),a("code",[e._v("User")]),e._v(" and "),a("code",[e._v("Password")]),e._v(" credentials defined here. If you don't supply these credentials, they will be requested when needed.")]),e._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[e._v("WARNING")]),e._v(" "),a("p",[e._v("For security you can keep the password field blank and the password will be asked every time when needed")])]),e._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("SSH credentials")]),e._v(" "),a("p",[e._v("The SSH credentials sent from FWCloud-UI to FWCloud-API are encrypted using strong PGP public key cryptography with key pairs generated on the fly for each session")])]),e._v(" "),a("p",[a("img",{attrs:{src:e.$withBase("/assets/img/new_fw-form-nftables.png"),alt:"New Firewall Form"}}),a("br")]),e._v(" "),a("p",[e._v("The security policy is loaded into the firewall using a SSH connection. Therefore, we need to have SSH access from the FWCloud server to the destination firewall. For this connection the IP address assigned to the interface configured in the firewall will be used.")]),e._v(" "),a("p",[e._v("If your firewall is outside your premises, just use SSH over a VPN connection. In the VPN section you can see how easy is to create a VPN infrastructure using FWCloud-UI.")]),e._v(" "),a("p",[e._v("The firewall settings can be modified at any moment by double clicking the firewall or by right click and selecting "),a("code",[e._v("Edit firewall")]),e._v(" from the context menu.")]),e._v(" "),a("p",[a("img",{attrs:{src:e.$withBase("/assets/img/edit_fw.png"),alt:"Edit Firewall"}}),a("br")]),e._v(" "),a("p",[e._v("By editing the firewall settings you can select which interface, and IP address FWCloud-UI will use to access the firewall.")]),e._v(" "),a("p",[a("img",{attrs:{src:e.$withBase("/assets/img/edit_fw-form-iptables.png"),alt:"Edit Firewall Form"}}),a("br")]),e._v(" "),a("h3",{attrs:{id:"new-cluster-of-firewalls"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#new-cluster-of-firewalls"}},[e._v("#")]),e._v(" New Cluster of Firewalls")]),e._v(" "),a("p",[e._v("To create a new cluster of firewalls just right click and select "),a("code",[e._v("New cluster")]),e._v(" from the context menu.")]),e._v(" "),a("p",[a("img",{attrs:{src:e.$withBase("/assets/img/new_cluster.png"),alt:"New Cluster"}}),a("br")]),e._v(" "),a("p",[e._v("Give a name to the cluster and add as many nodes as your cluster has and save the changes.")]),e._v(" "),a("p",[a("img",{attrs:{src:e.$withBase("/assets/img/new_cluster-form-iptables.png"),alt:"New Cluster Form"}}),a("br")]),e._v(" "),a("p",[e._v("The cluster settings can by modified at any name by double clicking on the cluster name or just right click and select "),a("code",[e._v("Edit")]),e._v(" from the context menu.")]),e._v(" "),a("p",[e._v("Also the setting of any of the nodes can be changed by double clicking over the node name.")]),e._v(" "),a("h3",{attrs:{id:"new-folder"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#new-folder"}},[e._v("#")]),e._v(" New Folder")]),e._v(" "),a("p",[e._v("For organizational purposes "),a("code",[e._v("Folders")]),e._v(" can be created. Inside them you can place your firewalls, clusters of firewalls and even more folders, just drag an drop.")]),e._v(" "),a("p",[e._v("Folders as many other elements in the FWCloud-UI can be collapsed of expanded to better focus in the parts you are working on.")]),e._v(" "),a("p",[e._v("You can rename or remove any folder. In order to remove a folder it has to be empty.")]),e._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[e._v("WARNING")]),e._v(" "),a("p",[e._v("In order to remove a folder it needs to be empty")])]),e._v(" "),a("h2",{attrs:{id:"firewall-interfaces"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#firewall-interfaces"}},[e._v("#")]),e._v(" Firewall Interfaces")]),e._v(" "),a("h3",{attrs:{id:"interfaces"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#interfaces"}},[e._v("#")]),e._v(" Interfaces")]),e._v(" "),a("p",[e._v("When configuring the firewall or firewalls cluster you have to set up its network interfaces.")]),e._v(" "),a("p",[e._v("You do not need to set up all interfaces, for simplicity you only need to define the ones that are going to be used by the firewall's policy. But in order to be able to install the policy in the firewall, at least one interface needs to be defined. The loopback interface is automatically defined when a new firewall is created. This can be used if FWCloud and the firewall you are configuring are going to be in the same device. To select which interface it will use edit the settings of the firewall. See "),a("RouterLink",{attrs:{to:"/docs/Sections/Firewalls/#new-firewall"}},[e._v(" Firewall ")]),e._v(".")],1),e._v(" "),a("p",[e._v("To add a new interface just right click over "),a("code",[e._v("Interfaces")]),e._v(" and select "),a("code",[e._v("New interface")]),e._v(".")]),e._v(" "),a("p",[a("img",{attrs:{src:e.$withBase("/assets/img/new_interface.png"),alt:"New Interface"}}),a("br")]),e._v(" "),a("p",[e._v("A form pops up, where you can set up the object name, that is the interface names like eth0 or ens1, a label, the MAC address and a comment. Only the interface name is mandatory. Since this name can be included in the policy please use the real name of your device, if not the policy rules affected will not do we they are intended to do.")]),e._v(" "),a("p",[a("img",{attrs:{src:e.$withBase("/assets/img/new_interface-form.png"),alt:"New Interface Form"}}),a("br")]),e._v(" "),a("div",{staticClass:"custom-block danger"},[a("p",{staticClass:"custom-block-title"},[e._v("The name of interface matters")]),e._v(" "),a("p",[e._v("The name of the interface can be used in some of yours security policy rules")])]),e._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("LABEL your interfaces")]),e._v(" "),a("p",[e._v("If you want something more informative than the name of the interface then use the label field. Example labels: WAN1, WAN2, DMZ, LAN1, LAN2, etc.")])]),e._v(" "),a("p",[e._v("In order to simplify this tedious process of firewall interfaces and IP addresses creation, FWCloud has a very powerful feature called "),a("RouterLink",{attrs:{to:"/docs/Sections/Firewalls/#autodiscover"}},[e._v(" Autodiscover ")]),e._v(". It makes possible to connect to the firewall by means of an SSH connection and automatically get and create in FWCloud all the interfaces and IP addresses that it has.")],1),e._v(" "),a("p",[e._v("Once interfaces are added, they can be edited, duplicated or deleted. Right click on the interface name to get the context menu.\nIn this menu there is also a convenient action called "),a("code",[e._v("Where use")]),e._v(". It will head you to the policy rules or objects that use the selected interface. It comes very handy to find a rule.")]),e._v(" "),a("p",[e._v("The interfaces can have configured IP addresses. They are set up by right clicking over the interface and selecting "),a("code",[e._v("New IP address")])]),e._v(" "),a("p",[a("img",{attrs:{src:e.$withBase("/assets/img/new_ip.png"),alt:"New IP Address"}}),a("br")]),e._v(" "),a("p",[a("img",{attrs:{src:e.$withBase("/assets/img/new_ip-form.png"),alt:"New IP Address Form"}}),a("br")]),e._v(" "),a("h3",{attrs:{id:"autodiscover"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#autodiscover"}},[e._v("#")]),e._v(" Autodiscover")]),e._v(" "),a("p",[e._v("FWCloud has a very handy utility for the automatic discovery of the interfaces and IP addresses a firewall actually has and transfer them into the FWCloud configuration. When your are doing the initial configuration it can save you a lot of time and more importantly it avoids any misspelling in the data.")]),e._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("New interfaces or IPs")]),e._v(" "),a("p",[e._v('You can use the "Autodiscover" feature every time you add new interfaces and/or IPs to your firewall/cluster as an easy way to incorporate them to FWCloud')])]),e._v(" "),a("p",[e._v("To access this utility double click on the firewall name and go to the "),a("code",[e._v("Interfaces/IPs")]),e._v(" tab in the pop up window.")]),e._v(" "),a("p",[a("img",{attrs:{src:e.$withBase("/assets/img/fw_edit-tab2.png"),alt:"Edit Firewall Tab 2"}}),a("br")]),e._v(" "),a("p",[e._v("Select the filters you want to apply and press "),a("code",[e._v("Discover")]),e._v(" button. On the left side the new items discovered according to the filters applied will appear in a tree-shaped representation.")]),e._v(" "),a("p",[a("img",{attrs:{src:e.$withBase("/assets/img/discover-form1.png"),alt:"Discover select"}}),a("br")]),e._v(" "),a("p",[e._v("If you hover the mouse over an interface name, a pencil icon "),a("img",{attrs:{src:e.$withBase("/assets/img/pencil.png"),alt:"pencil"}}),e._v(" appears, if you click on it you can modify the properties of the interface or the IP address.")]),e._v(" "),a("p",[e._v("It is possible too form this section to select the IP that will be used for firewall management. If you are in a cluster, you will be able to select the install IP for each cluster's node.")]),e._v(" "),a("p",[e._v('In the "Autodiscover" tree select the items that you want to incorporate in your FWCloud firewall and, when you press the '),a("code",[e._v("Save changes")]),e._v(" button, all the changes will be applied to the firewall/cluster you are editing.")]),e._v(" "),a("p",[a("img",{attrs:{src:e.$withBase("/assets/img/discover-form2.png"),alt:"Discover selected"}}),a("br")]),e._v(" "),a("p",[e._v("A new windows will show a summary of the actions done and the new interfaces and IP addresses are now part of your firewall configuration. You can edit them or do all the actions interfaces allows.")]),e._v(" "),a("p",[a("img",{attrs:{src:e.$withBase("/assets/img/discover-summary.png"),alt:"Discover summary"}}),a("br")]),e._v(" "),a("p",[e._v('Let\'s now see the "Autodiscover" utility in action:')]),e._v(" "),a("iframe",{attrs:{width:"740",height:"475",src:"https://www.youtube.com/embed/9HWP_wJl1Oc",frameborder:"0",allow:"autoplay; encrypted-media",allowfullscreen:""}}),e._v(" "),a("p",[e._v("As we have explained this utility is quite useful using it on firewall clusters:")]),e._v(" "),a("iframe",{attrs:{width:"740",height:"475",src:"https://www.youtube.com/embed/R5hlAar0d-8",frameborder:"0",allow:"autoplay; encrypted-media",allowfullscreen:""}}),e._v(" "),a("h2",{attrs:{id:"compile"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#compile"}},[e._v("#")]),e._v(" Compile")]),e._v(" "),a("h3",{attrs:{id:"compile-one-firewall"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#compile-one-firewall"}},[e._v("#")]),e._v(" Compile One Firewall")]),e._v(" "),a("p",[e._v("The policy rules of the firewall need to be compiled prior to be installed into the firewall. That is, we are managing the firewall policy offline and, when ready, we can upload it to the corresponding firewall or firewalls cluster nodes.")]),e._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("Icons")]),e._v(" "),a("p",[e._v("An orange "),a("img",{attrs:{src:e.$withBase("/assets/img/C.png"),alt:"C"}}),e._v(" at the left of the firewall's name indicates that the firewall policy needs to be compiled")])]),e._v(" "),a("p",[e._v("This action will generate all IPTables/NFTables rules and chains needed by the policy specified graphically in the policy panel.")]),e._v(" "),a("p",[a("img",{attrs:{src:e.$withBase("/assets/img/compile_fw.png"),alt:"Compile Firewall"}}),a("br")]),e._v(" "),a("p",[e._v(", and hit next")]),e._v(" "),a("p",[a("img",{attrs:{src:e.$withBase("/assets/img/compile_fw-form.png"),alt:"Compile Firewall Form"}}),a("br")]),e._v(" "),a("p",[e._v("If no problems occur a green message will show the success.")]),e._v(" "),a("p",[a("img",{attrs:{src:e.$withBase("/assets/img/compiled_ok.png"),alt:"Successfully Compiled"}}),a("br")]),e._v(" "),a("h3",{attrs:{id:"compile-a-firewall-cluster"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#compile-a-firewall-cluster"}},[e._v("#")]),e._v(" Compile a Firewall Cluster")]),e._v(" "),a("p",[e._v("If we have a firewall cluster, we do not need to compile the rules for the nodes individually, the rules will be compiled once and installed on all nodes in the cluster.")]),e._v(" "),a("p",[a("img",{attrs:{src:e.$withBase("/assets/img/compile_cluster-form.png"),alt:"Compile Cluster Form"}}),a("br")]),e._v(" "),a("h3",{attrs:{id:"compile-all-firewalls"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#compile-all-firewalls"}},[e._v("#")]),e._v(" Compile All Firewalls")]),e._v(" "),a("p",[e._v("Instead of compiling all firewalls one by one we can save time and do it all together.")]),e._v(" "),a("p",[e._v("From the menu option all firewalls and clusters within the managed cloud can be compiled.")]),e._v(" "),a("p",[a("img",{attrs:{src:e.$withBase("/assets/img/compile_all.png"),alt:"Compile All"}}),a("br")]),e._v(" "),a("p",[e._v(", or using the upper button")]),e._v(" "),a("p",[a("img",{attrs:{src:e.$withBase("/assets/img/compile_all-btn.png"),alt:"Compile All bnt"}}),a("br")]),e._v(" "),a("p",[e._v("We will be presente a form where we can select the firewalls and clustes we want to compile")]),e._v(" "),a("p",[a("img",{attrs:{src:e.$withBase("/assets/img/compile_all_fws-form.png"),alt:"Compile All Firewalls Form"}}),a("br")]),e._v(" "),a("p",[e._v("and proceed with the compilation")]),e._v(" "),a("p",[a("img",{attrs:{src:e.$withBase("/assets/img/compiled_all_ok.png"),alt:"Successfully Compiled All"}}),a("br")]),e._v(" "),a("p",[e._v("See also "),a("RouterLink",{attrs:{to:"/docs/Sections/Firewalls/#compile-one-firewall"}},[e._v(" Compile One Firewall ")]),e._v(" section")],1),e._v(" "),a("h2",{attrs:{id:"install"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#install"}},[e._v("#")]),e._v(" Install")]),e._v(" "),a("h3",{attrs:{id:"install-firewall"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#install-firewall"}},[e._v("#")]),e._v(" Install Firewall")]),e._v(" "),a("p",[e._v("The security policy you have defined in FWCloud-UI needs to be installed in the firewall (or nodes that make up a firewalls cluster).")]),e._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("Icons")]),e._v(" "),a("p",[e._v("An orange "),a("img",{attrs:{src:e.$withBase("/assets/img/I.png"),alt:"I"}}),e._v(" at the left side of the firewall's name indicates there are changes in the policy pending to be installed")])]),e._v(" "),a("p",[a("img",{attrs:{src:e.$withBase("/assets/img/install_fw.png"),alt:"Install Firewall"}}),a("br")]),e._v(" "),a("p",[e._v("Previously to install it you need to compile the policy. This can be done by selecting Compile option in the firewall menu or directly when installing by marking the square box "),a("code",[e._v("Compile")]),e._v(". If the firewall requires policy compilation the checkbox will be checked automatically.")]),e._v(" "),a("p",[a("img",{attrs:{src:e.$withBase("/assets/img/install_fw-form.png"),alt:"Install Firewall Form"}}),a("br")]),e._v(" "),a("p",[e._v("FWCloud will install the policy compilation script in the destination firewall by means of SSH and using the IP address you have setup in the Firewall configuration. This address can be modified editing the firewall settings.")]),e._v(" "),a("p",[e._v("If no interface is set, the firewall will not be reachable and you will get an error.")]),e._v(" "),a("p",[a("img",{attrs:{src:e.$withBase("/assets/img/error_no_interfaces.png"),alt:"Error No Interfaces"}}),a("br")]),e._v(" "),a("p",[e._v("Before the installation begins you will be asked to supply the SSH username and the password if not saved in the firewall's configuration. For security reasons we recommend not to save it.")]),e._v(" "),a("p",[e._v("Once done you can see the result of the installation processes")]),e._v(" "),a("p",[a("img",{attrs:{src:e.$withBase("/assets/img/installed-ok.png"),alt:"Successfully Installed"}}),a("br")]),e._v(" "),a("h3",{attrs:{id:"install-a-firewall-cluster"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#install-a-firewall-cluster"}},[e._v("#")]),e._v(" Install a Firewall Cluster")]),e._v(" "),a("p",[e._v("If we have a firewall cluster, we do not need to install the rules for the nodes individually, the rules will be compiled once and installed on all nodes in the cluster.")]),e._v(" "),a("p",[a("img",{attrs:{src:e.$withBase("/assets/img/install_cluster-form.png"),alt:"Install Cluster Form"}}),a("br")]),e._v(" "),a("h3",{attrs:{id:"install-all-fws"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#install-all-fws"}},[e._v("#")]),e._v(" Install All FWs")]),e._v(" "),a("p",[e._v("Instead of installing all firewalls one by one you can save time and do it all together.")]),e._v(" "),a("p",[e._v("From the menu option all firewalls and clusters within the managed cloud can be installed.")]),e._v(" "),a("p",[a("img",{attrs:{src:e.$withBase("/assets/img/install_all.png"),alt:"Install All"}}),a("br")]),e._v(" "),a("p",[e._v(", or using the upper button")]),e._v(" "),a("p",[a("img",{attrs:{src:e.$withBase("/assets/img/install_all-btn.png"),alt:"Install All bnt"}}),a("br")]),e._v(" "),a("p",[e._v("You can select which firewalls or cluster of firewalls you want to intall")]),e._v(" "),a("p",[a("img",{attrs:{src:e.$withBase("/assets/img/install_all-form.png"),alt:"All Install Form"}}),a("br")]),e._v(" "),a("p",[e._v("The SSH username and the password of all firewalls will be asked if they are not saved in the firewall's configuration. For security reasons we recommend to not save them.")]),e._v(" "),a("p",[e._v("You can review the result of the installation processes")]),e._v(" "),a("p",[a("img",{attrs:{src:e.$withBase("/assets/img/install_all-ok.png"),alt:"All Successfully Installed"}}),a("br")]),e._v(" "),a("p",[e._v("See also "),a("RouterLink",{attrs:{to:"/docs/Sections/Firewalls/#install-firewall"}},[e._v(" How to install the policy of a Firewall ")]),e._v(" section")],1),e._v(" "),a("h2",{attrs:{id:"others-actions"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#others-actions"}},[e._v("#")]),e._v(" Others actions")]),e._v(" "),a("h3",{attrs:{id:"edit-firewall"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#edit-firewall"}},[e._v("#")]),e._v(" Edit Firewall")]),e._v(" "),a("p",[e._v("You can edit the settings of the firewall by double clicking on the name of the firewall or right click on it and select "),a("code",[e._v("Edit firewall")]),e._v(".")]),e._v(" "),a("p",[a("img",{attrs:{src:e.$withBase("/assets/img/edit_fw.png"),alt:"Edit Firewall"}}),a("br")]),e._v(" "),a("p",[e._v('A new window with three tabs pops up. The first tab is named "Configuration". Here you can change the name of your firewall, add a description and choose the compiler is going to be used to generate the security policy. Currently you can choose among the two most popular formats in Linux distributions, the IPTables and NFTables formats.\nAlso you can change the username and the password used to access the firewall when installing the policy or the VPN configurations. Next to this field you have the '),a("code",[e._v("Discover interfaces")]),e._v(" button. You can use it to discover the interfaces and IP addresses the firewall has. FWCloud-UI will connect to the firewall using SHH and it will take you to the next tab showing the network information obtained. And finally in this tab you can select the interface, IP address and port to reach to the firewall.")]),e._v(" "),a("p",[a("img",{attrs:{src:e.$withBase("/assets/img/fw_edit-tab1.png"),alt:"Edit Firewall Tab 1]"}}),a("br")]),e._v(" "),a("p",[e._v('In the second tab, named "Interfaces/IPs", you can see a tree with all the network interfaces and IP addresses of the firewall or cluster of firewalls. If the firewall is being configured now it will only show the loopback interface until you perform a discover or manually add more interfaces. When hovering the mouse over an interface name, a pencil icon '),a("img",{attrs:{src:e.$withBase("/assets/img/pencil.png"),alt:"pencil"}}),e._v(" appears, if you click on it you can modify the properties of the interface or the IP address. In this tab there is also a handy utility to discover the the interfaces and IP addresses that actually your firewall has and copy them into the firewall configuration in FWCloud-UI. See "),a("RouterLink",{attrs:{to:"/docs/Sections/Firewalls/#autodiscover"}},[e._v(" Autodiscover ")]),e._v(" section upper in this help.")],1),e._v(" "),a("p",[a("img",{attrs:{src:e.$withBase("/assets/img/fw_edit-tab2.png"),alt:"Edit Firewall Tab 2"}}),a("br")]),e._v(" "),a("p",[e._v('In the third tab, "Options" you can set up several firewall options.')]),e._v(" "),a("p",[a("img",{attrs:{src:e.$withBase("/assets/img/fw_edit-tab3.png"),alt:"Edit Firewall Tab 3"}}),a("br")]),e._v(" "),a("p",[e._v("You can decide if you want a stateless or a stateful firewall. A stateful firewall is able to tract the state of the connections, so you can use the conntrack module and the ctsstate option in the secure policy rules. By default when a new firewall is created in FWCloud-UI the option "),a("code",[e._v("Stateful firewall")]),e._v(" is set and the traffic belonging to  established and related connections is allowed by the security policy. This option can also be set at rule level, visit "),a("RouterLink",{attrs:{to:"/docs/Sections/Policy/#edit-rule"}},[e._v("Edit rule")]),e._v(" section.")],1),e._v(" "),a("p",[e._v("Also you can enable or disable the firewall to forward traffic from one interface to another. By default it is enabled for IP version 4 and disabled for IP version 6.")]),e._v(" "),a("p",[e._v("If you are having problems installing the security policy on the firewall checking the option "),a("code",[e._v("Activate debugging on policy script")]),e._v(" is helpful for troubleshooting. The code executed and the output of the policy installation script will be displayed.")]),e._v(" "),a("p",[a("img",{attrs:{src:e.$withBase("/assets/img/fw_install-x.png"),alt:"Installation debug"}}),a("br")]),e._v(" "),a("p",[e._v("With "),a("code",[e._v("Activate logging in all rules")]),e._v(' option the traffic of the packets that match the rules of the policy are registered in the syslog file of the firewall. Also a limit of 60 packets per minute is established. The record is prefixed with "RULE ID xxx" where xxx is the number of the rule that is being hit. Logging packets only for an particular rule is also possible, visit '),a("RouterLink",{attrs:{to:"/docs/Sections/Policy/#edit-rule"}},[e._v("Edit rule")]),e._v(" section.")],1),e._v(" "),a("h3",{attrs:{id:"edit-a-cluster-of-firewalls"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#edit-a-cluster-of-firewalls"}},[e._v("#")]),e._v(" Edit a Cluster of Firewalls")]),e._v(" "),a("p",[e._v("You can edit the settings of a cluster of firewalls, like name, description or compiler by double clicking on the name of the cluster or right click on it and select "),a("code",[e._v("Edit")]),e._v(".")]),e._v(" "),a("p",[e._v('A new window with three tabs pops up. Note that now in the "Configuration" tab you can see the nodes that make up the cluster. Here you can change their names, the credentials to access them, and their interfaces, IP addresses and ports. Also you can completely remove a node by pressing the '),a("img",{attrs:{src:e.$withBase("/assets/img/minus.png"),alt:"-"}}),e._v(" button, or add more nodes by pressing the "),a("img",{attrs:{src:e.$withBase("/assets/img/plus.png"),alt:"+"}}),e._v(" button.")]),e._v(" "),a("p",[a("img",{attrs:{src:e.$withBase("/assets/img/edit_cluster-tab1-nftables.png"),alt:"Edit Firewall Cluster Tab 1"}}),a("br")]),e._v(" "),a("p",[e._v("The interfaces of the nodes can be discovered by pressing the "),a("img",{attrs:{src:e.$withBase("/assets/img/mag.glass.png"),alt:"Magnifying glass"}}),e._v(" button")]),e._v(" "),a("p",[e._v('In the second tab, named "Interfaces/IPs", you can see a tree with all network interfaces and associated IP addresses. You can edit and modify them quite similar as we have seen previously when editing a firewall.')]),e._v(" "),a("p",[a("img",{attrs:{src:e.$withBase("/assets/img/edit_cluster-tab2.png"),alt:"Edit Firewall Clustert Tab 2"}}),a("br")]),e._v(" "),a("p",[e._v("However the difference here is that when you press "),a("code",[e._v("Discover")]),e._v(" button a new form is presented in order to select from which node of the cluster members you want to perform the discover")]),e._v(" "),a("p",[a("img",{attrs:{src:e.$withBase("/assets/img/select_node.png"),alt:"Select Clustert Member"}}),a("br")]),e._v(" "),a("p",[e._v('In the third tab, "Options", you have the same options you have for individual firewalls explained before.')]),e._v(" "),a("h3",{attrs:{id:"clone-firewall"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#clone-firewall"}},[e._v("#")]),e._v(" Clone Firewall")]),e._v(" "),a("p",[e._v("If you are going to install a new firewall and it will have several similar characteristics and features to another one, you can make a clone of the actual firewall and configure the different parts to fit your new firewall.")]),e._v(" "),a("p",[a("img",{attrs:{src:e.$withBase("/assets/img/fw_clone.png"),alt:"Clone Firewall"}}),a("br")]),e._v(" "),a("p",[e._v("This will ask you to name the new firewall and will create a copy.")]),e._v(" "),a("p",[a("img",{attrs:{src:e.$withBase("/assets/img/fw_clone-form.png"),alt:"Clone Firewall Form"}}),a("br")]),e._v(" "),a("h3",{attrs:{id:"convert-to-cluster"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#convert-to-cluster"}},[e._v("#")]),e._v(" Convert to Cluster")]),e._v(" "),a("p",[e._v("In order to have HA you can a have a cluster of firewalls. In FWCloud-UI you will manage the policy rules and the VPN connections for the cluster, although you can set specific rules that only affect to particular node of the cluster. If you have been using a firewall in FWCloud and now it belongs to a cluster you can convert it into a single node cluster.")]),e._v(" "),a("p",[a("img",{attrs:{src:e.$withBase("/assets/img/fw_convert.png"),alt:"Convert to Cluster"}}),a("br")]),e._v(" "),a("p",[e._v("You will need to confirm the action.")]),e._v(" "),a("p",[a("img",{attrs:{src:e.$withBase("/assets/img/fw_convert-form.png"),alt:"Convert to Cluster Confirmation"}}),a("br")]),e._v(" "),a("p",[e._v("It will be converted into a cluster of firewalls with only one node. You can edit the properties of the cluster and add the rest of nodes.")]),e._v(" "),a("p",[e._v("Also a cluster of firewalls can be converted into a firewall if needed.")]),e._v(" "),a("h3",{attrs:{id:"delete-cluster"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#delete-cluster"}},[e._v("#")]),e._v(" Delete Cluster")]),e._v(" "),a("p",[e._v("You can remove a cluster of firewalls from FWCloud-UI by means of the corresponding menu option.")]),e._v(" "),a("p",[a("img",{attrs:{src:e.$withBase("/assets/img/delete_cluster.png"),alt:"Delete Firewall"}}),a("br")]),e._v(" "),a("p",[e._v("It requires confirmation.")]),e._v(" "),a("p",[a("img",{attrs:{src:e.$withBase("/assets/img/delete_cluster-form.png"),alt:"Delete Firewall Form"}}),a("br")]),e._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[e._v("WARNING")]),e._v(" "),a("p",[e._v("If any of the cluster objects (interfaces, IPs, VPNs, etc.) are in use by other firewalls/clusters policy, it will not be possible to remove it and an error message will be displayed")])]),e._v(" "),a("h3",{attrs:{id:"delete-firewall"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#delete-firewall"}},[e._v("#")]),e._v(" Delete Firewall")]),e._v(" "),a("p",[e._v("You can remove a firewall from FWCloud-UI from the contextual menu.")]),e._v(" "),a("p",[a("img",{attrs:{src:e.$withBase("/assets/img/delete_fw.png"),alt:"Delete Firewall"}}),a("br")]),e._v(" "),a("p",[e._v("It requires confirmation.")]),e._v(" "),a("p",[a("img",{attrs:{src:e.$withBase("/assets/img/delete_fw-form.png"),alt:"Delete Firewall Form"}}),a("br")]),e._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[e._v("WARNING")]),e._v(" "),a("p",[e._v("If any of the cluster objects (interfaces, IPs, VPNs, etc.) are in use by other firewalls/clusters policy, it will not be possible to remove it and an error message will be displayed")])]),e._v(" "),a("h2",{attrs:{id:"import-export"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#import-export"}},[e._v("#")]),e._v(" Import / Export")]),e._v(" "),a("h3",{attrs:{id:"import-wizard"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#import-wizard"}},[e._v("#")]),e._v(" Import wizard")]),e._v(" "),a("p",[e._v("FWCloud-UI allows importing the secure policy from other firewalls platforms based in Netfilter/iptables. The recommended way to import a firewall is using the "),a("code",[e._v("Import wizard")]),e._v(".")]),e._v(" "),a("p",[e._v('You can invoke this wizard from the contextual menu of "Firewalls/cluster"')]),e._v(" "),a("p",[a("img",{attrs:{src:e.$withBase("/assets/img/import_wizard-menu.png"),alt:"Import Wizard Menu"}}),a("br")]),e._v(" "),a("p",[e._v("or pressing the upper button "),a("code",[e._v("Import wizard")])]),e._v(" "),a("p",[a("img",{attrs:{src:e.$withBase("/assets/img/import_wizard-button.png"),alt:"Import Wizard Button"}}),a("br")]),e._v(" "),a("p",[e._v("This wizard will guide you to all the necessary steps to create a new firewall or cluster of firewall importing the policy from another firewall or cluster, but also importing the necessary objects to FWCloud-UI infrastructure.\nIt will connect to the firewall to be imported using SSH. It is necessary that FWCloud-UI can have root access to the firewall.")]),e._v(" "),a("p",[a("img",{attrs:{src:e.$withBase("/assets/img/import_wizard-1.png"),alt:"Import Wizard Step 1"}}),a("br")]),e._v(" "),a("p",[e._v("You need to specify if you are importing from a firewall or from a cluster of firewalls, and write the name of the new firewall or cluster")]),e._v(" "),a("p",[a("img",{attrs:{src:e.$withBase("/assets/img/import_wizard-2-fw.png"),alt:"Import Wizard Step 2 FW"}}),a("br"),e._v(" "),a("br")]),e._v(" "),a("p",[e._v("If you are importing from a cluster, you also have to provide the name for any of the nodes of the cluster. The master node name is required. You can add as many nodes as your cluster have pressing the "),a("img",{attrs:{src:e.$withBase("/assets/img/plus.png"),alt:"Add node"}}),e._v(" button. After adding a node if you want to remove just press the "),a("img",{attrs:{src:e.$withBase("/assets/img/minus.png"),alt:"Remove node"}}),e._v(" button next to its name.")]),e._v(" "),a("p",[a("img",{attrs:{src:e.$withBase("/assets/img/import_wizard-2-cluster.png"),alt:"Import Wizard Step 2 cluster"}}),a("br")]),e._v(" "),a("p",[e._v("Next you have to provide the IP address, the username and the password to access the firewall you are importing from. If you are importing from a cluster you need to provide the address and the credentials for each node.\nRemember the user needs to be able to execute privileged commands in the remote firewall to collect the necessary information. And press "),a("code",[e._v("Discover interfaces")]),e._v(" button.")]),e._v(" "),a("p",[a("img",{attrs:{src:e.$withBase("/assets/img/import_wizard-3.png"),alt:"Import Wizard Step 3"}}),a("br")]),e._v(" "),a("p",[e._v("FWClouds connects to the remote device and gets the name, the MAC and IP address (for IP version 4 and version 6) for each interface it has. By doing this FWCloud-UI is able to create the new interfaces in the new firewall we are creating and use them in the policy rules. You are presented a form with the collected information and you can select with interfaces and IP addresses you want to be included in the new firewall. For more information about this process review "),a("RouterLink",{attrs:{to:"/docs/Sections/Firewalls/#autodiscover"}},[e._v(" Autodiscover ")]),e._v(" section upper in this manual.")],1),e._v(" "),a("p",[a("img",{attrs:{src:e.$withBase("/assets/img/import_wizard-3-autodiscover.png"),alt:"Import Wizard Step 3 Autodiscover"}}),a("br")]),e._v(" "),a("p",[e._v("Next you need to confirm the action. If you do the wizard will proceed and you can no go back in the wizard or cancel the action, although onces finished you always can delete the new created firewall or cluster if you regret of the import.")]),e._v(" "),a("p",[a("img",{attrs:{src:e.$withBase("/assets/img/import_wizard-3-confirm.png"),alt:"Import Wizard Step 3 Confirmation"}}),a("br")]),e._v(" "),a("p",[e._v("The next step is a summary of the import and a warning that the security policy should always be reviewed before installing it, as this is an automatic process.")]),e._v(" "),a("p",[a("img",{attrs:{src:e.$withBase("/assets/img/import_wizard-4.png"),alt:"Import Wizard Step 4"}}),a("br")]),e._v(" "),a("p",[e._v("If no problems occurs during the process the final form is displayed")]),e._v(" "),a("p",[a("img",{attrs:{src:e.$withBase("/assets/img/import_wizard-5.png"),alt:"Import Wizard Step 5"}}),a("br")]),e._v(" "),a("p",[e._v("If you have imported from a firewall or cluster of firewalls created using FWCloud-UI all the visual features that FWCloud-UI has, like the background color of the rules or the grouping of rules, will also be included in the new firewall or cluster.")]),e._v(" "),a("p",[e._v("In the next video you can see all these concepts about Import wizard when importing a firewall:")]),e._v(" "),a("iframe",{attrs:{width:"740",height:"475",src:"https://www.youtube.com/embed/FpnKTOOZdgA",frameborder:"0",allow:"autoplay; encrypted-media",allowfullscreen:""}}),e._v(" "),a("p",[e._v("Now we show another example of using this wizard but this time we are going to import a firewall cluster:")]),e._v(" "),a("iframe",{attrs:{width:"740",height:"475",src:"https://www.youtube.com/embed/ZIwnvM5uVoc",frameborder:"0",allow:"autoplay; encrypted-media",allowfullscreen:""}}),e._v(" "),a("h3",{attrs:{id:"iptables-save-import"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#iptables-save-import"}},[e._v("#")]),e._v(" IPTables-save import")]),e._v(" "),a("p",[e._v("If you now what you are doing you can import the firewall manually. In this case create first the new firewall or cluster and then select "),a("code",[e._v("iptables-save import")]),e._v(" from its contextual menu.")]),e._v(" "),a("p",[e._v("You will be presented a form with options to choose the way to import. This form changes dynamically according to the options you go for.")]),e._v(" "),a("p",[e._v("You can paste the output of the command iptables-save command executed in the remote devices. This is useful if you do not have access from the FWCloud-UI computer to the remote firewall.")]),e._v(" "),a("p",[a("img",{attrs:{src:e.$withBase("/assets/img/iptables_save-import-form-paste.png"),alt:"IPTables-save import form 1"}}),a("br")]),e._v(" "),a("p",[e._v("You can upload a file you get as a result of a previous export.")]),e._v(" "),a("p",[a("img",{attrs:{src:e.$withBase("/assets/img/iptables_save-import-form-upload.png"),alt:"IPTables-save import form 2"}}),a("br")]),e._v(" "),a("p",[e._v('And you can make FWCloud to connect to the remote devices as it was in the case of the use of the "Import wizard"')]),e._v(" "),a("p",[a("img",{attrs:{src:e.$withBase("/assets/img/iptables_save-import-form-connect.png"),alt:"IPTables-save import form 3"}}),a("br")]),e._v(" "),a("p",[e._v("In all three cases you need to agree the warning that the current security policy of the firewall or cluster is going to be replaced by the new one.")]),e._v(" "),a("h3",{attrs:{id:"iptables-save-export"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#iptables-save-export"}},[e._v("#")]),e._v(" IPTables-save export")]),e._v(" "),a("p",[e._v("The entire secure policy can be exported. From the contextual menu of the firewall select "),a("code",[e._v("Iptables-save export")]),e._v(" and provide the IP address and credential of the firewall you want to export")]),e._v(" "),a("p",[a("img",{attrs:{src:e.$withBase("/assets/img/iptables_save-export-form.png"),alt:"IPTables-save export form"}}),a("br")]),e._v(" "),a("p",[e._v("You can copy the result to the clipboard in order to quick import it in another FWCloud firewall or download it to a file to save it in a secure place and used later on.")]),e._v(" "),a("p",[a("img",{attrs:{src:e.$withBase("/assets/img/iptables_save-export-result.png"),alt:"IPTables-save export result"}}),a("br")]),e._v(" "),a("p",[e._v("When exporting from FWCloud-UI the visual features are also included, but the generated file can also be used in any iptables-save format compatible firewall.")])])}),[],!1,null,null,null);t.default=i.exports}}]);